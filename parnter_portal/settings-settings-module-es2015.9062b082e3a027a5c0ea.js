(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"7wo0":function(e,n,t){"use strict";t.r(n),t.d(n,"SettingsModule",function(){return tn});var i=t("KZX/"),o=t("ofXK"),a=t("tyNb"),l=t("qQcL"),r=t("b1TM"),s=t("AytR"),c=t("WoUL"),d=t("0aW0"),u=t("tk/3"),p=t("pLZG"),b=t("1G5W"),g=t("nLCl"),h=t("NFKh");class f{constructor(){this.directMailEnabled=!1}}var E=t("igu/"),v=t("fXoL"),C=t("bNXi"),m=t("B+r4"),S=t("eHCX"),A=t("D9mS"),T=t("glKu"),M=t("nJia"),_=t("PTRe"),I=t("3Pt+"),D=t("TaO5"),N=t("+Tzo"),z=t("Nqz0"),L=t("Q8cG"),P=t("zAKX"),O=t("5vDB"),y=t("C2AL");let X=(()=>{class e{transform(e,n,t){return null==e?void 0:e.replace(n,t)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=v.Qb({name:"keyValueUpdate",type:e,pure:!0}),e})();function R(e,n){if(1&e&&v.Sb(0,"app-icons",19),2&e){v.ic();const e=v.Ic(5);v.rc("nzDropdownMenu",e)}}function W(e,n){if(1&e){const e=v.Yb();v.Xb(0,"li",20),v.ec("click",function(){v.Lc(e);const t=n.$implicit;return v.ic().addNewTypeConfig(t)}),v.Xb(1,"a"),v.Xc(2),v.jc(3,"titlecase"),v.jc(4,"keyValueUpdate"),v.Wb(),v.Wb()}if(2&e){const e=n.$implicit;v.Db(2),v.Yc(v.kc(3,1,v.mc(4,3,e,"_"," ")))}}function w(e,n){if(1&e&&v.Sb(0,"nz-option",30),2&e){const e=n.$implicit;v.rc("nzLabel",e)("nzValue",e)}}const x=function(){return[16,16]};function V(e,n){if(1&e){const e=v.Yb();v.Vb(0),v.Xb(1,"h4"),v.Xb(2,"strong"),v.Xc(3),v.jc(4,"titlecase"),v.jc(5,"keyValueUpdate"),v.Wb(),v.Xc(6," \xa0 "),v.Xb(7,"app-icons",21),v.ec("click",function(){v.Lc(e);const t=n.$implicit;return v.ic().deleteTypeConfig(t.key)}),v.Wb(),v.Wb(),v.Xb(8,"span"),v.Xb(9,"label",22),v.ec("ngModelChange",function(e){return n.$implicit.value.default=e})("ngModelChange",function(){v.Lc(e);const t=n.$implicit;return v.ic().clearDefault(null==t?null:t.key)}),v.Xc(10," Mark as default "),v.Wb(),v.Wb(),v.Sb(11,"br"),v.Xb(12,"div",5),v.Xb(13,"div",23),v.Xb(14,"label",7),v.Xc(15," Destinations "),v.Wb(),v.Xb(16,"nz-select",24),v.ec("ngModelChange",function(e){return n.$implicit.value.destinations=e}),v.Vc(17,w,1,2,"nz-option",25),v.Wb(),v.Wb(),v.Xb(18,"div",26),v.Xb(19,"label",7),v.Xc(20," Source ID "),v.Wb(),v.Xb(21,"input",27),v.ec("ngModelChange",function(e){return n.$implicit.value.sourceId=e}),v.Wb(),v.Wb(),v.Xb(22,"div",26),v.Xb(23,"label",7),v.Xc(24," Facility Code "),v.Wb(),v.Xb(25,"input",28),v.ec("ngModelChange",function(e){return n.$implicit.value.facilityCode=e}),v.Wb(),v.Wb(),v.Xb(26,"div",26),v.Xb(27,"label",7),v.Xc(28," Event Type "),v.Wb(),v.Xb(29,"input",29),v.ec("ngModelChange",function(e){return n.$implicit.value.eventType=e}),v.Wb(),v.Wb(),v.Wb(),v.Sb(30,"nz-divider"),v.Ub()}if(2&e){const e=n.$implicit;v.Db(3),v.Yc(v.kc(4,8,v.mc(5,10,null==e?null:e.key,"_"," "))),v.Db(6),v.rc("ngModel",e.value.default),v.Db(3),v.rc("nzGutter",v.xc(14,x)),v.Db(4),v.rc("ngModel",e.value.destinations),v.Db(1),v.rc("ngForOf",e.value.destinations),v.Db(4),v.rc("ngModel",e.value.sourceId),v.Db(4),v.rc("ngModel",e.value.facilityCode),v.Db(4),v.rc("ngModel",e.value.eventType)}}function U(e,n){if(1&e){const e=v.Yb();v.Xb(0,"div",10),v.Xb(1,"label",7),v.Xc(2," Repeat Type "),v.Wb(),v.Xb(3,"nz-select",31),v.ec("ngModelChange",function(n){return v.Lc(e),v.ic().redoxConfig.observationConfig.pushFrequency.type=n}),v.Sb(4,"nz-option",12),v.Sb(5,"nz-option",12),v.Sb(6,"nz-option",12),v.Wb(),v.Wb()}if(2&e){const e=v.ic();v.Db(3),v.rc("ngModel",e.redoxConfig.observationConfig.pushFrequency.type),v.Db(1),v.rc("nzValue","DAILY")("nzLabel","Days"),v.Db(1),v.rc("nzValue","WEEKLY")("nzLabel","Weekly, On days"),v.Db(1),v.rc("nzValue","MONTHLY")("nzLabel","Monthly (End of Month)")}}function F(e,n){if(1&e){const e=v.Yb();v.Vb(0),v.Sb(1,"br"),v.Xb(2,"div",5),v.Xb(3,"div",32),v.Xb(4,"label",7),v.Xc(5," Repeats On "),v.Wb(),v.Sb(6,"br"),v.Sb(7,"br"),v.Xb(8,"nz-checkbox-group",33),v.ec("ngModelChange",function(n){return v.Lc(e),v.ic().observationToBePushedOnDays=n})("ngModelChange",function(){v.Lc(e);const n=v.ic();return n.setObservationToBePushedOnDays(n.observationToBePushedOnDays)}),v.Wb(),v.Wb(),v.Wb(),v.Ub()}if(2&e){const e=v.ic();v.Db(2),v.rc("nzGutter",v.xc(2,x)),v.Db(6),v.rc("ngModel",e.observationToBePushedOnDays)}}let G=(()=>{class e{constructor(e){this._titleCasePipe=e}set redoxConfigData(e){var n,t,i,o,a,l;this.redoxConfig=e,this.redoxMessageTypes=[],this.redoxMessageTypes=Object.keys(N.b),this.redoxMessageTypes=this.redoxMessageTypes.filter(n=>!(null==e?void 0:e.configs[n])),(null==e?void 0:e.observationConfig)||(e.observationConfig=new N.c),(null===(n=null==e?void 0:e.observationConfig)||void 0===n?void 0:n.pushFrequency)||(e.observationConfig.pushFrequency=new N.d),(null===(i=null===(t=null==e?void 0:e.observationConfig)||void 0===t?void 0:t.pushFrequency)||void 0===i?void 0:i.repeatOn)||(e.observationConfig.pushFrequency.repeatOn=new N.a),this.observationToBePushedOnDays=[],null===(l=Object.keys(null===(a=null===(o=null==e?void 0:e.observationConfig)||void 0===o?void 0:o.pushFrequency)||void 0===a?void 0:a.repeatOn))||void 0===l||l.forEach(n=>{var t,i;this.observationToBePushedOnDays.push({label:this._titleCasePipe.transform(n),value:n,checked:null===(i=null===(t=null==e?void 0:e.observationConfig)||void 0===t?void 0:t.pushFrequency)||void 0===i?void 0:i.repeatOn[n]})})}addNewTypeConfig(e){var n;this.redoxMessageTypes=this.redoxMessageTypes.filter(n=>n!==e),(null===(n=this.redoxConfig)||void 0===n?void 0:n.configs)||(this.redoxConfig.configs={}),this.redoxConfig.configs[e]={sourceId:"",destinations:[],facilityCode:"",eventType:""}}deleteTypeConfig(e){var n;this.redoxMessageTypes.push(e),null===(n=this.redoxConfig)||void 0===n||delete n.configs[e]}clearDefault(e){var n,t;null===(t=Object.keys(null===(n=this.redoxConfig)||void 0===n?void 0:n.configs))||void 0===t||t.forEach(n=>{e!==n&&(this.redoxConfig.configs[n].default=!1)})}setObservationToBePushedOnDays(e){e.forEach(e=>{this.redoxConfig.observationConfig.pushFrequency.repeatOn[e.value]=e.checked})}}return e.\u0275fac=function(n){return new(n||e)(v.Rb(o.A))},e.\u0275cmp=v.Lb({type:e,selectors:[["app-redox-config"]],inputs:{redoxConfigData:["redoxConfig","redoxConfigData"]},features:[v.Cb([o.A])],decls:52,vars:35,consts:[["nz-tooltip","","nzTooltipTitle","Add message type config","name","plusCircle","nz-dropdown","",3,"nzDropdownMenu",4,"ngIf"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","12"],[1,"settings-label"],["required","","nz-input","","placeholder","Enter authentication endpoint...",3,"ngModel","ngModelChange"],["required","","nz-input","","placeholder","Enter endpoint...",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","6"],["nzPlaceHolder","Select an Environment to point to",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel"],["required","","nz-input","","placeholder","Enter patient identifier...",3,"ngModel","ngModelChange"],["nzPlaceHolder","Select an EMR",3,"ngModel","ngModelChange"],["nzPlaceHolder","Select Push Method",3,"ngModel","ngModelChange"],[3,"nzDisabled","nzValue","nzLabel"],["nz-col","","nzSpan","6",4,"ngIf"],[4,"ngIf"],["nz-tooltip","","nzTooltipTitle","Add message type config","name","plusCircle","nz-dropdown","",3,"nzDropdownMenu"],["nz-menu-item","",3,"click"],["size","14px","nz-tooltip","","nzTooltipTitle","Remove message type config","name","closeCircle",3,"click"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","9"],["nzMode","tags","nzPlaceHolder","Enter destination ids...",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-col","","nzSpan","5"],["required","","nz-input","","placeholder","Enter source id...",3,"ngModel","ngModelChange"],["required","","nz-input","","placeholder","Enter facility code...",3,"ngModel","ngModelChange"],["required","","nz-input","","placeholder","Enter event type...",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue"],["nzPlaceHolder","Select Frequency",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","24"],[3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(v.Xb(0,"div"),v.Xb(1,"h3"),v.Xc(2," Redox Config \xa0 "),v.Vc(3,R,1,1,"app-icons",0),v.Xb(4,"nz-dropdown-menu",null,1),v.Xb(6,"ul",2),v.Vc(7,W,5,7,"li",3),v.Wb(),v.Wb(),v.Wb(),v.Vc(8,V,31,15,"ng-container",4),v.jc(9,"keyvalue"),v.Xb(10,"div",5),v.Xb(11,"div",6),v.Xb(12,"label",7),v.Xc(13," Authentication Endpoint "),v.Wb(),v.Xb(14,"input",8),v.ec("ngModelChange",function(e){return n.redoxConfig.authEndPoint=e}),v.Wb(),v.Wb(),v.Xb(15,"div",6),v.Xb(16,"label",7),v.Xc(17," Endpoint "),v.Wb(),v.Xb(18,"input",9),v.ec("ngModelChange",function(e){return n.redoxConfig.endPoint=e}),v.Wb(),v.Wb(),v.Wb(),v.Sb(19,"br"),v.Xb(20,"div",5),v.Xb(21,"div",10),v.Xb(22,"label",7),v.Xc(23," Points To Redox Environment "),v.Wb(),v.Xb(24,"nz-select",11),v.ec("ngModelChange",function(e){return n.redoxConfig.pointsToEnvironment=e}),v.Sb(25,"nz-option",12),v.Sb(26,"nz-option",12),v.Wb(),v.Wb(),v.Xb(27,"div",10),v.Xb(28,"label",7),v.Xc(29," Patient Identifer "),v.Wb(),v.Xb(30,"input",13),v.ec("ngModelChange",function(e){return n.redoxConfig.patientIdentifier=e}),v.Wb(),v.Wb(),v.Xb(31,"div",10),v.Xb(32,"label",7),v.Xc(33," EMR Type "),v.Wb(),v.Xb(34,"nz-select",14),v.ec("ngModelChange",function(e){return n.redoxConfig.emrType=e}),v.Sb(35,"nz-option",12),v.Sb(36,"nz-option",12),v.Wb(),v.Wb(),v.Wb(),v.Vb(37),v.Sb(38,"nz-divider"),v.Xb(39,"h4"),v.Xb(40,"strong"),v.Xc(41,"Observations Config"),v.Wb(),v.Wb(),v.Xb(42,"div",5),v.Xb(43,"div",10),v.Xb(44,"label",7),v.Xc(45," Push Method "),v.Wb(),v.Xb(46,"nz-select",15),v.ec("ngModelChange",function(e){return n.redoxConfig.observationConfig.pushMethod=e}),v.Sb(47,"nz-option",12),v.Sb(48,"nz-option",16),v.Sb(49,"nz-option",16),v.Wb(),v.Wb(),v.Vc(50,U,7,7,"div",17),v.Wb(),v.Vc(51,F,9,3,"ng-container",18),v.Ub(),v.Wb()),2&e&&(v.Db(3),v.rc("ngIf",null==n.redoxMessageTypes?null:n.redoxMessageTypes.length),v.Db(4),v.rc("ngForOf",n.redoxMessageTypes),v.Db(1),v.rc("ngForOf",v.kc(9,30,null==n.redoxConfig?null:n.redoxConfig.configs)),v.Db(2),v.rc("nzGutter",v.xc(32,x)),v.Db(4),v.rc("ngModel",n.redoxConfig.authEndPoint),v.Db(4),v.rc("ngModel",n.redoxConfig.endPoint),v.Db(2),v.rc("nzGutter",v.xc(33,x)),v.Db(4),v.rc("ngModel",n.redoxConfig.pointsToEnvironment),v.Db(1),v.rc("nzValue","prod")("nzLabel","Production"),v.Db(1),v.rc("nzValue","stage")("nzLabel","Staging"),v.Db(4),v.rc("ngModel",n.redoxConfig.patientIdentifier),v.Db(4),v.rc("ngModel",n.redoxConfig.emrType),v.Db(1),v.rc("nzValue","ATHENA")("nzLabel","Athena"),v.Db(1),v.rc("nzValue","EPIC")("nzLabel","Epic"),v.Db(6),v.rc("nzGutter",v.xc(34,x)),v.Db(4),v.rc("ngModel",n.redoxConfig.observationConfig.pushMethod),v.Db(1),v.rc("nzValue","MANUAL")("nzLabel","Manual"),v.Db(1),v.rc("nzDisabled",!0)("nzValue","SCHEDULED")("nzLabel","Scheduled"),v.Db(1),v.rc("nzDisabled",!0)("nzValue","ON_ARRIVAL")("nzLabel","On Arrival"),v.Db(1),v.rc("ngIf","SCHEDULED"===n.redoxConfig.observationConfig.pushMethod),v.Db(1),v.rc("ngIf","SCHEDULED"===n.redoxConfig.observationConfig.pushMethod&&"MONTHLY"!==n.redoxConfig.observationConfig.pushFrequency.type))},directives:[o.q,z.e,L.c,o.p,m.c,m.a,_.b,I.d,I.C,I.u,I.x,P.d,P.a,O.a,T.a,M.d,z.b,y.a,L.e,D.a,D.b],pipes:[o.j,o.A,X],styles:["h3[_ngcontent-%COMP%]{font:normal normal 700 15px/38px Nunito;letter-spacing:0;color:#0f2015}app-icons[_ngcontent-%COMP%]{vertical-align:sub}span[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]     .ant-checkbox-group-item{margin-right:30px}[_nghost-%COMP%]     .ant-checkbox{margin-left:20px}"]}),e})();var k=t("yW9e"),H=t("dRHE");function q(e,n){1&e&&(v.Xb(0,"label",27),v.Xc(1,"Required"),v.Wb())}function j(e,n){1&e&&(v.Xb(0,"label",27),v.Xc(1,"A valid email address looks like example@email.com"),v.Wb())}function B(e,n){1&e&&(v.Xb(0,"label",27),v.Xc(1,"A valid email address looks like example@email.com"),v.Wb())}function Y(e,n){1&e&&(v.Xb(0,"label",27),v.Xc(1,"Required"),v.Wb())}function $(e,n){1&e&&(v.Xb(0,"label",27),v.Xc(1),v.jc(2,"translate"),v.Wb()),2&e&&(v.Db(1),v.Zc(" ",v.kc(2,1,"VALIDATION.PHONE_NUMBER_ATLEAST_SIX_CHARS")," "))}function Z(e,n){1&e&&(v.Xb(0,"label",27),v.Xc(1),v.jc(2,"translate"),v.Wb()),2&e&&(v.Db(1),v.Zc(" ",v.kc(2,1,"VALIDATION.PHONE_NUMBER_MAX_SIXTEEN_CHARS")," "))}function K(e,n){1&e&&(v.Xb(0,"label",27),v.Xc(1),v.jc(2,"translate"),v.Wb()),2&e&&(v.Db(1),v.Yc(v.kc(2,1,"VALIDATION.PHONE_NUMBER_CONTAINS_INVALID_CHARS")))}function J(e,n){1&e&&(v.Xb(0,"label",27),v.Xc(1,"Required"),v.Wb())}function Q(e,n){1&e&&(v.Xb(0,"label",27),v.Xc(1,"A valid email address looks like example@email.com"),v.Wb())}function ee(e,n){if(1&e){const e=v.Yb();v.Vb(0),v.Xb(1,"h3"),v.Xc(2,"Appointment Settings"),v.Wb(),v.Xb(3,"div",3),v.Xb(4,"div",28),v.Xb(5,"label",29),v.ec("ngModelChange",function(n){return v.Lc(e),v.ic(2).tenantConfig.appointmentConfig.sendSMS=n}),v.Xc(6),v.jc(7,"translate"),v.Wb(),v.Wb(),v.Wb(),v.Ub()}if(2&e){const e=v.ic(2);v.Db(5),v.rc("disabled",!(null!=e.tenantConfig&&null!=e.tenantConfig.appointmentConfig&&e.tenantConfig.appointmentConfig.appointmentEnabled))("ngModel",e.tenantConfig.appointmentConfig.sendSMS),v.Db(1),v.Zc(" ",v.kc(7,3,"SETTINGS.APPOINTMENTSENDSMS")," ")}}function ne(e,n){if(1&e){const e=v.Yb();v.Vb(0),v.Xb(1,"app-redox-config",30),v.ec("redoxConfigChange",function(n){return v.Lc(e),v.ic(2).tenantConfig.redoxConfig=n}),v.Wb(),v.Ub()}if(2&e){const e=v.ic(2);v.Db(1),v.rc("redoxConfig",e.tenantConfig.redoxConfig)}}function te(e,n){1&e&&(v.Xb(0,"label",27),v.Xc(1,"Invalid color value!"),v.Wb())}const ie=function(e){return{"background-color":e}};function oe(e,n){if(1&e&&v.Sb(0,"span",35),2&e){const e=v.ic(3);v.rc("ngStyle",v.yc(1,ie,"#"+e.primaryColor))}}const ae=function(e){return{error:e}};function le(e,n){if(1&e){const e=v.Yb();v.Vb(0),v.Xb(1,"h3"),v.Xc(2,"Lob API Config"),v.Wb(),v.Xb(3,"div",11),v.Xb(4,"div",12),v.Xb(5,"label",13),v.Xc(6," Lob API Key "),v.Wb(),v.Xb(7,"input",31),v.ec("ngModelChange",function(n){return v.Lc(e),v.ic(2).lobApiKey=n}),v.Wb(),v.Wb(),v.Xb(8,"div",12),v.Xb(9,"label",13),v.Xc(10," Letter Primary Color "),v.Wb(),v.Xb(11,"nz-input-group",32),v.Xb(12,"input",33),v.ec("ngModelChange",function(n){return v.Lc(e),v.ic(2).primaryColor=n})("ngModelChange",function(n){return v.Lc(e),v.ic(2).onColorChange(n)}),v.Wb(),v.Wb(),v.Vc(13,te,2,0,"label",17),v.Vc(14,oe,1,3,"ng-template",null,34,v.Wc),v.Wb(),v.Wb(),v.Ub()}if(2&e){const e=v.Ic(15),n=v.ic(2);v.Db(7),v.rc("ngModel",n.lobApiKey),v.Db(4),v.rc("nzAddOnAfter",e),v.Db(1),v.rc("ngClass",v.yc(5,ae,n.colorError))("ngModel",n.primaryColor),v.Db(1),v.rc("ngIf",n.colorError)}}function re(e,n){if(1&e){const e=v.Yb();v.Xb(0,"div",2),v.Xb(1,"h3"),v.Xc(2,"Logo and Favicon"),v.Wb(),v.Xb(3,"div",3),v.Xb(4,"div",4),v.Xb(5,"label"),v.Xc(6,"Logo"),v.Wb(),v.Sb(7,"br"),v.Xb(8,"div",5),v.Xb(9,"div",6),v.Xb(10,"p",7),v.Xc(11," Any jpg, png can be uploaded in the dimension 100 x 200 "),v.Wb(),v.Wb(),v.Xb(12,"div",6),v.Xb(13,"nz-upload",8),v.ec("nzFileListChange",function(n){return v.Lc(e),v.ic().logoFileList=n}),v.Sb(14,"app-icons",9),v.Wb(),v.Wb(),v.Wb(),v.Wb(),v.Xb(15,"div",4),v.Xb(16,"label"),v.Xc(17,"Favicon"),v.Wb(),v.Sb(18,"br"),v.Xb(19,"div",5),v.Xb(20,"div",6),v.Xb(21,"p",7),v.Xc(22," Favicon is a small square image that represents a website in web browsers. "),v.Sb(23,"br"),v.Sb(24,"br"),v.Xc(25," Any jpg, png can be uploaded in the dimension 16 x 16 "),v.Wb(),v.Wb(),v.Xb(26,"div",6),v.Xb(27,"nz-upload",8),v.ec("nzFileListChange",function(n){return v.Lc(e),v.ic().faviconFileList=n}),v.Sb(28,"app-icons",9),v.Wb(),v.Wb(),v.Wb(),v.Wb(),v.Wb(),v.Sb(29,"br"),v.Sb(30,"br"),v.Xb(31,"h3"),v.Xc(32," Support Details "),v.Sb(33,"app-icons",10),v.Wb(),v.Xb(34,"div",11),v.Xb(35,"div",12),v.Xb(36,"label",13),v.Xc(37," Support Email * "),v.Sb(38,"app-icons",14),v.Wb(),v.Xb(39,"input",15,16),v.ec("ngModelChange",function(n){return v.Lc(e),v.ic().tenantConfig.tenantSupport.email=n}),v.Wb(),v.Vc(41,q,2,0,"label",17),v.Vc(42,j,2,0,"label",17),v.Wb(),v.Xb(43,"div",12),v.Xb(44,"label",13),v.Xc(45," Internal Email ID "),v.Sb(46,"app-icons",18),v.Wb(),v.Xb(47,"input",19,20),v.ec("ngModelChange",function(n){return v.Lc(e),v.ic().tenantConfig.tenantSupport.internalEmail=n}),v.Wb(),v.Vc(49,B,2,0,"label",17),v.Wb(),v.Xb(50,"div",12),v.Xb(51,"label",13),v.Xc(52," Phone Number * "),v.Sb(53,"app-icons",21),v.Wb(),v.Xb(54,"input",22,23),v.ec("ngModelChange",function(n){return v.Lc(e),v.ic().tenantConfig.tenantSupport.phoneNumber=n}),v.Wb(),v.Vc(56,Y,2,0,"label",17),v.Vc(57,$,3,3,"label",17),v.Vc(58,Z,3,3,"label",17),v.Vc(59,K,3,3,"label",17),v.Wb(),v.Xb(60,"div",12),v.Xb(61,"label",13),v.Xc(62," Billing Report Email * "),v.Sb(63,"app-icons",24),v.Wb(),v.Xb(64,"input",25,26),v.ec("ngModelChange",function(n){return v.Lc(e),v.ic().tenantConfig.tenantSupport.billingEmail=n}),v.Wb(),v.Vc(66,J,2,0,"label",17),v.Vc(67,Q,2,0,"label",17),v.Wb(),v.Wb(),v.Sb(68,"br"),v.Sb(69,"br"),v.Vc(70,ee,8,5,"ng-container",1),v.Sb(71,"br"),v.Sb(72,"br"),v.Vc(73,ne,2,1,"ng-container",1),v.Sb(74,"br"),v.Sb(75,"br"),v.Vc(76,le,16,7,"ng-container",1),v.Wb()}if(2&e){const e=v.Ic(40),n=v.Ic(48),t=v.Ic(55),i=v.Ic(65),o=v.ic();v.Db(13),v.rc("nzFileList",o.logoFileList)("nzShowButton",o.logoFileList.length<1)("nzShowUploadList",o.showUploadList)("nzPreview",o.handlePreview)("nzCustomRequest",o.handleLogoUpload),v.Db(14),v.rc("nzFileList",o.faviconFileList)("nzShowButton",o.faviconFileList.length<1)("nzShowUploadList",o.showUploadList)("nzPreview",o.handlePreview)("nzCustomRequest",o.handleFaviconUpload),v.Db(12),v.rc("ngModel",o.tenantConfig.tenantSupport.email)("ngClass",v.yc(30,ae,((null==e?null:e.dirty)||(null==e?null:e.touched))&&(null==e?null:e.invalid)&&(!(null==e||!e.errors.required)||!(null==e||!e.errors.pattern)))),v.Db(2),v.rc("ngIf",(null==e?null:e.invalid)&&((null==e?null:e.dirty)||(null==e?null:e.touched))&&(null==e?null:e.errors.required)),v.Db(1),v.rc("ngIf",(null==e?null:e.invalid)&&((null==e?null:e.dirty)||(null==e?null:e.touched))&&(null==e?null:e.errors.pattern)),v.Db(5),v.rc("ngModel",o.tenantConfig.tenantSupport.internalEmail)("ngClass",v.yc(32,ae,((null==n?null:n.dirty)||(null==n?null:n.touched))&&(null==n?null:n.invalid)&&!(null==n||!n.errors.pattern))),v.Db(2),v.rc("ngIf",(null==n?null:n.invalid)&&((null==n?null:n.dirty)||(null==n?null:n.touched))&&(null==n?null:n.errors.pattern)),v.Db(5),v.rc("ngModel",o.tenantConfig.tenantSupport.phoneNumber)("ngClass",v.yc(34,ae,((null==t?null:t.dirty)||(null==t?null:t.touched))&&(null==t?null:t.invalid)&&(!(null==t||!t.errors.required)||!(null==t||!t.errors.minlength)||!(null==t||!t.errors.maxlength)||!(null==t||!t.errors.pattern)))),v.Db(2),v.rc("ngIf",(null==t?null:t.invalid)&&((null==t?null:t.dirty)||(null==t?null:t.touched))&&(null==t?null:t.errors.required)),v.Db(1),v.rc("ngIf",(null==t?null:t.invalid)&&((null==t?null:t.dirty)||(null==t?null:t.touched))&&(null==t?null:t.errors.minlength)),v.Db(1),v.rc("ngIf",(null==t?null:t.invalid)&&((null==t?null:t.dirty)||(null==t?null:t.touched))&&(null==t?null:t.errors.maxlength)),v.Db(1),v.rc("ngIf",o.phoneFormatError||(null==t?null:t.invalid)&&((null==t?null:t.dirty)||(null==t?null:t.touched))&&(null==t?null:t.errors.pattern)),v.Db(5),v.rc("ngModel",o.tenantConfig.tenantSupport.billingEmail)("ngClass",v.yc(36,ae,((null==i?null:i.dirty)||(null==i?null:i.touched))&&(null==i?null:i.invalid)&&(!(null==i||!i.errors.required)||!(null==i||!i.errors.pattern)))),v.Db(2),v.rc("ngIf",(null==i?null:i.invalid)&&((null==i?null:i.dirty)||(null==i?null:i.touched))&&(null==i?null:i.errors.required)),v.Db(1),v.rc("ngIf",(null==i?null:i.invalid)&&((null==i?null:i.dirty)||(null==i?null:i.touched))&&(null==i?null:i.errors.pattern)),v.Db(3),v.rc("ngIf",null==o.tenantConfig||null==o.tenantConfig.appointmentConfig?null:o.tenantConfig.appointmentConfig.appointmentEnabled),v.Db(3),v.rc("ngIf",o.isTenantAdmin&&(null==o.tenantConfig||null==o.tenantConfig.redoxConfig?null:o.tenantConfig.redoxConfig.enabled)),v.Db(3),v.rc("ngIf",o.isTenantAdmin&&(null==o.tenantConfig||null==o.tenantConfig.directMailConfig?null:o.tenantConfig.directMailConfig.directMailEnabled))}}function se(e,n){if(1&e&&(v.Xb(0,"nz-footer"),v.Xc(1),v.Wb()),2&e){const e=v.ic();v.Db(1),v.Zc(" Version: ",e.appVersion,"\n")}}let ce=(()=>{class e extends l.a{constructor(e,n,t,i,o,a,l){super(),this.http=e,this._settingsService=n,this._notificationsService=t,this._translateService=i,this._settingsEventLogger=o,this._router=a,this._dataSharingService=l,this.rootURL=s.g.url,this.appVersion=s.g.VERSION,this.logoFileList=[],this.faviconFileList=[],this.showUploadList={showPreviewIcon:!1,showRemoveIcon:!0,hidePreviewIconInNonImage:!1},this.phoneFormatError=!1,this.colorError=!1,this.phoneRegex=new RegExp(/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d*)\)?)[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?)+)(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/,"i"),this.handlePreview=e=>!0,this.handleLogoUpload=e=>{const n=new u.g({bypass:"yes"});this.http.post(this.rootURL+"/v2/media/upload/"+e.file.name,e.file,{headers:n,observe:"response",responseType:"text"}).subscribe(n=>{if(200==n.status){const t=this.rootURL+"/v2/media/"+(null==n?void 0:n.body);e.url=t,e.status="done",this.logoFileList=[e],this.tenantConfig.logoURL=t}else console.log("File not uploaded!!")},e=>{console.log("Error")})},this.handleFaviconUpload=e=>{const n=new u.g({bypass:"yes"});this.http.post(this.rootURL+"/v2/media/upload/"+e.file.name,e.file,{headers:n,observe:"response",responseType:"text"}).subscribe(n=>{if(200==n.status){const t=this.rootURL+"/v2/media/"+(null==n?void 0:n.body);e.url=t,e.status="done",this.faviconFileList=[e],this.tenantConfig.faviconURL=t}else console.log("File not uploaded!!")},e=>{console.log("Error")})};const r=localStorage.getItem("loggedInUserRole");this.isTenantAdmin=r==g.a.TENANT_ADMIN,this._routeHelperService.isPrimaryActionTriggered().pipe(Object(p.a)(e=>!!e),Object(b.a)(this.unsubscribed)).subscribe(()=>this.saveSettings())}ngOnInit(){this.getTenantSettings()}onSubTenantChange(e){var n,t,i,o,a,l,r,s,c,d,u,p,b,g,h,E,v,C,m,S;this.tenantConfig=this.tenantConfigMap.get(e),this.tenantConfig&&((null===(n=this.tenantConfig)||void 0===n?void 0:n.logoURL)&&(this.logoFileList=[{uid:"-1",name:"Logo",status:"done",url:null===(t=this.tenantConfig)||void 0===t?void 0:t.logoURL,thumbUrl:null===(i=this.tenantConfig)||void 0===i?void 0:i.logoURL}]),(null===(o=this.tenantConfig)||void 0===o?void 0:o.faviconURL)&&(this.faviconFileList=[{uid:"-1",name:"Favicon",status:"done",url:null===(a=this.tenantConfig)||void 0===a?void 0:a.faviconURL,thumbUrl:null===(l=this.tenantConfig)||void 0===l?void 0:l.faviconURL}]),null==this.tenantConfig.directMailConfig&&(this.tenantConfig.directMailConfig=new f),(null===(s=null===(r=this.tenantConfig)||void 0===r?void 0:r.directMailConfig)||void 0===s?void 0:s.directMailEnabled)&&(this.lobApiKey=this.decrypt(null===(c=this.tenantConfig)||void 0===c?void 0:c.tenantId,null===(u=null===(d=this.tenantConfig)||void 0===d?void 0:d.directMailConfig)||void 0===u?void 0:u.lobApiKey),this.lobApiKey.length>0&&(this.lobApiKey="xxxx"+this.lobApiKey.substring(Math.max(0,this.lobApiKey.length-4))),null!=(null===(p=this.tenantConfig)||void 0===p?void 0:p.directMailConfig)&&null==(null===(g=null===(b=this.tenantConfig)||void 0===b?void 0:b.directMailConfig)||void 0===g?void 0:g.primaryColor)&&(this.tenantConfig.directMailConfig.primaryColor=null===(v=null===(E=null===(h=this.tenantConfig)||void 0===h?void 0:h.portalConfig)||void 0===E?void 0:E.colorConfiguration)||void 0===v?void 0:v.primaryColor),this.primaryColor=null===(S=null===(m=null===(C=this.tenantConfig)||void 0===C?void 0:C.directMailConfig)||void 0===m?void 0:m.primaryColor)||void 0===S?void 0:S.replace("#","")))}getTenantSettings(){this._dataSharingService.assignedTenantSettings.subscribe(e=>{e&&(null==e?void 0:e.size)&&(this.tenantConfigMap=e,this._dataSharingService.onSubTenantChange().pipe(Object(b.a)(this.unsubscribed)).subscribe(e=>{this.onSubTenantChange((null==e?void 0:e.length)?e:localStorage.getItem("requestTenantIds"))}))})}validate(){var e,n,t,i,o,a,l,r,s,c,d,u,p,b,g,h,f;const E=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(new RegExp("^[0-9]+$"),this.phoneFormatError=!1,this.colorError=!1,this.phoneRegex.test(null===(t=null===(n=null===(e=this.tenantConfig)||void 0===e?void 0:e.tenantSupport)||void 0===n?void 0:n.phoneNumber)||void 0===t?void 0:t.trim())){if(!(null===(a=null===(o=null===(i=this.tenantConfig)||void 0===i?void 0:i.tenantSupport)||void 0===o?void 0:o.email)||void 0===a?void 0:a.trim())||!E.test(this.tenantConfig.tenantSupport.email)||(null===(s=null===(r=null===(l=this.tenantConfig)||void 0===l?void 0:l.tenantSupport)||void 0===r?void 0:r.internalEmail)||void 0===s?void 0:s.trim())&&!E.test(this.tenantConfig.tenantSupport.internalEmail)||!(null===(u=null===(d=null===(c=this.tenantConfig)||void 0===c?void 0:c.tenantSupport)||void 0===d?void 0:d.phoneNumber)||void 0===u?void 0:u.trim())||(null===(g=null===(b=null===(p=this.tenantConfig)||void 0===p?void 0:p.tenantSupport)||void 0===b?void 0:b.phoneNumber)||void 0===g?void 0:g.length)<6)return this._translateService.get("ERROR.SUPPORTDETAILS").subscribe(e=>{this._notificationsService.error("Error",e)}),!1;if(!(null===(f=null===(h=this.tenantConfig)||void 0===h?void 0:h.directMailConfig)||void 0===f?void 0:f.directMailEnabled)||CSS.supports("color",`#${this.primaryColor}`))return!0;this.colorError=!0}else this.phoneFormatError=!0}saveSettings(){var e,n;this.validate()&&(this._settingsEventLogger.saveSettingsEvent("EDIT"),(null===(n=null===(e=this.tenantConfig)||void 0===e?void 0:e.directMailConfig)||void 0===n?void 0:n.directMailEnabled)&&(this.tenantConfig.directMailConfig.primaryColor=`#${this.primaryColor}`),this.updateTenantConfig())}updateTenantConfig(){this._settingsService.updateConfigSetting(this.tenantConfig).subscribe(()=>{this._notificationsService.success("Success","Settings Updated"),this.tenantConfig.logoURL&&localStorage.setItem("logoUrl",this.tenantConfig.logoURL||"/assets/images/logo.png"),this.tenantConfig.faviconURL&&localStorage.setItem("faviconUrl",this.tenantConfig.faviconURL||"/assets/images/favicon.png"),this._router.navigate(["/authorization/logout"])})}encrypt(e,n){if(this.isEmpty(n))return"";e?16<=e.length?e=e.substring(0,16):15>e.length&&(e+="1234567891234567".substring(0,16-e.length)):e="1234567891234567";const t=h.enc.Latin1.parse(e),i=h.enc.Latin1.parse(e),o=h.AES.encrypt(n,t,{iv:i,mode:h.mode.CBC,padding:h.pad.ZeroPadding});return o?o.toString():""}decrypt(e,n){if(this.isEmpty(n))return"";e?16<=e.length?e=e.substring(0,16):15>e.length&&(e+="1234567891234567".substring(0,16-e.length)):e="1234567891234567";const t=h.enc.Latin1.parse(e),i=h.enc.Latin1.parse(e),o=h.AES.decrypt(n,t,{iv:i,mode:h.mode.CBC,padding:h.pad.ZeroPadding});return o?o.toString(h.enc.Latin1):""}isEmpty(e){return null==e||0===e.length}onColorChange(e){this.colorError=!CSS.supports("color",`#${e}`)}}return e.\u0275fac=function(n){return new(n||e)(v.Rb(u.c),v.Rb(r.a),v.Rb(C.b),v.Rb(c.a),v.Rb(d.a),v.Rb(a.g),v.Rb(E.a))},e.\u0275cmp=v.Lb({type:e,selectors:[["app-settings"]],features:[v.Ab],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],["nz-row",""],["nz-col","","nzSpan","9"],["nz-row","","nzGutter","32"],["nz-col","","nzSpan","12"],["nz-typography",""],["nzListType","picture-card",3,"nzFileList","nzShowButton","nzShowUploadList","nzPreview","nzCustomRequest","nzFileListChange"],["name","plus"],["nz-tooltip","","nzTooltipTitle","Portal Support Details","name","infoCircle","size","12px"],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","6"],[1,"settings-label"],["nz-tooltip","","nzTooltipTitle","The patient/clinicians can address any support queries they have to this email address from their respective apps.","name","infoCircle","size","12px"],["type","email","required","","nz-input","","placeholder","Enter an email address","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","id","emailModel","name","emailModel",3,"ngModel","ngClass","ngModelChange"],["emailModel","ngModel"],["nz-typography","","nzType","danger",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","If most of your reports are shared with any medical professional by default, you can enter their email address here. We will prefill the email address when you share a report and you can choose to remove this if required.","name","infoCircle","size","12px"],["required","","nz-input","","placeholder","Enter the internal email address","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","id","internalEmailModel","name","internalEmailModel",3,"ngModel","ngClass","ngModelChange"],["internalEmailModel","ngModel"],["nz-tooltip","","nzTooltipTitle","The patient/clinicians can reach out to this phone number for any support queries they have from their respective apps.","name","infoCircle","size","12px"],["required","","nz-input","","placeholder","Enter a phone number","pattern","^[0-9 \\.\\-\\(\\)]+$","minlength","6","maxlength","30","id","phoneModel","name","phoneModel",3,"ngModel","ngClass","ngModelChange"],["phoneModel","ngModel"],["nz-tooltip","","nzTooltipTitle","Primary Orb Finance Team or Partner Finance Team(s) who will recieve billing reports when the billing manager signs off on charges.","name","infoCircle","size","12px"],["type","email","required","","nz-input","","placeholder","Enter an email address","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","id","billingEmailModel","name","billingEmailModel",3,"ngModel","ngClass","ngModelChange"],["billingEmailModel","ngModel"],["nz-typography","","nzType","danger"],["nz-col","","nzSpan","7"],["nz-checkbox","",1,"settings-label",3,"disabled","ngModel","ngModelChange"],[3,"redoxConfig","redoxConfigChange"],["nz-input","","disabled","",2,"text-align","right",3,"ngModel","ngModelChange"],["nzAddOnBefore","#",3,"nzAddOnAfter"],["required","","nz-input","","placeholder","Enter letter primary color...","minlength","3","maxlength","6","pattern","^[a-fA-F0-9]+$",3,"ngClass","ngModel","ngModelChange"],["suffixIconSearch",""],[1,"color-preview",3,"ngStyle"]],template:function(e,n){1&e&&(v.Vc(0,re,77,38,"div",0),v.Vc(1,se,2,1,"nz-footer",1)),2&e&&(v.rc("ngIf",n.tenantConfig),v.Db(1),v.rc("ngIf",!!n.appVersion))},directives:[o.q,m.c,m.a,S.a,A.a,T.a,M.d,_.b,I.d,I.C,I.A,I.u,I.x,o.o,I.q,I.p,D.a,G,y.a,_.c,o.r,k.b],pipes:[H.a],styles:[".container[_ngcontent-%COMP%]{min-height:80vh}h3[_ngcontent-%COMP%]{font:normal normal 700 15px/38px Nunito;letter-spacing:0;color:#0f2015}label[_ngcontent-%COMP%]{font:normal normal 600 12px/16px Nunito;color:#2b2b2b;display:block}.settings-label[_ngcontent-%COMP%]{font:normal normal normal 12px/16px Nunito;color:var(--tertiary-color);float:right;width:100%}.error[_ngcontent-%COMP%]{border-color:#c81c1c}[_nghost-%COMP%]     .ant-checkbox{float:right;margin-left:35px}[_nghost-%COMP%]     .ant-checkbox+span{padding-left:unset}nz-footer[_ngcontent-%COMP%]{text-align:center}.color-preview[_ngcontent-%COMP%]{display:block;width:20px;height:20px}"]}),e})();class de{}var ue=t("S5rh"),pe=t("JA5x");function be(e,n){if(1&e){const e=v.Yb();v.Xb(0,"app-icons",9),v.ec("click",function(){v.Lc(e);const n=v.ic();return n.passwordVisible=!n.passwordVisible}),v.Wb()}if(2&e){const e=v.ic();v.rc("name",e.passwordVisible?"eyeInvisible":"view")}}let ge=(()=>{class e extends l.a{constructor(e,n,t){super(),this._router=e,this._notificationsService=n,this._settingsService=t,this.passwordVisible=!1,this.passwordUpdateRequest=new de}ngOnInit(){this.passwordUpdateRequest.userId=localStorage.getItem("loggedInUser"),this.passwordUpdateRequest.type=localStorage.getItem("loggedInUserAccountType")}validate(){return this.passwordUpdateRequest.oldPwd&&this.passwordUpdateRequest.oldPwd.trim()?this.passwordUpdateRequest.newPwd&&this.passwordUpdateRequest.newPwd.trim()?this.confirmPassword&&this.confirmPassword.trim()?this.passwordUpdateRequest.newPwd.trim()===this.confirmPassword.trim()||(this._notificationsService.error("Password","Passwords Do Not Match, Please Try Again!"),!1):(this._notificationsService.error("Password","Confirm Password Field Cannot Be Empty!"),!1):(this._notificationsService.error("Password","New Password Field Cannot Be Empty!"),!1):(this._notificationsService.error("Password","Old Password Field Cannot Be Empty!"),!1)}updatePassword(){this.validate()&&this._settingsService.updatePassword(this.passwordUpdateRequest).subscribe(e=>{this._notificationsService.success("Password","Password Updated Successfully!"),this._router.navigate(["authorization/logout"])},e=>{var n;this._notificationsService.error("Password",null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)})}}return e.\u0275fac=function(n){return new(n||e)(v.Rb(a.g),v.Rb(C.b),v.Rb(r.a))},e.\u0275cmp=v.Lb({type:e,selectors:[["app-password-reset"]],features:[v.Ab],decls:23,vars:12,consts:[["title","password",3,"defaultTitle","isSearchEnabled","actionTitle","action"],[1,"password-reset-card"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","8"],["type","password","required","","nz-input","","placeholder","Enter Old Password",3,"ngModel","ngModelChange"],["type","password","required","","nz-input","","placeholder","Enter New Password",3,"ngModel","ngModelChange"],[3,"nzSuffix"],["nz-input","","placeholder","Confirm New Password",3,"type","ngModel","ngModelChange"],["suffixTemplate",""],[3,"name","click"]],template:function(e,n){if(1&e&&(v.Xb(0,"app-header",0),v.ec("action",function(){return n.updatePassword()}),v.jc(1,"translate"),v.jc(2,"translate"),v.Wb(),v.Xb(3,"nz-card",1),v.Xb(4,"div",2),v.Xb(5,"div",3),v.Xb(6,"div"),v.Xb(7,"strong"),v.Xc(8,"Old Password"),v.Wb(),v.Xb(9,"input",4),v.ec("ngModelChange",function(e){return n.passwordUpdateRequest.oldPwd=e}),v.Wb(),v.Wb(),v.Wb(),v.Xb(10,"div",3),v.Xb(11,"div"),v.Xb(12,"strong"),v.Xc(13,"New Password"),v.Wb(),v.Xb(14,"input",5),v.ec("ngModelChange",function(e){return n.passwordUpdateRequest.newPwd=e}),v.Wb(),v.Wb(),v.Wb(),v.Xb(15,"div",3),v.Xb(16,"div"),v.Xb(17,"strong"),v.Xc(18,"Confirm Password"),v.Wb(),v.Xb(19,"nz-input-group",6),v.Xb(20,"input",7),v.ec("ngModelChange",function(e){return n.confirmPassword=e}),v.Wb(),v.Wb(),v.Vc(21,be,1,1,"ng-template",null,8,v.Wc),v.Wb(),v.Wb(),v.Wb(),v.Wb()),2&e){const e=v.Ic(22);v.sc("defaultTitle",v.kc(1,8,"CHANGEPASS.CHANGPASSINFO")),v.sc("actionTitle",v.kc(2,10,"COMMON.SAVE")),v.rc("isSearchEnabled",!1),v.Db(9),v.rc("ngModel",n.passwordUpdateRequest.oldPwd),v.Db(5),v.rc("ngModel",n.passwordUpdateRequest.newPwd),v.Db(5),v.rc("nzSuffix",e),v.Db(1),v.rc("type",n.passwordVisible?"text":"password")("ngModel",n.confirmPassword)}},directives:[ue.a,pe.a,m.c,m.a,_.b,I.d,I.C,I.u,I.x,y.a,_.c,_.d,T.a],pipes:[H.a],styles:[".password-reset-card[_ngcontent-%COMP%]{margin:2%;padding:1%}i[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();var he=t("T5gh"),fe=t("bA1+");let Ee=(()=>{class e{constructor(e){this._http=e,this.rootUrl=s.g.url}getAppHomeScreenConfigs(e,n,t){return this.endPoint=this.rootUrl+"/v3/homescreen/configurations/"+e+"?offset="+t+"&limit="+n,this._http.get(this.endPoint)}saveAppHomeScreenConfig(e,n){return this.endPoint=this.rootUrl+"/v3/homescreen/configurations/"+e,this._http.post(this.endPoint,n)}updateAppHomeScreenConfig(e,n){return this.endPoint=this.rootUrl+"/v3/homescreen/configurations/"+e,this._http.put(this.endPoint,n)}getAppHomeScreenConfigById(e){return this.endPoint=this.rootUrl+"/v3/homescreen/configurations/config/"+e,this._http.get(this.endPoint)}}return e.\u0275fac=function(n){return new(n||e)(v.bc(u.c))},e.\u0275prov=v.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ve=t("OzZK"),Ce=t("RwU8"),me=t("rMZv");function Se(e,n){if(1&e){const e=v.Yb();v.Xb(0,"tr"),v.Xb(1,"td",9),v.Xc(2),v.Wb(),v.Xb(3,"td",9),v.Xc(4),v.Wb(),v.Xb(5,"td"),v.Xb(6,"button",10),v.ec("click",function(){v.Lc(e);const t=n.$implicit;return v.ic(2).editAppHomeScreenConfig(null==t?null:t.id)}),v.Sb(7,"app-icons",11),v.Wb(),v.Wb(),v.Wb()}if(2&e){const e=n.$implicit;v.Db(1),v.tc("id","component-type-",null==e?null:e.id,""),v.Db(1),v.Yc(null==e?null:e.componentType),v.Db(1),v.tc("id","app-type-",null==e?null:e.id,""),v.Db(1),v.Yc(null==e?null:e.appType),v.Db(2),v.tc("id","edit-app-config-btn-",null==e?null:e.id,"")}}function Ae(e,n){if(1&e&&(v.Xb(0,"nz-table",6,7),v.Xb(2,"thead"),v.Xb(3,"tr"),v.Xb(4,"th"),v.Xc(5,"Component Type"),v.Wb(),v.Xb(6,"th"),v.Xc(7,"App Type"),v.Wb(),v.Xb(8,"th"),v.Xc(9,"Action"),v.Wb(),v.Wb(),v.Wb(),v.Xb(10,"tbody"),v.Vc(11,Se,8,5,"tr",8),v.Wb(),v.Wb()),2&e){const e=v.Ic(1),n=v.ic();v.rc("nzData",null==n.response?null:n.response.result)("nzTotal",null==n.response?null:n.response.totalCount),v.Db(11),v.rc("ngForOf",null==e?null:e.data)}}let Te=(()=>{class e{constructor(e,n){this._router=e,this.settingService=n,this.response=[{result:[]}],this.loading=!1}ngOnInit(){this.tenantId=localStorage.getItem("loggedInTenant"),this.loading=!0,this.settingService.getAppHomeScreenConfigs(this.tenantId,10,0).subscribe(e=>{this.loading=!1,this.response=e})}goToAddConfig(){this._router.navigate(["settings/appHomescreenConfig/add"])}editAppHomeScreenConfig(e){this._router.navigate(["settings/appHomescreenConfig/edit/"+e])}}return e.\u0275fac=function(n){return new(n||e)(v.Rb(a.g),v.Rb(Ee))},e.\u0275cmp=v.Lb({type:e,selectors:[["app-app-home-screen-config-list"]],decls:8,vars:4,consts:[["nz-row","","nzGutter","64"],["nz-col","","nzSpan","24",2,"padding-bottom","10px"],["nz-button","","nzType","default",2,"float","right",3,"click"],["name","plus"],["nz-col","","nzSpan","24"],["nzFrontPagination","false","id","list-episode-table",3,"nzData","nzTotal",4,"ngIf"],["nzFrontPagination","false","id","list-episode-table",3,"nzData","nzTotal"],["basicTable",""],[4,"ngFor","ngForOf"],[3,"id"],["nz-button","","nzType","default","nzShape","circle","nzTooltipTitle","Edit Config","nzTooltipPlacement","topCenter","nz-tooltip","",3,"id","click"],["name","edit"]],template:function(e,n){1&e&&(v.Xb(0,"div",0),v.Xb(1,"div",1),v.Xb(2,"button",2),v.ec("click",function(){return n.goToAddConfig()}),v.Sb(3,"app-icons",3),v.Xc(4),v.jc(5,"translate"),v.Wb(),v.Wb(),v.Xb(6,"div",4),v.Vc(7,Ae,12,3,"nz-table",5),v.Wb(),v.Wb()),2&e&&(v.Db(4),v.Zc(" ",v.kc(5,2,"COMMON.ADD")," "),v.Db(3),v.rc("ngIf",!n.loading))},directives:[m.c,m.a,ve.a,Ce.a,y.a,T.a,o.q,me.f,me.n,me.o,me.e,me.l,me.i,o.p,M.d],pipes:[H.a],styles:[""]}),e})();var Me=t("yizA");class _e{constructor(){this.patientId=null,this.appType="PATIENT",this.archived=!1,this.componentType="APP_FOOTER_BANNER"}}var Ie=t("Wfee"),De=t("AHJS");function Ne(e,n){1&e&&(v.Xb(0,"ul"),v.Xb(1,"li"),v.Xc(2," Please upload an Image with size 960x550 px. "),v.Wb(),v.Xb(3,"li"),v.Xc(4," Image must smaller than 1MB! "),v.Wb(),v.Wb())}let ze=(()=>{class e{constructor(e,n,t){this.settingsService=e,this.notificationService=n,this._route=t,this.fileTypes=[Me.a.JPEG,Me.a.JPG,Me.a.APNG,Me.a.PNG],this.saveButtonDisabled=!0,this.limit=1,this.fileList=[],this.appHomeScreenConfig=new _e,this.id=null,this.type="ADD",this.option={nzDuration:1e4,nzPauseOnHover:!0,nzAnimate:!0}}ngOnInit(){this.getDataFromURL(),null!=this.id&&(this.type="EDIT",this.settingsService.getAppHomeScreenConfigById(this.id).subscribe(e=>{this.appHomeScreenConfig=e;const n={url:e.coverImage,uid:"_"+Math.random().toString(36).substr(2,9),status:"done",name:""};this.fileList.push(n),this.fileList=[...this.fileList],this.fileList.length>0&&(this.saveButtonDisabled=!1)})),this.tenantId=localStorage.getItem("loggedInTenant"),this.fileList.length>0&&(this.saveButtonDisabled=!1)}getDataFromURL(){this._route.params.forEach(e=>{this.id=e.id})}saveConfig(){null==this.appHomeScreenConfig.coverImage&&(this.notificationService.error("Image Upload Error","Please upload a valid cover image with size 960x550 px."),this.fileList=new Array),this.appHomeScreenConfig.tenantId=this.tenantId,"EDIT"==this.type?this.settingsService.updateAppHomeScreenConfig(this.tenantId,this.appHomeScreenConfig).subscribe(e=>{}):this.settingsService.saveAppHomeScreenConfig(this.tenantId,this.appHomeScreenConfig).subscribe(e=>{})}afterFileUpload(e){const n=e[0];!function(e,t,i,o,a,l){const r=new Image;r.onload=function(){l&&l(r.width,r.height,n.url,0,i,o)},r.src=e}(n.url,0,this.appHomeScreenConfig,this.notificationService,0,function(e,n,t,i,o,a,l){960==e&&550==n?o.coverImage=t:(o.coverImage=null,a.error("Image Upload Error","Image size should be 960x550 px."),new Array)})}}return e.\u0275fac=function(n){return new(n||e)(v.Rb(Ee),v.Rb(C.b),v.Rb(a.a))},e.\u0275cmp=v.Lb({type:e,selectors:[["app-app-home-screen-config"]],decls:16,vars:15,consts:[["title","app-home-screen-settings",3,"defaultTitle","isActionEnabled","isSearchEnabled"],["id","list-app-homescreen-config-container",1,"container"],["nz-row","","nzGutter","64",2,"background-color","white","margin-left","0px","margin-right","0px","padding","10px"],["nz-col","","nzSpan","24"],["nzType","info","nzMessage","Informational Notes","nzShowIcon","",3,"nzDescription"],["infoNotes",""],[1,"vertical-spacer"],[3,"types","preview","fileList","maxSize","limit","fileListChange","afterFileUpload"],[1,"actions"],["nz-button","","nzType","primary",1,"save-button",3,"disabled","click"]],template:function(e,n){if(1&e&&(v.Sb(0,"app-header",0),v.jc(1,"translate"),v.Xb(2,"div",1),v.Xb(3,"div",2),v.Xb(4,"div",3),v.Sb(5,"nz-alert",4),v.Vc(6,Ne,5,0,"ng-template",null,5,v.Wc),v.Sb(8,"div",6),v.Wb(),v.Xb(9,"div",3),v.Xb(10,"app-upload",7),v.ec("fileListChange",function(e){return n.fileList=e})("afterFileUpload",function(e){return n.afterFileUpload(e)}),v.Wb(),v.Wb(),v.Xb(11,"div",3),v.Xb(12,"div",8),v.Xb(13,"button",9),v.ec("click",function(){return n.saveConfig()}),v.Xc(14),v.jc(15,"translate"),v.Wb(),v.Wb(),v.Wb(),v.Wb(),v.Wb()),2&e){const e=v.Ic(7);v.sc("defaultTitle",v.kc(1,11,"MENU.APP_HOMESCREEN_CONFIG")),v.rc("isActionEnabled",!1)("isSearchEnabled",!1),v.Db(5),v.rc("nzDescription",e),v.Db(5),v.rc("types",n.fileTypes)("preview",!0)("fileList",n.fileList)("maxSize",1)("limit",n.limit),v.Db(3),v.rc("disabled",null==n.appHomeScreenConfig.coverImage),v.Db(1),v.Zc(" ",v.kc(15,13,"COMMON.SAVE")," ")}},directives:[ue.a,m.c,m.a,Ie.a,De.a,ve.a,Ce.a,y.a],pipes:[H.a],styles:[".vertical-spacer[_ngcontent-%COMP%]{height:10px}.save-button[_ngcontent-%COMP%]{float:right;text-align:-webkit-center}"]}),e})();const Le={header:!0,title:"HEADER.SETTING",searchEnabled:!1,primaryAction:{title:"Save",permissions:[],enabled:!0},secondaryAction:{},multiAction:{},showTenantToggle:!0,subTenantToggleMode:"SINGLE"};var Pe=function(e){return e.PATIENT_MANAGEMENT="Patient Management",e.ROLE_MANAGEMENT="Role Management",e.STAFF_MANAGEMENT="Staff Management",e.EPISODE_MANAGEMENT="Episode Management",e.FORM_MANAGEMENT="Form Management",e.CARE_PLAN_MANAGEMENT="Care plan Management",e.ANALYTICS="Analytics",e.COMMUNICATION_CHANNELS="Communication Channels",e.SMS_TEMPLATE_MANAGEMENT="SMS Template Management",e.COURSE_MANAGEMENT="Course Management",e.VITAL_TEMPLATE_MANAGEMENT="Vital Template Management",e.CARE_PLAN_TEMPLATE_MANAGEMENT="Care plan Template Management",e.TAG_MANAGEMENT="Tag Management",e.PHYSICIAN_ORDER_MANAGEMENT="Physician Order Management",e.GROUP_MANAGEMENT="Group Management",e.LEAD_MANAGEMENT="Lead Management",e.APPOINTMENT_MANAGEMENT="Appointment Management",e.RPM_PERMISSIONS="RPM Permissions",e.DEVICE_MANAGEMENT="Device Management",e.LOCATION_MANAGEMENT="Location Management",e.PATIENT_ALERT_MANAGEMENT="Patient Alert Management",e.PATIENT_HEALTH_SCORE_MANAGEMENT="Patient Health Score Management",e}({}),Oe=t("0W7X"),ye=t("BcC3");let Xe=(()=>{class e{constructor(){this.roleName="",this.isGlobal=!1}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=v.Lb({type:e,selectors:[["app-role-add-modal"]],decls:5,vars:8,consts:[["nz-input","",3,"placeholder","ngModel","ngModelChange"],["nz-checkbox","",2,"margin-top","10px",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(v.Xb(0,"input",0),v.ec("ngModelChange",function(e){return n.roleName=e}),v.jc(1,"translate"),v.Wb(),v.Xb(2,"label",1),v.ec("ngModelChange",function(e){return n.isGlobal=e}),v.Xc(3),v.jc(4,"translate"),v.Wb()),2&e&&(v.tc("placeholder"," ",v.kc(1,4,"COMMON.ROLENAME")," "),v.rc("ngModel",n.roleName),v.Db(2),v.rc("ngModel",n.isGlobal),v.Db(1),v.Zc(" ",v.kc(4,6,"ROLES.GLOBAL_ROLE")," "))},directives:[_.b,I.d,I.u,I.x,D.a],pipes:[H.a],styles:[""]}),e})();var Re=t("hj5u"),We=t("dEAy"),we=t("nxWG"),xe=t("Ff2k"),Ve=t("IvDN");function Ue(e,n){if(1&e){const e=v.Yb();v.Xb(0,"button",7),v.ec("click",function(){return v.Lc(e),v.ic().showAddDialog(null)}),v.Xc(1),v.jc(2,"translate"),v.Wb()}2&e&&(v.Db(1),v.Yc(v.kc(2,1,"ROLE.ADD_ROLE")))}function Fe(e,n){if(1&e){const e=v.Yb();v.Xb(0,"span",8),v.Xc(1),v.Wb(),v.Xb(2,"button",9),v.ec("click",function(){v.Lc(e);const t=n.$implicit;return v.ic().showAddDialog(t)}),v.Xc(3," + "),v.Wb()}if(2&e){const e=n.$implicit;v.Db(1),v.Zc(" ",e.title," ")}}function Ge(e,n){if(1&e&&v.Xc(0),2&e){const e=v.ic(2);v.Zc(" Permissions for ",e.selectedNode.title,"")}}function ke(e,n){if(1&e){const e=v.Yb();v.Xb(0,"button",16),v.ec("click",function(){return v.Lc(e),v.ic(3).savePermissions()}),v.Xc(1,"Save"),v.Wb()}}function He(e,n){if(1&e&&v.Vc(0,ke,2,0,"button",15),2&e){const e=v.ic(2);v.rc("ngIf",e.permissionsChanged)}}function qe(e,n){if(1&e){const e=v.Yb();v.Xb(0,"label",20),v.ec("ngModelChange",function(n){return v.Lc(e),v.ic().$implicit.isEnabled=n})("ngModelChange",function(){v.Lc(e);const n=v.ic().$implicit;return v.ic(2).permissionGroupToggled(n)}),v.Wb()}if(2&e){const e=v.ic().$implicit;v.rc("ngModel",e.isEnabled)}}function je(e,n){if(1&e){const e=v.Yb();v.Xb(0,"nz-list-item"),v.Xb(1,"label",20),v.ec("ngModelChange",function(e){return n.$implicit.isEnabled=e})("ngModelChange",function(){v.Lc(e);const t=n.$implicit;return v.ic(3).permissionUpdated(t)}),v.Xc(2),v.Wb(),v.Wb()}if(2&e){const e=n.$implicit;v.Db(1),v.rc("ngModel",e.isEnabled),v.Db(1),v.Zc(" ",null==e?null:e.label,"")}}function Be(e,n){if(1&e&&(v.Xb(0,"nz-collapse-panel",17),v.Vc(1,qe,1,1,"ng-template",null,18,v.Wc),v.Vc(3,je,3,2,"nz-list-item",19),v.Wb()),2&e){const e=n.$implicit,t=v.Ic(2);v.rc("nzHeader",null==e?null:e.label)("nzExtra",t),v.Db(3),v.rc("ngForOf",null==e?null:e.permissions)}}function Ye(e,n){if(1&e&&(v.Xb(0,"nz-card",10),v.Vc(1,Ge,1,1,"ng-template",null,11,v.Wc),v.Vc(3,He,1,1,"ng-template",null,12,v.Wc),v.Xb(5,"nz-list",13),v.Xb(6,"nz-collapse"),v.Vc(7,Be,4,3,"nz-collapse-panel",14),v.Wb(),v.Wb(),v.Wb()),2&e){const e=v.Ic(2),n=v.Ic(4),t=v.ic();v.rc("nzTitle",e)("nzExtra",n),v.Db(7),v.rc("ngForOf",t.permissionGroups)}}const $e=[{path:"",component:ce,pathMatch:"full",data:Le,canActivate:[he.a,fe.a]},{path:"password-reset",component:ge,canActivate:[he.a,fe.a]},{path:"settings/appHomescreenConfigs/list",component:Te,canActivate:[he.a,fe.a]},{path:"appHomescreenConfig/add",component:ze,canActivate:[he.a,fe.a]},{path:"appHomescreenConfig/edit/:id",component:ze,canActivate:[he.a,fe.a]},{path:"roles",component:(()=>{class e extends l.a{constructor(e,n,t,i,o){super(),this._notificationsService=e,this.nzModalService=n,this.rolesService=t,this.translationService=i,this._settingsEventLogger=o,this.searchValue="",this.permissionGroups=[],this.roles=[],this.selectedNode=null,this.permissionsChanged=!1,this.strings=new Array("COMMON.BTN_OK","COMMON.BTN_CANCEL","ROLES.ADD_NEW_ROLES","PORTAL.ROLE","ROLES.ROLE_SAVED_SUCCESSFULLY","ROLES.ERROR_SOMETHING_WRONG")}flattenRoles(e){let n=[];return e.forEach(e=>{if(n=n.concat([e]),null!=e.children){const t=this.flattenRoles(e.children);n=n.concat(t)}}),n}findRole(e,n){let t=null;return t=this.flattenRoles(this.roles).find(n=>n.key===e),t}nzEvent(e){if("click"===e.eventName){this.selectedNode=e.node,this.permissionGroups=[{label:Pe.ANALYTICS,permissions:[{value:Oe.a.VIEW_REPORT},{value:Oe.a.PATIENT_REPORTS}],state:!1},{label:Pe.APPOINTMENT_MANAGEMENT,permissions:[{value:Oe.a.ADD_APPOINTMENT},{value:Oe.a.EDIT_APPOINTMENT},{value:Oe.a.VIEW_APPOINTMENT},{value:Oe.a.DELETE_APPOINTMENT},{value:Oe.a.RESCHEDULE_APPOINTMENT}],state:!1},{label:Pe.CARE_PLAN_MANAGEMENT,permissions:[{value:Oe.a.ASSIGN_CARE_PLAN},{value:Oe.a.REASSIGN_CARE_PLAN},{value:Oe.a.EDIT_CARE_PLAN},{value:Oe.a.SUSPEND_CARE_PLAN},{value:Oe.a.VIEW_CAREPLAN},{value:Oe.a.CREATE_BASELINE_CAREPLAN}],state:!1},{label:Pe.CARE_PLAN_TEMPLATE_MANAGEMENT,permissions:[{value:Oe.a.ADD_CARE_PLAN_TEMPLATE},{value:Oe.a.EDIT_CARE_PLAN_TEMPLATE},{value:Oe.a.VIEW_CARE_PLAN_TEMPLATE},{value:Oe.a.DELETE_CARE_PLAN_TEMPLATE}],state:!1},{label:Pe.COMMUNICATION_CHANNELS,permissions:[{value:Oe.a.CHAT},{value:Oe.a.VIDEO_CALL},{value:Oe.a.AUDIO_CALL}],state:!1},{label:Pe.COURSE_MANAGEMENT,permissions:[{value:Oe.a.ADD_COURSE},{value:Oe.a.EDIT_COURSE},{value:Oe.a.VIEW_COURSE},{value:Oe.a.DELETE_COURSE}],state:!1},{label:Pe.DEVICE_MANAGEMENT,permissions:[{value:Oe.a.ADD_DEVICES},{value:Oe.a.REMOVE_DEVICES}],state:!1},{label:Pe.EPISODE_MANAGEMENT,permissions:[{value:Oe.a.RPM_EPISODE},{value:Oe.a.CCM_EPISODE},{value:Oe.a.HEALTH_SCORE_EPISODE},{value:Oe.a.GENERAL_EPISODE},{value:Oe.a.ADD_EPISODE},{value:Oe.a.EDIT_EPISODE},{value:Oe.a.VIEW_EPISODE},{value:Oe.a.DELETE_EPISODE},{value:Oe.a.SUSPEND_EPISODE},{value:Oe.a.REPEAT_EPISODE},{value:Oe.a.VIEW_EPISODE_TIMELINE}],state:!1},{label:Pe.FORM_MANAGEMENT,permissions:[{value:Oe.a.ADD_CONSENT_FORM},{value:Oe.a.EDIT_CONSENT_FORM},{value:Oe.a.VIEW_CONSENT_FORM},{value:Oe.a.DELETE_CONSENT_FORM}],state:!1},{label:Pe.GROUP_MANAGEMENT,permissions:[{value:Oe.a.ADD_GROUP},{value:Oe.a.EDIT_GROUP},{value:Oe.a.VIEW_GROUP},{value:Oe.a.DELETE_GROUP}],state:!1},{label:Pe.LEAD_MANAGEMENT,permissions:[{value:Oe.a.ADD_LEAD},{value:Oe.a.EDIT_LEAD},{value:Oe.a.VIEW_LEAD},{value:Oe.a.DELETE_LEAD},{value:Oe.a.ADD_LEAD_NOTES},{value:Oe.a.ADD_LEAD_FOLLOW_UPS},{value:Oe.a.VIEW_LEAD_FOLLOW_UPS},{value:Oe.a.CONVERT_LEAD}],state:!1},{label:Pe.LOCATION_MANAGEMENT,permissions:[{value:Oe.a.ADD_LOCATION},{value:Oe.a.VIEW_LOCATIONS},{value:Oe.a.EDIT_LOCATION},{value:Oe.a.DELETE_LOCATION}],state:!1},{label:Pe.PATIENT_ALERT_MANAGEMENT,permissions:[{value:Oe.a.VIEW_PATIENT_ALERT},{value:Oe.a.CLOSE_PATIENT_ALERT}],state:!1},{label:Pe.PATIENT_HEALTH_SCORE_MANAGEMENT,permissions:[{value:Oe.a.MEASURE_HEALTH_SCORE},{value:Oe.a.PATIENT_HEALTH_SCORE_MANAGEMENT}],state:!1},{label:Pe.PATIENT_MANAGEMENT,permissions:[{value:Oe.a.ADD_PATIENT,label:"Add Patient"},{value:Oe.a.EDIT_PATIENT,label:"Edit Patient"},{value:Oe.a.VIEW_PATIENT,label:"View Patient"},{value:Oe.a.DELETE_PATIENT,label:"Delete Patient"},{value:Oe.a.VIEW_ASSIGNED_STAFF,label:"View Assigned Staff"},{value:Oe.a.VIEW_PATIENT_LISTING_SCREEN,label:"View Patient Listing Screen"},{value:Oe.a.VIEW_PATIENT_NOTES,label:"View Patient Notes"},{value:Oe.a.ADD_PATIENT_NOTES,label:"Add Patient Notes"},{value:Oe.a.VIEW_UNASSIGNED_PATIENTS,label:"View Unassigned Patients"}],state:!0},{label:Pe.PHYSICIAN_ORDER_MANAGEMENT,permissions:[{value:Oe.a.ADD_PHYSICIAN_ORDER},{value:Oe.a.EDIT_PHYSICIAN_ORDER},{value:Oe.a.VIEW_PHYSICIAN_ORDER},{value:Oe.a.DELETE_PHYSICIAN_ORDER}],state:!1},{label:Pe.ROLE_MANAGEMENT,permissions:[{value:Oe.a.ADD_ROLE,label:"Add Role"},{value:Oe.a.EDIT_ROLE,label:"Edit Role"},{value:Oe.a.VIEW_ROLE,label:"View Role"},{value:Oe.a.DELETE_ROLE,label:"Delete Role"},{value:Oe.a.ASSIGN_ROLE,label:"Assign Role"}],state:!0},{label:Pe.RPM_PERMISSIONS,permissions:[{value:Oe.a.ADD_DST},{value:Oe.a.RESCHEDULE_DST},{value:Oe.a.ADD_TMS},{value:Oe.a.ADD_ADDITIONAL_TMS},{value:Oe.a.ADD_ADDITIONAL_TMS_B},{value:Oe.a.ADD_NON_COMPLEX_TMS},{value:Oe.a.ADD_COMPLEX_TMS}],state:!1},{label:Pe.SMS_TEMPLATE_MANAGEMENT,permissions:[{value:Oe.a.VIEW_SMS_TEMPLATE},{value:Oe.a.ADD_SMS_TEMPLATE},{value:Oe.a.EDIT_SMS_TEMPLATE},{value:Oe.a.DELETE_SMS_TEMPLATE},{value:Oe.a.SENT_MESSAGE},{value:Oe.a.VIEW_CONVERSATION}],state:!1},{label:Pe.STAFF_MANAGEMENT,permissions:[{value:Oe.a.ADD_STAFF,label:"Add Staff"},{value:Oe.a.EDIT_STAFF,label:"Edit Staff"},{value:Oe.a.VIEW_STAFF,label:"View Staff"},{value:Oe.a.DELETE_STAFF,label:"Delete Staff"},{value:Oe.a.ASSIGN_STAFF,label:"Assign Staff"},{value:Oe.a.ASSIGN_PATIENT,label:"Assign Patient"},{value:Oe.a.VIEW_PHYSICIANS,label:"View Physicians"},{value:Oe.a.VIEW_MONITORING_STAFF,label:"View Monitoring Staff"},{value:Oe.a.ADD_PHYSICIAN,label:"Add Physician"},{value:Oe.a.ADD_MONITORING_STAFF,label:"Add Monitoring Staff"},{value:Oe.a.EDIT_PHYSICIANS,label:"Edit Physicians"},{value:Oe.a.EDIT_MONITORING_STAFF,label:"Edit Monitoring Staff"},{value:Oe.a.DELETE_PHYSICIANS,label:"Delete Physicians"},{value:Oe.a.DELETE_MONITORING_STAFF,label:"Delete Monitoring Staff"},{value:Oe.a.ASSIGN_PHYSICIANS,label:"Assign Physicians"}],state:!0},{label:Pe.TAG_MANAGEMENT,permissions:[{value:Oe.a.ADD_EDIT_TAG},{value:Oe.a.ADD_EDIT_TAG},{value:Oe.a.VIEW_TAG},{value:Oe.a.DELETE_TAG}],state:!1},{label:Pe.VITAL_TEMPLATE_MANAGEMENT,permissions:[{value:Oe.a.ADD_VITAL_BLUEPRINT},{value:Oe.a.EDIT_VITAL_BLUEPRINT},{value:Oe.a.VIEW_VITAL_BLUEPRINT},{value:Oe.a.DELETE_VITAL_BLUEPRINT}],state:!1}].filter(e=>e.state);const n=this.findRole(this.selectedNode.key,this.roles);this.permissionGroups.forEach(e=>{const t=e.permissions.length;let i=0;e.permissions.forEach(e=>{var t;(null===(t=null==n?void 0:n.privileges)||void 0===t?void 0:t.includes(null==e?void 0:e.value))&&(e.isEnabled=!0,i++)}),t==i&&(e.isEnabled=!0)})}}ngOnInit(){console.log("ON INIT"),this.loadRoles(),this.translationService.getMultiple(...this.strings).pipe(Object(b.a)(this.unsubscribed)).subscribe(e=>{this.translatedStrings=e})}loadRoles(){this.rolesService.getRoles().subscribe(e=>{this.roles=this.loadChildRoles(null,e)})}loadChildRoles(e,n){const t=[];for(const i of n)if(i.parentId===e){const e=new ye.b;e.title=i.name,e.key=i.id,e.privileges=i.privileges,e.followsHierarchyConstraints=i.followsHierarchyConstraints,"TENANT"!==e.accessBoundary||e.followsHierarchyConstraints||(e.title=e.title+" ( * Global Role )");const o=this.loadChildRoles(e.key,n);e.children=o,t.push(e)}return t}showAddDialog(e){let n=this.translatedStrings.get("ROLES.ADD_NEW_ROLES");null!=e&&(n=n+" Under "+e.title);const t=this.nzModalService.create({nzTitle:n,nzOkText:this.translatedStrings.get("COMMON.BTN_OK"),nzCancelText:this.translatedStrings.get("COMMON.BTN_CANCEL"),nzContent:Xe,nzOnOk:()=>{const n=t.getContentComponent().roleName,i=t.getContentComponent().isGlobal;this.createRole(n,i,e)}})}createRole(e,n,t){const i=localStorage.getItem("loggedInTenant");let o=null;null!=t&&null!=t.key&&(o=t.key);const a={name:e,parentId:o,tenantId:i,globalRole:n};n&&(a.accessBoundary="TENANT"),this.rolesService.createRole(a).subscribe(()=>{this._settingsEventLogger.addRoleEvent(o,e),this._notificationsService.success(this.translatedStrings.get("PORTAL.ROLE"),this.translatedStrings.get("ROLES.ROLE_SAVED_SUCCESSFULLY")),this.loadRoles()},e=>{e.error.message?this._notificationsService.error("Form",e.error.message):this._notificationsService.error(this.translatedStrings.get("PORTAL.ROLE"),this.translatedStrings.get("ROLES.ERROR_SOMETHING_WRONG"))})}permissionUpdated(e){this.permissionsChanged=!0}permissionGroupToggled(e){this.permissionsChanged=!0,e.permissions.forEach(n=>{n.isEnabled=e.isEnabled})}savePermissions(){const e=[];this.selectedNode.permissions=e,this.permissionGroups.forEach(n=>{n.permissions.forEach(n=>{n.isEnabled&&e.push(n.value)})}),this.rolesService.updateRole({id:this.selectedNode.key,privileges:e}).subscribe(e=>{this._settingsEventLogger.savePermissionEvent(this.selectedNode.key),this.loadRoles()})}}return e.\u0275fac=function(n){return new(n||e)(v.Rb(C.b),v.Rb(We.f),v.Rb(Re.a),v.Rb(c.a),v.Rb(d.a))},e.\u0275cmp=v.Lb({type:e,selectors:[["app-roles"]],features:[v.Ab],decls:11,vars:7,consts:[["nz-row",""],["nz-col","","nzSpan","12"],[3,"nzTitle","nzExtra"],["addRoleTemplate",""],[3,"nzData","nzSearchValue","nzClick","nzExpandChange","nzSearchValueChange"],["nzTreeTemplate",""],["id","permissions-card",3,"nzTitle","nzExtra",4,"ngIf"],["nz-button","",3,"click"],[1,"role-name"],["nz-button","","nzType","default","nzSize","small",3,"click"],["id","permissions-card",3,"nzTitle","nzExtra"],["permissionTitle",""],["extraTemplate",""],["nzBordered","","nzSize","small"],[3,"nzHeader","nzExtra",4,"ngFor","ngForOf"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],["nz-button","","nzType","primary",3,"click"],[3,"nzHeader","nzExtra"],["extraTpl",""],[4,"ngFor","ngForOf"],["nz-checkbox","",3,"ngModel","ngModelChange"]],template:function(e,n){if(1&e&&(v.Xb(0,"div",0),v.Xb(1,"div",1),v.Xb(2,"nz-card",2),v.jc(3,"translate"),v.Vc(4,Ue,3,3,"ng-template",null,3,v.Wc),v.Xb(6,"nz-tree",4),v.ec("nzClick",function(e){return n.nzEvent(e)})("nzExpandChange",function(e){return n.nzEvent(e)})("nzSearchValueChange",function(e){return n.nzEvent(e)}),v.Vc(7,Fe,4,1,"ng-template",null,5,v.Wc),v.Wb(),v.Wb(),v.Wb(),v.Xb(9,"div",1),v.Vc(10,Ye,8,3,"nz-card",6),v.Wb(),v.Wb()),2&e){const e=v.Ic(5);v.Db(2),v.sc("nzTitle",v.kc(3,5,"PORTAL.ROLE")),v.rc("nzExtra",e),v.Db(4),v.rc("nzData",n.roles)("nzSearchValue",n.searchValue),v.Db(4),v.rc("ngIf",n.selectedNode)}},directives:[m.c,m.a,pe.a,we.a,o.q,ve.a,Ce.a,y.a,xe.a,Ve.a,o.p,Ve.c,D.a,I.u,I.x,xe.e],pipes:[H.a],styles:["nz-card[_ngcontent-%COMP%]{margin:0 16px}.role-name[_ngcontent-%COMP%]{cursor:pointer}#permissions-card[_ngcontent-%COMP%]{height:500px;overflow-y:scroll}"]}),e})(),data:Le,canActivate:[he.a,fe.a]}];let Ze=(()=>{class e{}return e.\u0275mod=v.Pb({type:e}),e.\u0275inj=v.Ob({factory:function(n){return new(n||e)},imports:[[a.k.forChild($e)],a.k]}),e})();var Ke=t("SHZf"),Je=t("UFn0"),Qe=t("7pIB");let en=(()=>{class e{constructor(e){this._http=e,this.rootUrl=s.g.url}revokePcc(){let e="";const n=new Headers;return n.append("Content-Type","application/json"),n.append("Accept","application/json"),e=localStorage.getItem("loggedInTenant"),n.append("X-Auth-Token",localStorage.getItem("sessionToken")),this._http.post(this.rootUrl+"/v2/pcc/revokeaccount/"+e,{})}syncStatus(e){let n="";const t=new Headers;return t.append("Content-Type","application/json"),t.append("Accept","application/json"),n=localStorage.getItem("loggedInTenant"),t.append("X-Auth-Token",localStorage.getItem("sessionToken")),this._http.get(this.rootUrl+"/v2/pcc/core/syncstatus/"+n+"/?status="+e)}pccstatus(){let e="";const n=new Headers;return n.append("Content-Type","application/json"),n.append("Accept","application/json"),e=localStorage.getItem("loggedInTenant"),n.append("X-Auth-Token",localStorage.getItem("sessionToken")),this._http.get(this.rootUrl+"/v2/pcc/"+e+"/islinked",{responseType:"text"})}}return e.\u0275fac=function(n){return new(n||e)(v.bc(u.c))},e.\u0275prov=v.Nb({token:e,factory:e.\u0275fac}),e})(),nn=(()=>{class e{}return e.\u0275mod=v.Pb({type:e}),e.\u0275inj=v.Ob({factory:function(n){return new(n||e)},providers:[H.a],imports:[[o.c,Je.a,I.o,Ke.a.forRoot()]]}),e})(),tn=(()=>{class e{constructor(e){this.translationService=e,e.setLanguage()}}return e.\u0275mod=v.Pb({type:e}),e.\u0275inj=v.Ob({factory:function(n){return new(n||e)(v.bc(c.a))},providers:[en],imports:[[Je.a,o.c,I.o,i.a,Ze,Qe.a,Ke.a.forRoot(),nn]]}),e})()},b1TM:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var i=t("AytR"),o=t("SxV6"),a=t("tk/3"),l=t("fXoL");let r=(()=>{class e{constructor(e){this._http=e,this.rootUrl=i.g.url}createConfigSetting(e){return this._http.post(this.rootUrl+"//",JSON.stringify(e)).pipe(Object(o.a)())}updateConfigSetting(e){return e.tenantId=localStorage.getItem("loggedInTenant"),this._http.put(this.rootUrl+"/v2/tenants/settings/",JSON.stringify(e)).pipe(Object(o.a)())}getConfigSetting(){return this._http.get(this.rootUrl+"/v2/tenants/settings/").pipe(Object(o.a)())}updatePassword(e){return this._http.put(this.rootUrl+"/v2/users/changePassword/",JSON.stringify(e)).pipe(Object(o.a)())}postPatchRequest(e,n){let t=new a.g({patch_json:"yes"});return e&&(t=t.append("tenant-id",e)),this._http.patch(this.rootUrl+"/ehealth/v3/tenant-configurations/"+e,n,{headers:t}).pipe(Object(o.a)())}getTenantSettings(e,n){let t=new a.g;return n&&(t=t.append("tenant-id",n)),this._http.get(this.rootUrl+"/ehealth/v2/tenants/"+encodeURIComponent(e)+"/"+n+"/settings",{headers:t}).pipe(Object(o.a)())}}return e.\u0275fac=function(n){return new(n||e)(l.bc(a.c))},e.\u0275prov=l.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);