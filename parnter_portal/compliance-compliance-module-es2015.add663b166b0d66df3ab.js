(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"5bRv":function(t,e,n){"use strict";n.r(e),n.d(e,"ComplianceModule",function(){return tn});var i=n("mUB+"),a=n("ofXK"),o=n("WoUL"),r=n("3Pt+"),s=n("tyNb"),l=n("icpI"),c=n("KZX/"),p=n("SHZf"),d=n("UFn0"),u=n("rbUg"),b=n("T5gh"),f=n("bA1+"),g=n("yWgs"),h=n("qQcL"),m=n("bnsq"),z=n("fXoL"),v=n("XNiG"),S=n("cp0P"),C=n("igu/"),I=n("tk/3"),X=n("AytR");let D=(()=>{class t{constructor(t){this._http=t,this.rootURL=X.g.url}filterCommunicationNotes(t,e,n,i,a=!1,o,r,s){const l=`${this.rootURL}/v1/episode-compliance/patient-communications/${t}`;let c=new I.h;const p={staff:e,user:n,program:i,isBillable:a,state:o,startDateRange:r,endDateRange:s};return Object.keys(p).forEach(t=>p[t]&&(c=c.append(t,p[t]))),this._http.get(l,{params:c})}fetchPatientCommunicationNotes(t,e=50,n,i){const a=`${this.rootURL}/v1/episode-compliance/patient-communications/${t}`;let o=new I.h;return o.append("results",`${e}`),i&&o.append("requestTenantId",`${i}`),Object.keys(n).forEach(t=>n[t]&&(o=o.append(t,n[t]))),this._http.get(a,{params:o})}fetchPatientCommunicationNotesDetails(t,e){const n=`${this.rootURL}/v1/episode-compliance/patient-communications/details/${t}`;let i=new I.h;return Object.keys(e).forEach(t=>e[t]&&(i=i.append(t,e[t]))),this._http.get(n,{params:i})}updateNoteState(t){return this._http.put(`${this.rootURL}/v1/episode-compliance/patient-communications/state`,t)}updateNoteStateInBulk(t,e){return this._http.put(`${this.rootURL}/v1/episode-compliance/patient-communications/state/bulk/${t}`,e)}fetchPatientDetails(t,e){const n=`${this.rootURL}/v1/episode-compliance/patient-communications/chart-info/${t}`;let i=new I.h;return Object.keys(e).forEach(t=>e[t]&&(i=i.append(t,e[t]))),this._http.get(n,{params:i})}}return t.\u0275fac=function(e){return new(e||t)(z.bc(I.c))},t.\u0275prov=z.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var y=n("dEAy"),T=n("bNXi"),P=n("JA5x"),O=n("PTRe"),M=n("bE2y"),W=n("B+r4"),E=n("OzZK"),_=n("RwU8"),R=n("C2AL"),A=n("eHCX");function N(t,e){1&t&&(z.Xb(0,"span",13),z.Xc(1,"Please enter a valid reason"),z.Wb())}function w(t,e){1&t&&(z.Xb(0,"span",13),z.Xc(1,"Please select a level"),z.Wb())}function V(t,e){1&t&&(z.Xb(0,"span",13),z.Xc(1,"Please select a category"),z.Wb())}let L=(()=>{class t{constructor(t,e,n){this._modalRef=t,this._complianceService=e,this._notificationsService=n,this.reasonRequired=!1,this.levelRequired=!1,this.categoryRequired=!1}close(){this._modalRef.close(!1)}validate(){var t;this.reasonRequired=!(null===(t=this.reason)||void 0===t?void 0:t.length),this.levelRequired=!this.level,this.categoryRequired=!this.category}save(){this.validate(),this.reasonRequired||this.levelRequired||this.categoryRequired||this._complianceService.updateNoteState({id:this.id,state:"REJECTED",reason:this.reason,level:this.level,category:this.category}).subscribe(()=>{this._notificationsService.success("Compliance","Note updated successfully!"),this._modalRef.close(!0)})}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(y.e),z.Rb(D),z.Rb(T.b))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-rejection"]],inputs:{id:"id"},decls:44,vars:6,consts:[["nz-input","","placeholder","Enter rejection reason here...",3,"ngModel","ngModelChange"],["nz-typography","","nzType","danger",4,"ngIf"],[3,"ngModel","ngModelChange"],["nz-radio-button","","nzValue","LOW"],["nz-radio-button","","nzValue","MEDIUM"],["nz-radio-button","","nzValue","HIGH"],["nz-radio","","nzValue","PATIENT_SAFETY_CONCERN"],["nz-radio","","nzValue","FALSE_DOCUMENTATION"],["nz-radio","","nzValue","DOES_NOT_MEET_REGULATION"],["nz-row",""],["nz-col","","nzSpan","24","id","actions"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"],["nz-typography","","nzType","danger"]],template:function(t,e){1&t&&(z.Xb(0,"nz-card"),z.Xb(1,"label"),z.Xb(2,"strong"),z.Xc(3,"Rejection Reason *"),z.Wb(),z.Wb(),z.Xb(4,"input",0),z.ec("ngModelChange",function(t){return e.reason=t}),z.Wb(),z.Sb(5,"br"),z.Vc(6,N,2,0,"span",1),z.Sb(7,"br"),z.Sb(8,"br"),z.Xb(9,"label"),z.Xb(10,"strong"),z.Xc(11,"Rejection Level *"),z.Wb(),z.Wb(),z.Xb(12,"nz-radio-group",2),z.ec("ngModelChange",function(t){return e.level=t}),z.Xb(13,"label",3),z.Xc(14,"Low"),z.Wb(),z.Xb(15,"label",4),z.Xc(16,"Medium"),z.Wb(),z.Xb(17,"label",5),z.Xc(18,"High"),z.Wb(),z.Wb(),z.Sb(19,"br"),z.Vc(20,w,2,0,"span",1),z.Sb(21,"br"),z.Sb(22,"br"),z.Xb(23,"label"),z.Xb(24,"strong"),z.Xc(25,"Rejection Category *"),z.Wb(),z.Wb(),z.Xb(26,"nz-radio-group",2),z.ec("ngModelChange",function(t){return e.category=t}),z.Xb(27,"label",6),z.Xc(28,"Patient Safety Concern"),z.Wb(),z.Xb(29,"label",7),z.Xc(30,"False Documentation"),z.Wb(),z.Xb(31,"label",8),z.Xc(32,"Does not meet regulation"),z.Wb(),z.Wb(),z.Sb(33,"br"),z.Vc(34,V,2,0,"span",1),z.Sb(35,"br"),z.Sb(36,"br"),z.Xb(37,"div",9),z.Xb(38,"div",10),z.Xb(39,"button",11),z.ec("click",function(){return e.close()}),z.Xc(40,"Cancel"),z.Wb(),z.Xc(41," \xa0 "),z.Xb(42,"button",12),z.ec("click",function(){return e.save()}),z.Xc(43,"Save"),z.Wb(),z.Wb(),z.Wb(),z.Wb()),2&t&&(z.Db(4),z.rc("ngModel",e.reason),z.Db(2),z.rc("ngIf",e.reasonRequired),z.Db(6),z.rc("ngModel",e.level),z.Db(8),z.rc("ngIf",e.levelRequired),z.Db(6),z.rc("ngModel",e.category),z.Db(8),z.rc("ngIf",e.categoryRequired))},directives:[P.a,O.b,r.d,r.u,r.x,a.q,M.c,M.b,M.a,W.c,W.a,E.a,_.a,R.a,A.a],styles:["strong[_ngcontent-%COMP%]{display:block;margin-bottom:5px}#actions[_ngcontent-%COMP%]{text-align:right}"]}),t})();n("cauy");var x=n("xB20"),k=n("nJia"),F=n("dRHE");function U(t,e){1&t&&(z.Vb(0),z.Xc(1),z.jc(2,"translate"),z.Ub()),2&t&&(z.Db(1),z.Yc(z.kc(2,1,"COMMON.MALE")))}function j(t,e){1&t&&(z.Vb(0),z.Xc(1),z.jc(2,"translate"),z.Ub()),2&t&&(z.Db(1),z.Yc(z.kc(2,1,"COMMON.FEMALE")))}function B(t,e){1&t&&(z.Vb(0),z.Xc(1),z.jc(2,"translate"),z.Ub()),2&t&&(z.Db(1),z.Yc(z.kc(2,1,"GENDER.OTHER")))}function q(t,e){1&t&&(z.Vb(0),z.Xc(1),z.jc(2,"translate"),z.Ub()),2&t&&(z.Db(1),z.Yc(z.kc(2,1,"COMMON.YES")))}function Y(t,e){1&t&&(z.Vb(0),z.Xc(1),z.jc(2,"translate"),z.Ub()),2&t&&(z.Db(1),z.Yc(z.kc(2,1,"COMMON.NO")))}function $(t,e){1&t&&(z.Vb(0),z.Xc(1),z.jc(2,"translate"),z.Ub()),2&t&&(z.Db(1),z.Yc(z.kc(2,1,"COMMON.YES")))}function Z(t,e){1&t&&(z.Vb(0),z.Xc(1),z.jc(2,"translate"),z.Ub()),2&t&&(z.Db(1),z.Yc(z.kc(2,1,"COMMON.NO")))}function H(t,e){1&t&&(z.Vb(0),z.Xc(1),z.jc(2,"translate"),z.Ub()),2&t&&(z.Db(1),z.Yc(z.kc(2,1,"COMMON.YES")))}function G(t,e){1&t&&(z.Vb(0),z.Xc(1),z.jc(2,"translate"),z.Ub()),2&t&&(z.Db(1),z.Yc(z.kc(2,1,"COMMON.NO")))}function J(t,e){if(1&t&&(z.Vb(0),z.Xc(1),z.Ub()),2&t){const t=z.ic();z.Db(1),z.Zc(" ",null==t.patientInfo||null==t.patientInfo.address?null:t.patientInfo.address.line1,",\xa0 ")}}function K(t,e){if(1&t&&(z.Vb(0),z.Xc(1),z.Ub()),2&t){const t=z.ic();z.Db(1),z.Zc(" ",null==t.patientInfo||null==t.patientInfo.address?null:t.patientInfo.address.line2,",\xa0 ")}}function Q(t,e){if(1&t&&(z.Vb(0),z.Xc(1),z.Ub()),2&t){const t=z.ic();z.Db(1),z.Zc(" ",null==t.patientInfo||null==t.patientInfo.address?null:t.patientInfo.address.city,",\xa0 ")}}function tt(t,e){if(1&t&&(z.Vb(0),z.Xc(1),z.Ub()),2&t){const t=z.ic();z.Db(1),z.Zc(" ",null==t.patientInfo||null==t.patientInfo.address?null:t.patientInfo.address.state,"\xa0 ")}}function et(t,e){if(1&t&&(z.Vb(0),z.Xc(1),z.Ub()),2&t){const t=z.ic();z.Db(1),z.Zc(" -\xa0",null==t.patientInfo||null==t.patientInfo.address?null:t.patientInfo.address.country," ")}}function nt(t,e){if(1&t&&(z.Vb(0),z.Xc(1),z.Ub()),2&t){const t=z.ic();z.Db(1),z.Zc(" -\xa0",null==t.patientInfo||null==t.patientInfo.address?null:t.patientInfo.address.pin," ")}}function it(t,e){1&t&&(z.Xb(0,"p"),z.Xc(1," N/A "),z.Wb())}let at=(()=>{class t{constructor(t){this.modalRef=t}ngOnInit(){}destroyModal(){this.modalRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(y.e))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-chart-patient-demographic-dialog"]],inputs:{patientInfo:"patientInfo"},decls:45,vars:56,consts:[["nzBordered","",3,"nzColumn"],[3,"nzTitle","nzSpan"],[3,"ngSwitch"],[4,"ngSwitchCase"],["nzTitle","Patient Insurance Tier",3,"nzSpan"],[4,"ngSwitchDefault"],["nzTitle","Home address",3,"nzSpan"],["nz-tooltip","",3,"nzTooltipTitle"],[4,"ngIf"],["nz-row","","nzJustify","end"],["nz-col",""],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){1&t&&(z.Xb(0,"nz-descriptions",0),z.Xb(1,"nz-descriptions-item",1),z.jc(2,"translate"),z.Xc(3),z.Wb(),z.Xb(4,"nz-descriptions-item",1),z.jc(5,"translate"),z.Xb(6,"span",2),z.Vc(7,U,3,3,"ng-container",3),z.Vc(8,j,3,3,"ng-container",3),z.Vc(9,B,3,3,"ng-container",3),z.Wb(),z.Wb(),z.Xb(10,"nz-descriptions-item",1),z.jc(11,"translate"),z.Xc(12),z.jc(13,"date"),z.Wb(),z.Xb(14,"nz-descriptions-item",4),z.Xc(15),z.Wb(),z.Xb(16,"nz-descriptions-item",1),z.jc(17,"translate"),z.Xb(18,"span",2),z.Vc(19,q,3,3,"ng-container",3),z.Vc(20,Y,3,3,"ng-container",5),z.Wb(),z.Wb(),z.Xb(21,"nz-descriptions-item",1),z.jc(22,"translate"),z.Xb(23,"span",2),z.Vc(24,$,3,3,"ng-container",3),z.Vc(25,Z,3,3,"ng-container",5),z.Wb(),z.Wb(),z.Xb(26,"nz-descriptions-item",1),z.jc(27,"translate"),z.Xb(28,"span",2),z.Vc(29,H,3,3,"ng-container",3),z.Vc(30,G,3,3,"ng-container",5),z.Wb(),z.Wb(),z.Xb(31,"nz-descriptions-item",6),z.Xb(32,"p",7),z.Vc(33,J,2,1,"ng-container",8),z.Vc(34,K,2,1,"ng-container",8),z.Vc(35,Q,2,1,"ng-container",8),z.Vc(36,tt,2,1,"ng-container",8),z.Vc(37,et,2,1,"ng-container",8),z.Vc(38,nt,2,1,"ng-container",8),z.Wb(),z.Vc(39,it,2,0,"p",8),z.Wb(),z.Wb(),z.Sb(40,"br"),z.Xb(41,"div",9),z.Xb(42,"div",10),z.Xb(43,"button",11),z.ec("click",function(){return e.destroyModal()}),z.Xc(44,"Ok"),z.Wb(),z.Wb(),z.Wb()),2&t&&(z.rc("nzColumn",6),z.Db(1),z.sc("nzTitle",z.kc(2,41,"PATIENT.FULL_NAME")),z.rc("nzSpan",4),z.Db(2),z.Yc((null==e.patientInfo?null:e.patientInfo.fullName)||"N/A"),z.Db(1),z.sc("nzTitle",z.kc(5,43,"PATIENT.GENDER")),z.rc("nzSpan",2),z.Db(2),z.rc("ngSwitch",null==e.patientInfo?null:e.patientInfo.gender),z.Db(1),z.rc("ngSwitchCase","MALE"),z.Db(1),z.rc("ngSwitchCase","FEMALE"),z.Db(1),z.rc("ngSwitchCase","OTHER"),z.Db(1),z.sc("nzTitle",z.kc(11,45,"COMMON.DOB")),z.rc("nzSpan",3),z.Db(2),z.Yc(z.lc(13,47,null==e.patientInfo?null:e.patientInfo.dateOfBirth,"MM/dd/yyyy")),z.Db(2),z.rc("nzSpan",3),z.Db(1),z.Yc(null==e.patientInfo||null==e.patientInfo.insuranceInformation?null:e.patientInfo.insuranceInformation.tier),z.Db(1),z.sc("nzTitle",z.kc(17,50,"PATIENT.SMS_CONSENT")),z.rc("nzSpan",2),z.Db(2),z.rc("ngSwitch",null==e.patientInfo||null==e.patientInfo.patientConsent?null:e.patientInfo.patientConsent.vmConsent),z.Db(1),z.rc("ngSwitchCase",!0),z.Db(2),z.sc("nzTitle",z.kc(22,52,"PATIENT.VM_CONSENT")),z.rc("nzSpan",2),z.Db(2),z.rc("ngSwitch",null==e.patientInfo||null==e.patientInfo.patientConsent?null:e.patientInfo.patientConsent.vmConsent),z.Db(1),z.rc("ngSwitchCase",!0),z.Db(2),z.sc("nzTitle",z.kc(27,54,"PATIENT.HIPAA_CONSENT")),z.rc("nzSpan",2),z.Db(2),z.rc("ngSwitch",null==e.patientInfo||null==e.patientInfo.patientConsent?null:e.patientInfo.patientConsent.hipaaConsent),z.Db(1),z.rc("ngSwitchCase",!0),z.Db(2),z.rc("nzSpan",6),z.Db(1),z.wc("nzTooltipTitle","",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.line1,"\n                                 ",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.line2," ",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.city,"\n                                 ",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.state," ",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.country,"\n                                 ",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.pin,""),z.Db(1),z.rc("ngIf",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.line1),z.Db(1),z.rc("ngIf",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.line2),z.Db(1),z.rc("ngIf",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.city),z.Db(1),z.rc("ngIf",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.state),z.Db(1),z.rc("ngIf",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.country),z.Db(1),z.rc("ngIf",null==e.patientInfo||null==e.patientInfo.address?null:e.patientInfo.address.pin),z.Db(1),z.rc("ngIf",!(null!=e.patientInfo&&null!=e.patientInfo.address&&e.patientInfo.address.line1||null!=e.patientInfo&&null!=e.patientInfo.address&&e.patientInfo.address.line2||null!=e.patientInfo&&null!=e.patientInfo.address&&e.patientInfo.address.city||null!=e.patientInfo&&null!=e.patientInfo.address&&e.patientInfo.address.state||null!=e.patientInfo&&null!=e.patientInfo.address&&e.patientInfo.address.country||null!=e.patientInfo&&null!=e.patientInfo.address&&e.patientInfo.address.pin)))},directives:[x.a,x.b,a.s,a.t,a.u,k.d,a.q,W.c,W.a,E.a,_.a,R.a],pipes:[F.a,a.e],styles:[""]}),t})();var ot=n("rMZv"),rt=n("wjar"),st=n("0zwC"),lt=n("QlLE"),ct=n("ZyQt"),pt=n("FwiY"),dt=n("ncKW");function ut(t,e){if(1&t&&(z.Xb(0,"tr"),z.Xb(1,"td"),z.Xc(2),z.Wb(),z.Xb(3,"td",9),z.Xb(4,"span",10),z.Xc(5),z.Wb(),z.Wb(),z.Xb(6,"td"),z.Sb(7,"app-patient-status-tag",11),z.Wb(),z.Xb(8,"td",12),z.Xb(9,"span",10),z.Xc(10),z.Wb(),z.Wb(),z.Xb(11,"td"),z.Xc(12),z.jc(13,"date"),z.Wb(),z.Xb(14,"td"),z.Xb(15,"span",10),z.jc(16,"purposeLabel"),z.Xc(17),z.jc(18,"purposeLabel"),z.Wb(),z.Wb(),z.Xb(19,"td"),z.Xc(20),z.Wb(),z.Wb()),2&t){const t=e.$implicit;z.Db(2),z.Yc((null==t?null:t.episodeType)||"N/A"),z.Db(1),z.tc("routerLink","/patient/view/",null==t?null:t.attendeeId,""),z.Db(1),z.sc("nzTooltipTitle",(null==t?null:t.attendeeName)||"N/A"),z.Db(1),z.Zc(" ",(null==t?null:t.attendeeName)||"N/A"," "),z.Db(2),z.rc("patientStatus",null==t?null:t.patientStatus),z.Db(2),z.sc("nzTooltipTitle",(null==t?null:t.attenderName)||"N/A"),z.Db(1),z.Zc(" ",(null==t?null:t.attenderName)||"N/A"," "),z.Db(2),z.Yc(z.lc(13,11,null==t||null==t.schedule?null:t.schedule.startDate,"MMM dd, hh:mm a")),z.Db(3),z.sc("nzTooltipTitle",z.kc(16,14,null==t?null:t.appointmentPurpose)),z.Db(2),z.Zc(" ",z.kc(18,16,null==t?null:t.appointmentPurpose)," "),z.Db(3),z.Yc(null==t?null:t.attemptCount)}}function bt(t,e){1&t&&(z.Xb(0,"nz-tag",16),z.Sb(1,"i",17),z.Xb(2,"span"),z.Xc(3,"Please select a staff to continue"),z.Wb(),z.Wb())}function ft(t,e){if(1&t&&(z.Xb(0,"span"),z.Xc(1),z.jc(2,"translate"),z.Wb(),z.Xb(3,"p"),z.Xb(4,"span"),z.Vc(5,bt,4,0,"nz-tag",15),z.Wb(),z.Wb()),2&t){const t=z.ic(2);z.Db(1),z.Zc(" ",z.kc(2,2,"COMMON.NODATA")," "),z.Db(4),z.rc("ngIf",!t.selectedStaff)}}function gt(t,e){if(1&t&&(z.Xb(0,"nz-empty",13),z.Vc(1,ft,6,4,"ng-template",null,14,z.Wc),z.Wb()),2&t){const t=z.Ic(2);z.rc("nzNotFoundImage","https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original")("nzNotFoundContent",t)}}let ht=(()=>{class t{constructor(t){this.modalRef=t}ngOnInit(){}destroyModal(){this.modalRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(y.e))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-chart-patient-appointment-dialog"]],inputs:{appointments:"appointments"},decls:29,vars:12,consts:[[3,"nzData","nzShowPagination"],["upcoming",""],["nzColumnKey","date"],["nzColumnKey","attempt","nzWidth","100px"],["ngFor","",3,"ngForOf"],["noData",""],["nz-row","","nzJustify","end"],["nz-col",""],["nz-button","","nzType","primary",3,"click"],["actionable","",3,"routerLink"],["nz-typography","","nzEllipsis","","nz-tooltip","",3,"nzTooltipTitle"],["isToolTipEnabled","true",3,"patientStatus"],[1,"char-bound-field"],[2,"flex","1","overflow","auto",3,"nzNotFoundImage","nzNotFoundContent"],["contentTpl",""],["nzColor","processing",4,"ngIf"],["nzColor","processing"],["nz-icon","","nzType","exclamation-circle"]],template:function(t,e){if(1&t&&(z.Xb(0,"nz-table",0,1),z.Xb(2,"thead"),z.Xb(3,"tr"),z.Xb(4,"th"),z.Xc(5,"Episode"),z.Wb(),z.Xb(6,"th"),z.Xc(7),z.jc(8,"translate"),z.Wb(),z.Sb(9,"th"),z.Xb(10,"th"),z.Xc(11),z.jc(12,"translate"),z.Wb(),z.Xb(13,"th",2),z.Xc(14),z.jc(15,"translate"),z.Wb(),z.Xb(16,"th"),z.Xc(17,"Type"),z.Wb(),z.Xb(18,"th",3),z.Xc(19,"Attempt"),z.Wb(),z.Wb(),z.Wb(),z.Xb(20,"tbody"),z.Vc(21,ut,21,18,"ng-template",4),z.Wb(),z.Vc(22,gt,3,2,"ng-template",null,5,z.Wc),z.Wb(),z.Sb(24,"br"),z.Xb(25,"div",6),z.Xb(26,"div",7),z.Xb(27,"button",8),z.ec("click",function(){return e.destroyModal()}),z.Xc(28,"Ok"),z.Wb(),z.Wb(),z.Wb()),2&t){const t=z.Ic(1);z.rc("nzData",e.appointments)("nzShowPagination",!0),z.Db(7),z.Yc(z.kc(8,6,"HEADER.PATIENTS")),z.Db(4),z.Yc(z.kc(12,8,"TABLEHEADER.ASSIGNEDTO")),z.Db(3),z.Yc(z.kc(15,10,"COMMON.DATE_TIME")),z.Db(7),z.rc("ngForOf",t.data)}},directives:[ot.f,ot.n,ot.o,ot.e,ot.l,ot.k,ot.i,a.p,W.c,W.a,E.a,_.a,R.a,rt.a,s.h,A.a,k.d,st.a,lt.b,a.q,ct.a,pt.a],pipes:[F.a,a.e,dt.a],styles:[""]}),t})();var mt=n("cTUG");function zt(t,e){if(1&t){const t=z.Yb();z.Vb(0),z.Xb(1,"app-plan-of-care-details",6),z.ec("refresh",function(){return z.Lc(t),z.ic().getPlanOfCare()}),z.Wb(),z.Sb(2,"br"),z.Ub()}if(2&t){const t=e.$implicit;z.Db(1),z.rc("planOfCare",t)}}function vt(t,e){1&t&&(z.Vb(0),z.Xb(1,"strong"),z.Xc(2,"Plan of Care has not been assigned yet!"),z.Wb(),z.Ub())}let St=(()=>{class t{constructor(t){this.modalRef=t}ngOnInit(){}destroyModal(){this.modalRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(y.e))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-chart-patient-plan-of-care-dialog"]],inputs:{planOfCares:"planOfCares"},decls:8,vars:2,consts:[[1,"poc-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["nz-row","","nzJustify","end"],["nz-col",""],["nz-button","","nzType","primary",3,"click"],[3,"planOfCare","refresh"]],template:function(t,e){1&t&&(z.Xb(0,"div",0),z.Vc(1,zt,3,1,"ng-container",1),z.Vc(2,vt,3,0,"ng-container",2),z.Wb(),z.Sb(3,"br"),z.Xb(4,"div",3),z.Xb(5,"div",4),z.Xb(6,"button",5),z.ec("click",function(){return e.destroyModal()}),z.Xc(7,"Ok"),z.Wb(),z.Wb(),z.Wb()),2&t&&(z.Db(1),z.rc("ngForOf",e.planOfCares),z.Db(1),z.rc("ngIf",e.planOfCares&&!(null!=e.planOfCares&&e.planOfCares.length)))},directives:[a.p,a.q,W.c,W.a,E.a,_.a,R.a,mt.a],styles:[".poc-container[_ngcontent-%COMP%]{max-height:60vh;overflow:scroll}"]}),t})();var Ct=n("UpsY");function It(t,e){if(1&t&&(z.Vb(0),z.Xc(1),z.Ub()),2&t){const t=e.$implicit;z.Db(1),z.Zc(" ",null==t?null:t.name," \xa0 ")}}function Xt(t,e){1&t&&(z.Vb(0),z.Xc(1,", "),z.Ub())}function Dt(t,e){if(1&t&&(z.Xb(0,"span"),z.Xc(1),z.jc(2,"titlecase"),z.jc(3,"userLocation"),z.Vc(4,Xt,2,0,"ng-container",9),z.Wb()),2&t){const t=z.ic(),e=t.$implicit,n=t.index,i=z.ic().$implicit;z.Db(1),z.Zc(" ",z.kc(2,2,z.kc(3,4,null==e?null:e.id)),""),z.Db(3),z.rc("ngIf",n!==(null==i||null==i.locations?null:i.locations.length)-1)}}function yt(t,e){if(1&t&&(z.Xb(0,"strong"),z.Vc(1,Dt,5,6,"span",9),z.Wb()),2&t){const t=e.$implicit;z.Db(1),z.rc("ngIf",null==t?null:t.defaultLocation)}}function Tt(t,e){if(1&t&&(z.Xb(0,"div",5),z.Xb(1,"nz-card",6),z.Xb(2,"div"),z.Xb(3,"strong"),z.Xc(4),z.Wb(),z.Xb(5,"p",7),z.Vc(6,It,2,1,"ng-container",8),z.Wb(),z.Xb(7,"p"),z.Sb(8,"br"),z.Xb(9,"label"),z.Xc(10,"Site: "),z.Wb(),z.Vc(11,yt,2,1,"strong",8),z.Wb(),z.Wb(),z.Wb(),z.Wb()),2&t){const t=e.$implicit;z.Db(1),z.rc("nzHoverable",!0),z.Db(3),z.Yc(null==t?null:t.fullName),z.Db(2),z.rc("ngForOf",null==t?null:t.roles),z.Db(5),z.rc("ngForOf",null==t?null:t.locations)}}let Pt=(()=>{class t{constructor(t){this.modalRef=t}ngOnInit(){}destroyModal(){this.modalRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(y.e))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-chart-provider-info-dialog"]],inputs:{physicians:"physicians"},decls:7,vars:1,consts:[["nz-row",""],["nz-col","","nzXs","24","nzSm","12","nzMd","8","class","physician",4,"ngFor","ngForOf"],["nz-row","","nzJustify","end"],["nz-col",""],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzXs","24","nzSm","12","nzMd","8",1,"physician"],[3,"nzHoverable"],["nz-typography","","nzType","secondary"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,e){1&t&&(z.Xb(0,"div",0),z.Vc(1,Tt,12,4,"div",1),z.Wb(),z.Sb(2,"br"),z.Xb(3,"div",2),z.Xb(4,"div",3),z.Xb(5,"button",4),z.ec("click",function(){return e.destroyModal()}),z.Xc(6,"Ok"),z.Wb(),z.Wb(),z.Wb()),2&t&&(z.Db(1),z.rc("ngForOf",e.physicians))},directives:[W.c,a.p,W.a,E.a,_.a,R.a,P.a,A.a,a.q],pipes:[a.A,Ct.a],styles:["nz-card[_ngcontent-%COMP%]{background:var(--neutral-color) 0 0 no-repeat padding-box;border-radius:5px;cursor:default}[_nghost-%COMP%]     .ant-card-body{padding:16px 0 16px 16px}"]}),t})();function Ot(t,e){if(1&t&&(z.Xb(0,"div",6),z.Xb(1,"nz-tag",7),z.Xc(2),z.Wb(),z.Wb()),2&t){const t=e.$implicit;z.Db(1),z.rc("nzColor","green"),z.Db(1),z.ad(" ",null==t?null:t.code,", ",null==t?null:t.description," ")}}function Mt(t,e){1&t&&(z.Xb(0,"div",4),z.Xb(1,"strong"),z.Xc(2,"N/A"),z.Wb(),z.Wb())}const Wt=function(){return[32,8]};let Et=(()=>{class t{constructor(t){this.modalRef=t}ngOnInit(){}destroyModal(){this.modalRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(y.e))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-chart-patient-problem-list-dialog"]],inputs:{patientInfo:"patientInfo"},decls:8,vars:4,consts:[["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","24",4,"ngFor","ngForOf"],["nz-col","",4,"ngIf"],["nz-row","","nzJustify","end"],["nz-col",""],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzSpan","24"],[3,"nzColor"]],template:function(t,e){1&t&&(z.Xb(0,"div",0),z.Vc(1,Ot,3,3,"div",1),z.Vc(2,Mt,3,0,"div",2),z.Wb(),z.Sb(3,"br"),z.Xb(4,"div",3),z.Xb(5,"div",4),z.Xb(6,"button",5),z.ec("click",function(){return e.destroyModal()}),z.Xc(7,"Ok"),z.Wb(),z.Wb(),z.Wb()),2&t&&(z.rc("nzGutter",z.xc(3,Wt)),z.Db(1),z.rc("ngForOf",null==e.patientInfo||null==e.patientInfo.healthInfo?null:e.patientInfo.healthInfo.dxCodes),z.Db(1),z.rc("ngIf",!(null!=e.patientInfo&&null!=e.patientInfo.healthInfo&&null!=e.patientInfo.healthInfo.dxCodes&&e.patientInfo.healthInfo.dxCodes.length)))},directives:[W.c,a.p,a.q,W.a,E.a,_.a,R.a,ct.a],styles:[""]}),t})();var _t=n("2lmJ"),Rt=n("zAKX");function At(t,e){if(1&t&&z.Sb(0,"nz-option",8),2&t){const t=e.$implicit;z.rc("nzValue",null==t?null:t.id)("nzLabel",(null==t?null:t.fullName)+" ("+(null==t||null==t.role?null:t.role.name)+") ")}}let Nt=(()=>{class t{constructor(t){this.modalRef=t}ngOnInit(){}destroyModal(){this.modalRef.destroy(this.staffSelected)}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(y.e))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-peer-review-dialog"]],inputs:{staffs:"staffs"},decls:11,vars:3,consts:[["nz-row","","nzAlign","middle"],["nz-col","","nzSpan","16"],["nz-col","","nzSpan","8"],["nzPlaceHolder","Select a staff","nzAllowClear","","nzSize","large",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-row","","nzJustify","end"],["nz-col",""],["nz-button","","nzType","primary",3,"disabled","click"],[3,"nzValue","nzLabel"]],template:function(t,e){1&t&&(z.Xb(0,"div",0),z.Xb(1,"div",1),z.Xc(2," Select a staff to assign this item for peer review : "),z.Wb(),z.Xb(3,"div",2),z.Xb(4,"nz-select",3),z.ec("ngModelChange",function(t){return e.staffSelected=t}),z.Vc(5,At,1,2,"nz-option",4),z.Wb(),z.Wb(),z.Wb(),z.Sb(6,"br"),z.Xb(7,"div",5),z.Xb(8,"div",6),z.Xb(9,"button",7),z.ec("click",function(){return e.destroyModal()}),z.Xc(10,"Assign"),z.Wb(),z.Wb(),z.Wb()),2&t&&(z.Db(4),z.rc("ngModel",e.staffSelected),z.Db(1),z.rc("ngForOf",e.staffs),z.Db(4),z.rc("disabled",!e.staffSelected))},directives:[W.c,W.a,Rt.d,r.u,r.x,a.p,E.a,_.a,R.a,Rt.a],styles:[""]}),t})();class wt{constructor(){this.state="ALL",this.program="CCM"}}let Vt=(()=>{class t{constructor(t,e){this._router=t,this._activatedRoute=e,this.queryParams=this._activatedRoute.snapshot.queryParams,this._activatedRoute.queryParams.subscribe(t=>{this.queryParams=t})}setParameter(t,e=!1,n){this._router.navigate([],{queryParams:t,queryParamsHandling:e?"":"merge",relativeTo:this._activatedRoute,replaceUrl:n})}getParameterValue(t){return"program"===t?this.queryParams[t]||"CCM":this.queryParams[t]}}return t.\u0275fac=function(e){return new(e||t)(z.bc(s.g),z.bc(s.a))},t.\u0275prov=z.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Lt=(()=>{class t{constructor(t){this._urlService=t}countFiltersApplied(){let t=0;return this._urlService.getParameterValue("isBillable")&&t++,this._urlService.getParameterValue("program")&&t++,this._urlService.getParameterValue("state")&&"ALL"!=this._urlService.getParameterValue("state")&&t++,this._urlService.getParameterValue("staffIds")&&t++,t}}return t.\u0275fac=function(e){return new(e||t)(z.bc(Vt))},t.\u0275prov=z.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xt=new Map([["ALL","All"],["SUBMITTED","Submitted"],["AUTO_APPROVED","Auto Approved"],["APPROVED","Approved"],["CORRECTED","Corrected"],["REJECTED","Rejected"],["PEER_REVIEW","Peer Review"]]),kt=new Map([["ALL","All"],["ENROLLMENT","Enrollment"],["BILLABLE_ENCOUNTER","Billable Encounter"],["NON_BILLABLE_ENCOUNTER","Non-Billable Encounter"]]),Ft=new Map([["MONITORING_STAFF","Monitoring Staff"],["ENROLMENT_STAFF","Enrollment Staff"]]),Ut=new Map([["ONBOARDING","Onboarding"],["DATA_REVIEW_EHR","Data Review - EHR"],["DATA_REVIEW_MD","Data Review - MD"],["ALERT_MANAGEMENT","Managing Alerts"],["ESCALATION","Escalation"],["CARE_PLAN_MODIFICATION","PoC Modification"],["CARE_COORDINATION","Care Coordination"],["MEDICATION_REVIEW","Medication Review"],["ENROLLMENT","Enrollment"],["OTHERS","Others"],["ASSESSMENT_REVIEW","Assessment Review"]]);new Map([["NON_COMPLEX_TMS","99490"],["NON_COMPLEX_TMS_PHYSICIAN","99491"],["NON_COMPLEX_ADDITIONAL_TMS","99439"],["NON_COMPLEX_ADDITIONAL_TMS_B","99439B"],["COMPLEX_TMS","99487"],["COMPLEX_ADDITIONAL_TMS","99489"]]);var jt=n("oyxB"),Bt=n("ocnv");function qt(t,e){if(1&t){const t=z.Yb();z.Xb(0,"nz-tag",24),z.ec("nzOnClose",function(){z.Lc(t);const n=e.$implicit;return z.ic(2).onClose(n)}),z.Xc(1),z.Wb()}if(2&t){const t=e.$implicit;z.Db(1),z.Zc("",null==t?null:t.fullName," ")}}function Yt(t,e){if(1&t&&z.Sb(0,"nz-option",25),2&t){const t=e.$implicit;z.rc("nzValue",t)("nzLabel",null==t?null:t.fullName)}}function $t(t,e){1&t&&(z.Vb(0),z.Xc(1),z.jc(2,"translate"),z.Ub()),2&t&&(z.Db(1),z.Zc(" ",z.kc(2,1,"FILTER.NO_RESULTS_MATCHING_THE_FILTER_CRITERIA")," "))}function Zt(t,e){if(1&t&&(z.Xc(0),z.jc(1,"translate"),z.Xb(2,"label",26),z.Xc(3),z.Wb()),2&t){const t=z.ic(2);z.Zc(" ",z.kc(1,2,"USER_TYPE")," "),z.Db(3),z.Zc(" ",t.userTypeNameMap.get(t.selectedUserType)," ")}}function Ht(t,e){if(1&t){const t=z.Yb();z.Xb(0,"nz-tab",4),z.Xb(1,"nz-radio-group",5),z.ec("ngModelChange",function(e){return z.Lc(t),z.ic().selectedUserType=e})("ngModelChange",function(e){return z.Lc(t),z.ic().onSelectUserType(e)}),z.Xb(2,"label",14),z.Xc(3,"Monitoring Staff"),z.Wb(),z.Xb(4,"label",15),z.Xc(5," Enrollment Staff"),z.Wb(),z.Wb(),z.Xb(6,"div",16),z.Xb(7,"div",17),z.Vc(8,qt,2,1,"nz-tag",18),z.Wb(),z.Xb(9,"div"),z.Xb(10,"nz-form-item"),z.Xb(11,"nz-form-control",19),z.jc(12,"translate"),z.Xb(13,"nz-select",20),z.ec("ngModelChange",function(e){return z.Lc(t),z.ic().selectedUser=e})("ngModelChange",function(){return z.Lc(t),z.ic().selectUser()}),z.Vc(14,Yt,1,2,"nz-option",21),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Sb(15,"br"),z.Vc(16,$t,3,3,"ng-container",22),z.Vc(17,Zt,4,4,"ng-template",null,23,z.Wc),z.Wb()}if(2&t){const t=z.Ic(18),e=z.ic();z.rc("nzTitle",t),z.Db(1),z.rc("ngModel",e.selectedUserType),z.Db(5),z.rc("hidden",!e.selectedUserType),z.Db(2),z.rc("ngForOf",e.selectedUsers),z.Db(3),z.sc("nzErrorTip",z.kc(12,8,"COMMON.REQUIRED")),z.Db(2),z.rc("ngModel",e.selectedUser),z.Db(1),z.rc("ngForOf",e.filteredUsers),z.Db(2),z.rc("ngIf",!e.loadingUsers&&(null==e.filteredUsers?null:e.filteredUsers.length))}}function Gt(t,e){if(1&t&&(z.Xb(0,"label",27),z.Xc(1),z.Wb()),2&t){const t=e.$implicit;z.rc("nzValue",t),z.Db(1),z.Zc(" ",t," ")}}function Jt(t,e){if(1&t&&(z.Xc(0),z.jc(1,"translate"),z.Xb(2,"label",26),z.Xc(3),z.Wb()),2&t){const t=z.ic();z.Zc(" ",z.kc(1,2,"PROGRAM")," "),z.Db(3),z.Zc(" ",t.selectedProgram," ")}}function Kt(t,e){if(1&t&&(z.Xb(0,"label",27),z.Xc(1),z.Wb()),2&t){const t=e.$implicit;z.sc("nzValue",t.key),z.Db(1),z.Yc(t.value)}}function Qt(t,e){if(1&t&&(z.Xc(0),z.jc(1,"translate"),z.Xb(2,"label",26),z.Xc(3),z.Wb()),2&t){const t=z.ic();z.Zc(" ",z.kc(1,2,"ENCOUNTER_TYPE")," "),z.Db(3),z.Zc(" ",t.encounterNameMap.get(t.selectedEncounterType)," ")}}function te(t,e){if(1&t&&(z.Xb(0,"label",27),z.Xc(1),z.Wb()),2&t){const t=e.$implicit;z.sc("nzValue",t.key),z.Db(1),z.Yc(t.value)}}function ee(t,e){if(1&t&&(z.Xc(0),z.jc(1,"translate"),z.Xb(2,"label",26),z.Xc(3),z.Wb()),2&t){const t=z.ic();z.Zc(" ",z.kc(1,2,"STATE_TYPE")," "),z.Db(3),z.Zc(" ",t.stateNameMap.get(t.selectedState)," ")}}let ne=(()=>{class t{constructor(t,e,n){this._modalRef=t,this._urlService=e,this._filterCountService=n,this.selectedProgram="CCM",this.selectedUsers=new Array,this.filteredUsers=new Array,this.programs=["CCM","TOC","PCM","RPM"],this.staffIds=new Array,this.loadingUsers=!0,this.filterRequest=new wt,this.stateNameMap=xt,this.encounterNameMap=kt,this.userTypeNameMap=Ft,this.selectedUsers=[]}ngOnInit(){var t,e;this.startDate=null===(t=this.dateRange[0])||void 0===t?void 0:t.toISOString().slice(0,10),this.endDate=null===(e=this.dateRange[1])||void 0===e?void 0:e.toISOString().slice(0,10),this.programTypes=this.programTypes.filter(t=>this.programs.includes(t)),this.setCurrentState()}applyFilter(){var t,e;this.selectedUsers&&(this.staffIds=this.selectedUsers.map(t=>t.id));const n="BILLABLE_ENCOUNTER"==this.selectedEncounterType,i="ENROLLMENT"==this.selectedEncounterType;let a=this.staffIds?this.staffIds.join(","):void 0;this.filterRequest=new wt,this.filterRequest.staffIds=a,this.filterRequest.startDate=null===(t=this.dateRange[0])||void 0===t?void 0:t.toISOString().slice(0,10),this.filterRequest.endDate=null===(e=this.dateRange[1])||void 0===e?void 0:e.toISOString().slice(0,10),this.filterRequest.state="ALL"!==this.selectedState?this.selectedState:null,this.filterRequest.program=this.selectedProgram,this.filterRequest.isBillable=this.selectedEncounterType&&"ALL"!==this.selectedEncounterType?n:null,this.filterRequest.isEnrollment=this.selectedEncounterType&&"ALL"!==this.selectedEncounterType?i:null,this.filterRequest.stafftype=this.selectedUserType,this._urlService.setParameter(this.filterRequest),this.totalFiltersApplied=this._filterCountService.countFiltersApplied(),this._modalRef.close()}clearAll(){this.startDate=null,this.endDate=null,this.selectedUserType=null,this.selectedUsers=null,this.selectedProgram=null,this.selectedEncounterType=null,this.isEnrollment=null,this.selectedState=null,this.staffIds=null}selectUser(){this.selectedUsers.includes(this.selectedUser)||this.selectedUsers.push(this.selectedUser)}onSelectUserType(t){this.selectedUsers=[],this.filteredUsers="MONITORING_STAFF"===t?this.monitoringStaff:this.enrollmentStaff}setCurrentState(){var t;this.selectedUserType=this._urlService.getParameterValue("stafftype"),this.selectedProgram=this._urlService.getParameterValue("program"),this.selectedEncounterType=this._urlService.getParameterValue("isBillable"),this.isEnrollment="true"===this._urlService.getParameterValue("isEnrollment"),this.selectedState=this._urlService.getParameterValue("state"),this.startDate=this._urlService.getParameterValue("startDate"),this.endDate=this._urlService.getParameterValue("endDate"),this.staffIds=null===(t=this._urlService.getParameterValue("staffIds"))||void 0===t?void 0:t.split(","),this.filteredUsers="MONITORING_STAFF"===this.selectedUserType?this.monitoringStaff:this.enrollmentStaff,this.selectedUsers=this.staffIds?this.filteredUsers.filter(t=>{var e;return null===(e=this.staffIds)||void 0===e?void 0:e.includes(t.id)}):[],this.selectedEncounterType=null!=this.selectedEncounterType?"true"===this.selectedEncounterType?"BILLABLE_ENCOUNTER":this.isEnrollment?"ENROLLMENT":"NON_BILLABLE_ENCOUNTER":"ALL"}onClose(t){this.selectedUsers=this.selectedUsers.filter(e=>e.id!=t.id)}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(y.e),z.Rb(Vt),z.Rb(Lt))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-compliance-filter"]],inputs:{dateRange:"dateRange",episodeBlueprintId:"episodeBlueprintId",programTypes:"programTypes",monitoringStaff:"monitoringStaff",enrollmentStaff:"enrollmentStaff"},decls:31,vars:22,consts:[["nz-row","","nzGutter","8"],["nz-col","","nzSpan","24"],["nzTabBarGutter","10px",3,"nzSelectedIndex","nzTabPosition","nzSelectedIndexChange"],[3,"nzTitle",4,"ngIf"],[3,"nzTitle"],[3,"ngModel","ngModelChange"],["nz-radio","",3,"nzValue",4,"ngFor","ngForOf"],["programTitle",""],["encounterTypeTitle",""],["stateTitle",""],["nz-row","","nzGutter","8",2,"flex-direction","row-reverse","margin-top","10px"],["nz-col","","nzSpan","4"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","link",3,"click"],["nz-radio","","nzValue","MONITORING_STAFF"],["nz-radio","","nzValue","ENROLMENT_STAFF"],[1,"form-group",3,"hidden"],[1,"selectedusers-tag-div"],["class","selected-tag","nzMode","closeable",3,"nzOnClose",4,"ngFor","ngForOf"],[3,"nzErrorTip"],["nzPlaceHolder","Select a staff","nzShowSearch","",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[4,"ngIf"],["complianceUserTitle",""],["nzMode","closeable",1,"selected-tag",3,"nzOnClose"],[3,"nzValue","nzLabel"],[1,"filterTitle"],["nz-radio","",3,"nzValue"]],template:function(t,e){if(1&t&&(z.Vb(0),z.Xb(1,"div",0),z.Xb(2,"div",1),z.Xb(3,"nz-tabset",2),z.ec("nzSelectedIndexChange",function(t){return e.selectedTabIndex=t}),z.Vc(4,Ht,19,10,"nz-tab",3),z.Xb(5,"nz-tab",4),z.Xb(6,"nz-radio-group",5),z.ec("ngModelChange",function(t){return e.selectedProgram=t}),z.Vc(7,Gt,2,2,"label",6),z.Wb(),z.Vc(8,Jt,4,4,"ng-template",null,7,z.Wc),z.Wb(),z.Xb(10,"nz-tab",4),z.Xb(11,"nz-radio-group",5),z.ec("ngModelChange",function(t){return e.selectedEncounterType=t}),z.Vc(12,Kt,2,2,"label",6),z.jc(13,"keyvalue"),z.Wb(),z.Vc(14,Qt,4,4,"ng-template",null,8,z.Wc),z.Wb(),z.Xb(16,"nz-tab",4),z.Xb(17,"nz-radio-group",5),z.ec("ngModelChange",function(t){return e.selectedState=t}),z.Vc(18,te,2,2,"label",6),z.jc(19,"keyvalue"),z.Wb(),z.Vc(20,ee,4,4,"ng-template",null,9,z.Wc),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Xb(22,"div",10),z.Xb(23,"div",11),z.Xb(24,"button",12),z.ec("click",function(){return e.applyFilter()}),z.Xc(25),z.jc(26,"translate"),z.Wb(),z.Wb(),z.Xb(27,"div",11),z.Xb(28,"button",13),z.ec("click",function(){return e.clearAll()}),z.Xc(29),z.jc(30,"translate"),z.Wb(),z.Wb(),z.Wb(),z.Ub()),2&t){const t=z.Ic(9),n=z.Ic(15),i=z.Ic(21);z.Db(3),z.rc("nzSelectedIndex",e.selectedTabIndex)("nzTabPosition","left"),z.Db(1),z.rc("ngIf",0!=e.monitoringStaff.length||0!=e.enrollmentStaff.length),z.Db(1),z.rc("nzTitle",t),z.Db(1),z.rc("ngModel",e.selectedProgram),z.Db(1),z.rc("ngForOf",e.programTypes),z.Db(3),z.rc("nzTitle",n),z.Db(1),z.rc("ngModel",e.selectedEncounterType),z.Db(1),z.rc("ngForOf",z.kc(13,14,e.encounterNameMap)),z.Db(4),z.rc("nzTitle",i),z.Db(1),z.rc("ngModel",e.selectedState),z.Db(1),z.rc("ngForOf",z.kc(19,16,e.stateNameMap)),z.Db(7),z.Zc(" ",z.kc(26,18,"FILTERS.APPLY")," "),z.Db(4),z.Zc(" ",z.kc(30,20,"FILTERS.CLEAR_ALL")," ")}},directives:[W.c,W.a,jt.d,a.q,jt.a,M.c,r.u,r.x,a.p,E.a,_.a,R.a,M.b,Bt.c,Bt.a,Rt.d,ct.a,Rt.a],pipes:[a.j,F.a],styles:["[_nghost-%COMP%]     .ant-tabs-tab{width:200px;text-align:left!important;height:50px}[_nghost-%COMP%]     .ant-tabs{height:300px}[_nghost-%COMP%]     .ant-tabs-tab{color:var(--neutral-color)}[_nghost-%COMP%]     .ant-tabs-nav{background:#f6f6f6 0 0 no-repeat padding-box;border-radius:10px;width:262px;padding:35px 0 0 20px;font:normal normal 700 14px/19px Nunito;height:300px}[_nghost-%COMP%]     .ant-tabs-content-holder:first{height:350px;overflow-y:scroll;padding-left:10px}[_nghost-%COMP%]     .ant-tabs-content-holder{overflow:auto}[_nghost-%COMP%]     .ant-tabs-tab{height:auto;white-space:normal}[_nghost-%COMP%]     .ant-tabs-left>.ant-tabs-nav .ant-tabs-tab:last-of-type{padding:0}[_nghost-%COMP%]     .ant-tabs-tab-btn{text-align:left;color:var(--light-black)!important}[_nghost-%COMP%]     .ant-tabs-tab-active{border-bottom:none!important;border-left:2px solid var(--primary-color)!important}[_nghost-%COMP%]     .ant-tabs-ink-bar{height:0!important}.filterTitle[_ngcontent-%COMP%]{color:var(--light-black);font-weight:600;font-size:11px;display:block;margin:0;line-height:12px}[_nghost-%COMP%]     span.ant-radio+*{font-weight:400}[nz-radio][_ngcontent-%COMP%]{display:block;height:32px;line-height:32px}.loader-container[_ngcontent-%COMP%]{text-align:center;position:relative;top:145px}.font-weight-bold[_ngcontent-%COMP%]{font-weight:900}.list-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:0;margin-bottom:0}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{position:relative;display:block;padding:.75rem 1.25rem;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.selectedusers-tag-div[_ngcontent-%COMP%]{margin-top:10px;height:auto;padding:5px;margin-bottom:10px}.selected-tag[_ngcontent-%COMP%]{margin-bottom:5px}"]}),t})();var ie=n("1G5W"),ae=n("eIep"),oe=n("nLCl"),re=n("gXqy"),se=n("jKzE"),le=n("mrSG"),ce=n("/KA4"),pe=n("ZKr6"),de=n("Wfee");function ue(t,e){if(1&t&&z.Sb(0,"nz-alert",11),2&t){z.ic();const t=z.Ic(2);z.rc("nzMessage",t)}}function be(t,e){if(1&t&&(z.Xc(0," Pending Peer Review by "),z.Xb(1,"strong"),z.Xc(2),z.Wb(),z.Xc(3," assigned by "),z.Xb(4,"strong"),z.Xc(5),z.Wb()),2&t){const t=z.ic();z.Db(2),z.Yc(null==t.data?null:t.data.reviewStaff),z.Db(3),z.Yc(null==t.data?null:t.data.reviewOwnerStaff)}}function fe(t,e){if(1&t){const t=z.Yb();z.Xb(0,"div",16),z.Xb(1,"button",17),z.ec("click",function(){return z.Lc(t),z.ic(3).approve()}),z.Xc(2," Approve "),z.Wb(),z.Wb()}}function ge(t,e){if(1&t){const t=z.Yb();z.Xb(0,"div",16),z.Xb(1,"button",18),z.ec("click",function(){return z.Lc(t),z.ic(3).peerReview()}),z.Xc(2," Peer Review "),z.Wb(),z.Wb()}}function he(t,e){if(1&t){const t=z.Yb();z.Xb(0,"div",16),z.Xb(1,"button",19),z.ec("click",function(){return z.Lc(t),z.ic(3).reject()}),z.Xc(2," Reject "),z.Wb(),z.Wb()}}function me(t,e){if(1&t&&(z.Xb(0,"div",13),z.Xb(1,"div",14),z.Vc(2,fe,3,0,"div",15),z.Vc(3,ge,3,0,"div",15),z.Vc(4,he,3,0,"div",15),z.Wb(),z.Wb()),2&t){const t=z.ic(2);z.Db(2),z.rc("ngIf",t.canPerformAction&&"APPROVED"!==(null==t.data||null==t.data.compliance?null:t.data.compliance.state)&&"AUTO_APPROVED"!==(null==t.data||null==t.data.compliance?null:t.data.compliance.state)),z.Db(1),z.rc("ngIf",t.canPerformAction&&"PEER_REVIEW"!==(null==t.data||null==t.data.compliance?null:t.data.compliance.state)),z.Db(1),z.rc("ngIf",t.canPerformAction&&"REJECTED"!==(null==t.data||null==t.data.compliance?null:t.data.compliance.state))}}function ze(t,e){if(1&t&&(z.Vb(0),z.Vc(1,me,5,3,"div",12),z.Ub()),2&t){const t=z.ic();z.Db(1),z.rc("ngIf",!t.infoOnly)}}const ve=function(){return["APPROVE_COMPLIANCE"]};let Se=(()=>{class t{constructor(){this.allowAction=!1,this.infoOnly=!1,this.onApprove=new z.n,this.onReject=new z.n,this.onPeerReview=new z.n,this.stateNameMap=xt,this.stateClassMap=new Map([["SUBMITTED","status-default"],["AUTO_APPROVED","status-auto-approved"],["APPROVED","status-approved"],["CORRECTED","status-default"],["REJECTED","status-rejected"],["PEER_REVIEW","status-default"]]),this.contextNameMap=Ut,this.canPerformAction=!1,this.getStateClass=t=>this.stateClassMap.get(t)||"status-default"}ngOnInit(){var t,e,n;const i="PEER_REVIEW"==(null===(t=this.data.compliance)||void 0===t?void 0:t.state),a=localStorage.getItem("loggedInUser");this.canPerformAction=this.allowAction||i&&((null===(e=this.data)||void 0===e?void 0:e.reviewStaffId)===a||(null===(n=this.data)||void 0===n?void 0:n.reviewOwnerStaffId)===a)}approve(){this.onApprove.emit()}reject(){this.onReject.emit()}peerReview(){this.onPeerReview.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=z.Lb({type:t,selectors:[["app-compliance-note-information-component"]],inputs:{data:"data",allowAction:"allowAction",infoOnly:"infoOnly"},outputs:{onApprove:"onApprove",onReject:"onReject",onPeerReview:"onPeerReview"},decls:27,vars:20,consts:[["nzType","warning","nzShowIcon","",3,"nzMessage",4,"ngIf"],["alertMsg",""],["nzBordered","","id","compliance-note",1,"border-left",3,"nzColumn","ngClass"],["nzTitle","Signed By",3,"nzSpan"],["nzTitle","Date",3,"nzSpan"],["nzTitle","Duration",3,"nzSpan"],["nzTitle","State",3,"nzSpan"],["nzTitle","Note",3,"nzSpan"],["nz-typography","","nzType","secondary"],[3,"innerHTML"],[4,"isFeaturePermitted"],["nzType","warning","nzShowIcon","",3,"nzMessage"],["class","action-buttons",4,"ngIf"],[1,"action-buttons"],["nz-row","","nzGutter","16"],["nz-col","",4,"ngIf"],["nz-col",""],["nz-button","","nzSize","small","nzType","primary",3,"click"],["nz-button","","nzSize","small","nzType","primary",1,"button-orange",3,"click"],["nz-button","","nzSize","small","nzType","primary",1,"button-red",3,"click"]],template:function(t,e){1&t&&(z.Vc(0,ue,1,1,"nz-alert",0),z.Vc(1,be,6,2,"ng-template",null,1,z.Wc),z.Sb(3,"br"),z.Xb(4,"nz-descriptions",2),z.Xb(5,"nz-descriptions-item",3),z.Xc(6),z.Wb(),z.Xb(7,"nz-descriptions-item",4),z.Xc(8),z.jc(9,"date"),z.Wb(),z.Xb(10,"nz-descriptions-item",5),z.Xc(11),z.Wb(),z.Xb(12,"nz-descriptions-item",6),z.Xc(13),z.Wb(),z.Xb(14,"nz-descriptions-item",7),z.Xb(15,"strong",8),z.Xc(16,"Context"),z.Wb(),z.Xb(17,"p"),z.Xc(18),z.Wb(),z.Xb(19,"strong",8),z.Xc(20,"Activity"),z.Wb(),z.Xb(21,"p"),z.Xc(22),z.Wb(),z.Xb(23,"strong",8),z.Xc(24,"Note"),z.Wb(),z.Sb(25,"p",9),z.Vc(26,ze,2,1,"ng-container",10),z.Wb(),z.Wb()),2&t&&(z.rc("ngIf","PEER_REVIEW"==(null==e.data.compliance?null:e.data.compliance.state)&&(null==e.data?null:e.data.reviewStaffId)),z.Db(4),z.rc("nzColumn",4)("ngClass",e.getStateClass(null==e.data.compliance?null:e.data.compliance.state)),z.Db(1),z.rc("nzSpan",1),z.Db(1),z.Yc(e.data.staff),z.Db(1),z.rc("nzSpan",1),z.Db(1),z.Yc(z.lc(9,16,e.data.startTime,"dd MMM, yyyy")),z.Db(2),z.rc("nzSpan",1),z.Db(1),z.Zc("",e.data.durationInMinutes," mins"),z.Db(1),z.rc("nzSpan",1),z.Db(1),z.Yc(e.stateNameMap.get(null==e.data.compliance?null:e.data.compliance.state)),z.Db(1),z.rc("nzSpan",4),z.Db(4),z.Yc(e.contextNameMap.get(e.data.context)),z.Db(4),z.Yc(null==e.data?null:e.data.activity),z.Db(3),z.rc("innerHTML",null==e.data?null:e.data.notes,z.Mc),z.Db(1),z.rc("isFeaturePermitted",z.xc(19,ve)))},directives:[a.q,x.a,a.o,x.b,A.a,pe.a,de.a,W.c,W.a,E.a,_.a,R.a],pipes:[a.e],styles:[".status-default[_ngcontent-%COMP%]{border-left:6px solid var(--warning-color)}.status-approved[_ngcontent-%COMP%]{border-left:6px solid var(--primary-color)!important}.status-auto-approved[_ngcontent-%COMP%]{border-left:6px solid var(--medium-grey)!important}.status-rejected[_ngcontent-%COMP%]{border-left:6px solid var(--error-color)!important}.button-orange[_ngcontent-%COMP%], .button-orange[_ngcontent-%COMP%]:active{background:var(--warning-color)!important;border-color:var(--warning-color)!important}.button-orange[_ngcontent-%COMP%]:hover{background-color:var(--warning-color)!important;border-color:var(--warning-color)!important;filter:brightness(.8)}.button-red[_ngcontent-%COMP%]{background:var(--error-color)!important;border-color:var(--error-color)!important}.button-red[_ngcontent-%COMP%]:active{background:var(--warning-color)!important;border-color:var(--warning-color)!important}.button-red[_ngcontent-%COMP%]:hover{background-color:var(--error-color)!important;border-color:var(--error-color)!important;filter:brightness(.8)}"]}),Object(le.b)([Object(ce.a)(),Object(le.c)("design:type",Boolean)],t.prototype,"infoOnly",void 0),t})();function Ce(t,e){if(1&t&&(z.Vb(0),z.Xb(1,"div",6),z.Sb(2,"app-compliance-note-information-component",7),z.Wb(),z.Ub()),2&t){const t=e.$implicit;z.Db(2),z.rc("data",t)}}function Ie(t,e){1&t&&(z.Xb(0,"span"),z.Xc(1),z.jc(2,"translate"),z.Wb()),2&t&&(z.Db(1),z.Zc(" ",z.kc(2,1,"COMMON.NODATA")," "))}function Xe(t,e){if(1&t&&(z.Vb(0),z.Xb(1,"div",6),z.Xb(2,"nz-empty",8),z.Vc(3,Ie,3,3,"ng-template",null,9,z.Wc),z.Wb(),z.Wb(),z.Ub()),2&t){const t=z.Ic(4);z.Db(2),z.rc("nzNotFoundImage","https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original")("nzNotFoundContent",t)}}let De=(()=>{class t{constructor(t){this.modalRef=t}ngOnInit(){}destroyModal(){this.modalRef.destroy()}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(y.e))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-chart-compliance-history-dialog"]],inputs:{history:"history"},decls:8,vars:2,consts:[[1,"container","history-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["nz-row","","nzJustify","end"],["nz-col",""],["nz-button","","nzType","primary",3,"click"],[2,"padding","6px"],["infoOnly","",3,"data"],[2,"flex","1","overflow","auto",3,"nzNotFoundImage","nzNotFoundContent"],["contentTpl",""]],template:function(t,e){1&t&&(z.Xb(0,"div",0),z.Vc(1,Ce,3,1,"ng-container",1),z.Vc(2,Xe,5,2,"ng-container",2),z.Wb(),z.Sb(3,"br"),z.Xb(4,"div",3),z.Xb(5,"div",4),z.Xb(6,"button",5),z.ec("click",function(){return e.destroyModal()}),z.Xc(7,"Ok"),z.Wb(),z.Wb(),z.Wb()),2&t&&(z.Db(1),z.rc("ngForOf",e.history),z.Db(1),z.rc("ngIf",null==e.history||0==e.history.length))},directives:[a.p,a.q,W.c,W.a,E.a,_.a,R.a,Se,lt.b],pipes:[F.a],styles:[".history-container[_ngcontent-%COMP%]{max-height:75vh;overflow:scroll}"]}),t})();var ye=n("zgU5"),Te=n("jPNr"),Pe=n("0lU3"),Oe=n("glKu"),Me=n("SKKP");function We(t,e){if(1&t&&(z.Xb(0,"nz-tag"),z.Xc(1),z.Wb()),2&t){const t=z.ic();z.Db(1),z.Zc(" Program: ",t.params.program," ")}}function Ee(t,e){if(1&t){const t=z.Yb();z.Xb(0,"nz-tag",2),z.ec("nzOnClose",function(){return z.Lc(t),z.ic().clearStateFilter()}),z.Xc(1),z.Wb()}if(2&t){const t=z.ic();z.Db(1),z.Zc(" State: ",t.stateNameMap.get(t.params.state)," ")}}function _e(t,e){if(1&t){const t=z.Yb();z.Xb(0,"nz-tag",2),z.ec("nzOnClose",function(){return z.Lc(t),z.ic().clearEncounterFilter()}),z.Xc(1),z.Wb()}if(2&t){const t=z.ic();z.Db(1),z.Zc(" Encounter Type: ","true"==t.params.isEnrollment?"Enrollment":"true"==t.params.isBillable?"Billable":"Non-Billable"," ")}}function Re(t,e){if(1&t){const t=z.Yb();z.Xb(0,"nz-tag",2),z.ec("nzOnClose",function(){return z.Lc(t),z.ic().clearStaffIdFilter()}),z.Xc(1),z.Wb()}if(2&t){const t=z.ic();z.Db(1),z.Zc(" ",null==t.staffIdArray?null:t.staffIdArray.length," staffs selected ")}}let Ae=(()=>{class t{constructor(t,e,n){this._urlService=t,this._activatedRoute=e,this._dataSharingService=n,this.blueprintNamesMap=new Map,this.stateNameMap=xt,this.params={state:this._urlService.getParameterValue("state"),program:this._urlService.getParameterValue("program"),isBillable:this._urlService.getParameterValue("isBillable"),isEnrollment:this._urlService.getParameterValue("isEnrollment"),staffIds:this._urlService.getParameterValue("staffIds")},this._activatedRoute.queryParams.subscribe(t=>{var e;this.params.state=this._urlService.getParameterValue("state"),this.params.program=this._urlService.getParameterValue("program"),this.params.isBillable=this._urlService.getParameterValue("isBillable"),this.params.isEnrollment=this._urlService.getParameterValue("isEnrollment"),this.params.staffIds=this._urlService.getParameterValue("staffIds"),this.staffIdArray=null===(e=this.params.staffIds)||void 0===e?void 0:e.split(","),this.updateSelectedUsers()})}ngOnInit(){var t;this.getEpisodeBlueprints(),this.staffIdArray=null===(t=this.params.staffIds)||void 0===t?void 0:t.split(","),this.updateSelectedUsers()}updateSelectedUsers(){var t;this.selectedUsers=null===(t=this.allStaff)||void 0===t?void 0:t.filter(t=>{var e;return null===(e=this.staffIdArray)||void 0===e?void 0:e.includes(t.id)})}ngOnDestroy(){this.$tenantSettinsObserver.unsubscribe()}getEpisodeBlueprints(){this.$tenantSettinsObserver=this._dataSharingService.tenantSettings.subscribe(t=>{var e;t&&(null===(e=null==t?void 0:t.episodeBlueprints)||void 0===e||e.forEach(t=>{this.blueprintNamesMap.set(null==t?void 0:t.type,null==t?void 0:t.name)}))})}clearAll(){this.params={state:null,program:null,isBillable:null,isEnrollment:null,staffIds:null}}clearProgramFilter(){this._urlService.setParameter({program:null})}clearEncounterFilter(){this._urlService.setParameter({isBillable:null,isEnrollment:null})}clearStateFilter(){this._urlService.setParameter({state:null})}clearStaffIdFilter(){this._urlService.setParameter({staffIds:null,stafftype:null})}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(Vt),z.Rb(s.a),z.Rb(C.a))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-compliance-filter-tag"]],inputs:{allStaff:"allStaff"},decls:5,vars:4,consts:[[4,"ngIf"],["nzMode","closeable",3,"nzOnClose",4,"ngIf"],["nzMode","closeable",3,"nzOnClose"]],template:function(t,e){1&t&&(z.Xb(0,"div"),z.Vc(1,We,2,1,"nz-tag",0),z.Vc(2,Ee,2,1,"nz-tag",1),z.Vc(3,_e,2,1,"nz-tag",1),z.Vc(4,Re,2,1,"nz-tag",1),z.Wb()),2&t&&(z.Db(1),z.rc("ngIf",e.params.program),z.Db(1),z.rc("ngIf",e.params.state),z.Db(1),z.rc("ngIf",e.params.isBillable),z.Db(1),z.rc("ngIf",e.params.staffIds))},directives:[a.q,ct.a],styles:["nz-tag[_ngcontent-%COMP%]{margin-top:8px;background-color:var(--primary-color);color:var(--neutral-color)}[_nghost-%COMP%]     .ant-tag-close-icon{color:var(--neutral-color)}"]}),t})();function Ne(t,e){if(1&t){const t=z.Yb();z.Xb(0,"button",26),z.ec("click",function(){return z.Lc(t),z.ic().updateStateInBulk("REJECTED")}),z.Xc(1," Reject All "),z.Wb()}}function we(t,e){if(1&t){const t=z.Yb();z.Xb(0,"button",27),z.ec("click",function(){return z.Lc(t),z.ic().updateStateInBulk("AUTO_APPROVED")}),z.Xc(1," Approve All "),z.Wb()}}function Ve(t,e){if(1&t&&(z.Xb(0,"strong"),z.Xc(1),z.Wb()),2&t){const t=z.ic();z.Db(1),z.Zc(" ",(null==t.tenantConfig||null==t.tenantConfig.complianceConfig?null:t.tenantConfig.complianceConfig.communicationCompliance.CCM)||"0%"," ")}}function Le(t,e){1&t&&(z.Xb(0,"strong"),z.Xc(1," 0% "),z.Wb())}function xe(t,e){if(1&t&&(z.Xb(0,"strong"),z.Xc(1),z.Wb()),2&t){const t=z.ic();z.Db(1),z.Zc(" ",(null==t.tenantConfig||null==t.tenantConfig.complianceConfig?null:t.tenantConfig.complianceConfig.communicationCompliance.ENROLLMENT)||"1000%"," ")}}function ke(t,e){1&t&&(z.Xb(0,"strong"),z.Xc(1," 100% "),z.Wb())}function Fe(t,e){if(1&t&&(z.Xb(0,"th",28),z.Xc(1),z.Wb()),2&t){const t=e.$implicit;z.rc("nzSortOrder",t.sortOrder)("nzSortFn",t.sortFn)("nzSortDirections",t.sortDirections),z.Db(1),z.Yc(t.name)}}function Ue(t,e){if(1&t){const t=z.Yb();z.Vb(0),z.Xb(1,"tr"),z.Xb(2,"td",29),z.ec("nzExpandChange",function(n){z.Lc(t);const i=e.$implicit;return z.ic().onExpandChange(null==i?null:i.id,null==i?null:i.patientId,n)}),z.Wb(),z.Xb(3,"td",30),z.Xc(4),z.Wb(),z.Xb(5,"td"),z.Xb(6,"strong"),z.Xc(7),z.Wb(),z.Wb(),z.Xb(8,"td"),z.Xc(9),z.Wb(),z.Xb(10,"td"),z.Xc(11),z.Wb(),z.Xb(12,"td"),z.Xc(13),z.jc(14,"date"),z.Wb(),z.Xb(15,"td"),z.Xc(16),z.jc(17,"date"),z.Wb(),z.Xb(18,"td"),z.Xc(19),z.Wb(),z.Wb(),z.Xb(20,"tr",31),z.Xb(21,"div",32),z.Xb(22,"div",33),z.Xb(23,"button",34),z.ec("click",function(){z.Lc(t);const n=e.$implicit;return z.ic().showPatientDemographics(null==n?null:n.patientId)}),z.Xc(24," Patient Demographic "),z.Wb(),z.Wb(),z.Xb(25,"div",33),z.Xb(26,"button",34),z.ec("click",function(){z.Lc(t);const n=e.$implicit;return z.ic().showPatientAppointments(null==n?null:n.patientId)}),z.Xc(27," Patient Appointments "),z.Wb(),z.Wb(),z.Xb(28,"div",33),z.Xb(29,"button",34),z.ec("click",function(){z.Lc(t);const n=e.$implicit;return z.ic().showPatientPlanOfCare(null==n?null:n.patientId)}),z.Xc(30," Patient Plan Of Care "),z.Wb(),z.Wb(),z.Xb(31,"div",33),z.Xb(32,"button",34),z.ec("click",function(){z.Lc(t);const n=e.$implicit;return z.ic().showPhysicianInfo(null==n?null:n.patientId)}),z.Xc(33," Physician Information "),z.Wb(),z.Wb(),z.Xb(34,"div",33),z.Xb(35,"button",34),z.ec("click",function(){z.Lc(t);const n=e.$implicit;return z.ic().showPatientProblemList(null==n?null:n.patientId)}),z.Xc(36," Patient Problem List "),z.Wb(),z.Wb(),z.Xb(37,"div",33),z.Xb(38,"button",34),z.ec("click",function(){z.Lc(t);const n=e.$implicit;return z.ic().showPatientComplianceHistory(null==n?null:n.patientId)}),z.Xc(39," Patient Compliance History "),z.Wb(),z.Wb(),z.Wb(),z.Sb(40,"br"),z.Xb(41,"app-compliance-note-information-component",35),z.ec("onApprove",function(){z.Lc(t);const n=e.$implicit;return z.ic().updateState(null==n?null:n.id,"APPROVED")})("onReject",function(){z.Lc(t);const n=e.$implicit;return z.ic().reject(null==n?null:n.id)})("onPeerReview",function(){z.Lc(t);const n=e.$implicit;return z.ic().showPeerReviewAssignModal(null==n?null:n.id,null==n?null:n.patient)}),z.Wb(),z.Wb(),z.Ub()}if(2&t){const t=e.$implicit,n=z.ic();z.Db(2),z.rc("nzExpand",n.expandSet.has(null==t?null:t.id)),z.Db(2),z.Zc(" ",n.contextNameMap.get(t.context)," "),z.Db(3),z.Yc(t.patient),z.Db(2),z.Yc(t.staff),z.Db(2),z.Zc("",t.durationInMinutes," mins"),z.Db(2),z.Zc(" ",z.lc(14,17,t.startTime,"dd MMM, yyyy hh:mm a")," "),z.Db(3),z.Zc(" ",z.lc(17,20,t.endTime,"dd MMM, yyyy hh:mm a")," "),z.Db(3),z.Yc(n.stateNameMap.get(null==t.compliance?null:t.compliance.state)),z.Db(1),z.rc("nzExpand",n.expandSet.has(null==t?null:t.id)),z.Db(3),z.rc("nzLoading",!n.patientChartInfoMap.has(null==t?null:t.patientId)),z.Db(3),z.rc("nzLoading",!n.patientChartInfoMap.has(null==t?null:t.patientId)),z.Db(3),z.rc("nzLoading",!n.patientChartInfoMap.has(null==t?null:t.patientId)),z.Db(3),z.rc("nzLoading",!n.patientChartInfoMap.has(null==t?null:t.patientId)),z.Db(3),z.rc("nzLoading",!n.patientChartInfoMap.has(null==t?null:t.patientId)),z.Db(3),z.rc("nzLoading",!n.patientChartInfoMap.has(null==t?null:t.patientId)),z.Db(3),z.rc("data",t)("allowAction",n.allowAction)}}const je=function(){return["REJECT_ALL_COMPLIANCE"]},Be=function(){return["APPROVE_ALL_COMPLIANCE"]},qe=function(){return{left:"7px",right:"-6px !important",top:"1px !important",backgroundColor:"#ff3939",boxShadow:"-1px -1px 0 1px #ff3939",color:"white",padding:"0px"}},Ye=function(){return["5%","15%","15%","15%","10%","15%","15%","10%"]},$e=function(){return[50,75,100]};let Ze=(()=>{class t extends h.a{constructor(t,e,n,i,a,o,r,s,l){super(),this._modalService=t,this._complianceService=e,this._dataSharingService=n,this._notificationsService=i,this._urlService=a,this._filterCountService=o,this._staffService=r,this._permissionsService=s,this._subTenantToggleHelper=l,this.loading=!0,this.pinStaff=[],this.pageSize=50,this.patientChartInfoMap=new Map,this.dateRange=[],this.patienCommunicationNotestRequests$=new v.a,this.params={},this.selectedProgram="CCM",this.staffObject={},this.filterRequest=new wt,this.monitoringStaff=[],this.enrollmentStaff=[],this.allStaff=[],this.loadingStaff=!0,this.allowAction=!1,this.listOfColumns=[{name:"Patient",sortOrder:"descend",sortFn:(t,e,n)=>e.patient.localeCompare(t.patient)||this.startTimeCompare(t,e,n),sortDirections:["ascend","descend",null]},{name:"Staff",sortOrder:null,sortFn:(t,e,n)=>e.staff.localeCompare(t.staff)||this.patientCompare(t,e,n)||this.startTimeCompare(t,e,n),sortDirections:["ascend","descend",null]},{name:"Duration",sortOrder:null,sortFn:(t,e,n)=>e.durationInMilliSeconds-t.durationInMilliSeconds,sortDirections:["ascend","descend",null]},{name:"From",sortOrder:null,sortFn:(t,e,n)=>e.startTime-t.startTime||this.patientCompare(t,e,n),sortDirections:["ascend","descend",null]},{name:"To",sortOrder:null,sortFn:(t,e,n)=>e.endTime-t.endTime||this.patientCompare(t,e,n),sortDirections:["ascend","descend",null]}],this.episodeTypes=new Array,this.disabledDates=t=>Object(re.a)(Object(se.a)(new Date),t)<0,this.loggedInUserName$=this._dataSharingService.getLoggedInUserName(),this.loggedInUserId=localStorage.getItem("loggedInUser"),this.loggedInUserType=localStorage.getItem("loggedInUserAccountType"),this.expandSet=new Set,this.state="ALL",this.contextNameMap=Ut,this.stateNameMap=xt,this.patientCommunicationsDetails={};const c=this._permissionsService.getPermissionsForUser();this.allowAction="TENANT_ADMIN"===this.loggedInUserType||c.includes("APPROVE_COMPLIANCE")}startTimeCompare(t,e,n){return("ascend"===n?1:-1)*(e.startTime-t.startTime)}endTimeCompare(t,e,n){return("ascend"===n?1:-1)*(e.endTime-t.endTime)}patientCompare(t,e,n){return("ascend"===n?1:-1)*t.patient.localeCompare(e.patient)}onExpandChange(t,e,n){n?this.expandSet.add(t):this.expandSet.delete(t),n&&this.getPatientInfo(e)}ngOnInit(){this.totalFiltersApplied=this._filterCountService.countFiltersApplied(),this.requestTenantId=this._subTenantToggleHelper.setRequestTenantId(),this._dataSharingService.assignedTenantSettings.pipe(Object(ie.a)(this.unsubscribed)).subscribe(t=>{void 0!==t&&0!==t.size&&(this.tenantConfigMap=t,this.onSubTenantChange(this.requestTenantId))}),this._dataSharingService.onSubTenantChange().pipe(Object(ie.a)(this.unsubscribed)).subscribe(t=>{this.onSubTenantChange(t)}),this.initPatientCommunicationNotesObservable(),this.getStaffs(),this.subscribeToActivatedRoute()}onSubTenantChange(t){var e,n;if(this.loading=!0,""!=t&&null!=t&&null!=t){if(this.requestTenantId=t,void 0!==this.tenantConfigMap&&0!==this.tenantConfigMap.size){this.tenantConfig=this.tenantConfigMap.get(this.requestTenantId),this.episodeTypes=new Array;for(let t of null===(e=this.tenantConfig)||void 0===e?void 0:e.episodeBlueprints)this.episodeTypes.push(t.type);if(!this.episodeTypes.includes(this._urlService.getParameterValue("program"))){let t=["CCM","TOC","PCM","RPM"],e=this.episodeTypes.filter(e=>t.includes(e));this.filterRequest.endDate=this._urlService.getParameterValue("endDate"),this.filterRequest.startDate=this._urlService.getParameterValue("startDate"),this.filterRequest.isBillable=this._urlService.getParameterValue("isBillable"),this.filterRequest.isEnrollment=this._urlService.getParameterValue("isEnrollment"),this.filterRequest.state=this._urlService.getParameterValue("state"),this.filterRequest.program=e[0],this._urlService.setParameter(this.filterRequest)}this.tenantName=null===(n=this.tenantConfig)||void 0===n?void 0:n.tenantName,this.fetchPatientCommunicationNotes(),this.loading=!1}}else this.loading=!1}addSelectedStaffs(t){this.staffList=t}getEpisodeBlueprintId(){var t,e,n,i,a,o,r,s;const l=this._urlService.getParameterValue("program");return"TOC"==l?null===(e=null===(t=this.tenantConfig)||void 0===t?void 0:t.tocepisodeBlueprint)||void 0===e?void 0:e.id:"PCM"==l?null===(i=null===(n=this.tenantConfig)||void 0===n?void 0:n.pcmepisodeBlueprint)||void 0===i?void 0:i.id:"RPM"==l?null===(o=null===(a=this.tenantConfig)||void 0===a?void 0:a.rpmepisodeBlueprint)||void 0===o?void 0:o.id:null===(s=null===(r=this.tenantConfig)||void 0===r?void 0:r.ccmepisodeBlueprint)||void 0===s?void 0:s.id}fetchPatientCommunicationNotes(){const t=this.getEpisodeBlueprintId();t&&(this.loading=!0,this.patienCommunicationNotestRequests$.next(t),this.getPatientCommunicationNotesDetails(t))}initPatientCommunicationNotesObservable(){this.patienCommunicationNotestRequests$.pipe(Object(ae.a)(t=>this._complianceService.fetchPatientCommunicationNotes(t,50,{state:this._urlService.getParameterValue("state"),startDate:this._urlService.getParameterValue("startDate"),endDate:this._urlService.getParameterValue("endDate"),program:this._urlService.getParameterValue("program"),isBillable:this._urlService.getParameterValue("isBillable"),staffIds:this._urlService.getParameterValue("staffIds"),staffType:this._urlService.getParameterValue("staffType")},this.requestTenantId))).pipe(Object(ie.a)(this.unsubscribed)).subscribe(t=>{this.patientCommunications=t,this.loading=!1},t=>{this.loading=!1})}subscribeToActivatedRoute(){this.activatedRoute.queryParams.pipe(Object(ie.a)(this.unsubscribed)).subscribe(t=>{var e,n;this.episodeBlueprintId=this.getEpisodeBlueprintId(),this.pageSize=50;const i=this._urlService.getParameterValue("startDate"),a=this._urlService.getParameterValue("endDate");i&&a&&(this.dateRange=[new Date(i),new Date(a)]),this.params={state:this._urlService.getParameterValue("state"),startDate:null===(e=this.dateRange[0])||void 0===e?void 0:e.toISOString().slice(0,10),endDate:null===(n=this.dateRange[1])||void 0===n?void 0:n.toISOString().slice(0,10),program:this._urlService.getParameterValue("program"),isBillable:this._urlService.getParameterValue("isBillable"),staffIds:this._urlService.getParameterValue("staffIds")},this.totalFiltersApplied=this._filterCountService.countFiltersApplied(),this.fetchPatientCommunicationNotes()})}getStaffs(){this._staffService.fetchPINStaffMembers().subscribe(t=>{null!=t&&(this.pinStaff=t.filter(t=>t.id!==this.loggedInUserId))}),this.loadingStaff=!0;const t=this._staffService.fetchStaffList(oe.a.MONITORING_STAFF,null,null,null),e=this._staffService.fetchStaffList(oe.a.ENROLMENT_STAFF,null,null,null);Object(S.a)([t,e]).subscribe(t=>{this.monitoringStaff=null==t[0]?new Array:t[0],this.enrollmentStaff=null==t[1]?new Array:t[1],this.allStaff=new Array(...this.monitoringStaff),this.allStaff.push(...this.enrollmentStaff),this.loadingStaff=!1})}dateUpdated(){var t,e;this._urlService.setParameter({startDate:null===(t=this.dateRange[0])||void 0===t?void 0:t.toISOString().slice(0,10),endDate:null===(e=this.dateRange[1])||void 0===e?void 0:e.toISOString().slice(0,10)})}getPatientCommunicationNotesDetails(t){var e,n;const i={startDate:null===(e=this.dateRange[0])||void 0===e?void 0:e.toISOString().slice(0,10),endDate:null===(n=this.dateRange[1])||void 0===n?void 0:n.toISOString().slice(0,10)};this._complianceService.fetchPatientCommunicationNotesDetails(t,i).subscribe(t=>{this.patientCommunicationsDetails=t})}updateState(t,e,n=null){this._complianceService.updateNoteState({id:t,state:e,reviewStaffId:n,reviewOwnerStaffId:this.loggedInUserId,reason:"PEER_REVIEW"===e?"The notes have been processed for peer review!":"The notes have been rejected!"}).subscribe(()=>{this._notificationsService.success("Compliance","Note updated successfully!"),this.fetchPatientCommunicationNotes()})}reject(t){this._modalService.create({nzContent:L,nzComponentParams:{id:t},nzCloseIcon:null,nzFooter:null}).afterClose.subscribe(t=>{t&&this.fetchPatientCommunicationNotes()})}updateStateInBulk(t){var e,n;let i=JSON.parse(JSON.stringify(this.state));i&&"ALL"!==i||(i="SUBMITTED"),this._complianceService.updateNoteStateInBulk(null===(n=null===(e=this.tenantConfig)||void 0===e?void 0:e.ccmepisodeBlueprint)||void 0===n?void 0:n.id,{state:i,changedToState:t,reason:"AUTO_APPROVED"===t?"The notes have been auto approved!":"The notes have been rejected!"}).subscribe(t=>{this._notificationsService.success("Compliance",t.message),this.fetchPatientCommunicationNotes()})}getPatientInfo(t){var e,n;if(this.patientChartInfoMap.has(t))return;const i={startDate:null===(e=this.dateRange[0])||void 0===e?void 0:e.toISOString().slice(0,10),endDate:null===(n=this.dateRange[1])||void 0===n?void 0:n.toISOString().slice(0,10),blueprintId:this.episodeBlueprintId};this._complianceService.fetchPatientDetails(t,i).subscribe(e=>{this.patientChartInfoMap.set(t,e)})}showPatientDemographics(t){var e,n;if(!this.patientChartInfoMap.has(t))return;const i=null===(e=this.patientChartInfoMap.get(t))||void 0===e?void 0:e.patient;this._modalService.create({nzContent:at,nzTitle:"Patient Demographics"+this.getPatientName(null===(n=this.patientChartInfoMap.get(t))||void 0===n?void 0:n.patient),nzComponentParams:{patientInfo:i},nzWidth:"800px",nzFooter:null})}showPatientAppointments(t){var e,n;if(!this.patientChartInfoMap.has(t))return;const i=null===(e=this.patientChartInfoMap.get(t))||void 0===e?void 0:e.appointments;this._modalService.create({nzContent:ht,nzTitle:"Appointments"+this.getPatientName(null===(n=this.patientChartInfoMap.get(t))||void 0===n?void 0:n.patient),nzComponentParams:{appointments:i},nzWidth:"800px",nzFooter:null})}showPatientPlanOfCare(t){var e,n;if(!this.patientChartInfoMap.has(t))return;const i=null===(e=this.patientChartInfoMap.get(t))||void 0===e?void 0:e.planOfCares;this._modalService.create({nzContent:St,nzTitle:"Plan Of Care"+this.getPatientName(null===(n=this.patientChartInfoMap.get(t))||void 0===n?void 0:n.patient),nzComponentParams:{planOfCares:i},nzWidth:"75%",nzStyle:{minWidth:"1000px"},nzFooter:null})}showPhysicianInfo(t){var e,n;if(!this.patientChartInfoMap.has(t))return;const i=null===(e=this.patientChartInfoMap.get(t))||void 0===e?void 0:e.primaryPhysicians;this._modalService.create({nzContent:Pt,nzTitle:"Physicians"+this.getPatientName(null===(n=this.patientChartInfoMap.get(t))||void 0===n?void 0:n.patient),nzComponentParams:{physicians:i},nzWidth:"800px",nzFooter:null})}showPatientProblemList(t){var e,n;if(!this.patientChartInfoMap.has(t))return;const i=null===(e=this.patientChartInfoMap.get(t))||void 0===e?void 0:e.patient;this._modalService.create({nzContent:Et,nzTitle:"Patient Problem List"+this.getPatientName(null===(n=this.patientChartInfoMap.get(t))||void 0===n?void 0:n.patient),nzComponentParams:{patientInfo:i},nzWidth:"800px",nzFooter:null})}showPatientComplianceHistory(t){var e,n;if(!this.patientChartInfoMap.has(t))return;const i=null===(e=this.patientChartInfoMap.get(t))||void 0===e?void 0:e.complianceHistory;this._modalService.create({nzContent:De,nzTitle:"Patient Compliance History"+this.getPatientName(null===(n=this.patientChartInfoMap.get(t))||void 0===n?void 0:n.patient),nzComponentParams:{history:i},nzWidth:"90%",nzFooter:null})}showPeerReviewAssignModal(t,e){this._modalService.create({nzContent:Nt,nzTitle:`Peer Review (${e})`,nzComponentParams:{staffs:this.pinStaff},nzWidth:"800px",nzFooter:null}).afterClose.subscribe(e=>{e&&this.updateState(t,"PEER_REVIEW",e)})}getPatientName(t){return t?` (${t.fullName})`:""}showFiltersModal(){var t,e;this._modalService.create({nzContent:ne,nzClosable:!0,nzMaskClosable:!1,nzFooter:null,nzWidth:700,nzTitle:"Compliance Filter",nzBodyStyle:{paddingTop:"0px"},nzComponentParams:{dateRange:this.dateRange,episodeBlueprintId:null===(e=null===(t=this.tenantConfig)||void 0===t?void 0:t.ccmepisodeBlueprint)||void 0===e?void 0:e.id,programTypes:this.episodeTypes,monitoringStaff:this.monitoringStaff,enrollmentStaff:this.enrollmentStaff}}).afterClose.subscribe(t=>{this.staffObject=t,this.staffIdNameMap=null==t?void 0:t.staffIdName,this.staffNameIdMap=null==t?void 0:t.staffNameId})}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(y.f),z.Rb(D),z.Rb(C.a),z.Rb(T.b),z.Rb(Vt),z.Rb(Lt),z.Rb(_t.a),z.Rb(m.a),z.Rb(ye.a))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-compliance-admin"]],inputs:{isAccessAcrossSubTenants:"isAccessAcrossSubTenants"},features:[z.Ab],decls:69,vars:52,consts:[[1,"container"],[3,"nzGhost"],["nz-button","","nzDanger","",3,"click",4,"isFeaturePermitted"],["nz-button","","nzType","primary",3,"click",4,"isFeaturePermitted"],["nzSize","small",3,"nzColumn"],["nzTitle","Practice",3,"nzSpan"],["nzTitle","Compliance Required (%)",3,"nzSpan"],[4,"ngIf"],["nzTitle","Compliance (%)",3,"nzSpan"],["nzTitle","Enrollment Entries",3,"nzSpan"],["nzTitle","Enrollment Required (%)",3,"nzSpan"],["nzTitle","Enrollment (%)",3,"nzSpan"],["nzTitle","Total Entries",3,"nzSpan"],[3,"nzTitle","nzSpan"],[1,"filters-container"],[3,"ngModel","nzDisabledDate","ngModelChange"],[1,"filter-component"],["nz-button","","nzType","primary",3,"nzLoading","click"],["size","12px","color","#ffffff","altColor","#ffffff","name","filter"],["nzStandalone","",3,"nzOverflowCount","nzShowDot","nzCount","nzStyle"],[3,"allStaff"],["nzTableLayout","fixed","nzShowPagination","","nzShowSizeChanger","",3,"nzWidthConfig","nzData","nzLoading","nzPageSize","nzPageSizeOptions","nzPageSizeChange"],["nzTable",""],["nzWidth","60px"],[3,"nzSortOrder","nzSortFn","nzSortDirections",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["nz-button","","nzDanger","",3,"click"],["nz-button","","nzType","primary",3,"click"],[3,"nzSortOrder","nzSortFn","nzSortDirections"],[3,"nzExpand","nzExpandChange"],[1,"activity"],[3,"nzExpand"],["nz-row","","nzGutter","16"],["nz-col",""],["nz-button","","nz-button","","nzType","primary",3,"nzLoading","click"],[3,"data","allowAction","onApprove","onReject","onPeerReview"]],template:function(t,e){if(1&t&&(z.Xb(0,"div",0),z.Xb(1,"nz-page-header",1),z.Xb(2,"nz-page-header-title"),z.Xc(3,"Compliance"),z.Wb(),z.Xb(4,"nz-page-header-subtitle"),z.Xc(5,"Patient Communication Notes"),z.Wb(),z.Xb(6,"nz-page-header-extra"),z.Vc(7,Ne,2,0,"button",2),z.Vc(8,we,2,0,"button",3),z.Wb(),z.Xb(9,"nz-page-header-content"),z.Xb(10,"nz-descriptions",4),z.Xb(11,"nz-descriptions-item",5),z.Xb(12,"strong"),z.Xc(13),z.Wb(),z.Wb(),z.Xb(14,"nz-descriptions-item",6),z.Vc(15,Ve,2,1,"strong",7),z.Vc(16,Le,2,0,"strong",7),z.Wb(),z.Xc(17,"\\ "),z.Xb(18,"nz-descriptions-item",8),z.Xb(19,"strong"),z.Xc(20),z.Wb(),z.Wb(),z.Xb(21,"nz-descriptions-item",9),z.Xb(22,"strong"),z.Xc(23),z.Wb(),z.Wb(),z.Xb(24,"nz-descriptions-item",10),z.Vc(25,xe,2,1,"strong",7),z.Vc(26,ke,2,0,"strong",7),z.Wb(),z.Xc(27,"\\ "),z.Xb(28,"nz-descriptions-item",11),z.Xb(29,"strong"),z.Xc(30),z.Wb(),z.Wb(),z.Xb(31,"nz-descriptions-item",12),z.Xb(32,"strong"),z.Xc(33),z.Wb(),z.Wb(),z.Xb(34,"nz-descriptions-item",13),z.Xb(35,"strong"),z.Xc(36),z.Wb(),z.Wb(),z.Xb(37,"nz-descriptions-item",13),z.Xb(38,"strong"),z.Xc(39),z.Wb(),z.Wb(),z.Xb(40,"nz-descriptions-item",13),z.Xb(41,"strong"),z.Xc(42),z.Wb(),z.Wb(),z.Xb(43,"nz-descriptions-item",13),z.Xb(44,"strong"),z.Xc(45),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Sb(46,"br"),z.Sb(47,"br"),z.Xb(48,"div",14),z.Xb(49,"nz-range-picker",15),z.ec("ngModelChange",function(t){return e.dateRange=t})("ngModelChange",function(){return e.dateUpdated()}),z.Wb(),z.Xb(50,"div"),z.Xb(51,"span",16),z.Xb(52,"button",17),z.ec("click",function(){return e.showFiltersModal()}),z.Sb(53,"app-icons",18),z.Xc(54," Filters "),z.Sb(55,"nz-badge",19),z.Wb(),z.Wb(),z.Wb(),z.Wb(),z.Sb(56,"app-compliance-filter-tag",20),z.Xb(57,"nz-table",21,22),z.ec("nzPageSizeChange",function(t){return e.pageSize=t}),z.Xb(59,"thead"),z.Xb(60,"tr"),z.Sb(61,"th",23),z.Xb(62,"th"),z.Xc(63,"Context"),z.Wb(),z.Vc(64,Fe,2,4,"th",24),z.Xb(65,"th"),z.Xc(66,"State"),z.Wb(),z.Wb(),z.Wb(),z.Xb(67,"tbody"),z.Vc(68,Ue,42,23,"ng-container",25),z.Wb(),z.Wb(),z.Wb()),2&t){const t=z.Ic(58);z.Db(1),z.rc("nzGhost",!1),z.Db(6),z.rc("isFeaturePermitted",z.xc(47,je)),z.Db(1),z.rc("isFeaturePermitted",z.xc(48,Be)),z.Db(2),z.rc("nzColumn",3),z.Db(1),z.rc("nzSpan",1),z.Db(2),z.Yc(e.tenantName),z.Db(1),z.rc("nzSpan",1),z.Db(1),z.rc("ngIf",!(null==e.tenantConfig||null==e.tenantConfig.complianceConfig||!e.tenantConfig.complianceConfig.communicationCompliance)),z.Db(1),z.rc("ngIf",!(null!=e.tenantConfig&&null!=e.tenantConfig.complianceConfig&&e.tenantConfig.complianceConfig.communicationCompliance)),z.Db(2),z.rc("nzSpan",1),z.Db(2),z.Zc("",e.patientCommunicationsDetails.compliance||0,"%"),z.Db(1),z.rc("nzSpan",1),z.Db(2),z.Yc(e.patientCommunicationsDetails.enrollment||0),z.Db(1),z.rc("nzSpan",1),z.Db(1),z.rc("ngIf",!(null==e.tenantConfig||null==e.tenantConfig.complianceConfig||!e.tenantConfig.complianceConfig.communicationCompliance)),z.Db(1),z.rc("ngIf",!(null!=e.tenantConfig&&null!=e.tenantConfig.complianceConfig&&e.tenantConfig.complianceConfig.communicationCompliance)),z.Db(2),z.rc("nzSpan",1),z.Db(2),z.Zc("",e.patientCommunicationsDetails.enrollment_compliance||0,"%"),z.Db(1),z.rc("nzSpan",1),z.Db(2),z.Yc(e.patientCommunicationsDetails.total||0),z.Db(1),z.tc("nzTitle","",e.stateNameMap.get("AUTO_APPROVED")," Entries"),z.rc("nzSpan",1),z.Db(2),z.Yc(e.patientCommunicationsDetails.auto_approved||0),z.Db(1),z.tc("nzTitle","",e.stateNameMap.get("APPROVED")," Entries"),z.rc("nzSpan",1),z.Db(2),z.Yc(e.patientCommunicationsDetails.approved||0),z.Db(1),z.tc("nzTitle","",e.stateNameMap.get("CORRECTED")," Entries"),z.rc("nzSpan",1),z.Db(2),z.Yc(e.patientCommunicationsDetails.corrected||0),z.Db(1),z.tc("nzTitle","",e.stateNameMap.get("REJECTED")," Entries"),z.rc("nzSpan",1),z.Db(2),z.Yc(e.patientCommunicationsDetails.rejected||0),z.Db(4),z.rc("ngModel",e.dateRange)("nzDisabledDate",e.disabledDates),z.Db(3),z.rc("nzLoading",e.loadingStaff),z.Db(3),z.rc("nzOverflowCount",9)("nzShowDot",!1)("nzCount",e.totalFiltersApplied)("nzStyle",z.xc(49,qe)),z.Db(1),z.rc("allStaff",e.allStaff),z.Db(1),z.rc("nzWidthConfig",z.xc(50,Ye))("nzData",e.patientCommunications)("nzLoading",e.loading)("nzPageSize",e.pageSize)("nzPageSizeOptions",z.xc(51,$e)),z.Db(7),z.rc("ngForOf",e.listOfColumns),z.Db(4),z.rc("ngForOf",t.data)}},directives:[Te.b,Te.g,Te.f,Te.d,pe.a,Te.c,x.a,x.b,a.q,Pe.a,Pe.c,r.u,r.x,E.a,_.a,R.a,Oe.a,Me.a,Ae,ot.f,ot.n,ot.o,ot.e,ot.l,a.p,ot.i,ot.k,ot.j,ot.p,ot.g,W.c,W.a,Se],pipes:[a.e],styles:[".container[_ngcontent-%COMP%]{padding-top:25px!important}nz-radio-group[_ngcontent-%COMP%]{display:block;text-align:right}strong[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]     .ant-progress-text{width:calc(75vw / 4)}nz-page-header[_ngcontent-%COMP%]{background:transparent linear-gradient(106deg,#fff 40%,#bed4ff) 0 0 no-repeat padding-box;border-radius:5px}nz-page-header-title[_ngcontent-%COMP%]{font:normal normal 600 17px/14px Nunito;letter-spacing:-.6px;color:var(--secondary-color)}nz-page-header-subtitle[_ngcontent-%COMP%]{font:normal normal 600 14px/14px Nunito;letter-spacing:-.6px}[_nghost-%COMP%]     tr.ant-table-expanded-row .ant-descriptions-view table{width:100%;border-spacing:0!important;border-collapse:collapse;background-color:#fff}[_nghost-%COMP%]     .ant-descriptions-bordered .ant-descriptions-item-label{font-weight:700}nz-range-picker[_ngcontent-%COMP%]{margin:0 8px 12px 0;width:300px}.compliance-filter-container[_ngcontent-%COMP%]{position:absolute;top:300px;right:0;display:flex;flex-direction:row;margin:10px 15px 15px}.filters-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.filter-component[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px}app-icons[_ngcontent-%COMP%]{vertical-align:middle!important;margin-right:10px}[_nghost-%COMP%]     .ant-badge-count{min-width:15px!important;height:15px!important;font-size:10px!important;line-height:15px!important;top:-10px!important;right:-5px!important;transform:none!important}.activity[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;max-width:100%;white-space:nowrap}"]}),t})();function He(t,e){if(1&t&&z.Sb(0,"app-compliance-admin",3),2&t){const t=z.ic(2);z.rc("isAccessAcrossSubTenants",t.isAccessAcrossSubTenants)}}function Ge(t,e){if(1&t&&(z.Vb(0),z.Vc(1,He,1,1,"app-compliance-admin",2),z.Ub()),2&t){const t=z.ic();z.Db(1),z.rc("ngIf",!t.loading)}}const Je=[{path:"patient-communication-notes",component:(()=>{class t extends h.a{constructor(t,e){super(),this._securityTokenHelperService=t,this._permissionsService=e,this.loading=!1;const n=localStorage.getItem("accessToken"),i=this._securityTokenHelperService.parseJwt(n).accountType;this.isLoggedInUserAdmin="TENANT_ADMIN"===i;const a=this._permissionsService.getPermissionsForUser().findIndex(t=>"APPROVE_COMPLIANCE"===t)>=0;this.showAdminDashboard=this.isLoggedInUserAdmin||a}ngOnInit(){this.loading=!0,this.loading=!1}}return t.\u0275fac=function(e){return new(e||t)(z.Rb(g.a),z.Rb(m.a))},t.\u0275cmp=z.Lb({type:t,selectors:[["app-patient-communication-notes"]],features:[z.Ab],decls:2,vars:1,consts:[[1,"container"],[4,"ngIf"],[3,"isAccessAcrossSubTenants",4,"ngIf"],[3,"isAccessAcrossSubTenants"]],template:function(t,e){1&t&&(z.Xb(0,"div",0),z.Vc(1,Ge,2,1,"ng-container",1),z.Wb()),2&t&&(z.Db(1),z.rc("ngIf",!e.loading))},directives:[a.q,Ze],styles:[""]}),t})(),data:{header:!1,title:"Notes Compliance",searchEnabled:!1,primaryAction:{},secondaryAction:{},multiAction:{},privileges:[],showTenantToggle:!0,subTenantToggleMode:"SINGLE"},canActivate:[b.a,f.a]}];let Ke=(()=>{class t{}return t.\u0275mod=z.Pb({type:t}),t.\u0275inj=z.Ob({factory:function(e){return new(e||t)},imports:[[s.k.forChild(Je)],s.k]}),t})();var Qe=n("ttvE");let tn=(()=>{class t{constructor(t){this.translationService=t,t.setLanguage()}}return t.\u0275mod=z.Pb({type:t}),t.\u0275inj=z.Ob({factory:function(e){return new(e||t)(z.bc(o.a))},imports:[[a.c,d.a,r.o,s.k,c.a,l.b,u.a,i.b,Ke,Qe.EpisodesModule,p.a.forRoot()]]}),t})()}}]);