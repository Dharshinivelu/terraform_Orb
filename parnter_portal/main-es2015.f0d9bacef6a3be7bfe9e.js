(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+gyu":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("4RGM"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t){this._http=t,this.rootUrl=i.g.url}create(t){return this._http.post(`${this.rootUrl}/v3/note-templates/`,t)}update(t){return this._http.put(`${this.rootUrl}/v3/note-templates/`,t)}delete(t){return this._http.delete(`${this.rootUrl}/v3/note-templates/${t}`)}fetchNoteTemplates(t=0,e=10,n,i){var o=`${this.rootUrl}/v3/note-templates?pageNumber=${t}&limit=${e}`;return n&&(o=o+"&searchKey="+n),i&&(console.log("Tenant Id ",i),o=o+"&"+a.a.REQUEST_TENANT_IDS+"="+i),this._http.get(o)}fetchNoteTemplateById(t){return this._http.get(`${this.rootUrl}/v3/note-templates/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"/5ms":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.SCHEDULED_ON_BOARDINGS="SCHEDULED_ON_BOARDINGS",t.PENDING_ON_BOARDINGS="PENDING_ON_BOARDINGS",t.SUCCESSFUL_ON_BOARDINGS_FOR_DAY="SUCCESSFUL_ON_BOARDINGS_FOR_DAY",t.SUCCESSFUL_ON_BOARDINGS_FOR_MONTH="SUCCESSFUL_ON_BOARDINGS_FOR_MONTH",t}({})},"/XTn":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.ALL="ALL",t.COMPLETED="COMPLETED",t.SUSPENDED="SUSPENDED",t.PAUSED="PAUSED",t.IN_PROGRESS="IN_PROGRESS",t.PENDING_START="PENDING_START",t.SCHEDULED="SCHEDULED",t}({})},0:function(t,e,n){t.exports=n("zUnb")},"0+cO":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("bnsq"),a=n("fXoL");let o=(()=>{class t{constructor(t){this._permissionsService=t}getAllPermissionStrings(){let t=new Map,e=new Map;this._permissionsService.getAllPermissionStrings().subscribe(n=>{n.privilegeResponses.forEach(e=>t.set(e.name,e.label)),n.privilegeGroupResponses.forEach(t=>e.set(t.name,t.label)),localStorage.setItem("permissions",JSON.stringify(Array.from(t.entries()))),localStorage.setItem("permissionGroups",JSON.stringify(Array.from(e.entries())))})}}return t.\u0275fac=function(e){return new(e||t)(a.bc(i.a))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"0W7X":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.ADD_PATIENT="ADD_PATIENT",t.EDIT_PATIENT="EDIT_PATIENT",t.VIEW_PATIENT="VIEW_PATIENT",t.DELETE_PATIENT="DELETE_PATIENT",t.VIEW_ASSIGNED_STAFF="VIEW_ASSIGNED_STAFF",t.VIEW_UNASSIGNED_PATIENTS="VIEW_UNASSIGNED_PATIENTS",t.ASSIGN_MONITORING_STAFF_TO_PATIENT="ASSIGN_MONITORING_STAFF_TO_PATIENT",t.ASSIGN_PHYSICIAN_TO_PATIENT="ASSIGN_PHYSICIAN_TO_PATIENT",t.VIEW_ASSESSMENT="VIEW_ASSESSMENT",t.ADD_ROLE="ADD_ROLE",t.EDIT_ROLE="EDIT_ROLE",t.VIEW_ROLE="VIEW_ROLE",t.DELETE_ROLE="DELETE_ROLE",t.ASSIGN_ROLE="ASSIGN_ROLE",t.VIEW_USER_PERMISSIONS="VIEW_USER_PERMISSIONS",t.EDIT_USER_PERMISSIONS="EDIT_USER_PERMISSIONS",t.ADD_STAFF="ADD_STAFF",t.EDIT_STAFF="EDIT_STAFF",t.VIEW_STAFF="VIEW_STAFF",t.DELETE_STAFF="DELETE_STAFF",t.ASSIGN_STAFF="ASSIGN_STAFF",t.ASSIGN_PATIENT="ASSIGN_PATIENT",t.VIEW_PHYSICIANS="VIEW_PHYSICIANS",t.VIEW_MONITORING_STAFF="VIEW_MONITORING_STAFF",t.ADD_PHYSICIAN="ADD_PHYSICIAN",t.ADD_MONITORING_STAFF="ADD_MONITORING_STAFF",t.EDIT_PHYSICIANS="EDIT_PHYSICIANS",t.EDIT_MONITORING_STAFF="EDIT_MONITORING_STAFF",t.DELETE_PHYSICIANS="DELETE_PHYSICIANS",t.DELETE_MONITORING_STAFF="DELETE_MONITORING_STAFF",t.ASSIGN_PHYSICIANS="ASSIGN_PHYSICIANS",t.ADD_ENROLMENT_STAFF="ADD_ENROLMENT_STAFF",t.MARK_AS_PRIMARY_MONITORING_STAFF="MARK_AS_PRIMARY_MONITORING_STAFF",t.VIEW_MANAGER_STAFF="VIEW_MANAGER_STAFF",t.ADD_MANAGER_STAFF="ADD_MANAGER_STAFF",t.EDIT_MANAGER_STAFF="EDIT_MANAGER_STAFF",t.DELETE_MANAGER_STAFF="DELETE_MANAGER_STAFF",t.VIEW_PATIENT_ALERT="VIEW_PATIENT_ALERT",t.CLOSE_PATIENT_ALERT="CLOSE_PATIENT_ALERT",t.ADD_CARE_PLAN_TEMPLATE="ADD_CARE_PLAN_TEMPLATE",t.EDIT_CARE_PLAN_TEMPLATE="EDIT_CARE_PLAN_TEMPLATE",t.VIEW_CARE_PLAN_TEMPLATE="VIEW_CARE_PLAN_TEMPLATE",t.DELETE_CARE_PLAN_TEMPLATE="DELETE_CARE_PLAN_TEMPLATE",t.VIEW_CAREPLAN="VIEW_CAREPLAN",t.ASSIGN_CARE_PLAN="ASSIGN_CARE_PLAN",t.REASSIGN_CARE_PLAN="REASSIGN_CARE_PLAN",t.EDIT_CARE_PLAN="EDIT_CARE_PLAN",t.SUSPEND_CARE_PLAN="SUSPEND_CARE_PLAN",t.CREATE_BASELINE_CAREPLAN="CREATE_BASELINE_CAREPLAN",t.ADD_EDIT_TAG="ADD_EDIT_TAG",t.VIEW_TAG="VIEW_TAG",t.DELETE_TAG="DELETE_TAG",t.ADD_FORM="ADD_FORM",t.EDIT_FORM="EDIT_FORM",t.VIEW_FORM="VIEW_FORM",t.CLONE_FORM="CLONE_FORM",t.DELETE_FORM="DELETE_FORM",t.ADD_VITAL_BLUEPRINT="ADD_VITAL_BLUEPRINT",t.EDIT_VITAL_BLUEPRINT="EDIT_VITAL_BLUEPRINT",t.VIEW_VITAL_BLUEPRINT="VIEW_VITAL_BLUEPRINT",t.DELETE_VITAL_BLUEPRINT="DELETE_VITAL_BLUEPRINT",t.VIEW_RANDOM_VITALS="VIEW_RANDOM_VITALS",t.ADD_COURSE="ADD_COURSE",t.EDIT_COURSE="EDIT_COURSE",t.VIEW_COURSE="VIEW_COURSE",t.DELETE_COURSE="DELETE_COURSE",t.PATIENT_REPORTS="PATIENT_REPORTS",t.RPM_EPISODE="RPM_EPISODE",t.CCM_EPISODE="CCM_EPISODE",t.HEALTH_SCORE_EPISODE="HEALTH_SCORE_EPISODE",t.GENERAL_EPISODE="GENERAL_EPISODE",t.ADD_EPISODE="ADD_EPISODE",t.EDIT_EPISODE="EDIT_EPISODE",t.VIEW_EPISODE="VIEW_EPISODE",t.DELETE_EPISODE="DELETE_EPISODE",t.SUSPEND_EPISODE="SUSPEND_EPISODE",t.REPEAT_EPISODE="REPEAT_EPISODE",t.VIEW_EPISODE_TIMELINE="VIEW_EPISODE_TIMELINE",t.ADD_CONSENT_FORM="ADD_CONSENT_FORM",t.EDIT_CONSENT_FORM="EDIT_CONSENT_FORM",t.VIEW_CONSENT_FORM="VIEW_CONSENT_FORM",t.DELETE_CONSENT_FORM="DELETE_CONSENT_FORM",t.ADD_DST="ADD_DST",t.RESCHEDULE_DST="RESCHEDULE_DST",t.ADD_TMS="ADD_TMS",t.ADD_ADDITIONAL_TMS="ADD_ADDITIONAL_TMS",t.ADD_ADDITIONAL_TMS_B="ADD_ADDITIONAL_TMS B",t.ADD_GROUP="ADD_GROUP",t.EDIT_GROUP="EDIT_GROUP",t.VIEW_GROUP="VIEW_GROUP",t.DELETE_GROUP="DELETE_GROUP",t.ADD_LEAD="ADD_LEAD",t.EDIT_LEAD="EDIT_LEAD",t.VIEW_LEAD="VIEW_LEAD",t.DELETE_LEAD="DELETE_LEAD",t.ADD_LEAD_NOTES="ADD_LEAD_NOTES",t.ADD_LEAD_FOLLOW_UPS="ADD_LEAD_FOLLOW_UPS",t.VIEW_LEAD_FOLLOW_UPS="VIEW_LEAD_FOLLOW_UPS",t.CONVERT_LEAD="CONVERT_LEAD",t.START_LEAD_ENROLMENT_FLOW="START_LEAD_ENROLMENT_FLOW",t.LEAD_ENROLMENT_CHECKLIST="LEAD_ENROLMENT_CHECKLIST",t.ADD_FOLLOW_UP="ADD_FOLLOW_UP",t.VIEW_WORK_LIST="VIEW_WORK_LIST",t.RESOLVE_WORK_LIST_ITEM="RESOLVE_WORK_LIST_ITEM",t.VIEW_CRM_CONFIG="VIEW_CRM_CONFIG",t.CREATE_GENESYS_CAMPAIGN="CREATE_GENESYS_CAMPAIGN",t.PUSH_CONTACT_TO_CAMPAIGN_MANUAL="PUSH_CONTACT_TO_CAMPAIGN_MANUAL",t.MARK_LEAD_AS_LOST="MARK_LEAD_AS_LOST",t.ADD_APPOINTMENT="ADD_APPOINTMENT",t.EDIT_APPOINTMENT="EDIT_APPOINTMENT",t.VIEW_APPOINTMENT="VIEW_APPOINTMENT",t.DELETE_APPOINTMENT="DELETE_APPOINTMENT",t.RESCHEDULE_APPOINTMENT="RESCHEDULE_APPOINTMENT",t.CLEAR_UNATTENDED_APPOINTMENT="CLEAR_UNATTENDED_APPOINTMENT",t.CHAT="CHAT",t.AUDIO_CALL="AUDIO_CALL",t.VIDEO_CALL="VIDEO_CALL",t.VIEW_DASHBOARD="VIEW_DASHBOARD",t.ADD_PATIENT_NOTES="ADD_PATIENT_NOTES",t.VIEW_PATIENT_NOTES="VIEW_PATIENT_NOTES",t.VIEW_PATIENT_LISTING_SCREEN="VIEW_PATIENT_LISTING_SCREEN",t.ADD_APP_HOME_SCREEN_CONFIG="ADD_APP_HOME_SCREEN_CONFIG",t.EDIT_APP_HOME_SCREEN_CONFIG="EDIT_APP_HOME_SCREEN_CONFIG",t.DELETE_APP_HOME_SCREEN_CONFIG="DELETE_APP_HOME_SCREEN_CONFIG",t.CHECKIN_PERMISSION="CHECKIN_PERMISSION",t.VIEW_SMS_TEMPLATE="VIEW_SMS_TEMPLATE",t.ADD_SMS_TEMPLATE="ADD_SMS_TEMPLATE",t.EDIT_SMS_TEMPLATE="EDIT_SMS_TEMPLATE",t.DELETE_SMS_TEMPLATE="DELETE_SMS_TEMPLATE",t.SENT_MESSAGE="SENT_MESSAGE",t.VIEW_CONVERSATION="VIEW_CONVERSATION",t.MARK_CONVERSATION_READ="MARK_CONVERSATION_READ",t.ADD_DEVICES="ADD_DEVICES",t.REMOVE_DEVICES="REMOVE_DEVICES",t.ADD_LOCATION="ADD_LOCATION",t.VIEW_LOCATIONS="VIEW_LOCATIONS",t.EDIT_LOCATION="EDIT_LOCATION",t.DELETE_LOCATION="DELETE_LOCATION",t.ADD_SITE="ADD_SITE",t.EDIT_SITE="EDIT_SITE",t.VIEW_SITE="VIEW_SITE",t.DELETE_SITE="DELETE_SITE",t.MARK_AS_DEFAULT_SITE="MARK_AS_DEFAULT_SITE",t.MEASURE_HEALTH_SCORE="MEASURE_HEALTH_SCORE",t.PATIENT_HEALTH_SCORE_MANAGEMENT="PATIENT_HEALTH_SCORE_MANAGEMENT",t.ADD_PHYSICIAN_ORDER="ADD_PHYSICIAN_ORDER",t.EDIT_PHYSICIAN_ORDER="EDIT_PHYSICIAN_ORDER",t.VIEW_PHYSICIAN_ORDER="VIEW_PHYSICIAN_ORDER",t.DELETE_PHYSICIAN_ORDER="DELETE_PHYSICIAN_ORDER",t.ADD_NON_COMPLEX_TMS="ADD_NON_COMPLEX_TMS",t.ADD_COMPLEX_TMS="ADD_COMPLEX_TMS",t.VIEW_REPORT="VIEW_REPORT",t.DOWNLOAD_PATIENT_REPORT="DOWNLOAD_PATIENT_REPORT",t.VIEW_COMPLIANCE="VIEW_COMPLIANCE",t.APPROVE_COMPLIANCE="APPROVE_COMPLIANCE",t.REJECT_ALL_COMPLIANCE="REJECT_ALL_COMPLIANCE",t.APPROVE_ALL_COMPLIANCE="APPROVE_ALL_COMPLIANCE",t}({})},"0aW0":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7Xlp");let a=(()=>{class t{}return t.SOURCE="source",t.MODE="mode",t.ROLE_NAME="role_name",t.ROLE_ID="role_id",t.PARENT_ID="parent_id",t.SETTINGS_SAVE="SETTINGS_SAVE",t.SETTINGS_ADD_ROLE="SETTINGS_ADD_ROLE",t.SETTINGS_PERMISSION_SAVE="SETTINGS_PERMISSION_SAVE",t})();var o=n("fXoL");let s=(()=>{class t extends i.a{constructor(){super()}saveSettingsEvent(t){let e=this.getCommonProperties();e[a.MODE]=t,e[a.SOURCE]="settings",this.logEvent(a.SETTINGS_SAVE,e)}addRoleEvent(t,e){let n=this.getCommonProperties();n[a.PARENT_ID]=t,n[a.ROLE_NAME]=e,n[a.SOURCE]="settings",this.logEvent(a.SETTINGS_ADD_ROLE,n)}savePermissionEvent(t){let e=this.getCommonProperties();e[a.ROLE_ID]=t,e[a.SOURCE]="settings",this.logEvent(a.SETTINGS_PERMISSION_SAVE,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"0rTH":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{transform(e){return t.LANGUAGE_MAP.has(e)?t.LANGUAGE_MAP.get(e):e}}return t.LANGUAGE_MAP=new Map([["en_US","English (US)"],["en_UK","English (UK)"],["es-US","Spanish (US)"],["es_US","Spanish (US)"],["es","Spanish"],["ja_JP","Japanese (JP)"]]),t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"language",type:t,pure:!0}),t})()},"0wl5":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("UFn0"),a=n("KZX/"),o=n("ofXK"),s=n("OzZK"),r=n("Q8cG"),c=n("Nqz0"),l=n("3Pt+"),d=n("WoUL"),u=n("SHZf"),p=n("fXoL");let h=(()=>{class t{constructor(t){this.translationService=t,t.setLanguage()}}return t.\u0275mod=p.Pb({type:t}),t.\u0275inj=p.Ob({factory:function(e){return new(e||t)(p.bc(d.a))},imports:[[o.c,i.a,s.c,r.f,c.c,l.o,a.a,u.a.forRoot()]]}),t})()},"0zwC":function(t,e,n){"use strict";n.d(e,"a",function(){return E}),n("tbdY"),n("MXg9");var i=n("fXoL"),a=n("ofXK"),o=n("ZyQt"),s=n("nJia"),r=n("dRHE");function c(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){const t=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.ACTIVE")),i.rc("nzColor","#26c6da")("nzTooltipVisible",t.isTooltipEnabled),i.Db(2),i.Zc(" ",t.isFullName?"ACTIVE":"AC"," ")}}function l(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){const t=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.REGISTERED")),i.rc("nzColor","#ffb300")("nzTooltipVisible",t.isTooltipEnabled),i.Db(2),i.Zc(" ",t.isFullName?"REGISTERED":"RG"," ")}}function d(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){const t=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.NOT_ONBOARDED")),i.rc("nzColor","#5e35b0")("nzTooltipVisible",t.isTooltipEnabled),i.Db(2),i.Zc(" ",t.isFullName?"NOT ONBOARDED":"NO"," ")}}function u(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){const t=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.SUSPENDED")),i.rc("nzColor","#c81c1c")("nzTooltipVisible",t.isTooltipEnabled),i.Db(2),i.Zc(" ",t.isFullName?"SUSPENDED":"SD"," ")}}function p(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){const t=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.FLAGGED_FOR_DISQUALIFICATION")),i.rc("nzColor","#c81c1c")("nzTooltipVisible",t.isTooltipEnabled),i.Db(2),i.Zc(" ",t.isFullName?"Flagged For Disqualification":"FL"," ")}}function h(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){const t=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.DISCHARGED")),i.rc("nzColor","#778f9c")("nzTooltipVisible",t.isTooltipEnabled),i.Db(2),i.Zc(" ",t.isFullName?"DISCHARGED":"DG"," ")}}function b(t,e){if(1&t&&(i.Vb(0),i.Vc(1,c,3,6,"nz-tag",1),i.Vc(2,l,3,6,"nz-tag",1),i.Vc(3,d,3,6,"nz-tag",1),i.Vc(4,u,3,6,"nz-tag",1),i.Vc(5,p,3,6,"nz-tag",1),i.Vc(6,h,3,6,"nz-tag",1),i.Ub()),2&t){const t=i.ic();i.Db(1),i.rc("ngIf","ACTIVE"===t.patientStatus),i.Db(1),i.rc("ngIf","REGISTERED"===t.patientStatus),i.Db(1),i.rc("ngIf","NOT_ONBOARDED"===t.patientStatus),i.Db(1),i.rc("ngIf","SUSPENDED"===t.patientStatus),i.Db(1),i.rc("ngIf","FLAGGED_FOR_DISQUALIFICATION"===t.patientStatus),i.Db(1),i.rc("ngIf","DISCHARGED"===t.patientStatus)}}function g(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){const t=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.ACTIVE")),i.rc("nzColor","#26c6da")("nzTooltipVisible",t.isTooltipEnabled),i.Db(2),i.Zc(" ",t.isFullName?"ACTIVE":"AC"," ")}}function m(t,e){if(1&t&&(i.Xb(0,"nz-tag",8),i.Xc(1),i.Wb()),2&t){const t=i.ic(2);i.rc("nzColor","#ffb300")("nzTooltipVisible",t.isTooltipEnabled),i.Db(1),i.Zc(" ",t.isFullName?"NEW":"NW"," ")}}function f(t,e){if(1&t&&(i.Xb(0,"nz-tag",9),i.Xc(1),i.Wb()),2&t){const t=i.ic(2);i.rc("nzColor","#5e35b0")("nzTooltipVisible",t.isTooltipEnabled),i.Db(1),i.Zc(" ",t.isFullName?"ELIGIBLE":"EL"," ")}}function v(t,e){if(1&t&&(i.Xb(0,"nz-tag",10),i.Xc(1),i.Wb()),2&t){const t=i.ic(2);i.rc("nzColor","#778f9c")("nzTooltipVisible",t.isTooltipEnabled),i.Db(1),i.Zc(" ",t.isFullName?"NOT ELIGIBLE":"NE"," ")}}function S(t,e){if(1&t&&(i.Xb(0,"nz-tag",11),i.Xc(1),i.Wb()),2&t){const t=i.ic(2);i.rc("nzColor","#26c6da")("nzTooltipVisible",t.isTooltipEnabled),i.Db(1),i.Zc(" ",t.isFullName?"CONVERTED":"CO"," ")}}function T(t,e){if(1&t&&(i.Xb(0,"nz-tag",12),i.Xc(1),i.Wb()),2&t){const t=i.ic(2);i.rc("nzColor","#ffb300")("nzTooltipVisible",t.isTooltipEnabled),i.Db(1),i.Zc(" ",t.isFullName?"LOST":"LO"," ")}}function C(t,e){if(1&t&&(i.Vb(0),i.Vc(1,g,3,6,"nz-tag",1),i.Vc(2,m,2,3,"nz-tag",3),i.Vc(3,f,2,3,"nz-tag",4),i.Vc(4,v,2,3,"nz-tag",5),i.Vc(5,S,2,3,"nz-tag",6),i.Vc(6,T,2,3,"nz-tag",7),i.Ub()),2&t){const t=i.ic();i.Db(1),i.rc("ngIf","ACTIVE"===t.leadStatus),i.Db(1),i.rc("ngIf","NEW"===t.leadStatus),i.Db(1),i.rc("ngIf","ELIGIBLE"===t.leadStatus),i.Db(1),i.rc("ngIf","NOT_ELIGIBLE"===t.leadStatus),i.Db(1),i.rc("ngIf","CONVERTED"===t.leadStatus),i.Db(1),i.rc("ngIf","LOST"===t.leadStatus)}}let E=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-patient-status-tag"]],inputs:{patientStatus:"patientStatus",leadStatus:"leadStatus",isFullName:"isFullName",isTooltipEnabled:"isTooltipEnabled"},decls:2,vars:2,consts:[[4,"ngIf"],["nz-tooltip","","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipTitle","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipTitle","nzTooltipVisible"],["nz-tooltip","","nzTooltipTitle","New","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","Eligible","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","Not Eligible","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","Converted","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","Lost","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","New","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible"],["nz-tooltip","","nzTooltipTitle","Eligible","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible"],["nz-tooltip","","nzTooltipTitle","Not Eligible","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible"],["nz-tooltip","","nzTooltipTitle","Converted","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible"],["nz-tooltip","","nzTooltipTitle","Lost","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible"]],template:function(t,e){1&t&&(i.Vc(0,b,7,6,"ng-container",0),i.Vc(1,C,7,6,"ng-container",0)),2&t&&(i.rc("ngIf",e.patientStatus),i.Db(1),i.rc("ngIf",e.leadStatus))},directives:[a.q,o.a,s.d],pipes:[r.a],styles:["nz-tag[_ngcontent-%COMP%]{padding:2px 2px 0;font-size:10px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;border-radius:2px;font-weight:700;line-height:15px;margin-right:0}"]}),t})()},"1yiY":function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{constructor(){this.participantCallLogs=[]}}},"29Mf":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7Xlp");let a=(()=>{class t{}return t.PORTAL_LOGIN="PORTAL_LOGIN",t.PORTAL_LOGOUT="PORTAL_LOGOUT",t})();var o=n("fXoL");let s=(()=>{class t extends i.a{constructor(){super()}portalLoginEvent(){let t=this.getCommonProperties();this.logEvent(a.PORTAL_LOGIN,t)}portalLogoutEvent(){let t=this.getCommonProperties();this.logEvent(a.PORTAL_LOGOUT,t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"2hFh":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{getTimeZone(){const{1:t}=(new Date).toString().match(/\((.+)\)/);return t.includes(" ")?t.split(" ").map(t=>t.charAt(0)).join(""):t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"2lmJ":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("nLCl"),a=n("AytR"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t){this._http=t,this.rootURL=a.g.url}createStaffMember(t){return this._http.post(`${this.rootURL}/v3/staff/`,JSON.stringify(t))}updateStaffMember(t){return this._http.put(`${this.rootURL}/v3/staff/`,JSON.stringify(t))}fetchStaffMembersWithoutPagination(t=i.a.MONITORING_STAFF,e,n,a){let o=`${this.rootURL}/v3/staff?role=${t}&limit=-1`;return e&&(o=o+"&search="+e),n&&(o=o+"&siteId="+n),a&&(o=o+"&staffId="+a),this._http.get(o)}fetchStaffMembers(t=i.a.MONITORING_STAFF,e=0,n=10,a,o="ACTIVE",s="ALL",r=!1,c=null,l=!1){let d=`${this.rootURL}/v3/staff?role=${t}&offset=${e}&limit=${n}&status=${o}&patientStatus=${s}&overRideStaffBoundary=${l}`;return a&&(d=d+"&search="+a),t===i.a.MONITORING_STAFF&&(d=d+"&showNoStaff="+r),c&&null!=c&&(d=d+"&siteId="+c),this._http.get(d)}fetchPINStaffMembers(){return this._http.get(`${this.rootURL}/v3/staff/list?role=MANAGER_STAFF&status=ACTIVE&privilege=VIEW_COMPLIANCE`)}fetchAllPhysiciansBySiteId(t,e=i.a.PHYSICIAN){return this._http.get(`${this.rootURL}/v3/staff?siteId=${t}&role=${e}`)}fetchAllMonitoringStaffs(t=i.a.MONITORING_STAFF){return this._http.get(`${this.rootURL}/v3/staff?role=${t}`)}fetchAllPhysicians(t=i.a.PHYSICIAN){return this._http.get(`${this.rootURL}/v3/staff?role=${t}`)}fetchAllMonitoringStaffBySiteIdAndPhysicianId(t="",e="",n=i.a.MONITORING_STAFF){return this._http.get(`${this.rootURL}/v3/staff?siteId=${t}&staffId=${e}&role=${n}`)}disableMonitoringStaff(t,e,n=i.a.MONITORING_STAFF){return this._http.put(`${this.rootURL}/v3/staff/${t}?role=${n}`,{reason:e})}fetchStaffMemberById(t,e,n="ACTIVE"){let i=`${this.rootURL}/v3/staff/${t}?status=${n}`;return e&&(i=`${i}&filterByStaff=${e}`),this._http.get(i)}fetchStaffByPatientId(t){return this._http.get(`${this.rootURL}/v3/staff/patient/${t}`)}fetchAssignableStaffMembersById(t,e,n){let i=`${this.rootURL}/v3/staff/assignable/${t}`;return e&&(i=`${i}?role=${e}`),n&&(i=`${i}&filterByStaff=${n}`),this._http.get(i)}fetchPatientForStaff(t){return this._http.get(this.rootURL+"/v2/users/"+t+"/wards/")}fetchSitesForStaff(t=!0){let e=`${this.rootURL}/v3/staff/sites`;return e+=`?staffFilter=${t}`,this._http.get(e)}assignStaffMembers(t){return this._http.put(`${this.rootURL}/v3/staff/assign`,JSON.stringify(t))}delete(t){return this._http.delete(`${this.rootURL}/v2/users/${t}/removeCareTaker/`)}bulkAssignPatientsToMonitoringStaff(t){return this._http.put(`${this.rootURL}/v2/users/bulk/assign/monitoring-staff`,JSON.stringify(t))}bulkAssignPatientsToMonitoringStaffValidation(t){return this._http.post(`${this.rootURL}/v2/users/bulk/assign/monitoring-staff/validation`,JSON.stringify(t))}getPatientListForDisabledStaff(t,e="MONITORING_STAFF"){return this._http.get(`${this.rootURL}/v3/staff/disable/staff/${e}/${t}`)}enabledStaff(t){return this._http.put(`${this.rootURL}/v3/staff/enable/${t}`,null)}generateAndDownloadReport(t){return this._http.get(`${this.rootURL}/v2/reports/staff-disable-report/${t}`)}getStaffByUserId(t){return this._http.get(`${this.rootURL}/v3/staff/byId/${t}`)}validateUploadPhysician(t){return this._http.post(`${this.rootURL}/v2/bulk-upload/validate-staff/physician`,JSON.stringify(t))}bulkUploadPhysician(t){return this._http.post(`${this.rootURL}/v2/bulk-upload/staff/physician`,JSON.stringify(t))}fetchNameByIds(t){return this._http.get(`${this.rootURL}/v3/staff/nameByIds?userIds=${t}`)}fetchStaffList(t=i.a.MONITORING_STAFF,e,n="ACTIVE",a=null){let o=`${this.rootURL}/v3/staff/list?role=${t}&status=${n}`;return e&&(o=o+"&search="+e),a&&(o=o+"&siteId="+a),this._http.get(o)}getStaffById(t){return this._http.get(`${this.rootURL}/v3/staff/${t}`)}fetchAssignedTenants(t){let e=`${this.rootURL}/v3/staff/available/sub-tenants`;return t&&(e=e+"?search="+t),this._http.get(e)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"3lfR":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.CMT_RECORDED="CMT_RECORDED",t.CMT_NOT_RECORDED="CMT_NOT_RECORDED",t}({})},"3pGX":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("q3Kh"),a=n("AytR"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t){this._http=t,this.rootUrl=a.g.url}getFeature(t){return this._http.get(this.rootUrl+"/v2/feature/all/"+t)}getCourse(t,e,n,i){let a=this.rootUrl+"/v2/careplans/blueprints/?tenantId="+localStorage.getItem("loggedInTenant")+"&limit="+t+"&offset="+e+"&requestTenantIds="+n;return i&&(a+="&type="+i),this._http.get(a,{observe:"response"})}searchCourse(t,e,n){return this._http.get(this.rootUrl+"/v2/careplans/blueprints/search/?query="+t+"&limit="+e+"&offset="+n)}getCourseById(t){return this._http.get(this.rootUrl+"/v2/careplans/blueprints/"+t+"/")}getActionItem(t,e,n){return this._http.get(this.rootUrl+"/v2/actions/caretakers/"+t+"/?beginTime="+e+"&endTime="+n)}getActionItemForPatient(t,e,n){return this._http.get(this.rootUrl+"/v2/actions/patients/"+t+"/?beginTime="+e+"&endTime="+n)}getInterventionBlueprint(){return this._http.get(this.rootUrl+"/v2/careplans/intervention-blueprints/",{observe:"response"})}deleteFeature(t){return this._http.delete(this.rootUrl+"/v2/feature/"+t+"/",{observe:"response"}).pipe(Object(i.map)(t=>200==t.status?"VALID":t))}deleteBlueprint(t){return this._http.delete(this.rootUrl+"/v2/careplans/blueprints/"+t+"/")}deleteCareplan(t,e){return this._http.delete(this.rootUrl+"/v2/careplans/"+t+"/"+e+"/",{observe:"response"}).pipe(Object(i.map)(t=>200==t.status?"VALID":t))}createCourse(t){return delete t.id,delete t.noOfDays,this._http.post(this.rootUrl+"/v2/careplans/blueprints/",t)}createIntervention(t){return delete t.id,delete t.timingMap,delete t.paramName,delete t.originalId,delete t.childrens,delete t.accessPermission,delete t.isTemplateCreated,this._http.post(this.rootUrl+"/v2/careplans/intervention-blueprints/",t)}updateIntervention(t){return delete t.timingMap,delete t.paramName,delete t.originalId,delete t.childrens,delete t.isTemplateCreated,delete t.accessPermission,this._http.put(this.rootUrl+"/v2/careplans/intervention-blueprints/",t)}updateCourse(t){return this._http.put(this.rootUrl+"/v2/careplans/blueprints/",t)}assignCareplanToEpisode(t,e){return this._http.post(this.rootUrl+"/v2/episodes/"+e+"/careplans/"+t,{})}createUserPlan(t){return delete t.id,this._http.post(this.rootUrl+"/v2/course/assign/",t)}getAssignedCourses(t,e){return this._http.get(this.rootUrl+"/v2/course/owner/?type="+t+"&id="+e)}getCareplanById(t){return this._http.get(this.rootUrl+"/v2/careplans/"+t)}getActionLogForCaretaker(t,e,n){return this._http.get(this.rootUrl+"/v2/actions/logs/"+t+"/?limit="+e+"&offset="+n,{observe:"response"})}createBulkInterventionsForNewCareplanBlueprint(t){return this._http.post(this.rootUrl+"/v2/careplans/multi/intervention-blueprints",t)}updateBulkInterventionsForCareplanBlueprint(t){return this._http.put(this.rootUrl+"/v2/careplans/multi/intervention-blueprints",t)}assignCareplanToPatient(t){return this._http.post(this.rootUrl+"/v2/careplans/assignements",t)}autoAssignCareplan(t,e){return this._http.post(this.rootUrl+`/v2/careplans/auto-assign/${t}`,e)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac}),t})()},"4Ign":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{constructor(){this.storedRoutes=new Map}getStoredRoutes(){return this.storedRoutes}storeRoute(t,e){this.storedRoutes.set(t,e)}clearAllStoredRoutes(){this.storedRoutes=new Map}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"4RGM":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let i=(()=>{class t{}return t.REQUEST_TENANT_IDS="requestTenantIds",t.REQUEST_TENANT_TEMP_IDS="requestTenantTempIds",t.LOGGED_IN_USER_ASSIGNED_TENANTS="loggedInUserAssignedTenants",t})()},"4iVq":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("BrXI");class a{constructor(){this.direction=o.DESC,this.sortBy=s.PRIORITY,this.status=i.a.OPEN,this.offset=0,this.limit=200,this.countType="TOTAL",this.patientType="ALL"}}var o=function(t){return t.ASC="ASC",t.DESC="DESC",t}({}),s=function(t){return t.PRIORITY="PRIORITY",t.RAISED_DATE="RAISED_DATE",t.CLOSED_DATE="CLOSED_DATE",t.ALERT_STATUS="ALERT_STATUS",t}({})},"50vb":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("SxV6"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t){this._http=t,this.rootUrl=i.g.url}updateCampaigns(){return this._http.get(this.rootUrl+"/v1/genesys/update/tenant/campaigns/").pipe(Object(a.a)())}addLeadToCampaign(t){return this._http.post(this.rootUrl+"/v2/leads/push-lead-to-campaign",t)}updateLeadContact(t){return this._http.get(this.rootUrl+"/v2/leads/fetch-contact/"+t+"/contact-list")}updateWrapUpCodeMapping(){return this._http.get(this.rootUrl+"/v1/genesys/wrap-up-code-mapping")}getWrapUpCodes(){return this._http.get(this.rootUrl+"/v1/genesys/fetch/wrap-up-code-mapping")}getWrapUpCodeDetail(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/wrap-up-code/"+t)}updateLeadContactRequest(t){return this._http.get(this.rootUrl+`/fetch-contact/${t}/contact-list`)}createContactList(t,e,n){return this._http.post(this.rootUrl+"/v1/genesys/create/contact-list",{name:t,attemptLimits:e,division:n})}fetchAttemptLimits(){return this._http.get(this.rootUrl+"/v1/genesys/fetch/attempt-limits")}fetchDivisions(){return this._http.get(this.rootUrl+"/v1/genesys/fetch/divisions")}fetchScripts(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/scripts?divisionIds="+t)}fetchQueues(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/queues?divisionIds="+t)}fetchContactList(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch-contact-lists?divisionIds="+t)}fetchRuleSets(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/rule-sets?divisionIds="+t)}createCampaign(t){return this._http.post(this.rootUrl+"/v1/genesys/create/campaign",t)}fetchCampaignProgress(t){return this._http.get(this.rootUrl+`/v1/genesys/fetch/campaign/${t}/progress`)}fetchCampaignById(t){return this._http.get(this.rootUrl+`/v1/genesys/fetch/campaign/${t}`)}fetchCampaigns(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/all/campaigns/"+t)}attachCampaign(t){return this._http.post(this.rootUrl+"/v1/genesys/attach/campaign/",t)}updateCampaignSchedule(t,e){return this._http.put(this.rootUrl+"/v1/genesys/update/campaign/schedule/"+e,t)}bulkUploadGenesysContact(t,e){return this._http.post(this.rootUrl+"/v2/bulk-upload/leads/bulk/upload/"+t,e)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"5P38":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("yWgs"),a=n("fXoL");let o=(()=>{class t{constructor(t){this._securityTokenHelperService=t}setDashboardConfig(t){this.dashboardConfig=t}getDashboardConfig(){return this.dashboardConfig}setWidgetPermissions(t){this.widgetPermissions=t}getWidgetPermissions(){return this.widgetPermissions}isWidgetEnabled(t,e){var n,i;return e?(null===(i=this.dashboardConfig)||void 0===i?void 0:i.config[t].subWidgets[e])&&this.validateWidgetPermissions(e):(null===(n=this.dashboardConfig)||void 0===n?void 0:n.config[t].enabled)&&this.validateWidgetPermissions(t)}isWidgetsEnabled(t,e){let n=!1;return null==e||e.forEach(e=>{var i;(null===(i=this.dashboardConfig)||void 0===i?void 0:i.config[t].subWidgets[e])&&this.validatePermissionForSections(e)&&(n=!0)}),n}isSectionsEnabled(t){let e=!1;return null==t||t.forEach(t=>{var n;(null===(n=this.dashboardConfig)||void 0===n?void 0:n.config[t].enabled)&&this.validatePermissionForSections(t)&&(e=!0)}),e}isWidgetEnabledForStaff(t,e){var n,i,a;let o=!1;return"ALERTS"===t?(null===(i=null===(n=this.dashboardConfig)||void 0===n?void 0:n.config.ALERTS)||void 0===i?void 0:i.enabled)&&this.validateWidgetPermissionsForStaffProfile(t,e):(Object.keys(null===(a=this.dashboardConfig)||void 0===a?void 0:a.config).forEach(e=>{var n,i,a,s;(null===(i=null===(n=this.dashboardConfig)||void 0===n?void 0:n.config[e])||void 0===i?void 0:i.subWidgets)&&-1!==Object.keys(null===(s=null===(a=this.dashboardConfig)||void 0===a?void 0:a.config[e])||void 0===s?void 0:s.subWidgets).indexOf(t)&&(o=!0)}),o&&this.validateWidgetPermissionsForStaffProfile(t,e))}validateWidgetPermissions(t){const e=localStorage.getItem("accessToken");if("TENANT_ADMIN"===this._securityTokenHelperService.parseJwt(e).accountType)return!0;const n=localStorage.getItem("permissionToken"),i=this._securityTokenHelperService.parseJwt(n),a=null==i?void 0:i.permissions;return this.widgetPermissions[t].every(t=>0<=a.indexOf(t))}validatePermissionForSections(t){const e=localStorage.getItem("accessToken");if("TENANT_ADMIN"===this._securityTokenHelperService.parseJwt(e).accountType)return!0;const n=localStorage.getItem("permissionToken"),i=this._securityTokenHelperService.parseJwt(n),a=null==i?void 0:i.permissions;let o=[];return this.widgetPermissions[t]&&(o=this.widgetPermissions[t]),o.some(t=>0<=a.indexOf(t))}validateWidgetPermissionsForStaffProfile(t,e){return this.widgetPermissions[t].every(t=>0<=e.indexOf(t))}}return t.\u0275fac=function(e){return new(e||t)(a.bc(i.a))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"6En5":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});const i=[{name:"Video Call",type:"VIDEO_CALL",icon:"videoCall"},{name:"Audio Call",type:"CALL",icon:"phone"},{name:"Home Visit",type:"HOME_VISIT",icon:"home"},{name:"In Clinic",type:"CLINIC_VISIT"},{name:"Other",type:"OTHER"}],a=[{name:"Video Call",type:"VIDEO_CALL",icon:"videoCall"},{name:"Inbound Call",type:"INBOUND_CALL",icon:"phone"},{name:"Outbound Call",type:"OUTBOUND_CALL",icon:"phone"},{name:"In Clinic",type:"CLINIC_VISIT"},{name:"Other",type:"OTHER"}]},"6i1W":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o});var i=function(t){return t.MOBILE="MOBILE",t.LANDLINE="LANDLINE",t.OTHER="OTHER",t}({}),a=function(t){return t.REMINDER_SMS="REMINDER_SMS",t.SMS="SMS",t.CALL="CALL",t.VIDEO_CALL="VIDEO_CALL",t}({}),o=function(t){return t.CHRONIC="CHRONIC",t.NON_CHRONIC="NON_CHRONIC",t.UNDETERMINED="UNDETERMINED",t}({})},"74vj":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7Xlp"),a=n("gssi"),o=n("fXoL");let s=(()=>{class t extends i.a{constructor(){super()}appointmentsTabSelectedEvent(t){let e=this.getCommonProperties();e[a.a.TAB_NAME]=t,this.logEvent(a.a.APPOINTMENT_TAB,e)}appointmentActionEvent(t,e){let n=this.getCommonProperties();n[a.a.APPOINTMENT_ID]=t,n[a.a.APPOINTMENT_ACTION_NAME]=e,this.logEvent(a.a.APPOINTMENT_ACTION,n)}appointmentCreateEvent(t,e){let n=this.getCommonProperties();n[a.a.APPOINTMENT_TYPE]=t,n[a.a.APPOINTMENT_PARAMETERS]=e,this.logEvent(a.a.APPOINTMENT_ACTION,n)}appointmentUnattendedReason(t,e){let n=this.getCommonProperties();n[a.a.UNATTENDED_REASON]=t,n[a.a.APPOINTMENT_ID]=e,this.logEvent(a.a.APPOINTMENT_UNATTENDED_REASON,n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"7Xlp":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{constructor(){}setUserId(t){}clearUserId(){}logPageView(t,e){}handleError(t){}logEvent(t,e,n){}getCommonProperties(){return{}}pageViewEvent(t,e){}pageDestroyEvent(t,e){}drawerEvent(t){}tabEvent(t,e){}pictureUploadEvent(t){}downloadStartReportEvent(t,e,n,i){}downloadFailReportEvent(t,e,n,i,a){}downloadSuccessReportEvent(t,e,n,i){}shareReportEvent(t,e,n,i){}buttonEvent(t,e,n){}listSelectedEvent(t,e,n){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"7t9/":function(t,e,n){"use strict";n.d(e,"a",function(){return N});var i=n("igu/"),a=n("ofXK"),o=n("9ig3"),s=n("jKzE"),r=n("ighe"),c=n("fXoL"),l=n("B+r4"),d=n("zAKX"),u=n("3Pt+"),p=n("0lU3"),h=n("5vDB"),b=n("ncdi"),g=n("eHCX");function m(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"strong",12),c.Xc(2),c.Wb(),c.Sb(3,"nz-divider",13),c.Ub()),2&t){const t=c.ic().$implicit,e=c.ic(2);c.Db(2),c.ad(" ",null==t?null:t.value,": ",null==e.durationMap?null:e.durationMap.get(null==t?null:t.key)," minutes ")}}function f(t,e){if(1&t&&(c.Vb(0),c.Vc(1,m,4,2,"ng-container",1),c.Ub()),2&t){const t=e.$implicit,n=c.ic(2);c.Db(1),c.rc("ngIf",0<(null==n.durationMap?null:n.durationMap.get(null==t?null:t.key)))}}function v(t,e){1&t&&(c.Vb(0),c.Sb(1,"br"),c.Ub())}function S(t,e){if(1&t&&(c.Vb(0),c.Vc(1,f,2,1,"ng-container",11),c.jc(2,"keyvalue"),c.Vc(3,v,2,0,"ng-container",1),c.Ub()),2&t){const t=c.ic();c.Db(1),c.rc("ngForOf",c.lc(2,2,t.serviceCodeCountMap,t.asIsOrder)),c.Db(2),c.rc("ngIf",0<(null==t.durationMap?null:t.durationMap.size))}}function T(t,e){if(1&t&&c.Sb(0,"nz-option",14),2&t){const t=e.$implicit;c.rc("nzLabel",null==t?null:t.value)("nzValue",null==t?null:t.key)}}function C(t,e){1&t&&c.Xc(0),2&t&&c.Zc(" and ",e.$implicit.length," more selected ")}function E(t,e){1&t&&(c.Xb(0,"strong",15),c.Xc(1," No patient communications notes are available for this date range! "),c.Wb())}function I(t,e){1&t&&(c.Xb(0,"strong",26),c.Xc(1," Billable "),c.Wb())}function M(t,e){1&t&&(c.Xb(0,"strong",27),c.Xc(1," Non-Billable "),c.Wb())}function y(t,e){if(1&t&&(c.Xb(0,"p",28),c.Sb(1,"nz-divider"),c.Xb(2,"span"),c.Xb(3,"strong"),c.Xc(4,"Reason why the time was updated for this patient?:"),c.Wb(),c.Sb(5,"br"),c.Xb(6,"em"),c.Xc(7),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(7),c.Yc(null==t?null:t.noteUpdateReason)}}function A(t,e){if(1&t&&(c.Vb(0),c.Xc(1),c.Ub()),2&t){const t=e.$implicit;c.Db(1),c.ad(" ",null==t?null:t.code," ",null==t?null:t.description,",\xa0 ")}}function _(t,e){if(1&t&&(c.Xb(0,"p",28),c.Sb(1,"nz-divider"),c.Xb(2,"strong"),c.Xc(3,"Dx Codes -"),c.Wb(),c.Vc(4,A,2,2,"ng-container",11),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(4),c.rc("ngForOf",null==t?null:t.dxCodes)}}function D(t,e){if(1&t&&(c.Xb(0,"div",29),c.Xb(1,"h6"),c.Xb(2,"strong"),c.Xc(3),c.jc(4,"number"),c.Wb(),c.Wb(),c.Xb(5,"h6"),c.Xc(6,"mins"),c.Wb(),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(3),c.Yc(c.lc(4,1,(null==t?null:t.durationInMilliSeconds)/6e4,"1.0-0"))}}function z(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"nz-timeline-item",16),c.Xb(2,"strong",17),c.Xc(3),c.jc(4,"date"),c.Wb(),c.Sb(5,"nz-divider",13),c.Xb(6,"strong",17),c.Xc(7),c.Wb(),c.Sb(8,"nz-divider",13),c.Vc(9,I,2,0,"strong",18),c.Vc(10,M,2,0,"strong",19),c.Vb(11),c.Sb(12,"nz-divider",13),c.Xb(13,"strong",20),c.Xc(14),c.Wb(),c.Ub(),c.Xb(15,"p"),c.Xb(16,"span",21),c.Xc(17),c.Wb(),c.Sb(18,"br"),c.Sb(19,"span",22),c.Wb(),c.Vc(20,y,8,1,"p",23),c.Vc(21,_,5,1,"p",23),c.Xb(22,"label",24),c.Xc(23),c.Wb(),c.Wb(),c.Vc(24,D,7,4,"ng-template",null,25,c.Wc),c.Ub()),2&t){const t=e.$implicit,n=c.Ic(25),i=c.ic(2);c.Db(1),c.rc("nzDot",n),c.Db(2),c.Yc(c.lc(4,11,null==t?null:t.date,"mediumDate")),c.Db(4),c.Yc(i.mode.get(t.mode)),c.Db(2),c.rc("ngIf",null==t||null==t.compliance?null:t.compliance.billable),c.Db(1),c.rc("ngIf",(null==t?null:t.compliance)&&!(null!=t&&null!=t.compliance&&t.compliance.billable)),c.Db(4),c.Zc(" ",i.serviceCodeMap.get(null==t?null:t.cptCode)," "),c.Db(3),c.Yc(null==t?null:t.activity),c.Db(2),c.rc("innerHTML",null==t?null:t.notes,c.Mc),c.Db(1),c.rc("ngIf",null==t?null:t.noteUpdateReason),c.Db(1),c.rc("ngIf",null==t||null==t.dxCodes?null:t.dxCodes.length),c.Db(2),c.Yc(null==t?null:t.caretakerName)}}function O(t,e){if(1&t&&(c.Xb(0,"nz-timeline"),c.Vc(1,z,26,14,"ng-container",11),c.Wb()),2&t){const t=c.ic();c.Db(1),c.rc("ngForOf",t.cmtDetails)}}let N=(()=>{class t{constructor(t,e,n){this._episodesService=t,this._datePipe=e,this._dataSharingService=n,this.cmtDetails=[],this.cmtMap=new Map,this.durationMap=new Map,this.date=[Object(o.a)(Date.now()),Object(s.a)(Date.now())],this._dataSharingService.tenantSettings.subscribe(t=>{var e,n;t&&(null===(n=null===(e=null==t?void 0:t.episodeBlueprints)||void 0===e?void 0:e.filter(t=>!(null==t?void 0:t.archived)))||void 0===n||n.forEach(t=>{this.serviceCodeMap=new Map,"CCM"===(null==t?void 0:t.type)&&(this.serviceCodeMap.set("NON_COMPLEX_TMS","Non Complex CMT"),this.serviceCodeMap.set("COMPLEX_TMS","Complex CMT")),"RPM"===(null==t?void 0:t.type)&&(this.serviceCodeMap.set("TREATMENT_MANAGEMENT_SERVICE","Treatment Management Service"),this.serviceCodeMap.set("ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE","Additional Treatment Management Service"),this.serviceCodeMap.set("ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B","Additional Treatment Management Service - B")),"BHI"!==(null==t?void 0:t.type)&&"GENERAL"!==(null==t?void 0:t.type)||this.serviceCodeMap.set("CARE_MANAGEMENT_TIME","Care Management Time")}))}),this.mode=new Map([["VIDEO_CALL","Video Call"],["CALL","Audio Call"],["HOME_VISIT","Home Visit"],["CLINIC_VISIT","In Clinic"],["OTHER","Other"]]),this.serviceCodeCountMap=new Map([["TREATMENT_MANAGEMENT_SERVICE","TMS-20"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE","TMS-40"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B","TMS-60"],["NON_COMPLEX_TMS","Non-complex CMT"],["COMPLEX_TMS","Complex CMT"],["CARE_MANAGEMENT_TIME","CMT"]])}asIsOrder(t,e){return 1}ngOnInit(){this.getCMTDetails()}getCMTDetails(){const t=this._datePipe.transform(this.date[0],"yyyy-MM-dd"),e=this._datePipe.transform(this.date[1],"yyyy-MM-dd");this.loading=!0,this.cmtMap=new Map,this.durationMap=new Map,this.cmtDetails=[],this._episodesService.fetchAllPatientCommunications(this.patientId,t,e,this.selectedServiceCodes).subscribe(t=>{var e;this.loading=!1,this.cmtDetails=t,null==t||t.forEach(t=>{var e,n;(null===(e=this.cmtMap)||void 0===e?void 0:e.get(null==t?void 0:t.cptCode))?this.cmtMap.set(null==t?void 0:t.cptCode,[...null===(n=this.cmtMap)||void 0===n?void 0:n.get(null==t?void 0:t.cptCode),t]):this.cmtMap.set(null==t?void 0:t.cptCode,[t])}),null===(e=this.cmtMap)||void 0===e||e.forEach((t,e)=>{var n;const i=null==t?void 0:t.map(t=>t.durationInMilliSeconds).reduce((t,e)=>t+e,0);null===(n=this.durationMap)||void 0===n||n.set(e,i/6e4)})})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(r.a),c.Rb(a.e),c.Rb(i.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-patient-communication-history"]],inputs:{patientName:"patientName",patientId:"patientId"},features:[c.Cb([a.e])],decls:18,vars:12,consts:[["id","heading"],[4,"ngIf"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","16"],["nzMode","multiple","nzPlaceHolder","Service Codes",3,"nzMaxTagCount","nzMaxTagPlaceholder","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["tagPlaceHolder",""],["nz-col","","nzSpan","8"],[3,"ngModel","ngModelChange"],[1,"container"],["id","no-data",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"primary","sub-heading"],["nzType","vertical"],[3,"nzLabel","nzValue"],["id","no-data"],[3,"nzDot"],[1,"history-heading"],["nz-typography","","nzType","success",4,"ngIf"],["nz-typography","","nzType","danger",4,"ngIf"],["nz-typography","","nzType","secondary"],[1,"activity"],[3,"innerHTML"],["class","history",4,"ngIf"],[1,"primary"],["dotTemplate",""],["nz-typography","","nzType","success"],["nz-typography","","nzType","danger"],[1,"history"],[1,"dot-template"]],template:function(t,e){if(1&t&&(c.Xb(0,"h4",0),c.Xc(1),c.Wb(),c.Vc(2,S,4,5,"ng-container",1),c.Sb(3,"br"),c.Xb(4,"div",2),c.Xb(5,"div",3),c.Xb(6,"nz-select",4),c.ec("ngModelChange",function(t){return e.selectedServiceCodes=t})("ngModelChange",function(){return e.getCMTDetails()}),c.Vc(7,T,1,2,"nz-option",5),c.jc(8,"keyvalue"),c.Wb(),c.Vc(9,C,1,1,"ng-template",null,6,c.Wc),c.Wb(),c.Xb(11,"div",7),c.Xb(12,"nz-range-picker",8),c.ec("ngModelChange",function(t){return e.date=t})("ngModelChange",function(){return e.getCMTDetails()}),c.Wb(),c.Wb(),c.Wb(),c.Sb(13,"br"),c.Sb(14,"br"),c.Xb(15,"div",9),c.Vc(16,E,2,0,"strong",10),c.Vc(17,O,2,1,"nz-timeline",1),c.Wb()),2&t){const t=c.Ic(10);c.Db(1),c.Zc("Patient Communication History: ",e.patientName||"",""),c.Db(1),c.rc("ngIf",(null==e.serviceCodeCountMap?null:e.serviceCodeCountMap.size)>0),c.Db(4),c.rc("nzMaxTagCount",1)("nzMaxTagPlaceholder",t)("ngModel",e.selectedServiceCodes),c.Db(1),c.rc("ngForOf",c.lc(8,9,e.serviceCodeMap,e.asIsOrder)),c.Db(5),c.rc("ngModel",e.date),c.Db(4),c.rc("ngIf",!(e.loading||null!=e.cmtDetails&&e.cmtDetails.length)),c.Db(1),c.rc("ngIf",!e.loading&&(null==e.cmtDetails?null:e.cmtDetails.length))}},directives:[a.q,l.c,l.a,d.d,u.u,u.x,a.p,p.a,p.c,h.a,d.a,b.a,b.b,g.a],pipes:[a.j,a.e,a.f],styles:["#heading[_ngcontent-%COMP%]{padding-left:1%;border-left:3px solid var(--primary-color)}.dot-template[_ngcontent-%COMP%]{width:36px;height:36px;padding-top:7px;border-radius:50%;background-color:var(--primary-color)}.sub-heading[_ngcontent-%COMP%]{font-size:10px;color:#949494}h6[_ngcontent-%COMP%]{color:var(--neutral-color);font-weight:700}.history-heading[_ngcontent-%COMP%]{color:#949494;font-weight:500}[_nghost-%COMP%]     .ant-timeline-item{padding-left:3%}.activity[_ngcontent-%COMP%]{color:var(--tertiary-color)}.primary[_ngcontent-%COMP%]{color:var(--primary-color)!important}#no-data[_ngcontent-%COMP%]{display:block;text-align:center}"]}),t})()},"8yaK":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("2Vo4"),a=n("fXoL");let o=(()=>{class t{constructor(){this.ping$=new i.a(null)}getLatestClockTime(){return this.ping$}setLatestClockTime(t,e){const n={hours:parseInt(t/60),minutes:parseInt(t%60),seconds:parseInt(e%60)},i=new Date;i.setHours(null==n?void 0:n.hours,null==n?void 0:n.minutes,(null==n?void 0:n.seconds)+1),this.ping$.next(i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"9xQM":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{transform(t,e){if(!(null==t?void 0:t.length)||!e)return"N/A";const n=null==t?void 0:t.find(t=>t.source===e);return(null==n?void 0:n.sourceId)||"N/A"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"externalSources",type:t,pure:!0}),t})()},ALyH:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("fXoL"),a=n("ofXK"),o=n("t2pg");function s(t,e){if(1&t&&(i.Vb(0),i.Xc(1),i.Ub()),2&t){const t=i.ic(2);i.Db(1),i.Zc("",t.delimitter," ")}}function r(t,e){if(1&t&&(i.Xb(0,"strong"),i.Xc(1),i.jc(2,"tenantName"),i.Vc(3,s,2,1,"ng-container",1),i.Wb()),2&t){const t=e.$implicit,n=e.index,a=i.ic();i.Db(1),i.Zc(" ",i.kc(2,2,t),""),i.Db(2),i.rc("ngIf",n<a.assignedTenantIds.length-1)}}let c=(()=>{class t{constructor(){this.assignedTenantIds=new Array,this.delimitter=","}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-staff-sub-tenants"]],inputs:{staffName:"staffName",assignedTenantIds:"assignedTenantIds",delimitter:"delimitter"},decls:4,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,e){1&t&&(i.Xb(0,"strong"),i.Xc(1),i.Wb(),i.Xc(2," is assigned to "),i.Vc(3,r,4,4,"strong",0)),2&t&&(i.Db(1),i.Zc("",e.staffName," "),i.Db(2),i.rc("ngForOf",e.assignedTenantIds))},directives:[a.p,a.q],pipes:[o.a],styles:[""]}),t})()},AytR:function(t,e,n){"use strict";n.d(e,"g",function(){return i}),n.d(e,"r",function(){return a}),n.d(e,"o",function(){return o}),n.d(e,"m",function(){return s}),n.d(e,"k",function(){return r}),n.d(e,"l",function(){return c}),n.d(e,"j",function(){return l}),n.d(e,"p",function(){return d}),n.d(e,"n",function(){return u}),n.d(e,"v",function(){return p}),n.d(e,"e",function(){return h}),n.d(e,"d",function(){return b}),n.d(e,"q",function(){return g}),n.d(e,"u",function(){return m}),n.d(e,"f",function(){return f}),n.d(e,"c",function(){return v}),n.d(e,"s",function(){return S}),n.d(e,"t",function(){return T}),n.d(e,"b",function(){return C}),n.d(e,"h",function(){return E}),n.d(e,"i",function(){return I}),n.d(e,"a",function(){return M});const i={production:!1,baseUrl:"/v1",VERSION:n("kiQV").a,api:{getInsights:"/insight",getCount:"/insight/count",getBlueprints:"/vital-blueprints",getForms:"/forms",getForm:"/forms",saveForm:"/forms",updateForm:"/forms",getEvalForms:"/evalform",getEvalForm:"/evalform"},url:"https://stage.cooeyhealth.com",webFormRootURL:"https://development.form.cooeyhealth.com/",chatURL:"wss://stage.communications.cooeyhealth.com/chat/users/",videoURL:"wss://stage.communications.cooeyhealth.com/video-call/",pageSize:10,envName:"qa",instrumentationKey:"5db01987-7977-47f1-957d-2f3e65fe054d",youtubeAPIKey:"AIzaSyBZ1xQKe5w70Z5outufqqw2tXHZRbxXCbs",pccURL:"https://connect.pointclickcare.com/auth/login?client_id=HQ5mk1UEkBrNrDcgEL4wqJ7Te0YrjcxA&response_type=code&redirect_uri=https://portal.cooeyhealth.com/pcc/callback",callerNumber:"+13252080644"},a=()=>i.url+i.baseUrl+"/forms",o=(t,e,n)=>i.url+i.baseUrl+`/forms/draft/${t}/${e}?searchParam=${n}`,s=(t,e,n)=>i.url+i.baseUrl+`/forms/${t}/${e}?searchParam=${n}`,r=(t,e)=>i.url+i.baseUrl+`/evalform/${t}/${e}`,c=(t,e)=>i.url+i.baseUrl+`/evalforms/patient/${t}/${e}`,l=(t,e)=>i.url+i.baseUrl+`/evalDirectform/patient/${t}/${e}`,d=()=>i.url+i.baseUrl+"/evalform",u=()=>i.url+i.baseUrl+"/directevalform",p=()=>i.url+i.baseUrl+"/forms/updatecriteria",h=()=>i.url+i.baseUrl+"/forms",b=()=>i.url+i.baseUrl+"/forms/savedraft",g=()=>i.url+i.baseUrl+"/evalform/actionitem",m=t=>i.url+i.baseUrl+`/forms/${t}`,f=()=>i.url+i.baseUrl+"/forms",v=()=>i.url+i.baseUrl+"/forms/local/clone",S=t=>i.url+i.baseUrl+`/form/draft/${t}`,T=t=>i.url+i.baseUrl+`/forms/draft/${t}`,C=t=>i.url+i.baseUrl+`/forms/assigned/${t}`,E=t=>i.url+`/v2/actions/forms/${t}?source=ALL`,I=t=>i.url+`/v1/last-submitted-forms/${t}`,M=(t,e)=>i.url+`/v1/forms/assign-on-demand/${t}/${e}`},BZRL:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("2Vo4"),a=n("SxV6"),o=n("AytR"),s=n("fXoL"),r=n("tk/3"),c=n("tyNb");let l=(()=>{class t{constructor(t,e){this._http=t,this.router=e,this.rootUrl=o.g.url+"/ehealth/v2/consent-form"}saveConsentDetails(t){return this._http.post(this.rootUrl,t).pipe(Object(a.a)())}getConsentDetails(t){return this._http.get(`${this.rootUrl}/${t}`).pipe(Object(a.a)())}createConsentCallSubject(){this.consentCallSubject$=new i.a(null)}onConsentCallDisconnect(){return this.consentCallSubject$.asObservable()}setConsentCallDisconnect(t){this.consentCallSubject$.next(t)}unsubscribeFromConsentCallSubject(){this.consentCallSubject$&&this.consentCallSubject$.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.bc(r.c),s.bc(c.g))},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},BcC3:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});class i{}var a=function(t){return t.GROUP="GROUP",t.LOCATION="LOCATION",t.TENANT="TENANT",t.ACROSS_SUB_TENANTS="ACROSS_SUB_TENANTS",t}({})},Beax:function(t,e,n){"use strict";n.d(e,"a",function(){return B});var i=n("fEa1"),a=n("igu/"),o=n("fXoL"),s=n("gTqA"),r=n("bOdf"),c=n("3E0/"),l=n("I65S"),d=n("o3v3"),u=n("vj4F"),p=n("0rTH"),h=n("tyNb"),b=n("ofXK"),g=n("ZyQt"),m=n("pSeI"),f=n("dRHE"),v=n("/5ms"),S=n("3lfR"),T=n("Pp+U"),C=n("WoUL");let E=(()=>{class t{constructor(t,e){this.episodeStatusNamePipe=t,this._translationService=e}transform(t,e,n,i,a,o,s,r,c,l,d,u,p,h,b,g,m){let f="",T="",C="";switch(t[0]){case"EPISODES":const t=n.get(e);f=t?`Episodes/${t}`:e&&"RPM"===e?"Episodes/RPM":e&&"GENERAL"===e?"Episodes/General":e&&"CCM"===e?"Episodes/CCM":e&&"HEALTH_SCORE"===e?"Episodes/Health Score":"Episodes";break;case"CARE_PLANS":f=r&&"DEFAULT"===r?"Care Plans/General":r&&"REMOTE_PATIENT_MONITORING"===r?"Care Plans/Remote Monitoring":"Care Plans";break;case"NO_ACTIVE_EPISODES":if(f="Episodes/No Active Episodes",null!=e){const t=n.get(e);f+=`/${t}`}if(null!=g&&(f+=`/${this.episodeStatusNamePipe.transform(g)}`),i&&i.length){const t=new Date(i[0]).setHours(0,0,0,0),e=new Date(i[1]).setHours(23,59,59,999);T=`Between ${new Date(t).toDateString()} - ${new Date(e).toDateString()}`,f+=`/${T}`}break;case"NO_ACTIVE_CARE_PLANS":f="No Active Care Plans";break;case"DST":switch(f="DST: ",l){case v.a.PENDING_ON_BOARDINGS:return f+"Remaining for the day";case v.a.SCHEDULED_ON_BOARDINGS:return f+"Scheduled for the month";case v.a.SUCCESSFUL_ON_BOARDINGS_FOR_DAY:return f+"Successful onboardings for the day";case v.a.SUCCESSFUL_ON_BOARDINGS_FOR_MONTH:return f+"Successful onboardings for the month"}break;case"VITAL_DAYS_REMAINING":C=this.getOperationType(s),f="BETWEEN"===s?`Vital Days Remaining ${C} ${a} and ${o}`:`Vital Days Remaining ${C} ${a}`;break;case"TMS_REMAINING":if(C=this.getOperationType(s),d&&"TMS_RECORDED"!==d?"TMS_NOT_RECORDED"===d?f="TMS Not Recorded":"ADDITIONAL_TMS_RECORDED"===d?f="Additional TMS - A Recorded":"ADDITIONAL_TMS_NOT_RECORDED"===d?f="Additional TMS - A Not Recorded":"ADDITIONAL_TMS_B_RECORDED"===d?f="Additional TMS - B Recorded":"ADDITIONAL_TMS_B_NOT_RECORDED"===d&&(f="Additional TMS - B Not Recorded"):f="TMS Recorded","TMS_NOT_RECORDED"===d||"ADDITIONAL_TMS_NOT_RECORDED"===d||"ADDITIONAL_TMS_B_NOT_RECORDED"===d)break;f="BETWEEN"===s?`${f} ${C} ${a} and ${o} mins`:`${f} ${C} ${a}`;break;case"CCM_CMT_REMAINING":C=this.getOperationType(s),p&&"NON_COMPLEX_CMT_RECORDED"!==p?"NON_COMPLEX_CMT_NOT_RECORDED"===p?f="NON_COMPLEX_CMT_NOT_RECORDED":"COMPLEX_CMT_RECORDED"===p?f="COMPLEX_CMT_RECORDED":"COMPLEX_CMT_NOT_RECORDED"===p?f="COMPLEX_CMT_NOT_RECORDED":"NON_COMPLEX_ADDITIONAL_CMT_RECORDED"===p?f="PATIENT.NON_COMPLEX_ADDITIONAL_CMT_RECORDED":"NON_COMPLEX_ADDITIONAL_CMT_NOT_RECORDED"===p?f="PATIENT.NON_COMPLEX_ADDITIONAL_CMT_NOT_RECORDED":"COMPLEX_ADDITIONAL_CMT_RECORDED"===p?f="PATIENT.COMPLEX_ADDITIONAL_CMT_RECORDED":"COMPLEX_ADDITIONAL_CMT_NOT_RECORDED"===p?f="PATIENT.COMPLEX_ADDITIONAL_CMT_NOT_RECORDED":"NON_COMPLEX_PHYSICIAN_CMT_RECORDED"===p?f="NON_COMPLEX_PHYSICIAN_CMT_RECORDED":"NON_COMPLEX_PHYSICIAN_CMT_NOT_RECORDED"===p?f="PATIENT.NON_COMPLEX_PHYSICIAN_CMT_NOT_RECORDED":"NON_COMPLEX_ADDITIONAL_CMT_B_RECORDED"===p?f="PATIENT.NON_COMPLEX_ADDITIONAL_CMT_B_RECORDED":"NON_COMPLEX_ADDITIONAL_CMT_B_NOT_RECORDED"===p&&(f="PATIENT.NON_COMPLEX_ADDITIONAL_CMT_B_NOT_RECORDED"):f="NON_COMPLEX_CMT_RECORDED",this._translationService.get(f).subscribe(t=>{f=t,"NON_COMPLEX_CMT_NOT_RECORDED"!==p&&"COMPLEX_CMT_NOT_RECORDED"!==p&&"NON_COMPLEX_ADDITIONAL_CMT_NOT_RECORDED"!==p&&"NON_COMPLEX_PHYSICIAN_CMT_NOT_RECORDED"!==p&&"COMPLEX_ADDITIONAL_CMT_NOT_RECORDED"!==p&&"NON_COMPLEX_ADDITIONAL_CMT_B_NOT_RECORDED"!==p&&(f="BETWEEN"===s?`${f} ${C} ${a} and ${o} mins`:`${f} ${C} ${a}`)});break;case"PATIENT_NOT_SERVICED":C=this.getOperationType(s),f="PATIENT_NOT_SERVICED",this._translationService.get(f).subscribe(t=>{f=t,f=`${f} ${C} ${a} days`});break;case"CMT":C=this.getOperationType(s),f=u===S.a.CMT_NOT_RECORDED?"CMT Not Recorded":"BETWEEN"===s?`CMT Recorded ${C} ${a} and ${o} mins`:`CMT Recorded ${C} ${a}`;break;case"INACTIVE_PATIENTS":if(i&&i.length){const t=new Date(i[0]).setHours(0,0,0,0),e=new Date(i[1]).setHours(23,59,59,999);f=`Inactive Patients Between ${new Date(t).toDateString()} - ${new Date(e).toDateString()}`}else f="Inactive Patients - During Current Month";break;case"CONSENT_FORM":switch(h){case"TO_BE_OBTAINED":f="Consent Form to be obtained";break;case"EXPIRING_THIS_MONTH":f="Consent Form expiring this month";break;case"EXPIRED_LAST_MONTH":f="Consent Form expired last month"}case"PHYSICIAN_ORDER":switch(b){case"TO_BE_OBTAINED":f="Physician order to be obtained";break;case"EXPIRING_THIS_MONTH":f="Physician order expiring this month";break;case"EXPIRED_LAST_MONTH":f="Physician order expired last month"}break;case"PATIENTS_WITH_IN_COMPLETE_DST":f="Pending DST Tasks";break;case"RPM_VITAL_COMPLIANCE":f="RPM Vital Compliance";break;case"ASSESSMENT_COMPLIANCE":f="ASSESSMENT_RECORDED"===m?"Completed Assessment":"Pending Assessment";break;case"ON_BOARDING":f="Not On Boarded Last Month"}return f}getOperationType(t){return"GREATER_THAN"===t?"Greater Than":"EQUAL_TO"===t?"Equal To":"BETWEEN"===t?"Between":"Less Than"}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(T.a),o.Rb(C.a))},t.\u0275pipe=o.Qb({name:"filterDesc",type:t,pure:!0}),t})();var I=n("CRwX"),M=n("osXl");function y(t,e){1&t&&(o.Xb(0,"span",4),o.Xc(1),o.jc(2,"translate"),o.Wb()),2&t&&(o.Db(1),o.Zc(" ",o.kc(2,1,"PATIENT.VIEWING_PATIENTS"),": \xa0 "))}const A=function(){return["EPISODES"]};function _(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",7),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearAllFilters()}),o.Xc(1),o.jc(2,"translate"),o.jc(3,"filterDesc"),o.Wb()}if(2&t){const t=o.ic(3);o.sc("nzMode",t.isCustomFilter?"default":"closeable"),o.Db(1),o.Zc(" ",o.kc(2,2,o.mc(3,4,o.xc(8,A),t.episodeType,t.blueprintNamesMap))," ")}}const D=function(t,e,n,i,a,o,s,r,c,l,d,u,p,h,b,g,m){return[t,e,n,i,a,o,s,r,c,l,d,u,p,h,b,g,m]};function z(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",7),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearAllFilters()}),o.Xc(1),o.jc(2,"translate"),o.jc(3,"filterDesc"),o.Wb()}if(2&t){const t=o.ic(3);o.sc("nzMode",t.isCustomFilter||t.smsScreen?"default":"closeable"),o.Db(1),o.Zc(" ",o.kc(2,2,o.oc(3,4,o.Gc(22,D,[t.selectedFilter,t.episodeType,t.blueprintNamesMap,t.dateRange,t.firstValue,t.secondValue,t.operation,t.careplanType,t.alertType,t.dstFilterType,t.tmsFilterType,t.cmtFilterType,t.ccmCMTFilterType,t.consentFormStatus,t.physicianOrderStatus,t.selectedEpisodeStatus,t.assessmentFilterType])))," ")}}function O(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",7),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearCaretakerFilter()}),o.Xc(1),o.jc(2,"translate"),o.Wb()}if(2&t){const t=o.ic(3);o.sc("nzMode",t.isCustomFilter||t.smsScreen?"default":"closeable"),o.Db(1),o.ad(" ",o.kc(2,3,"COMMON.MONITORED_BY"),": ",t.staffName," ")}}function N(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",7),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearPhysicianFilter()}),o.Xc(1),o.jc(2,"translate"),o.Wb()}if(2&t){const t=o.ic(3);o.sc("nzMode",t.isCustomFilter||t.smsScreen?"default":"closeable"),o.Db(1),o.ad(" ",o.kc(2,3,"COMMON.PHYSICIAN"),": ",t.physicianName," ")}}function P(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",7),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearSiteFilter()}),o.Xc(1),o.jc(2,"translate"),o.Wb()}if(2&t){const t=o.ic(3);o.sc("nzMode",t.isCustomFilter||t.smsScreen?"default":"closeable"),o.Db(1),o.ad(" ",o.kc(2,3,"SITE"),": ",t.siteName," ")}}function R(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",8),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearCareplanFilter()}),o.Sb(1,"app-nomenclature",9),o.jc(2,"translate"),o.Xc(3),o.jc(4,"careplanName"),o.Wb()}if(2&t){const t=o.ic(3);o.Db(1),o.sc("default",o.kc(2,2,"CARE_PLAN")),o.Db(2),o.Zc(" : ",o.kc(4,4,t.selectedCareplanId)," ")}}function X(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",8),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearEpisodeStatusFilter()}),o.Xc(1),o.jc(2,"translate"),o.jc(3,"episodeStatusName"),o.Wb()}if(2&t){const t=o.ic(3);o.Db(1),o.ad(" ",o.kc(2,2,"FILTER.EPISODE_STATUS"),": ",o.kc(3,4,t.selectedEpisodeStatus)," ")}}function L(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",8),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearPatientStatusFilter()}),o.Xc(1),o.jc(2,"translate"),o.jc(3,"patientStatusName"),o.Wb()}if(2&t){const t=o.ic(3);o.Db(1),o.ad(" ",o.kc(2,2,"FILTER.PATIENT_STATUS"),": ",o.kc(3,4,t.selectedPatientStatus)," ")}}function w(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",8),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearPendingDSTFilter()}),o.Xc(1),o.jc(2,"translate"),o.Wb()}2&t&&(o.Db(1),o.Zc(" ",o.kc(2,1,"FILTER.RPM_ACTIONS.PATIENTS_WITH_IN_COMPLETE_DST")," "))}function W(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",8),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearLanguagesFilter()}),o.Xc(1),o.Wb()}if(2&t){const t=o.ic(3);o.Db(1),o.Zc(" Language: ",t.languages," ")}}function k(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",8),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearSMSSentFilter()}),o.Xc(1),o.Wb()}if(2&t){const t=o.ic(3);o.Db(1),o.Zc(" Initial SMS Sent: ",t.smsSent?"Yes":"No"," ")}}function V(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",8),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearTotalContactAttemptsFilter()}),o.Xc(1),o.Wb()}if(2&t){const t=o.ic(3);o.Db(1),o.Zc(" Contact Attempt: ",t.totalContactAttempts," ")}}function x(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",8),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearAssignedStaffTypeFilter()}),o.Xc(1),o.Wb()}if(2&t){const t=o.ic(3);o.Db(1),o.Zc(" Patient Type: ","OTHER"===t.assignedStaffType?"Secondary":"Primary"," ")}}function U(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-tag",8),o.ec("nzOnClose",function(){return o.Lc(t),o.ic(3).clearPatientCreationDateFilter()}),o.Xc(1),o.Wb()}if(2&t){const t=o.ic(3);o.Db(1),o.ad(" Patient Creation Date: ",t.patientCreationStartDate," - ",t.patientCreationEndDate," ")}}function F(t,e){if(1&t&&(o.Vb(0),o.Vc(1,_,4,9,"nz-tag",5),o.Vc(2,z,4,40,"nz-tag",5),o.Vc(3,O,3,5,"nz-tag",5),o.Vc(4,N,3,5,"nz-tag",5),o.Vc(5,P,3,5,"nz-tag",5),o.Vc(6,R,5,6,"nz-tag",6),o.Vc(7,X,4,6,"nz-tag",6),o.Vc(8,L,4,6,"nz-tag",6),o.Vc(9,w,3,3,"nz-tag",6),o.Vc(10,W,2,1,"nz-tag",6),o.Vc(11,k,2,1,"nz-tag",6),o.Vc(12,V,2,1,"nz-tag",6),o.Vc(13,x,2,1,"nz-tag",6),o.Vc(14,U,2,2,"nz-tag",6),o.Ub()),2&t){const t=o.ic(2);o.Db(1),o.rc("ngIf",t.selectedFilter&&(null==t.selectedFilter?null:t.selectedFilter.length)&&"ALL_PATIENTS"!==t.selectedFilter[0]&&("DST"===t.selectedFilter[0]||"VITAL_DAYS_REMAINING"===t.selectedFilter[0]||"TMS_REMAINING"===t.selectedFilter[0]||"ALERTS"===t.selectedFilter[0]||"INACTIVE_PATIENTS"===t.selectedFilter[0]||"CMT"===t.selectedFilter[0]||"CCM_CMT_REMAINING"===t.selectedFilter[0]||"PATIENT_NOT_SERVICED"===t.selectedFilter[0])),o.Db(1),o.rc("ngIf",t.selectedFilter&&(null==t.selectedFilter?null:t.selectedFilter.length)&&(!("ALL_PATIENTS"===t.selectedFilter[0]||"PATIENTS_WITH_IN_COMPLETE_DST"===t.selectedFilter[0]||"CONSENT_FORM"===t.selectedFilter[0]||"PHYSICIAN_ORDER"===t.selectedFilter[0])||"CONSENT_FORM"===t.selectedFilter[0]&&t.consentFormStatus||"PHYSICIAN_ORDER"===t.selectedFilter[0]&&t.physicianOrderStatus)),o.Db(1),o.rc("ngIf",t.staffName),o.Db(1),o.rc("ngIf",t.physicianName),o.Db(1),o.rc("ngIf",t.siteName),o.Db(1),o.rc("ngIf",t.selectedCareplanId),o.Db(1),o.rc("ngIf",t.selectedEpisodeStatus&&"ALL"!==t.selectedEpisodeStatus),o.Db(1),o.rc("ngIf",t.selectedPatientStatus&&"ALL"!==t.selectedPatientStatus),o.Db(1),o.rc("ngIf",t.selectedFilter&&"PATIENTS_WITH_IN_COMPLETE_DST"===t.selectedFilter[0]),o.Db(1),o.rc("ngIf",t.languages&&0!==(null==t.languages?null:t.languages.length)),o.Db(1),o.rc("ngIf",void 0!==t.smsSent),o.Db(1),o.rc("ngIf",void 0!==t.totalContactAttempts),o.Db(1),o.rc("ngIf",t.isAdmin&&"ALL"!==t.assignedStaffType),o.Db(1),o.rc("ngIf",t.patientCreationStartDate&&t.patientCreationEndDate)}}function H(t,e){if(1&t&&(o.Xb(0,"div",1),o.Vc(1,y,3,3,"span",2),o.Vc(2,F,15,14,"ng-container",3),o.jc(3,"async"),o.Wb()),2&t){const t=o.ic();o.Db(1),o.rc("ngIf",!t.smsScreen&&(t.staffName||t.siteName||t.physicianName||t.selectedPatientStatus&&"ALL"!=t.selectedPatientStatus||t.selectedFilter&&t.selectedFilter[0]&&"ALL_PATIENTS"!=t.selectedFilter[0]||t.patientCreationEndDate&&t.patientCreationStartDate||t.languages&&0!==(null==t.languages?null:t.languages.length))),o.Db(1),o.rc("ngIf",o.kc(3,2,t.reload))}}let B=(()=>{class t{constructor(t,e,n,i,a,d){this._dataSharingService=t,this._patientUrlService=e,this._patientStatusFilterHelperService=n,this._episodeStatusFilterHelperService=i,this._activatedRoute=a,this._languagePipe=d,this.dateRange=[],this.clear=new o.n,this.blueprintNamesMap=new Map,this._activatedRoute.queryParams.subscribe(t=>{var e;this.firstValue=this._patientUrlService.getParameterValue("v1"),this.secondValue=this._patientUrlService.getParameterValue("v2"),this.operation=this._patientUrlService.getParameterValue("op"),this.alertType=this._patientUrlService.getParameterValue("alert"),this.episodeType=this._patientUrlService.getParameterValue("sub-filter"),this.dstFilterType=this._patientUrlService.getParameterValue("dstFilterType"),this.tmsFilterType=this._patientUrlService.getParameterValue("tms"),this.cmtFilterType=this._patientUrlService.getParameterValue("cmt"),this.ccmCMTFilterType=this._patientUrlService.getParameterValue("ccmCmt"),this.assessmentFilterType=this._patientUrlService.getParameterValue("assessment"),this.siteId=this._patientUrlService.getParameterValue("siteId"),this.siteName=this._patientUrlService.getParameterValue("siteName"),this.selectedCareplanId=this._patientUrlService.getParameterValue("carePlanId"),this.staffName=this._patientUrlService.getParameterValue("staffName"),this.physicianName=this._patientUrlService.getParameterValue("physiciansName"),this.consentFormStatus=this._patientUrlService.getParameterValue("consentFormStatus"),this.physicianOrderStatus=this._patientUrlService.getParameterValue("physicianOrderStatus"),this.episodeStatus=this._patientUrlService.getParameterValue("episodeStatus"),this.patientStatuses=this._patientUrlService.getParameterValue("patientStatus"),this.assignedStaffType=this._patientUrlService.getParameterValue("assignedStaffType"),this.patientCreationStartDate=this._patientUrlService.getParameterValue("patientCreationStartDate"),this.patientCreationEndDate=this._patientUrlService.getParameterValue("patientCreationEndDate");const n=this._patientUrlService.getParameterValue("smsSent");this.smsSent=(null==n?void 0:n.length)?JSON.parse(n):void 0;const i=this._patientUrlService.getParameterValue("totalContactAttempts");this.totalContactAttempts=(null==i?void 0:i.length)?JSON.parse(i):void 0,this.selectedPatientStatus=this.patientStatuses?this._patientStatusFilterHelperService.getSelectedPatientStatus(this.patientStatuses):null,this.selectedEpisodeStatus=this.episodeStatus?this._episodeStatusFilterHelperService.getSelectedEpisodeStatus(this.episodeStatus):null,this.isCustomFilter=!!this._patientUrlService.getParameterValue("savedFilter");let a=this._patientUrlService.getParameterValue("filter"),o=this._patientUrlService.getParameterValue("sub-filter");(a||o)&&(this.selectedFilter=[a,o]);const d=null===(e=this._patientUrlService.getParameterValue("languages"))||void 0===e?void 0:e.split(",");this.languages=d&&d.length>0?d.map(t=>this._languagePipe.transform(t)):null;const u=this._patientUrlService.getParameterValue("d1"),p=this._patientUrlService.getParameterValue("d2");u&&p&&(this.dateRange=[u,p]),this.reload=Object(s.from)([!1,!0]).pipe(Object(r.a)(t=>Object(l.of)(t).pipe(Object(c.a)(1))))})}ngOnInit(){this.isAdmin="TENANT_ADMIN"===localStorage.getItem("loggedInUserRole"),this.getEpisodeBlueprints()}ngOnDestroy(){this.$tenantSettinsObserver.unsubscribe()}getEpisodeBlueprints(){this.$tenantSettinsObserver=this._dataSharingService.tenantSettings.subscribe(t=>{var e;t&&(null===(e=null==t?void 0:t.episodeBlueprints)||void 0===e||e.forEach(t=>{this.blueprintNamesMap.set(null==t?void 0:t.type,null==t?void 0:t.name)}))})}clearAllFilters(){const t=this._patientUrlService.getParameterValue("filter");"ALL_PATIENTS"!==t&&"VITAL_DAYS_REMAINING"===t||"DST"===t||"TMS_REMAINING"===t||"CCM_CMT_REMAINING"===t||"PATIENT_NOT_SERVICED"===t||"ALERTS"===t||"INACTIVE_PATIENTS"===t||"RPM_VITAL_COMPLIANCE"===t||"ON_BOARDING"===t||"CMT"===t||"ASSESSMENT_COMPLIANCE"===t||"ASSESSMENT_ACTIVITY"===t?this.clearAllFiltersForEpisodes():"CONSENT_FORM"===t?(this._patientUrlService.setParameter({filter:null,consentFormStatus:null}),setTimeout(()=>this.clear.emit(),10)):"PHYSICIAN_ORDER"===t?(this._patientUrlService.setParameter({filter:null,physicianOrderStatus:null}),setTimeout(()=>this.clear.emit(),10)):"PATIENTS_WITH_IN_COMPLETE_DST"===t?(this._patientUrlService.setParameter({filter:null}),setTimeout(()=>this.clear.emit(),10)):"PATIENT_NOT_SERVICED"===t?this._patientUrlService.setParameter({filter:null,v1:null}):(this._patientUrlService.setParameter({alert:null,d1:null,d2:null,op:null,v1:null,v2:null,tms:null,cmt:null,ccmCmt:null,groupId:null,staffId:null,staffName:null,physicians:null,physiciansName:null,siteId:null,siteName:null,carePlanId:null,filter:null,consentFormStatus:null,physicianOrderStatus:null,languages:null,"sub-filter":null,patientCreationStartDate:null,patientCreationEndDate:null,patientCreationDateRange:null}),setTimeout(()=>this.clear.emit(),10))}clearAllFiltersForEpisodes(){const t={alert:null,d1:null,d2:null,op:null,v1:null,v2:null,tms:null,cmt:null,ccmCmt:null,languages:null};switch(this._patientUrlService.getParameterValue("filter")){case"EPISODES":case"NO_ACTIVE_EPISODES":case"NO_ACTIVE_CARE_PLANS":case"VITAL_DAYS_REMAINING":case"DST":case"TMS_REMAINING":case"ALERTS":case"INACTIVE_PATIENTS":case"RPM_VITAL_COMPLIANCE":case"ON_BOARDING":this.selectedFilter=["EPISODES","RPM"],this._patientUrlService.setParameter(Object.assign(Object.assign({},t),{filter:"EPISODES","sub-filter":"RPM"}));break;case"CARE_PLANS":this.selectedFilter=["CARE_PLANS","DEFAULT"],this._patientUrlService.setParameter(Object.assign(Object.assign({},t),{filter:"CARE_PLANS","sub-filter":"DEFAULT"}));break;case"CMT":case"ASSESSMENT_COMPLIANCE":case"ASSESSMENT_ACTIVITY":this.selectedFilter=["EPISODES","GENERAL"],this._patientUrlService.setParameter(Object.assign(Object.assign({},t),{filter:"EPISODES","sub-filter":"GENERAL"}));break;case"CCM_CMT_REMAINING":case"PATIENT_NOT_SERVICED":let e=this._patientUrlService.getParameterValue("sub-filter");this.selectedFilter=["EPISODES",e],this._patientUrlService.setParameter(Object.assign(Object.assign({},t),{filter:"EPISODES","sub-filter":e}))}setTimeout(()=>this.clear.emit(),10)}clearCaretakerFilter(){this._patientUrlService.setParameter({staffId:null,staffName:null,assignedStaffType:"ALL"})}clearPhysicianFilter(){this._patientUrlService.setParameter({physicians:null,physiciansName:null})}clearSiteFilter(){this._patientUrlService.setParameter({siteId:null,siteName:null})}clearGroupFilter(){this._patientUrlService.setParameter({groupId:null})}clearCareplanFilter(){this._patientUrlService.setParameter({carePlanId:null})}clearEpisodeStatusFilter(){this._patientUrlService.setParameter({episodeStatus:null})}clearPendingDSTFilter(){this._patientUrlService.setParameter({filter:"ALL_PATIENTS"})}clearPatientStatusFilter(){this._patientUrlService.setParameter({patientStatus:null})}clearLanguagesFilter(){this._patientUrlService.setParameter({languages:null})}clearSMSSentFilter(){this._patientUrlService.setParameter({smsSent:void 0})}clearTotalContactAttemptsFilter(){this._patientUrlService.setParameter({totalContactAttempts:void 0})}clearAssignedStaffTypeFilter(){this._patientUrlService.setParameter({assignedStaffType:"ALL"})}clearPatientCreationDateFilter(){this._patientUrlService.setParameter({patientCreationStartDate:null,patientCreationEndDate:null,patientCreationDateRange:null})}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(a.a),o.Rb(i.a),o.Rb(d.a),o.Rb(u.a),o.Rb(h.a),o.Rb(p.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-filter-desc"]],inputs:{smsScreen:"smsScreen"},outputs:{clear:"clear"},features:[o.Cb([p.a])],decls:1,vars:1,consts:[["id","filters",4,"ngIf"],["id","filters"],["id","filter-desc",4,"ngIf"],[4,"ngIf"],["id","filter-desc"],[3,"nzMode","nzOnClose",4,"ngIf"],["nzMode","closeable",3,"nzOnClose",4,"ngIf"],[3,"nzMode","nzOnClose"],["nzMode","closeable",3,"nzOnClose"],["nomenclature","careplans",3,"default"]],template:function(t,e){1&t&&o.Vc(0,H,4,4,"div",0),2&t&&o.rc("ngIf",e.staffName||e.siteName||e.physicianName||e.selectedPatientStatus&&"ALL"!=e.selectedPatientStatus||e.selectedFilter&&e.selectedFilter[0]&&("ALL_PATIENTS"!=e.selectedFilter[0]||"CONSENT_FORM"==e.selectedFilter[0]||"PHYSICIAN_ORDER"==e.selectedFilter[0]||"PATIENTS_WITH_IN_COMPLETE_DST"==e.selectedFilter[0])||e.patientCreationEndDate&&e.patientCreationStartDate||e.languages&&0!==(null==e.languages?null:e.languages.length))},directives:[b.q,g.a,m.a],pipes:[b.b,f.a,E,I.a,T.a,M.a],styles:["#filters[_ngcontent-%COMP%]{padding:1%}#filter-desc[_ngcontent-%COMP%]{font-size:12px!important;font-weight:700;color:#2f4f4f!important}.ant-page-header[_ngcontent-%COMP%]{background:transparent}nz-tag[_ngcontent-%COMP%]{margin-top:8px;background-color:var(--primary-color);color:var(--neutral-color)}[_nghost-%COMP%]     .ant-tag-close-icon{color:var(--neutral-color)}"]}),t})()},BoNt:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("SxV6"),a=n("AytR"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t){this._http=t,this.rootUrl=a.g.url+"/v3/sites"}getAllSites(t=0,e=10,n,a=!0,o){let s=`${this.rootUrl}?offset=${t}&limit=${e}`;return n&&(s+=`&searchTerm=${n}`),o&&(s+=`&requestTenantId=${o}`),s+=`&staffFilter=${a}`,this._http.get(s).pipe(Object(i.a)())}getSiteById(t){return this._http.get(`${this.rootUrl}/${t}`)}saveSite(t){return this._http.post(`${this.rootUrl}`,JSON.stringify(t))}updateSite(t){return this._http.put(`${this.rootUrl}`,t)}makeDefault(t){return this._http.put(`${this.rootUrl}/switch-to-primary/${t}`,null)}getDefaultSite(){return this._http.get(`${this.rootUrl}/default`)}deleteSite(t){return this._http.delete(`${this.rootUrl}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},BrXI:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.OPEN="OPEN",t.CLOSED="CLOSED",t}({})},CLv8:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{constructor(){this.carrierName="",this.insuranceId="",this.effectiveDate="",this.expirationDate="",this.planId=void 0}}},CRwX:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("bp6e"),a=n("isHH"),o=n("UXun"),s=n("fXoL");let r=(()=>{class t{constructor(t,e){this._careplansService=t,this._storeService=e,this.careplanMap=new Map,this.initializeCareplanNameMap()}transform(t){if(t)return"UNASSIGNED"===t?"Patients without care plan":this.careplanMap.get(t)||""}initializeCareplanNameMap(){var t;this.createCarePlanMap(this._storeService.getCarePlanTemplates()),(null===(t=this.careplanMap)||void 0===t?void 0:t.size)||(this.careplans$=this._careplansService.getAllCourses(0,-1).pipe(Object(o.a)()),this.careplans$.subscribe(t=>{this.createCarePlanMap(t),this._storeService.setCarePlanTemplates(t)}))}createCarePlanMap(t){t&&(null==t||t.forEach(t=>this.careplanMap.set(t.id,t.name)))}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(a.a),s.Rb(i.a))},t.\u0275pipe=s.Qb({name:"careplanName",type:t,pure:!1}),t})()},"D+TJ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("AytR"),a=n("fXoL"),o=n("tk/3");let s=(()=>{class t{constructor(t){this._http=t,this.rootUrl=i.g.url}fetchWidgetPermissions(){return this._http.get(`${this.rootUrl}/v2/dashboard-config/widgets`)}fetchEnabledWidgets(){return this._http.get(`${this.rootUrl}/v2/dashboard-config`)}fetchOverviewWidget(){return this._http.get(`${this.rootUrl}/v2/dashboard/overview`)}fetchQuickProgressWidgets(t="ALL"){return this._http.get(`${this.rootUrl}/v2/dashboard/quick-progress?patientType=${t}`)}fetchCareTakerCommunicationSummary(){return this._http.get(`${this.rootUrl}/v2/dashboard/caretaker-summary`)}fetchMonitoringWidget(t="ALL"){return this._http.get(`${this.rootUrl}/v2/dashboard/monitoring?patientType=${t}`)}fetchOnBoardingWidget(t="ALL"){return this._http.get(`${this.rootUrl}/v2/dashboard/on-boarding?patientType=${t}`)}fetchQuickViewWidgets(t="ALL"){return this._http.get(`${this.rootUrl}/v2/dashboard/quick-view?patientType=${t}`)}refreshCache(){return this._http.get(`${this.rootUrl}/v1/cache-manager/clear/dashboard`)}fetchCommonWidgets(){return this._http.get(`${this.rootUrl}/v1/dashboard/common-widgets`)}fetchQuickLinkWidgets(){return this._http.get(`${this.rootUrl}/v1/dashboard/quick-link-widgets`)}fetchMonitoringWidgets(){return this._http.get(`${this.rootUrl}/v1/dashboard/monitoring-widgets`)}fetchRPMWidgets(){return this._http.get(`${this.rootUrl}/v1/dashboard/rpm-progress-widgets`)}fetchBHIWidgets(){return this._http.get(`${this.rootUrl}/v1/dashboard/bhi-progress-widgets`)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},DEH1:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.BLOOD_PRESSURE="BLOOD_PRESSURE",t.HEART_RATE="HEART_RATE",t.BLOOD_GLUCOSE="BLOOD_GLUCOSE",t.SPO2="SPO2",t.RESPIRATION="RESPIRATION",t.WEIGHT="WEIGHT",t.STRESS="STRESS",t.HEART_RATE_VARIABILITY="HEART_RATE_VARIABILITY",t.WELLNESS_SCORE="WELLNESS_SCORE",t.IRREGULAR_HEARTBEAT="IRREGULAR_HEARTBEAT",t}({})},DfQf:function(t,e,n){"use strict";n.d(e,"a",function(){return j});var i=n("bA60"),a=n("SP7D"),o=n("OE57"),s=n("FH+g"),r=n("pe0G"),c=n("igu/"),l=n("AytR"),d=n("pLZG"),u=n("7t9/"),p=n("geco"),h=n("OS4Q"),b=n("fXoL"),g=n("tyNb"),m=n("jhN1"),f=n("dEAy"),v=n("B+r4"),S=n("eHCX"),T=n("5vDB"),C=n("ofXK"),E=n("C2AL"),I=n("PTRe"),M=n("zAKX"),y=n("3Pt+"),A=n("OzZK"),_=n("RwU8"),D=n("ncdi"),z=n("xYn2"),O=n("dRHE"),N=n("fhRi");function P(t,e){if(1&t&&(b.Xb(0,"div",2),b.Xb(1,"nz-input-group",7),b.jc(2,"translate"),b.Sb(3,"input",8),b.jc(4,"date"),b.Wb(),b.Wb()),2&t){const t=b.ic(2);b.Db(1),b.sc("nzAddOnBefore",b.kc(2,2,"TABLEHEADER.STARTTIME")),b.Db(2),b.rc("value",b.lc(4,4,null==t.videoCallSession?null:t.videoCallSession.startTime,"mediumTime"))}}function R(t,e){if(1&t&&(b.Xb(0,"div",2),b.Xb(1,"nz-input-group",7),b.jc(2,"translate"),b.Sb(3,"input",8),b.jc(4,"date"),b.Wb(),b.Wb()),2&t){const t=b.ic(2);b.Db(1),b.tc("nzAddOnBefore"," ",b.kc(2,2,"TABLEHEADER.ENDTIME")," "),b.Db(2),b.rc("value",b.lc(4,4,null==t.videoCallSession?null:t.videoCallSession.endTime,"mediumTime"))}}function X(t,e){if(1&t&&(b.Xb(0,"div",2),b.Xb(1,"nz-input-group",7),b.jc(2,"translate"),b.Sb(3,"input",8),b.Wb(),b.Wb()),2&t){const t=b.ic(2);b.Db(1),b.tc("nzAddOnBefore"," ",b.kc(2,2,"COMMON.DURATION")," "),b.Db(2),b.rc("value",t.duration)}}function L(t,e){if(1&t&&(b.Xb(0,"div",1),b.Vc(1,P,5,7,"div",6),b.Vc(2,R,5,7,"div",6),b.Vc(3,X,4,4,"div",6),b.Sb(4,"br"),b.Sb(5,"br"),b.Wb()),2&t){const t=b.ic();b.rc("nzGutter",24),b.Db(1),b.rc("ngIf",null==t.videoCallSession?null:t.videoCallSession.endTime),b.Db(1),b.rc("ngIf",null==t.videoCallSession?null:t.videoCallSession.endTime),b.Db(1),b.rc("ngIf",t.duration)}}function w(t,e){if(1&t&&(b.Xb(0,"nz-option",15),b.Xb(1,"strong",3),b.Xc(2),b.Wb(),b.Sb(3,"br"),b.Xb(4,"p",16),b.Xc(5),b.Wb(),b.Wb()),2&t){const t=e.$implicit,n=b.ic(2);b.rc("nzLabel",null==t?null:t.title)("nzValue",t),b.Db(2),b.Yc(null==t?null:t.title),b.Db(2),b.rc("nzType",(null==n.appointmentDetails||null==n.appointmentDetails.appointment||null==n.appointmentDetails.appointment.schedule?null:n.appointmentDetails.appointment.schedule.startDate)<n.currentDate?"danger":"primary"),b.Db(1),b.Zc(" ",(null==n.appointmentDetails||null==n.appointmentDetails.appointment||null==n.appointmentDetails.appointment.schedule?null:n.appointmentDetails.appointment.schedule.startDate)<n.currentDate?"Overdue":"Due Later"," ")}}function W(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"h3",9),b.Xc(2,"Assigned Assessments"),b.Wb(),b.Xb(3,"div",10),b.Xb(4,"div",2),b.Xb(5,"nz-select",11),b.ec("ngModelChange",function(e){return b.Lc(t),b.ic().selectedForm=e}),b.Vc(6,w,6,5,"nz-option",12),b.Wb(),b.Wb(),b.Xb(7,"div",13),b.Xb(8,"button",14),b.ec("click",function(){b.Lc(t);const e=b.ic();return e.showFormFiller(e.form)}),b.Xc(9," Assess "),b.Wb(),b.Wb(),b.Wb(),b.Sb(10,"nz-divider"),b.Ub()}if(2&t){const t=b.ic();b.Db(5),b.rc("ngModel",t.selectedForm)("nzOptionHeightPx",60),b.Db(1),b.rc("ngForOf",t.forms),b.Db(2),b.rc("disabled",!t.selectedForm&&(null==t.appointmentDetails||null==t.appointmentDetails.appointment||null==t.appointmentDetails.appointment.schedule?null:t.appointmentDetails.appointment.schedule.startDate)>t.currentDate)}}function k(t,e){if(1&t&&(b.Xb(0,"nz-option",15),b.Xb(1,"strong",3),b.Xc(2),b.Wb(),b.Wb()),2&t){const t=e.$implicit;b.rc("nzLabel",null==t?null:t.title)("nzValue",t),b.Db(2),b.Yc(null==t?null:t.title)}}function V(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"h3",9),b.Xc(2,"On-Demand Assessments"),b.Wb(),b.Xb(3,"div",10),b.Xb(4,"div",2),b.Xb(5,"nz-select",17),b.ec("ngModelChange",function(e){return b.Lc(t),b.ic().selectedFormBlueprint=e}),b.Vc(6,k,3,3,"nz-option",12),b.Wb(),b.Wb(),b.Xb(7,"div",13),b.Xb(8,"button",14),b.ec("click",function(){return b.Lc(t),b.ic().assignOnDemandForm()}),b.Xc(9," Assess "),b.Wb(),b.Wb(),b.Wb(),b.Sb(10,"nz-divider"),b.Ub()}if(2&t){const t=b.ic();b.Db(5),b.rc("ngModel",t.selectedFormBlueprint),b.Db(1),b.rc("ngForOf",t.formBlueprints),b.Db(2),b.rc("disabled",(null==t.appointmentDetails||null==t.appointmentDetails.appointment||null==t.appointmentDetails.appointment.schedule?null:t.appointmentDetails.appointment.schedule.startDate)>t.currentDate)}}function x(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"div",19),b.Xb(2,"div",20),b.Xb(3,"h4",9),b.Xc(4),b.Wb(),b.Xb(5,"p",3),b.Xc(6),b.jc(7,"utcToLocalTime"),b.Wb(),b.Wb(),b.Xb(8,"div",21),b.Xb(9,"button",22),b.ec("click",function(){b.Lc(t);const n=e.$implicit;return b.ic(2).viewForm(n)}),b.Xc(10," View Assessment "),b.Wb(),b.Wb(),b.Wb(),b.Sb(11,"br"),b.Ub()}if(2&t){const t=e.$implicit;b.Db(4),b.Yc(null==t?null:t.title),b.Db(2),b.Yc(b.kc(7,2,null==t?null:t.completedAt))}}function U(t,e){if(1&t&&(b.Vb(0),b.Xb(1,"h3",9),b.Xc(2,"Completed Assessments"),b.Wb(),b.Sb(3,"br"),b.Vc(4,x,12,4,"ng-container",18),b.Ub()),2&t){const t=b.ic();b.Db(4),b.rc("ngForOf",t.actions)}}function F(t,e){if(1&t&&(b.Xb(0,"nz-timeline-item"),b.Sb(1,"app-note-timeline-item",24),b.Wb()),2&t){const t=e.$implicit;b.Db(1),b.rc("note",t)}}function H(t,e){if(1&t&&(b.Vb(0),b.Sb(1,"br"),b.Xb(2,"div",19),b.Xb(3,"div",23),b.Xb(4,"h3",9),b.Xc(5,"Notes"),b.Wb(),b.Wb(),b.Wb(),b.Sb(6,"br"),b.Xb(7,"div",19),b.Xb(8,"div",23),b.Xb(9,"nz-timeline"),b.Vc(10,F,2,1,"nz-timeline-item",18),b.Wb(),b.Wb(),b.Wb(),b.Ub()),2&t){const t=b.ic();b.Db(10),b.rc("ngForOf",t.appointmentNotes)}}const B=function(){return[32,8]};let j=(()=>{class t{constructor(t,e,n,i,a,o,s,r,c,u,p){this._router=t,this._route=e,this._appointmentsService=n,this._patientsService=i,this._videoCallService=a,this._formService=o,this._domSanitizer=s,this._modalService=r,this._actionItemsService=c,this._dataSharingService=u,this._routeHelperService=p,this.status="",this.rootURL=l.g.webFormRootURL,this.currentDate=Date.now(),this.primaryTrigger$=this._routeHelperService.isPrimaryActionTriggered().pipe(Object(d.a)(t=>!!t)).subscribe(()=>{this.viewPlanOfCare()}),this.secondaryTrigger$=this._routeHelperService.isSecondaryActionTriggered().pipe(Object(d.a)(t=>!!t)).subscribe(()=>{this.showCMTHistory()})}get appointmentId(){return this._appointmentId}set appointmentId(t){this._appointmentId=t,this.getAppointmentDetails()}onMessage(t){var e,n;(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.canClose)&&(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.success)&&this.closeWebForm()}ngOnInit(){this._routeHelperService.setPrimaryAction(!1),this.getAppointmentIdFromURL(),this.getAppointmentDetails(),this.getActionItemsForAppointment()}ngOnDestroy(){var t,e;null===(t=this.primaryTrigger$)||void 0===t||t.unsubscribe(),null===(e=this.secondaryTrigger$)||void 0===e||e.unsubscribe()}getAppointmentIdFromURL(){this._route.params.forEach(t=>{this.appointmentId=t.id})}setAppointmentId(t){this.appointmentId=t,this.getAppointmentDetails()}getAppointmentDetails(){this._appointmentsService.fetchAppointmentDetailsById(this.appointmentId).subscribe(t=>{var e,n;this.appointmentDetails=t,this._routeHelperService.setTitleForRoute((null===(n=null===(e=this.appointmentDetails)||void 0===e?void 0:e.appointment)||void 0===n?void 0:n.attendeeName)+" | Appointment Details"),this.getPatientForAppointment(),this.getStatus(),this.getVideoCallSession(),this.getAppointmentNotes(),this.fetchFormBlueprints(),this.fetchFormActionItems()})}getPatientForAppointment(){var t,e;this._appointmentsService.fetchPatientForAppointment(null===(e=null===(t=this.appointmentDetails)||void 0===t?void 0:t.appointment)||void 0===e?void 0:e.attendeeId).subscribe(t=>{var e,n,i,a;this.patient=t;const o=null===(a=null===(i=null===(n=null===(e=this.patient)||void 0===e?void 0:e.patientState)||void 0===n?void 0:n.episodeState)||void 0===i?void 0:i.activeEpisodes)||void 0===a?void 0:a.filter(t=>{var e,n;return"CCM"===(null==t?void 0:t.episodeType)&&(null==t?void 0:t.id)===(null===(n=null===(e=this.appointmentDetails)||void 0===e?void 0:e.appointment)||void 0===n?void 0:n.episodeId)});this._routeHelperService.setPrimaryAction((null==o?void 0:o.length)&&"APPROVED"==this.appointmentDetails.appointment.overallStatus?h.a.Detail.primaryAction:{})})}getActionItemsForAppointment(){this._appointmentsService.fetchActionItemsForAppointments(this.appointmentId).subscribe(t=>{this.actions=null==t?void 0:t.filter(t=>null==t?void 0:t.completed)})}getAppointmentNotes(){var t,e;this._patientsService.fetchPatientsAllNotes(null===(e=null===(t=this.appointmentDetails)||void 0===t?void 0:t.appointment)||void 0===e?void 0:e.attendeeId).subscribe(t=>{var e,n,i,a,o,s;const r=[];(null===(n=null===(e=this.appointmentDetails)||void 0===e?void 0:e.appointment)||void 0===n?void 0:n.notesHistory)&&r.push(...null===(a=null===(i=this.appointmentDetails)||void 0===i?void 0:i.appointment)||void 0===a?void 0:a.notesHistory.filter(t=>null!=t)),r.push(null===(s=null===(o=this.appointmentDetails)||void 0===o?void 0:o.appointment)||void 0===s?void 0:s.noteId),this.appointmentNotes=null==t?void 0:t.filter(t=>r.includes(t.id))})}getVideoCallSession(){this.appointmentDetails.appointment.videoCallSessionId&&this._videoCallService.getVideoCallSession(this.appointmentDetails.appointment.videoCallSessionId).subscribe(t=>{if(this.videoCallSession=t,!t.endTime)return;const e=t.endTime-t.startTime,n=Math.floor(e/1e3/60<<0),i=Math.floor(e/1e3%60);this.duration=n+":"+i+" mins"})}getStatus(){return"FINISHED"===this.appointmentDetails.appointment.overallStatus?(this.status="Completed",this.status):"APPROVED"===this.appointmentDetails.appointment.overallStatus?(new Date).getTime()-36e5>this.appointmentDetails.appointment.schedule.startDate?(this.status="Unattended",this.status):(this.status="Upcoming",this.status):void 0}fetchFormBlueprints(){this._formService.getFormsWithBody({phq9:!0,gad7:!0},0,9999999,"").subscribe(t=>{var e,n,i;(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.forms)&&(this.formBlueprints=null===(i=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.forms)||void 0===i?void 0:i.obj)})}fetchFormActionItems(){var t,e;this._formService.fetchFormActionItemsForPatient(null===(e=null===(t=this.appointmentDetails)||void 0===t?void 0:t.appointment)||void 0===e?void 0:e.attendeeId).subscribe(t=>{(null==t?void 0:t.length)&&(null==t||t.forEach(t=>{t.parameters=JSON.parse(null==t?void 0:t.parameters),(null==t?void 0:t.scheduledOn)||(t.scheduledOn=new Date(null==t?void 0:t.scheduledAt).setHours(23))}),this.forms=t)})}showFormFiller(){var t,e,n,i,a,o,s,r,c,l;if(!this.selectedForm)return;const d=localStorage.getItem("sessionToken"),u=`${this.rootURL}web-form/${null===(e=null===(t=this.selectedForm)||void 0===t?void 0:t.parameters)||void 0===e?void 0:e.formBlueprintId}/${d}/${null===(n=this.selectedForm)||void 0===n?void 0:n.patientId}/${null===(i=this.selectedForm)||void 0===i?void 0:i.id}?source=portal&sourceType=${null===(o=null===(a=this.selectedForm)||void 0===a?void 0:a.parentType)||void 0===o?void 0:o.toLowerCase()}`,p=this._domSanitizer.bypassSecurityTrustResourceUrl(u);this._dataSharingService.initiatePatientTrigger({patientId:null===(r=null===(s=this.appointmentDetails)||void 0===s?void 0:s.appointment)||void 0===r?void 0:r.attendeeId,patientName:null===(l=null===(c=this.appointmentDetails)||void 0===c?void 0:c.appointment)||void 0===l?void 0:l.attendeeName,url:p})}closeWebForm(){this.forms=[],setTimeout(()=>{this.fetchFormActionItems(),this.getActionItemsForAppointment(),this.selectedForm=void 0,this.selectedFormBlueprint=void 0},2e3)}assignOnDemandForm(){var t,e,n;this.selectedFormBlueprint&&this._formService.assignOnDemandForm(null===(t=this.selectedFormBlueprint)||void 0===t?void 0:t._id,null===(n=null===(e=this.appointmentDetails)||void 0===e?void 0:e.appointment)||void 0===n?void 0:n.attendeeId,this.appointmentId).subscribe(t=>{var e,n,i,a;this.selectedForm=null==t?void 0:t.data,this.selectedForm.parameters=JSON.parse(null===(e=this.selectedForm)||void 0===e?void 0:e.parameters),(null===(n=this.selectedForm)||void 0===n?void 0:n.scheduledOn)||(this.selectedForm.scheduledOn=new Date(null===(i=this.selectedForm)||void 0===i?void 0:i.scheduledAt).setHours(23)),this._actionItemsService.archiveActionItem(null===(a=this.selectedForm)||void 0===a?void 0:a.id).subscribe(),this.showFormFiller()})}viewPlanOfCare(){var t,e,n,i,a,o,s,r,c,l,d,u,p;const h=null===(i=null===(n=null===(e=null===(t=this.patient)||void 0===t?void 0:t.patientState)||void 0===e?void 0:e.episodeState)||void 0===n?void 0:n.activeEpisodes)||void 0===i?void 0:i.filter(t=>"CCM"===(null==t?void 0:t.episodeType));if(!(null==h?void 0:h.length)&&!(null===(o=null===(a=this.appointmentDetails)||void 0===a?void 0:a.appointment)||void 0===o?void 0:o.episodeId))return;let b=(null===(r=null===(s=this.appointmentDetails)||void 0===s?void 0:s.appointment)||void 0===r?void 0:r.episodeId)||(null===(c=h[0])||void 0===c?void 0:c.id);this._router.navigate([`episodes/plan-of-care/details/${null===(d=null===(l=this.appointmentDetails)||void 0===l?void 0:l.appointment)||void 0===d?void 0:d.attendeeId}/${b}`],{queryParams:{tab:"history",patientName:null===(p=null===(u=this.appointmentDetails)||void 0===u?void 0:u.appointment)||void 0===p?void 0:p.attendeeName}})}viewForm(t){this._formService.getSingleEvalFormByActionItemId(t.id).subscribe(t=>{var e,n;t&&(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e._id)&&this._router.navigate([`form/evalforms/view/${null===(n=null==t?void 0:t.data)||void 0===n?void 0:n._id}`])})}showCMTHistory(){var t,e,n,i;this._modalService.create({nzContent:u.a,nzComponentParams:{patientId:null===(e=null===(t=this.appointmentDetails)||void 0===t?void 0:t.appointment)||void 0===e?void 0:e.attendeeId,patientName:null===(i=null===(n=this.appointmentDetails)||void 0===n?void 0:n.appointment)||void 0===i?void 0:i.attendeeName},nzWidth:800,nzStyle:{top:"50px"},nzBodyStyle:{height:"700px",overflowY:"scroll"},nzFooter:null})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(g.g),b.Rb(g.a),b.Rb(o.a),b.Rb(p.a),b.Rb(s.a),b.Rb(r.a),b.Rb(m.b),b.Rb(f.f),b.Rb(i.a),b.Rb(c.a),b.Rb(a.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-appointment-details"]],hostBindings:function(t,e){1&t&&b.ec("message",function(t){return e.onMessage(t)},!1,b.Kc)},inputs:{appointmentId:"appointmentId"},decls:31,vars:24,consts:[[1,"container"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","8"],["nz-typography","","nzType","secondary"],["nz-row","",3,"nzGutter",4,"ngIf"],[4,"ngIf"],["nz-col","","nzSpan","8",4,"ngIf"],[3,"nzAddOnBefore"],["nz-input","","nzSize","large","readonly","",3,"value"],["nz-typography",""],["nz-row","","nzGutter","32"],["nzPlaceHolder","Select an assessment form","nzAllowClear","",3,"ngModel","nzOptionHeightPx","ngModelChange"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-col","","nzSpan","2"],["nz-button","","nzType","primary",3,"disabled","click"],["nzCustomContent","",3,"nzLabel","nzValue"],["nz-typography","",3,"nzType"],["nzPlaceHolder","Select an assessment form","nzAllowClear","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","20"],["nz-col","","nzSpan","4"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzSpan","24"],["hideEdit","",3,"note"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"label",3),b.Xc(4),b.jc(5,"translate"),b.Wb(),b.Wb(),b.Xb(6,"div",2),b.Xb(7,"label",3),b.Xc(8),b.jc(9,"translate"),b.Wb(),b.Wb(),b.Xb(10,"div",2),b.Xb(11,"label",3),b.Xc(12),b.jc(13,"translate"),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"div",1),b.Xb(15,"div",2),b.Xb(16,"strong"),b.Xc(17),b.Wb(),b.Wb(),b.Xb(18,"div",2),b.Xb(19,"strong"),b.Xc(20),b.Wb(),b.Wb(),b.Xb(21,"div",2),b.Xb(22,"strong"),b.Xc(23),b.jc(24,"date"),b.Wb(),b.Wb(),b.Wb(),b.Sb(25,"nz-divider"),b.Vc(26,L,6,4,"div",4),b.Vc(27,W,11,4,"ng-container",5),b.Vc(28,V,11,3,"ng-container",5),b.Vc(29,U,5,1,"ng-container",5),b.Vc(30,H,11,1,"ng-container",5),b.Wb()),2&t&&(b.Db(1),b.rc("nzGutter",b.xc(22,B)),b.Db(3),b.Yc(b.kc(5,13,"TABLEHEADER.ASSIGNEDTO")),b.Db(4),b.Yc(b.kc(9,15,"TABLEHEADER.TITLE")),b.Db(4),b.Yc(b.kc(13,17,"TABLEHEADER.SCHEDULEDON")),b.Db(2),b.rc("nzGutter",b.xc(23,B)),b.Db(3),b.Yc(null==e.appointmentDetails||null==e.appointmentDetails.appointment?null:e.appointmentDetails.appointment.attenderName),b.Db(3),b.Yc(e.status),b.Db(3),b.Yc(b.lc(24,19,null==e.appointmentDetails||null==e.appointmentDetails.appointment||null==e.appointmentDetails.appointment.schedule?null:e.appointmentDetails.appointment.schedule.startDate,"medium")),b.Db(3),b.rc("ngIf",e.videoCallSession),b.Db(1),b.rc("ngIf","APPROVED"===(null==e.appointmentDetails||null==e.appointmentDetails.appointment?null:e.appointmentDetails.appointment.overallStatus)),b.Db(1),b.rc("ngIf","APPROVED"===(null==e.appointmentDetails||null==e.appointmentDetails.appointment?null:e.appointmentDetails.appointment.overallStatus)),b.Db(1),b.rc("ngIf",null==e.actions?null:e.actions.length),b.Db(1),b.rc("ngIf",e.appointmentNotes))},directives:[v.c,v.a,S.a,T.a,C.q,E.a,I.c,I.b,M.d,y.u,y.x,C.p,A.a,_.a,M.a,D.a,D.b,z.a],pipes:[O.a,C.e,N.a],styles:[".container[_ngcontent-%COMP%]{padding:35px!important}h3[_ngcontent-%COMP%]{font-size:18px}input[_ngcontent-%COMP%]{cursor:default}.actions-container[_ngcontent-%COMP%]{display:inline-flex;width:100%;margin-bottom:25px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.actions[_ngcontent-%COMP%]{font-size:20px;cursor:pointer;margin:0 10px}textarea[_ngcontent-%COMP%]{resize:none}p[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]     .ant-divider-horizontal{margin:35px 0}pre[_ngcontent-%COMP%]{font-size:14px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;font-family:Nunito}.note-footer[_ngcontent-%COMP%]{font-size:13px}"]}),t})()},Dm2S:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7Xlp"),a=n("fXoL");let o=(()=>{class t extends i.a{episodeActionEvent(t,e,n){}episodeActionEventAddAndSuspendEpisode(t,e,n,i){}episodeAppointmentsEvent(t,e,n,i){}episodeConsentActionEvent(t,e,n,i,a){}episodeCareplanActionEvent(t,e,n){}episodeCMTActionEvent(t,e,n){}episodeTMSActionEvent(t,e,n){}}return t.\u0275fac=function(e){return s(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const s=a.Zb(o)},Dwgb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{constructor(){this.pattern=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.contactValidate=/^0|[0-9]\d*$/}getPartnerName(){return"Any Care"}getLocalDate(t){return new Date(t).toLocaleDateString(window.navigator.language)}getTotalCount(t){return null===t.get("X-Total-Count")||void 0===t.get("X-Total-Count")?t.get("total-count"):t.get("X-Total-Count")}checkEmailValaidation(t){let e=!1;return t.length>0&&this.pattern.test(t)&&(e=!0),e}checkContact(t){let e=!1;return t.length>0&&this.contactValidate.test(t)&&(e=!0),e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t})()},"FH+g":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("q3Kh"),a=n("AytR"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t){this._http=t,this.rootUrl=a.g.url}createVideoCallSessions(t){return this._http.post(this.rootUrl+"/v2/video-calls/sessions",JSON.stringify(t),{observe:"response"}).pipe(Object(i.map)(t=>200==t.status?t.body:null))}getIceServers(t){return this._http.get(this.rootUrl+"/v2/video-calls/sessions/"+t.id+"/ice-candidates")}getVideoCallSession(t){return this._http.get(this.rootUrl+"/v2/video-calls/sessions/"+t)}checkVideoSessionStatus(t,e){return this._http.get(this.rootUrl+"/v2/video-calls/sessions/appointment/"+e+"/status/"+t)}getTwilioVideoCallToken(t,e){return this._http.get(this.rootUrl+"/v2/video-calls/sessions/"+t+"/users/"+e+"/capability-token")}disconnectVideoCall(t){return this._http.put(this.rootUrl+"/v2/video-calls/disconnect/"+t,null)}getParticipantDetails(t){return this._http.get(this.rootUrl+"/v2/video-calls/getParticipants/"+t)}getCurrentCallStatus(t,e,n){return this._http.get(this.rootUrl+"/v2/video-calls/getCurrentCallStatus/"+t+"/caller/"+e+"?callStatus="+n)}videocallSessionCheck(t){return this._http.get(this.rootUrl+"/v2/video-calls/session/check/"+t,{observe:"response"}).pipe(Object(i.map)(t=>200==t.status?200:400))}updateNotification(t,e,n,a){return this._http.get(this.rootUrl+"/v2/video-calls/update/notification/"+t+"/"+e+"/"+n+"/"+a,{observe:"response"}).pipe(Object(i.map)(t=>200==t.status?200:400))}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"FVa/":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("AytR"),a=n("fXoL"),o=n("tk/3");let s=(()=>{class t{constructor(t){this._http=t,this.rootUrl=i.g.url}sendSms(t){return this.endPoint=this.rootUrl+"/v3/conversation/messages",this._http.post(this.endPoint,t)}sendFormSms(t){return this.endPoint=this.rootUrl+"/v1/forms/send",this._http.post(this.endPoint,t)}getConversations(t,e,n){return this._http.get(this.rootUrl+"/v3/conversation/messages/users/"+t+"?skip="+e+"&limit="+n)}markAsRead(t){return this._http.post(this.rootUrl+"/v3/conversation/messages/read-state",t)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},FWPb:function(t,e,n){"use strict";n.d(e,"a",function(){return j});var i=n("gXqy"),a=(n("cnAw"),n("OE57")),o=n("Z93s"),s=n("c36b"),r=n("cp0P"),c=n("fXoL"),l=n("dEAy"),d=n("bNXi"),u=n("qAZ0"),p=n("eHCX"),h=n("5vDB"),b=n("B+r4"),g=n("0lU3"),m=n("3Pt+"),f=n("ofXK"),v=n("zAKX"),S=n("mUB+"),T=n("mUTz"),C=n("glKu"),E=n("nJia"),I=n("bE2y"),M=n("OzZK"),y=n("RwU8"),A=n("C2AL"),_=n("ZyQt"),D=n("FwiY"),z=n("dRHE"),O=n("vDSh"),N=n("m3lz"),P=n("ncKW");function R(t,e){1&t&&(c.Xb(0,"nz-tag",22),c.Sb(1,"i",23),c.Xb(2,"span"),c.Xc(3,"Staff is not available at the selected timeslot"),c.Wb(),c.Wb())}function X(t,e){1&t&&(c.Xb(0,"span",29),c.Sb(1,"span",30),c.Xc(2," Primary "),c.Wb())}function L(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"nz-option",25),c.jc(2,"userLocations"),c.Xb(3,"span",26),c.Xb(4,"span",27),c.Xc(5),c.jc(6,"userLocations"),c.Wb(),c.Vc(7,X,3,0,"span",28),c.Wb(),c.Wb(),c.Ub()),2&t){const t=e.$implicit,n=c.ic(2);c.Db(1),c.vc("nzLabel","",null==t?null:t.firstName," ",null==t?null:t.lastName," - ",c.kc(2,8,null==t?null:t.locations),""),c.rc("nzValue",t),c.Db(4),c.bd(" ",null==t?null:t.firstName," ",null==t?null:t.lastName," - ",c.kc(6,10,null==t?null:t.locations)," "),c.Db(2),c.rc("ngIf",n.primaryStaff.has(null==t?null:t.id))}}function w(t,e){if(1&t&&(c.Vb(0),c.Vc(1,L,8,12,"ng-container",24),c.Ub()),2&t){const t=c.ic();c.Db(1),c.rc("ngForOf",t.caretakers)}}function W(t,e){1&t&&(c.Xb(0,"nz-option",31),c.Sb(1,"app-icons",32),c.Xc(2," Loading Data... "),c.Wb())}function k(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"label",34),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=e.$implicit;c.Db(1),c.rc("nzValue",null==t?null:t.id),c.Db(1),c.Yc(null==t?null:t.episodeType)}}function V(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",9),c.Xb(1,"div",10),c.Sb(2,"br"),c.Xb(3,"h4"),c.Xc(4," This patient has following active episode/s, do you want to associate this appointment with any one of them ? "),c.Wb(),c.Xb(5,"p"),c.Xb(6,"nz-radio-group",33),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().episodeId=e})("ngModelChange",function(){return c.Lc(t),c.ic().episodeIdUpdated()}),c.jc(7,"dateCompare"),c.Vc(8,k,3,2,"ng-container",24),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.ic();c.rc("nzGutter",24),c.Db(1),c.rc("nzSpan",24),c.Db(5),c.rc("ngModel",t.episodeId)("nzDisabled",!c.lc(7,5,null==t.appointment||null==t.appointment.schedule?null:t.appointment.schedule.startDate,"MONTH")),c.Db(2),c.rc("ngForOf",null==t.patient||null==t.patient.patientState||null==t.patient.patientState.episodeState?null:t.patient.patientState.episodeState.activeEpisodes)}}function x(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"nz-option",37),c.jc(2,"purposeLabel"),c.Ub()),2&t){const t=e.$implicit;c.Db(1),c.sc("nzLabel",c.kc(2,2,t)),c.rc("nzValue",t)}}function U(t,e){1&t&&(c.Xb(0,"nz-option",31),c.Sb(1,"app-icons",32),c.Xc(2," Loading Data... "),c.Wb())}function F(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",9),c.Xb(1,"div",10),c.Xb(2,"h4"),c.Xc(3," Appointment Type * "),c.Wb(),c.Xb(4,"p"),c.Xb(5,"nz-select",35),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().appointmentPurpose=e}),c.Vc(6,x,3,4,"ng-container",24),c.Vc(7,U,3,0,"nz-option",36),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.ic();c.rc("nzGutter",24),c.Db(1),c.rc("nzSpan",8),c.Db(4),c.rc("nzShowSearch",!0)("ngModel",t.appointmentPurpose),c.Db(1),c.rc("ngForOf",t.appointmentPurposeList),c.Db(1),c.rc("ngIf",t.appointmentPurposeLoading)}}const H=function(){return{nzUse12Hours:"false",nzMinuteStep:"5",nzFormat:"h:mm"}},B=function(t){return{border:t}};let j=(()=>{class t{constructor(t,e,n){this._modalRef=t,this._appointmentsService=e,this._notificationsService=n,this.note=new o.a,this.isInputEmpty=!1,this.isInProgress=!1,this.severity="NORMAL",this.appointmentPurposeLoading=!1,this.primaryStaff=new Set,this.loadingCaretakers=!1,this.invalidStaff=!1,this.invalidDate=!1,this.disabledDate=t=>Object(i.a)(t,new Date)<0,this.config=s.b}ngAfterViewInit(){this.getPatientAndStaffForAppointment(),this.appointment.scheduleHistory=this.appointment.scheduleHistory||[],this.appointment.schedule&&this.appointment.scheduleHistory.push(this.appointment.schedule),this.appointment.notesHistory=this.appointment.notesHistory||[],this.appointment.noteId&&(this.appointment.notesHistory.push(this.appointment.noteId),this.appointment.noteId=null),this.appointmentPurpose=this.appointment.appointmentPurpose,this.originalStartDate=this.appointment.schedule.startDate,this.isLoggedInUserCaretaker="CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")}getPatientAndStaffForAppointment(){var t,e;const n=this._appointmentsService.fetchPatientForAppointment(null===(t=this.appointment)||void 0===t?void 0:t.attendeeId),i=this._appointmentsService.fetchPatientForAppointment(null===(e=this.appointment)||void 0===e?void 0:e.attenderId);Object(r.a)([n,i]).subscribe(t=>{const e=t[0],n=t[1];this.patient=e,e.monitoringStaffs.primaryStaff.forEach(t=>this.primaryStaff.add(t)),e.physicianStaffs.primaryStaff.forEach(t=>this.primaryStaff.add(t)),this.caretakers=[n],this.selectedCaretaker=n,this.originalCaretaker=n,this.searchCaretakers()})}onTimeChange(t){if(this.invalidDate=null==t,this.invalidDate)return;const e=new Date(t).getTime();this.appointment.schedule.startDate=e,this.appointment.schedule.endDate=e+18e5,e!=this.originalStartDate&&(this.selectedCaretaker=null),this.searchCaretakers()}validate(){return!(this.episodeId&&!this.appointmentPurpose&&(this._notificationsService.error("Appointment","Please Select Appointment Type!"),1))}rescheduleAppointmentWithNote(){this.validate()&&(this.isInProgress=!0,this.note.content.length>0?(this.note.type="APPOINTMENT",this.note.userId=this.appointment.attendeeId,this.note.caretakerIds=new Array,this.note.caretakerIds.push(this.appointment.attenderId),this.note.priority={level:this.severity},this.note.contextId=this.appointment.id,this.createNoteForAppointment(this.note).subscribe(t=>{this.appointment.noteId=t.id,this.updateAppointmentTime()})):this.updateAppointmentTime())}createNoteForAppointment(t){return this._appointmentsService.createNewNoteForAppointment(t)}updateAppointmentTime(){this.appointment.episodeId||(this.appointment.episodeId=this.episodeId,this.appointment.appointmentPurpose=this.appointmentPurpose),this.appointment.overallStatus="APPROVED",this.appointment.attenderId=this.selectedCaretaker.id,this.appointment.attenderName=this.selectedCaretaker.fullName,this._appointmentsService.updateAppointment(this.appointment).subscribe(()=>{this._notificationsService.success("Appointment","Appointment Rescheduled Successfully!"),this.isInProgress=!1,this.closeDialog()})}onNoteChanged(t){this.isInputEmpty=0===(null==t?void 0:t.length)}setTemplate(t){this.note.content=t}selectLevel(t){this.severity=t}closeDialog(){this._modalRef.close()}episodeIdUpdated(){var t,e,n,i;if(this.appointmentPurpose=void 0,null==this.episodeId)return;const a=null===(i=null===(n=null===(e=null===(t=this.patient)||void 0===t?void 0:t.patientState)||void 0===e?void 0:e.episodeState)||void 0===n?void 0:n.activeEpisodes)||void 0===i?void 0:i.find(t=>t.id===this.episodeId);this.appointmentPurposeLoading=!0,this._appointmentsService.fetchAppointmentPurpose(a.episodeType).subscribe(t=>{this.appointmentPurposeList=t,this.appointmentPurposeLoading=!1})}searchCaretakers(t){var e,n,i,a;const o=null===(n=null===(e=this.appointment)||void 0===e?void 0:e.schedule)||void 0===n?void 0:n.startDate,s=null===(a=null===(i=this.appointment)||void 0===i?void 0:i.schedule)||void 0===a?void 0:a.endDate;this.loadingCaretakers=!0,this._appointmentsService.fetchAvailableCaretakers(o,s,0,10,t,this.patient.id).subscribe(t=>{const e=-1!=t.findIndex(t=>t.id===this.originalCaretaker.id);o!=this.originalStartDate||e||(t=[this.originalCaretaker,...t]),this.caretakers=t,this.loadingCaretakers=!1,this.invalidStaff=!(e||o==this.originalStartDate),this.isLoggedInUserCaretaker&&(this.selectedCaretaker=t.find(t=>t.id===this.originalCaretaker.id))})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(l.e),c.Rb(a.a),c.Rb(d.b))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-rescheduler"]],inputs:{appointment:"appointment"},decls:45,vars:45,consts:[["nzTip","Updating...",3,"nzSpinning"],["nz-typography",""],["nz-row","","nzGutter","16"],["nz-col","","nzFlex","1"],["nzShowTime","true","nzFormat","medium",1,"datetime-picker",3,"ngModel","nzDisabledDate","nzShowTime","nzPlaceHolder","ngModelChange"],["nzColor","error","class","error-tag",4,"ngIf"],["nzSize","large",1,"full-width",3,"nzShowSearch","ngModel","nzServerSearch","nzDisabled","nzPlaceHolder","ngModelChange","nzOnSearch"],[4,"ngIf","ngIfElse"],["staffLoading",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[3,"ngModel","ngStyle","placeholder","config","ngModelChange"],["noteEditor",""],["nz-row",""],["nz-col","","nzSpan","8"],[3,"note","onTemplateSelected"],["name","infoCircle","nzTooltipTitle","It is consider as an important note","nzTooltipPlacement","rightBottom","nz-tooltip","",1,"infoCirle"],[3,"ngModel","ngModelChange"],["nz-radio","","nzValue","IMPORTANT"],["nz-radio","","nzValue","NORMAL"],["nz-row","",3,"nzGutter",4,"ngIf"],["nz-button","","nzType","primary",1,"update-button",3,"disabled","click"],["nzColor","error",1,"error-tag"],["nz-icon","","nzType","exclamation-circle"],[4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],[2,"display","flex"],[2,"width","70%"],["style","width: 30%; text-align: right; color: var(--primary-color);",4,"ngIf"],[2,"width","30%","text-align","right","color","var(--primary-color)"],["nz-icon","","nzType","crown","nzTheme","outline",2,"font-size","14px"],["nzDisabled","","nzCustomContent",""],["name","loading","size","12px"],["nzSize","large",3,"ngModel","nzDisabled","ngModelChange"],["nz-radio","",3,"nzValue"],["xclass","full-width","nzPlaceHolder","Select Type","nzAllowClear","",3,"nzShowSearch","ngModel","ngModelChange"],["nzDisabled","","nzCustomContent","",4,"ngIf"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t&&(c.Xb(0,"nz-spin",0),c.Xb(1,"h4",1),c.Xc(2),c.jc(3,"translate"),c.Wb(),c.Sb(4,"nz-divider"),c.Xb(5,"div",2),c.Xb(6,"div",3),c.Xb(7,"nz-date-picker",4),c.ec("ngModelChange",function(t){return e.appointment.schedule.startDate=t})("ngModelChange",function(t){return e.onTimeChange(t)}),c.jc(8,"translate"),c.Wb(),c.Vc(9,R,4,0,"nz-tag",5),c.Wb(),c.Xb(10,"div",3),c.Xb(11,"nz-select",6),c.ec("ngModelChange",function(t){return e.selectedCaretaker=t})("nzOnSearch",function(t){return e.searchCaretakers(t)}),c.jc(12,"translate"),c.Vc(13,w,2,1,"ng-container",7),c.Vc(14,W,3,0,"ng-template",null,8,c.Wc),c.Wb(),c.Wb(),c.Wb(),c.Sb(16,"br"),c.Xb(17,"div",9),c.Xb(18,"div",10),c.Xb(19,"angular-editor",11,12),c.ec("ngModelChange",function(t){return e.note.content=t})("ngModelChange",function(t){return e.onNoteChanged(t)}),c.jc(21,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Sb(22,"br"),c.Xb(23,"div",13),c.Xb(24,"div",14),c.Xb(25,"app-note-template-picker",15),c.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),c.Wb(),c.Wb(),c.Wb(),c.Sb(26,"br"),c.Xb(27,"p"),c.Xc(28),c.jc(29,"translate"),c.Sb(30,"app-icons",16),c.Wb(),c.Xb(31,"nz-radio-group",17),c.ec("ngModelChange",function(t){return e.severity=t})("ngModelChange",function(t){return e.selectLevel(t)}),c.Xb(32,"label",18),c.Xc(33,"Yes"),c.Wb(),c.Xb(34,"label",19),c.Xc(35,"No"),c.Wb(),c.Wb(),c.Sb(36,"br"),c.Vc(37,V,9,8,"div",20),c.Sb(38,"br"),c.Vc(39,F,8,6,"div",20),c.jc(40,"dateCompare"),c.Sb(41,"br"),c.Xb(42,"button",21),c.ec("click",function(){return e.rescheduleAppointmentWithNote()}),c.Xc(43),c.jc(44,"translate"),c.Wb(),c.Wb()),2&t){const t=c.Ic(15);c.rc("nzSpinning",e.isInProgress),c.Db(2),c.Yc(c.kc(3,27,"APPOINTMENT.RESCHEDULE_HEADER")),c.Db(5),c.sc("nzPlaceHolder",c.kc(8,29,"COMMON.CHOOSE_DATE")),c.rc("ngModel",e.appointment.schedule.startDate)("nzDisabledDate",e.disabledDate)("nzShowTime",c.xc(42,H)),c.Db(2),c.rc("ngIf",e.invalidStaff),c.Db(2),c.tc("nzPlaceHolder"," ",c.kc(12,31,"COMMON.AVAILABLE_CLINICIANS")," "),c.rc("nzShowSearch",!0)("ngModel",e.selectedCaretaker)("nzServerSearch",!0)("nzDisabled",e.isLoggedInUserCaretaker||!(null!=e.appointment&&null!=e.appointment.schedule&&e.appointment.schedule.startDate)),c.Db(2),c.rc("ngIf",!e.loadingCaretakers)("ngIfElse",t),c.Db(4),c.rc("nzGutter",16),c.Db(1),c.rc("nzSpan",24),c.Db(1),c.sc("placeholder",c.kc(21,33,"COMMON.ENTER_NOTES")),c.rc("ngModel",e.note.content)("ngStyle",c.yc(43,B,e.isInputEmpty?"1px solid red":""))("config",e.config),c.Db(6),c.rc("note",e.note.content),c.Db(3),c.Zc(" ",c.kc(29,35,"MAKE_IMPORTANT_NOTES")," "),c.Db(3),c.rc("ngModel",e.severity),c.Db(6),c.rc("ngIf",!(null!=e.appointment&&e.appointment.episodeId)&&(null==e.patient||null==e.patient.patientState||null==e.patient.patientState.episodeState?null:e.patient.patientState.episodeState.activeEpisodes)),c.Db(2),c.rc("ngIf",c.lc(40,37,e.episodeId&&(null==e.appointment||null==e.appointment.schedule?null:e.appointment.schedule.startDate),"MONTH")),c.Db(3),c.rc("disabled",e.invalidStaff||!e.selectedCaretaker||e.invalidDate),c.Db(1),c.Zc(" ",c.kc(44,40,"COMMON.UPDATE"),"")}},directives:[u.a,p.a,h.a,b.c,b.a,g.a,m.u,m.x,f.q,v.d,S.a,f.r,T.a,C.a,E.d,I.c,I.b,M.a,y.a,A.a,_.a,D.a,f.p,v.a],pipes:[z.a,O.a,N.a,P.a],styles:[".update-button[_ngcontent-%COMP%]{margin-left:90%;width:10%}.datetime-picker[_ngcontent-%COMP%]{border:1px solid #5bbd71;border-radius:5px;height:40px}.infoCirle[_ngcontent-%COMP%]{position:relative;vertical-align:text-top;left:14px}.notes-container[_ngcontent-%COMP%]{margin:1%;padding:2%;border-radius:5px;border:1px solid #d3d3d3}#add-note-container[_ngcontent-%COMP%]{width:95%}.error-tag[_ngcontent-%COMP%]{width:100%;margin:8px 0}"]}),t})()},FYUs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.VERY_HIGH="VERY_HIGH",t.HIGH="HIGH",t.MEDIUM="MEDIUM",t.LOW="LOW",t.VERY_LOW="VERY_LOW",t}({})},FrsH:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.FORM_ALERT="FORM_ALERT",t.VITAL_LIMIT_CROSSED="VITAL_LIMIT_CROSSED",t.TODO_TASK_SKIPPED="TODO_TASK_SKIPPED",t.CAREPLAN_ASSIGNED="CAREPLAN_ASSIGNED",t.CONSENT_SUBMITTED="CONSENT_SUBMITTED",t.PRIORITISED="PRIORITISED",t.FORM_SUBMITTED="FORM_SUBMITTED",t.VITAL_LIMIT_LOW="VITAL_LIMIT_LOW",t.PENDING_PATIENT_COMMUNICATION="PENDING_PATIENT_COMMUNICATION",t.HEALTH_SCORE_DECREASED="HEALTH_SCORE_DECREASED",t.EPISODE_COMPLETED="EPISODE_COMPLETED",t.RESPONSE_REQUIRED="RESPONSE_REQUIRED",t.ACKNOWLEDGEMENT_RECEIVED="ACKNOWLEDGEMENT_RECEIVED",t.VITAL_ADDED="VITAL_ADDED",t.HEALTH_SCORE_BASE_VALUE="HEALTH_SCORE_BASE_VALUE",t.VITAL_LIMIT_HIGH="VITAL_LIMIT_HIGH",t.NA="NA",t}({})},GKSl:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("fXoL"),a=n("B+r4"),o=n("OzZK"),s=n("RwU8"),r=n("C2AL"),c=n("dRHE");let l=(()=>{class t{constructor(){this.showHistory=new i.n,this.save=new i.n}emitShowHistoryEvent(){this.showHistory.emit()}emitSaveEvent(){this.save.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-footer-actions"]],inputs:{loading:["loadingState","loading"],validated:["validationState","validated"],compact:"compact",roundedButtons:"roundedButtons"},outputs:{showHistory:"showHistory",save:"save"},decls:9,vars:17,consts:[["nz-row","","nzGutter","16"],["nz-col","",3,"nzSpan","nzOffset"],["nz-button","","nzType","default","nzShape","round",3,"nzSize","click"],["nz-col","",3,"nzSpan"],["nz-button","","nzType","primary","nzShape","round",3,"nzLoading","nzSize","disabled","click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"button",2),i.ec("click",function(){return e.emitShowHistoryEvent()}),i.Xc(3),i.jc(4,"translate"),i.Wb(),i.Wb(),i.Xb(5,"div",3),i.Xb(6,"button",4),i.ec("click",function(){return e.emitSaveEvent()}),i.Xc(7),i.jc(8,"translate"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Db(1),i.rc("nzSpan",e.compact?8:12)("nzOffset",e.compact?4:0),i.Db(1),i.Jb("button-rounded-corner",e.roundedButtons),i.rc("nzSize","large"),i.Db(1),i.Zc(" ",i.kc(4,13,"TMS.VIEW_HISTORY")," "),i.Db(2),i.rc("nzSpan",e.compact?8:12),i.Db(1),i.Jb("button-rounded-corner",e.roundedButtons),i.rc("nzLoading",e.loading)("nzSize","large")("disabled",!e.validated),i.Db(1),i.Zc(" ",i.kc(8,15,"TMS.SAVE")," "))},directives:[a.c,a.a,o.a,s.a,r.a],pipes:[c.a],styles:["button[_ngcontent-%COMP%]{width:100%;font-size:12px!important}.button-rounded-corner[_ngcontent-%COMP%]{border-radius:8px!important}"]}),t})()},GMnC:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.RPM="RPM",t.CCM="CCM",t.TOC="TOC",t.HHA="HHA",t.GENERAL="GENERAL",t.BHI="BHI",t}({})},GSAy:function(t,e,n){"use strict";n.d(e,"a",function(){return nt});var i=n("WoUL"),a=n("V1/G"),o=n("IOC6"),s=n("xnfs"),r=n("0EQZ"),c=n("7RJT"),l=n("zB/H"),d=n("AytR");class u extends r.b{constructor(t){super(),this.http=t,this.length=10,this.pageSize=7,this.cachedData=Array.from({length:this.length}),this.fetchedPages=new Set,this.dataStream=new c.BehaviorSubject(this.cachedData),this.subscription=new l.Subscription,this.rootUrl=d.g.url,this.tags=null}connect(t){return this.subscription.add(t.viewChange.subscribe(t=>{const e=this.getPageForIndex(t.start),n=this.getPageForIndex(t.end-1);for(let i=e;i<=n;i++)this.fetchPage(i)})),this.dataStream}disconnect(){this.dataStream.unsubscribe(),this.subscription.unsubscribe()}getPageForIndex(t){return Math.ceil(t/this.pageSize)}fetchPage(t){this.fetchedPages.has(t)||(this.fetchedPages.add(t),this.endPoint=this.rootUrl+"/v3/sms-template/?limit="+this.pageSize+"&offset="+t+"&tags="+this.tags,this.http.get(this.endPoint).subscribe(e=>{this.cachedData.splice(t*this.pageSize,this.pageSize,...e.result),this.cachedData=this.cachedData.filter(t=>null!=t),this.length=e.totalCount,this.dataStream.next(this.cachedData)}))}}var p=n("FVa/"),h=n("pe0G"),b=n("KCkQ"),g=n("igu/"),m=n("6i1W"),f=n("fXoL"),v=n("tk/3"),S=n("dEAy"),T=n("bNXi"),C=n("5+WD"),E=n("ofXK"),I=n("JA5x"),M=n("B+r4"),y=n("bE2y"),A=n("3Pt+"),_=n("zAKX"),D=n("PTRe"),z=n("vxfF"),O=n("Ff2k"),N=n("OzZK"),P=n("RwU8"),R=n("C2AL"),X=n("glKu"),L=n("Beax"),w=n("qAZ0"),W=n("OtHt"),k=n("dRHE");function V(t,e){1&t&&(f.Xb(0,"p"),f.Xc(1),f.jc(2,"translate"),f.Wb()),2&t&&(f.Db(1),f.Zc(" ",f.kc(2,1,"NO_FILTERS_APPLIED")," "))}function x(t,e){if(1&t&&(f.Xb(0,"div",3),f.Xb(1,"div",20),f.Xb(2,"nz-card",21),f.Xb(3,"div",20),f.Xb(4,"span",22),f.Sb(5,"app-icons",23),f.Wb(),f.Xb(6,"span",24),f.Xb(7,"strong"),f.Xc(8),f.jc(9,"translate"),f.Wb(),f.Wb(),f.Sb(10,"br"),f.Wb(),f.Xb(11,"div",25),f.Sb(12,"app-filter-desc",26),f.Vc(13,V,3,3,"p",14),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&t){const t=f.ic();f.Db(8),f.Yc(f.kc(9,3,"SMS.APPLIED_FILTERS")),f.Db(4),f.rc("smsScreen",t.smsScreen),f.Db(1),f.rc("ngIf",0===t.noOfFiltersApplied)}}function U(t,e){if(1&t&&f.Sb(0,"nz-option",27),2&t){const t=e.$implicit;f.rc("nzLabel",t.label)("nzValue",t.value)}}function F(t,e){1&t&&f.Xc(0),2&t&&f.Zc(" and ",e.$implicit.length," more selected ")}function H(t,e){1&t&&f.Sb(0,"nz-spin",31)}function B(t,e){if(1&t&&f.Sb(0,"nz-option",27),2&t){const t=e.$implicit;f.rc("nzLabel",t.title)("nzValue",t)}}function j(t,e){if(1&t){const t=f.Yb();f.Xb(0,"div",32),f.Xb(1,"nz-select",33),f.ec("ngModelChange",function(e){return f.Lc(t),f.ic(2).selectedForm=e})("ngModelChange",function(e){return f.Lc(t),f.ic(2).selectForm(e)}),f.jc(2,"translate"),f.Vc(3,B,1,2,"nz-option",10),f.Wb(),f.Wb()}if(2&t){const t=f.ic(2),e=f.Ic(31);f.Db(1),f.sc("nzPlaceHolder",f.kc(2,5,"FORM.SELECT_FORM")),f.rc("nzMaxTagCount",1)("nzMaxTagPlaceholder",e)("ngModel",t.selectedForm),f.Db(2),f.rc("ngForOf",t.forms)}}function G(t,e){if(1&t&&(f.Xb(0,"div",28),f.Xb(1,"strong",5),f.Xc(2),f.jc(3,"translate"),f.Wb(),f.Sb(4,"br"),f.Sb(5,"br"),f.Vc(6,H,1,0,"nz-spin",29),f.Vc(7,j,4,7,"div",30),f.Wb()),2&t){const t=f.ic();f.Db(2),f.Yc(f.kc(3,3,"FORM.SELECT_FORM")),f.Db(4),f.rc("ngIf",t.loading),f.Db(1),f.rc("ngIf",!t.loading)}}function Y(t,e){1&t&&(f.Xb(0,"div"),f.Xb(1,"div",34),f.Xc(2),f.jc(3,"translate"),f.Wb(),f.Wb()),2&t&&(f.Db(2),f.Zc("*",f.kc(3,1,"COMMON.REQUIRED"),""))}const $=function(){return{rows:1}};function q(t,e){1&t&&f.Sb(0,"nz-skeleton",37),2&t&&f.rc("nzParagraph",f.xc(1,$))}function Z(t,e){if(1&t){const t=f.Yb();f.Xb(0,"a",41),f.ec("click",function(){f.Lc(t);const e=f.ic(3).$implicit;return f.ic().selectTemplate(e.template)}),f.Xc(1),f.Wb()}if(2&t){const t=f.ic(3).$implicit;f.Db(1),f.Zc(" ",t.template," ")}}function Q(t,e){if(1&t){const t=f.Yb();f.Xb(0,"a",41),f.ec("click",function(){f.Lc(t);const e=f.ic(3).$implicit;return f.ic().selectTemplate(e.template)}),f.Xc(1),f.Wb()}if(2&t){const t=f.ic(3).$implicit;f.Db(1),f.Zc(" ",t.title," ")}}function K(t,e){if(1&t&&(f.Vc(0,Z,2,1,"a",40),f.Vc(1,Q,2,1,"a",40)),2&t){const t=f.ic(2).$implicit;f.rc("ngIf",null==t.title),f.Db(1),f.rc("ngIf",null!=t.title)}}function J(t,e){if(1&t&&(f.Xb(0,"nz-list-item-meta",38),f.Vc(1,K,2,2,"ng-template",null,39,f.Wc),f.Wb()),2&t){const t=f.Ic(2);f.rc("nzTitle",t)}}function tt(t,e){if(1&t&&(f.Xb(0,"nz-list-item"),f.Vc(1,q,1,2,"nz-skeleton",35),f.Vc(2,J,3,1,"nz-list-item-meta",36),f.Wb()),2&t){const t=e.$implicit;f.Db(1),f.rc("ngIf",!t),f.Db(1),f.rc("ngIf",t)}}const et=function(t){return{border:t}};let nt=(()=>{class t{constructor(t,e,n,i,a,o,s,r){this.http=t,this.smsService=e,this._formsService=n,this._dataSharingService=i,this._modalRef=a,this.smsTemplateService=o,this.notificationService=s,this.translationService=r,this.dateRange=[],this.smsLink="",this.showFilter=!0,this.showForms=!1,this.noOfFiltersApplied=0,this.usePrimaryNumber=!0,this.smsScreen=!0,this.message="",this.isValidMessage=!0,this.listOfOption=[],this.listOfSelectedValue=[],this.saveTemplateBtnLoading=!1,this.sendMessageBtnLoading=!1,this.allPatientIds=new Array,this.strings=["SMS.SMS_TEMPLATE","SMS.MESSAGE","SMS.MESSAGE_SENT","SMS.PLEASE_ENTER_TEXT","SMS.TEMPLATE_ALREADY_PRESENT","SMS.SMS_TEMPLATE_SAVED","SMS.MESSAGE_SENT_SUCCESSFULLY","TABLEHEADER.RESIDENT","SMS.PLEASE_ADD_RECEPIENT","SMS.MESSAGE_SENT_SUCCESSFULLY_TO_MULTIPLE","FORM.SELECT_FORM"],this.featureConfigs=new b.a,this.smsSent=!1,this.$translationSubscription=this.translationService.getMultiple(...this.strings).subscribe(t=>{this.translatedStrings=t})}ngOnDestroy(){this.$translationSubscription.unsubscribe(),this.templates.disconnect()}ngOnInit(){this.radioValue="ALL",this.initFeatureConfigs(),this.initTemplates(),this.initPatients(),this.initAllPatientsAsRecepients()}initFeatureConfigs(){this.$featureConfigsObserver=this._dataSharingService.featureConfigs.subscribe(t=>{t&&(this.featureConfigs=t,this.showForms=t.formsEnabled,this.showForms&&this.getForms())})}initAllPatientsAsRecepients(){this.listOfSelectedValue=this.allPatientIds}initTemplates(){this.templates=new u(this.http)}initPatients(){var t,e;const n=[];null===(e=null===(t=this.patientList)||void 0===t?void 0:t.filter(t=>{var e,n;return!!(null===(n=null===(e=null==t?void 0:t.phoneNumbers)||void 0===e?void 0:e.filter(t=>{var e;return(null==t?void 0:t.preferred)&&(null===(e=null==t?void 0:t.notificationConfig[m.b.SMS])||void 0===e?void 0:e.enabled)}))||void 0===n?void 0:n.length)}))||void 0===e||e.forEach(t=>{n.push({label:t.name,value:t.id}),this.allPatientIds.push(t.id)}),this.listOfOption=[...n]}getForms(t=1){this.loading=!0,this._formsService.getFormsWithBody({phq9:this.featureConfigs.phq9,gad7:this.featureConfigs.gad7,ri:this.featureConfigs.ri,covid:this.featureConfigs.covid,feveriq:this.featureConfigs.feverIq},t-1,10,"").subscribe(t=>{this.forms=t.data.forms.obj,this.loading=!1})}selectForm(t){this.selectedForm=t}selectTemplate(t){this.saveTemplateBtnLoading=!1,this.sendMessageBtnLoading=!1,this.message=t+"\n"+this.smsLink}validateSms(){let t=!0;return 0===this.message.length&&(t=!1),0==this.listOfSelectedValue.length&&(t=!1),this.isValidMessage=t,t}sendSms(){if(this.sendMessageBtnLoading=!0,!this.validateSms())return void(this.sendMessageBtnLoading=!1);const t=new s.a;t.message=this.message,t.toUsers=this.listOfSelectedValue,t.fromUser=localStorage.getItem("loggedInUser"),t.usePrimaryNumber=this.usePrimaryNumber,null!=this.selectedForm?this.sendFormSMS(t):this.sendSMS(t),this.smsResponse={smsSent:!0,message:this.message,createdOn:new Date,status:"SENT",read:!0}}sendFormSMS(t){var e=new Map;e.formBlueprintId=this.selectedForm._id,e.formType=this.selectedForm.type,t.messageParameters=e,t.usePrimaryNumber=this.usePrimaryNumber,this.smsService.sendFormSms(t).subscribe(t=>{let e;this.sendMessageBtnLoading=!1,e=1==this.listOfSelectedValue.length?this.translatedStrings.get("SMS.MESSAGE_SENT_SUCCESSFULLY"):this.translatedStrings.get("SMS.MESSAGE_SENT_SUCCESSFULLY_TO_MULTIPLE").replace("{COUNT}",this.listOfSelectedValue.length.toString()),this.notificationService.success(this.translatedStrings.get("SMS.MESSAGE_SENT"),e),this._modalRef.close(this.smsResponse)})}sendSMS(t){this.smsService.sendSms(t).subscribe(t=>{let e;this.sendMessageBtnLoading=!1,e=1==this.listOfSelectedValue.length?this.translatedStrings.get("SMS.MESSAGE_SENT_SUCCESSFULLY"):this.translatedStrings.get("SMS.MESSAGE_SENT_SUCCESSFULLY_TO_MULTIPLE").replace("{COUNT}",this.listOfSelectedValue.length.toString()),this.notificationService.success(this.translatedStrings.get("SMS.MESSAGE_SENT"),e),this._modalRef.close(this.smsResponse)})}saveTemplate(){this.saveTemplateBtnLoading=!0;const t=new a.a;t.template=this.message,this.smsTemplateService.validateTemplate(t).subscribe(e=>{this.smsTemplateService.saveTemplate(t).subscribe(()=>{this.initTemplates(),this.saveTemplateBtnLoading=!1,this.notificationService.success(this.translatedStrings.get("SMS.SMS_TEMPLATE"),this.translatedStrings.get("SMS.SMS_TEMPLATE_SAVED"))})},t=>this.notificationService.error(this.translatedStrings.get("SMS.SMS_TEMPLATE"),this.translatedStrings.get("SMS.TEMPLATE_ALREADY_PRESENT")))}onRadioChange(t){"ALL"==t?this.initAllPatientsAsRecepients():this.listOfSelectedValue=[]}onChange(){this.saveTemplateBtnLoading=!1,this.sendMessageBtnLoading=!1}}return t.\u0275fac=function(e){return new(e||t)(f.Rb(v.c),f.Rb(p.a),f.Rb(h.a),f.Rb(g.a),f.Rb(S.e),f.Rb(o.a),f.Rb(T.b),f.Rb(i.a))},t.\u0275cmp=f.Lb({type:t,selectors:[["app-sms"]],inputs:{episodeType:"episodeType",dateRange:"dateRange",smsLink:"smsLink",patientList:"patientList",showFilter:"showFilter",showForms:"showForms",noOfFiltersApplied:"noOfFiltersApplied",usePrimaryNumber:"usePrimaryNumber"},decls:62,vars:44,consts:[["cdkDrag","","cdkDragRootElement",".ant-modal-content"],["id","title","cdkDragHandle",""],["nz-row","","nzGutter","16",4,"ngIf"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],[1,"header"],[3,"ngModel","ngModelChange"],["nz-radio","","nzValue","ALL"],["nz-radio","","nzValue","CUSTOM"],["id","patient-select","nzMode","multiple",3,"nzMaxTagCount","nzMaxTagPlaceholder","nzPlaceHolder","nzDisabled","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["tagPlaceHolder",""],["nzSpan","12",4,"ngIf"],["rows","2","nz-input","","placeholder","Type here...","required","",1,"message-textarea",3,"ngStyle","ngModel","ngModelChange"],[4,"ngIf"],[1,"message-count"],["itemSize","73",1,"demo-infinite-container"],[4,"cdkVirtualFor","cdkVirtualForOf"],["nz-col","","nzSpan","24",1,"centerize"],["nz-button","","nzType","primary",3,"nzSize","disabled","click"],["nz-col","","nzSpan","24"],[1,"filter-card"],[1,"info-icon-applied-filter"],["name","infoCircle"],[1,"filter-header"],["nz-col","","nzSpan","24",1,"filter-tag-div"],[3,"smsScreen"],[3,"nzLabel","nzValue"],["nzSpan","12"],["class","spinner","nzSimple","",4,"ngIf"],["class","form-list",4,"ngIf"],["nzSimple","",1,"spinner"],[1,"form-list"],["id","patient-select",3,"nzMaxTagCount","nzMaxTagPlaceholder","nzPlaceHolder","ngModel","ngModelChange"],[1,"required-text"],[3,"nzParagraph",4,"ngIf"],[3,"nzTitle",4,"ngIf"],[3,"nzParagraph"],[3,"nzTitle"],["nzTitle",""],["class","template",3,"click",4,"ngIf"],[1,"template",3,"click"]],template:function(t,e){if(1&t&&(f.Xb(0,"div",0),f.Xb(1,"strong",1),f.Xc(2),f.jc(3,"translate"),f.Wb(),f.Sb(4,"br"),f.Sb(5,"br"),f.Xb(6,"strong"),f.Xc(7," Patients who have opted out of receiving communication via SMS and who haven\u2019t provided a mobile number as their preferred number are excluded in all of the filters below. "),f.Wb(),f.Vc(8,x,14,5,"div",2),f.Sb(9,"br"),f.Xb(10,"nz-card"),f.Xb(11,"div",3),f.Xb(12,"div",4),f.Xb(13,"strong",5),f.Xc(14),f.jc(15,"translate"),f.Wb(),f.Sb(16,"br"),f.Sb(17,"br"),f.Xb(18,"nz-radio-group",6),f.ec("ngModelChange",function(t){return e.radioValue=t})("ngModelChange",function(t){return e.onRadioChange(t)}),f.Xb(19,"label",7),f.Xc(20),f.jc(21,"translate"),f.Wb(),f.Xb(22,"label",8),f.Xc(23),f.jc(24,"translate"),f.Wb(),f.Wb(),f.Sb(25,"br"),f.Sb(26,"br"),f.Xb(27,"nz-select",9),f.ec("ngModelChange",function(t){return e.listOfSelectedValue=t}),f.jc(28,"translate"),f.Vc(29,U,1,2,"nz-option",10),f.Wb(),f.Vc(30,F,1,1,"ng-template",null,11,f.Wc),f.Sb(32,"br"),f.Sb(33,"br"),f.Vc(34,G,8,5,"div",12),f.Sb(35,"br"),f.Sb(36,"br"),f.Xb(37,"strong",5),f.Xc(38),f.jc(39,"translate"),f.Wb(),f.Sb(40,"br"),f.Xb(41,"textarea",13),f.ec("ngModelChange",function(t){return e.message=t})("ngModelChange",function(){return e.onChange()}),f.Wb(),f.Vc(42,Y,4,3,"div",14),f.Xb(43,"label",15),f.Xb(44,"em"),f.Xc(45),f.jc(46,"translate"),f.Wb(),f.Wb(),f.Wb(),f.Xb(47,"div",4),f.Xb(48,"strong",5),f.Xc(49),f.jc(50,"translate"),f.Wb(),f.Sb(51,"br"),f.Sb(52,"br"),f.Xb(53,"cdk-virtual-scroll-viewport",16),f.Xb(54,"nz-list"),f.Vc(55,tt,3,2,"nz-list-item",17),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Wb(),f.Sb(56,"br"),f.Xb(57,"div",3),f.Xb(58,"div",18),f.Xb(59,"button",19),f.ec("click",function(){return e.sendSms()}),f.Xc(60),f.jc(61,"translate"),f.Wb(),f.Wb(),f.Wb(),f.Wb()),2&t){const t=f.Ic(31);f.Db(2),f.Zc(" ",f.kc(3,24,"SMS.SEND_SMS")," "),f.Db(6),f.rc("ngIf",e.showFilter),f.Db(6),f.Yc(f.kc(15,26,"SMS.SELECT_PATIENTS")),f.Db(4),f.rc("ngModel",e.radioValue),f.Db(2),f.Zc(" ",f.kc(21,28,"HEADER.ALL")," "),f.Db(3),f.Zc(" ",f.kc(24,30,"CUSTOM")," "),f.Db(4),f.sc("nzPlaceHolder",f.kc(28,32,"SMS.SELECT_PATIENTS")),f.rc("nzMaxTagCount",3)("nzMaxTagPlaceholder",t)("nzDisabled","ALL"==e.radioValue)("ngModel",e.listOfSelectedValue),f.Db(2),f.rc("ngForOf",e.listOfOption),f.Db(5),f.rc("ngIf",e.showForms),f.Db(4),f.Yc(f.kc(39,34,"COMMON.MESSAGE")),f.Db(3),f.rc("ngStyle",f.yc(42,et,e.isValidMessage||0!==(null==e.message?null:e.message.length)?"":"1px solid red"))("ngModel",e.message),f.Db(1),f.rc("ngIf",!e.isValidMessage&&0==(null==e.message?null:e.message.length)),f.Db(3),f.ad("",e.message.length," ",f.kc(46,36,"SMS.CHARACTERS"),""),f.Db(4),f.Zc(" ",f.kc(50,38,"SMS.CHOOSE_FROM_TEMPLATE")," "),f.Db(6),f.rc("cdkVirtualForOf",e.templates),f.Db(4),f.rc("nzSize","medium")("disabled",0==(null==e.listOfSelectedValue?null:e.listOfSelectedValue.length)||e.sendMessageBtnLoading),f.Db(1),f.Zc(" ",f.kc(61,40,"SMS.SEND_SMS")," ")}},directives:[C.a,C.b,E.q,I.a,M.c,M.a,y.c,A.u,A.x,y.b,_.d,E.p,D.b,A.d,A.C,E.r,z.d,z.a,O.a,z.c,N.a,P.a,R.a,X.a,L.a,_.a,w.a,O.e,W.a,O.f],pipes:[k.a],styles:["[_nghost-%COMP%]     .ant-modal-content{background-color:#eff2f0 0 0 no-repeat padding-box}#title[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color);cursor:move}.centerize[_ngcontent-%COMP%]{text-align:center}.filter-card[_ngcontent-%COMP%]{margin:15px;border-radius:10px;vertical-align:bottom}.required-text[_ngcontent-%COMP%]{color:#ff2e2e;float:left;position:absolute}.ant-tag[_ngcontent-%COMP%]{font-size:10px}.filter-tag-div[_ngcontent-%COMP%], .forms-tag-div[_ngcontent-%COMP%]{margin-top:10px}.filter-header[_ngcontent-%COMP%]{font:normal normal normal 12px/21px Nunito;letter-spacing:0;color:var(--primary-color);opacity:1;vertical-align:top}.message-textarea[_ngcontent-%COMP%]{background:#fbfbfb 0 0 no-repeat padding-box;border:1px solid var(--grey);border-radius:5px;opacity:1;width:100%;min-height:132px;max-height:132px;padding:10px;resize:none}.demo-infinite-container[_ngcontent-%COMP%]{height:300px;border:1px solid var(--grey);border-radius:4px}nz-list[_ngcontent-%COMP%]{padding:14px 20px}.template[_ngcontent-%COMP%]{text-align:justify;font:normal normal normal 11px/15px Nunito;letter-spacing:0;color:var(--light-black);opacity:1}.message-count[_ngcontent-%COMP%]{float:right;margin-top:4px}.header[_ngcontent-%COMP%]{color:var(--primary-color);font:normal normal normal 12px/21px Nunito}#patient-select[_ngcontent-%COMP%]{width:100%;background:#fbfbfb 0 0 no-repeat padding-box;border:1px solid var(--grey);border-radius:5px;opacity:1}[_nghost-%COMP%]     .cdk-virtual-scroll-spacer{height:-webkit-fit-content!important;height:-moz-fit-content!important;height:fit-content!important}"]}),t})()},Gskk:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("tk/3"),a=n("lJxs"),o=n("SxV6"),s=n("AytR"),r=n("fXoL");let c=(()=>{class t{constructor(t){this._http=t,this.rootUrl=s.g.url}getEpisodes(t,e,n,i,a){return this.endPoint=this.rootUrl+"/v2/episodes/active/patients/"+t+"?offset="+n+"&limit="+e,i&&(this.endPoint=this.endPoint+"&blueprintId="+i),a&&(this.endPoint=this.endPoint+"&episodeStatus="+a.join()),this._http.get(this.endPoint)}saveEpisode(t){return this.endPoint=this.rootUrl+"/v2/episodes",this._http.post(this.endPoint,t)}triggerFormActionItem(t,e){return this.endPoint=this.rootUrl+"/v2/actions/generate/patient-consent/actionitem/"+t+"?episodeType="+e,this._http.get(this.endPoint,{observe:"response"}).pipe(Object(a.a)(t=>200==t.status?{status:t.status,consentUrl:t.body.url}:{status:t.status,consentUrl:null}))}updateEpisode(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/edit",this._http.put(this.endPoint,e)}saveCallDetails(t){return this.endPoint=this.rootUrl+"/v2/episodes/patient-communications",this._http.post(this.endPoint,t,{observe:"response"})}savePatientCommunication(t){return this.endPoint=this.rootUrl+"/v3/episodes/patient-communications",this._http.post(this.endPoint,t)}updatePatientCommunication(t){return this.endPoint=this.rootUrl+"/v3/episodes/patient-communications",this._http.put(this.endPoint,t)}archivePatientCommunication(t){return this.endPoint=`${this.rootUrl}/v3/episodes/patient-communications/${t}`,this._http.delete(this.endPoint)}validateStartEndTime(t,e,n,i){return this.endPoint=this.rootUrl+"/v2/episodes/patientCommunication/validate/datetime/"+t+"?startTime="+e+"&endTime="+n,i&&(this.endPoint=this.endPoint+"&id="+i),this._http.get(this.endPoint)}getCallDetails(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/"+e+"/patient-communications/"+t,this._http.get(this.endPoint)}getPatientCommunications(t,e,n,i="TMS"){return this.endPoint=this.rootUrl+"/v2/episodes/patient-communications/"+t+"?communicationType="+i,e&&n&&(this.endPoint=this.endPoint+"&startDate="+e+"&endDate="+n),this._http.get(this.endPoint)}getEpisodeById(t){return this.endPoint=this.rootUrl+"/v2/episodes/"+t,this._http.get(this.endPoint)}getEpisodeHistory(t){return this.endPoint=this.rootUrl+"/v2/episodes/patients/"+t+"/timeline",this._http.get(this.endPoint)}deleteEpisode(t){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/delete",this._http.delete(this.endPoint)}suspendEpisode(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/"+t,this._http.post(this.endPoint,e)}repeatEpisode(t){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/repeat-episode",this._http.post(this.endPoint,{})}bulkRepeatEpisodes(t){return this.endPoint=this.rootUrl+"/v2/episodes/repeat-episode-bulk?episodeType="+t,this._http.get(this.endPoint)}saveEducationTask(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/education-tasks",this._http.post(this.endPoint,e)}getDevices(){return this.endPoint=this.rootUrl+"/v3/device-specifications",this._http.get(this.endPoint)}getTMSPercentage(t,e,n){return this.endPoint=this.rootUrl+"/v2/episodes/patient/"+e+"/episode/"+t+"/progress?type="+n,this._http.get(this.endPoint)}getActiveEpisode(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/patient/"+t+"/episode/"+e+"/active",this._http.get(this.endPoint)}getEpisodePrefill(t){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/episode/prefill",this._http.get(this.endPoint)}rescheduleAppointment(t,e,n){return this.endPoint=this.rootUrl+`/v2/episodes/reschedule-dst/${t}/${e}`,this._http.put(this.endPoint,n)}saveConsentDetails(t){return this._http.post(s.g.url+"/ehealth/v2/consent-form",t).pipe(Object(o.a)())}updateActionItem(t){return this.endPoint=this.rootUrl+`/v2/actions/${null==t?void 0:t.id}`,this._http.put(this.endPoint,t)}fetchEpisodeVitalProgress(t){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/vital-progress",this._http.get(this.endPoint)}getEpisodeByIds(t){this.endPoint=this.rootUrl+"/v3/episodes";const e=new i.h({fromObject:{ids:t}});return this._http.get(this.endPoint,{params:e})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.c))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},HZ0a:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7Xlp"),a=n("QwIf"),o=n("fXoL");let s=(()=>{class t extends i.a{constructor(){super(),this.SOURCE="patient_listing"}patientFilterActionEvent(t,e){let n=this.getCommonProperties();n[a.a.SOURCE]=this.SOURCE,n[a.a.ACTION_NAME]=e,n[a.a.FILTER_INFO]=t,this.logEvent(a.a.PATIENT_FILTER_ACTION,n)}patientSearchEvent(t){let e=this.getCommonProperties();e[a.a.SEARCH_KEY]=t,e[a.a.SOURCE]=this.SOURCE,this.logEvent(a.a.PATIENT_SEARCH,e)}patientActionEvent(t,e,n=a.a.PATIENT_LISTING_SCREEN){let i=this.getCommonProperties();i[a.a.SOURCE]=n,i[a.a.ACTION_NAME]=e,i[a.a.PATIENT_ID]=t,this.logEvent(a.a.PATIENT_ACTION,i)}patientAddActionEvent(t,e,n){let i=this.getCommonProperties();i[a.a.SOURCE]=this.SOURCE,i[a.a.ACTION_NAME]=n,i[a.a.PATIENT_ID]=t,i[a.a.PATIENT_NAME]=e,this.logEvent(a.a.PATIENT_ACTION,i)}patientDetailsDisableActionEvent(t,e,n){let i=this.getCommonProperties();i[a.a.SOURCE]=this.SOURCE,i[a.a.ACTION_NAME]=n,i[a.a.PATIENT_ID]=t,i[a.a.PATIENT_NAME]=e,this.logEvent(a.a.PATIENT_DETAILS_ACTION,i)}staffAssignEvent(t,e,n,i){let o=this.getCommonProperties();o[a.a.SOURCE]=this.SOURCE,o[a.a.ACTION_NAME]=i,o[a.a.PATIENT_ID]=t,o[a.a.PATIENT_NAME]=e,o[a.a.STAFF_NAME]=n,this.logEvent(a.a.PATIENT_STAFF_ASSIGN,o)}patientAlertEvent(t,e){let n=this.getCommonProperties();n[a.a.SOURCE]=this.SOURCE,n[a.a.ACTION_NAME]=e,n[a.a.PATIENT_ID]=t,this.logEvent(a.a.PATIENT_ALERT_ACTION,n)}patientDetailsActionEvent(t,e){let n=this.getCommonProperties();n[a.a.SOURCE]=this.SOURCE,n[a.a.ACTION_NAME]=e,n[a.a.PATIENT_ID]=t,this.logEvent(a.a.PATIENT_DETAILS_ACTION,n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},IEkc:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("igu/"),a=function(t){return t.NONE="NONE",t.INITIATED="INITIATED",t.ALIVE="ALIVE",t.CLOSED="CLOSED",t.TERMINATED="TERMINATED",t}({}),o=function(t){return t.ACTIVE="ACTIVE",t.INACTIVE="INACTIVE",t}({}),s=n("Jlwr"),r=n("2Vo4"),c=n("ofXK"),l=n("8yaK"),d=n("fXoL"),u=n("tyNb");let p=(()=>{class t{constructor(t,e,n,i,a){this._router=t,this._staffSessionService=e,this._dataSharingService=n,this._sessionTimerService=i,this.document=a,this.ping$=new r.a(null),this.visibilityListener(),this.ping$.subscribe(t=>this.update(t))}getStaffSessionObjectFromLocalStorage(){const t=localStorage.getItem("staffSession");return(null==t?void 0:t.length)?JSON.parse(t):null}inititalize(){var t,e;null===(e=null===(t=this._dataSharingService)||void 0===t?void 0:t.tenantSettings)||void 0===e||e.subscribe(t=>{var e;if(!t)return;const n=null===(e=null==t?void 0:t.staffSessionConfig)||void 0===e?void 0:e.logoutInterval;this.logoutIntervalinMS=60*n*60*1e3,this.validateStaffSession(),this.staffSessionPolling(!0)})}validateStaffSession(){const t=this.getStaffSessionObjectFromLocalStorage();if(!t)return;const e=new Date(null==t?void 0:t.endTime).getTime(),n=Date.now();return this.logoutIntervalinMS<n-e&&"CLOSED"!==(null==t?void 0:t.state)&&"TERMINATED"!==(null==t?void 0:t.state)?(console.log("This session was timed out, please login again if you wish to continue!"),void this._router.navigate(["authorization/logout"])):void 0}staffSessionPolling(t=!1){const e=localStorage.getItem("accessToken"),n=this.getStaffSessionObjectFromLocalStorage();(n||e)&&(n||!e?n&&e&&this.updateStaffSession(void 0,t):this._staffSessionService.initiateStaffSession().subscribe(t=>{(null==t?void 0:t.olderSessionsTerminated)&&console.log("You had an active session already which has now been terminated!");const e=Date.now().toString();console.log("Setting new sessionTimerId during initial load",e),sessionStorage.setItem("sessionTimerId",e),localStorage.setItem("sessionTimerId",e),localStorage.setItem("staffSession",JSON.stringify(t))}))}visibilityListener(){this.document.addEventListener("visibilitychange",()=>{if("visible"===this.document.visibilityState){const t=Date.now().toString();console.log("Setting new sessionTimerId while the tab is visible",t),sessionStorage.setItem("sessionTimerId",t),localStorage.setItem("sessionTimerId",t)}this.updateStaffSession()})}updateStaffSession(t,e=!1){const n=this.getStaffSessionObjectFromLocalStorage(),i={staffSessionId:null==n?void 0:n.id,state:a.ALIVE,navigationState:(null===document||void 0===document?void 0:document.hidden)?o.INACTIVE:o.ACTIVE,context:t,initial:e},s=JSON.parse(sessionStorage.getItem("sessionTimerId")),r=JSON.parse(localStorage.getItem("sessionTimerId"));s&&s>=r&&this.ping$.next(i)}update(t){var e;(null===(e=null==t?void 0:t.staffSessionId)||void 0===e?void 0:e.length)&&this._staffSessionService.updateStaffSession(t).subscribe(e=>{if(a.INITIATED===(null==e?void 0:e.state)||a.ALIVE===(null==e?void 0:e.state)){const t=JSON.stringify(e);return localStorage.setItem("staffSession",t),void this._sessionTimerService.setLatestClockTime(null==e?void 0:e.additionalData.totalPingServiceMinutes,null==e?void 0:e.additionalData.totalPingServiceSeconds)}o.ACTIVE===(null==t?void 0:t.navigationState)&&console.log("This session was terminated or closed, please login again if you wish to continue!"),this._router.navigate(["authorization/logout"])})}}return t.\u0275fac=function(e){return new(e||t)(d.bc(u.g),d.bc(s.a),d.bc(i.a),d.bc(l.a),d.bc(c.d))},t.\u0275prov=d.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},IIEM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{constructor(){this.deviceMap=new Map([["VISUAL_AI_RECOGNITION","Selfie Vitals"],["VISUAL_RECOGNITION","Visual Vital Recognition"],["ANURA_AI_BP","Selfie Vitals - Blood Pressure"],["ANURA_AI","Anura AI"],["ABPM50","Ambulatory Blood Pressure Monitor"],["CT-300","Five in One Device"],["GA1C_EX_1.0_BT","Biosense HBA1C Analyser"],["CardioCheck_PA","Cardio Check Lipid Devices"],["UT-201BLE-A","Thermometer"],["UA-651BLE","A&D Blood Pressure Monitor"],["UC-352BLE","A&D Weighing Scale"],["UC-411PBT-C","A&D Body Composition Analyzer"],["WHT1-808-B","Cooey Blood Pressure Monitor"],["WHT1-B06T","Cooey Voice Blood Pressure Monitor"],["WBT1-357-B","Cooey Body Analyzer"],["SDM","Cooey Glucometer"],["IHealth-KN550BT","IHealth Blood Pressure Monitor"],["IHealth-BP3L","IHealth Blood Pressure Monitor"],["BP3L","IHealth Blood Pressure Monitor"],["IHealth-BP5","IHealth Blood Pressure Monitor"],["IHealth-BG5","IHealth Blood Glucometer"],["IHealth-BG5S","IHealth Blood Glucometer"],["IHealth-PO3","IHealth Pulse Oximeter"],["BT105","Body Trace BP Monitor - BT105"],["BT005","Body Trace Weight Scale - BT005"],["PY802LTE","Pylo BP Monitor - PY802LTE"],["PY300LTE","Pylo Weighing Scale - PY300LTE"],["BGMD1","Biotel BG Monitor - BGMD1"],["SMCLBS","SmartMeter Weight Scale - SMCLBS"],["SM5000IB","SmartMeter BP Monitor - SM5000IB"],["SMCOX","SmartMeter SPO2 - SMCOX"],["GM291V","SmartMeter BG - GM291V"],["MANUAL","Manually logged"]])}transform(t){return t?this.deviceMap.get(t)||"N/A":"Manually Logged"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"deviceName",type:t,pure:!0}),t})()},IKCb:function(t,e,n){"use strict";n.d(e,"a",function(){return tt});var i=n("IEkc"),a=n("gXqy"),o=n("V5Ok"),s=n("6En5"),r=n("ZPfs"),c=n("k9Ba"),l=n("geco"),d=n("nLCl"),u=n("awHO"),p=(n("c/Vb"),n("Gskk")),h=n("c36b"),b=n("wb4W"),g=n("fXoL"),m=n("dEAy"),f=n("bNXi"),v=n("5+WD"),S=n("B+r4"),T=n("0lU3"),C=n("3Pt+"),E=n("ofXK"),I=n("zAKX"),M=n("ZyQt"),y=n("aPTj"),A=n("TaO5"),_=n("bE2y"),D=n("mUB+"),z=n("mUTz"),O=n("GKSl"),N=n("PTRe"),P=n("OzZK"),R=n("RwU8"),X=n("C2AL"),L=n("eHCX"),w=n("sIYb"),W=n("glKu"),k=n("dRHE");function V(t,e){if(1&t&&g.Sb(0,"nz-option",43),2&t){const t=e.$implicit;g.uc("nzLabel","",null==t?null:t.firstName," ",null==t?null:t.lastName,""),g.rc("nzValue",t)}}function x(t,e){if(1&t&&(g.Vb(0),g.Sb(1,"nz-option",45),g.Ub()),2&t){const t=e.$implicit;g.Db(1),g.rc("nzValue",t)("nzLabel",null==t?null:t.name)}}function U(t,e){if(1&t){const t=g.Yb();g.Xb(0,"div",17),g.Xb(1,"nz-select",44),g.ec("ngModelChange",function(e){return g.Lc(t),g.ic().activity=e}),g.Vc(2,x,2,2,"ng-container",19),g.Wb(),g.Wb()}if(2&t){const t=g.ic();g.Db(1),g.rc("ngModel",t.activity),g.Db(1),g.rc("ngForOf",t.activities)}}function F(t,e){if(1&t){const t=g.Yb();g.Xb(0,"div",17),g.Xb(1,"input",46),g.ec("ngModelChange",function(e){return g.Lc(t),g.ic().setCustomActivity(e)}),g.Wb(),g.Wb()}}function H(t,e){if(1&t&&g.Sb(0,"nz-option",45),2&t){const t=g.ic().$implicit;g.uc("nzLabel","",null==t?null:t.code,", ",null==t?null:t.description,""),g.rc("nzValue",t)}}function B(t,e){if(1&t&&(g.Vb(0),g.Vc(1,H,1,3,"nz-option",47),g.Ub()),2&t){const t=e.$implicit;g.Db(1),g.rc("ngIf","Active"===(null==t?null:t.status)&&"CHRONIC"===(null==t?null:t.type))}}function j(t,e){1&t&&(g.Xb(0,"div",14),g.Xb(1,"div",48),g.Xb(2,"label",49),g.Xc(3,"Required"),g.Wb(),g.Wb(),g.Wb())}function G(t,e){if(1&t&&g.Sb(0,"app-icons",53),2&t){const t=g.ic().$implicit;g.sc("name",null==t?null:t.icon)}}function Y(t,e){if(1&t){const t=g.Yb();g.Xb(0,"div",50),g.Xb(1,"app-communication-action",51),g.ec("labelChange",function(t){return e.$implicit.name=t})("typeChange",function(t){return e.$implicit.type=t})("selectedTypeChange",function(e){return g.Lc(t),g.ic().communicationMode=e})("select",function(e){return g.Lc(t),g.ic().setCommunicationMode(null==e?null:e.type)}),g.Vc(2,G,1,1,"app-icons",52),g.Wb(),g.Wb()}if(2&t){const t=e.$implicit,n=g.ic();g.Db(1),g.rc("label",t.name)("type",t.type)("selectedType",n.communicationMode),g.Db(1),g.rc("ngIf",null==t?null:t.icon)}}function $(t,e){1&t&&(g.Vb(0),g.Xb(1,"div",54),g.Xc(2,"Required"),g.Wb(),g.Ub())}function q(t,e){1&t&&(g.Vb(0),g.Xb(1,"div",54),g.Xc(2,"Required"),g.Wb(),g.Ub())}function Z(t,e){1&t&&(g.Vb(0),g.Xb(1,"div",54),g.Xc(2,"Required"),g.Wb(),g.Ub())}function Q(t,e){1&t&&(g.Vb(0),g.Xb(1,"div",54),g.Xc(2,"Required"),g.Wb(),g.Ub())}const K=function(){return{nzMinuteStep:"10",nzFormat:"hh:mm"}},J=function(){return{width:"unset"}};let tt=(()=>{class t{constructor(t,e,n,i,o,r,l,d){this._patientCommunicationValidator=t,this._patientsService=e,this._modalRef=n,this._notificationsService=i,this._modalService=o,this._episodesService=r,this._staffSessionPingService=l,this.draftHelper=d,this.isUpdateTimeModalVisible=!1,this.isCMTTimeUpdatedManually=!1,this.isUpdateBillableModalVisible=!1,this.primaryMDM=null,this.primaryEncounter=null,this.isUpdateActivityModalVisible=!1,this.isUpdateTmsNoteModalVisible=!1,this.isUpdateModeModalVisible=!1,this.noteUpdateReason="",this.timeUpdateReason="",this.billableUpdateReason="",this.activityUpdateReason="",this.tmsNoteUpdateReason="",this.modeUpdateReason="",this.communicationModes=s.a,this.billable=!0,this.mdm=!1,this.encounter=!1,this.activities=c.a,this.updateHistory={},this.disabledDate=t=>{var e,n;return Object(a.a)(new Date(null===(n=null===(e=this.patient)||void 0===e?void 0:e.episode)||void 0===n?void 0:n.startDate),t)>0||Object(a.a)(new Date((new Date).setHours(23,59,59,99)),t)<0},this.config=h.e}set editCMT(t){var e,n,i,a,o,s,r,c,l,d,u,p,h,b,g,m,f,v,S,T,C,E,I;if(!t)return;this.patientCommunicationId=null==t?void 0:t.id,this.activities.forEach(e=>{(null==t?void 0:t.context)===e.type&&(this.activity=e,this.type=e.type)}),this.communicationModes.forEach(e=>{(null==t?void 0:t.mode)===e.type&&(this.communicationMode=e,this.setCommunicationMode(null==t?void 0:t.mode))}),this.startDate=new Date(null==t?void 0:t.startTime);const M=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4;this.duration=M<1?0:+(null==M?void 0:M.toFixed(0)),this.billable=null===(e=null==t?void 0:t.compliance)||void 0===e?void 0:e.billable,this.mdm=null==t?void 0:t.mdmOccurred,this.encounter=null==t?void 0:t.encounterOccurred,this.tmsNote=null==t?void 0:t.notes,this.noteUpdateReason=null==t?void 0:t.noteUpdateReason;const y=null===(n=null==t?void 0:t.dxCodes)||void 0===n?void 0:n.map(t=>null==t?void 0:t.code);(null==y?void 0:y.length)&&(this.selectedDxCodes=null===(a=null===(i=this.patient)||void 0===i?void 0:i.dxCodes)||void 0===a?void 0:a.filter(t=>-1!=(null==y?void 0:y.findIndex(e=>e===(null==t?void 0:t.code))))),this.primaryDuration=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4,this.primaryBillable=this.billable,this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryMDM=this.mdm,this.primaryEncounter=this.encounter,this.primaryMode=this.communicationMode,null!=(null==t?void 0:t.updateHistory)&&(this.timeUpdateReason=null==(null===(s=null===(o=null==t?void 0:t.updateHistory)||void 0===o?void 0:o.timeUpdateHistory)||void 0===s?void 0:s.reason)?"":null===(c=null===(r=null==t?void 0:t.updateHistory)||void 0===r?void 0:r.timeUpdateHistory)||void 0===c?void 0:c.reason,this.activityUpdateReason=null==(null===(d=null===(l=null==t?void 0:t.updateHistory)||void 0===l?void 0:l.activityUpdateHistory)||void 0===d?void 0:d.reason)?"":null===(p=null===(u=null==t?void 0:t.updateHistory)||void 0===u?void 0:u.activityUpdateHistory)||void 0===p?void 0:p.reason,this.tmsNoteUpdateReason=null==(null===(b=null===(h=null==t?void 0:t.updateHistory)||void 0===h?void 0:h.noteUpdateHistory)||void 0===b?void 0:b.reason)?"":null===(m=null===(g=null==t?void 0:t.updateHistory)||void 0===g?void 0:g.noteUpdateHistory)||void 0===m?void 0:m.reason,this.billableUpdateReason=null==(null===(v=null===(f=null==t?void 0:t.updateHistory)||void 0===f?void 0:f.billableUpdateHistory)||void 0===v?void 0:v.reason)?"":null===(T=null===(S=null==t?void 0:t.updateHistory)||void 0===S?void 0:S.billableUpdateHistory)||void 0===T?void 0:T.reason,this.modeUpdateReason=null==(null===(E=null===(C=null==t?void 0:t.updateHistory)||void 0===C?void 0:C.communicationModeUpdateHistory)||void 0===E?void 0:E.reason)?"":null===(I=null==t?void 0:t.updateHistory.communicationModeUpdateHistory)||void 0===I?void 0:I.reason)}set autoCMTOverRide(t){t&&(this.autoCMT=!1)}set stickyNote(t){t&&(this.tmsNote=t,this.stickyNoteText=t)}set appointmentTime(t){var e;if(!(null==t?void 0:t.length))return void this.setDefaultDateAndTime();this.autoCMTOverRide||(this.autoCMT=!0),this.setActivity("CARE_COORDINATION","OUTBOUND_CALL",!!this.tmsNote);var n="string"==typeof t[1]?new Date(t[1]).getTime():null===(e=t[1])||void 0===e?void 0:e.getTime();this.startDate="string"==typeof t[0]?new Date(t[0]):t[0];const i=(n-this.startDate.getTime())/6e4;this.duration=i<1?0:+(null==i?void 0:i.toFixed(0)),this.primaryDuration=this.duration}ngOnInit(){this.fetchCaretakersForPatient()}setDefaultDateAndTime(){this.startDate=new Date(Date.now()-18e5)}validateTMSData(t){var e;t&&(this.duration=t);const n=this._patientCommunicationValidator.validate(this.selectedCaretaker,this.startDate,this.communicationMode,this.activity,this.duration,this.tmsNote);return this.billable&&(!this.selectedDxCodes||(null===(e=this.selectedDxCodes)||void 0===e?void 0:e.length)<2)&&(null==n||n.push("Please select at least 2 diagnosis codes before proceeding!")),this.updatedDuration=this.duration,this.validated=!n.length,n}fetchCaretakersForPatient(){this._patientsService.fetchCaretakersForPatient(this.patient.id).subscribe(t=>{var e,n;if(!t||!t.length)return void this._notificationsService.error("CMT",`${this.patient.name} does not have a clinician assigned!`);this.caretakers=t;const i=localStorage.getItem("loggedInUserRole");if(d.a.MONITORING_STAFF===i){const t=localStorage.getItem("loggedInUser");this.caretakers=this.caretakers.filter(e=>t===e.id),(null===(e=this.caretakers)||void 0===e?void 0:e.length)&&(this.selectedCaretaker=this.caretakers[0])}else this.staff?(this.caretakers=this.caretakers.filter(t=>this.staff===t.id),(null===(n=this.caretakers)||void 0===n?void 0:n.length)&&(this.selectedCaretaker=this.caretakers[0])):this.selectedCaretaker=this.caretakers[0];this.validateTMSData()})}setCommunicationMode(t){this.communicationMode=r.a[t],this.setActivityDetails(),this.validateTMSData()}setActivityDetails(t=!1){this.activity&&this.communicationMode&&this.activity.configs[this.communicationMode]&&(null==this.primaryDuration&&(this.duration=this.activity.configs[this.communicationMode].duration),t||(this.stickyNoteText?this._modalService.create({nzTitle:"Confirm",nzContent:"Changing the selected values will replace the note entered with a default note, do you want to proceed without replacing the note with the default one?",nzClosable:!1,nzCloseIcon:null,nzMaskClosable:!1,nzKeyboard:!1,nzOkText:"Yes",nzCancelText:"No",nzOnCancel:()=>{this.tmsNote=this.activity.configs[this.communicationMode].note,this.stickyNoteText=void 0}}):this.tmsNote=this.activity.configs[this.communicationMode].note),this.context=this.activity.configs[this.communicationMode].context)}setActivity(t,e,n=!1){t&&(this.type=t,this.communicationMode=e,this.activity=this.activities.find(e=>e.type===t),this.setActivityDetails(n),this.validateTMSData())}setCustomActivity(t){this.activity={name:t}}showTMSHistory(){this._modalService.create({nzContent:u.a,nzComponentParams:{patientId:this.patient.id,patientName:this.patient.name,episodeId:this.patient.episode.id,tmsType:this.serviceCode},nzWidth:725,nzBodyStyle:{height:"675px",overflowY:"scroll"},nzFooter:null})}generateTMSRequestObject(){var t,e;return{id:this.patientCommunicationId,patientId:this.patient.id,episodeId:this.patient.episode.id,staffId:this.selectedCaretaker.id,startTime:null===(t=this.startDate)||void 0===t?void 0:t.getTime(),endTime:(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,notes:this.tmsNote,mode:this.communicationMode,activity:this.activity.name,dxCodes:this.selectedDxCodes,context:this.context,billable:this.billable,serviceCode:this.serviceCode,mdmOccurred:this.mdm,encounterOccurred:this.encounter,timerId:this.timerId,noteUpdateReason:this.noteUpdateReason,updateHistory:this.updateHistory}}save(){this.primaryDuration!=this.duration&&null!=this.primaryDuration||1!=this.primaryBillable||null!=this.primaryMDM||null!=this.primaryEncounter||null!=this.primaryActivity||null!=this.primaryTmsNote||null!=this.primaryMode?this.primaryDuration!=this.duration||this.billable!=this.primaryBillable||this.primaryMDM!=this.mdm||this.primaryEncounter!=this.encounter||this.activity.name!=this.primaryActivity||this.tmsNote!=this.primaryTmsNote||this.communicationMode!=this.primaryMode?(this.primaryDuration!=this.duration&&null!=this.primaryDuration&&(this.isUpdateTimeModalVisible=!0,this.isCMTTimeUpdatedManually=!0),this.activity.name!=this.primaryActivity&&null!=this.primaryActivity&&(this.isUpdateActivityModalVisible=!0),this.tmsNote!=this.primaryTmsNote&&null!=this.primaryTmsNote&&(this.isUpdateTmsNoteModalVisible=!0),this.primaryMode!=this.communicationMode&&null!=this.primaryMode&&(this.isUpdateModeModalVisible=!0),this.billable==this.primaryBillable&&this.mdm==this.primaryMDM&&this.encounter==this.primaryEncounter||this.submitUpdateBillableReason()):(this.isCMTTimeUpdatedManually=!1,this.proceedToSave()):this.proceedToSave()}saveUpdatedReasons(){let t={reason:this.billableUpdateReason},e={reason:this.activityUpdateReason},n={reason:this.tmsNoteUpdateReason},i={reason:this.modeUpdateReason};this.updateHistory.timeUpdateHistory={reason:this.timeUpdateReason},this.updateHistory.billableUpdateHistory=t,this.updateHistory.activityUpdateHistory=e,this.updateHistory.noteUpdateHistory=n,this.updateHistory.communicationModeUpdateHistory=i,this.isUpdateTimeModalVisible||this.isUpdateActivityModalVisible||this.isUpdateTmsNoteModalVisible||this.isUpdateModeModalVisible||this.proceedToSave()}submitUpdateReason(){this.reasonForChange?(this.isNoteRequired=!1,this.isUpdateTimeModalVisible=!1,this.reasonUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.timeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryDuration+" to "+this.duration+" minutes </strong> on <strong>"+this.reasonUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForChange+"</br></br>",this.saveUpdatedReasons()):this.isNoteRequired=!0}closeUpdateModal(){this.timeUpdateReason="",this.duration=this.primaryDuration,this.isUpdateTimeModalVisible=!1}submitUpdateBillableReason(){this.billableUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.primaryBillable!=this.billable&&null!=this.primaryBillable&&(this.primaryBillable?(this.primaryBillableNote="Billable",this.updatedBillableNote="Non-Billable"):(this.primaryBillableNote="Non-Billable",this.updatedBillableNote="Billable"),this.billableUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryBillableNote+" to "+this.updatedBillableNote+"</strong> on <strong>"+this.billableUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong></br></br>"),this.primaryMDM!=this.mdm&&null!=this.primaryMDM&&(this.primaryMDM?(this.primaryBillableNote="MDM",this.updatedBillableNote="Non-MDM"):(this.primaryBillableNote="Non-MDM",this.updatedBillableNote="MDM"),this.billableUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryBillableNote+" to "+this.updatedBillableNote+"</strong> on <strong>"+this.billableUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong></br></br>"),this.primaryEncounter!=this.encounter&&null!=this.primaryEncounter&&(this.primaryEncounter?(this.primaryBillableNote="Encounter",this.updatedBillableNote="Non-Encounter"):(this.primaryBillableNote="Non-Encounter",this.updatedBillableNote="Encounter"),this.billableUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryBillableNote+" to "+this.updatedBillableNote+"</strong> on <strong>"+this.billableUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong></br></br>"),this.saveUpdatedReasons()}closeBillableModal(){this.billableUpdateReason="",this.billable=this.primaryBillable,this.isUpdateBillableModalVisible=!1}submitUpdateActivityReason(){this.reasonForActivityUpdate?(this.isActivityNoteRequired=!1,this.isUpdateActivityModalVisible=!1,this.activityUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.activityUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryActivity+" to "+this.activity.name+"</strong> on <strong>"+this.activityUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForActivityUpdate+"</br></br>",this.saveUpdatedReasons()):this.isActivityNoteRequired=!0}closeActivityModal(){this.activityUpdateReason="",this.activity.name=this.primaryActivity,this.setActivity(this.primaryActivity,this.communicationMode,!0),this.isUpdateActivityModalVisible=!1}submitTmsUpdateReason(){this.reasonForTmsNoteUpdate?(this.isTmsNoteRequired=!1,this.isUpdateTmsNoteModalVisible=!1,this.tmsNoteUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.tmsNoteUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryTmsNote+" to "+this.tmsNote+"</strong> on <strong>"+this.tmsNoteUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForTmsNoteUpdate+"</br></br>",this.saveUpdatedReasons()):this.isTmsNoteRequired=!0}closeTmsUpdateModal(){this.tmsNoteUpdateReason="",this.tmsNote=this.primaryTmsNote,this.isUpdateTmsNoteModalVisible=!1}submitModeUpdateReason(){if(!this.reasonForModeUpdate)return void(this.isModeNoteRequired=!0);let t,e;this.isModeNoteRequired=!1,this.isUpdateModeModalVisible=!1,this.modeUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"});for(let n of this.communicationModes)if(n.type==this.primaryMode&&(t=n.name),n.type==this.communicationMode&&(e=n.name),t&&e)break;this.modeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+t+" to "+e+"</strong> on <strong>"+this.modeUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForModeUpdate+"</br></br>",this.saveUpdatedReasons()}closeModeUpdateModal(){this.modeUpdateReason="",this.communicationMode=this.primaryMode,this.isUpdateModeModalVisible=!1}proceedToSave(){var t,e;this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryBillable=this.billable,this.primaryMDM=this.mdm,this.primaryEncounter=this.encounter,this.primaryMode=this.communicationMode;const n=this.validateTMSData();this._patientCommunicationValidator.showErrors(n),this.loading=!0,this._episodesService.validateStartEndTime(this.patient.id,null===(t=this.startDate)||void 0===t?void 0:t.getTime(),(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,this.patientCommunicationId).subscribe(t=>{if(t&&t.length)return this._notificationsService.error("CMT","Start time or End time overlap previous CMT record"),void(this.loading=!1);const e=this.generateTMSRequestObject();(null==e?void 0:e.id)?this._episodesService.updatePatientCommunication(e).subscribe(t=>{this._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_UPDATED",value:e}),this._notificationsService.success("CMT Updated",null==t?void 0:t.message),"GLOBAL_TIMER"==this.referrer?this.closeModalObject({mode:this.communicationMode,billable:this.billable}):this.closeModal(!0),this.loading=!1}):this._episodesService.savePatientCommunication(e).subscribe(t=>{this._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e}),this._notificationsService.success("CMT Recorded",null==t?void 0:t.message),"GLOBAL_TIMER"==this.referrer?this.closeModalObject({mode:this.communicationMode,billable:this.billable}):this.closeModal(!0),this.loading=!1,this.draftHelper.removeTimeTrackingNotes(this.patient.id)})})}closeModal(t){this._modalRef.close(t)}closeModalObject(t){this._modalRef.close(t)}setTemplate(t){this.tmsNote=t}}return t.\u0275fac=function(e){return new(e||t)(g.Rb(o.a),g.Rb(l.a),g.Rb(m.e),g.Rb(f.b),g.Rb(m.f),g.Rb(p.a),g.Rb(i.a),g.Rb(b.a))},t.\u0275cmp=g.Lb({type:t,selectors:[["app-ccm-tms"]],inputs:{patient:"patient",blueprint:"blueprint",serviceCode:"serviceCode",staff:"staff",timerId:"timerId",draftId:"draftId",referrer:"referrer",editCMT:"editCMT",autoCMTOverRide:"autoCMTOverRide",stickyNote:"stickyNote",appointmentTime:"appointmentTime"},features:[g.Cb([o.a])],decls:140,vars:92,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],[1,"body-container"],["cdkDragHandle",""],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],[1,"label"],["nzFormat","dd-MMM-yyyy HH:mm","nzSize","small",3,"nzShowTime","nzPlaceHolder","ngModel","nzDisabledDate","ngStyle","ngModelChange"],["id","caretakers",3,"ngModel","nzSize","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-row","","nzGutter","2"],["nz-col","","nzSpan","24"],["id","activity-label"],["nz-row","","nzGutter","2",1,"centerize"],[3,"nzColor","nzMode","click"],["nz-row",""],["nz-col","","nzSpan","2"],["nz-col","","nzSpan","22",4,"ngIf"],["nz-col","","nzSpan","22"],["id","dxCodes","nzPlaceHolder","Select at least 2 diagnosis codes","nzMode","multiple","nzMaxMultipleCount","4",3,"ngModel","nzDisabled","ngModelChange"],[4,"ngFor","ngForOf"],["nz-row","",4,"ngIf"],["nz-row","","nzGutter","8","nzAlign","middle"],["nz-col","","nzSpan","4",2,"padding-bottom","8px"],["nz-col","","nzSpan","4",4,"ngFor","ngForOf"],[3,"duration","durationChange"],["nz-col","","nzSpan","8",1,"centerize"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nzSize","small",3,"ngModel","ngModelChange"],["nz-radio","",3,"nzValue"],["nz-col","","nzSpan","24","id","tms-notes-label"],["placeholder","Add a note..",3,"ngModel","config","ngModelChange"],["note",""],[3,"note","onTemplateSelected"],[3,"loadingState","validationState","compact","roundedButtons","showHistory","save"],["nzTitle","Please enter the reason for updating CMT minutes",3,"nzVisible","nzFooter","nzVisibleChange"],["nz-input","","placeholder","Enter your reason for updating here",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"reason-update-btn-div"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",1,"reason-update-btn",3,"click"],["nzTitle","Please enter the reason for updating CMT Activity",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Note",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Communication Mode",3,"nzVisible","nzFooter","nzVisibleChange"],[3,"nzLabel","nzValue"],["id","activities","nzPlaceHolder","Select Activity",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel"],["id","activities","ngModel","","placeholder","Enter custom activity...","nz-input","",3,"ngModelChange"],[3,"nzValue","nzLabel",4,"ngIf"],["nz-col","","nzSpan","22","nzOffset","2"],["nz-typography","","nzType","danger"],["nz-col","","nzSpan","4"],[3,"label","type","selectedType","labelChange","typeChange","selectedTypeChange","select"],["size","16px",3,"name",4,"ngIf"],["size","16px",3,"name"],[1,"reason-update-error",2,"color","red"]],template:function(t,e){1&t&&(g.Xb(0,"div",0),g.Xb(1,"div",1),g.Xb(2,"div",2),g.Xb(3,"div",3),g.Xb(4,"div",4),g.Xb(5,"strong",5),g.Xc(6,"Start Time: "),g.Wb(),g.Xc(7," \xa0\xa0 "),g.Xb(8,"nz-date-picker",6),g.ec("ngModelChange",function(t){return e.startDate=t})("ngModelChange",function(){return e.validateTMSData()}),g.jc(9,"translate"),g.Wb(),g.Wb(),g.Xb(10,"div",4),g.Xb(11,"strong",5),g.Xc(12),g.jc(13,"translate"),g.Wb(),g.Xc(14," \xa0\xa0 "),g.Xb(15,"nz-select",7),g.ec("ngModelChange",function(t){return e.selectedCaretaker=t}),g.Vc(16,V,1,3,"nz-option",8),g.Wb(),g.Wb(),g.Wb(),g.Sb(17,"br"),g.Xb(18,"div",9),g.Xb(19,"div",10),g.Xb(20,"strong",11),g.Xc(21,"Choose a CMT Activity"),g.Wb(),g.Wb(),g.Wb(),g.Xb(22,"div",12),g.Xb(23,"div",10),g.Xb(24,"nz-tag",13),g.ec("click",function(){return e.setActivity("ONBOARDING","OTHER")}),g.Xc(25),g.jc(26,"translate"),g.Wb(),g.Xb(27,"nz-tag",13),g.ec("click",function(){return e.setActivity("DATA_REVIEW_EHR","OTHER")}),g.Xc(28),g.jc(29,"translate"),g.Wb(),g.Xb(30,"nz-tag",13),g.ec("click",function(){return e.setActivity("DATA_REVIEW_MD","OTHER")}),g.Xc(31),g.jc(32,"translate"),g.Wb(),g.Xb(33,"nz-tag",13),g.ec("click",function(){return e.setActivity("ALERT_MANAGEMENT","CALL")}),g.Xc(34),g.jc(35,"translate"),g.Wb(),g.Xb(36,"nz-tag",13),g.ec("click",function(){return e.setActivity("ESCALATION","OTHER")}),g.Xc(37),g.jc(38,"translate"),g.Wb(),g.Wb(),g.Wb(),g.Xb(39,"div",12),g.Xb(40,"div",10),g.Xb(41,"nz-tag",13),g.ec("click",function(){return e.setActivity("CARE_PLAN_MODIFICATION","OTHER")}),g.Xc(42," PoC Modification"),g.Wb(),g.Xb(43,"nz-tag",13),g.ec("click",function(){return e.setActivity("CARE_COORDINATION","OTHER")}),g.Xc(44," Care Coordination"),g.Wb(),g.Xb(45,"nz-tag",13),g.ec("click",function(){return e.setActivity("MEDICATION_REVIEW","OTHER")}),g.Xc(46," Medication Review"),g.Wb(),g.Xb(47,"nz-tag",13),g.ec("click",function(){return e.setActivity("ASSESSMENT_REVIEW","CALL")}),g.Xc(48," Assessment Forms"),g.Wb(),g.Xb(49,"nz-tag",13),g.ec("click",function(){return e.setActivity("OTHERS","CALL")}),g.Xc(50," Others"),g.Wb(),g.Wb(),g.Wb(),g.Sb(51,"br"),g.Xb(52,"div",14),g.Xb(53,"div",15),g.Xb(54,"strong",11),g.Xc(55),g.jc(56,"translate"),g.Wb(),g.Wb(),g.Vc(57,U,3,2,"div",16),g.Vc(58,F,2,0,"div",16),g.Wb(),g.Sb(59,"br"),g.Xb(60,"div",14),g.Xb(61,"div",15),g.Xb(62,"strong",11),g.Xc(63,"Dx"),g.Xb(64,"sup"),g.Xc(65,"*"),g.Wb(),g.Wb(),g.Wb(),g.Xb(66,"div",17),g.Xb(67,"nz-select",18),g.ec("ngModelChange",function(t){return e.selectedDxCodes=t})("ngModelChange",function(){return e.validateTMSData()}),g.Vc(68,B,2,1,"ng-container",19),g.Wb(),g.Wb(),g.Wb(),g.Vc(69,j,4,0,"div",20),g.Sb(70,"br"),g.Xb(71,"div",14),g.Xb(72,"div",10),g.Xb(73,"div",21),g.Xb(74,"div",22),g.Xb(75,"strong",5),g.Xc(76),g.jc(77,"translate"),g.Wb(),g.Wb(),g.Vc(78,Y,3,4,"div",23),g.Wb(),g.Wb(),g.Xb(79,"div",10),g.Xb(80,"app-time-selector",24),g.ec("durationChange",function(t){return e.validateTMSData(t)}),g.Wb(),g.Wb(),g.Wb(),g.Sb(81,"br"),g.Xb(82,"div",3),g.Xb(83,"div",25),g.Xb(84,"label",26),g.ec("ngModelChange",function(t){return e.mdm=t}),g.Xc(85,"MDM"),g.Wb(),g.Wb(),g.Xb(86,"div",25),g.Xb(87,"nz-radio-group",27),g.ec("ngModelChange",function(t){return e.billable=t})("ngModelChange",function(){return e.validateTMSData()}),g.Xb(88,"label",28),g.Xc(89,"Billable"),g.Wb(),g.Xb(90,"label",28),g.Xc(91,"Non-Billable"),g.Wb(),g.Wb(),g.Wb(),g.Xb(92,"div",25),g.Xb(93,"label",26),g.ec("ngModelChange",function(t){return e.encounter=t}),g.Xc(94,"Encounter"),g.Wb(),g.Wb(),g.Wb(),g.Wb(),g.Xb(95,"div",3),g.Xb(96,"div",29),g.Xc(97," Add notes: "),g.Wb(),g.Xb(98,"div",10),g.Xb(99,"angular-editor",30,31),g.ec("ngModelChange",function(t){return e.tmsNote=t})("ngModelChange",function(){return e.validateTMSData()}),g.Wb(),g.Wb(),g.Wb(),g.Sb(101,"br"),g.Xb(102,"div",3),g.Xb(103,"div",4),g.Xb(104,"app-note-template-picker",32),g.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),g.Wb(),g.Wb(),g.Wb(),g.Sb(105,"br"),g.Sb(106,"br"),g.Xb(107,"app-footer-actions",33),g.ec("showHistory",function(){return e.showTMSHistory()})("save",function(){return e.save()}),g.Wb(),g.Wb(),g.Wb(),g.Xb(108,"nz-modal",34),g.ec("nzVisibleChange",function(t){return e.isUpdateTimeModalVisible=t}),g.Xb(109,"input",35),g.ec("ngModelChange",function(t){return e.reasonForChange=t}),g.Wb(),g.Vc(110,$,3,0,"ng-container",36),g.Xb(111,"div",37),g.Xb(112,"button",38),g.ec("click",function(){return e.closeUpdateModal()}),g.Xc(113,"Cancel"),g.Wb(),g.Xb(114,"button",39),g.ec("click",function(){return e.submitUpdateReason()}),g.Xc(115,"Save"),g.Wb(),g.Wb(),g.Wb(),g.Xb(116,"nz-modal",40),g.ec("nzVisibleChange",function(t){return e.isUpdateActivityModalVisible=t}),g.Xb(117,"input",35),g.ec("ngModelChange",function(t){return e.reasonForActivityUpdate=t}),g.Wb(),g.Vc(118,q,3,0,"ng-container",36),g.Xb(119,"div",37),g.Xb(120,"button",38),g.ec("click",function(){return e.closeActivityModal()}),g.Xc(121,"Cancel"),g.Wb(),g.Xb(122,"button",39),g.ec("click",function(){return e.submitUpdateActivityReason()}),g.Xc(123,"Save"),g.Wb(),g.Wb(),g.Wb(),g.Xb(124,"nz-modal",41),g.ec("nzVisibleChange",function(t){return e.isUpdateTmsNoteModalVisible=t}),g.Xb(125,"input",35),g.ec("ngModelChange",function(t){return e.reasonForTmsNoteUpdate=t}),g.Wb(),g.Vc(126,Z,3,0,"ng-container",36),g.Xb(127,"div",37),g.Xb(128,"button",38),g.ec("click",function(){return e.closeTmsUpdateModal()}),g.Xc(129,"Cancel"),g.Wb(),g.Xb(130,"button",39),g.ec("click",function(){return e.submitTmsUpdateReason()}),g.Xc(131,"Save"),g.Wb(),g.Wb(),g.Wb(),g.Xb(132,"nz-modal",42),g.ec("nzVisibleChange",function(t){return e.isUpdateModeModalVisible=t}),g.Xb(133,"input",35),g.ec("ngModelChange",function(t){return e.reasonForModeUpdate=t}),g.Wb(),g.Vc(134,Q,3,0,"ng-container",36),g.Xb(135,"div",37),g.Xb(136,"button",38),g.ec("click",function(){return e.closeModeUpdateModal()}),g.Xc(137,"Cancel"),g.Wb(),g.Xb(138,"button",39),g.ec("click",function(){return e.submitModeUpdateReason()}),g.Xc(139,"Save"),g.Wb(),g.Wb(),g.Wb()),2&t&&(g.Db(8),g.sc("nzPlaceHolder",g.kc(9,72,"TABLEHEADER.STARTTIME")),g.rc("nzShowTime",g.xc(90,K))("ngModel",e.startDate)("nzDisabledDate",e.disabledDate)("ngStyle",g.xc(91,J)),g.Db(4),g.Zc("",g.kc(13,74,"PATIENT.MONITORING_STAFF"),": "),g.Db(3),g.rc("ngModel",e.selectedCaretaker)("nzSize","small"),g.Db(1),g.rc("ngForOf",e.caretakers),g.Db(8),g.rc("nzColor","ONBOARDING"===e.type?"green":null)("nzMode","default"),g.Db(1),g.Yc(g.kc(26,76,"TMS.ONBOARDING")),g.Db(2),g.rc("nzColor","DATA_REVIEW_EHR"===e.type?"green":null)("nzMode","default"),g.Db(1),g.Zc(" ",g.kc(29,78,"TMS.DATA_REVIEW_EHR"),""),g.Db(2),g.rc("nzColor","DATA_REVIEW_MD"===e.type?"green":null)("nzMode","default"),g.Db(1),g.Zc(" ",g.kc(32,80,"TMS.DATA_REVIEW_MD"),""),g.Db(2),g.rc("nzColor","ALERT_MANAGEMENT"===e.type?"green":null)("nzMode","default"),g.Db(1),g.Zc(" ",g.kc(35,82,"TMS.MANAGING_ALERTS"),""),g.Db(2),g.rc("nzColor","ESCALATION"===e.type?"green":null)("nzMode","default"),g.Db(1),g.Yc(g.kc(38,84,"TMS.ESCALATION")),g.Db(4),g.rc("nzColor","CARE_PLAN_MODIFICATION"===e.type?"green":null)("nzMode","default"),g.Db(2),g.rc("nzColor","CARE_COORDINATION"===e.type?"green":null)("nzMode","default"),g.Db(2),g.rc("nzColor","MEDICATION_REVIEW"===e.type?"green":null)("nzMode","default"),g.Db(2),g.rc("nzColor","ASSESSMENT_REVIEW"===e.type?"green":null)("nzMode","default"),g.Db(2),g.rc("nzColor","OTHERS"===e.type?"green":null)("nzMode","default"),g.Db(6),g.Zc("",g.kc(56,86,"TMS.OTHER"),": "),g.Db(2),g.rc("ngIf","OTHERS"!==e.type),g.Db(1),g.rc("ngIf","OTHERS"===e.type),g.Db(9),g.rc("ngModel",e.selectedDxCodes)("nzDisabled",!e.billable),g.Db(1),g.rc("ngForOf",null==e.patient?null:e.patient.dxCodes),g.Db(1),g.rc("ngIf",e.billable&&2>(null==e.selectedDxCodes?null:e.selectedDxCodes.length)),g.Db(7),g.Zc("",g.kc(77,88,"TMS.COMMUNICATION_MODE"),": "),g.Db(2),g.rc("ngForOf",e.communicationModes),g.Db(2),g.rc("duration",e.duration),g.Db(4),g.rc("ngModel",e.mdm),g.Db(3),g.rc("ngModel",e.billable),g.Db(1),g.rc("nzValue",!0),g.Db(2),g.rc("nzValue",!1),g.Db(3),g.rc("ngModel",e.encounter),g.Db(6),g.rc("ngModel",e.tmsNote)("config",e.config),g.Db(5),g.rc("note",e.tmsNote),g.Db(3),g.rc("loadingState",e.loading)("validationState",e.validated)("compact",!0)("roundedButtons",!0),g.Db(1),g.rc("nzVisible",e.isUpdateTimeModalVisible)("nzFooter",null),g.Db(1),g.rc("ngModel",e.reasonForChange),g.Db(1),g.rc("ngIf",e.isNoteRequired),g.Db(6),g.rc("nzVisible",e.isUpdateActivityModalVisible)("nzFooter",null),g.Db(1),g.rc("ngModel",e.reasonForActivityUpdate),g.Db(1),g.rc("ngIf",e.isActivityNoteRequired),g.Db(6),g.rc("nzVisible",e.isUpdateTmsNoteModalVisible)("nzFooter",null),g.Db(1),g.rc("ngModel",e.reasonForTmsNoteUpdate),g.Db(1),g.rc("ngIf",e.isTmsNoteRequired),g.Db(6),g.rc("nzVisible",e.isUpdateModeModalVisible)("nzFooter",null),g.Db(1),g.rc("ngModel",e.reasonForModeUpdate),g.Db(1),g.rc("ngIf",e.isModeNoteRequired))},directives:[v.a,v.b,S.c,S.a,T.a,C.u,C.x,E.r,I.d,E.p,M.a,E.q,y.a,A.a,_.c,_.b,D.a,z.a,O.a,m.a,N.b,C.d,P.a,R.a,X.a,I.a,L.a,w.a,W.a],pipes:[k.a],styles:["#wrapper[_ngcontent-%COMP%]{font-size:12px}#heading[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color)}[_nghost-%COMP%]     .ant-modal-body{padding-top:0}.reason-update-error[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;height:10px;max-height:10px}.reason-update-btn-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:20px}.reason-update-btn[_ngcontent-%COMP%]{margin-left:10px}strong[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-input.ant-input-sm{border:none;font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-icon{color:var(--primary-color)}.label[_ngcontent-%COMP%]{color:var(--tertiary-color);font-size:11px}#activity[_ngcontent-%COMP%]{float:right;width:20px;height:20px;font-size:10px}#tms-notes[_ngcontent-%COMP%]{background:#fff 0 0 no-repeat padding-box;padding:2%;resize:none;font-size:12px}.centerize[_ngcontent-%COMP%]{text-align:center}#caretakers[_ngcontent-%COMP%]{width:200px;font-size:12px;color:var(--light-black)}[_nghost-%COMP%]     .ant-select-selection{border:none}[_nghost-%COMP%]     .ant-select-arrow{color:var(--primary-color)}[_nghost-%COMP%]     .ant-tag{height:30px;width:120px;border:1px solid var(--grey);border-radius:3px;font-size:10px;line-height:3;overflow-x:hidden;overflow-y:hidden;color:#000}.ant-tag-green[_ngcontent-%COMP%]{color:var(--neutral-color);background:var(--primary-color);border:1px solid var(--primary-color)}#activity-label[_ngcontent-%COMP%]{line-height:3}#activities[_ngcontent-%COMP%]{width:100%;background:#fbfbfb 0 0 no-repeat padding-box;border-radius:5px;font-size:12px}app-icons[_ngcontent-%COMP%]{vertical-align:sub}.body-container[_ngcontent-%COMP%]{margin-top:25px}#tms-notes-label[_ngcontent-%COMP%]{padding-top:8px}"]}),t})()},IOC6:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR");let a=(()=>{class t{}return t.rootUrl=i.g.url,t.CHECKIN_CHECKOUT_BASE_URL=t.rootUrl+"/v3/checkin-checkout/",t.CHECKIN_URL=t.CHECKIN_CHECKOUT_BASE_URL+"checkin",t.CHECKOUT_URL=t.CHECKIN_CHECKOUT_BASE_URL+"checkout",t.ACTIVE_SESSION_URL=t.CHECKIN_CHECKOUT_BASE_URL+"active-session",t.CONTINUE_SESSION_URL=t.CHECKIN_CHECKOUT_BASE_URL+"continue-session",t.SMS_TEMPLATE_BASE_URL=t.rootUrl+"/v3/sms-template/",t.SMS_TEMPLATE_LIST_URL=t.SMS_TEMPLATE_BASE_URL+"?limit=",t.SMS_TEMPLATE_SAVE_URL=t.SMS_TEMPLATE_BASE_URL+"create/",t.SMS_TEMPLATE_UPDATE_URL=t.SMS_TEMPLATE_BASE_URL+"update/",t.SMS_TEMPLATE_DELETE_URL=t.SMS_TEMPLATE_BASE_URL,t.SMS_TEMPLATE_VALIDATE_URL=t.SMS_TEMPLATE_BASE_URL+"validate/duplicate/template",t})();var o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t){this._http=t}getSMSTemplates(t,e,n=null){let i=a.SMS_TEMPLATE_LIST_URL+t+"&offset="+e;return(null==n?void 0:n.length)&&(i+="&tags="+n),this._http.get(i)}saveTemplate(t){return this._http.post(a.SMS_TEMPLATE_SAVE_URL,t)}updateTemplate(t){return this._http.put(a.SMS_TEMPLATE_UPDATE_URL,t)}deleteTemplate(t){return this._http.delete(a.SMS_TEMPLATE_DELETE_URL+t)}validateTemplate(t){return this._http.post(a.SMS_TEMPLATE_VALIDATE_URL,{template:t.template,title:t.title}).pipe(t=>t)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},IQJ1:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.JSON="JSON",t.XLS="XLS",t}({})},IVUT:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("AytR"),a=n("fXoL"),o=n("tk/3");let s=(()=>{class t{constructor(t){this._http=t,this.rootUrl=i.g.url}addNewLead(t){const e=localStorage.getItem("loggedInTenant"),n=localStorage.getItem("loggedInUser");return t.tenantId=e,t.createdBy=n,this._http.post(this.rootUrl+"/v2/leads",JSON.stringify(t))}updateLead(t,e){return this._http.put(this.rootUrl+"/v2/leads/"+e,t)}getLeads(t,e,n,i){const a=localStorage.getItem("loggedInUser");let o=this.rootUrl+"/v2/leads/users/"+a+"?status="+n+"&offset="+i;return 0!=t&&(o=o+"&starttime="+t),0!=e&&(o=o+"&endtime="+e),this._http.get(o)}searchLeads(t){const e=localStorage.getItem("loggedInUser");let n=this.rootUrl+"/v2/leads/search/"+e+"?limit="+t.limit+"&offset="+t.offset+"&order="+t.order;return t.status&&(n=n+"&status="+t.status),t.language&&(n=n+"&language="+t.language),t.physicianId&&(n=n+"&physicianId="+t.physicianId),t.site&&(n=n+"&site="+t.site),t.query&&null!=t.query&&(n=n+"&query="+t.query),t.tier&&null!=t.tier&&(n=n+"&tier="+t.tier),t.requestTenantIds&&null!=t.requestTenantIds&&(n=n+"&requestTenantIds="+t.requestTenantIds),this._http.get(n)}getSpecificLeadForUser(t){return this._http.get(this.rootUrl+"/v2/leads/"+t)}getAllNotesForLead(t){return this._http.get(this.rootUrl+"/v2/leads/"+t+"/notes")}markAsLost(t,e,n){return this._http.put(`${this.rootUrl}/v2/leads/${t}/${e}/markAsLost`,{reason:n})}addNewNoteForLead(t){const e=localStorage.getItem("loggedInTenant");return t.tenantId=e,this._http.post(this.rootUrl+"/v2/leads/"+t.leadId+"/notes",JSON.stringify(t))}convertLeadToPatient(t,e){return this._http.put(this.rootUrl+"/v2/leads/"+t+"/convert-to-patient/"+e,{})}getAllFollowUpsForLead(t){return this._http.get(this.rootUrl+"/v2/leads/"+t+"/follow-ups")}addNewFollowUp(t){return this._http.post(this.rootUrl+"/v2/leads/follow-ups",JSON.stringify(t))}getAllFollowUpsForUser(){const t=localStorage.getItem("loggedInUser");return this._http.get(this.rootUrl+"/v2/leads/users/"+t+"/follow-ups")}deleteSpecificLead(t){return this._http.delete(this.rootUrl+"/v2/leads/"+t,{observe:"response",responseType:"text"})}getNewRegistrationRequests(){const t=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/leads/registration-requests/"+t)}generateLeadReport(t,e){let n=this.rootUrl+"/v3/analytics/patient-intake-report?reportType=EXCEL";return null==t&&null==t||(n=n+"&startDate="+t),null==e&&null==e||(n=n+"&endDate="+e),this._http.get(n)}validateBulkLeads(t){return this._http.post(this.rootUrl+"/v2/bulk-upload/validate-leads",JSON.stringify(t))}bulkUploadLeads(t){return this._http.post(this.rootUrl+"/v2/bulk-upload/leads",JSON.stringify(t))}updateChecklist(t){return this._http.post(this.rootUrl+"/v2/checklist",JSON.stringify(t))}getChecklist(t,e="ENROLMENT",n="DRAFT",i=!1){return this._http.get(`${this.rootUrl}/v2/checklist?userId=${t}&context=${e}&status=${n}&loadFromDraft=${i}`)}getChecklistForPreview(t,e=!0){return this._http.get(`${this.rootUrl}/v2/checklist?userId=${t}&preview=${e}`)}getChecklistHistory(t,e=!0){return this._http.get(`${this.rootUrl}/v2/checklist/user/${t}?preview=${e}`)}submitChecklist(t,e=null){return this._http.put(this.rootUrl+"/v2/checklist?checklistId="+t,e)}qualifyLeads(t){return this._http.put(this.rootUrl+"/v3/user-qualification/leads",t)}getAllLanguagesForLeads(){return this._http.get(this.rootUrl+"/v2/leads/available/languages")}createChecklistNote(t){return this._http.post(this.rootUrl+"/v2/checklist/generate-note",JSON.stringify(t))}}return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},IZEq:function(t,e,n){"use strict";n.d(e,"a",function(){return X});var i=n("WoUL"),a=n("sG7K"),o=n("x6g7"),s=n("i7mu"),r=n("fXoL"),c=n("dEAy"),l=n("bNXi"),d=n("B+r4"),u=n("PTRe"),p=n("3Pt+"),h=n("ofXK"),b=n("EGpF"),g=n("zAKX"),m=n("nJQN"),f=n("5vDB"),v=n("OzZK"),S=n("RwU8"),T=n("C2AL"),C=n("eHCX"),E=n("dRHE");function I(t,e){if(1&t&&(r.Xb(0,"container"),r.Xb(1,"p",27),r.Xc(2),r.Wb(),r.Wb()),2&t){const t=r.ic();r.Db(2),r.Zc(" ",t.nameError," ")}}function M(t,e){if(1&t&&r.Sb(0,"nz-option",28),2&t){const t=e.$implicit;r.rc("nzLabel",t.value)("nzValue",t.key)}}function y(t,e){if(1&t&&(r.Xb(0,"container"),r.Xb(1,"p",27),r.Xc(2),r.Wb(),r.Wb()),2&t){const t=r.ic();r.Db(2),r.Zc(" ",t.paramTypeError," ")}}function A(t,e){if(1&t&&(r.Sb(0,"nz-option",28),r.jc(1,"translate")),2&t){const t=e.$implicit;r.rc("nzLabel",r.kc(1,2,t.value))("nzValue",t.key)}}function _(t,e){if(1&t&&(r.Xb(0,"container"),r.Xb(1,"p",27),r.Xc(2),r.Wb(),r.Wb()),2&t){const t=r.ic();r.Db(2),r.Zc(" ",t.conditionError," ")}}function D(t,e){if(1&t&&r.Sb(0,"nz-option",28),2&t){const t=e.$implicit;r.rc("nzLabel",t.value)("nzValue",t.key)}}function z(t,e){if(1&t&&(r.Xb(0,"container"),r.Xb(1,"p",27),r.Xc(2),r.Wb(),r.Wb()),2&t){const t=r.ic();r.Db(2),r.Zc(" ",t.frequencyOccurenceError," ")}}function O(t,e){if(1&t&&r.Sb(0,"nz-option",28),2&t){const t=e.$implicit;r.rc("nzLabel",t.value)("nzValue",t.key)}}function N(t,e){if(1&t&&(r.Xb(0,"container"),r.Xb(1,"p",27),r.Xc(2),r.Wb(),r.Wb()),2&t){const t=r.ic();r.Db(2),r.Zc(" ",t.frequencyDaysError," ")}}function P(t,e){if(1&t&&(r.Xb(0,"container"),r.Xb(1,"p",27),r.Xc(2),r.Wb(),r.Wb()),2&t){const t=r.ic();r.Db(2),r.Zc(" ",t.priorityError," ")}}let R=(()=>{class t{constructor(t,e,n,i,a){this._vitalBlueprintsService=t,this._translationService=e,this._alertService=n,this._modalRef=i,this._notificationService=a,this.patientId=null,this.level=s.c.TENANT_LEVEL,this.mode="ADD",this.maxOccurenceLimit=5,this.maxDaysimit=5,this.loading=!1,this.occurences=new Map,this.withInDays=new Map,this.conditions=new Map([["LOW","ALERT.BELOW_LIMIT"],["HIGH","ALERT.ABOVE_LIMIT"]]),this.strings=["ALERT.FOR_CONSECUTIVE_READING","ALERT.WITHIN_DAYS"],this.translatedStrings=new Map,this.occurenceLoading=!1,this.vitalLoading=!1,this.vitalParamAndTypeMap=new Map,this.reset=()=>{"ADD"==this.mode?(this.alertPrioritisationRule=new s.a,this.initDefaultValues()):this.alertPrioritisationRule=JSON.parse(this.originalValueString)},this.cancel=()=>this._modalRef.close(!1)}ngOnInit(){"ADD"==this.mode?this.initDefaultValues():this.originalValueString=JSON.stringify(this.alertPrioritisationRule),this.loading=!0,this.occurenceLoading=!0,this.vitalLoading=!0,this._translationService.getMultiple(...this.strings).subscribe(t=>{this.translatedStrings=t;for(let e=2;e<=this.maxOccurenceLimit;e++)this.occurences.set(e,this.translatedStrings.get("ALERT.FOR_CONSECUTIVE_READING").replace("{COUNT}",e.toString()));for(let e=1;e<=this.maxOccurenceLimit;e++)this.withInDays.set(e,this.translatedStrings.get("ALERT.WITHIN_DAYS").replace("{COUNT}",e.toString()));this.occurenceLoading=!1}),this.getAllVitalBlueprintsOfPatient()}initDefaultValues(){this.alertPrioritisationRule=new s.a,this.alertPrioritisationRule.level=this.level,null!=this.patientId&&null!=this.patientId&&this.level==s.c.PATIENT_LEVEL&&(this.alertPrioritisationRule.patientId=this.patientId),this.alertPrioritisationRule.criteria=new Array;var t=new s.d;this.alertPrioritisationRule.criteria.push(t)}getAllVitalBlueprintsOfPatient(){this._vitalBlueprintsService.fetchVitalBlueprintsForTenant().subscribe(t=>{t&&(this.tenantVitalBlueprints=t.filter(t=>null==t?void 0:t.active),this.vitalAndUnitsMap=new Map,this.tenantVitalBlueprints.forEach(t=>{t.parameters.forEach(t=>this.vitalAndUnitsMap.set(t.type,t.label)),t.parameters.forEach(e=>this.vitalParamAndTypeMap.set(e.type,t.type))}))},()=>{},()=>this.vitalLoading=!1)}onChange(t,e){switch(e){case"VITAL_PARAMETER":this.alertPrioritisationRule.criteria[0].paramType=t,this.alertPrioritisationRule.criteria[0].parentType=this.vitalParamAndTypeMap.get(t);break;case"CONDITION":this.alertPrioritisationRule.criteria[0].condition=t;break;case"OCCURENCE":this.alertPrioritisationRule.criteria[0].frequency.occurrence=t;break;case"WITHIN_DAYS":this.alertPrioritisationRule.criteria[0].frequency.withInDays=t;break;case"PRIORITY":this.alertPrioritisationRule.priority=t}}isValid(){var t=new Map;return null!=this.alertPrioritisationRule&&null!=this.alertPrioritisationRule||t.set("*","Invalid Data"),this.alertPrioritisationRule.name?this.nameError=void 0:(t.set("NAME","Invalid Rule Name"),this.nameError="Invalid Rule Name"),this.alertPrioritisationRule.priority?this.priorityError=void 0:(t.set("PRIORITY","Invalid Priority"),this.priorityError="Invalid Priority"),null==this.alertPrioritisationRule.criteria||null==this.alertPrioritisationRule.criteria||0==this.alertPrioritisationRule.criteria.length||null==this.alertPrioritisationRule.criteria[0]||null==this.alertPrioritisationRule.criteria[0]?(t.set("CRITERIA","Invalid Criteria"),this.criteriaError="Invalid Criteria"):this.criteriaError=void 0,null==this.alertPrioritisationRule.criteria[0].condition||null==this.alertPrioritisationRule.criteria[0].condition?(t.set("CRITERIA.CONDITION","Invalid Criteria Condition"),this.conditionError="Invalid Criteria Condition"):this.conditionError=void 0,null==this.alertPrioritisationRule.criteria[0].operation||null==this.alertPrioritisationRule.criteria[0].operation?(t.set("CRITERIA.OPERATION","Invalid Criteria Operation"),this.operationError="Invalid Criteria Operation"):this.operationError=void 0,null==this.alertPrioritisationRule.criteria[0].frequency||null==this.alertPrioritisationRule.criteria[0].frequency||null==this.alertPrioritisationRule.criteria[0].frequency.occurrence||null==this.alertPrioritisationRule.criteria[0].frequency.occurrence||this.alertPrioritisationRule.criteria[0].frequency.occurrence<=0?(t.set("CRITERIA.FREQUENCY.OCCURENCE","Invalid Criteria Frequency Occurence"),this.frequencyOccurenceError="Invalid Criteria Frequency Occurence"):this.frequencyOccurenceError=void 0,null==this.alertPrioritisationRule.criteria[0].frequency.withInDays||null==this.alertPrioritisationRule.criteria[0].frequency.withInDays||this.alertPrioritisationRule.criteria[0].frequency.withInDays<=0?(t.set("CRITERIA.FREQUENCY.DAYS","Invalid Criteria Frequency Days"),this.frequencyDaysError="Invalid Criteria Frequency Days"):this.frequencyDaysError=void 0,null==this.alertPrioritisationRule.criteria[0].paramType||null==this.alertPrioritisationRule.criteria[0].paramType?(t.set("CRITERIA.PARAM","Invalid Criteria Vital Parameter"),this.paramTypeError="Invalid Criteria Vital Parameter"):this.paramTypeError=void 0,t}save(){this.isValid().size>0||(this.savebtnLoading=!0,"ADD"==this.mode?this._alertService.saveAlertRule(this.alertPrioritisationRule).subscribe(t=>{this.savebtnLoading=!1,this._modalRef.close(!0)},t=>{this.savebtnLoading=!1,this._notificationService.error("Alert","ALERT_RULE_PRIORITY_COUNT_CAP"==t.error.type?"Alert priority cap of "+t.error.parameters.CAP_COUNT+" is reached.":"Duplicate Alert")}):this._alertService.updateAlertRule(this.alertPrioritisationRule).subscribe(t=>{this.savebtnLoading=!1,this._modalRef.close(!0)},t=>{this.savebtnLoading=!1,this._notificationService.error("Alert","Duplicate Alert")}))}}return t.\u0275fac=function(e){return new(e||t)(r.Rb(a.a),r.Rb(i.a),r.Rb(o.a),r.Rb(c.e),r.Rb(l.b))},t.\u0275cmp=r.Lb({type:t,selectors:[["alert-escalation-add-edit"]],inputs:{patientId:"patientId",level:"level"},decls:73,vars:56,consts:[[1,"container"],["nz-row","","nzGutter","12",2,"margin-bottom","20px"],["nz-col","","nzSpan","14"],["nz-topography","","nzType","secondary",1,"label"],["nz-input","",3,"placeholder","ngModel","disabled","ngModelChange"],[4,"ngIf"],["nz-col","","nzSpan","7"],["nz-col","","nzSpan","3"],[3,"ngModel","ngModelChange"],["nz-row","","nzGutter","12",1,"alert-rule-container"],["nz-col","","nzSpan","2"],["nz-topography","","nzType","primary"],["nz-col","","nzSpan","10"],["nzShowSearch","",3,"nzPlaceHolder","ngModel","nzLoading","nzDisabled","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzShowSearch","","nzPlaceHolder","Select condition",3,"ngModel","nzDisabled","ngModelChange"],["nz-col","","nzSpan","2",1,"gap"],["nz-col","","nzSpan","10",1,"gap"],["nzShowSearch","","nzPlaceHolder","Select occurence",3,"ngModel","nzLoading","nzDisabled","ngModelChange"],["nzShowSearch","","nzPlaceHolder","within days",3,"ngModel","nzLoading","nzDisabled","ngModelChange"],[3,"priority","disabled","onPriorityChange"],["nz-row","","nzGutter","12"],["nz-button","","nzType","default","nzDanger","",3,"click"],["nz-col","","nzSpan","12"],["nz-col","","nzSpan","4"],["nz-col","","nzSpan","5"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-typography","","nzType","danger",1,"error-msg"],[3,"nzLabel","nzValue"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Xb(3,"p",3),r.Xc(4),r.jc(5,"translate"),r.Wb(),r.Xb(6,"input",4),r.ec("ngModelChange",function(t){return e.alertPrioritisationRule.name=t}),r.jc(7,"translate"),r.Wb(),r.Vc(8,I,3,1,"container",5),r.Wb(),r.Sb(9,"div",6),r.Xb(10,"div",7),r.Xb(11,"p",3),r.Xc(12),r.jc(13,"translate"),r.Wb(),r.Xb(14,"nz-switch",8),r.ec("ngModelChange",function(t){return e.alertPrioritisationRule.active=t}),r.Wb(),r.Wb(),r.Wb(),r.Xb(15,"div",9),r.Xb(16,"div",10),r.Xb(17,"p",11),r.Xc(18," If "),r.Wb(),r.Wb(),r.Xb(19,"div",12),r.Xb(20,"span"),r.Xb(21,"nz-select",13),r.ec("ngModelChange",function(t){return e.alertPrioritisationRule.criteria[0].paramType=t})("ngModelChange",function(t){return e.onChange(t,"VITAL_PARAMETER")}),r.jc(22,"translate"),r.Vc(23,M,1,2,"nz-option",14),r.jc(24,"keyvalue"),r.Wb(),r.Vc(25,y,3,1,"container",5),r.Wb(),r.Wb(),r.Xb(26,"div",10),r.Xb(27,"p",11),r.Xc(28," is "),r.Wb(),r.Wb(),r.Xb(29,"div",12),r.Xb(30,"nz-select",15),r.ec("ngModelChange",function(t){return e.alertPrioritisationRule.criteria[0].condition=t})("ngModelChange",function(t){return e.onChange(t,"CONDITION")}),r.Vc(31,A,2,4,"nz-option",14),r.jc(32,"keyvalue"),r.Wb(),r.Vc(33,_,3,1,"container",5),r.Wb(),r.Xb(34,"div",16),r.Xb(35,"p",11),r.Xc(36," For "),r.Wb(),r.Wb(),r.Xb(37,"div",17),r.Xb(38,"nz-select",18),r.ec("ngModelChange",function(t){return e.alertPrioritisationRule.criteria[0].frequency.occurrence=t})("ngModelChange",function(t){return e.onChange(t,"OCCURENCE")}),r.Vc(39,D,1,2,"nz-option",14),r.jc(40,"keyvalue"),r.Wb(),r.Vc(41,z,3,1,"container",5),r.Wb(),r.Xb(42,"div",16),r.Xb(43,"p",11),r.Xc(44," in "),r.Wb(),r.Wb(),r.Xb(45,"div",17),r.Xb(46,"span"),r.Xb(47,"nz-select",19),r.ec("ngModelChange",function(t){return e.alertPrioritisationRule.criteria[0].frequency.withInDays=t})("ngModelChange",function(t){return e.onChange(t,"WITHIN_DAYS")}),r.Vc(48,O,1,2,"nz-option",14),r.jc(49,"keyvalue"),r.Wb(),r.Vc(50,N,3,1,"container",5),r.Wb(),r.Wb(),r.Wb(),r.Xb(51,"div",9),r.Xb(52,"div",2),r.Xb(53,"p",11),r.Xc(54," then raise an alert. This alert\u2019s priority is "),r.Wb(),r.Wb(),r.Xb(55,"div",12),r.Xb(56,"app-alert-priority-dropdown",20),r.ec("onPriorityChange",function(t){return e.onChange(t,"PRIORITY")}),r.Wb(),r.Wb(),r.Vc(57,P,3,1,"container",5),r.Wb(),r.Sb(58,"nz-divider"),r.Xb(59,"div",21),r.Xb(60,"div",7),r.Xb(61,"button",22),r.ec("click",function(){return e.reset()}),r.Xc(62),r.jc(63,"translate"),r.Wb(),r.Wb(),r.Sb(64,"div",23),r.Xb(65,"div",24),r.Xb(66,"a",22),r.ec("click",function(){return e.cancel()}),r.Xc(67),r.jc(68,"translate"),r.Wb(),r.Wb(),r.Xb(69,"div",25),r.Xb(70,"button",26),r.ec("click",function(){return e.save()}),r.Xc(71),r.jc(72,"translate"),r.Wb(),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(4),r.Zc(" ",r.kc(5,34,"ALERT.RULE_NAME")," "),r.Db(2),r.sc("placeholder",r.kc(7,36,"ALERT.RULE_NAME")),r.rc("ngModel",e.alertPrioritisationRule.name)("disabled",!e.alertPrioritisationRule.active),r.Db(2),r.rc("ngIf",e.nameError),r.Db(4),r.Zc(" ",r.kc(13,38,"TABLEHEADER.ENABLED")," "),r.Db(2),r.rc("ngModel",e.alertPrioritisationRule.active),r.Db(7),r.sc("nzPlaceHolder",r.kc(22,40,"VITAL.SELECT_VITAL")),r.rc("ngModel",e.alertPrioritisationRule.criteria[0].paramType)("nzLoading",e.vitalLoading)("nzDisabled","EDIT"==e.mode),r.Db(2),r.rc("ngForOf",r.kc(24,42,e.vitalAndUnitsMap)),r.Db(2),r.rc("ngIf",e.paramTypeError),r.Db(5),r.rc("ngModel",e.alertPrioritisationRule.criteria[0].condition)("nzDisabled",!e.alertPrioritisationRule.active),r.Db(1),r.rc("ngForOf",r.kc(32,44,e.conditions)),r.Db(2),r.rc("ngIf",e.conditionError),r.Db(5),r.rc("ngModel",e.alertPrioritisationRule.criteria[0].frequency.occurrence)("nzLoading",e.occurenceLoading)("nzDisabled",!e.alertPrioritisationRule.active),r.Db(1),r.rc("ngForOf",r.kc(40,46,e.occurences)),r.Db(2),r.rc("ngIf",e.frequencyOccurenceError),r.Db(6),r.rc("ngModel",e.alertPrioritisationRule.criteria[0].frequency.withInDays)("nzLoading",e.vitalLoading)("nzDisabled",!e.alertPrioritisationRule.active),r.Db(1),r.rc("ngForOf",r.kc(49,48,e.withInDays)),r.Db(2),r.rc("ngIf",e.frequencyDaysError),r.Db(6),r.rc("priority",null==e.alertPrioritisationRule?null:e.alertPrioritisationRule.priority)("disabled",!e.alertPrioritisationRule.active),r.Db(1),r.rc("ngIf",e.priorityError),r.Db(5),r.Zc(" ",r.kc(63,50,"RESET")," "),r.Db(5),r.Zc(" ",r.kc(68,52,"COMMON.CANCEL")," "),r.Db(3),r.rc("nzLoading",e.savebtnLoading),r.Db(1),r.Zc(" ",r.kc(72,54,"COMMON.SAVE")," "))},directives:[d.c,d.a,u.b,p.d,p.u,p.x,h.q,b.a,g.d,h.p,m.a,f.a,v.a,S.a,T.a,C.a,g.a],pipes:[E.a,h.j],styles:[".comp-span[_ngcontent-%COMP%]{margin:10px;width:15%}.comp-priority-span[_ngcontent-%COMP%]{width:35%;padding:30px;display:flex;align-items:baseline}.priority-card[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding:30px 15px}.rule-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.gap[_ngcontent-%COMP%]{margin-top:10px}.alert-rule-container[_ngcontent-%COMP%]{padding:15px;display:flex;align-items:baseline;border-radius:5px;margin-bottom:20px}.label[_ngcontent-%COMP%]{color:#888;font-size:12px;margin-bottom:0}  .vertical-center-modal{display:flex;align-items:center;justify-content:center}  .vertical-center-modal .ant-modal{top:0}.container[_ngcontent-%COMP%]{padding:10px 0!important}[_nghost-%COMP%]     .ant-btn{border-width:1px}.error-msg[_ngcontent-%COMP%]{font-size:12px}"]}),t})(),X=(()=>{class t{constructor(t){this._modalService=t}showAlertRuleCreateModal(t=s.c.TENANT_LEVEL,e,n="ADD",i){return this._modalService.create({nzContent:R,nzComponentParams:{level:t,patientId:e,mode:n,alertPrioritisationRule:i},nzMask:!0,nzMaskClosable:!0,nzClosable:!0,nzWidth:500,nzWrapClassName:"vertical-center-modal",nzFooter:null,nzTitle:"ADD"==n?"Create an alert":"Update alert",nzBodyStyle:{paddingTop:"0px"}})}}return t.\u0275fac=function(e){return new(e||t)(r.bc(c.f))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Ifg2:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("JcrP"),a=n("fXoL");let o=(()=>{class t{constructor(){this.parse=t=>{const e=i.a(t.result,{type:"binary",cellDates:!0,cellNF:!1,cellText:!1});return e.SheetNames.reduce((t,n)=>(t[n]=i.b.sheet_to_json(e.Sheets[n],{raw:!1}),t),{})}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac}),t})()},Jlwr:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("AytR"),a=n("fXoL"),o=n("tk/3");let s=(()=>{class t{constructor(t){this._http=t,this.rootURL=i.g.url}initiateStaffSession(){return this._http.post(`${this.rootURL}/v3/staff-sessions`,{})}closeStaffSession(t){return this._http.put(`${this.rootURL}/v3/staff-sessions/${t}`,{})}updateStaffSession(t){return this._http.put(`${this.rootURL}/v3/staff-sessions/update-state`,t)}fetchStaffSession(t,e,n){let i=`${this.rootURL}/v3/staff-sessions/${t}?`;return e&&(i=`${i}startDate=${e}`),n&&(i=`${i}&endDate=${n}`),this._http.get(i)}fetchStaffSessionForTenant(t,e){let n=`${this.rootURL}/v3/staff-sessions/tenant?`;return t&&(n=`${n}startDate=${t}`),e&&(n=`${n}&endDate=${e}`),this._http.get(n)}fetchStaffSessionById(t){return this._http.get(`${this.rootURL}/v3/staff-sessions/id/${t}`)}fetchStaffSessionsSummary(t,e,n){let i=`${this.rootURL}/v3/staff-sessions/summary/${t}?`;return e&&(i=`${i}startDate=${e}`),n&&(i=`${i}&endDate=${n}`),this._http.get(i)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},KC2T:function(t,e,n){"use strict";n.d(e,"a",function(){return Z});var i=n("igu/"),a=n("FH+g"),o=n("OE57"),s=n("OTIt"),r=n("c/Vb"),c=n("ZVns"),l=n("fXoL"),d=n("dEAy"),u=n("bNXi"),p=n("ofXK"),h=n("eHCX"),b=n("JA5x"),g=n("B+r4"),m=n("0lU3"),f=n("3Pt+"),v=n("PTRe"),S=n("OzZK"),T=n("RwU8"),C=n("C2AL"),E=n("5vDB"),I=n("dRHE");function M(t,e){1&t&&(l.Xb(0,"div",12),l.Xb(1,"strong"),l.Xc(2),l.jc(3,"translate"),l.Wb(),l.Wb()),2&t&&(l.Db(2),l.Zc(" ",l.kc(3,1,"TABLEHEADER.ENDTIME")," "))}function y(t,e){1&t&&(l.Xb(0,"div",12),l.Xb(1,"strong"),l.Xc(2,"Total Time Spent"),l.Wb(),l.Wb())}function A(t,e){if(1&t&&(l.Xb(0,"div",12),l.Sb(1,"input",14),l.jc(2,"date"),l.Wb()),2&t){const t=l.ic(4);l.Db(1),l.rc("ngModel",l.lc(2,2,t.session.endTime,"mediumTime"))("disabled",!0)}}function _(t,e){if(1&t&&(l.Xb(0,"div",12),l.Sb(1,"input",14),l.Wb()),2&t){const t=l.ic(4);l.Db(1),l.rc("ngModel",t.duration)("disabled",!0)}}function D(t,e){if(1&t&&(l.Vb(0),l.Xb(1,"div",2),l.Xb(2,"div",12),l.Xb(3,"strong"),l.Xc(4),l.jc(5,"translate"),l.Wb(),l.Wb(),l.Vc(6,M,4,3,"div",13),l.Vc(7,y,3,0,"div",13),l.Wb(),l.Xb(8,"div",2),l.Xb(9,"div",12),l.Sb(10,"input",14),l.jc(11,"date"),l.Wb(),l.Vc(12,A,3,5,"div",13),l.Vc(13,_,2,2,"div",13),l.Wb(),l.Sb(14,"br"),l.Sb(15,"br"),l.Ub()),2&t){const t=l.ic(3);l.Db(4),l.Zc(" ",l.kc(5,7,"TABLEHEADER.STARTTIME")," "),l.Db(2),l.rc("ngIf",t.session.endTime),l.Db(1),l.rc("ngIf",t.duration),l.Db(3),l.rc("ngModel",l.lc(11,9,t.session.startTime,"mediumTime"))("disabled",!0),l.Db(2),l.rc("ngIf",t.session.endTime),l.Db(1),l.rc("ngIf",t.duration)}}function z(t,e){if(1&t){const t=l.Yb();l.Xb(0,"nz-card"),l.Xb(1,"div",2),l.Xb(2,"div",3),l.Xb(3,"strong"),l.Xc(4),l.jc(5,"translate"),l.Wb(),l.Wb(),l.Wb(),l.Xb(6,"div",2),l.Xb(7,"div",3),l.Xb(8,"nz-date-picker",4),l.ec("ngModelChange",function(e){return l.Lc(t),l.ic(2).appointment.schedule.startsOn=e}),l.Wb(),l.Wb(),l.Wb(),l.Sb(9,"br"),l.Sb(10,"br"),l.Vc(11,D,16,12,"ng-container",0),l.Xb(12,"div",2),l.Xb(13,"div",3),l.Xb(14,"strong"),l.Xc(15,"Mode Of Communication"),l.Wb(),l.Wb(),l.Wb(),l.Xb(16,"div",2),l.Xb(17,"div",3),l.Xb(18,"input",5),l.ec("ngModelChange",function(e){return l.Lc(t),l.ic(2).appointment.type=e}),l.Wb(),l.Wb(),l.Wb(),l.Sb(19,"br"),l.Sb(20,"br"),l.Xb(21,"div",2),l.Xb(22,"div",3),l.Xb(23,"strong"),l.Xc(24,"Clinician"),l.Wb(),l.Wb(),l.Xb(25,"div",3),l.Xb(26,"strong"),l.Xc(27,"Patient"),l.Wb(),l.Wb(),l.Wb(),l.Xb(28,"div",2),l.Xb(29,"div",3),l.Xb(30,"input",5),l.ec("ngModelChange",function(e){return l.Lc(t),l.ic(2).appointment.attenderName=e}),l.Wb(),l.Wb(),l.Xb(31,"div",3),l.Xb(32,"input",5),l.ec("ngModelChange",function(e){return l.Lc(t),l.ic(2).appointment.attendeeName=e}),l.Wb(),l.Wb(),l.Wb(),l.Sb(33,"br"),l.Sb(34,"br"),l.Xb(35,"div",2),l.Xb(36,"div",6),l.Xb(37,"strong"),l.Xc(38,"Notes"),l.Wb(),l.Wb(),l.Wb(),l.Xb(39,"div",2),l.Xb(40,"div",6),l.Xb(41,"textarea",7),l.ec("ngModelChange",function(e){return l.Lc(t),l.ic(2).note=e}),l.Wb(),l.Wb(),l.Wb(),l.Sb(42,"br"),l.Sb(43,"br"),l.Xb(44,"div",2),l.Xb(45,"div",8),l.Xb(46,"button",9),l.ec("click",function(){return l.Lc(t),l.ic(2).close()}),l.Xc(47,"Close"),l.Wb(),l.Sb(48,"nz-divider",10),l.Xb(49,"button",11),l.ec("click",function(){return l.Lc(t),l.ic(2).close(!0)}),l.Xc(50,"Save"),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){const t=l.ic(2);l.Db(4),l.Zc(" ",l.kc(5,11,"COMMON.DATE")," "),l.Db(4),l.rc("nzDisabled",!0)("ngModel",t.appointment.schedule.startsOn),l.Db(3),l.rc("ngIf",t.session),l.Db(7),l.rc("ngModel",t.appointment.type)("disabled",!0),l.Db(12),l.rc("ngModel",t.appointment.attenderName)("disabled",!0),l.Db(2),l.rc("ngModel",t.appointment.attendeeName)("disabled",!0),l.Db(9),l.rc("ngModel",t.note)}}function O(t,e){if(1&t&&(l.Vb(0),l.Xb(1,"h2",1),l.Xc(2,"Appointment Notes"),l.Wb(),l.Sb(3,"br"),l.Vc(4,z,51,13,"nz-card",0),l.Ub()),2&t){const t=l.ic();l.Db(4),l.rc("ngIf",t.appointment)}}let N=(()=>{class t{constructor(t,e,n,i,a,o,s){this._appointmentsService=t,this._videoCallService=e,this._modalRef=n,this._notificationsService=i,this._dataSharingService=a,this._voicecallService=o,this._patientCommunicationModalService=s,this.type="VIDEO_APPOINTMENT",this.isCompleted=!1}ngAfterViewInit(){this.checkIfCMTEnabled(),this._appointmentsService.fetchAppointmentDetailsById(this.appointmentId).subscribe(t=>this.appointment=t.appointment),"VIDEO_APPOINTMENT"==this.type?this._videoCallService.getVideoCallSession(this.callSessionId).subscribe(t=>{let e=0;if(t.participantCallLogs.forEach(t=>{"CALL_JOINED"===t.callStatus&&e++}),e<2)return void this.close();this.videoCallSession=t,this.session=t;const n=t.endTime-t.startTime,i=Math.floor(n/1e3/60<<0),a=Math.floor(n/1e3%60);this.duration=i+":"+a},t=>{console.log(t),this._notificationsService.error("Video call","Video call session not found !!!")}):"AUDIO_CALL_APPOINTMENT"==this.type&&this._voicecallService.getVoiceCallDetails(this.callSessionId).subscribe(t=>{this.audioCallSession=t,this.session=t;const e=new Date(t.endTime).getTime()-new Date(t.startTime).getTime(),n=Math.floor(e/1e3/60<<0),i=Math.floor(e/1e3%60);this.duration=n+":"+i},t=>{console.log(t),this._notificationsService.error("Audio call","Audio call session not found !!!")})}checkIfCMTEnabled(){this.tenantSettings$=this._dataSharingService.tenantSettings.subscribe(t=>{t&&t.episodeBlueprints.forEach(t=>{t.archived||t.enabledServiceCodes.forEach(t=>{"99484"===t&&(this.isCMTEnabled=!0)})})})}close(t=!1){this.isCompleted=t,this._modalRef.close()}ngOnDestroy(){this.isCompleted&&this.completeAppointment(),this.tenantSettings$&&this.tenantSettings$.unsubscribe()}completeAppointment(){this._appointmentsService.completeAppointment({appointmentId:this.appointment.id,patientId:this.appointment.attendeeId,caretakerId:this.appointment.attenderId,appointmentType:this.appointment.type,note:this.note}).subscribe(t=>{this._notificationsService.success("Appointment","Appointment completed!"),this.appointment.episodeId&&this.isCMTEnabled&&this.launchCMTModal()})}launchCMTModal(){this._patientCommunicationModalService.createCMTModal(this.appointment.attendeeName,this.appointment.attendeeId,this.appointment.episodeId,r.a.CARE_MANAGEMENT_TIME,null,this.videoCallSession.startTime,this.videoCallSession.endTime)}}return t.\u0275fac=function(e){return new(e||t)(l.Rb(o.a),l.Rb(a.a),l.Rb(d.e),l.Rb(u.b),l.Rb(i.a),l.Rb(c.a),l.Rb(s.a))},t.\u0275cmp=l.Lb({type:t,selectors:[["app-appointment-notes"]],inputs:{appointmentId:"appointmentId",callSessionId:"callSessionId",type:"type"},decls:1,vars:1,consts:[[4,"ngIf"],["nz-typography",""],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],[3,"nzDisabled","ngModel","ngModelChange"],["nz-input","",3,"ngModel","disabled","ngModelChange"],["nz-col","","nzSpan","24"],["rows","4","nz-input","",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","24",1,"actions"],["nz-button","","nzType","danger",3,"click"],["nzType","vertical"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzSpan","8"],["nz-col","","nzSpan","8",4,"ngIf"],["nz-input","",3,"ngModel","disabled"]],template:function(t,e){1&t&&l.Vc(0,O,5,1,"ng-container",0),2&t&&l.rc("ngIf",e.session)},directives:[p.q,h.a,b.a,g.c,g.a,m.a,f.u,f.x,v.b,f.d,S.a,T.a,C.a,E.a],pipes:[I.a,p.e],styles:["h2[_ngcontent-%COMP%]{text-align:center}.ant-card[_ngcontent-%COMP%]{border-radius:10px}strong[_ngcontent-%COMP%]{font-weight:bolder;font-size:12px;margin-left:5px}textarea[_ngcontent-%COMP%]{resize:none}[_nghost-%COMP%]     .ant-input-disabled, [_nghost-%COMP%]     .ant-time-picker-input[disabled]{border-radius:10px}[_nghost-%COMP%]     .ant-time-picker{width:100%}.actions[_ngcontent-%COMP%]{text-align:right}"]}),t})();var P=n("geco"),R=(n("QBjw"),n("bDfm")),X=n("oyxB"),L=n("qAZ0"),w=n("ncdi"),W=n("xYn2");function k(t,e){1&t&&l.Sb(0,"nz-spin",8)}function V(t,e){if(1&t){const t=l.Yb();l.Xb(0,"nz-timeline-item"),l.Xb(1,"app-note-timeline-item",10),l.ec("edit",function(){l.Lc(t);const n=e.$implicit;return l.ic(2).editNote(n)}),l.Wb(),l.Wb()}if(2&t){const t=e.$implicit;l.Db(1),l.rc("note",t)}}function x(t,e){if(1&t&&(l.Xb(0,"nz-timeline"),l.Vc(1,V,2,1,"nz-timeline-item",9),l.Wb()),2&t){const t=l.ic();l.Db(1),l.rc("ngForOf",t.appointmentNotes)}}function U(t,e){1&t&&l.Sb(0,"nz-spin",8)}function F(t,e){if(1&t){const t=l.Yb();l.Xb(0,"nz-timeline-item"),l.Xb(1,"app-note-timeline-item",10),l.ec("edit",function(){l.Lc(t);const n=e.$implicit;return l.ic(2).editNote(n)}),l.Wb(),l.Wb()}if(2&t){const t=e.$implicit;l.Db(1),l.rc("note",t)}}function H(t,e){if(1&t&&(l.Xb(0,"nz-timeline"),l.Vc(1,F,2,1,"nz-timeline-item",9),l.Wb()),2&t){const t=l.ic();l.Db(1),l.rc("ngForOf",t.allNotes)}}function B(t,e){if(1&t){const t=l.Yb();l.Xb(0,"button",11),l.ec("click",function(){return l.Lc(t),l.ic().addNote()}),l.Xc(1,"Add Note"),l.Wb()}}let j=(()=>{class t{constructor(t,e,n){this._patientsService=t,this._modalRef=e,this._modalService=n,this.loading=!1}ngOnInit(){this.getNotes()}getNotes(){this.loading=!0,this._patientsService.fetchPatientsAllNotes(this.patientId).subscribe(t=>{this.allNotes=t,this.updateAppointmentNotes(),this.loading=!1})}updateAppointmentNotes(){var t;const e=[];this.appointment.notesHistory&&e.push(...this.appointment.notesHistory.filter(t=>null!=t)),e.push(this.appointment.noteId),this.appointmentNotes=null===(t=this.allNotes)||void 0===t?void 0:t.filter(t=>e.includes(t.id))}addNote(){this._modalService.create({nzContent:R.a,nzComponentParams:{appointment:this.appointment,patientId:this.appointment.attendeeId},nzWidth:"50%",nzClosable:!0,nzMaskClosable:!1,nzFooter:null}).afterClose.subscribe(t=>{t&&this._modalRef.close(t)})}editNote(t){this._modalService.create({nzContent:R.a,nzComponentParams:{appointment:this.appointment,patientId:this.appointment.attendeeId,noteObject:t},nzWidth:"50%",nzClosable:!0,nzMaskClosable:!1,nzFooter:null}).afterClose.subscribe(t=>{t&&this._modalRef.close(t)})}}return t.\u0275fac=function(e){return new(e||t)(l.Rb(P.a),l.Rb(d.e),l.Rb(d.f))},t.\u0275cmp=l.Lb({type:t,selectors:[["app-appointment-notes-history-dialog"]],inputs:{patientId:"patientId",appointment:"appointment"},decls:12,vars:5,consts:[[1,"container",2,"height","60vh"],[1,"h-100",3,"nzTabBarExtraContent"],["nzTitle","Appointment Notes"],[2,"text-align","center"],["nzSimple","","nzTip","Loading Data...",4,"ngIf"],[4,"ngIf"],["nzTitle","All Notes"],["extraTemplate",""],["nzSimple","","nzTip","Loading Data..."],[4,"ngFor","ngForOf"],[3,"note","edit"],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){if(1&t&&(l.Xb(0,"div",0),l.Xb(1,"nz-tabset",1),l.Xb(2,"nz-tab",2),l.Xb(3,"div",3),l.Vc(4,k,1,0,"nz-spin",4),l.Wb(),l.Vc(5,x,2,1,"nz-timeline",5),l.Wb(),l.Xb(6,"nz-tab",6),l.Xb(7,"div",3),l.Vc(8,U,1,0,"nz-spin",4),l.Wb(),l.Vc(9,H,2,1,"nz-timeline",5),l.Wb(),l.Wb(),l.Vc(10,B,2,0,"ng-template",null,7,l.Wc),l.Wb()),2&t){const t=l.Ic(11);l.Db(1),l.rc("nzTabBarExtraContent",t),l.Db(3),l.rc("ngIf",e.loading),l.Db(1),l.rc("ngIf",!e.loading),l.Db(3),l.rc("ngIf",e.loading),l.Db(1),l.rc("ngIf",!e.loading)}},directives:[X.d,X.a,p.q,L.a,w.a,p.p,w.b,W.a,S.a,T.a,C.a],styles:["pre[_ngcontent-%COMP%]{font-size:14px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;font-family:Nunito}.note-footer[_ngcontent-%COMP%]{font-size:13px}.h-100[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]     .ant-tabs-content-holder{padding-top:16px;height:100%;overflow-y:scroll}[_nghost-%COMP%]     .ant-tabs-tab{height:48px!important}"]}),t})();var G=n("74vj"),Y=n("zAKX");function $(t,e){if(1&t&&l.Sb(0,"nz-option",10),2&t){const t=e.$implicit;l.rc("nzValue",null==t?null:t.id)("nzLabel",null==t?null:t.fullName)}}let q=(()=>{class t{constructor(t,e,n,i){this._modalRef=t,this.modalService=e,this._appointmentsService=n,this._appointmentsEventLogger=i,this.loading=!1}ngOnInit(){}reassign(){this.loading=!0,this._appointmentsService.reassignAppointments({appointmentIds:this.appointmentIds,staffId:this.selectedStaff}).subscribe(t=>{this.showInfo(t.SUCCESS,t.FAILED)},t=>{this.close()})}showInfo(t,e){t&&!e?this.showSuccessModal(t):!t&&e?this.showErrorModal(e):this.showWarningModal(t,e)}showSuccessModal(t){this.modalService.success({nzTitle:"Reassigned successful",nzContent:`Successfully reassigned <strong>${t} appointments</strong> to <strong>${this.staffList.find(t=>t.id===this.selectedStaff).fullName}.</strong>`}).afterClose.subscribe(()=>this.close())}showWarningModal(t,e){this.modalService.warning({nzTitle:"Reassigned partially successful",nzContent:`Successfully reassigned <strong>${t} appointments</strong> but unable to reassign <strong>${e} appointments</strong> to <strong>${this.staffList.find(t=>t.id===this.selectedStaff).fullName}</strong> due to conflicting appointment scheduled time.`}).afterClose.subscribe(()=>this.close())}showErrorModal(t){this.modalService.error({nzTitle:"Reassigned unsuccessful",nzContent:`Unable to reassign <strong>${t} appointments</strong> to <strong>${this.staffList.find(t=>t.id===this.selectedStaff).fullName}</strong> due to conflicting appointment scheduled time.`}).afterClose.subscribe(()=>this.loading=!1)}close(){this._modalRef.close()}}return t.\u0275fac=function(e){return new(e||t)(l.Rb(d.e),l.Rb(d.f),l.Rb(o.a),l.Rb(G.a))},t.\u0275cmp=l.Lb({type:t,selectors:[["app-appointment-reschedule-dialog"]],inputs:{appointmentIds:"appointmentIds",staffList:"staffList"},decls:16,vars:3,consts:[["id","header"],[1,"container"],["nz-row",""],["nz-col","","id","info-text","nzFlex","1"],["nz-col","","nzSpan","8"],["nzPlaceHolder","Select a staff","nzAllowClear","","nzShowSearch","",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-row","","nzJustify","end"],["nz-col",""],["nz-button","","nzType","primary",3,"disabled","click"],[3,"nzValue","nzLabel"]],template:function(t,e){1&t&&(l.Xb(0,"strong"),l.Xb(1,"p",0),l.Xc(2,"Reassign Appointments"),l.Wb(),l.Wb(),l.Xb(3,"div",1),l.Xb(4,"div",2),l.Xb(5,"div",3),l.Xb(6,"span"),l.Xc(7,"Select the staff to assign the selected appointments "),l.Wb(),l.Wb(),l.Xb(8,"div",4),l.Xb(9,"nz-select",5),l.ec("ngModelChange",function(t){return e.selectedStaff=t}),l.Vc(10,$,1,2,"nz-option",6),l.Wb(),l.Wb(),l.Wb(),l.Sb(11,"br"),l.Xb(12,"div",7),l.Xb(13,"div",8),l.Xb(14,"button",9),l.ec("click",function(){return e.reassign()}),l.Xc(15,"Reassign"),l.Wb(),l.Wb(),l.Wb(),l.Wb()),2&t&&(l.Db(9),l.rc("ngModel",e.selectedStaff),l.Db(1),l.rc("ngForOf",e.staffList),l.Db(4),l.rc("disabled",!e.selectedStaff))},directives:[g.c,g.a,Y.d,f.u,f.x,p.p,S.a,T.a,C.a,Y.a],styles:["#header[_ngcontent-%COMP%]{border-left:2px solid var(--primary-color);padding-left:10px;font:normal normal 700 16px/19px Nunito}#info-text[_ngcontent-%COMP%]{align-items:center;display:flex}"]}),t})(),Z=(()=>{class t{constructor(t){this._modalService=t}showCallAppointmentNotesModal(t,e,n="VIDEO_APPOINTMENT"){this.videoCallAppointmentNotesModal||(this.videoCallAppointmentNotesModal=this._modalService.create({nzContent:N,nzComponentParams:{appointmentId:t,callSessionId:e,type:n},nzWidth:window.innerWidth-.55*window.innerWidth,nzClosable:!1,nzMaskClosable:!1,nzFooter:null}),this.videoCallAppointmentNotesModal.afterClose.subscribe(()=>this.videoCallAppointmentNotesModal=null))}showNotesHistory(t,e){return this._modalService.create({nzContent:j,nzComponentParams:{appointment:t,patientId:e},nzWidth:"75%",nzClosable:!0,nzMaskClosable:!1,nzFooter:null})}showReassignModal(t,e){return this._modalService.create({nzContent:q,nzComponentParams:{appointmentIds:t,staffList:e},nzWidth:"50%",nzClosable:!0,nzMaskClosable:!1,nzFooter:null})}}return t.\u0275fac=function(e){return new(e||t)(l.bc(d.f))},t.\u0275prov=l.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},KCkQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{}},"KZX/":function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n("ofXK"),a=n("SHZf"),o=n("3Pt+"),s=n("tyNb"),r=n("icpI"),c=n("5+WD"),l=n("vxfF"),d=n("UFn0"),u=n("dh1a"),p=n("Pp+U"),h=n("WoUL"),b=n("cA1j"),g=n("fXoL");let m=(()=>{class t{constructor(t,e){this.translationService=t,this.featureHighlightService=e,t.setLanguage(),e.setFeatureConfigs()}}return t.\u0275mod=g.Pb({type:t}),t.\u0275inj=g.Ob({factory:function(e){return new(e||t)(g.bc(h.a),g.bc(b.a))},providers:[p.a],imports:[[i.c,d.a,a.a.forRoot(),u.a.forRoot(),r.b,o.o,s.k,c.c,l.f],l.f]}),t})()},Km6r:function(t,e,n){"use strict";n.d(e,"a",function(){return Z});var i=n("fXoL"),a=n("XNiG"),o=n("1G5W"),s=n("igu/"),r=n("S9gE"),c=n("HZ0a"),l=n("fQ3Y"),d=n("geco"),u=n("qQcL"),p=n("QwIf"),h=n("fEa1"),b=n("2lmJ"),g=n("zM63"),m=n("B+r4"),f=n("ofXK"),v=n("rMZv"),S=n("ZKr6"),T=n("nJia"),C=n("0zwC"),E=n("tyNb"),I=n("OzZK"),M=n("RwU8"),y=n("C2AL"),A=n("glKu"),_=n("SKKP"),D=n("ZO2R"),z=n("eHCX"),O=n("dRHE"),N=n("9xQM"),P=n("m3lz");function R(t,e){if(1&t&&(i.Xb(0,"div",14),i.Xb(1,"p"),i.Xc(2),i.jc(3,"translate"),i.Wb(),i.Wb()),2&t){const t=i.ic();i.rc("nzSpan",24),i.Db(2),i.Yc(i.kc(3,2,t.tableActionHint))}}function X(t,e){1&t&&(i.Xb(0,"th",15),i.Xc(1),i.jc(2,"translate"),i.Wb()),2&t&&(i.Db(1),i.Zc(" ",i.kc(2,1,"PATIENT.ASSIGNED_MONITORING_STAFF")," "))}function L(t,e){1&t&&i.Sb(0,"th",17)}const w=function(){return["VIEW_PATIENT_ALERT"]};function W(t,e){1&t&&(i.Vb(0),i.Vc(1,L,1,0,"th",16),i.Ub()),2&t&&(i.Db(1),i.rc("isFeaturePermitted",i.xc(1,w)))}function k(t,e){1&t&&(i.Xb(0,"button",26),i.Xc(1,"Assign Physician"),i.Wb())}function V(t,e){if(1&t&&(i.Xb(0,"td",27),i.Xc(1),i.Wb()),2&t){const t=i.ic().$implicit,e=i.ic();i.rc("ngClass",e.assignedStaffMap.has(t.id)?"":"greyed"),i.Db(1),i.Zc(" ",e.assignedStaffMap.has(t.id)?e.assignedStaffMap.get(t.id):"Unassigned"," ")}}function x(t,e){if(1&t){const t=i.Yb();i.Xb(0,"nz-badge",30),i.ec("click",function(){i.Lc(t);const e=i.ic(2).$implicit;return i.ic().showAlertDrawer(null==e?null:e.id,null==e?null:e.name,!1,null==e||null==e.episode?null:e.episode.id,null==e||null==e.carePlan?null:e.carePlan.id,null==e||null==e.carePlan?null:e.carePlan.startDate,null==e||null==e.episode?null:e.episode.totalTMSCompleted,null==e||null==e.episode?null:e.episode.totalAdditionalTMSCompleted,null==e?null:e.phoneNumbers)}),i.Sb(1,"app-icons",31),i.Wb()}if(2&t){const t=i.ic(2).$implicit;i.rc("nzCount",null==t?null:t.pendingAlertsCount),i.Db(1),i.rc("originalStyle",!0)}}function U(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"td"),i.Vc(2,x,2,2,"nz-badge",28),i.Xc(3," \xa0\xa0 "),i.Xb(4,"app-icons",29),i.ec("click",function(){i.Lc(t);const e=i.ic().$implicit;return i.ic().showDetails(null==e?null:e.id,"BASIC_DETAILS",null==e||null==e.episode?null:e.episode.id)}),i.Wb(),i.Xc(5," \xa0 "),i.Wb(),i.Ub()}2&t&&(i.Db(2),i.rc("isFeaturePermitted",i.xc(2,w)),i.Db(2),i.rc("originalStyle",!0))}const F=function(t){return{"background-color":t}};function H(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"tr",18),i.Xb(2,"td",19),i.ec("nzCheckedChange",function(n){i.Lc(t);const a=e.$implicit;return i.ic().onItemChecked(a.id,n,!0)}),i.Wb(),i.Xb(3,"td"),i.Xb(4,"div",20),i.jc(5,"titlecase"),i.Xc(6),i.jc(7,"titlecase"),i.Wb(),i.Wb(),i.Xb(8,"td"),i.Sb(9,"app-patient-status-tag",21),i.Wb(),i.Xb(10,"td"),i.Xb(11,"div",20),i.Xc(12),i.jc(13,"date"),i.Wb(),i.Wb(),i.Xb(14,"td"),i.Xb(15,"div",22),i.Xc(16),i.jc(17,"externalSources"),i.Wb(),i.Wb(),i.Xb(18,"td"),i.Xc(19),i.jc(20,"userLocations"),i.Wb(),i.Xb(21,"td"),i.Xc(22),i.Xb(23,"span",23),i.Vc(24,k,2,0,"button",24),i.Wb(),i.Wb(),i.Vc(25,V,2,2,"td",25),i.Vc(26,U,6,3,"ng-container",10),i.Wb(),i.Ub()}if(2&t){const t=e.$implicit,n=e.index,a=i.ic();i.Db(1),i.rc("ngStyle",i.yc(30,F,"No physician assigned"===a.listOfPatientPhysiciansName[n]?"var(--grey)":"white")),i.Db(1),i.rc("nzChecked",a.setOfCheckedId.has(t.id))("nzDisabled","No physician assigned"===a.listOfPatientPhysiciansName[n]),i.Db(2),i.rc("nzTooltipTitle",i.kc(5,18,null==t?null:t.name))("nzTooltipVisible",a.tooltipState),i.Db(2),i.Zc(" ",i.kc(7,20,null==t?null:t.name)," "),i.Db(3),i.rc("patientStatus",null==t?null:t.patientStatus),i.Db(2),i.rc("nzTooltipTitle",null==t?null:t.dateOfBirth)("nzTooltipVisible",a.tooltipState),i.Db(1),i.Zc(" ",i.lc(13,22,null==t?null:t.dateOfBirth,"mediumDate")," "),i.Db(3),i.rc("nzTooltipVisible",a.tooltipState),i.Db(1),i.Zc(" ",i.lc(17,25,null==t?null:t.externalSources,"HOSPITAL_INTERNAL_ID")," "),i.Db(3),i.Zc(" ",i.kc(20,28,null==t?null:t.sites)," "),i.Db(3),i.Zc("",a.listOfPatientPhysiciansName[n]," "),i.Db(1),i.tc("routerLink","/patient/assign/physician/",null==t?null:t.id,""),i.Db(1),i.rc("ngIf","No physician assigned"===a.listOfPatientPhysiciansName[n]),i.Db(1),i.rc("ngIf",a.showAssignedStatus),i.Db(1),i.rc("ngIf",!a.hideActionItems)}}function B(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"selected-patient-action",32),i.ec("onPrimaryActionButtonClicked",function(e){return i.Lc(t),i.ic().onPrimaryActionButtonClicked(e)})("onSecondaryActionButtonClicked",function(e){return i.Lc(t),i.ic().onSecondaryActionButtonClicked(e)}),i.Wb(),i.Ub()}if(2&t){const t=i.ic();i.Db(1),i.rc("primaryActionText",t.primaryActionText)("secondaryActionText",t.secondaryActionText)("totalPatientsSelected",t.totalPatientsSelected)("totalCount",t.totalCount)}}function j(t,e){if(1&t&&(i.Xb(0,"h5",33),i.Xc(1),i.jc(2,"translate"),i.jc(3,"translate"),i.Wb()),2&t){const t=e.range,n=e.$implicit;i.Db(1),i.dd(" ",i.kc(2,5,"COMMON.SHOWING")," ",t[0]," ",i.kc(3,7,"TABLEHEADER.to")," ",t[1]," of ",n," ")}}function G(t,e){if(1&t&&(i.Xb(0,"span"),i.Xc(1),i.jc(2,"translate"),i.Wb()),2&t){const t=i.ic(2);i.Db(1),i.Zc(" ",i.kc(2,1,t.defaultHint)," ")}}function Y(t,e){1&t&&(i.Xb(0,"span"),i.Xc(1),i.jc(2,"translate"),i.Wb()),2&t&&(i.Db(1),i.Zc(" ",i.kc(2,1,"PATIENT_LISTING_SCREEN_NO_DATA_MESSAGE")," "))}function $(t,e){if(1&t&&(i.Xb(0,"div",34),i.Xb(1,"div",35),i.Xb(2,"div",36),i.Xb(3,"div"),i.Sb(4,"app-icons",37),i.Wb(),i.Xb(5,"div",38),i.Vc(6,G,3,3,"span",10),i.Vc(7,Y,3,3,"span",10),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t){const t=i.ic();i.Db(6),i.rc("ngIf",t.showDefaultText),i.Db(1),i.rc("ngIf",!t.showDefaultText)}}const q=function(){return[50,100,150,200]};let Z=(()=>{class t extends u.a{constructor(t,e,n,o,s,r,c){super(),this._patientsService=t,this._progress=e,this._patientsDrawerService=n,this._patientUrlService=o,this._patientsEventLogger=s,this._dataSharingService=r,this._staffService=c,this.hideActionItems=!1,this.assignedStaffMap=new Map,this.showAssignedStatus=!1,this.onPrimaryAction=new i.n,this.onSecondaryAction=new i.n,this.onUserSelectionChange=new i.n,this.onPatientListUpdated=new i.n,this.onPatientSelection=new i.n,this.listOfPatientPhysicians=[],this.loading=!1,this.indeterminate=!1,this.checked=!1,this.patientRequests$=new a.a,this.pageSize=50,this.onPrimaryActionButtonClicked=t=>this.onPrimaryAction.emit(),this.onSecondaryActionButtonClicked=t=>this.onSecondaryAction.emit(),this.initData()}initData(){this.listOfAllPatients=[...new Array],this.setOfCheckedId=new Set,this.setOfSelectedPatients=new Set,this.totalCount=0,this.totalPatientsSelected=0,this.showDefaultText=!0,this.refreshCheckedStatus()}clearPatientSelection(){this.onAllChecked(!1)}clearAll(){this.initData()}getPatientsList(t=null){this.loading=!0,this._progress.ref().start(),this._patientsService.fetchPatientsList(0,2147483647,(null==t?void 0:t.staffId)||this._patientUrlService.getParameterValue("staffId"),(null==t?void 0:t.physicians)||this._patientUrlService.getParameterValue("physicianId"),"FIRST_NAME","ASC",(null==t?void 0:t.filter)||this._patientUrlService.getParameterValue("filter"),this._patientUrlService.getParameterValue("episodeBlueprint"),this._patientUrlService.getParameterValue("selectedEpisodeType"),(null==t?void 0:t.siteId)||this._patientUrlService.getParameterValue("siteId"),null==t?void 0:t.dateRange,(null==t?void 0:t.searchKey)||this._patientUrlService.getParameterValue("search"),this._patientUrlService.getParameterValue("carePlanId"),this._patientUrlService.getParameterValue("v1"),this._patientUrlService.getParameterValue("v2"),this._patientUrlService.getParameterValue("op"),this._patientUrlService.getParameterValue("dstFilterType"),this._patientUrlService.getParameterValue("tms"),this._patientUrlService.getParameterValue("cmt"),this._patientUrlService.getParameterValue("ccmCmt"),this._patientUrlService.getParameterValue("responseType"),this._patientUrlService.getParameterValue("smsPatientListLoading"),this._patientUrlService.getParameterValue("consentFormStatus"),this._patientUrlService.getParameterValue("physicianOrderStatus"),(null==t?void 0:t.patientStatus)||this._patientUrlService.getParameterValue("patientStatus"),this._patientUrlService.getParameterValue("episodeStatus"),(null==t?void 0:t.vitalFilter)||this._patientUrlService.getParameterValue("vitalFilter"),(null==t?void 0:t.assessmentFilter)||this._patientUrlService.getParameterValue("assessmentFilter"),this._patientUrlService.getParameterValue("assessment"),this._patientUrlService.getParameterValue("rpmVitalCompliance"),this._patientUrlService.getParameterValue("onBoardingFilter"),this._patientUrlService.getParameterValue("languages"),(null==t?void 0:t.assignedStaffType)||this._patientUrlService.getParameterValue("assignedStaffType")).subscribe(t=>{var e;this.totalCount=t.metaData.totalCount,this.listOfAllPatients=t.result,this.listOfPatientPhysicians=[],this.listOfPatientPhysiciansName=[],null===(e=this.listOfAllPatients)||void 0===e||e.forEach(t=>{let e=null;t.assignedStaffs.forEach(t=>{"PHYSICIAN"==t.roleType&&(e=t.staffId)}),this.listOfPatientPhysicians.push(e)}),this.loading=!1,this.showDefaultText=!1,this.setOfCheckedId=new Set,this.totalPatientsSelected=0,this._progress.ref().complete(),this.onPatientListUpdated.emit(this.listOfAllPatients),this.refreshCheckedStatus(),this.getPatientPhysician()},t=>{this._progress.ref().complete()})}getPatientPhysician(){let t=this.listOfPatientPhysicians.join(",");this._staffService.fetchNameByIds(t).subscribe(t=>{this.listOfPatientPhysiciansName=this.listOfPatientPhysicians.map(e=>e?t[e]:"No physician assigned")})}showAlertDrawer(t,e,n,i,a,s,r,c,l){this._patientsEventLogger.patientActionEvent(t,"open_alert_drawer",p.a.BULK_ASSING_PATIENT_TO_MONITORING_STAFF),this._patientsDrawerService.alerts(t,e,n,i,a,s,r,c,l).afterClose.pipe(Object(o.a)(this.unsubscribed)).subscribe(t=>{t||(this.clearInfoDrawerState(),this.getPatientsList())})}showDetails(t,e,n){e===r.a.BASIC_DETAILS&&n&&(e=r.a.EPISODE_DETAILS),this._patientsService.fetchPatientDetails(t,e,n).subscribe(t=>{this._dataSharingService.patientDetails.next(t),this.setInfoDrawerState(e,t,n),this.showInfoDrawerBasedOnType(e,t)})}clearInfoDrawerState(){this.drawer=null,sessionStorage.removeItem("infoDrawer")}showBasicInfo(t){this.drawer||(this.drawer=this._patientsDrawerService.basicInfo(t),this.drawer.afterClose.pipe(Object(o.a)(this.unsubscribed)).subscribe(t=>{t||this.clearInfoDrawerState()}))}updateCheckedSet(t,e){e?(this.setOfCheckedId.add(t),this.setOfSelectedPatients.add(this.listOfAllPatients.find(e=>e.id==t))):(this.setOfCheckedId.delete(t),this.setOfSelectedPatients.delete(this.listOfAllPatients.find(e=>e.id==t))),this.totalPatientsSelected=this.setOfCheckedId.size}refreshCheckedStatus(){this.checked=this.setOfCheckedId.size>0&&this.listOfAllPatients.length==this.setOfCheckedId.size,this.indeterminate=!this.checked&&this.setOfCheckedId.size>0,this.onUserSelectionChange.emit(this.setOfCheckedId),this.onPatientListUpdated.emit(this.listOfAllPatients),this.onPatientSelection.emit(this.setOfSelectedPatients)}onItemChecked(t,e){this.updateCheckedSet(t,e),this.refreshCheckedStatus()}onAllChecked(t){this.listOfAllPatients.forEach(({id:e},n)=>"No physician assigned"!==this.listOfPatientPhysiciansName[n]&&this.updateCheckedSet(e,t)),this.refreshCheckedStatus()}setInfoDrawerState(t,e,n){sessionStorage.setItem("infoDrawer",JSON.stringify({type:t,patientDetails:e,episodeId:n}))}checkIfInfoDrawerStateAvailable(){const t=JSON.parse(sessionStorage.getItem("infoDrawer"));t&&this.showInfoDrawerBasedOnType(t.type,t.patientDetails)}showInfoDrawerBasedOnType(t,e){switch(t){case r.a.BASIC_DETAILS:case r.a.EPISODE_DETAILS:this.showBasicInfo(e)}}onChange(t){}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(d.a),i.Rb(g.a),i.Rb(l.a),i.Rb(h.a),i.Rb(c.a),i.Rb(s.a),i.Rb(b.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-bulk-patient-list"]],inputs:{hideActionItems:"hideActionItems",tableActionHint:"tableActionHint",defaultHint:"defaultHint",assignedStaffMap:"assignedStaffMap",showAssignedStatus:"showAssignedStatus",primaryActionText:"primaryActionText",secondaryActionText:"secondaryActionText"},outputs:{onPrimaryAction:"onPrimaryAction",onSecondaryAction:"onSecondaryAction",onUserSelectionChange:"onUserSelectionChange",onPatientListUpdated:"onPatientListUpdated",onPatientSelection:"onPatientSelection"},features:[i.Ab],decls:32,vars:32,consts:[["nz-row","",1,"label-1",3,"nzGutter"],["nz-col","",3,"nzSpan",4,"ngIf"],["nzSize","middle","nzShowSizeChanger","","nzShowPagination","",3,"nzData","nzLoading","nzTotal","nzPageSizeOptions","nzPageSize","nzShowTotal","nzNoResult","nzPageSizeChange"],["patientsTable",""],["nzWidth","30px",3,"nzShowCheckbox","nzChecked","nzIndeterminate","nzCheckedChange"],["nzWidth","15%",1,"column-name"],["nzWidth","70px"],["nzWidth","150px"],["id","patient-id"],["id","patient-assign-status",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["totalPatientsCount",""],["noResultTemplate",""],["nz-col","",3,"nzSpan"],["id","patient-assign-status"],["id","alerts",4,"isFeaturePermitted"],["id","alerts"],[3,"ngStyle"],[3,"nzChecked","nzDisabled","nzCheckedChange"],["nz-tooltip","",1,"ellipsis-text","char-limit",3,"nzTooltipTitle","nzTooltipVisible"],["isToolTipEnabled","true",3,"patientStatus"],["nz-tooltip","",1,"ellipsis-text","char-limit",3,"nzTooltipVisible"],[1,"assign-btn-container",3,"routerLink"],["nz-button","","nzType","primary",4,"ngIf"],[3,"ngClass",4,"ngIf"],["nz-button","","nzType","primary"],[3,"ngClass"],[3,"nzCount","click",4,"isFeaturePermitted"],["name","profile","size","22px",3,"originalStyle","click"],[3,"nzCount","click"],["name","notification","size","20px",3,"originalStyle"],[3,"primaryActionText","secondaryActionText","totalPatientsSelected","totalCount","onPrimaryActionButtonClicked","onSecondaryActionButtonClicked"],["nz-typography",""],["nz-row","","nzJustify","center","nzAlign","middle",1,"no-result"],["nz-col",""],["nz-col","","nzJustify","center","nzAlign","middle"],["name","icBlank","size","80"],[1,"no-results-text"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Vc(1,R,4,4,"div",1),i.Wb(),i.Xb(2,"nz-table",2,3),i.ec("nzPageSizeChange",function(t){return e.pageSize=t}),i.Xb(4,"thead"),i.Xb(5,"tr"),i.Xb(6,"th",4),i.ec("nzCheckedChange",function(t){return e.onAllChecked(t)}),i.Wb(),i.Xb(7,"th",5),i.Xc(8),i.jc(9,"translate"),i.Wb(),i.Sb(10,"th",6),i.Xb(11,"th",7),i.Xc(12),i.jc(13,"translate"),i.Wb(),i.Xb(14,"th",8),i.Xc(15),i.jc(16,"translate"),i.Wb(),i.Xb(17,"th"),i.Xc(18),i.jc(19,"translate"),i.Wb(),i.Xb(20,"th"),i.Xc(21),i.jc(22,"translate"),i.Wb(),i.Vc(23,X,3,3,"th",9),i.Vc(24,W,2,2,"ng-container",10),i.Wb(),i.Wb(),i.Xb(25,"tbody"),i.Vc(26,H,27,32,"ng-container",11),i.Wb(),i.Wb(),i.Vc(27,B,2,4,"ng-container",10),i.Vc(28,j,4,9,"ng-template",null,12,i.Wc),i.Vc(30,$,8,2,"ng-template",null,13,i.Wc)),2&t){const t=i.Ic(3),n=i.Ic(29),a=i.Ic(31);i.rc("nzGutter",64),i.Db(1),i.rc("ngIf",null!=e.tableActionHint&&!e.showDefaultText),i.Db(1),i.rc("nzData",e.listOfAllPatients)("nzLoading",e.loading)("nzTotal",e.totalCount)("nzPageSizeOptions",i.xc(31,q))("nzPageSize",e.pageSize)("nzShowTotal",n)("nzNoResult",a),i.Db(4),i.rc("nzShowCheckbox",e.totalCount>0)("nzChecked",e.checked)("nzIndeterminate",e.indeterminate),i.Db(2),i.Zc(" ",i.kc(9,21,"COMMON.NAME")," "),i.Db(4),i.Zc(" ",i.kc(13,23,"COMMON.DOB")," "),i.Db(3),i.Zc(" ",i.kc(16,25,"PATIENT_ID")," "),i.Db(3),i.Zc(" ",i.kc(19,27,"SITE")," "),i.Db(3),i.Zc(" ",i.kc(22,29,"COMMON.PHYSICIAN")," "),i.Db(2),i.rc("ngIf",e.showAssignedStatus),i.Db(1),i.rc("ngIf",!e.hideActionItems),i.Db(2),i.rc("ngForOf",null==t?null:t.data),i.Db(1),i.rc("ngIf",e.totalPatientsSelected>0)}},directives:[m.c,f.q,v.f,v.n,v.o,v.e,v.l,v.m,v.i,f.p,m.a,S.a,f.r,v.j,T.d,C.a,E.h,I.a,M.a,y.a,f.o,A.a,_.a,D.a,z.a],pipes:[O.a,f.A,f.e,N.a,P.a],styles:[".label-1[_ngcontent-%COMP%]{margin-top:10px}.container-bulk[_ngcontent-%COMP%]{padding-top:20px 20px!important}.align-left[_ngcontent-%COMP%]{text-align:left!important}.align-center[_ngcontent-%COMP%]{text-align:center!important}[_nghost-%COMP%]     .ant-checkbox-wrapper{padding-left:16px;padding-right:8px;border-spacing:0!important}[_nghost-%COMP%]     .ant-checkbox-inner:after{border-color:var(--primary-color)}[_nghost-%COMP%]     .ant-checkbox-disabled .ant-checkbox-inner{background:gray 0 0 no-repeat padding-box;opacity:.5}[_nghost-%COMP%]     .ant-checkbox-disabled .ant-checkbox-inner:after{border-color:var(--neutral-color)!important}.selected-info[_ngcontent-%COMP%]{padding-left:16px}p[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:0}.no-result[_ngcontent-%COMP%]{width:100%;height:60vh}.no-results-text[_ngcontent-%COMP%]{margin-top:16px}.column-name[_ngcontent-%COMP%]{min-width:150px}.background[_ngcontent-%COMP%]{position:fixed;height:60px;bottom:20px;color:var(--neutral-color);right:20px;border:1px solid transparent;border-radius:5px;width:35%;background:rgba(0,0,0,.8);padding:5px}.floatable-component-btn[_ngcontent-%COMP%]{text-align:center;margin-top:8px}p.number[_ngcontent-%COMP%]{padding-left:15px}.greyed[_ngcontent-%COMP%]{color:#8a8a8a}.assign-btn-container[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:6px}"]}),t})()},Laz3:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("FYUs"),a=n("fXoL");let o=(()=>{class t{transform(t,e,n){let a="",o="",s="",r="";switch(t){case i.a.VERY_HIGH:a="Stage 3"==n?"#cd201f":"#FF5151",s="Stage 3"==n?"#cd201f":"#ff525233",o="PRIORITY.NEED_IMMEDIATE_ATTENTION",r="Stage 3"==n?"#fff":"#814646";break;case i.a.HIGH:a="#FF965F",s="#FF965F33",o="PRIORITY.IMPORTANT",r="#8c7204";break;case i.a.MEDIUM:a="#F8B62B",s="#f8b62b33",o="PRIORITY.MEDIUM",r="#917c24";break;case i.a.LOW:a="#4B87FF",s="#4b87ff33",o="PRIORITY.LOW",r="#4b618f";break;case i.a.VERY_LOW:a="#4B87FF",s="#4b87ff33",o="PRIORITY.INFORMATIONAL_ALERT",r="#4b618f"}switch(e){case"TEXT":return o;case"TEXT_COLOR":return r;case"TAG_BG":return s;case"COLOR":default:return a}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Qb({name:"alertPriorityColor",type:t,pure:!0}),t})()},MXg9:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.ALL="ALL",t.ACTIVE="ACTIVE",t.REGISTERED="REGISTERED",t.NOT_ONBOARDED="NOT_ONBOARDED",t.DISCHARGED="DISCHARGED",t.SUSPENDED="SUSPENDED",t.FLAGGED_FOR_DISQUALIFICATION="FLAGGED_FOR_DISQUALIFICATION",t}({})},MZxW:function(t,e,n){"use strict";n.d(e,"a",function(){return _});var i=n("BcC3"),a=n("4RGM"),o=n("fXoL"),s=n("igu/"),r=n("ofXK"),c=n("eHCX"),l=n("zAKX"),d=n("3Pt+"),u=n("C2AL"),p=n("FwiY");function h(t,e){if(1&t&&(o.Xb(0,"div"),o.Xb(1,"label",2),o.Xc(2),o.Wb(),o.Wb()),2&t){const t=o.ic(3);o.Db(1),o.rc("nzType",t.labelType),o.Db(1),o.Zc(" ",t.label," ")}}function b(t,e){if(1&t&&o.Sb(0,"nz-option",7),2&t){const t=o.ic().$implicit;o.rc("nzValue",t.id)("nzLabel",t.name)}}function g(t,e){if(1&t&&(o.Vb(0),o.Vc(1,b,1,2,"nz-option",6),o.Ub()),2&t){const t=o.ic(4);o.Db(1),o.rc("ngIf",!t.isLoading)}}function m(t,e){1&t&&(o.Xb(0,"nz-option",8),o.Sb(1,"span",9),o.Xc(2," Loading Data... "),o.Wb())}function f(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-select",3),o.ec("ngModelChange",function(e){return o.Lc(t),o.ic(3).listSelectedSubTenants=e})("nzOnSearch",function(e){return o.Lc(t),o.ic(3).onSearch(e)})("ngModelChange",function(e){return o.Lc(t),o.ic(3).onSubTenantChange(e)}),o.Vc(1,g,2,1,"ng-container",4),o.Vc(2,m,3,0,"nz-option",5),o.Wb()}if(2&t){const t=o.ic(3);o.Sc("width",t.width),o.rc("nzMaxTagCount",t.nzMaxTagCount)("nzPlaceHolder",t.placeholder)("ngModel",t.listSelectedSubTenants)("nzDisabled",t.disabled)("nzAllowClear",t.allowClear),o.Db(1),o.rc("ngForOf",t.assignedSubTenants),o.Db(1),o.rc("ngIf",t.isLoading)}}function v(t,e){if(1&t&&(o.Vb(0),o.Vc(1,h,3,2,"div",0),o.Vc(2,f,3,9,"nz-select",1),o.Ub()),2&t){const t=o.ic(2);o.Db(1),o.rc("ngIf",t.label&&null!=t.label),o.Db(1),o.rc("ngIf",!t.isLoading)}}function S(t,e){if(1&t&&(o.Xb(0,"div"),o.Xb(1,"label",2),o.Xc(2),o.Wb(),o.Wb()),2&t){const t=o.ic(3);o.Db(1),o.rc("nzType",t.labelType),o.Db(1),o.Zc(" ",t.label," ")}}function T(t,e){if(1&t&&o.Sb(0,"nz-option",7),2&t){const t=o.ic().$implicit;o.rc("nzValue",t.id)("nzLabel",t.name)}}function C(t,e){if(1&t&&(o.Vb(0),o.Vc(1,T,1,2,"nz-option",6),o.Ub()),2&t){const t=o.ic(4);o.Db(1),o.rc("ngIf",!t.isLoading)}}function E(t,e){1&t&&(o.Xb(0,"nz-option",8),o.Sb(1,"span",9),o.Xc(2," Loading Data... "),o.Wb())}function I(t,e){if(1&t){const t=o.Yb();o.Xb(0,"nz-select",11),o.ec("ngModelChange",function(e){return o.Lc(t),o.ic(3).selectedSubTenant=e})("nzOnSearch",function(e){return o.Lc(t),o.ic(3).onSearch(e)})("ngModelChange",function(e){return o.Lc(t),o.ic(3).onSubTenantChange(e)}),o.Vc(1,C,2,1,"ng-container",4),o.Vc(2,E,3,0,"nz-option",5),o.Wb()}if(2&t){const t=o.ic(3);o.Sc("width",t.width),o.rc("nzPlaceHolder",t.placeholder)("nzAllowClear",t.allowClear)("nzAutoClearSearchValue",!0)("ngModel",t.selectedSubTenant)("nzDisabled",t.disabled),o.Db(1),o.rc("ngForOf",t.assignedSubTenants),o.Db(1),o.rc("ngIf",t.isLoading)}}function M(t,e){if(1&t&&(o.Vb(0),o.Vc(1,S,3,2,"div",0),o.Vc(2,I,3,9,"nz-select",10),o.Ub()),2&t){const t=o.ic(2);o.Db(1),o.rc("ngIf",t.label&&null!=t.label),o.Db(1),o.rc("ngIf",!t.isLoading)}}function y(t,e){if(1&t&&(o.Vb(0),o.Vc(1,v,3,2,"ng-container",0),o.Vc(2,M,3,2,"ng-container",0),o.Ub()),2&t){const t=o.ic();o.Db(1),o.rc("ngIf","MULTI"==t.mode),o.Db(1),o.rc("ngIf","SINGLE"==t.mode)}}function A(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"p",12),o.Xc(2),o.Wb(),o.Ub()),2&t){const t=o.ic();o.Db(2),o.Zc(" ",t.errorMessage," ")}}let _=(()=>{class t{constructor(t){this._dataSharingService=t,this.mode="MULTI",this.labelType="secondary",this.placeholder="Select sub-tenant",this.allowClear=!1,this.showError=!1,this.errorMessage="Please select a sub-tenant.",this.persist=!0,this.bypass=Array.from("GET"),this.disabled=!1,this.listSelectedSubTenants=[],this.width="100%",this.nzMaxTagCount=2,this.isLoading=!1,this.assignedSubTenants=new Array,this.showDropDown=!1,this.onSubTenantSelected=new o.n;let e=localStorage.getItem("loggedInUserBoundary");this.showDropDown=e==i.a.ACROSS_SUB_TENANTS,this.init()}onSearch(t){this.fetchAssignedSubtenants(t)}ngOnInit(){this._dataSharingService.getSubTenant().subscribe(t=>{t&&this.updateRequestTenantIdsInLocalStorage("SET",t),this.init()})}init(){let t=localStorage.getItem("loggedInUserBoundary");this.showDropDown=t==i.a.ACROSS_SUB_TENANTS,this.fetchAssignedSubtenants()}fetchAssignedSubtenants(t){this.isLoading=!0,this.assignedSubTenants=new Array,this.assignedSubTenantIds=localStorage.getItem("loggedInUserAssignedTenants").split(","),"MULTI"==this.mode&&this.assignedSubTenants.push({id:"ALL",name:"All"}),this.assignedSubTenantIds.forEach(t=>{var e=localStorage.getItem(t);this.assignedSubTenants.push({id:t,name:e})}),this.populateSelectBox(),this.isLoading=!1}populateSelectBox(){"SINGLE"==this.mode?this.populateSingleSelectBox():this.populateMultiSelectBox()}populateMultiSelectBox(){let t=localStorage.getItem(a.a.REQUEST_TENANT_IDS);if(null==this.listSelectedSubTenants||null==this.listSelectedSubTenants)if(null==t||null==t||"null"==t||"undefined"==t)this.listSelectedSubTenants=this.assignedSubTenantIds;else{var e=t.split(",");this.listSelectedSubTenants=e}else null!=t&&null!=t&&"null"!=t&&"undefined"!=t||(t=localStorage.getItem(a.a.LOGGED_IN_USER_ASSIGNED_TENANTS)),e=t.split(","),this.listSelectedSubTenants=e;this.updateRequestTenantIdsInLocalStorage("SET",this.listSelectedSubTenants.join(","))}populateSingleSelectBox(){let t=localStorage.getItem(a.a.REQUEST_TENANT_IDS);if(null==this.selectedSubTenant||null==this.selectedSubTenant)if(null==t||null==t||"null"==t||"undefined"==t)this.selectedSubTenant=this.assignedSubTenants[0];else{var e=t.split(",");this.selectedSubTenant=e[0]}else null!=t&&null!=t&&"null"!=t&&"undefined"!=t||(t=localStorage.getItem(a.a.LOGGED_IN_USER_ASSIGNED_TENANTS)),e=t.split(","),this.selectedSubTenant=e[0];this.updateRequestTenantIdsInLocalStorage("SET",this.selectedSubTenant),this.onSubTenantChange(this.selectedSubTenant)}updateRequestTenantIdsInLocalStorage(t,e){"SET"==t&&this.persist?localStorage.setItem(a.a.REQUEST_TENANT_IDS,e):(localStorage.setItem(a.a.REQUEST_TENANT_TEMP_IDS,e),localStorage.removeItem(a.a.REQUEST_TENANT_IDS))}onSubTenantChange(t){if("SINGLE"==this.mode)if(this.updateRequestTenantIdsInLocalStorage("SET",t),"ARRAY"==this.returnType){var e=new Array;e.push(t),this._dataSharingService.triggerSubTenantChange(t),this.onSubTenantSelected.emit(e)}else this._dataSharingService.triggerSubTenantChange(t),this.onSubTenantSelected.emit(t);else t.includes("ALL")&&(t=localStorage.getItem(a.a.LOGGED_IN_USER_ASSIGNED_TENANTS).split(",")),0==t.length?this.updateRequestTenantIdsInLocalStorage("DELETE"):this.updateRequestTenantIdsInLocalStorage("SET",t.join(",")),this.listSelectedSubTenants=t,this._dataSharingService.triggerSubTenantChange(t),this.onSubTenantSelected.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(s.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["sub-tenant-select"]],inputs:{mode:"mode",label:"label",labelType:"labelType",placeholder:"placeholder",selectedSubTenant:"selectedSubTenant",allowClear:"allowClear",showError:"showError",errorMessage:"errorMessage",persist:"persist",returnType:"returnType",bypass:"bypass",disabled:"disabled",listSelectedSubTenants:"listSelectedSubTenants",width:"width",nzMaxTagCount:"nzMaxTagCount"},outputs:{onSubTenantSelected:"onSubTenantSelected"},decls:2,vars:2,consts:[[4,"ngIf"],["nzMode","tags","nzShowSearch","","nzServerSearch","",3,"nzMaxTagCount","nzPlaceHolder","ngModel","nzDisabled","width","nzAllowClear","ngModelChange","nzOnSearch",4,"ngIf"],["nz-typography","",2,"margin-left","3px",3,"nzType"],["nzMode","tags","nzShowSearch","","nzServerSearch","",3,"nzMaxTagCount","nzPlaceHolder","ngModel","nzDisabled","nzAllowClear","ngModelChange","nzOnSearch"],[4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],[3,"nzValue","nzLabel",4,"ngIf"],[3,"nzValue","nzLabel"],["nzDisabled","","nzCustomContent",""],["nz-icon","","nzType","loading",1,"loading-icon"],["nzServerSearch","",3,"nzPlaceHolder","nzAllowClear","nzAutoClearSearchValue","ngModel","nzDisabled","width","ngModelChange","nzOnSearch",4,"ngIf"],["nzServerSearch","",3,"nzPlaceHolder","nzAllowClear","nzAutoClearSearchValue","ngModel","nzDisabled","ngModelChange","nzOnSearch"],["nz-typography","","nzType","danger"]],template:function(t,e){1&t&&(o.Vc(0,y,3,2,"ng-container",0),o.Vc(1,A,3,1,"ng-container",0)),2&t&&(o.rc("ngIf",e.showDropDown),o.Db(1),o.rc("ngIf",e.showError))},directives:[r.q,c.a,l.d,d.u,d.x,r.p,l.a,u.a,p.a],styles:[""]}),t})()},"N+jK":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("tk/3"),a=n("AytR"),o=n("TtLB"),s=n("fXoL");let r=(()=>{class t{constructor(t){this._http=t,this.rootUrl=a.g.url}getDevicesForUser(t){return this._http.get(this.rootUrl+"/v3/devices/users/"+t)}assignDeviceToPatient(t,e,n){const i=this.rootUrl+"/v3/devices",a={imei:e,userId:n,parameters:null,tenantId:localStorage.getItem("loggedInTenant"),createdBy:localStorage.getItem("loggedInUser"),type:t};return this._http.post(i,a)}removeDevice(t,e={unAssignedByUserId:localStorage.getItem("loggedInUser"),context:o.a.DEVICE_RE_ASSIGNMENT,note:"Device has been removed"}){return e.note&&""!==e.note||(e.note="Device has been removed"),this._http.put(this.rootUrl+"/v3/devices/"+t,e)}fetchAssignedDeviceDetails(t=0,e){let n=`${this.rootUrl}/v2/users/assigned/devices?offset=${t}&limit=10`;return e&&(n=`${n}&deviceId=${e}`),this._http.get(n)}bulkAssignDevices(t){if(!t)return null;const e=new i.g({bypass:"yes"});return this._http.post(`${a.g.url}/v2/bulk-upload/devices/?fileName=${t}`,{headers:e,observe:"response",responseType:"text"})}getDeviceHistoryForuser(t){return this._http.get(this.rootUrl+"/v3/devices/history/users/"+t)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(i.c))},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Nq9W:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7Xlp");let a=(()=>{class t{}return t.SOURCE="source",t.SEARCH_KEY="search_key",t.CAREPLAN_ID="careplan_id",t.EPISODE_ID="episode_id",t.PATIENT_ID="patient_id",t.PARAMETER="parameter",t.ACTION_NAME="action_name",t.CAREPLAN_ACTION="CAREPLAN_ACTION",t.CAREPLAN_TEMPLATE_SEARCH="CAREPLAN_TEMPLATE_SEARCH",t.EPISODE_CAREPLAN_ACTION="EPISODE_CAREPLAN_ACTION",t})();var o=n("fXoL");let s=(()=>{class t extends i.a{constructor(){super(),this.SOURCE="careplan"}careplanActionEvent(t,e){let n=this.getCommonProperties();n[a.SOURCE]=this.SOURCE,n[a.CAREPLAN_ID]=t,n[a.ACTION_NAME]=e,this.logEvent(a.CAREPLAN_ACTION,n)}careplanSearchEvent(t){let e=this.getCommonProperties();e[a.SEARCH_KEY]=t,e[a.SOURCE]=this.SOURCE,this.logEvent(a.CAREPLAN_TEMPLATE_SEARCH,e)}episodeCareplanActionEvent(t,e,n,i){let o=this.getCommonProperties();o[a.SOURCE]=this.SOURCE,o[a.EPISODE_ID]=t,o[a.PATIENT_ID]=e,o[a.CAREPLAN_ID]=n,o[a.ACTION_NAME]=i,this.logEvent(a.EPISODE_CAREPLAN_ACTION,o)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},OE57:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("tk/3"),a=n("AytR"),o=n("fXoL");let s=(()=>{class t{constructor(t){this._http=t,this.rootUrl=a.g.url}fetchAppointmentsForUser(t,e){return this.endPoint=this.rootUrl+"/v2/appointments/users/"+t+"?type="+e,this._http.get(this.endPoint)}fetchPatientForAppointment(t){return this.endPoint=this.rootUrl+"/v2/users/"+t,"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"?caretakerId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}fetchAppointmentsRequests(t,e=10,n=null,i){const a=localStorage.getItem("loggedInTenant");return this.endPoint=this.rootUrl+"/v2/appointments/requests/tenants/"+a+`?status=PENDING&limit=${e}&offset=`+t,n&&(this.endPoint=`${this.endPoint}&name=${n}`),i&&(this.endPoint=`${this.endPoint}&requestTenantIds=${i}`),"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"&careTakerId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}getEndPoint(t,e,n=null,i=null,a=null,o=null,s=null,r=null,c=10,l="ASC",d=null,u=!1,p=null,h=null){var b=this.rootUrl+"/v2/appointments?sort="+(l=l||"ASC")+"&status="+t+"&limit="+c+"&offset="+e;return n&&(b=`${b}&startTime=${n}`),i&&(b=`${b}&endTime=${i}`),s&&(b=`${b}&name=${s}`),a&&(b=`${b}&episodeId=${a}`),p&&(b=`${b}&requestTenantIds=${p}`),h&&null!=h&&(b=`${b}&siteId=${h}`),o&&"null"!==o&&(b=b+"&attenderId="+o),null!=r&&(b=b+"&attendeeId="+r),u&&(b=`${b}&primaryStaffOnly=${u}`),null==d||d.forEach(t=>{t.value.forEach(e=>{b+=`&${t.key}=${e}`})}),b}getDeletionEndPoint(t,e,n=null,i=null,a=null,o=null,s=null,r=null,c=10,l="ASC",d=null,u=!1,p=null){var h="?sort="+(l=l||"ASC")+"&status="+t+"&limit="+c+"&offset="+e;return n&&(h=`${h}&startTime=${n}`),i&&(h=`${h}&endTime=${i}`),s&&(h=`${h}&name=${s}`),a&&(h=`${h}&episodeId=${a}`),p&&(h=`${h}&requestTenantIds=${p}`),"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&"null"!==o?h=h+"&attenderId="+localStorage.getItem("loggedInUser"):o&&"null"!==o&&(h=h+"&attenderId="+o),null!=r&&(h=h+"&attendeeId="+r),u&&(h=`${h}&primaryStaffOnly=${u}`),null==d||d.forEach(t=>{t.value.forEach(e=>{h+=`&${t.key}=${e}`})}),h}fetchUpcomingAppointments(t,e=Date.now()-6e5,n=0,i=null,a=null,o=null,s=null,r=10,c="ASC",l=null,d=!1,u=null,p=null){return this.endPoint=this.getEndPoint("APPROVED",t,e,n,i,a,o,s,r,c,l,d,u,p),this._http.get(this.endPoint)}fetchCompletedAppointments(t,e=10,n=null,i=null,a="DESC",o=null,s=null,r=null,c=null){return this.endPoint=this.getEndPoint("FINISHED",t,o,s,n,null,i,null,e,a=a||"DESC",r,c),this._http.get(this.endPoint)}fetchUnattendedAppointments(t,e=10,n=null,i=null,a=null,o=null,s="DESC",r=null,c=null){const l=(new Date).getTime()-6e5;return this.endPoint=this.getEndPoint("APPROVED",t,a,o||l,n,null,i,null,e,s=s||"DESC",r,c),this._http.get(this.endPoint)}fetchRejectedAppointments(t,e=10,n=null,i=null){const a=localStorage.getItem("loggedInTenant");return this.endPoint=this.rootUrl+"/v2/appointments/requests/tenants/"+a+"?status=REJECTED&limit="+e+"&offset="+t,n&&(this.endPoint=`${this.endPoint}&name=${n}`),(i||null!=i)&&(this.endPoint=`${this.endPoint}&requestTenantIds=${i}`),"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"&attenderId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}fetchOnHoldAppointments(t,e=10,n=null){const i=localStorage.getItem("loggedInTenant");return this.endPoint=this.rootUrl+"/v2/appointments/requests/tenants/"+i+"?status=ON_HOLD&limit="+e+"&offset="+t,n&&(this.endPoint=`${this.endPoint}&name=${n}`),"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"&attenderId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}fetchAppointmentDetailsById(t){return this.endPoint=this.rootUrl+"/v2/appointments/"+t,this._http.get(this.endPoint)}fetchActionItemsForAppointments(t){return this.endPoint=this.rootUrl+"/v2/actions/appointments/"+t,this._http.get(this.endPoint)}setAppointmentAsApproved(t,e,n,i){return this.endPoint=`${this.rootUrl}/v2/appointments/requests/${t}/caretakers/${e}?status=APPROVED&startTime=${n}&endTime=${i}`,this._http.post(this.endPoint,{})}setAppointmentAsRejected(t){return this.endPoint=this.rootUrl+"/v2/appointments/requests",this._http.put(this.endPoint,JSON.stringify(t))}setAppointmentAsDeleted(t){return this.endPoint=this.rootUrl+"/v2/appointments/"+t,this._http.delete(this.endPoint)}createNewAppointment(t){return this.endPoint=this.rootUrl+"/v2/appointments",this._http.post(this.endPoint,JSON.stringify(t))}updateAppointment(t){return this.endPoint=this.rootUrl+"/v2/appointments",this._http.put(this.endPoint,JSON.stringify(t))}createNewNoteForAppointment(t){return this.endPoint=this.rootUrl+"/v2/notes",this._http.post(this.endPoint,JSON.stringify(t))}updateNoteForAppointment(t){return this.endPoint=this.rootUrl+"/v2/notes/"+t.id,this._http.put(this.endPoint,JSON.stringify(t))}fetchNoteForAppointment(t){return this.endPoint=this.rootUrl+"/v2/notes/"+t,this._http.get(this.endPoint)}fetchNotesByIds(t){this.endPoint=this.rootUrl+"/v2/notes";const e=new i.h({fromObject:{noteIds:t}});return this._http.get(this.endPoint,{params:e})}fetchAppointmentsBasedOnQuery(t,e=1e4,n){if(n=n.toString().trim(),this.endPoint=this.rootUrl+"/v2/appointments/?status="+t+"&limit="+e+"&name="+n,"UPCOMING"===t){const i=(new Date).getTime();this.endPoint=this.rootUrl+"/v2/appointments/?sort=ASC&status="+(t="APPROVED")+"&limit="+e+"&name="+n+"&startTime="+i}if("UNATTENDED"===t){const i=(new Date).getTime()-6e5;this.endPoint=this.rootUrl+"/v2/appointments/?status="+(t="APPROVED")+"&limit="+e+"&name="+n+"&endTime="+i}return"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"&attenderId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}fetchAppointmentRequestsBasedOnQuery(t,e){e=e.toString().trim();const n=localStorage.getItem("loggedInTenant");return this.endPoint=this.rootUrl+"/v2/appointments/requests/tenants/"+n+"?status="+t+"&name="+e+"&limit=-1","CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"&careTakerId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}completeAppointment(t){return this.endPoint=this.rootUrl+"/v2/appointments/complete",this._http.post(this.endPoint,JSON.stringify(t))}fetchAvailableCaretakers(t,e,n=0,i=10,a,o){if(t&&e)return this.endPoint=`${this.rootUrl}/v2/appointments/caretakers/available\n\t\t\t\t?startDateTime=${t}&endDateTime=${e}&offset=${n}&limit=${i}`,a&&(this.endPoint=`${this.endPoint}&searchKey=${a}`),o&&(this.endPoint=`${this.endPoint}&patientId=${o}`),this._http.get(this.endPoint)}fetchPDFBlobForRoutesForm(t){const e=new i.g({bypass:"yes"});return this._http.get(t,{headers:e,responseType:"blob"})}fetchAppointmentPurpose(t){return this.endPoint=this.rootUrl+"/v2/appointments/purpose/"+t,this._http.get(this.endPoint)}fetchPatientWihoutAppointment(t=null,e){return this.endPoint=this.rootUrl+"/v2/appointments/no-appointment?",e&&(this.endPoint=`${this.endPoint}&searchKey=${e}`),t&&(this.endPoint=`${this.endPoint}&staffId=${t}`),this._http.get(this.endPoint)}bulkUploadAppointments(t){return this._http.post(this.rootUrl+`/v2/bulk-upload/appointments/${t}`,{})}updateAttemptCount(t){return this._http.post(this.rootUrl+"/v2/appointments/update-attempt-count",JSON.stringify(t))}reassignAppointments(t){return this._http.post(this.rootUrl+"/v2/appointments/reassign",JSON.stringify(t))}deleteAppointments(t,e=10,n=null,i=null,a=null,o=null,s="DESC",r=null,c=null){let l=this.rootUrl+"/v2/appointments/delete/bulk-appointments";const d=(new Date).getTime()-6e5;return l+=this.getDeletionEndPoint("APPROVED",0,a,o||d,n,null,i,null,e,s=s||"DESC",r,c),this._http.delete(l)}validateUploadAppointments(t,e){const n={appointments:t,mrnAndDobList:e},a=this.rootUrl+"/v2/bulk-upload/validate-appointments/",o=new i.g({"Content-Type":"application/json"});return this._http.post(a,n,{headers:o})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(i.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},OS4Q:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("0W7X");const a={Listing:{header:!0,title:"MENU.APPOINTMENT",searchEnabled:!0,searchPlaceholder:"COMMON.SEARCH_PATIENT_STAFF",primaryAction:{title:"Create Appointment",permissions:[],enabled:!0},secondaryAction:{},multiAction:{title:"Bulk Actions",permissions:[i.a.ADD_PHYSICIAN,i.a.ADD_MONITORING_STAFF,i.a.ADD_ENROLMENT_STAFF],actions:[{title:"Bulk Upload",value:"BULK_UPLOAD",permissions:[]},{title:"Bulk Reassign",value:"BULK_REASSIGN",permissions:[]}],enabled:!0},privileges:[i.a.VIEW_APPOINTMENT],showTenantToggle:!0},Form:{header:!0,title:"APPOINTMENT.CREATE",searchEnabled:!1,primaryAction:{},secondaryAction:{},multiAction:{},privileges:[i.a.ADD_APPOINTMENT,i.a.VIEW_APPOINTMENT],showTenantToggle:!0},Detail:{header:!0,title:"COMMON.APPOINTMENTDETAILS",searchEnabled:!1,primaryAction:{title:"Plan of Care",permissions:[],enabled:!0},secondaryAction:{title:"Patient Communication",permissions:[],enabled:!0},multiAction:{},privileges:[i.a.VIEW_APPOINTMENT],showTenantToggle:!0},BulkUpload:{header:!0,title:"Bulk Upload",searchEnabled:!1,primaryAction:{title:"Upload",permissions:[],enabled:!0},secondaryAction:{title:"Download Template",permissions:[],enabled:!0},multiAction:{},privileges:[i.a.ADD_APPOINTMENT],showTenantToggle:!0},BulkReschedule:{header:!0,title:"Bulk Resassign",searchEnabled:!1,primaryAction:{},secondaryAction:{},multiAction:{},privileges:[i.a.ADD_APPOINTMENT],showTenantToggle:!0}}},OTIt:function(t,e,n){"use strict";n.d(e,"a",function(){return ce});var i=n("c/Vb"),a=n("k9Ba"),o=n("Gskk"),s=n("ZPfs"),r=n("geco"),c=n("gXqy"),l=n("6En5"),d=n("V5Ok"),u=n("awHO"),p=n("GMnC"),h=n("nLCl"),b=n("fXoL"),g=n("ncdi"),m=n("dRHE");function f(t,e){1&t&&(b.Xb(0,"span",6),b.Xb(1,"strong",7),b.Xc(2," TMS "),b.Sb(3,"br"),b.Xc(4," 20 "),b.Wb(),b.Wb())}function v(t,e){1&t&&(b.Xb(0,"span",6),b.Xb(1,"strong",7),b.Xc(2," TMS "),b.Sb(3,"br"),b.Xc(4," 40 "),b.Wb(),b.Wb())}function S(t,e){1&t&&(b.Xb(0,"span",6),b.Xb(1,"strong",7),b.Xc(2," TMS "),b.Sb(3,"br"),b.Xc(4," 60 "),b.Wb(),b.Wb())}let T=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Lb({type:t,selectors:[["app-tms-details"]],decls:26,vars:12,consts:[[1,"tms-details-container"],[3,"nzDot"],[1,"detail-text"],["tms20",""],["tms40",""],["tms60",""],[1,"dot"],[1,"dot-text"]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"nz-timeline"),b.Xb(2,"nz-timeline-item",1),b.Xb(3,"p",2),b.Xb(4,"strong"),b.Xc(5,"TMS 20 (CPT-99457)"),b.Wb(),b.Xc(6),b.jc(7,"translate"),b.Wb(),b.Wb(),b.Xb(8,"nz-timeline-item",1),b.Xb(9,"p",2),b.Xb(10,"strong"),b.Xc(11,"TMS 40 (CPT-99458-A)"),b.Wb(),b.Xc(12),b.jc(13,"translate"),b.Wb(),b.Wb(),b.Xb(14,"nz-timeline-item",1),b.Xb(15,"p",2),b.Xb(16,"strong"),b.Xc(17,"TMS 60 (CPT-99458-B)"),b.Wb(),b.Xc(18),b.jc(19,"translate"),b.Wb(),b.Wb(),b.Wb(),b.Vc(20,f,5,0,"ng-template",null,3,b.Wc),b.Vc(22,v,5,0,"ng-template",null,4,b.Wc),b.Vc(24,S,5,0,"ng-template",null,5,b.Wc),b.Wb()),2&t){const t=b.Ic(21),e=b.Ic(23),n=b.Ic(25);b.Db(2),b.rc("nzDot",t),b.Db(4),b.Zc(" ",b.kc(7,6,"TMS.TMS_DETAIL_SCREEN.TMS")," "),b.Db(2),b.rc("nzDot",e),b.Db(4),b.Zc(" ",b.kc(13,8,"TMS.TMS_DETAIL_SCREEN.ADDITIONAL_TMS_A")," "),b.Db(2),b.rc("nzDot",n),b.Db(4),b.Zc(" ",b.kc(19,10,"TMS.TMS_DETAIL_SCREEN.ADDITIONAL_TMS_B")," ")}},directives:[g.a,g.b],pipes:[m.a],styles:[".dot[_ngcontent-%COMP%]{height:50px;width:50px;background-color:var(--primary-color);border-radius:50%;display:inline-block}.dot-text[_ngcontent-%COMP%]{color:var(--neutral-color);position:absolute;top:30%;left:25%}.detail-text[_ngcontent-%COMP%]{padding-left:20px}.tms-details-container[_ngcontent-%COMP%]{margin:0 20px 20px;text-align:justify}[_nghost-%COMP%]     .ant-timeline-item-head-custom{top:24px}"]}),t})();var C=n("IEkc"),E=n("c36b"),I=n("wb4W"),M=n("dEAy"),y=n("bNXi"),A=n("5+WD"),_=n("wjar"),D=n("glKu"),z=n("B+r4"),O=n("0lU3"),N=n("3Pt+"),P=n("ofXK"),R=n("zAKX"),X=n("ZyQt"),L=n("aPTj"),w=n("bE2y"),W=n("mUB+"),k=n("mUTz"),V=n("GKSl"),x=n("PTRe"),U=n("OzZK"),F=n("RwU8"),H=n("C2AL"),B=n("eHCX"),j=n("sIYb");function G(t,e){if(1&t&&b.Sb(0,"nz-option",48),2&t){const t=e.$implicit;b.uc("nzLabel","",null==t?null:t.firstName," ",null==t?null:t.lastName,""),b.rc("nzValue",t)}}function Y(t,e){1&t&&(b.Xb(0,"strong",8),b.Xc(1," Other TMS Activity: "),b.Wb())}function $(t,e){1&t&&(b.Xb(0,"strong",8),b.Xc(1," Additional TMS Activities: "),b.Wb())}function q(t,e){if(1&t&&(b.Vb(0),b.Sb(1,"nz-option",50),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.rc("nzValue",t)("nzLabel",null==t?null:t.name)}}function Z(t,e){if(1&t){const t=b.Yb();b.Xb(0,"nz-select",49),b.ec("ngModelChange",function(e){return b.Lc(t),b.ic().activity=e}),b.Vc(1,q,2,2,"ng-container",21),b.Wb()}if(2&t){const t=b.ic();b.rc("ngModel",t.activity),b.Db(1),b.rc("ngForOf",t.activities)}}function Q(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",51),b.Xb(1,"input",52),b.ec("ngModelChange",function(e){return b.Lc(t),b.ic().setCustomActivity(e)}),b.Wb(),b.Wb()}}function K(t,e){if(1&t&&b.Sb(0,"nz-option",50),2&t){const t=b.ic().$implicit;b.uc("nzLabel","",null==t?null:t.code,", ",null==t?null:t.description,""),b.rc("nzValue",t)}}function J(t,e){if(1&t&&(b.Vb(0),b.Vc(1,K,1,3,"nz-option",53),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.rc("ngIf","Active"===(null==t?null:t.status)&&"CHRONIC"===(null==t?null:t.type))}}function tt(t,e){1&t&&(b.Xb(0,"div",19),b.Xb(1,"div",14),b.Xb(2,"label",54),b.Xc(3,"Required"),b.Wb(),b.Wb(),b.Wb())}function et(t,e){if(1&t&&b.Sb(0,"app-icons",57),2&t){const t=b.ic().$implicit;b.sc("name",null==t?null:t.icon)}}function nt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",27),b.Xb(1,"app-communication-action",55),b.ec("select",function(e){return b.Lc(t),b.ic().setCommunicationMode(null==e?null:e.type)}),b.Vc(2,et,1,1,"app-icons",56),b.Wb(),b.Wb()}if(2&t){const t=e.$implicit,n=b.ic();b.Db(1),b.rc("label",null==t?null:t.name)("type",null==t?null:t.type)("selectedType",n.communicationMode),b.Db(1),b.rc("ngIf",null==t?null:t.icon)}}function it(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",58),b.Xc(2,"Required"),b.Wb(),b.Ub())}function at(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",58),b.Xc(2,"Required"),b.Wb(),b.Ub())}function ot(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",58),b.Xc(2,"Required"),b.Wb(),b.Ub())}function st(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",58),b.Xc(2,"Required"),b.Wb(),b.Ub())}const rt=function(){return{nzMinuteStep:"10",nzFormat:"hh:mm"}},ct=function(){return{width:"unset"}};let lt=(()=>{class t{constructor(t,e,n,i,o,s,r,d){this._patientsService=t,this._episodesService=e,this._modalRef=n,this._notificationsService=i,this._modalService=o,this._patientCommunicationValidator=s,this._staffSessionPingService=r,this.draftHelper=d,this.duration=0,this.communicationModes=l.b,this.activities=a.a,this.billable=!0,this.isUpdateBillableModalVisible=!1,this.updateHistory={},this.currentPendingTmsType="TMS",this.currentPendingDuration=20,this.isUpdateTimeModalVisible=!1,this.isCMTTimeUpdatedManually=!1,this.isUpdateActivityModalVisible=!1,this.isUpdateTmsNoteModalVisible=!1,this.isUpdateModeModalVisible=!1,this.noteUpdateReason="",this.timeUpdateReason="",this.billableUpdateReason="",this.activityUpdateReason="",this.tmsNoteUpdateReason="",this.modeUpdateReason="",this.disabledDate=t=>Object(c.a)(this.careplanStartDate,t)>0||Object(c.a)(new Date((new Date).setHours(23,59,59,99)),t)<0,this.totalTMSDurationCompleted=0,this.totalAdditionalTMSDurationCompleted=0,this.totalAdditionalTMSBDurationCompleted=0,this.config=E.e,this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color")}set editTMS(t){var e,n,i,a,o,s,r,c,l,d,u,p,h,b,g,m,f,v,S,T,C,E,I,M,y;if(!t)return;this.patientCommunicationId=null==t?void 0:t.id,this.activities.forEach(e=>{(null==t?void 0:t.context)===e.type&&(this.activity=e,this.type=e.type)}),this.communicationModes.forEach(e=>{(null==t?void 0:t.mode)===e.type&&(this.communicationMode=e,this.setCommunicationMode(null==t?void 0:t.mode))}),this.startDate=new Date(null==t?void 0:t.startTime);const A=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4;this.duration=A<1?0:+(null==A?void 0:A.toFixed(0)),this.billable=null===(e=null==t?void 0:t.compliance)||void 0===e?void 0:e.billable,this.tmsNote=null==t?void 0:t.notes;const _=null===(n=null==t?void 0:t.dxCodes)||void 0===n?void 0:n.map(t=>null==t?void 0:t.code);(null==_?void 0:_.length)&&(this.selectedDxCodes=null===(s=(null===(a=null===(i=this.patient)||void 0===i?void 0:i.healthInfo)||void 0===a?void 0:a.dxCodes)||(null===(o=this.patient)||void 0===o?void 0:o.dxCodes))||void 0===s?void 0:s.filter(t=>-1!=(null==_?void 0:_.findIndex(e=>e===(null==t?void 0:t.code))))),this.primaryDuration=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4,this.primaryBillable=this.billable,this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryMode=this.communicationMode,null!=(null==t?void 0:t.updateHistory)&&(this.timeUpdateReason=null==(null===(c=null===(r=null==t?void 0:t.updateHistory)||void 0===r?void 0:r.timeUpdateHistory)||void 0===c?void 0:c.reason)?"":null===(d=null===(l=null==t?void 0:t.updateHistory)||void 0===l?void 0:l.timeUpdateHistory)||void 0===d?void 0:d.reason,this.billableUpdateReason=null==(null===(p=null===(u=null==t?void 0:t.updateHistory)||void 0===u?void 0:u.billableUpdateHistory)||void 0===p?void 0:p.reason)?"":null===(b=null===(h=null==t?void 0:t.updateHistory)||void 0===h?void 0:h.billableUpdateHistory)||void 0===b?void 0:b.reason,this.activityUpdateReason=null==(null===(m=null===(g=null==t?void 0:t.updateHistory)||void 0===g?void 0:g.activityUpdateHistory)||void 0===m?void 0:m.reason)?"":null===(v=null===(f=null==t?void 0:t.updateHistory)||void 0===f?void 0:f.activityUpdateHistory)||void 0===v?void 0:v.reason,this.tmsNoteUpdateReason=null==(null===(T=null===(S=null==t?void 0:t.updateHistory)||void 0===S?void 0:S.noteUpdateHistory)||void 0===T?void 0:T.reason)?"":null===(E=null===(C=null==t?void 0:t.updateHistory)||void 0===C?void 0:C.noteUpdateHistory)||void 0===E?void 0:E.reason,this.modeUpdateReason=null==(null===(M=null===(I=null==t?void 0:t.updateHistory)||void 0===I?void 0:I.communicationModeUpdateHistory)||void 0===M?void 0:M.reason)?"":null===(y=null==t?void 0:t.updateHistory.communicationModeUpdateHistory)||void 0===y?void 0:y.reason)}set appointmentTime(t){if(!(null==t?void 0:t.length)||!t[0])return void this.setDefaultDateAndTime();this.appointmentStartDateTime=t[0],this.appointmentEndTime=t[1],this.setActivity("PATIENT_ENGAGEMENT","CALL",!!this.tmsNote),this.startDate=new Date(t[0]);const e=(t[1]-t[0])/6e4;this.duration=e<1?0:+(null==e?void 0:e.toFixed(0)),this.primaryDuration=this.duration,this.validateTMSData()}set stickyNote(t){t&&(this.tmsNote=t,this.stickyNoteText=this.tmsNote)}ngOnInit(){this.tmsAddedNotifications=new Array,this.getTMSDetails()}ngAfterViewInit(){this.fetchCaretakersForPatient()}setDefaultDateAndTime(){this.startDate=new Date(Date.now()-18e5)}fetchCaretakersForPatient(){this._patientsService.fetchCaretakersForPatient(this.patient.id).subscribe(t=>{if(!t||!t.length)return void this._notificationsService.error("TMS",`${this.patient.name} does not have a clinician assigned!`);this.caretakers=t;const e=localStorage.getItem("loggedInUserRole");if(h.a.MONITORING_STAFF===e){const t=localStorage.getItem("loggedInUser");this.caretakers=this.caretakers.filter(e=>t===e.id)}this.selectedCaretaker=this.caretakers[0],this.validateTMSData()})}getTMSDetails(){var t,e,n,i,a,o,s,r;(2>=(null===(e=null===(t=this.patient)||void 0===t?void 0:t.dxCodes)||void 0===e?void 0:e.length)||2>=(null===(a=null===(i=null===(n=this.patient)||void 0===n?void 0:n.healthInfo)||void 0===i?void 0:i.dxCodes)||void 0===a?void 0:a.length))&&(this.selectedDxCodes=(null===(o=this.patient)||void 0===o?void 0:o.dxCodes)||(null===(r=null===(s=this.patient)||void 0===s?void 0:s.healthInfo)||void 0===r?void 0:r.dxCodes)),this._episodesService.getCallDetails(this.patient.id,this.episodeId).subscribe(t=>{var e;if(t){let n=null===(e=null==t?void 0:t.map(t=>null==t?void 0:t.durationInMilliSeconds))||void 0===e?void 0:e.reduce((t,e)=>t+e,0);n/=6e4,this.countCompletedTMSDetails(t),this.episodeTMSProgress=this.generateEpisodeTMSObject(n),this.validateTMSData()}})}countCompletedTMSDetails(t){this.totalTMSDurationCompleted=t.filter(t=>"TMS"===t.type).map(t=>t.durationInMilliSeconds).reduce((t,e)=>t+e,0),this.totalAdditionalTMSDurationCompleted=t.filter(t=>"ADDITIONAL_TMS"===t.type).map(t=>t.durationInMilliSeconds).reduce((t,e)=>t+e,0),this.totalAdditionalTMSBDurationCompleted=t.filter(t=>"ADDITIONAL_TMS_B"===t.type).map(t=>t.durationInMilliSeconds).reduce((t,e)=>t+e,0),this.totalTMSDurationCompleted=this.totalTMSDurationCompleted/6e4,this.totalAdditionalTMSDurationCompleted=this.totalAdditionalTMSDurationCompleted/6e4,this.totalAdditionalTMSBDurationCompleted=this.totalAdditionalTMSBDurationCompleted/6e4,this.setCurrentlyPendingTMSTypeAndPendingDuration()}setCurrentlyPendingTMSTypeAndPendingDuration(){var t;let e=null!=this.episodeTMSProgress?null===(t=this.episodeTMSProgress)||void 0===t?void 0:t.total:20;this.totalAdditionalTMSDurationCompleted>=e?(this.currentPendingTmsType="ADDITIONAL_TMS_B",this.currentPendingDuration=1/0):this.totalTMSDurationCompleted>=e?(this.currentPendingTmsType="ADDITIONAL_TMS",this.currentPendingDuration=e-this.totalAdditionalTMSDurationCompleted):(this.currentPendingTmsType="TMS",this.currentPendingDuration=e-this.totalTMSDurationCompleted)}generateEpisodeTMSObject(t){const e=6e4*t,n=20*t/100;return{episodeId:this.episodeId,completed:Number.isNaN(e)?0:e,episodeType:p.a.RPM,maxValue:20,percent:Number.isNaN(n)?0:n,remaining:"",total:12e5}}setActivityDetails(t=!1){this.activity&&this.communicationMode&&this.activity.configs[this.communicationMode]&&(null==this.primaryDuration&&(this.duration=this.activity.configs[this.communicationMode].duration),this.stickyNoteText?this._modalService.create({nzTitle:"Confirm",nzContent:"Changing the selected values will replace the note entered with a default note, do you want to proceed without replacing the note with the default one?",nzClosable:!1,nzCloseIcon:null,nzMaskClosable:!1,nzKeyboard:!1,nzOkText:"Yes",nzCancelText:"No",nzOnCancel:()=>{this.duration=this.activity.configs[this.communicationMode].duration,this.tmsNote=this.activity.configs[this.communicationMode].note,this.stickyNoteText=void 0}}):this.tmsNote=this.activity.configs[this.communicationMode].note,this.context=this.activity.configs[this.communicationMode].context)}setActivity(t,e,n=!1){t&&(this.type=t,this.communicationMode=e,this.activity=this.activities.find(e=>e.type===t),this.setActivityDetails(),this.validateTMSData())}setCustomActivity(t){this.activity={name:t}}showTMSHistory(){this._modalService.create({nzContent:u.a,nzComponentParams:{patientId:this.patient.id,patientName:this.patient.name,episodeId:this.episodeId,tmsType:this.cptCode},nzWidth:725,nzBodyStyle:{height:"675px",overflowY:"scroll"},nzFooter:null})}setCommunicationMode(t){this.communicationMode=s.a[t],this.setActivityDetails(),this.validateTMSData()}generateTMSObject(t,e,n,i){return{patientId:this.patient.id,episodeId:this.episodeId,caretakerId:this.selectedCaretaker.id,date:t,startTime:t,endTime:e,notes:this.tmsNote,mode:this.communicationMode,activity:this.activity.name,dxCodes:this.selectedDxCodes,context:this.context,billable:this.billable,type:n,cptCode:i,tenantId:localStorage.getItem("loggedInTenant")}}validateTMSData(t){var e;t&&(this.duration=t);const n=this._patientCommunicationValidator.validate(this.selectedCaretaker,this.startDate,this.communicationMode,this.activity,this.duration,this.tmsNote);return this.billable&&(!this.selectedDxCodes||(null===(e=this.selectedDxCodes)||void 0===e?void 0:e.length)<2)&&(null==n||n.push("Please select at least 2 diagnosis codes before proceeding!")),this.validated=!n.length,n}updateNextTmsTypeAndPendingDuration(t,e){var n;let i=null!=this.episodeTMSProgress?null===(n=this.episodeTMSProgress)||void 0===n?void 0:n.total:20;if(e>0)switch(t){case"TMS":this.currentPendingTmsType="ADDITIONAL_TMS",this.currentPendingDuration=i;break;default:this.currentPendingTmsType="ADDITIONAL_TMS_B",this.currentPendingDuration=1/0}}getCPTCodeForTmsType(t){switch(t){case"TMS":return i.a.TREATMENT_MANAGEMENT_SERVICE;case"ADDITIONAL_TMS":return i.a.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE;case"ADDITIONAL_TMS_B":return i.a.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B;default:return null}}isLastAvailableTMSType(t){return"ADDITIONAL_TMS_B"===t}closeModal(t){this._modalRef.close(t)}showDetails(){this._modalService.create({nzContent:T,nzTitle:"TMS Details",nzWidth:725,nzBodyStyle:{height:"640px",overflowY:"none"},nzFooter:null})}generateTMSRequestObject(){var t,e;return{id:this.patientCommunicationId,patientId:this.patient.id,episodeId:this.episodeId,staffId:this.selectedCaretaker.id,startTime:null===(t=this.startDate)||void 0===t?void 0:t.getTime(),endTime:(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,notes:this.tmsNote,mode:this.communicationMode,activity:this.activity.name,dxCodes:this.selectedDxCodes,context:this.context,billable:this.billable,serviceCode:this.cptCode,timerId:this.timerId,noteUpdateReason:this.noteUpdateReason,updateHistory:this.updateHistory}}save(){this.primaryDuration!=this.duration&&null!=this.primaryDuration||1!=this.primaryBillable||null!=this.primaryActivity||null!=this.primaryTmsNote||null!=this.primaryMode?this.primaryDuration!=this.duration||this.billable!=this.primaryBillable||this.activity.name!=this.primaryActivity||this.tmsNote!=this.primaryTmsNote||this.communicationMode!=this.primaryMode?(this.primaryDuration!=this.duration&&null!=this.primaryDuration&&(this.isUpdateTimeModalVisible=!0,this.isCMTTimeUpdatedManually=!0),this.activity.name!=this.primaryActivity&&null!=this.primaryActivity&&(this.isUpdateActivityModalVisible=!0),this.tmsNote!=this.primaryTmsNote&&null!=this.primaryTmsNote&&(this.isUpdateTmsNoteModalVisible=!0),this.primaryMode!=this.communicationMode&&null!=this.primaryMode&&(this.isUpdateModeModalVisible=!0),this.billable!=this.primaryBillable&&this.submitUpdateBillableReason()):(this.isCMTTimeUpdatedManually=!1,this.proceedToSave()):this.proceedToSave()}saveUpdatedReasons(){let t={reason:this.billableUpdateReason},e={reason:this.activityUpdateReason},n={reason:this.tmsNoteUpdateReason},i={reason:this.modeUpdateReason};this.updateHistory.timeUpdateHistory={reason:this.timeUpdateReason},this.updateHistory.billableUpdateHistory=t,this.updateHistory.activityUpdateHistory=e,this.updateHistory.noteUpdateHistory=n,this.updateHistory.communicationModeUpdateHistory=i,this.isUpdateTimeModalVisible||this.isUpdateActivityModalVisible||this.isUpdateTmsNoteModalVisible||this.isUpdateModeModalVisible||this.proceedToSave()}submitUpdateReason(){this.reasonForChange?(this.isNoteRequired=!1,this.isUpdateTimeModalVisible=!1,this.reasonUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.timeUpdateReason+="<div>TMS <strong>updated </strong>from <strong>"+this.primaryDuration+" to "+this.duration+" minutes </strong> on <strong>"+this.reasonUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForChange+"</br></br>",this.saveUpdatedReasons()):this.isNoteRequired=!0}closeUpdateModal(){this.timeUpdateReason="",this.duration=this.primaryDuration,this.isUpdateTimeModalVisible=!1}submitUpdateBillableReason(){this.billableUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.primaryBillable!=this.billable&&null!=this.primaryBillable&&(this.primaryBillable?(this.primaryBillableNote="Billable",this.updatedBillableNote="Non-Billable"):(this.primaryBillableNote="Non-Billable",this.updatedBillableNote="Billable"),this.billableUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryBillableNote+" to "+this.updatedBillableNote+"</strong> on <strong>"+this.billableUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong></br></br>"),this.saveUpdatedReasons()}closeBillableModal(){this.billableUpdateReason="",this.billable=this.primaryBillable,this.isUpdateBillableModalVisible=!1}submitUpdateActivityReason(){this.reasonForActivityUpdate?(this.isActivityNoteRequired=!1,this.isUpdateActivityModalVisible=!1,this.activityUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.activityUpdateReason+="<div>TMS <strong>updated </strong>from <strong>"+this.primaryActivity+" to "+this.activity.name+"</strong> on <strong>"+this.activityUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForActivityUpdate+"</br></br>",this.saveUpdatedReasons()):this.isActivityNoteRequired=!0}closeActivityModal(){this.activityUpdateReason="",this.activity.name=this.primaryActivity,this.setActivity(this.primaryActivity,this.communicationMode,!0),this.isUpdateActivityModalVisible=!1}submitTmsUpdateReason(){this.reasonForTmsNoteUpdate?(this.isTmsNoteRequired=!1,this.isUpdateTmsNoteModalVisible=!1,this.tmsNoteUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.tmsNoteUpdateReason+="<div>TMS <strong>updated </strong>from <strong>"+this.primaryTmsNote+" to "+this.tmsNote+"</strong> on <strong>"+this.tmsNoteUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForTmsNoteUpdate+"</br></br>",this.saveUpdatedReasons()):this.isTmsNoteRequired=!0}closeTmsUpdateModal(){this.tmsNoteUpdateReason="",this.tmsNote=this.primaryTmsNote,this.isUpdateTmsNoteModalVisible=!1}submitModeUpdateReason(){if(!this.reasonForModeUpdate)return void(this.isModeNoteRequired=!0);let t,e;this.isModeNoteRequired=!1,this.isUpdateModeModalVisible=!1,this.modeUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"});for(let n of this.communicationModes)if(n.type==this.primaryMode&&(t=n.name),n.type==this.communicationMode&&(e=n.name),t&&e)break;this.modeUpdateReason+="<div>TMS <strong>updated </strong>from <strong>"+t+" to "+e+"</strong> on <strong>"+this.modeUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForModeUpdate+"</br></br>",this.saveUpdatedReasons()}closeModeUpdateModal(){this.modeUpdateReason="",this.communicationMode=this.primaryMode,this.isUpdateModeModalVisible=!1}proceedToSave(){var t,e;this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryBillable=this.billable,this.primaryMode=this.communicationMode;const n=this.validateTMSData();this._patientCommunicationValidator.showErrors(n),this.loading=!0,this._episodesService.validateStartEndTime(this.patient.id,null===(t=this.startDate)||void 0===t?void 0:t.getTime(),(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,this.patientCommunicationId).subscribe(t=>{if(t&&t.length)return this._notificationsService.error("TMS","Start time or End time overlap previous TMS record"),void(this.loading=!1);const e=this.generateTMSRequestObject();(null==e?void 0:e.id)?this._episodesService.updatePatientCommunication(e).subscribe(t=>{this._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e}),this._notificationsService.success("TMS Recorded",null==t?void 0:t.message),"GLOBAL_TIMER"==this.referrer?this.closeModalObject({mode:this.communicationMode,billable:this.billable}):this.closeModal(!0),this.loading=!1,this.draftHelper.removeTimeTrackingNotes(this.patient.id)}):this._episodesService.savePatientCommunication(e).subscribe(t=>{this._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e}),this._notificationsService.success("TMS Recorded",null==t?void 0:t.message),"GLOBAL_TIMER"==this.referrer?this.closeModalObject({mode:this.communicationMode,billable:this.billable}):this.closeModal(!0),this.loading=!1,this.draftHelper.removeTimeTrackingNotes(this.patient.id)})})}setTemplate(t){this.tmsNote=t}closeModalObject(t){this._modalRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(r.a),b.Rb(o.a),b.Rb(M.e),b.Rb(y.b),b.Rb(M.f),b.Rb(d.a),b.Rb(C.a),b.Rb(I.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-tms"]],inputs:{patient:"patient",episodeId:"episodeId",careplanStartDate:"careplanStartDate",tmsType:"tmsType",cptCode:"cptCode",timerId:"timerId",editTMS:"editTMS",appointmentTime:"appointmentTime",stickyNote:"stickyNote",draftId:"draftId",referrer:"referrer"},features:[b.Cb([d.a])],decls:148,vars:103,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],["cdkDragHandle","",1,"draggable-handle"],["id","heading"],["actionable","",1,"tms-more-details",3,"click"],["name","infoCircle","size","16px",3,"color"],[1,"body-container"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],[1,"label"],["nzFormat","dd-MMM-yyyy HH:mm","nzSize","small",3,"nzShowTime","nzPlaceHolder","ngModel","nzDisabledDate","ngStyle","ngModelChange"],["id","caretakers",3,"ngModel","nzSize","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-row","","nzGutter","2"],["nz-row","","nzGutter","2",1,"centerize"],["nz-col","","nzSpan","24"],[3,"nzColor","nzMode","click"],["class","label",4,"ngIf"],["id","activities","nzPlaceHolder","Select Activity",3,"ngModel","ngModelChange",4,"ngIf"],["nz-col","","nzSpan","22",4,"ngIf"],["nz-row",""],["id","dxCodes","nzPlaceHolder","Select at least 2 diagnosis codes","nzMode","multiple","nzMaxMultipleCount","4",3,"ngModel","nzDisabled","ngModelChange"],[4,"ngFor","ngForOf"],["nz-row","",4,"ngIf"],["nz-row","","nzGutter","8","nzAlign","middle"],["nz-col","","nzSpan","4",2,"padding-bottom","8px"],["nz-col","","nzSpan","4",4,"ngFor","ngForOf"],[3,"duration","durationChange"],["nz-col","","nzSpan","4"],["nz-col","","nzSpan","6",3,"ngClass"],["nz-col","","nzSpan","7",3,"ngClass"],["nz-col","","nzOffset","8","nzSpan","8",1,"centerize"],["nzSize","small",3,"ngModel","ngModelChange"],["nz-radio","",3,"nzValue"],["nz-col","","nzSpan","3","id","tms-notes-label"],["nz-col","","nzSpan","21"],["placeholder","Add a note..",3,"ngModel","config","ngModelChange"],["note",""],[3,"note","onTemplateSelected"],[3,"loadingState","validationState","compact","roundedButtons","showHistory","save"],["nzTitle","Please enter the reason for updating TMS minutes",3,"nzVisible","nzFooter","nzVisibleChange"],["nz-input","","placeholder","Enter your reason for updating here",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"reason-update-btn-div"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",1,"reason-update-btn",3,"click"],["nzTitle","Please enter the reason for updating TMS Activity",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating TMS Note",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating TMS Communication Mode",3,"nzVisible","nzFooter","nzVisibleChange"],[3,"nzLabel","nzValue"],["id","activities","nzPlaceHolder","Select Activity",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel"],["nz-col","","nzSpan","22"],["id","activities","ngModel","","placeholder","Enter custom activity...","nz-input","",3,"ngModelChange"],[3,"nzValue","nzLabel",4,"ngIf"],["nz-typography","","nzType","danger"],[3,"label","type","selectedType","select"],["size","16px",3,"name",4,"ngIf"],["size","16px",3,"name"],[1,"reason-update-error",2,"color","red"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Vb(1),b.Xb(2,"span",1),b.Xb(3,"strong",2),b.Xc(4),b.Wb(),b.Xb(5,"span",3),b.ec("click",function(){return e.showDetails()}),b.Sb(6,"app-icons",4),b.Xc(7," \xa0"),b.Xb(8,"strong"),b.Xc(9,"More Details"),b.Wb(),b.Wb(),b.Wb(),b.Ub(),b.Xb(10,"div",5),b.Xb(11,"div",6),b.Xb(12,"div",7),b.Xb(13,"strong",8),b.Xc(14),b.jc(15,"translate"),b.Wb(),b.Xc(16," \xa0\xa0 "),b.Xb(17,"nz-date-picker",9),b.ec("ngModelChange",function(t){return e.startDate=t})("ngModelChange",function(){return e.validateTMSData()}),b.jc(18,"translate"),b.Wb(),b.Wb(),b.Xb(19,"div",7),b.Xb(20,"strong",8),b.Xc(21),b.jc(22,"translate"),b.Wb(),b.Xc(23," \xa0\xa0 "),b.Xb(24,"nz-select",10),b.ec("ngModelChange",function(t){return e.selectedCaretaker=t}),b.Vc(25,G,1,3,"nz-option",11),b.Wb(),b.Wb(),b.Wb(),b.Sb(26,"br"),b.Xb(27,"div",12),b.Xb(28,"strong",8),b.Xc(29," Choose a TMS Activity "),b.Wb(),b.Wb(),b.Xb(30,"div",13),b.Xb(31,"div",14),b.Xb(32,"nz-tag",15),b.ec("click",function(){return e.setActivity("ONBOARDING","OTHER")}),b.Xc(33),b.jc(34,"translate"),b.Wb(),b.Xb(35,"nz-tag",15),b.ec("click",function(){return e.setActivity("TECH_SUPPORT","CALL")}),b.Xc(36,"Tech Support"),b.Wb(),b.Xb(37,"nz-tag",15),b.ec("click",function(){return e.setActivity("PATIENT_ENGAGEMENT","CALL")}),b.Xc(38,"Patient Engagement"),b.Wb(),b.Xb(39,"nz-tag",15),b.ec("click",function(){return e.setActivity("DATA_REVIEW_PATIENT","OTHER")}),b.Xc(40),b.jc(41,"translate"),b.Wb(),b.Xb(42,"nz-tag",15),b.ec("click",function(){return e.setActivity("DATA_REVIEW_EHR","OTHER")}),b.Xc(43),b.jc(44,"translate"),b.Wb(),b.Wb(),b.Wb(),b.Xb(45,"div",13),b.Xb(46,"div",14),b.Xb(47,"nz-tag",15),b.ec("click",function(){return e.setActivity("DATA_REVIEW_MD","OTHER")}),b.Xc(48),b.jc(49,"translate"),b.Wb(),b.Xb(50,"nz-tag",15),b.ec("click",function(){return e.setActivity("ALERT_MANAGEMENT","CALL")}),b.Xc(51),b.jc(52,"translate"),b.Wb(),b.Xb(53,"nz-tag",15),b.ec("click",function(){return e.setActivity("ESCALATION","OTHER")}),b.Xc(54),b.jc(55,"translate"),b.Wb(),b.Xb(56,"nz-tag",15),b.ec("click",function(){return e.setActivity("TEXT_REMINDER","OTHER")}),b.Xc(57," Text Reminder "),b.Wb(),b.Xb(58,"nz-tag",15),b.ec("click",function(){return e.setActivity("OTHERS","CALL")}),b.Xc(59," Others"),b.Wb(),b.Wb(),b.Wb(),b.Xb(60,"div"),b.Vc(61,Y,2,0,"strong",16),b.Vc(62,$,2,0,"strong",16),b.Vc(63,Z,2,2,"nz-select",17),b.Vc(64,Q,2,0,"div",18),b.Wb(),b.Sb(65,"br"),b.Xb(66,"div"),b.Xb(67,"strong",8),b.Xc(68,"Dx*"),b.Wb(),b.Wb(),b.Xb(69,"div",19),b.Xb(70,"div",14),b.Xb(71,"nz-select",20),b.ec("ngModelChange",function(t){return e.selectedDxCodes=t})("ngModelChange",function(){return e.validateTMSData()}),b.Vc(72,J,2,1,"ng-container",21),b.Wb(),b.Wb(),b.Wb(),b.Vc(73,tt,4,0,"div",22),b.Sb(74,"br"),b.Xb(75,"div",19),b.Xb(76,"div",14),b.Xb(77,"div",23),b.Xb(78,"div",24),b.Xb(79,"strong",8),b.Xc(80),b.jc(81,"translate"),b.Wb(),b.Wb(),b.Vc(82,nt,3,4,"div",25),b.Wb(),b.Wb(),b.Xb(83,"div",14),b.Xb(84,"app-time-selector",26),b.ec("durationChange",function(t){return e.validateTMSData(t)}),b.Wb(),b.Wb(),b.Sb(85,"div",27),b.Xb(86,"div",28),b.Xc(87),b.Wb(),b.Xb(88,"div",29),b.Xc(89),b.Wb(),b.Xb(90,"div",29),b.Xc(91),b.Wb(),b.Wb(),b.Sb(92,"br"),b.Xb(93,"div",6),b.Xb(94,"div",30),b.Xb(95,"nz-radio-group",31),b.ec("ngModelChange",function(t){return e.billable=t})("ngModelChange",function(){return e.validateTMSData()}),b.Xb(96,"label",32),b.Xc(97,"Billable"),b.Wb(),b.Xb(98,"label",32),b.Xc(99,"Non-Billable"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Sb(100,"br"),b.Xb(101,"div",6),b.Xb(102,"div",33),b.Xc(103," Add notes: "),b.Wb(),b.Xb(104,"div",34),b.Xb(105,"angular-editor",35,36),b.ec("ngModelChange",function(t){return e.tmsNote=t})("ngModelChange",function(){return e.validateTMSData()}),b.Wb(),b.Wb(),b.Wb(),b.Sb(107,"br"),b.Xb(108,"div",6),b.Xb(109,"div",33),b.Xc(110," Template: "),b.Wb(),b.Xb(111,"div",7),b.Xb(112,"app-note-template-picker",37),b.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),b.Wb(),b.Wb(),b.Wb(),b.Sb(113,"br"),b.Sb(114,"br"),b.Xb(115,"app-footer-actions",38),b.ec("showHistory",function(){return e.showTMSHistory()})("save",function(){return e.save()}),b.Wb(),b.Wb(),b.Wb(),b.Xb(116,"nz-modal",39),b.ec("nzVisibleChange",function(t){return e.isUpdateTimeModalVisible=t}),b.Xb(117,"input",40),b.ec("ngModelChange",function(t){return e.reasonForChange=t}),b.Wb(),b.Vc(118,it,3,0,"ng-container",41),b.Xb(119,"div",42),b.Xb(120,"button",43),b.ec("click",function(){return e.closeUpdateModal()}),b.Xc(121,"Cancel"),b.Wb(),b.Xb(122,"button",44),b.ec("click",function(){return e.submitUpdateReason()}),b.Xc(123,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Xb(124,"nz-modal",45),b.ec("nzVisibleChange",function(t){return e.isUpdateActivityModalVisible=t}),b.Xb(125,"input",40),b.ec("ngModelChange",function(t){return e.reasonForActivityUpdate=t}),b.Wb(),b.Vc(126,at,3,0,"ng-container",41),b.Xb(127,"div",42),b.Xb(128,"button",43),b.ec("click",function(){return e.closeActivityModal()}),b.Xc(129,"Cancel"),b.Wb(),b.Xb(130,"button",44),b.ec("click",function(){return e.submitUpdateActivityReason()}),b.Xc(131,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Xb(132,"nz-modal",46),b.ec("nzVisibleChange",function(t){return e.isUpdateTmsNoteModalVisible=t}),b.Xb(133,"input",40),b.ec("ngModelChange",function(t){return e.reasonForTmsNoteUpdate=t}),b.Wb(),b.Vc(134,ot,3,0,"ng-container",41),b.Xb(135,"div",42),b.Xb(136,"button",43),b.ec("click",function(){return e.closeTmsUpdateModal()}),b.Xc(137,"Cancel"),b.Wb(),b.Xb(138,"button",44),b.ec("click",function(){return e.submitTmsUpdateReason()}),b.Xc(139,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Xb(140,"nz-modal",47),b.ec("nzVisibleChange",function(t){return e.isUpdateModeModalVisible=t}),b.Xb(141,"input",40),b.ec("ngModelChange",function(t){return e.reasonForModeUpdate=t}),b.Wb(),b.Vc(142,st,3,0,"ng-container",41),b.Xb(143,"div",42),b.Xb(144,"button",43),b.ec("click",function(){return e.closeModeUpdateModal()}),b.Xc(145,"Cancel"),b.Wb(),b.Xb(146,"button",44),b.ec("click",function(){return e.submitModeUpdateReason()}),b.Xc(147,"Save"),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Db(4),b.Zc("TMS Time: ",(null==e.patient?null:e.patient.name)||"",""),b.Db(2),b.rc("color",e.iconColor),b.Db(8),b.Zc("",b.kc(15,81,"COMMON.DATE"),": "),b.Db(3),b.sc("nzPlaceHolder",b.kc(18,83,"TABLEHEADER.STARTTIME")),b.rc("nzShowTime",b.xc(101,rt))("ngModel",e.startDate)("nzDisabledDate",e.disabledDate)("ngStyle",b.xc(102,ct)),b.Db(4),b.Zc("",b.kc(22,85,"PATIENT.MONITORING_STAFF"),": "),b.Db(3),b.rc("ngModel",e.selectedCaretaker)("nzSize","small"),b.Db(1),b.rc("ngForOf",e.caretakers),b.Db(7),b.rc("nzColor","ONBOARDING"===e.type?"green":null)("nzMode","default"),b.Db(1),b.Yc(b.kc(34,87,"TMS.ONBOARDING")),b.Db(2),b.rc("nzColor","TECH_SUPPORT"===e.type?"green":null)("nzMode","default"),b.Db(2),b.rc("nzColor","PATIENT_ENGAGEMENT"===e.type?"green":null)("nzMode","default"),b.Db(2),b.rc("nzColor","DATA_REVIEW_PATIENT"===e.type?"green":null)("nzMode","default"),b.Db(1),b.Zc(" ",b.kc(41,89,"TMS.DATA_REVIEW_VITALS"),""),b.Db(2),b.rc("nzColor","DATA_REVIEW_EHR"===e.type?"green":null)("nzMode","default"),b.Db(1),b.Zc(" ",b.kc(44,91,"TMS.DATA_REVIEW_EHR"),""),b.Db(4),b.rc("nzColor","DATA_REVIEW_MD"===e.type?"green":null)("nzMode","default"),b.Db(1),b.Yc(b.kc(49,93,"TMS.DATA_REVIEW_MD")),b.Db(2),b.rc("nzColor","ALERT_MANAGEMENT"===e.type?"green":null)("nzMode","default"),b.Db(1),b.Zc(" ",b.kc(52,95,"TMS.MANAGING_ALERTS"),""),b.Db(2),b.rc("nzColor","ESCALATION"===e.type?"green":null)("nzMode","default"),b.Db(1),b.Yc(b.kc(55,97,"TMS.ESCALATION")),b.Db(2),b.rc("nzColor","TEXT_REMINDER"===e.type?"green":null)("nzMode","default"),b.Db(2),b.rc("nzColor","OTHERS"===e.type?"green":null)("nzMode","default"),b.Db(3),b.rc("ngIf","OTHERS"===e.type),b.Db(1),b.rc("ngIf","OTHERS"!==e.type),b.Db(1),b.rc("ngIf","OTHERS"!==e.type),b.Db(1),b.rc("ngIf","OTHERS"===e.type),b.Db(7),b.rc("ngModel",e.selectedDxCodes)("nzDisabled",!e.billable),b.Db(1),b.rc("ngForOf",(null==e.patient?null:e.patient.dxCodes)||(null==e.patient||null==e.patient.healthInfo?null:e.patient.healthInfo.dxCodes)),b.Db(1),b.rc("ngIf",e.billable&&2>(null==e.selectedDxCodes?null:e.selectedDxCodes.length)),b.Db(7),b.Zc("",b.kc(81,99,"TMS.COMMUNICATION_MODE"),": "),b.Db(2),b.rc("ngForOf",e.communicationModes),b.Db(2),b.rc("duration",e.duration),b.Db(2),b.rc("ngClass",e.totalTMSDurationCompleted>=20?"tms-completed":"tms-incomplete"),b.Db(1),b.Zc(" TMS Time Completed: ",e.totalTMSDurationCompleted," mins "),b.Db(1),b.rc("ngClass",e.totalAdditionalTMSDurationCompleted>=20?"tms-completed":"tms-incomplete"),b.Db(1),b.Zc(" Additional TMS Time-A Completed: ",e.totalAdditionalTMSDurationCompleted," mins "),b.Db(1),b.rc("ngClass",e.totalAdditionalTMSBDurationCompleted>=20?"tms-completed":"tms-incomplete"),b.Db(1),b.Zc(" Additional TMS Time-B Completed: ",e.totalAdditionalTMSBDurationCompleted," mins "),b.Db(4),b.rc("ngModel",e.billable),b.Db(1),b.rc("nzValue",!0),b.Db(2),b.rc("nzValue",!1),b.Db(7),b.rc("ngModel",e.tmsNote)("config",e.config),b.Db(7),b.rc("note",e.tmsNote),b.Db(3),b.rc("loadingState",e.loading)("validationState",e.validated)("compact",!0)("roundedButtons",!0),b.Db(1),b.rc("nzVisible",e.isUpdateTimeModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForChange),b.Db(1),b.rc("ngIf",e.isNoteRequired),b.Db(6),b.rc("nzVisible",e.isUpdateActivityModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForActivityUpdate),b.Db(1),b.rc("ngIf",e.isActivityNoteRequired),b.Db(6),b.rc("nzVisible",e.isUpdateTmsNoteModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForTmsNoteUpdate),b.Db(1),b.rc("ngIf",e.isTmsNoteRequired),b.Db(6),b.rc("nzVisible",e.isUpdateModeModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForModeUpdate),b.Db(1),b.rc("ngIf",e.isModeNoteRequired))},directives:[A.a,A.b,_.a,D.a,z.c,z.a,O.a,N.u,N.x,P.r,R.d,P.p,X.a,P.q,L.a,P.o,w.c,w.b,W.a,k.a,V.a,M.a,x.b,N.d,U.a,F.a,H.a,R.a,B.a,j.a],pipes:[m.a],styles:["#wrapper[_ngcontent-%COMP%]{font-size:12px}#heading[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color)}strong[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-input.ant-input-sm{border:none;font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-icon{color:var(--primary-color)}.label[_ngcontent-%COMP%]{color:var(--tertiary-color);font-size:11px;margin-bottom:5px;display:inline-flex}#activity[_ngcontent-%COMP%]{float:right;width:20px;height:20px;font-size:10px}#tms-notes[_ngcontent-%COMP%]{background:#fff 0 0 no-repeat padding-box;padding:2%;resize:none;font-size:12px}.centerize[_ngcontent-%COMP%]{text-align:center}#caretakers[_ngcontent-%COMP%]{width:200px;font-size:12px;color:var(--light-black)}[_nghost-%COMP%]     .ant-select-selection{border:none}[_nghost-%COMP%]     .ant-select-arrow{color:var(--primary-color)}[_nghost-%COMP%]     .ant-tag{height:30px;width:120px;border:1px solid var(--grey);border-radius:3px;font-size:10px;line-height:3;overflow-x:hidden;overflow-y:hidden;color:#000}.ant-tag-green[_ngcontent-%COMP%]{color:var(--neutral-color);background:var(--primary-color);border:1px solid var(--primary-color)}#activities[_ngcontent-%COMP%]{width:100%;background:#fbfbfb 0 0 no-repeat padding-box;border-radius:5px;font-size:12px}app-icons[_ngcontent-%COMP%]{vertical-align:sub}.body-container[_ngcontent-%COMP%]{margin-top:25px}.tms-incomplete[_ngcontent-%COMP%]{font-size:9px;color:#c2c2c2}.tms-completed[_ngcontent-%COMP%]{font-size:9px;color:var(--primary-color)}.tms-more-details[_ngcontent-%COMP%]{float:right;padding:0 50px 0 1%;color:var(--primary-color)}.tms-more-details-icon[_ngcontent-%COMP%]{padding:0 0 0 2%;color:var(--primary-color)}.draggable-handle[_ngcontent-%COMP%]{cursor:move}#tms-notes-label[_ngcontent-%COMP%]{padding-top:8px}.reason-update-error[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;height:10px;max-height:10px}.reason-update-btn-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:20px}.reason-update-btn[_ngcontent-%COMP%]{margin-left:10px}"]}),t})();const dt=[{name:"Initial Assessment",description:"Initial assessment or follow-up monitoring, including the use of applicable validated rating scales.",type:"INITIAL_ASSESSMENT",configs:{OTHER:{context:"INITIAL_ASSESSMENT",duration:10,note:"The patient was explained about the Gen-BHI program. The patient expressed understanding and was successfully onboarded onto the program.. Also, helped the patient with the submission of the assessment questionnaires for initial BHI screening."}}},{name:"BHI Care Planning",description:"Behavioral health care planning in relation to behavioral/psychiatric health problems, including revision for patients who are not progressing or whose status changes.",type:"BHI_CARE_PLANNING",configs:{OTHER:{context:"BHI_CARE_PLANNING",duration:10,note:"Discussed the observations on the data submitted by the patient for the current month with the MD for further modification in the patient's care plan."}}},{name:"Care Coordination",description:"Facilitating and coordinating treatment such as psychotherapy, pharmacotherapy, counseling and/or psychiatric consultation.",type:"CARE_COORDINATION",configs:{CALL:{context:"CARE_COORDINATION",duration:10,note:"Explained to the patient about the significance of assessment outcomes and emphasised the importance of taking medications on time and following the advice provided by the physician."},OTHER:{context:"CARE_COORDINATION",duration:5,note:"Explained to the patient about the significance of assessment outcomes and emphasised the importance of taking medications on time and following the advice provided by the physician."}}},{name:"MD Review",description:"Continuity of care with a designated member of the care team.",type:"MD_REVIEW",configs:{OTHER:{context:"MD_REVIEW",duration:5,note:"Reviewed the assessment data submitted by the patient and shared the observations with the MD for further review & advice."}}},{name:"Assessment/Review",type:"ASSESSMENT_REVIEW",configs:{CALL:{context:"ASSESSMENT_REVIEW",duration:10,note:"Assessed/Reviewed patient's health"}}},{name:"Others",description:"Custom activity",type:"OTHERS",configs:{CALL:{context:"",duration:0,note:""},OTHER:{context:"",duration:0,note:""}}}];var ut=n("5vDB");function pt(t,e){if(1&t&&(b.Xb(0,"p",11),b.Sb(1,"nz-divider"),b.Sb(2,"span",7),b.Wb()),2&t){const t=b.ic().$implicit;b.Db(2),b.sc("innerHTML",null==t||null==t.updateHistory||null==t.updateHistory.timeUpdateHistory?null:t.updateHistory.timeUpdateHistory.reason,b.Mc)}}function ht(t,e){if(1&t&&(b.Xb(0,"p",11),b.Sb(1,"span",12),b.Wb()),2&t){const t=b.ic().$implicit;b.Db(1),b.sc("innerHtml",null==t||null==t.updateHistory||null==t.updateHistory.activityUpdateHistory?null:t.updateHistory.activityUpdateHistory.reason,b.Mc)}}function bt(t,e){if(1&t&&(b.Xb(0,"p",11),b.Sb(1,"span",7),b.Wb()),2&t){const t=b.ic().$implicit;b.Db(1),b.sc("innerHTML",null==t||null==t.updateHistory||null==t.updateHistory.noteUpdateHistory?null:t.updateHistory.noteUpdateHistory.reason,b.Mc)}}function gt(t,e){if(1&t&&(b.Xb(0,"p",11),b.Sb(1,"span",12),b.Wb()),2&t){const t=b.ic().$implicit;b.Db(1),b.sc("innerHtml",null==t||null==t.updateHistory||null==t.updateHistory.communicationModeUpdateHistory?null:t.updateHistory.communicationModeUpdateHistory.reason,b.Mc)}}function mt(t,e){if(1&t&&(b.Vb(0),b.Xc(1),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.ad(" ",null==t?null:t.code," ",null==t?null:t.description,",\xa0 ")}}function ft(t,e){if(1&t&&(b.Xb(0,"p",11),b.Xb(1,"strong"),b.Xc(2,"Dx Codes -"),b.Wb(),b.Vc(3,mt,2,2,"ng-container",2),b.Wb()),2&t){const t=b.ic().$implicit;b.Db(3),b.rc("ngForOf",null==t?null:t.dxCodes)}}function vt(t,e){if(1&t&&(b.Vb(0),b.Xb(1,"label",1),b.Xc(2),b.Wb(),b.Ub()),2&t){const t=b.ic().$implicit;b.Db(2),b.Yc(null==t?null:t.caretakerName)}}function St(t,e){if(1&t&&(b.Vb(0),b.Xb(1,"label",13),b.Xc(2),b.Wb(),b.Ub()),2&t){const t=b.ic().$implicit;b.Db(2),b.Zc(" Deleted by ",null==t?null:t.changedByStaff," ")}}function Tt(t,e){if(1&t&&(b.Xb(0,"div",14),b.Xb(1,"h6"),b.Xb(2,"strong"),b.Xc(3),b.Wb(),b.Wb(),b.Xb(4,"h6"),b.Xc(5,"mins"),b.Wb(),b.Wb()),2&t){const t=b.ic().$implicit;b.Db(3),b.Yc((null==t?null:t.durationInMilliSeconds)/6e4)}}function Ct(t,e){if(1&t&&(b.Vb(0),b.Xb(1,"nz-timeline-item",3),b.Xb(2,"strong",4),b.Xc(3),b.jc(4,"date"),b.Wb(),b.Sb(5,"nz-divider",5),b.Xb(6,"strong",4),b.Xc(7),b.Wb(),b.Sb(8,"br"),b.Xb(9,"p"),b.Xb(10,"span",6),b.Xc(11),b.Wb(),b.Sb(12,"br"),b.Sb(13,"span",7),b.Wb(),b.Vc(14,pt,3,1,"p",8),b.Vc(15,ht,2,1,"p",8),b.Vc(16,bt,2,1,"p",8),b.Vc(17,gt,2,1,"p",8),b.Vc(18,ft,4,1,"p",8),b.Vc(19,vt,3,1,"ng-container",9),b.Vc(20,St,3,1,"ng-container",9),b.Wb(),b.Vc(21,Tt,6,1,"ng-template",null,10,b.Wc),b.Ub()),2&t){const t=e.$implicit,n=b.Ic(22),i=b.ic();b.Db(1),b.rc("nzDot",n),b.Db(1),b.rc("ngClass",null!=t&&t.archived?"strikethrough":"null"),b.Db(1),b.Zc(" ",b.lc(4,14,null==t?null:t.date,"mediumDate")," "),b.Db(3),b.rc("ngClass",null!=i.tms&&i.tms.archived?"strikethrough":"null"),b.Db(1),b.Zc(" ",i.mode.get(t.mode)," "),b.Db(4),b.Yc(null==t?null:t.activity),b.Db(2),b.rc("innerHTML",null==t?null:t.notes,b.Mc),b.Db(1),b.rc("ngIf",null==t||null==t.updateHistory||null==t.updateHistory.timeUpdateHistory?null:t.updateHistory.timeUpdateHistory.reason),b.Db(1),b.rc("ngIf",null==t||null==t.updateHistory||null==t.updateHistory.activityUpdateHistory?null:t.updateHistory.activityUpdateHistory.reason),b.Db(1),b.rc("ngIf",null==t||null==t.updateHistory||null==t.updateHistory.noteUpdateHistory?null:t.updateHistory.noteUpdateHistory.reason),b.Db(1),b.rc("ngIf",null==t||null==t.updateHistory||null==t.updateHistory.communicationModeUpdateHistory?null:t.updateHistory.communicationModeUpdateHistory.reason),b.Db(1),b.rc("ngIf",null==t||null==t.dxCodes?null:t.dxCodes.length),b.Db(1),b.rc("ngIf",!(null!=t&&t.archived)),b.Db(1),b.rc("ngIf",null==t?null:t.archived)}}let Et=(()=>{class t{constructor(t){this._episodesService=t,this.cmtDetails=[],this.mode=new Map([["VIDEO_CALL","Video Call"],["CALL","Audio Call"],["HOME_VISIT","Home Visit"],["CLINIC_VISIT","In Clinic"],["OTHER","Other"]])}ngOnInit(){this.getCMTDetails()}getCMTDetails(){this._episodesService.getCallDetails(this.patientId,this.episodeId).subscribe(t=>{t&&(this.cmtDetails=[...t]),this.totalDuration=this.cmtDetails.filter(t=>!(null==t?void 0:t.archived)).map(t=>null==t?void 0:t.durationInMilliSeconds).reduce((t,e)=>t+e,0),this.totalDuration=this.totalDuration/6e4})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(o.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-cmt-history"]],inputs:{patientName:"patientName",patientId:"patientId",episodeId:"episodeId"},decls:9,vars:3,consts:[["id","heading"],[1,"primary"],[4,"ngFor","ngForOf"],[3,"nzDot"],[1,"history-heading",3,"ngClass"],["nzType","vertical"],[1,"activity"],[3,"innerHTML"],["class","history",4,"ngIf"],[4,"ngIf"],["dotTemplate",""],[1,"history"],[3,"innerHtml"],["nz-typography","","nzType","danger"],[1,"dot-template"]],template:function(t,e){1&t&&(b.Xb(0,"h4",0),b.Xc(1),b.Wb(),b.Xb(2,"h5",1),b.Xb(3,"strong"),b.Xc(4),b.Wb(),b.Wb(),b.Sb(5,"br"),b.Sb(6,"br"),b.Xb(7,"nz-timeline"),b.Vc(8,Ct,23,17,"ng-container",2),b.Wb()),2&t&&(b.Db(1),b.Zc("CMT History: ",e.patientName||"",""),b.Db(3),b.Zc("\xa0\xa0\xa0 CMT time: ",e.totalDuration," minutes "),b.Db(4),b.rc("ngForOf",e.cmtDetails))},directives:[g.a,P.p,g.b,P.o,ut.a,P.q,B.a],pipes:[P.e],styles:["#heading[_ngcontent-%COMP%]{padding-left:1%;border-left:3px solid var(--primary-color)}.dot-template[_ngcontent-%COMP%]{width:36px;height:36px;padding-top:7px;border-radius:50%;background-color:var(--primary-color)}h6[_ngcontent-%COMP%]{color:var(--neutral-color);font-weight:700}.history-heading[_ngcontent-%COMP%]{color:#949494;font-weight:500}[_nghost-%COMP%]     .ant-timeline-item{padding-left:3%}.activity[_ngcontent-%COMP%]{color:var(--tertiary-color)}.primary[_ngcontent-%COMP%]{color:var(--primary-color)!important}.history[_ngcontent-%COMP%]{font-size:12.5px}.strikethrough[_ngcontent-%COMP%]{text-decoration:line-through;color:var(--error-color)}"]}),t})();var It=n("WoUL");function Mt(t,e){if(1&t&&b.Sb(0,"nz-option",32),2&t){const t=e.$implicit;b.uc("nzLabel","",null==t?null:t.firstName," ",null==t?null:t.lastName,""),b.rc("nzValue",t)}}function yt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",14),b.Xb(1,"app-communication-action",33),b.ec("select",function(e){return b.Lc(t),b.ic().setActivity(null==e?null:e.type,null==e?null:e.mode)}),b.Wb(),b.Wb()}if(2&t){const t=e.$implicit,n=b.ic();b.Db(1),b.rc("label",null==t?null:t.name)("type",null==t?null:t.type)("selectedType",n.type)("mode","OTHER")}}function At(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"div",11),b.Xb(2,"div",34),b.Xb(3,"strong",8),b.Xc(4),b.jc(5,"translate"),b.Wb(),b.Wb(),b.Xb(6,"div",35),b.Xb(7,"input",36),b.ec("ngModelChange",function(e){return b.Lc(t),b.ic().setCustomActivity(e)}),b.Wb(),b.Wb(),b.Wb(),b.Sb(8,"br"),b.Ub()}2&t&&(b.Db(4),b.Zc("",b.kc(5,1,"TMS.OTHER"),": "))}function _t(t,e){if(1&t&&b.Sb(0,"app-icons",39),2&t){const t=b.ic().$implicit;b.sc("name",null==t?null:t.icon)}}function Dt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",14),b.Xb(1,"app-communication-action",37),b.ec("select",function(e){return b.Lc(t),b.ic().setCommunicationMode(null==e?null:e.type)}),b.Vc(2,_t,1,1,"app-icons",38),b.Wb(),b.Wb()}if(2&t){const t=e.$implicit,n=b.ic();b.Db(1),b.rc("label",null==t?null:t.name)("type",null==t?null:t.type)("selectedType",n.communicationMode),b.Db(1),b.rc("ngIf",null==t?null:t.icon)}}function zt(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",40),b.Xc(2,"Required"),b.Wb(),b.Ub())}function Ot(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",40),b.Xc(2,"Required"),b.Wb(),b.Ub())}function Nt(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",40),b.Xc(2,"Required"),b.Wb(),b.Ub())}function Pt(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",40),b.Xc(2,"Required"),b.Wb(),b.Ub())}const Rt=function(){return{nzMinuteStep:"10",nzFormat:"hh:mm"}},Xt=function(){return{width:"unset"}};let Lt=(()=>{class t{constructor(t,e,n,i,a,o,s,r,c){this._patientsService=t,this._notificationsService=e,this._episodesService=n,this._modalRef=i,this._modalService=a,this._translationService=o,this._patientCommunicationValidator=s,this._staffSessionPingService=r,this.draftHelper=c,this.activities=dt,this.communicationModes=l.b,this.duration=0,this.updateHistory={},this.isUpdateTimeModalVisible=!1,this.isCMTTimeUpdatedManually=!1,this.isUpdateActivityModalVisible=!1,this.isUpdateTmsNoteModalVisible=!1,this.isUpdateModeModalVisible=!1,this.noteUpdateReason="",this.timeUpdateReason="",this.activityUpdateReason="",this.tmsNoteUpdateReason="",this.modeUpdateReason="",this.disabledDate=t=>t.getDate()!==(new Date).getDate(),this.config=E.e}set editCMT(t){var e,n,i,a,o,s,r,c,l,d,u,p,h,b,g;if(!t)return;this.patientCommunicationId=null==t?void 0:t.id,this.activities.forEach(e=>{(null==t?void 0:t.context)===e.type&&(this.activity=e,this.type=e.type)}),this.communicationModes.forEach(e=>{(null==t?void 0:t.mode)===e.type&&(this.communicationMode=e,this.setCommunicationMode(null==t?void 0:t.mode))}),this.startDate=new Date(null==t?void 0:t.startTime);const m=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4;this.duration=m<1?0:+(null==m?void 0:m.toFixed(0)),this.cmtNote=null==t?void 0:t.notes,this.primaryDuration=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4,this.primaryActivity=this.activity.name,this.primaryTmsNote=this.cmtNote,this.primaryMode=this.communicationMode,null!=(null==t?void 0:t.updateHistory)&&(this.timeUpdateReason=null==(null===(n=null===(e=null==t?void 0:t.updateHistory)||void 0===e?void 0:e.timeUpdateHistory)||void 0===n?void 0:n.reason)?"":null===(a=null===(i=null==t?void 0:t.updateHistory)||void 0===i?void 0:i.timeUpdateHistory)||void 0===a?void 0:a.reason,this.activityUpdateReason=null==(null===(s=null===(o=null==t?void 0:t.updateHistory)||void 0===o?void 0:o.activityUpdateHistory)||void 0===s?void 0:s.reason)?"":null===(c=null===(r=null==t?void 0:t.updateHistory)||void 0===r?void 0:r.activityUpdateHistory)||void 0===c?void 0:c.reason,this.tmsNoteUpdateReason=null==(null===(d=null===(l=null==t?void 0:t.updateHistory)||void 0===l?void 0:l.noteUpdateHistory)||void 0===d?void 0:d.reason)?"":null===(p=null===(u=null==t?void 0:t.updateHistory)||void 0===u?void 0:u.noteUpdateHistory)||void 0===p?void 0:p.reason,this.modeUpdateReason=null==(null===(b=null===(h=null==t?void 0:t.updateHistory)||void 0===h?void 0:h.communicationModeUpdateHistory)||void 0===b?void 0:b.reason)?"":null===(g=null==t?void 0:t.updateHistory.communicationModeUpdateHistory)||void 0===g?void 0:g.reason)}set appointmentTime(t){if(!(null==t?void 0:t.length)||!t[0])return void this.setDefaultDateAndTime();this.appointmentStartDateTime=t[0],this.appointmentEndTime=t[1],this.setActivity("CARE_COORDINATION","CALL"),this.startDate=new Date(t[0]);const e=(this.appointmentEndTime-this.appointmentStartDateTime)/6e4;this.duration=e<1?0:+(null==e?void 0:e.toFixed(0)),this.primaryDuration=this.duration,this.validateCMTData()}set stickyNote(t){t&&(this.cmtNote=t,this.stickyNoteText=this.cmtNote)}ngOnInit(){this._translationService.getMultiple(...t.STRINGS).subscribe(t=>this.translatedStrings=t)}ngAfterViewInit(){this.fetchCaretakersForPatient(),this.episodeCMTProgress||this.getCMTDetails()}setDefaultDateAndTime(){this.startDate=new Date(Date.now()-18e5)}getCMTDetails(){this._episodesService.getCallDetails(this.patientId,this.episodeId).subscribe(t=>{let e=null==t?void 0:t.map(t=>null==t?void 0:t.durationInMilliSeconds).reduce((t,e)=>t+e,0);e/=6e4,this.episodeCMTProgress=this.generateEpisodeCMTObject(e)})}generateEpisodeCMTObject(t){return{episodeId:this.episodeId,completed:6e4*t,episodeType:p.a.GENERAL,maxValue:20,percent:20*t/100,remaining:"",total:12e5}}fetchCaretakersForPatient(){this._patientsService.fetchCaretakersForPatient(this.patientId).subscribe(t=>{if(!t||!t.length)return void this._notificationsService.error(this.translatedStrings.get("EPISODE.CMT"),this.translatedStrings.get("CMT.CLINICIAN_NOT_ASSIGNED").replace("{PATIENT_NAME}",this.patientName));this.caretakers=t;const e=localStorage.getItem("loggedInUserRole");if(h.a.MONITORING_STAFF===e){const t=localStorage.getItem("loggedInUser");this.caretakers=this.caretakers.filter(e=>t===e.id)}this.selectedCaretaker=this.caretakers[0],this.validateCMTData()})}setActivityDetails(t=!1){this.activity&&this.communicationMode&&this.activity.configs[this.communicationMode]&&(null==this.primaryDuration&&(this.duration=this.activity.configs[this.communicationMode].duration),t||(this.stickyNoteText?this._modalService.create({nzTitle:"Confirm",nzContent:"Changing the selected values will replace the note entered with a default note, do you want to proceed without replacing the note with the default one?",nzClosable:!1,nzCloseIcon:null,nzMaskClosable:!1,nzKeyboard:!1,nzOkText:"Yes",nzCancelText:"No",nzOnCancel:()=>{this.cmtNote=this.activity.configs[this.communicationMode].note,this.stickyNoteText=void 0}}):this.cmtNote=this.activity.configs[this.communicationMode].note),this.context=this.activity.configs[this.communicationMode].context)}setActivity(t,e,n=!1){t&&(this.type=t,this.communicationMode=e,this.activity=this.activities.find(e=>e.type===t),this.setActivityDetails(n),this.validateCMTData())}setCustomActivity(t){this.activity={name:t}}setCommunicationMode(t){this.communicationMode=s.a[t],this.setActivityDetails(),this.validateCMTData()}validateCMTData(t){t&&(this.duration=t);const e=this._patientCommunicationValidator.validate(this.selectedCaretaker,this.startDate,this.communicationMode,this.activity,this.duration,this.cmtNote);return this.validated=!e.length,e}generateCMTObject(t,e,n){return{patientId:this.patientId,episodeId:this.episodeId,caretakerId:this.selectedCaretaker.id,date:t,startTime:t,endTime:e,notes:this.cmtNote,mode:this.communicationMode,activity:this.activity.name,context:this.context,cptCode:n,tenantId:localStorage.getItem("loggedInTenant")}}showCMTHistory(){this._modalService.create({nzContent:Et,nzComponentParams:{patientId:this.patientId,patientName:this.patientName,episodeId:this.episodeId},nzWidth:725,nzBodyStyle:{height:"675px",overflowY:"scroll"},nzFooter:null})}closeModal(t){this._modalRef.close(t)}generateTMSRequestObject(){var t,e;return{id:this.patientCommunicationId,patientId:this.patientId,episodeId:this.episodeId,staffId:this.selectedCaretaker.id,startTime:null===(t=this.startDate)||void 0===t?void 0:t.getTime(),endTime:(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,notes:this.cmtNote,mode:this.communicationMode,activity:this.activity.name,context:this.context,serviceCode:this.cptCode,timerId:this.timerId,noteUpdateReason:this.noteUpdateReason,updateHistory:this.updateHistory}}save(){this.primaryDuration!=this.duration&&null!=this.primaryDuration||null!=this.primaryActivity||null!=this.primaryTmsNote||null!=this.primaryMode?this.primaryDuration!=this.duration||this.activity.name!=this.primaryActivity||this.cmtNote!=this.primaryTmsNote||this.communicationMode!=this.primaryMode?(this.duration&&this.primaryDuration!=this.duration&&null!=this.primaryDuration&&(this.isUpdateTimeModalVisible=!0,this.isCMTTimeUpdatedManually=!0),this.cmtNote!=this.primaryTmsNote&&null!=this.primaryTmsNote&&(this.isUpdateTmsNoteModalVisible=!0),this.activity.name!=this.primaryActivity&&null!=this.primaryActivity&&(this.isUpdateActivityModalVisible=!0),this.primaryMode!=this.communicationMode&&null!=this.primaryMode&&(this.isUpdateModeModalVisible=!0)):(this.isCMTTimeUpdatedManually=!1,this.proceedToSave()):this.proceedToSave()}saveUpdatedReasons(){let t={reason:this.activityUpdateReason},e={reason:this.tmsNoteUpdateReason},n={reason:this.modeUpdateReason};this.updateHistory.timeUpdateHistory={reason:this.timeUpdateReason},this.updateHistory.activityUpdateHistory=t,this.updateHistory.noteUpdateHistory=e,this.updateHistory.communicationModeUpdateHistory=n,this.isUpdateTimeModalVisible||this.isUpdateActivityModalVisible||this.isUpdateTmsNoteModalVisible||this.isUpdateModeModalVisible||this.proceedToSave()}submitUpdateReason(){this.reasonForChange?(this.isNoteRequired=!1,this.isUpdateTimeModalVisible=!1,this.reasonUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.timeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryDuration+" to "+this.duration+" minutes </strong> on <strong>"+this.reasonUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForChange+"</br></br>",this.saveUpdatedReasons()):this.isNoteRequired=!0}closeUpdateModal(){this.timeUpdateReason="",this.duration=this.primaryDuration,this.isUpdateTimeModalVisible=!1}submitUpdateActivityReason(){this.reasonForActivityUpdate?(this.isActivityNoteRequired=!1,this.isUpdateActivityModalVisible=!1,this.activityUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.activityUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryActivity+" to "+this.activity.name+"</strong> on <strong>"+this.activityUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForActivityUpdate+"</br></br>",this.saveUpdatedReasons()):this.isActivityNoteRequired=!0}closeActivityModal(){this.activityUpdateReason="",this.activity.name=this.primaryActivity,this.setActivity(this.primaryActivity,this.communicationMode,!0),this.isUpdateActivityModalVisible=!1}submitTmsUpdateReason(){this.reasonForTmsNoteUpdate?(this.isTmsNoteRequired=!1,this.isUpdateTmsNoteModalVisible=!1,this.tmsNoteUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.tmsNoteUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryTmsNote+" to "+this.cmtNote+"</strong> on <strong>"+this.tmsNoteUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForTmsNoteUpdate+"</br></br>",this.saveUpdatedReasons()):this.isTmsNoteRequired=!0}closeTmsUpdateModal(){this.tmsNoteUpdateReason="",this.cmtNote=this.primaryTmsNote,this.isUpdateTmsNoteModalVisible=!1}submitModeUpdateReason(){if(!this.reasonForModeUpdate)return void(this.isModeNoteRequired=!0);let t,e;this.isModeNoteRequired=!1,this.isUpdateModeModalVisible=!1,this.modeUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"});for(let o of this.communicationModes)if(o.type==this.primaryMode&&(t=o.name),o.type==this.communicationMode&&(e=o.name),t&&e)break;this.modeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+t+" to "+e+"</strong> on <strong>"+this.modeUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForModeUpdate+"</br></br>";let n={reason:this.activityUpdateReason},i={reason:this.tmsNoteUpdateReason},a={reason:this.modeUpdateReason};this.updateHistory.timeUpdateHistory={reason:this.timeUpdateReason},this.updateHistory.activityUpdateHistory=n,this.updateHistory.noteUpdateHistory=i,this.updateHistory.communicationModeUpdateHistory=a,this.isUpdateTimeModalVisible||this.isUpdateActivityModalVisible||this.isUpdateTmsNoteModalVisible||this.isUpdateModeModalVisible||this.proceedToSave()}closeModeUpdateModal(){this.modeUpdateReason="",this.communicationMode=this.primaryMode,this.isUpdateModeModalVisible=!1}proceedToSave(){var t,e;this.primaryActivity=this.activity.name,this.primaryTmsNote=this.cmtNote,this.primaryMode=this.communicationMode;const n=this.validateCMTData();this._patientCommunicationValidator.showErrors(n),this.loading=!0,this._episodesService.validateStartEndTime(this.patientId,null===(t=this.startDate)||void 0===t?void 0:t.getTime(),(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,this.patientCommunicationId).subscribe(t=>{if(t&&t.length)return this._notificationsService.error("CMT","Start time or End time overlap previous CMT record"),void(this.loading=!1);const e=this.generateTMSRequestObject();(null==e?void 0:e.id)?this._episodesService.updatePatientCommunication(e).subscribe(t=>{this._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e}),this._notificationsService.success("CMT Recorded",null==t?void 0:t.message),this.closeModal(!0),this.loading=!1,this.draftHelper.removeTimeTrackingNotes(this.patientId)}):this._episodesService.savePatientCommunication(e).subscribe(t=>{this._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e}),this._notificationsService.success("CMT Recorded",null==t?void 0:t.message),this.closeModal(!0),this.loading=!1,this.draftHelper.removeTimeTrackingNotes(this.patientId)})})}setTemplate(t){this.cmtNote=t}}return t.STRINGS=new Array("EPISODE.CMT","CMT.CLINICIAN_NOT_ASSIGNED","CMT.START_END_TIME_OVERLAP","CMT.ADDITIONAL_MINUTES","CMT.CMT_LOG_SUCCESS"),t.\u0275fac=function(e){return new(e||t)(b.Rb(r.a),b.Rb(y.b),b.Rb(o.a),b.Rb(M.e),b.Rb(M.f),b.Rb(It.a),b.Rb(d.a),b.Rb(C.a),b.Rb(I.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-cmt"]],inputs:{episodeId:"episodeId",patientId:"patientId",patientName:"patientName",cptCode:"cptCode",episodeEndDate:"episodeEndDate",timerId:"timerId",editCMT:"editCMT",appointmentTime:"appointmentTime",stickyNote:"stickyNote"},features:[b.Cb([d.a])],decls:89,vars:50,consts:[["cdkDrag","","cdkDragRootElement",".ant-modal-content"],["id","title","cdkDragHandle",""],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],["nzFormat","dd-MMM-yyyy HH:mm","nzSize","small",3,"nzShowTime","nzPlaceHolder","ngModel","nzDisabledDate","ngStyle","ngModelChange"],["id","caretakers",3,"ngModel","nzSize","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-row","","nzGutter","2"],["id","activity-label"],["nz-col","","nzSpan","4",4,"ngFor","ngForOf"],[4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","24"],["nz-row","","nzGutter","8","nzAlign","middle"],["nz-col","","nzSpan","4"],[1,"label"],["nz-col","","nzSpan","24","id","cmt-time-selector"],[3,"duration","maxDuration","durationChange"],["nz-col","","nzSpan","3","id","cmt-notes-label"],["nz-col","","nzSpan","21"],["placeholder","Add a note..",3,"ngModel","config","ngModelChange"],["note",""],[3,"note","onTemplateSelected"],[3,"loadingState","validationState","compact","roundedButtons","showHistory","save"],["nzTitle","Please enter the reason for updating CMT minutes",3,"nzVisible","nzFooter","nzVisibleChange"],["nz-input","","placeholder","Enter your reason for updating here",3,"ngModel","ngModelChange"],[1,"reason-update-btn-div"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",1,"reason-update-btn",3,"click"],["nzTitle","Please enter the reason for updating CMT Activity",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Note",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Communication Mode",3,"nzVisible","nzFooter","nzVisibleChange"],[3,"nzLabel","nzValue"],[3,"label","type","selectedType","mode","select"],["nz-col","","nzSpan","2"],["nz-col","","nzSpan","22"],["id","activities","ngModel","","placeholder","Enter custom activity...","nz-input","",3,"ngModelChange"],[3,"label","type","selectedType","select"],["size","16px",3,"name",4,"ngIf"],["size","16px",3,"name"],[1,"reason-update-error",2,"color","red"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"strong",1),b.Xc(2),b.Wb(),b.Sb(3,"br"),b.Sb(4,"br"),b.Xb(5,"div",2),b.Xb(6,"div",3),b.Xb(7,"strong"),b.Xc(8),b.jc(9,"translate"),b.Wb(),b.Xc(10," \xa0\xa0 "),b.Xb(11,"nz-date-picker",4),b.ec("ngModelChange",function(t){return e.startDate=t})("ngModelChange",function(){return e.validateCMTData()}),b.jc(12,"translate"),b.Wb(),b.Wb(),b.Xb(13,"div",3),b.Xb(14,"strong"),b.Xc(15),b.jc(16,"translate"),b.Wb(),b.Xc(17," \xa0\xa0 "),b.Xb(18,"nz-select",5),b.ec("ngModelChange",function(t){return e.selectedCaretaker=t}),b.Vc(19,Mt,1,3,"nz-option",6),b.Wb(),b.Wb(),b.Wb(),b.Sb(20,"br"),b.Sb(21,"br"),b.Xb(22,"div",7),b.Xb(23,"strong",8),b.Xc(24," Choose a CMT Activity "),b.Wb(),b.Wb(),b.Xb(25,"div",2),b.Vc(26,yt,2,4,"div",9),b.Wb(),b.Sb(27,"br"),b.Sb(28,"br"),b.Vc(29,At,9,3,"ng-container",10),b.Xb(30,"div",11),b.Xb(31,"div",12),b.Xb(32,"div",13),b.Xb(33,"div",14),b.Xb(34,"strong",15),b.Xc(35),b.jc(36,"translate"),b.Wb(),b.Wb(),b.Vc(37,Dt,3,4,"div",9),b.Wb(),b.Wb(),b.Xb(38,"div",16),b.Xb(39,"app-time-selector",17),b.ec("durationChange",function(t){return e.validateCMTData(t)}),b.Wb(),b.Wb(),b.Wb(),b.Sb(40,"br"),b.Sb(41,"br"),b.Xb(42,"div",2),b.Xb(43,"div",18),b.Xc(44," Add notes: "),b.Wb(),b.Xb(45,"div",19),b.Xb(46,"angular-editor",20,21),b.ec("ngModelChange",function(t){return e.cmtNote=t})("ngModelChange",function(){return e.validateCMTData()}),b.Wb(),b.Wb(),b.Wb(),b.Sb(48,"br"),b.Xb(49,"div",2),b.Xb(50,"div",18),b.Xc(51," Template: "),b.Wb(),b.Xb(52,"div",3),b.Xb(53,"app-note-template-picker",22),b.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),b.Wb(),b.Wb(),b.Wb(),b.Sb(54,"br"),b.Sb(55,"br"),b.Xb(56,"app-footer-actions",23),b.ec("showHistory",function(){return e.showCMTHistory()})("save",function(){return e.save()}),b.Wb(),b.Wb(),b.Xb(57,"nz-modal",24),b.ec("nzVisibleChange",function(t){return e.isUpdateTimeModalVisible=t}),b.Xb(58,"input",25),b.ec("ngModelChange",function(t){return e.reasonForChange=t}),b.Wb(),b.Vc(59,zt,3,0,"ng-container",10),b.Xb(60,"div",26),b.Xb(61,"button",27),b.ec("click",function(){return e.closeUpdateModal()}),b.Xc(62,"Cancel"),b.Wb(),b.Xb(63,"button",28),b.ec("click",function(){return e.submitUpdateReason()}),b.Xc(64,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Xb(65,"nz-modal",29),b.ec("nzVisibleChange",function(t){return e.isUpdateActivityModalVisible=t}),b.Xb(66,"input",25),b.ec("ngModelChange",function(t){return e.reasonForActivityUpdate=t}),b.Wb(),b.Vc(67,Ot,3,0,"ng-container",10),b.Xb(68,"div",26),b.Xb(69,"button",27),b.ec("click",function(){return e.closeActivityModal()}),b.Xc(70,"Cancel"),b.Wb(),b.Xb(71,"button",28),b.ec("click",function(){return e.submitUpdateActivityReason()}),b.Xc(72,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Xb(73,"nz-modal",30),b.ec("nzVisibleChange",function(t){return e.isUpdateTmsNoteModalVisible=t}),b.Xb(74,"input",25),b.ec("ngModelChange",function(t){return e.reasonForTmsNoteUpdate=t}),b.Wb(),b.Vc(75,Nt,3,0,"ng-container",10),b.Xb(76,"div",26),b.Xb(77,"button",27),b.ec("click",function(){return e.closeTmsUpdateModal()}),b.Xc(78,"Cancel"),b.Wb(),b.Xb(79,"button",28),b.ec("click",function(){return e.submitTmsUpdateReason()}),b.Xc(80,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Xb(81,"nz-modal",31),b.ec("nzVisibleChange",function(t){return e.isUpdateModeModalVisible=t}),b.Xb(82,"input",25),b.ec("ngModelChange",function(t){return e.reasonForModeUpdate=t}),b.Wb(),b.Vc(83,Pt,3,0,"ng-container",10),b.Xb(84,"div",26),b.Xb(85,"button",27),b.ec("click",function(){return e.closeModeUpdateModal()}),b.Xc(86,"Cancel"),b.Wb(),b.Xb(87,"button",28),b.ec("click",function(){return e.submitModeUpdateReason()}),b.Xc(88,"Save"),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Db(2),b.Zc("CMT Time: ",e.patientName||"",""),b.Db(6),b.Zc("",b.kc(9,40,"COMMON.DATE"),": "),b.Db(3),b.sc("nzPlaceHolder",b.kc(12,42,"TABLEHEADER.STARTTIME")),b.rc("nzShowTime",b.xc(48,Rt))("ngModel",e.startDate)("nzDisabledDate",e.disabledDate)("ngStyle",b.xc(49,Xt)),b.Db(4),b.Zc("",b.kc(16,44,"PATIENT.MONITORING_STAFF"),": "),b.Db(3),b.rc("ngModel",e.selectedCaretaker)("nzSize","small"),b.Db(1),b.rc("ngForOf",e.caretakers),b.Db(7),b.rc("ngForOf",e.activities),b.Db(3),b.rc("ngIf","OTHERS"===e.type),b.Db(6),b.Zc("",b.kc(36,46,"TMS.COMMUNICATION_MODE"),": "),b.Db(2),b.rc("ngForOf",e.communicationModes),b.Db(2),b.rc("duration",e.duration)("maxDuration",20),b.Db(7),b.rc("ngModel",e.cmtNote)("config",e.config),b.Db(7),b.rc("note",e.cmtNote),b.Db(3),b.rc("loadingState",e.loading)("validationState",e.validated)("compact",!0)("roundedButtons",!0),b.Db(1),b.rc("nzVisible",e.isUpdateTimeModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForChange),b.Db(1),b.rc("ngIf",e.isNoteRequired),b.Db(6),b.rc("nzVisible",e.isUpdateActivityModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForActivityUpdate),b.Db(1),b.rc("ngIf",e.isActivityNoteRequired),b.Db(6),b.rc("nzVisible",e.isUpdateTmsNoteModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForTmsNoteUpdate),b.Db(1),b.rc("ngIf",e.isTmsNoteRequired),b.Db(6),b.rc("nzVisible",e.isUpdateModeModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForModeUpdate),b.Db(1),b.rc("ngIf",e.isModeNoteRequired))},directives:[A.a,A.b,z.c,z.a,O.a,N.u,N.x,P.r,R.d,P.p,P.q,L.a,W.a,k.a,V.a,M.a,x.b,N.d,U.a,F.a,H.a,R.a,j.a,D.a],pipes:[m.a],styles:["#title[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color)}strong[_ngcontent-%COMP%]{color:var(--tertiary-color);font-size:11px}#caretakers[_ngcontent-%COMP%]{width:200px}#cmt-notes[_ngcontent-%COMP%]{background:#fff 0 0 no-repeat padding-box;padding:2%;resize:none;font-size:12px}app-icons[_ngcontent-%COMP%]{vertical-align:sub}#cmt-notes-label[_ngcontent-%COMP%]{padding-top:8px}#cmt-time-selector[_ngcontent-%COMP%]{margin-top:8px}#activity-label[_ngcontent-%COMP%]{line-height:3}.reason-update-error[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;height:10px;max-height:10px}.reason-update-btn-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:20px}.reason-update-btn[_ngcontent-%COMP%]{margin-left:10px}"]}),t})();function wt(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",3),b.Sb(2,"br"),b.Sb(3,"span",4),b.Sb(4,"br"),b.Wb(),b.Wb()),2&t){const t=b.ic();b.rc("nzGutter",16),b.Db(3),b.sc("innerHtml",null==t.log||null==t.log.updateHistory||null==t.log.updateHistory.timeUpdateHistory?null:t.log.updateHistory.timeUpdateHistory.reason,b.Mc)}}function Wt(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",3),b.Sb(2,"br"),b.Sb(3,"span",4),b.Sb(4,"br"),b.Wb(),b.Wb()),2&t){const t=b.ic();b.rc("nzGutter",16),b.Db(3),b.sc("innerHtml",null==t.log||null==t.log.updateHistory||null==t.log.updateHistory.communicationModeUpdateHistory?null:t.log.updateHistory.communicationModeUpdateHistory.reason,b.Mc)}}function kt(t,e){if(1&t&&(b.Xb(0,"span"),b.Xc(1),b.Wb()),2&t){const t=e.$implicit;b.Db(1),b.ad(" ",null==t?null:t.code," ",null==t?null:t.description,"\xa0 ")}}const Vt=function(){return[16,32]};function xt(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",3),b.Xb(2,"strong"),b.Xc(3,"DxCodes"),b.Wb(),b.Xb(4,"p"),b.Vc(5,kt,2,2,"span",5),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.ic();b.rc("nzGutter",b.xc(2,Vt)),b.Db(5),b.rc("ngForOf",null==t.log?null:t.log.dxCodes)}}function Ut(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",3),b.Sb(2,"br"),b.Sb(3,"span",4),b.Sb(4,"br"),b.Wb(),b.Wb()),2&t){const t=b.ic();b.rc("nzGutter",16),b.Db(3),b.sc("innerHtml",null==t.log||null==t.log.updateHistory||null==t.log.updateHistory.activityUpdateHistory?null:t.log.updateHistory.activityUpdateHistory.reason,b.Mc)}}function Ft(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",3),b.Sb(2,"br"),b.Sb(3,"span",4),b.Sb(4,"br"),b.Wb(),b.Wb()),2&t){const t=b.ic();b.rc("nzGutter",16),b.Db(3),b.sc("innerHtml",null==t.log||null==t.log.updateHistory||null==t.log.updateHistory.noteUpdateHistory?null:t.log.updateHistory.noteUpdateHistory.reason,b.Mc)}}function Ht(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",3),b.Sb(2,"br"),b.Sb(3,"span",4),b.Sb(4,"br"),b.Wb(),b.Wb()),2&t){const t=b.ic();b.rc("nzGutter",16),b.Db(3),b.sc("innerHtml",null==t.log||null==t.log.updateHistory||null==t.log.updateHistory.billableUpdateHistory?null:t.log.updateHistory.billableUpdateHistory.reason,b.Mc)}}let Bt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Lb({type:t,selectors:[["app-log-details"]],inputs:{log:"log",staffName:"staffName"},decls:69,vars:67,consts:[["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","12"],["nz-row","",3,"nzGutter",4,"ngIf"],["nz-col","","nzSpan","24"],[3,"innerHtml"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(b.Xb(0,"h3"),b.Xc(1),b.jc(2,"translate"),b.Wb(),b.Sb(3,"nz-divider"),b.Xb(4,"div",0),b.Xb(5,"div",1),b.Xb(6,"strong"),b.Xc(7),b.jc(8,"translate"),b.Wb(),b.Wb(),b.Xb(9,"div",1),b.Xc(10),b.jc(11,"date"),b.Wb(),b.Wb(),b.Xb(12,"div",0),b.Xb(13,"div",1),b.Xb(14,"strong"),b.Xc(15),b.jc(16,"translate"),b.Wb(),b.Wb(),b.Xb(17,"div",1),b.Xc(18),b.jc(19,"date"),b.Wb(),b.Wb(),b.Xb(20,"div",0),b.Xb(21,"div",1),b.Xb(22,"strong"),b.Xc(23),b.jc(24,"translate"),b.Wb(),b.Wb(),b.Xb(25,"div",1),b.Xc(26),b.jc(27,"date"),b.Wb(),b.Wb(),b.Xb(28,"div",0),b.Xb(29,"div",1),b.Xb(30,"strong"),b.Xc(31),b.jc(32,"translate"),b.Wb(),b.Wb(),b.Xb(33,"div",1),b.Xc(34),b.jc(35,"translate"),b.Wb(),b.Wb(),b.Vc(36,wt,5,2,"div",2),b.Xb(37,"div",0),b.Xb(38,"div",1),b.Xb(39,"strong"),b.Xc(40,"Monitoring Staff"),b.Wb(),b.Wb(),b.Xb(41,"div",1),b.Xc(42),b.jc(43,"titlecase"),b.Wb(),b.Wb(),b.Xb(44,"div",0),b.Xb(45,"div",1),b.Xb(46,"strong"),b.Xc(47),b.jc(48,"translate"),b.Wb(),b.Wb(),b.Xb(49,"div",1),b.Xc(50),b.Wb(),b.Wb(),b.Vc(51,Wt,5,2,"div",2),b.Xb(52,"div",0),b.Xb(53,"div",3),b.Xb(54,"strong"),b.Xc(55),b.jc(56,"translate"),b.Wb(),b.Xb(57,"p"),b.Xc(58),b.Wb(),b.Wb(),b.Wb(),b.Vc(59,xt,6,3,"div",2),b.Vc(60,Ut,5,2,"div",2),b.Xb(61,"div",0),b.Xb(62,"div",3),b.Xb(63,"strong"),b.Xc(64),b.jc(65,"translate"),b.Wb(),b.Sb(66,"p",4),b.Wb(),b.Wb(),b.Vc(67,Ft,5,2,"div",2),b.Vc(68,Ht,5,2,"div",2)),2&t&&(b.Db(1),b.Yc(b.kc(2,31,"COMMON.LOG_DETAILS")),b.Db(3),b.rc("nzGutter",b.xc(60,Vt)),b.Db(3),b.Yc(b.kc(8,33,"COMMON.DATE")),b.Db(3),b.Zc(" ",b.lc(11,35,null==e.log?null:e.log.startTime,"mediumDate")," "),b.Db(2),b.rc("nzGutter",b.xc(61,Vt)),b.Db(3),b.Yc(b.kc(16,38,"TABLEHEADER.STARTTIME")),b.Db(3),b.Zc(" ",b.lc(19,40,null==e.log?null:e.log.startTime,"HH:mm:ss")," "),b.Db(2),b.rc("nzGutter",b.xc(62,Vt)),b.Db(3),b.Yc(b.kc(24,43,"TABLEHEADER.ENDTIME")),b.Db(3),b.Zc(" ",b.lc(27,45,null==e.log?null:e.log.endTime,"HH:mm:ss")," "),b.Db(2),b.rc("nzGutter",b.xc(63,Vt)),b.Db(3),b.Yc(b.kc(32,48,"COMMON.DURATION")),b.Db(3),b.ad(" ",((null==e.log?null:e.log.endTime)-(null==e.log?null:e.log.startTime))/6e4," ",b.kc(35,50,"COMMON.MINUTES")," "),b.Db(2),b.rc("ngIf",null==e.log||null==e.log.updateHistory||null==e.log.updateHistory.timeUpdateHistory?null:e.log.updateHistory.timeUpdateHistory.reason),b.Db(1),b.rc("nzGutter",b.xc(64,Vt)),b.Db(5),b.Zc(" ",b.kc(43,52,e.staffName)," "),b.Db(2),b.rc("nzGutter",b.xc(65,Vt)),b.Db(3),b.Yc(b.kc(48,54,"COMMON.MODE")),b.Db(3),b.Zc(" ",null==e.log?null:e.log.mode," "),b.Db(1),b.rc("ngIf",null==e.log||null==e.log.updateHistory||null==e.log.updateHistory.communicationModeUpdateHistory?null:e.log.updateHistory.communicationModeUpdateHistory.reason),b.Db(1),b.rc("nzGutter",b.xc(66,Vt)),b.Db(3),b.Yc(b.kc(56,56,"HEADER.ACTIVITYH")),b.Db(3),b.Yc(null==e.log?null:e.log.activity),b.Db(1),b.rc("ngIf",null==e.log||null==e.log.dxCodes?null:e.log.dxCodes.length),b.Db(1),b.rc("ngIf",null==e.log||null==e.log.updateHistory||null==e.log.updateHistory.activityUpdateHistory?null:e.log.updateHistory.activityUpdateHistory.reason),b.Db(1),b.rc("nzGutter",16),b.Db(3),b.Yc(b.kc(65,58,"COMMON.NOTES")),b.Db(2),b.sc("innerHtml",null==e.log?null:e.log.notes,b.Mc),b.Db(1),b.rc("ngIf",null==e.log||null==e.log.updateHistory||null==e.log.updateHistory.noteUpdateHistory?null:e.log.updateHistory.noteUpdateHistory.reason),b.Db(1),b.rc("ngIf",null==e.log||null==e.log.updateHistory||null==e.log.updateHistory.billableUpdateHistory?null:e.log.updateHistory.billableUpdateHistory.reason))},directives:[ut.a,z.c,z.a,P.q,P.p],pipes:[m.a,P.e,P.A],styles:[""]}),t})();var jt=n("IKCb");function Gt(t,e){if(1&t&&b.Sb(0,"nz-option",40),2&t){const t=e.$implicit;b.uc("nzLabel","",null==t?null:t.firstName," ",null==t?null:t.lastName,""),b.rc("nzValue",t)}}function Yt(t,e){if(1&t&&(b.Vb(0),b.Sb(1,"nz-option",42),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.rc("nzValue",t)("nzLabel",null==t?null:t.name)}}function $t(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",18),b.Xb(1,"nz-select",41),b.ec("ngModelChange",function(e){return b.Lc(t),b.ic().activity=e}),b.Vc(2,Yt,2,2,"ng-container",20),b.Wb(),b.Wb()}if(2&t){const t=b.ic();b.Db(1),b.rc("ngModel",t.activity),b.Db(1),b.rc("ngForOf",t.activities)}}function qt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",18),b.Xb(1,"input",43),b.ec("ngModelChange",function(e){return b.Lc(t),b.ic().setCustomActivity(e)}),b.Wb(),b.Wb()}}function Zt(t,e){if(1&t&&b.Sb(0,"nz-option",42),2&t){const t=b.ic().$implicit;b.uc("nzLabel","",null==t?null:t.code,", ",null==t?null:t.description,""),b.rc("nzValue",t)}}function Qt(t,e){if(1&t&&(b.Vb(0),b.Vc(1,Zt,1,3,"nz-option",44),b.Ub()),2&t){const t=e.$implicit;b.Db(1),b.rc("ngIf","Active"===(null==t?null:t.status)&&"CHRONIC"===(null==t?null:t.type))}}function Kt(t,e){1&t&&(b.Xb(0,"div",15),b.Xb(1,"div",45),b.Xb(2,"label",46),b.Xc(3,"Required"),b.Wb(),b.Wb(),b.Wb())}function Jt(t,e){if(1&t&&b.Sb(0,"app-icons",50),2&t){const t=b.ic().$implicit;b.sc("name",null==t?null:t.icon)}}function te(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",47),b.Xb(1,"app-communication-action",48),b.ec("labelChange",function(t){return e.$implicit.name=t})("typeChange",function(t){return e.$implicit.type=t})("selectedTypeChange",function(e){return b.Lc(t),b.ic().communicationMode=e})("select",function(e){return b.Lc(t),b.ic().setCommunicationMode(null==e?null:e.type)}),b.Vc(2,Jt,1,1,"app-icons",49),b.Wb(),b.Wb()}if(2&t){const t=e.$implicit,n=b.ic();b.Db(1),b.rc("label",t.name)("type",t.type)("selectedType",n.communicationMode),b.Db(1),b.rc("ngIf",null==t?null:t.icon)}}function ee(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",51),b.Xc(2,"Required"),b.Wb(),b.Ub())}function ne(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",51),b.Xc(2,"Required"),b.Wb(),b.Ub())}function ie(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",51),b.Xc(2,"Required"),b.Wb(),b.Ub())}function ae(t,e){1&t&&(b.Vb(0),b.Xb(1,"div",51),b.Xc(2,"Required"),b.Wb(),b.Ub())}const oe=function(){return{nzMinuteStep:"10",nzFormat:"hh:mm"}},se=function(){return{width:"unset"}};let re=(()=>{class t{constructor(t,e,n,i,o,s,r,d){this._patientCommunicationValidator=t,this._patientsService=e,this._modalRef=n,this._notificationsService=i,this._modalService=o,this._episodesService=s,this._staffSessionPingService=r,this.draftHelper=d,this.isUpdateTimeModalVisible=!1,this.isCMTTimeUpdatedManually=!1,this.isUpdateActivityModalVisible=!1,this.isUpdateTmsNoteModalVisible=!1,this.isUpdateModeModalVisible=!1,this.noteUpdateReason="",this.timeUpdateReason="",this.activityUpdateReason="",this.tmsNoteUpdateReason="",this.modeUpdateReason="",this.communicationModes=l.b,this.activities=a.a,this.updateHistory={},this.disabledDate=t=>{var e,n;return Object(c.a)(new Date(null===(n=null===(e=this.patient)||void 0===e?void 0:e.episode)||void 0===n?void 0:n.startDate),t)>0||Object(c.a)(new Date((new Date).setHours(23,59,59,99)),t)<0},this.config=E.e}set editCMT(t){var e,n,i,a,o,s,r,c,l,d,u,p,h,b,g,m,f,v;if(!t)return;this.patientCommunicationId=null==t?void 0:t.id,this.activities.forEach(e=>{(null==t?void 0:t.context)===e.type&&(this.activity=e,this.type=e.type)}),this.communicationModes.forEach(e=>{(null==t?void 0:t.mode)===e.type&&(this.communicationMode=e,this.setCommunicationMode(null==t?void 0:t.mode))}),this.startDate=new Date(null==t?void 0:t.startTime);const S=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4;this.duration=S<1?0:+(null==S?void 0:S.toFixed(0)),this.tmsNote=null==t?void 0:t.notes,this.noteUpdateReason=null==t?void 0:t.noteUpdateReason;const T=null===(e=null==t?void 0:t.dxCodes)||void 0===e?void 0:e.map(t=>null==t?void 0:t.code);(null==T?void 0:T.length)&&(this.selectedDxCodes=null===(i=null===(n=this.patient)||void 0===n?void 0:n.dxCodes)||void 0===i?void 0:i.filter(t=>-1!=(null==T?void 0:T.findIndex(e=>e===(null==t?void 0:t.code))))),this.primaryDuration=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4,this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryMode=this.communicationMode,null!=(null==t?void 0:t.updateHistory)&&(this.timeUpdateReason=null==(null===(o=null===(a=null==t?void 0:t.updateHistory)||void 0===a?void 0:a.timeUpdateHistory)||void 0===o?void 0:o.reason)?"":null===(r=null===(s=null==t?void 0:t.updateHistory)||void 0===s?void 0:s.timeUpdateHistory)||void 0===r?void 0:r.reason,this.activityUpdateReason=null==(null===(l=null===(c=null==t?void 0:t.updateHistory)||void 0===c?void 0:c.activityUpdateHistory)||void 0===l?void 0:l.reason)?"":null===(u=null===(d=null==t?void 0:t.updateHistory)||void 0===d?void 0:d.activityUpdateHistory)||void 0===u?void 0:u.reason,this.tmsNoteUpdateReason=null==(null===(h=null===(p=null==t?void 0:t.updateHistory)||void 0===p?void 0:p.noteUpdateHistory)||void 0===h?void 0:h.reason)?"":null===(g=null===(b=null==t?void 0:t.updateHistory)||void 0===b?void 0:b.noteUpdateHistory)||void 0===g?void 0:g.reason,this.modeUpdateReason=null==(null===(f=null===(m=null==t?void 0:t.updateHistory)||void 0===m?void 0:m.communicationModeUpdateHistory)||void 0===f?void 0:f.reason)?"":null===(v=null==t?void 0:t.updateHistory.communicationModeUpdateHistory)||void 0===v?void 0:v.reason)}set autoCMTOverRide(t){t&&(this.autoCMT=!1)}set stickyNote(t){t&&(this.tmsNote=t,this.stickyNoteText=t)}set appointmentTime(t){var e;if(!(null==t?void 0:t.length))return void this.setDefaultDateAndTime();this.autoCMTOverRide||(this.autoCMT=!0),this.setActivity("CARE_COORDINATION","OUTBOUND_CALL",!!this.tmsNote);var n="string"==typeof t[1]?new Date(t[1]).getTime():null===(e=t[1])||void 0===e?void 0:e.getTime();this.startDate="string"==typeof t[0]?new Date(t[0]):t[0];const i=(n-this.startDate.getTime())/6e4;this.duration=i<1?0:+(null==i?void 0:i.toFixed(0)),this.primaryDuration=this.duration}ngOnInit(){this.fetchCaretakersForPatient()}setDefaultDateAndTime(){this.startDate=new Date(Date.now()-18e5)}validateTMSData(t){var e;t&&(this.duration=t);const n=this._patientCommunicationValidator.validate(this.selectedCaretaker,this.startDate,this.communicationMode,this.activity,this.duration,this.tmsNote);return(!this.selectedDxCodes||(null===(e=this.selectedDxCodes)||void 0===e?void 0:e.length)<2)&&(null==n||n.push("Please select at least 2 diagnosis codes before proceeding!")),this.updatedDuration=this.duration,this.validated=!n.length,n}fetchCaretakersForPatient(){this._patientsService.fetchCaretakersForPatient(this.patient.id).subscribe(t=>{var e,n;if(!t||!t.length)return void this._notificationsService.error("CMT",`${this.patient.name} does not have a clinician assigned!`);this.caretakers=t;const i=localStorage.getItem("loggedInUserRole");if(h.a.MONITORING_STAFF===i){const t=localStorage.getItem("loggedInUser");this.caretakers=this.caretakers.filter(e=>t===e.id),(null===(e=this.caretakers)||void 0===e?void 0:e.length)&&(this.selectedCaretaker=this.caretakers[0])}else this.staff?(this.caretakers=this.caretakers.filter(t=>this.staff===t.id),(null===(n=this.caretakers)||void 0===n?void 0:n.length)&&(this.selectedCaretaker=this.caretakers[0])):this.selectedCaretaker=this.caretakers[0];this.validateTMSData()})}setCommunicationMode(t){this.communicationMode=s.a[t],this.setActivityDetails(),this.validateTMSData()}setActivityDetails(t=!1){this.activity&&this.communicationMode&&this.activity.configs[this.communicationMode]&&(null==this.primaryDuration&&(this.duration=this.activity.configs[this.communicationMode].duration),t||(this.stickyNoteText?this._modalService.create({nzTitle:"Confirm",nzContent:"Changing the selected values will replace the note entered with a default note, do you want to proceed without replacing the note with the default one?",nzClosable:!1,nzCloseIcon:null,nzMaskClosable:!1,nzKeyboard:!1,nzOkText:"Yes",nzCancelText:"No",nzOnCancel:()=>{this.tmsNote=this.activity.configs[this.communicationMode].note,this.stickyNoteText=void 0}}):this.tmsNote=this.activity.configs[this.communicationMode].note),this.context=this.activity.configs[this.communicationMode].context)}setActivity(t,e,n=!1){t&&(this.type=t,this.communicationMode=e,this.activity=this.activities.find(e=>e.type===t),this.setActivityDetails(n),this.validateTMSData())}setCustomActivity(t){this.activity={name:t}}showTMSHistory(){this._modalService.create({nzContent:u.a,nzComponentParams:{patientId:this.patient.id,patientName:this.patient.name,episodeId:this.patient.episode.id},nzWidth:725,nzBodyStyle:{height:"675px",overflowY:"scroll"},nzFooter:null})}generateTMSRequestObject(){var t,e;return{id:this.patientCommunicationId,patientId:this.patient.id,episodeId:this.patient.episode.id,staffId:this.selectedCaretaker.id,startTime:null===(t=this.startDate)||void 0===t?void 0:t.getTime(),endTime:(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,notes:this.tmsNote,mode:this.communicationMode,activity:this.activity.name,dxCodes:this.selectedDxCodes,context:this.context,billable:!0,serviceCode:"CARE_MANAGEMENT_TIME",timerId:this.timerId,noteUpdateReason:this.noteUpdateReason,updateHistory:this.updateHistory}}save(){this.primaryDuration!=this.duration&&null!=this.primaryDuration||null!=this.primaryActivity||null!=this.primaryTmsNote||null!=this.primaryMode?this.primaryDuration!=this.duration||this.activity.name!=this.primaryActivity||this.tmsNote!=this.primaryTmsNote||this.communicationMode!=this.primaryMode?(this.primaryDuration!=this.duration&&null!=this.primaryDuration&&(this.isUpdateTimeModalVisible=!0,this.isCMTTimeUpdatedManually=!0),this.activity.name!=this.primaryActivity&&null!=this.primaryActivity&&(this.isUpdateActivityModalVisible=!0),this.tmsNote!=this.primaryTmsNote&&null!=this.primaryTmsNote&&(this.isUpdateTmsNoteModalVisible=!0),this.primaryMode!=this.communicationMode&&null!=this.primaryMode&&(this.isUpdateModeModalVisible=!0)):(this.isCMTTimeUpdatedManually=!1,this.proceedToSave()):this.proceedToSave()}saveUpdatedReasons(){let t={reason:this.activityUpdateReason},e={reason:this.tmsNoteUpdateReason},n={reason:this.modeUpdateReason};this.updateHistory.timeUpdateHistory={reason:this.timeUpdateReason},this.updateHistory.activityUpdateHistory=t,this.updateHistory.noteUpdateHistory=e,this.updateHistory.communicationModeUpdateHistory=n,this.isUpdateTimeModalVisible||this.isUpdateActivityModalVisible||this.isUpdateTmsNoteModalVisible||this.isUpdateModeModalVisible||this.proceedToSave()}submitUpdateReason(){this.reasonForChange?(this.isNoteRequired=!1,this.isUpdateTimeModalVisible=!1,this.reasonUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.timeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryDuration+" to "+this.duration+" minutes </strong> on <strong>"+this.reasonUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForChange+"</br></br>",this.saveUpdatedReasons()):this.isNoteRequired=!0}closeUpdateModal(){this.timeUpdateReason="",this.duration=this.primaryDuration,this.isUpdateTimeModalVisible=!1}submitUpdateActivityReason(){this.reasonForActivityUpdate?(this.isActivityNoteRequired=!1,this.isUpdateActivityModalVisible=!1,this.activityUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.activityUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryActivity+" to "+this.activity.name+"</strong> on <strong>"+this.activityUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForActivityUpdate+"</br></br>",this.saveUpdatedReasons()):this.isActivityNoteRequired=!0}closeActivityModal(){this.activityUpdateReason="",this.activity.name=this.primaryActivity,this.setActivity(this.primaryActivity,this.communicationMode,!0),this.isUpdateActivityModalVisible=!1}submitTmsUpdateReason(){this.reasonForTmsNoteUpdate?(this.isTmsNoteRequired=!1,this.isUpdateTmsNoteModalVisible=!1,this.tmsNoteUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.tmsNoteUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryTmsNote+" to "+this.tmsNote+"</strong> on <strong>"+this.tmsNoteUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForTmsNoteUpdate+"</br></br>",this.saveUpdatedReasons()):this.isTmsNoteRequired=!0}closeTmsUpdateModal(){this.tmsNoteUpdateReason="",this.tmsNote=this.primaryTmsNote,this.isUpdateTmsNoteModalVisible=!1}submitModeUpdateReason(){if(!this.reasonForModeUpdate)return void(this.isModeNoteRequired=!0);let t,e;this.isModeNoteRequired=!1,this.isUpdateModeModalVisible=!1,this.modeUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"});for(let n of this.communicationModes)if(n.type==this.primaryMode&&(t=n.name),n.type==this.communicationMode&&(e=n.name),t&&e)break;this.modeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+t+" to "+e+"</strong> on <strong>"+this.modeUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForModeUpdate+"</br></br>",this.saveUpdatedReasons()}closeModeUpdateModal(){this.modeUpdateReason="",this.communicationMode=this.primaryMode,this.isUpdateModeModalVisible=!1}proceedToSave(){var t,e;this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryMode=this.communicationMode;const n=this.validateTMSData();this._patientCommunicationValidator.showErrors(n),this.loading=!0,this._episodesService.validateStartEndTime(this.patient.id,null===(t=this.startDate)||void 0===t?void 0:t.getTime(),(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,this.patientCommunicationId).subscribe(t=>{if(t&&t.length)return this._notificationsService.error("CMT","Start time or End time overlap previous CMT record"),void(this.loading=!1);const e=this.generateTMSRequestObject();(null==e?void 0:e.id)?this._episodesService.updatePatientCommunication(e).subscribe(t=>{this._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_UPDATED",value:e},!0),this._notificationsService.success("CMT Updated",null==t?void 0:t.message),"GLOBAL_TIMER"==this.referrer?this.closeModalObject({mode:this.communicationMode,billable:!1}):this.closeModal(!0),this.loading=!1}):this._episodesService.savePatientCommunication(e).subscribe(t=>{this._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e},!0),this._notificationsService.success("CMT Recorded",null==t?void 0:t.message),"GLOBAL_TIMER"==this.referrer?this.closeModalObject({mode:this.communicationMode,billable:!1}):this.closeModal(!0),this.loading=!1,this.draftHelper.removeTimeTrackingNotes(this.patient.id)})})}closeModal(t){this._modalRef.close(t)}closeModalObject(t){this._modalRef.close(t)}setTemplate(t){this.tmsNote=t}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(d.a),b.Rb(r.a),b.Rb(M.e),b.Rb(y.b),b.Rb(M.f),b.Rb(o.a),b.Rb(C.a),b.Rb(I.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-toc-cmt"]],inputs:{patient:"patient",staff:"staff",timerId:"timerId",draftId:"draftId",referrer:"referrer",editCMT:"editCMT",autoCMTOverRide:"autoCMTOverRide",stickyNote:"stickyNote",appointmentTime:"appointmentTime"},features:[b.Cb([d.a])],decls:129,vars:87,consts:[["id","heading"],["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],[1,"body-container"],["cdkDragHandle",""],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],[1,"label"],["nzFormat","dd-MMM-yyyy HH:mm","nzSize","small",3,"nzShowTime","nzPlaceHolder","ngModel","nzDisabledDate","ngStyle","ngModelChange"],["id","caretakers",3,"ngModel","nzSize","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-row","","nzGutter","2"],["nz-col","","nzSpan","24"],["id","activity-label"],["nz-row","","nzGutter","2",1,"centerize"],[3,"nzColor","nzMode","click"],["nz-row",""],["nz-col","","nzSpan","2"],["nz-col","","nzSpan","22",4,"ngIf"],["nz-col","","nzSpan","22"],["id","dxCodes","nzPlaceHolder","Select at least 2 diagnosis codes","nzMode","multiple","nzMaxMultipleCount","4",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["nz-row","",4,"ngIf"],["nz-row","","nzGutter","8","nzAlign","middle"],["nz-col","","nzSpan","4",2,"padding-bottom","8px"],["nz-col","","nzSpan","4",4,"ngFor","ngForOf"],[3,"duration","durationChange"],["nz-col","","nzSpan","24","id","tms-notes-label"],["placeholder","Add a note..",3,"ngModel","config","ngModelChange"],["note",""],[3,"note","onTemplateSelected"],[3,"loadingState","validationState","compact","roundedButtons","showHistory","save"],["nzTitle","Please enter the reason for updating CMT minutes",3,"nzVisible","nzFooter","nzVisibleChange"],["nz-input","","placeholder","Enter your reason for updating here",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"reason-update-btn-div"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",1,"reason-update-btn",3,"click"],["nzTitle","Please enter the reason for updating CMT Activity",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Note",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Communication Mode",3,"nzVisible","nzFooter","nzVisibleChange"],[3,"nzLabel","nzValue"],["id","activities","nzPlaceHolder","Select Activity",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel"],["id","activities","ngModel","","placeholder","Enter custom activity...","nz-input","",3,"ngModelChange"],[3,"nzValue","nzLabel",4,"ngIf"],["nz-col","","nzSpan","22","nzOffset","2"],["nz-typography","","nzType","danger"],["nz-col","","nzSpan","4"],[3,"label","type","selectedType","labelChange","typeChange","selectedTypeChange","select"],["size","16px",3,"name",4,"ngIf"],["size","16px",3,"name"],[1,"reason-update-error",2,"color","red"]],template:function(t,e){1&t&&(b.Xb(0,"strong",0),b.Xc(1),b.Wb(),b.Sb(2,"br"),b.Xb(3,"div",1),b.Xb(4,"div",2),b.Xb(5,"div",3),b.Xb(6,"div",4),b.Xb(7,"div",5),b.Xb(8,"strong",6),b.Xc(9,"Start Time: "),b.Wb(),b.Xc(10," \xa0\xa0 "),b.Xb(11,"nz-date-picker",7),b.ec("ngModelChange",function(t){return e.startDate=t})("ngModelChange",function(){return e.validateTMSData()}),b.jc(12,"translate"),b.Wb(),b.Wb(),b.Xb(13,"div",5),b.Xb(14,"strong",6),b.Xc(15),b.jc(16,"translate"),b.Wb(),b.Xc(17," \xa0\xa0 "),b.Xb(18,"nz-select",8),b.ec("ngModelChange",function(t){return e.selectedCaretaker=t}),b.Vc(19,Gt,1,3,"nz-option",9),b.Wb(),b.Wb(),b.Wb(),b.Sb(20,"br"),b.Xb(21,"div",10),b.Xb(22,"div",11),b.Xb(23,"strong",12),b.Xc(24,"Choose a CMT Activity"),b.Wb(),b.Wb(),b.Wb(),b.Xb(25,"div",13),b.Xb(26,"div",11),b.Xb(27,"nz-tag",14),b.ec("click",function(){return e.setActivity("ONBOARDING","OTHER")}),b.Xc(28),b.jc(29,"translate"),b.Wb(),b.Xb(30,"nz-tag",14),b.ec("click",function(){return e.setActivity("DATA_REVIEW_EHR","OTHER")}),b.Xc(31),b.jc(32,"translate"),b.Wb(),b.Xb(33,"nz-tag",14),b.ec("click",function(){return e.setActivity("DATA_REVIEW_MD","OTHER")}),b.Xc(34),b.jc(35,"translate"),b.Wb(),b.Xb(36,"nz-tag",14),b.ec("click",function(){return e.setActivity("ALERT_MANAGEMENT","CALL")}),b.Xc(37),b.jc(38,"translate"),b.Wb(),b.Xb(39,"nz-tag",14),b.ec("click",function(){return e.setActivity("ESCALATION","OTHER")}),b.Xc(40),b.jc(41,"translate"),b.Wb(),b.Wb(),b.Wb(),b.Xb(42,"div",13),b.Xb(43,"div",11),b.Xb(44,"nz-tag",14),b.ec("click",function(){return e.setActivity("CARE_PLAN_MODIFICATION","OTHER")}),b.Xc(45," PoC Modification"),b.Wb(),b.Xb(46,"nz-tag",14),b.ec("click",function(){return e.setActivity("CARE_COORDINATION","OTHER")}),b.Xc(47," Care Coordination"),b.Wb(),b.Xb(48,"nz-tag",14),b.ec("click",function(){return e.setActivity("MEDICATION_REVIEW","OTHER")}),b.Xc(49," Medication Review"),b.Wb(),b.Xb(50,"nz-tag",14),b.ec("click",function(){return e.setActivity("ASSESSMENT_REVIEW","CALL")}),b.Xc(51," Assessment Forms"),b.Wb(),b.Xb(52,"nz-tag",14),b.ec("click",function(){return e.setActivity("OTHERS","CALL")}),b.Xc(53," Others"),b.Wb(),b.Wb(),b.Wb(),b.Sb(54,"br"),b.Xb(55,"div",15),b.Xb(56,"div",16),b.Xb(57,"strong",12),b.Xc(58),b.jc(59,"translate"),b.Wb(),b.Wb(),b.Vc(60,$t,3,2,"div",17),b.Vc(61,qt,2,0,"div",17),b.Wb(),b.Sb(62,"br"),b.Xb(63,"div",15),b.Xb(64,"div",16),b.Xb(65,"strong",12),b.Xc(66,"Dx"),b.Xb(67,"sup"),b.Xc(68,"*"),b.Wb(),b.Wb(),b.Wb(),b.Xb(69,"div",18),b.Xb(70,"nz-select",19),b.ec("ngModelChange",function(t){return e.selectedDxCodes=t})("ngModelChange",function(){return e.validateTMSData()}),b.Vc(71,Qt,2,1,"ng-container",20),b.Wb(),b.Wb(),b.Wb(),b.Vc(72,Kt,4,0,"div",21),b.Sb(73,"br"),b.Xb(74,"div",15),b.Xb(75,"div",11),b.Xb(76,"div",22),b.Xb(77,"div",23),b.Xb(78,"strong",6),b.Xc(79),b.jc(80,"translate"),b.Wb(),b.Wb(),b.Vc(81,te,3,4,"div",24),b.Wb(),b.Wb(),b.Xb(82,"div",11),b.Xb(83,"app-time-selector",25),b.ec("durationChange",function(t){return e.validateTMSData(t)}),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(84,"div",4),b.Xb(85,"div",26),b.Xc(86," Add notes: "),b.Wb(),b.Xb(87,"div",11),b.Xb(88,"angular-editor",27,28),b.ec("ngModelChange",function(t){return e.tmsNote=t})("ngModelChange",function(){return e.validateTMSData()}),b.Wb(),b.Wb(),b.Wb(),b.Sb(90,"br"),b.Xb(91,"div",4),b.Xb(92,"div",5),b.Xb(93,"app-note-template-picker",29),b.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),b.Wb(),b.Wb(),b.Wb(),b.Sb(94,"br"),b.Sb(95,"br"),b.Xb(96,"app-footer-actions",30),b.ec("showHistory",function(){return e.showTMSHistory()})("save",function(){return e.save()}),b.Wb(),b.Wb(),b.Wb(),b.Xb(97,"nz-modal",31),b.ec("nzVisibleChange",function(t){return e.isUpdateTimeModalVisible=t}),b.Xb(98,"input",32),b.ec("ngModelChange",function(t){return e.reasonForChange=t}),b.Wb(),b.Vc(99,ee,3,0,"ng-container",33),b.Xb(100,"div",34),b.Xb(101,"button",35),b.ec("click",function(){return e.closeUpdateModal()}),b.Xc(102,"Cancel"),b.Wb(),b.Xb(103,"button",36),b.ec("click",function(){return e.submitUpdateReason()}),b.Xc(104,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Xb(105,"nz-modal",37),b.ec("nzVisibleChange",function(t){return e.isUpdateActivityModalVisible=t}),b.Xb(106,"input",32),b.ec("ngModelChange",function(t){return e.reasonForActivityUpdate=t}),b.Wb(),b.Vc(107,ne,3,0,"ng-container",33),b.Xb(108,"div",34),b.Xb(109,"button",35),b.ec("click",function(){return e.closeActivityModal()}),b.Xc(110,"Cancel"),b.Wb(),b.Xb(111,"button",36),b.ec("click",function(){return e.submitUpdateActivityReason()}),b.Xc(112,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Xb(113,"nz-modal",38),b.ec("nzVisibleChange",function(t){return e.isUpdateTmsNoteModalVisible=t}),b.Xb(114,"input",32),b.ec("ngModelChange",function(t){return e.reasonForTmsNoteUpdate=t}),b.Wb(),b.Vc(115,ie,3,0,"ng-container",33),b.Xb(116,"div",34),b.Xb(117,"button",35),b.ec("click",function(){return e.closeTmsUpdateModal()}),b.Xc(118,"Cancel"),b.Wb(),b.Xb(119,"button",36),b.ec("click",function(){return e.submitTmsUpdateReason()}),b.Xc(120,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Xb(121,"nz-modal",39),b.ec("nzVisibleChange",function(t){return e.isUpdateModeModalVisible=t}),b.Xb(122,"input",32),b.ec("ngModelChange",function(t){return e.reasonForModeUpdate=t}),b.Wb(),b.Vc(123,ae,3,0,"ng-container",33),b.Xb(124,"div",34),b.Xb(125,"button",35),b.ec("click",function(){return e.closeModeUpdateModal()}),b.Xc(126,"Cancel"),b.Wb(),b.Xb(127,"button",36),b.ec("click",function(){return e.submitModeUpdateReason()}),b.Xc(128,"Save"),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Db(1),b.Zc("CMT Time: ",(null==e.patient?null:e.patient.name)||"",""),b.Db(10),b.sc("nzPlaceHolder",b.kc(12,67,"TABLEHEADER.STARTTIME")),b.rc("nzShowTime",b.xc(85,oe))("ngModel",e.startDate)("nzDisabledDate",e.disabledDate)("ngStyle",b.xc(86,se)),b.Db(4),b.Zc("",b.kc(16,69,"PATIENT.MONITORING_STAFF"),": "),b.Db(3),b.rc("ngModel",e.selectedCaretaker)("nzSize","small"),b.Db(1),b.rc("ngForOf",e.caretakers),b.Db(8),b.rc("nzColor","ONBOARDING"===e.type?"green":null)("nzMode","default"),b.Db(1),b.Yc(b.kc(29,71,"TMS.ONBOARDING")),b.Db(2),b.rc("nzColor","DATA_REVIEW_EHR"===e.type?"green":null)("nzMode","default"),b.Db(1),b.Zc(" ",b.kc(32,73,"TMS.DATA_REVIEW_EHR"),""),b.Db(2),b.rc("nzColor","DATA_REVIEW_MD"===e.type?"green":null)("nzMode","default"),b.Db(1),b.Zc(" ",b.kc(35,75,"TMS.DATA_REVIEW_MD"),""),b.Db(2),b.rc("nzColor","ALERT_MANAGEMENT"===e.type?"green":null)("nzMode","default"),b.Db(1),b.Zc(" ",b.kc(38,77,"TMS.MANAGING_ALERTS"),""),b.Db(2),b.rc("nzColor","ESCALATION"===e.type?"green":null)("nzMode","default"),b.Db(1),b.Yc(b.kc(41,79,"TMS.ESCALATION")),b.Db(4),b.rc("nzColor","CARE_PLAN_MODIFICATION"===e.type?"green":null)("nzMode","default"),b.Db(2),b.rc("nzColor","CARE_COORDINATION"===e.type?"green":null)("nzMode","default"),b.Db(2),b.rc("nzColor","MEDICATION_REVIEW"===e.type?"green":null)("nzMode","default"),b.Db(2),b.rc("nzColor","ASSESSMENT_REVIEW"===e.type?"green":null)("nzMode","default"),b.Db(2),b.rc("nzColor","OTHERS"===e.type?"green":null)("nzMode","default"),b.Db(6),b.Zc("",b.kc(59,81,"TMS.OTHER"),": "),b.Db(2),b.rc("ngIf","OTHERS"!==e.type),b.Db(1),b.rc("ngIf","OTHERS"===e.type),b.Db(9),b.rc("ngModel",e.selectedDxCodes),b.Db(1),b.rc("ngForOf",null==e.patient?null:e.patient.dxCodes),b.Db(1),b.rc("ngIf",2>(null==e.selectedDxCodes?null:e.selectedDxCodes.length)),b.Db(7),b.Zc("",b.kc(80,83,"TMS.COMMUNICATION_MODE"),": "),b.Db(2),b.rc("ngForOf",e.communicationModes),b.Db(2),b.rc("duration",e.duration),b.Db(5),b.rc("ngModel",e.tmsNote)("config",e.config),b.Db(5),b.rc("note",e.tmsNote),b.Db(3),b.rc("loadingState",e.loading)("validationState",e.validated)("compact",!0)("roundedButtons",!0),b.Db(1),b.rc("nzVisible",e.isUpdateTimeModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForChange),b.Db(1),b.rc("ngIf",e.isNoteRequired),b.Db(6),b.rc("nzVisible",e.isUpdateActivityModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForActivityUpdate),b.Db(1),b.rc("ngIf",e.isActivityNoteRequired),b.Db(6),b.rc("nzVisible",e.isUpdateTmsNoteModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForTmsNoteUpdate),b.Db(1),b.rc("ngIf",e.isTmsNoteRequired),b.Db(6),b.rc("nzVisible",e.isUpdateModeModalVisible)("nzFooter",null),b.Db(1),b.rc("ngModel",e.reasonForModeUpdate),b.Db(1),b.rc("ngIf",e.isModeNoteRequired))},directives:[A.a,A.b,z.c,z.a,O.a,N.u,N.x,P.r,R.d,P.p,X.a,P.q,L.a,W.a,k.a,V.a,M.a,x.b,N.d,U.a,F.a,H.a,R.a,B.a,j.a,D.a],pipes:[m.a],styles:["#wrapper[_ngcontent-%COMP%]{font-size:12px}#heading[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color)}[_nghost-%COMP%]     .ant-modal-body{padding-top:0}.reason-update-error[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;height:10px;max-height:10px}.reason-update-btn-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:20px}.reason-update-btn[_ngcontent-%COMP%]{margin-left:10px}strong[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-input.ant-input-sm{border:none;font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-icon{color:var(--primary-color)}.label[_ngcontent-%COMP%]{color:var(--tertiary-color);font-size:11px}#activity[_ngcontent-%COMP%]{float:right;width:20px;height:20px;font-size:10px}#tms-notes[_ngcontent-%COMP%]{background:#fff 0 0 no-repeat padding-box;padding:2%;resize:none;font-size:12px}.centerize[_ngcontent-%COMP%]{text-align:center}#caretakers[_ngcontent-%COMP%]{width:200px;font-size:12px;color:var(--light-black)}[_nghost-%COMP%]     .ant-select-selection{border:none}[_nghost-%COMP%]     .ant-select-arrow{color:var(--primary-color)}[_nghost-%COMP%]     .ant-tag{height:30px;width:120px;border:1px solid var(--grey);border-radius:3px;font-size:10px;line-height:3;overflow-x:hidden;overflow-y:hidden;color:#000}.ant-tag-green[_ngcontent-%COMP%]{color:var(--neutral-color);background:var(--primary-color);border:1px solid var(--primary-color)}#activity-label[_ngcontent-%COMP%]{line-height:3}#activities[_ngcontent-%COMP%]{width:100%;background:#fbfbfb 0 0 no-repeat padding-box;border-radius:5px;font-size:12px}app-icons[_ngcontent-%COMP%]{vertical-align:sub}.body-container[_ngcontent-%COMP%]{margin-top:25px}#tms-notes-label[_ngcontent-%COMP%]{padding-top:8px}"]}),t})(),ce=(()=>{class t{constructor(t){this._modalService=t}createTMSModal(t,e,n,i,a,o,s,r,c="OTHER",l,d){return this._modalService.create({nzContent:lt,nzComponentParams:{patient:t,episodeId:e,tmsType:n,careplanStartDate:a,cptCode:i,appointmentTime:o,stickyNote:s,draftId:r,referrer:c,editTMS:l,timerId:d},nzStyle:{top:"50px"},nzWidth:775,nzFooter:null,nzMaskClosable:!1})}createCMTModal(t,e,n,i,a,o,s,r,c,l){return this._modalService.create({nzContent:Lt,nzComponentParams:{episodeId:n,patientId:e,patientName:t,cptCode:i,appointmentTime:[a,o],episodeEndDate:s,stickyNote:r,timerId:c,editCMT:l},nzStyle:{top:"50px"},nzWidth:775,nzFooter:null,nzMaskClosable:!1})}createLogDetailsModal(t,e){this._modalService.create({nzContent:Bt,nzComponentParams:{log:t,staffName:e},nzFooter:null})}showTMSHistory(t,e,n,i){this._modalService.create({nzContent:u.a,nzComponentParams:{patientId:t,patientName:e,episodeId:n,tmsType:i},nzWidth:775,nzBodyStyle:{overflowY:"scroll"},nzFooter:null})}createCCMTMS(t,e,n,i="OTHER",a){return this._modalService.create({nzContent:jt.a,nzComponentParams:{patient:t,blueprint:e,serviceCode:n,appointmentTime:[],referrer:i,editCMT:a},nzStyle:{top:"50px"},nzWidth:775,nzFooter:null,nzMaskClosable:!1})}createTOCTMS(t,e="OTHER",n,i=[],a,o){return this._modalService.create({nzContent:re,nzComponentParams:{patient:t,appointmentTime:i,referrer:e,editCMT:n,stickyNote:a,timerId:o},nzStyle:{top:"50px"},nzWidth:775,nzFooter:null,nzMaskClosable:!1})}}return t.\u0275fac=function(e){return new(e||t)(b.bc(M.f))},t.\u0275prov=b.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},OkQO:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("WoUL"),a=n("FrsH"),o=n("fXoL");let s=(()=>{class t{constructor(t){this.translationService=t}transform(t,e,n,i){return this.translationService.getMultiple(...r.STRINGS).subscribe(t=>this.translatedStrings=t),e?this.getMessage(t,e,n,i):n}getMessage(t,e,n,i){switch(t){case a.a.CAREPLAN_ASSIGNED:if(this.translatedStrings.has("ALERT.CAREPLAN_ASSIGNED_ALERT"))return this.translatedStrings.get("ALERT.CAREPLAN_ASSIGNED_ALERT").replace("{CAREPLAN_NAME}",e.CAREPLAN_NAME).replace("{EPISODE_NAME}",null==e.EPISODE_NAME?"":e.EPISODE_NAME);case a.a.CONSENT_SUBMITTED:if(this.translatedStrings.has("ALERT.CONSENT_SUBMITTED_ALERT"))return this.translatedStrings.get("ALERT.CONSENT_SUBMITTED_ALERT").replace("{EPISODE_TYPE}",e.EPISODE_TYPE);case a.a.PRIORITISED:if(this.translatedStrings.has("ALERT.CUSTOM_ALERT_RULE_MESSAGE"))return this.translatedStrings.get("ALERT.CUSTOM_ALERT_RULE_MESSAGE").replace("{PATIENT_NAME}",i.patient.fullName).replace("{VITAL_SIGN}",i.rule.criteria[0].paramType).replace("{LEVEL}",i.rule.criteria[0].condition).replace("{OCCURENCE}",i.rule.criteria[0].frequency.occurrence.toString()).replace("{WITH_IN_DAYS}",i.rule.criteria[0].frequency.withInDays.toString());default:return n}}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(i.a))},t.\u0275pipe=o.Qb({name:"alertMessage",type:t,pure:!0}),t})(),r=(()=>{class t{constructor(){this.translationStrings=new Map([["CAREPLAN_ASSIGNED","ALERT.CAREPLAN_ASSIGNED_ALERT"],["CONSENT_FORM_ASSIGNED","ALERT.CONSENT_SUBMITTED_ALERT"]])}}return t.STRINGS=new Array("ALERT.CAREPLAN_ASSIGNED_ALERT","ALERT.CONSENT_SUBMITTED_ALERT","ALERT.CUSTOM_ALERT_RULE_MESSAGE"),t})()},"Pp+U":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{transform(t){let e="";switch(t){case"ALL":e="All";break;case"SCHEDULED":e="Scheduled";break;case"COMPLETED":e="Completed";break;case"SUSPENDED":e="Suspended";break;case"PAUSED":e="Paused";break;case"IN_PROGRESS":e="Active";break;case"SCHEDULED":e="In Progress";break;default:e=""}return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"episodeStatusName",type:t,pure:!0}),t})()},PzCk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("bnsq"),a=n("fXoL");let o=(()=>{class t{constructor(t,e,n,i){this._viewContainerRef=t,this._templateRef=e,this._permissionsService=n,this._cdRef=i}ngAfterViewInit(){var t;const e=localStorage.getItem("loggedInUserAccountType");this.permissions=this.anyFeaturePermitted,"TENANT_ADMIN"!==e&&(null===(t=this.permissions)||void 0===t?void 0:t.length)?this.userHasPermissions()?this.enableFeature():this.disableFeature():this.enableFeature()}userHasPermissions(){const t=this._permissionsService.getPermissionsForUser();let e=!1;return!!(null==t?void 0:t.length)&&(this.permissions.forEach(n=>{-1!==t.findIndex(t=>t===n)&&(e=!0)}),e)}enableFeature(){this._viewContainerRef.createEmbeddedView(this._templateRef),this._cdRef.detectChanges()}disableFeature(){this._viewContainerRef.clear(),this._cdRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(a.R),a.Rb(a.N),a.Rb(i.a),a.Rb(a.h))},t.\u0275dir=a.Mb({type:t,selectors:[["","anyFeaturePermitted",""]],inputs:{anyFeaturePermitted:"anyFeaturePermitted"}}),t})()},"Q+ul":function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{}},QBjw:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{}},QwIf:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let i=(()=>{class t{}return t.SOURCE="source",t.SEARCH_KEY="search_key",t.ACTION_NAME="action_name",t.PATIENT_ID="patient_id",t.PATIENT_NAME="patient_name",t.FILTER_INFO="filter_info",t.FILTER_TYPE="filter_type",t.STAFF_NAME="staff_name",t.PATIENT_ACTION="PATIENT_ACTION",t.PATIENT_DETAILS_ACTION="PATIENT_DETAILS_ACTION",t.PATIENT_SEARCH="PATIENT_SEARCH",t.PATIENT_FILTER_ACTION="PATIENT_FILTER_ACTION",t.PATIENT_STAFF_ASSIGN="PATIENT_STAFF_ASSIGN",t.PATIENT_ALERT_ACTION="PATIENT_ALERT_ACTION",t.PATIENT_LISTING_SCREEN="patient_listing",t.BULK_ASSING_PATIENT_TO_MONITORING_STAFF="bulk_assign_patient_to_monitoring_staff",t})()},S5rh:function(t,e,n){"use strict";n.d(e,"a",function(){return z});var i=n("fXoL"),a=n("q7YW"),o=n("dMDw"),s=n("SP7D"),r=n("ofXK"),c=n("jPNr"),l=n("pSeI"),d=n("ZKr6"),u=n("C2AL"),p=n("PTRe"),h=n("3Pt+"),b=n("OzZK"),g=n("RwU8"),m=n("glKu"),f=n("+oEP"),v=n("dRHE");function S(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",9),i.ec("click",function(e){return i.Lc(t),i.ic(2).emitSearchKey(e)}),i.Sb(1,"app-icons",10),i.Wb()}2&t&&(i.Db(1),i.rc("originalStyle",!0))}function T(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"nz-input-group",6),i.Xb(2,"input",7),i.ec("ngModelChange",function(e){return i.Lc(t),i.ic().searchKey=e})("keyup",function(e){return i.Lc(t),i.ic().emitSearchKey(e)}),i.jc(3,"translate"),i.Wb(),i.Wb(),i.Vc(4,S,2,1,"ng-template",null,8,i.Wc),i.Ub()}if(2&t){const t=i.Ic(5),e=i.ic();i.Db(1),i.rc("nzAddOnAfter",t),i.Db(1),i.sc("placeholder",i.kc(3,3,"COMMON.SEARCH")),i.rc("ngModel",e.searchKey)}}function C(t,e){if(1&t){const t=i.Yb();i.Vb(0,12),i.Xb(1,"button",13),i.ec("click",function(){return i.Lc(t),i.ic(2).emitSecondaryAction()}),i.Xc(2),i.Wb(),i.Ub()}if(2&t){const t=i.ic(2);i.rc("nzContent",t.secondaryActionInfo),i.Db(2),i.Zc(" ",t.secondaryActionTitle," ")}}function E(t,e){if(1&t&&(i.Vb(0),i.Vc(1,C,3,2,"ng-container",11),i.Ub()),2&t){const t=i.ic();i.Db(1),i.rc("ngIf",t.isSecondaryActionEnabled)}}function I(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"button",14),i.ec("click",function(){return i.Lc(t),i.ic(2).emitAction()}),i.Xc(2),i.Wb(),i.Ub()}if(2&t){const t=i.ic(2);i.Db(1),i.rc("nzContent",t.actionInfo),i.Db(1),i.Zc(" ",t.actionTitle," ")}}function M(t,e){if(1&t&&(i.Vb(0),i.Vc(1,I,3,2,"ng-container",2),i.Ub()),2&t){const t=i.ic();i.Db(1),i.rc("ngIf",t.isActionEnabled)}}function y(t,e){1&t&&i.Sb(0,"app-icons",15)}const A=["*",[["","extra",""]]],_=function(t){return{left:t}},D=["*","[extra]"];let z=(()=>{class t{constructor(t,e){this._location=t,this._routeHelperService=e,this.isSearchEnabled=!0,this.isActionEnabled=!0,this.isSecondaryActionEnabled=!1,this.search=new i.n,this.action=new i.n,this.secondaryAction=new i.n,this.sidebar$=this._routeHelperService.isSidebarCollapsed().subscribe(t=>{this.sidebarCollapsed=t,this.resizeHeader()}),this.header$=Object(a.fromEvent)(window,"resize").pipe(Object(o.debounceTime)(50)).subscribe(t=>{this.resizeHeader()})}resizeHeader(){this.headerLeft=this.sidebarCollapsed?"0":"150px"}ngOnDestroy(){var t;null===(t=this.header$)||void 0===t||t.unsubscribe(),this.sidebar$.unsubscribe()}emitSearchKey(t){"keyup"!==t.type||this.searchKey||this.search.emit(this.searchKey),"keyup"===t.type&&13!==t.keyCode||this.search.emit(this.searchKey)}emitAction(){this.action.emit()}emitSecondaryAction(){this.secondaryAction.emit()}goBack(){this._location.back()}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(r.l),i.Rb(s.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-header"]],inputs:{title:"title",prefix:"prefix",defaultTitle:"defaultTitle",subProperty:"subProperty",actionTitle:"actionTitle",actionInfo:"actionInfo",actionPermissions:"actionPermissions",secondaryActionTitle:"secondaryActionTitle",secondaryActionInfo:"secondaryActionInfo",secondaryActionPermissions:"secondaryActionPermissions",isSearchEnabled:"isSearchEnabled",isActionEnabled:"isActionEnabled",isSecondaryActionEnabled:"isSecondaryActionEnabled"},outputs:{search:"search",action:"action",secondaryAction:"secondaryAction"},ngContentSelectors:D,decls:12,vars:12,consts:[[3,"nzBackIcon","nzGhost","ngStyle","nzBack"],[3,"nomenclature","default","subProperty","prefix"],[4,"ngIf"],[4,"isFeaturePermitted"],["backIcon",""],[1,"header-spacer"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","",1,"search",3,"placeholder","ngModel","ngModelChange","keyup"],["searchIconButton",""],["nz-button","","nzType","primary","nzSearch","",3,"click"],["size","14px","name","search",3,"originalStyle"],["nz-popover","","nzPlacement","bottom",3,"nzContent",4,"ngIf"],["nz-popover","","nzPlacement","bottom",3,"nzContent"],["nz-button","","nzType","primary",1,"secondary-action",3,"click"],["nz-button","","nzType","primary","nz-popover","","nzPlacement","bottom",3,"nzContent","click"],["name","back","altColor","#ffffff","color","#ffffff"]],template:function(t,e){if(1&t&&(i.qc(A),i.Xb(0,"nz-page-header",0),i.ec("nzBack",function(){return e.goBack()}),i.Xb(1,"nz-page-header-title"),i.Sb(2,"app-nomenclature",1),i.Wb(),i.Xb(3,"nz-page-header-extra"),i.pc(4),i.Vc(5,T,6,5,"ng-container",2),i.Vc(6,E,2,1,"ng-container",3),i.pc(7,1),i.Vc(8,M,2,1,"ng-container",3),i.Wb(),i.Vc(9,y,1,0,"ng-template",null,4,i.Wc),i.Wb(),i.Sb(11,"div",5)),2&t){const t=i.Ic(10);i.rc("nzBackIcon",t)("nzGhost",!1)("ngStyle",i.yc(10,_,e.headerLeft)),i.Db(2),i.rc("nomenclature",e.title)("default",e.defaultTitle)("subProperty",e.subProperty)("prefix",e.prefix),i.Db(3),i.rc("ngIf",e.isSearchEnabled),i.Db(1),i.rc("isFeaturePermitted",e.secondaryActionPermissions),i.Db(2),i.rc("isFeaturePermitted",e.actionPermissions)}},directives:[c.b,r.r,c.g,l.a,c.d,r.q,d.a,u.a,p.c,p.b,h.d,h.u,h.x,b.a,g.a,m.a,f.a],pipes:[v.a],styles:[".secondary-action[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--primary-color);color:var(--primary-color);transition:all .3s}.secondary-action[_ngcontent-%COMP%]:focus{background:transparent!important;color:var(--primary-color)!important}.secondary-action[_ngcontent-%COMP%]:hover{background-color:var(--primary-color)!important;border-color:var(--primary-color)!important;color:var(--neutral-color)!important}.search[_ngcontent-%COMP%]{background:#393939;color:var(--neutral-color);border:none;height:30px;outline:none}[_nghost-%COMP%]     .ant-page-header{z-index:998;background:var(--light-black) 0 0 no-repeat padding-box;height:50px;padding:0 24px;position:fixed;left:0;right:0;top:50px}.header-spacer[_ngcontent-%COMP%]{height:55px}[_nghost-%COMP%]     .ant-page-header-heading-left{margin:10px 0;font-size:10px}[_nghost-%COMP%]     .ant-page-header-heading-title, [_nghost-%COMP%]     .anticon{font-size:16px;color:var(--neutral-color);opacity:.9;font-weight:400}[_nghost-%COMP%]     .ant-page-header-heading-extra{margin:10px 0}[_nghost-%COMP%]     .ant-input-group-addon{background-color:transparent}[_nghost-%COMP%]     .ant-input-search>.ant-input-group>.ant-input-group-addon .ant-input-search-button{padding:5px 10px;border-radius:5px;height:30px}[_nghost-%COMP%]     .ant-input-group-wrapper{width:inherit}[_nghost-%COMP%]     .ant-btn{font-size:12px}[_nghost-%COMP%]     .ant-btn-primary{font-weight:700}a[_ngcontent-%COMP%]{float:right;color:var(--neutral-color);font-weight:700;height:30px;margin:0 15px}#username[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:3}app-icons[_ngcontent-%COMP%]{vertical-align:middle}"]}),t})()},S9gE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.BASIC_DETAILS="BASIC_DETAILS",t.EPISODE_HISTORY_DETAILS="EPISODE_HISTORY_DETAILS",t.TMS_DETAILS="TMS_DETAILS",t.CARE_PLAN_DETAILS="CARE_PLAN_DETAILS",t.EPISODE_DETAILS="EPISODE_DETAILS",t.HEALTH_SCORE="HEALTH_SCORE",t.WELLNESS_SCORE="WELLNESS_SCORE",t}({})},SHZf:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("fXoL"),a=n("ofXK"),o=n("WoUL");function s(t){return()=>t.initialize()}let r=(()=>{class t{static forRoot(){return{ngModule:t,providers:[o.a,{provide:i.d,useFactory:s,deps:[o.a],multi:!0}]}}}return t.\u0275mod=i.Pb({type:t}),t.\u0275inj=i.Ob({factory:function(e){return new(e||t)},imports:[[a.c]]}),t})()},SP7D:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("dRHE"),a=n("7RJT"),o=n("ds6q"),s=n("fXoL");let r=(()=>{class t{constructor(t){this._translationPipe=t,this.mainHeader$=new a.BehaviorSubject(!0),this.actionsHeader$=new a.BehaviorSubject(!1),this.sidebar$=new a.BehaviorSubject(!0),this.sidebarCollapsed$=new a.BehaviorSubject(!1),this.title$=new a.BehaviorSubject(""),this.searchEnabled$=new a.BehaviorSubject(!1),this.searchPlaceholder$=new a.BehaviorSubject("COMMON.SEARCH"),this.searchReset$=new a.BehaviorSubject(!1),this.primaryAction$=new a.BehaviorSubject({}),this.primaryEnableAction$=new a.BehaviorSubject(!1),this.secondaryAction$=new a.BehaviorSubject({}),this.multiAction$=new a.BehaviorSubject({}),this.search$=new a.BehaviorSubject(null),this.primaryActionTrigger$=new o.Subject,this.secondaryActionTrigger$=new o.Subject,this.multiActionTrigger$=new o.Subject,this.shouldShowSubTenantToggle$=new a.BehaviorSubject(!1),this.subTenantToggleMode$=new a.BehaviorSubject("MULTI")}setDataForRoute(t){if(!t||!Object.keys(t).length)return;if(null!==(null==t?void 0:t.reset)&&(null==t?void 0:t.reset))return this.mainHeader$.next(!0),this.actionsHeader$.next(!1),this.sidebar$.next(!0),this.title$.next(""),this.searchEnabled$.next(!1),this.searchReset$.next(!1),this.primaryAction$.next({}),this.primaryEnableAction$.next(!1),this.secondaryAction$.next({}),this.multiAction$.next({}),this.search$.next(null),this.searchPlaceholder$.next("COMMON.SEARCH"),this.primaryActionTrigger$.next(null),this.secondaryActionTrigger$.next(null),void this.multiActionTrigger$.next(null);void 0!==(null==t?void 0:t.mainHeader)&&this.setMainHeaderEnabled(null==t?void 0:t.mainHeader),void 0!==(null==t?void 0:t.sidebar)&&this.setSidebarEnabled(null==t?void 0:t.sidebar),this.setActionsHeaderEnabled(null==t?void 0:t.header),this.setTitleForRoute(null==t?void 0:t.title),this.setSearchEnabled(null==t?void 0:t.searchEnabled),this.setPrimaryAction(null==t?void 0:t.primaryAction),this.setPrimaryEnableAction(!1),this.setSecondaryAction(null==t?void 0:t.secondaryAction),this.setMultiAction(null==t?void 0:t.multiAction);let e,n=!0;null!=(null==t?void 0:t.showTenantToggle)&&(n=null==t?void 0:t.showTenantToggle),this.setShouldShowSubTenantToggle(n),e=null!=(null==t?void 0:t.subTenantToggleMode)?null==t?void 0:t.subTenantToggleMode:"MULTI",this.setSubTenantToggleMode(e),this.setPlaceholderForSearch((null==t?void 0:t.searchPlaceholder)||"COMMON.SEARCH")}setMainHeaderEnabled(t){this.mainHeader$.next(t)}isMainHeaderEnabled(){return this.mainHeader$.asObservable()}setActionsHeaderEnabled(t){this.actionsHeader$.next(t)}isActionsHeaderEnabled(){return this.actionsHeader$.asObservable()}setSidebarEnabled(t){this.sidebar$.next(t)}isSidebarEnabled(){return this.sidebar$.asObservable()}setSidebarCollapsed(t){this.sidebarCollapsed$.next(t)}isSidebarCollapsed(){return this.sidebarCollapsed$.asObservable()}setShouldShowSubTenantToggle(t){this.shouldShowSubTenantToggle$.next(t)}shouldShowSubTenantToggle(){return this.shouldShowSubTenantToggle$.asObservable()}setSubTenantToggleMode(t){this.subTenantToggleMode$.next(t)}subTenantToggleMode(){return this.subTenantToggleMode$.asObservable()}setTitleForRoute(t,e=!0){this.title$.next(e?this._translationPipe.transform(t):t)}getTitleForRoute(){return this.title$.asObservable()}setSearchEnabled(t){this.searchEnabled$.next(t)}isSearchEnabled(){return this.searchEnabled$.asObservable()}resetSearch(t){this.searchReset$.next(t)}searchReset(){return this.searchReset$.asObservable()}setPrimaryAction(t){this.primaryAction$.next(t)}getPrimaryAction(){return this.primaryAction$.asObservable()}setPrimaryEnableAction(t){this.primaryEnableAction$.next(t)}getPrimaryEnableAction(){return this.primaryEnableAction$.asObservable()}setSecondaryAction(t){this.secondaryAction$.next(t)}getSecondaryAction(){return this.secondaryAction$.asObservable()}setMultiAction(t){this.multiAction$.next(t)}getMultiAction(){return this.multiAction$.asObservable()}setSearch(t){this.search$.next(t)}getSearch(){return this.search$.asObservable()}setPlaceholderForSearch(t,e=!0){this.searchPlaceholder$.next(e?this._translationPipe.transform(t):t)}getPlaceholderForSearch(){return this.searchPlaceholder$.asObservable()}setPrimaryActionTriggered(){this.primaryActionTrigger$.next("triggered")}isPrimaryActionTriggered(){return this.primaryActionTrigger$.asObservable()}setSecondaryActionTriggered(){this.secondaryActionTrigger$.next("triggered")}isSecondaryActionTriggered(){return this.secondaryActionTrigger$.asObservable()}setMultiActionTriggered(t){this.multiActionTrigger$.next(t)}getMultiActionTriggered(){return this.multiActionTrigger$.asObservable()}}return t.\u0275fac=function(e){return new(e||t)(s.bc(i.a))},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},Szod:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("BcC3"),a=n("fXoL");let o=(()=>{class t{constructor(t,e){this._templateRef=t,this._viewContainerRef=e}ngOnInit(){this.checkIfPermitted()}checkIfPermitted(){localStorage.getItem("loggedInUserBoundary")==i.a.ACROSS_SUB_TENANTS?this.enableFeature():this.disableFeature()}enableFeature(){this._viewContainerRef.createEmbeddedView(this._templateRef)}disableFeature(){this._viewContainerRef.clear()}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(a.N),a.Rb(a.R))},t.\u0275dir=a.Mb({type:t,selectors:[["","isAccessAcrossTenantEnabled",""]]}),t})()},T5gh:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),a=n("tyNb");let o=(()=>{class t{constructor(t){this._router=t}canActivate(t,e){const n=localStorage.getItem("sessionToken");return null!=n&&null!=n||(this._router.navigate(["authorization/login"],{queryParams:{returnUrl:e.url}}),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.bc(a.g))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t})()},TtLB:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.FAULTY_DEVICE="FAULTY_DEVICE",t.PATIENT_DISCHARGE="PATIENT_DISCHARGE",t.DEVICE_RE_ASSIGNMENT="DEVICE_RE_ASSIGNMENT",t.INCORRECT_INFORMATION="INCORRECT_INFORMATION",t}({})},U2hf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("igu/"),a=n("fXoL");let o=(()=>{class t{constructor(){}isFeatureEnabled(t,e){if(!t)return!1;switch(e){case"FORMS":return t.featureConfigs.formsEnabled;case"FORMS.FORM_BUILDER":return t.featureConfigs.formsEnabled&&t.featureConfigs.formsBuilder;default:return!1}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),s=(()=>{class t{constructor(t,e,n,i,a){this._viewContainerRef=t,this._templateRef=e,this._cdRef=n,this._configHelper=i,this._dataSharingService=a}ngAfterViewInit(){null!=this.isTenantFeatureEnabled&&null!=this.isTenantFeatureEnabled?this._dataSharingService.tenantSettings.subscribe(t=>{var e;t&&(null===(e=this.isTenantFeatureEnabled)||void 0===e?void 0:e.length)&&(this._configHelper.isFeatureEnabled(t,this.isTenantFeatureEnabled)?this.enableFeature():this.disableFeature())}):this.enableFeature()}enableFeature(){this._viewContainerRef.createEmbeddedView(this._templateRef),this._cdRef.detectChanges()}disableFeature(){this._viewContainerRef.clear(),this._cdRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(a.R),a.Rb(a.N),a.Rb(a.h),a.Rb(o),a.Rb(i.a))},t.\u0275dir=a.Mb({type:t,selectors:[["","isTenantFeatureEnabled",""]],inputs:{isTenantFeatureEnabled:"isTenantFeatureEnabled"}}),t})()},UFn0:function(t,e,n){"use strict";n.d(e,"a",function(){return rt});var i=n("OzZK"),a=n("Nqz0"),o=n("Q8cG"),s=n("eHCX"),r=n("5vDB"),c=n("B+r4"),l=n("yW9e"),d=n("jPNr"),u=n("3/1E"),p=n("OEtX"),h=n("Jioy"),b=n("q0Us"),g=n("TaO5"),m=n("0lU3"),f=n("ocnv"),v=n("PTRe"),S=n("z4wI"),T=n("bE2y"),C=n("zAKX"),E=n("tAs6"),I=n("EGpF"),M=n("ix5O"),y=n("D9mS"),A=n("ZE2D"),_=n("SKKP"),D=n("JA5x"),z=n("IvDN"),O=n("xB20"),N=n("QlLE"),P=n("Ff2k"),R=n("+oEP"),X=n("A07A"),L=n("rMZv"),w=n("oyxB"),W=n("ZyQt"),k=n("ncdi"),V=n("nJia"),x=n("Wfee"),U=n("F6ss"),F=n("PScX"),H=n("dEAy"),B=n("bNXi"),j=n("KupA"),G=n("W9fG"),Y=n("OtHt"),$=n("qAZ0"),q=n("KAwd"),Z=n("VXpv"),Q=n("nxWG"),K=n("Etcd"),J=n("4xsP"),tt=n("Rm4T"),et=n("ofXK"),nt=n("tAZD"),it=n.n(nt),at=n("FwiY"),ot=n("4hBO"),st=n("fXoL");Object(et.J)(it.a);let rt=(()=>{class t{}return t.\u0275mod=st.Pb({type:t}),t.\u0275inj=st.Ob({factory:function(e){return new(e||t)},providers:[{provide:tt.b,useValue:tt.f}],imports:[[i.c,s.b,r.b,c.b,l.e,a.c,o.f,d.e,u.b,p.c,h.b,b.b,g.c,m.b,f.e,v.e,S.b,T.d,C.f,E.b,I.b,M.b,y.b,A.b,_.b,D.d,z.b,O.c,N.c,P.h,R.b,X.b,L.h,w.e,W.b,k.c,V.b,x.b,U.b,F.d,H.d,B.a,j.b,G.b,Y.d,$.b,q.b,Z.a,Q.b,K.c,J.c,j.b,at.b,ot.b],i.c,s.b,r.b,c.b,l.e,a.c,o.f,d.e,u.b,p.c,h.b,b.b,g.c,m.b,f.e,v.e,S.b,T.d,C.f,E.b,I.b,M.b,y.b,A.b,_.b,D.d,z.b,O.c,N.c,P.h,R.b,X.b,L.h,w.e,W.b,k.c,V.b,x.b,U.b,F.d,H.d,B.a,j.b,G.b,Y.d,$.b,q.b,Z.a,Q.b,K.c,J.c,j.b,at.b,ot.b]}),t})()},Ujc4:function(t,e,n){"use strict";n.d(e,"a",function(){return w});var i=n("mrSG"),a=n("6i1W"),o=n("fXoL"),s=n("t6gT"),r=n("/KA4"),c=n("geco"),l=n("IVUT"),d=n("igu/"),u=n("ofXK"),p=n("ZKr6"),h=n("Nqz0"),b=n("Q8cG"),g=n("glKu"),m=n("nJia"),f=n("OzZK"),v=n("RwU8"),S=n("C2AL"),T=n("B+r4"),C=n("eHCX");function E(t,e){if(1&t&&(o.Xb(0,"a",8),o.Sb(1,"app-icons",9),o.Wb()),2&t){o.ic(2);const t=o.Ic(4),e=o.ic(2);o.rc("nzDropdownMenu",t)("nzDisabled",e.disabled||!(null!=e.numbers&&e.numbers.length)),o.Db(1),o.rc("color",null!=e.numbers&&e.numbers.length?"rgb(138, 138, 138)":"#d8d8d8")}}function I(t,e){if(1&t&&(o.Xb(0,"a",10),o.Sb(1,"app-icons",11),o.Wb()),2&t){o.ic(2);const t=o.Ic(4);o.rc("nzDropdownMenu",t)}}function M(t,e){if(1&t&&o.Sb(0,"app-icons",12),2&t){const t=o.ic(4);o.sc("nzTooltipTitle",t.tooltipContent),o.rc("originalStyle",!0)}}function y(t,e){if(1&t&&(o.Vb(0),o.Vc(1,E,2,3,"a",5),o.Vc(2,I,2,1,"a",6),o.Vc(3,M,1,2,"app-icons",7),o.Ub()),2&t){const t=o.ic(3);o.Db(1),o.rc("ngIf",!t.renderVital),o.Db(1),o.rc("ngIf",t.renderVital&&(null==t.numbers?null:t.numbers.length)),o.Db(1),o.rc("ngIf",t.renderVital&&!(null!=t.numbers&&t.numbers.length))}}function A(t,e){1&t&&(o.Xb(0,"div",16),o.Sb(1,"app-icons",17),o.Wb()),2&t&&(o.Db(1),o.rc("color","#ffffff"))}function _(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"button",13),o.Xb(2,"div",14),o.Vc(3,A,2,1,"div",15),o.Xb(4,"div",16),o.Xc(5),o.Wb(),o.Wb(),o.Wb(),o.Ub()),2&t){o.ic();const t=o.Ic(4),e=o.ic(2);o.Db(1),o.rc("nzDropdownMenu",t)("nzSize",e.buttonSize)("disabled",e.disabled||!(null!=e.numbers&&e.numbers.length))("nzType",e.buttonType),o.Db(2),o.rc("ngIf",e.showIcon),o.Db(2),o.Zc(" Call ","LEAD"==e.context?"Lead":"Patient"," ")}}function D(t,e){1&t&&(o.Vb(0),o.Xc(1," | Preferred"),o.Ub())}function z(t,e){if(1&t){const t=o.Yb();o.Xb(0,"li",19),o.ec("click",function(){o.Lc(t);const e=o.ic().$implicit;return o.ic(3).initiateAudioCall(null==e?null:e.number)}),o.Xb(1,"label",20),o.Xc(2),o.jc(3,"titlecase"),o.Vc(4,D,2,0,"ng-container",0),o.Wb(),o.Sb(5,"br"),o.Xb(6,"span",21),o.Xc(7),o.Wb(),o.Xc(8,": "),o.Xb(9,"span"),o.Xc(10),o.Wb(),o.Wb()}if(2&t){const t=o.ic().$implicit;o.Db(2),o.Zc(" ",o.kc(3,5,(null==t?null:t.label)||"Phone Number")," "),o.Db(2),o.rc("ngIf",null==t?null:t.preferred),o.Db(3),o.Yc("MOBILE"===(null==t?null:t.type)?"M":"L"),o.Db(3),o.ad("",null==t?null:t.countryCode," ",null==t?null:t.number,"")}}function O(t,e){if(1&t&&(o.Vb(0),o.Vc(1,z,11,7,"li",18),o.Ub()),2&t){const t=e.$implicit;o.Db(1),o.rc("ngIf",!(null==t||null==t.number||!t.number.length))}}function N(t,e){1&t&&(o.Vb(0),o.pc(1),o.Ub())}function P(t,e){if(1&t&&(o.Vb(0),o.Vc(1,y,4,3,"ng-container",0),o.Vc(2,_,6,6,"ng-container",0),o.Xb(3,"nz-dropdown-menu",null,2),o.Xb(5,"ul",3),o.Vc(6,O,2,1,"ng-container",4),o.Wb(),o.Wb(),o.Vc(7,N,2,0,"ng-container",0),o.Ub()),2&t){const t=o.ic(2);o.Db(1),o.rc("ngIf","icon"===t.type),o.Db(1),o.rc("ngIf","button"===t.type),o.Db(4),o.rc("ngForOf",t.numbers),o.Db(1),o.rc("ngIf","custom"===t.type)}}const R=function(){return["AUDIO_CALL"]};function X(t,e){1&t&&(o.Vb(0),o.Vc(1,P,8,4,"ng-container",1),o.Ub()),2&t&&(o.Db(1),o.rc("isFeaturePermitted",o.xc(1,R)))}const L=["*"];let w=(()=>{class t{constructor(t,e,n){this._patientsService=t,this._leadsService=e,this._dataSharingService=n,this.showIcon=!1,this.context=s.a.DEFAULT,this.enableRecording=!1,this.tooltipContent="This patient does not prefer to be contacted via call",this.onCallInitiated=new o.n,this.type="icon",this.buttonSize="large",this.buttonType="default"}set phoneNumbers(t){t&&!this.numbers&&(t=null==t?void 0:t.filter(t=>{var e;return null===(e=null==t?void 0:t.notificationConfig[a.b.CALL])||void 0===e?void 0:e.enabled}),this.numbers=t)}set leadPhoneNumbers(t){t=null==t?void 0:t.filter(t=>{var e;return null===(e=null==t?void 0:t.notificationConfig[a.b.CALL])||void 0===e?void 0:e.enabled}),this.numbers=t}ngOnInit(){this._tenantConfigObserver=this._dataSharingService.tenantSettings}initiateAudioCall(t){let e=s.a.DEFAULT;null!=this.appointmentId&&(e=s.a.APPOINTMENT),"LEAD"==this.context?this.initLeadCall(this.leadId,t):this._patientsService.getSpecificUser(this.userId).subscribe(n=>{this._dataSharingService.setVoiceCallInitiated({patient:n,toNumber:t,enableRecording:this.enableRecording,context:e,appointmentId:this.appointmentId,tenantId:n.tenantId})})}initLeadCall(t,e){this._leadsService.getSpecificLeadForUser(t).subscribe(n=>{this._dataSharingService.setVoiceCallInitiated({patient:{id:t,mobile:e,countryCode:n.personInfo.countryCode,firstName:n.personInfo.firstName,lastName:n.personInfo.lastName,phoneNumbers:n.personInfo.phoneNumbers,toNumber:e},enableRecording:this.enableRecording,context:s.a.LEAD,toNumber:e,tenantId:n.tenantId}),this.onCallInitiated.emit({toNumber:e})})}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(c.a),o.Rb(l.a),o.Rb(d.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-audio-call-widget"]],inputs:{userId:"userId",leadId:"leadId",tenantId:"tenantId",type:"type",buttonSize:"buttonSize",buttonType:"buttonType",showIcon:"showIcon",disabled:"disabled",renderVital:"renderVital",appointmentId:"appointmentId",context:"context",enableRecording:"enableRecording",phoneNumbers:"phoneNumbers",leadPhoneNumbers:"leadPhoneNumbers"},outputs:{onCallInitiated:"onCallInitiated"},ngContentSelectors:L,decls:2,vars:3,consts:[[4,"ngIf"],[4,"isFeaturePermitted"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable",""],[4,"ngFor","ngForOf"],["nz-dropdown","",3,"nzDropdownMenu","nzDisabled",4,"ngIf"],["nz-dropdown","",3,"nzDropdownMenu",4,"ngIf"],["name","disabledAudio","size","20px","nz-tooltip","","nzTooltipPlacement","rightBottom",3,"originalStyle","nzTooltipTitle",4,"ngIf"],["nz-dropdown","",3,"nzDropdownMenu","nzDisabled"],["name","audioCall","size","20px",3,"color"],["nz-dropdown","",3,"nzDropdownMenu"],["name","audioCall","size","20px"],["name","disabledAudio","size","20px","nz-tooltip","","nzTooltipPlacement","rightBottom",3,"originalStyle","nzTooltipTitle"],["nz-dropdown","","nz-button","",3,"nzDropdownMenu","nzSize","disabled","nzType"],["nz-row","","nzJustify","center","nzAlign","center"],["nz-col","",4,"ngIf"],["nz-col",""],["name","audioCall","size","16px",1,"button-icon",3,"color"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-item","",3,"click"],["nz-typography","","nzType","secondary"],["nz-typography","","nzType","success"]],template:function(t,e){if(1&t&&(o.qc(),o.Vc(0,X,2,2,"ng-container",0),o.jc(1,"async")),2&t){let t=null;o.rc("ngIf",null==(t=o.kc(1,1,e._tenantConfigObserver))||null==t.audioCallConfig?null:t.audioCallConfig.enabled)}},directives:[u.q,p.a,h.e,b.c,u.p,h.a,h.b,g.a,m.d,f.a,v.a,S.a,h.d,T.c,T.a,b.e,C.a],pipes:[u.b,u.A],styles:["app-icons[_ngcontent-%COMP%]{margin:0 10px}label[_ngcontent-%COMP%]{font-size:11px}span[_ngcontent-%COMP%]{font-size:12px}"]}),Object(i.b)([Object(r.a)(),Object(i.c)("design:type",Boolean)],t.prototype,"showIcon",void 0),t})()},UpsY:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("BoNt"),a=n("bp6e"),o=n("UXun"),s=n("fXoL");let r=(()=>{class t{constructor(t,e){this._sitesService=t,this._storeService=e,this.userLocationMap=new Map,this.initializeLocationsMap()}transform(t){const e=this.userLocationMap.get(t);return(null==e?void 0:e.name)||"N/A"}initializeLocationsMap(){var t;this.createLocationsMap(this._storeService.getSites()),(null===(t=this.userLocationMap)||void 0===t?void 0:t.size)||(this.sites$=this._sitesService.getAllSites(0,999,null,!1).pipe(Object(o.a)()),this.sites$.subscribe(t=>{this.createLocationsMap(null==t?void 0:t.result),this._storeService.setSites(null==t?void 0:t.result)}))}createLocationsMap(t){t&&(null==t||t.forEach(t=>this.userLocationMap.set(null==t?void 0:t.id,t)))}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(i.a),s.Rb(a.a))},t.\u0275pipe=s.Qb({name:"userLocation",type:t,pure:!1}),t})()},"V1/G":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});class i{constructor(){this.title="",this.template="",this.tags=new Array}}let a=(()=>{class t{}return t.TAGS=new Map([["REMAINDER","Reminder"],["CONSENT_FORM","Patient Consent"],["ENROLMENT","Lead Enrolment"],["VITAL_REMIANDER","Reminder to record Vital Signs"],["FORM_REMAINDER","Reminder to submit assessment / form"]]),t})()},V5Ok:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),a=n("bNXi");let o=(()=>{class t{constructor(t){this._notificationsService=t}validate(t,e,n,i,a,o){const s=[];return t||s.push("Please select a clinician before proceeding!"),e||s.push("Please select a start date before proceeding!"),n||s.push("Please choose a communication mode before proceeding!"),i||s.push("Please select an activity before proceeding!"),o||s.push("Please add a note before proceeding!"),e&&e.getTime()+60*a*1e3>=Date.now()+36e5&&s.push("Log cannot be entered for a future time!"),s}showErrors(t){t.forEach(t=>this._notificationsService.error("Patient Communication",t))}}return t.\u0275fac=function(e){return new(e||t)(i.bc(a.b))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t})()},VGjC:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("tk/3"),a=n("q3Kh"),o=n("AytR"),s=n("fXoL");let r=(()=>{class t{constructor(t){this._http=t,this.rootUrl=o.g.url}getUserForm(t){const e=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/users/"+t+"/"+e+"/form")}getCurrentUserId(){return localStorage.getItem("loggedInUser")}createConfigSetting(t){return this._http.post(this.rootUrl+"/v2/tenants/settings",JSON.stringify(t))}getGuardian(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/guardians?limit=50")}getUsers(){return this._http.get(this.rootUrl+"/v2/users/?limit=10000")}getUsersType(t){return this._http.get(this.rootUrl+"/v2/users?staffFilter=false&limit=100000&type="+t)}getUsersTypeLimit(t,e,n,i=null){let a=this.rootUrl+"/v2/users?type="+t+"&limit="+e+"&offset="+n;return null!=i&&(a=a+"&groupId="+i),this._http.get(a,{observe:"response"})}getUser(t){return this._http.get(this.rootUrl+"/v2/users/"+t)}Create(t){return delete t.id,delete t.symtom,t.createdOn=(new Date).getTime(),delete t.caretakerSettings,t.tenantId=localStorage.getItem("loggedInTenant"),this._http.post(this.rootUrl+"/v2/users/",JSON.stringify(t))}CreateGuardian(t,e){return delete e.id,delete e.caretakerSettings,this._http.post(this.rootUrl+"/v2/users/"+t+"/guardians",JSON.stringify(e))}assignCareTaker(t){return delete t.id,this._http.post(this.rootUrl+"/v2/users/"+t.userId+"/caretakers/",JSON.stringify(t))}assignCareTakerForAdmin(t){return delete t.id,this._http.post(this.rootUrl+"/v2/users/"+t.userId+"/carewards/",JSON.stringify(t))}createContact(t,e){return delete t.id,this._http.post(this.rootUrl+"/v2/users/"+e+"/contacts/",JSON.stringify(t))}updateContact(t,e){return this._http.put(this.rootUrl+"/v2/users/"+e+"/contacts/",JSON.stringify(t))}changePassword(t){return this._http.put(this.rootUrl+"/v2/users/changePassword/",JSON.stringify(t),{observe:"response"}).pipe(Object(a.map)(t=>t))}getUniqueEmail(t){return this._http.get(this.rootUrl+"/v2/users/unique/"+t).pipe(Object(a.map)(t=>(null==t?void 0:t.length)?t:"VALID"))}resetPassword(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/recovery/")}getGeoAddress(t,e){const n=new i.g({bypass:"yes"});return this._http.get("http://maps.googleapis.com/maps/api/geocode/json?latlng="+t+","+e+"&sensor=true",{headers:n})}disableUser(t,e){return this._http.patch(this.rootUrl+"/v2/users/"+t,e)}generateReport(t,e,n){return this._http.get(this.rootUrl+"/v2/reports/getreport/?start="+t+"&end="+e+"&caretakerId="+n)}processFile(t,e){return this._http.get(this.rootUrl+"/v2/excel/upload/templates/?filename="+t+"&fileType="+e)}getReport(t){window.open(this.rootUrl+"/v2/reports/dwnreports/"+t.fileName+"/")}getStauts(t){window.open(this.rootUrl+"/v2/excel/getStatus/"+t+"/")}getTemplate(t){window.open("https://cooeystore.blob.core.windows.net/summaries/"+t)}deleteContact(t,e){return this._http.delete(this.rootUrl+"/v2/users/"+e+"/contacts/"+t+"/")}deleteCareTaker(t){return this._http.delete(this.rootUrl+"/v2/users/"+t+"/removeCareTaker/",{observe:"response",responseType:"text"})}getContact(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/contacts/")}getContactType(t,e){return this._http.get(this.rootUrl+"/v2/users/"+t+"/contacts?type="+e)}unassignCareTaker(t,e){return this._http.delete(this.rootUrl+"/v2/users/"+t+"/caretakers/"+e)}unassignCareWards(t,e){return this._http.delete(this.rootUrl+"/v2/users/"+t+"/carewards/"+e)}getPatientForCartaker(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/wards/")}getCaretakerForAdmin(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/carewards/")}getCaretakerForPatient(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/caretakers")}getImage(){return this._http.get(this.rootUrl+"/v2/users/5874fded6c5dbb10e6bc6e11/profilePic")}Update(t){return delete t.guardianOf,delete t.caretakerSettings,delete t.requestId,delete t.partnerId,t.updatedOn=(new Date).getTime(),t.allergires&&t.allergires.forEach(t=>{delete t.symtom}),this._http.put(this.rootUrl+"/v2/users/",JSON.stringify(t))}UpdateAlert(t){return this._http.put(this.rootUrl+"/v2/alerts/",JSON.stringify(t))}searchUsers(t){let e=this.rootUrl+"/v2/users/search";return t&&(e=e+"?query="+t),this._http.get(e)}searchUsersByType(t,e,n,i,a=null,o){let s=this.rootUrl+"/v2/users/search?type="+e+"&limit="+n+"&offset="+i;return null!=a&&(s=s+"&groupId="+a),t&&(s=s+"&query="+t),o&&(s=s+"&statuses="+o.join()),"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(s=s+"&caretakerId="+localStorage.getItem("loggedInUser")),this._http.get(s,{observe:"response"})}getUsersByType(t){return this._http.get(this.rootUrl+"/v2/users/search?type="+t)}getVitals(){return this._http.get(this.rootUrl+"/v2/vitals?value=20")}getRoleById(t){return this._http.get(this.rootUrl+"/v2/tenants/roles/"+t)}getRole(){return this._http.get(this.rootUrl+"/v2/tenants/roles")}createPermission(t,e){return this._http.post(this.rootUrl+"/v2/users/"+e+"/permissions",t,{observe:"response"}).pipe(Object(a.map)(t=>204==t.status?"VALID":t))}updatePermission(t,e){return this._http.put(this.rootUrl+"/v2/users/"+e+"/permissions",t,{observe:"response"}).pipe(Object(a.map)(t=>204==t.status?"VALID":t))}createRole(t){return this._http.post(this.rootUrl+"/v2/tenants/roles",t,{observe:"response"}).pipe(Object(a.map)(t=>204==t.status?"VALID":t))}updateRole(t){return this._http.put(this.rootUrl+"/v2/tenants/roles",t,{observe:"response"}).pipe(Object(a.map)(t=>204==t.status?"VALID":t))}checkRPMReportStatus(t){return this._http.get(this.rootUrl+"/v2/reports/status/"+t)}generatePatientSummary(t,e,n){return this._http.post(this.rootUrl+"/v2/reports/summary/patients/"+t+"?startTime="+e+"&endTime="+n,{})}checkPatientSummaryStatus(t){return this._http.get(this.rootUrl+"/v2/reports/status/"+t)}searchCaretakers(t){let e=this.rootUrl+"/v2/users/search?type=CARE_TAKER";return t&&(e=e+"&query="+t),this._http.get(e)}archiveGuardian(t){return this._http.delete(this.rootUrl+"/v2/users/guardians/"+t)}validateActiveEpisodeByBlueprintId(t,e){return this._http.get(`${this.rootUrl}/v2/episodes/blueprint/`+e+"/patient/"+t,{observe:"response"})}updateCallSettings(t,e){return this._http.patch(`${this.rootUrl}/v2/users/${t}/call-settings`,e)}getCallSettings(t){return this._http.get(`${this.rootUrl}/v2/users/${t}/call-settings`)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(i.c))},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},W0aR:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("SxV6"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t){this._http=t,this.rootUrl=i.g.url}createConfigSetting(t){return this._http.post(this.rootUrl+"/v2/tenants/settings/",JSON.stringify(t)).pipe(Object(a.a)())}updateConfigSetting(t){return t.tenantId=localStorage.getItem("loggedInTenant"),this._http.put(this.rootUrl+"/v2/tenants/settings/",JSON.stringify(t)).pipe(Object(a.a)())}getConfigSetting(){return this._http.get(this.rootUrl+"/v2/tenants/settings/").pipe(Object(a.a)())}getAllAssignedTenantConfigSettings(){return this._http.get(this.rootUrl+"/v2/tenants/available/sub-tenants/configs/").pipe(Object(a.a)())}getConfigByTenantId(t){return this._http.get(this.rootUrl+"/v2/tenants/"+t+"/tenantConfig")}fetchAllSubTenants(){const t=localStorage.getItem("loggedInTenant");return this._http.get(`${this.rootUrl}/v3/tenants/${t}`).pipe(Object(a.a)())}getDefaultEpisodeBlueprint(){return this._http.get(this.rootUrl+"/v3/episode-blueprints").pipe(Object(a.a)())}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},W4mZ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("2Vo4"),a=n("fXoL");let o=(()=>{class t{constructor(){this.showConsentScript$=new i.a(!1)}getShowConsentScriptObservable(){return this.showConsentScript$.asObservable()}setShowConsentScriptObservable(t){this.showConsentScript$.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},WoUL:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("Q1FS"),a=n("fXoL"),o=n("tk/3");let s=(()=>{class t{constructor(t){this.http=t,this.wordMap=new Map,this.initialized=!1,this.currentLang="en-US",this.languageMap=new Map,this.languageMap.set("en-US","en-US"),this.languageMap.set("en","en-US"),this.languageMap.set("es-ES","es-ES"),this.languageMap.set("es","es-ES"),this.languageMap.set("ja","ja"),this.languageMap.set("ko","ko")}initialize(){return new Promise((t,e)=>{const n=this.getLanguage(),i=sessionStorage.getItem(n);if(null!=i||this.initialized){this.initialized=!0;const e=JSON.parse(i);e&&this.initalizeWordMap(e),t()}else this.http.get("./assets/i18n/"+n+".json").toPromise().then(e=>{sessionStorage.setItem(n,JSON.stringify(e)),localStorage.setItem("language",n),this.initalizeWordMap(e),t()},t=>{e()}),this.initialized=!0})}initalizeWordMap(t){Object.keys(t).forEach(e=>{this.wordMap.set(e,t[e])})}getLanguage(){return this.languageMap.get(window.navigator.language)?this.languageMap.get(window.navigator.language):"en-US"}get(t,e){return i.Observable.create(e=>{const n=this.wordMap.get(t);e.next(n),e.complete()})}getMultiple(...t){const e=new Map;return i.Observable.create(n=>{t.forEach(t=>{e.set(t,this.wordMap.get(t))}),n.next(e),n.complete()})}setLanguage(){const t=this.getLanguage(),e=sessionStorage.getItem(t);if(null==e)this.http.get("./assets/i18n/"+t+".json").toPromise().then(e=>{sessionStorage.setItem(t,JSON.stringify(e)),this.initalizeWordMap(e)});else{const t=JSON.parse(e);this.initalizeWordMap(t)}localStorage.setItem("language",t)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},WvvJ:function(t,e,n){"use strict";n.d(e,"a",function(){return Ot}),n("MXg9");var i=n("1G5W"),a=n("qQcL"),o=n("9ig3"),s=n("gXqy"),r=n("AytR"),c=n("fXoL"),l=n("tk/3");let d=(()=>{class t{constructor(t){this._http=t,this.rootUrl=r.g.url}getVitalAlertsForUser(t){return this._http.get(this.rootUrl+"/v2/vitals/patients/"+t+"/alerts")}}return t.\u0275fac=function(e){return new(e||t)(c.bc(l.c))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=n("l6l4"),p=n("wsR7"),h=n("geco"),b=n("ofXK"),g=n("sG7K"),m=n("igu/"),f=n("WoUL"),v=n("a6m8"),S=n("gSz3"),T=n("Q+ul"),C=n("cp0P"),E=n("DEH1"),I=n("Gskk"),M=n("c/Vb"),y=n("OTIt"),A=n("t6gT"),_=n("bNXi"),D=n("dEAy"),z=n("tyNb"),O=n("B+r4"),N=n("OzZK"),P=n("RwU8"),R=n("C2AL"),X=n("glKu"),L=n("5vDB"),w=n("0lU3"),W=n("3Pt+"),k=n("ZKr6"),V=n("eHCX"),x=n("zAKX"),U=n("TaO5"),F=n("PTRe"),H=n("w0ih"),B=n("k90p"),j=n("icpI"),G=n("rMZv");function Y(t,e){if(1&t&&(c.Xb(0,"tr",8),c.Xb(1,"td",9),c.Xc(2),c.Wb(),c.Xb(3,"td",9),c.Xc(4),c.Wb(),c.Xb(5,"td",9),c.Xc(6),c.Wb(),c.Wb()),2&t){const t=e.$implicit;c.Db(1),c.rc("nzAlign","center"),c.Db(1),c.Zc(" ",null==t?null:t.label," "),c.Db(1),c.rc("nzAlign","center"),c.Db(1),c.Zc(" ",null==t||null==t.limit?null:t.limit.minimum," "),c.Db(1),c.rc("nzAlign","center"),c.Db(1),c.Zc(" ",null==t||null==t.limit?null:t.limit.maximum," ")}}function $(t,e){if(1&t&&(c.Vb(0),c.Vc(1,Y,7,6,"tr",7),c.Ub()),2&t){const t=e.$implicit;c.Db(1),c.rc("ngForOf",null==t?null:t.options)}}const q=function(){return["33.3%","33.3%","33.3%"]};function Z(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"nz-table",3,4),c.Xb(5,"thead"),c.Xb(6,"tr"),c.Xb(7,"th",5),c.Xc(8,"Context"),c.Wb(),c.Xb(9,"th",5),c.Xc(10,"Minimum"),c.Wb(),c.Xb(11,"th",5),c.Xc(12,"Maximum"),c.Wb(),c.Wb(),c.Wb(),c.Xb(13,"tbody"),c.Vc(14,$,2,1,"ng-container",6),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(15,"br"),c.Sb(16,"br"),c.Ub()),2&t){const t=c.Ic(4),e=c.ic();c.Db(3),c.tc("nzTitle","Context limits set for ",e.patientName||"Patient",""),c.rc("nzData",null==e.vitalBlueprint?null:e.vitalBlueprint.contexts)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small")("nzNoResult",null)("nzWidthConfig",c.xc(11,q)),c.Db(4),c.rc("nzAlign","center"),c.Db(2),c.rc("nzAlign","center"),c.Db(2),c.rc("nzAlign","center"),c.Db(3),c.rc("ngForOf",null==t?null:t.data)}}let Q=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["app-context-limits"]],inputs:{patientName:"patientName",vitalBlueprint:"vitalBlueprint"},decls:1,vars:1,consts:[[4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","24","nzOffset","6"],[3,"nzData","nzFrontPagination","nzShowPagination","nzSize","nzNoResult","nzWidthConfig","nzTitle"],["contextLimitTable",""],[1,"thead",3,"nzAlign"],[4,"ngFor","ngForOf"],["class","header",4,"ngFor","ngForOf"],[1,"header"],[3,"nzAlign"]],template:function(t,e){1&t&&c.Vc(0,Z,17,12,"ng-container",0),2&t&&c.rc("ngIf",(null==e.vitalBlueprint?null:e.vitalBlueprint.contexts)&&(null==e.vitalBlueprint||null==e.vitalBlueprint.contexts?null:e.vitalBlueprint.contexts.length))},directives:[b.q,O.c,O.a,G.f,G.n,G.o,G.e,G.l,G.a,G.i,b.p],styles:["nz-table[_ngcontent-%COMP%]{height:300px}[_nghost-%COMP%]     .ant-col-offset-6{margin-left:0}[_nghost-%COMP%]     .ant-table-thead>tr>th{height:50px!important;background-color:var(--primary-color)!important;font-weight:900!important;color:#0b2240;text-align:center!important;font-size:16px}.header[_ngcontent-%COMP%]{color:#0b2240;font-weight:600}[_nghost-%COMP%]     .ant-table-title{border-left:4px solid var(--primary-color);margin-left:18px;border-radius:initial;color:#0b2240;font-weight:700;font-size:17px}[_nghost-%COMP%]     .ant-table.ant-table-small .ant-table-title{padding:0 0 0 13px;font-size:21px}[_nghost-%COMP%]     .ant-table-title+.ant-table-container{padding:20px}"]}),t})();var K=n("jWZy"),J=n("2hFh");function tt(t,e){if(1&t&&(c.Xb(0,"div"),c.Xb(1,"h6",4),c.Xc(2),c.jc(3,"date"),c.Wb(),c.Xb(4,"p",5),c.Xc(5),c.Wb(),c.Sb(6,"br"),c.Wb()),2&t){const t=e.$implicit,n=c.ic(2);c.Db(2),c.ad("",c.lc(3,3,null==t?null:t.createdOn,"MMM-dd-yyyy HH:mm")," ",n.standardTimeZone,""),c.Db(3),c.Yc(null==t?null:t.content)}}function et(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",1),c.Xb(2,"h3",2),c.Xc(3,"Notes"),c.Wb(),c.Wb(),c.Sb(4,"br"),c.Vc(5,tt,7,6,"div",3),c.Ub()),2&t){const t=c.ic();c.Db(5),c.rc("ngForOf",t.notesHistory)}}function nt(t,e){if(1&t&&(c.Xb(0,"div"),c.Xb(1,"h6",4),c.Xc(2),c.jc(3,"date"),c.Wb(),c.Xb(4,"p",5),c.Xc(5),c.Wb(),c.Sb(6,"br"),c.Wb()),2&t){const t=e.$implicit,n=c.ic(2);c.Db(2),c.ad("",c.lc(3,3,null==t?null:t.date,"MMM-dd-yyyy HH:mm")," ",n.standardTimeZone,""),c.Db(3),c.Yc((null==t?null:t.notes)||"")}}function it(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",1),c.Xb(2,"h3",2),c.Xc(3,"TMS Logs"),c.Wb(),c.Wb(),c.Sb(4,"br"),c.Vc(5,nt,7,6,"div",3),c.Ub()),2&t){const t=c.ic();c.Db(5),c.rc("ngForOf",t.tmsDetails)}}let at=(()=>{class t{constructor(t,e,n,i){this._patientsService=t,this._episodesService=e,this._datePipe=n,this._timezoneService=i,this.tmsDetails=[],this.standardTimeZone=this._timezoneService.getTimeZone()}ngAfterViewInit(){this.episodeId&&"RPM"===this.episodeType?this.getTMSDetails():this.getNotes()}getNotes(){this._patientsService.fetchNotesForPatient(this.patientId,this.vitalType).subscribe(t=>{this.notesHistory=t})}getTMSDetails(){const t=this._datePipe.transform(this.startDate,"yyyy/MM/dd"),e=this._datePipe.transform(this.endDate,"yyyy/MM/dd");this._episodesService.getPatientCommunications(this.patientId,t,e).subscribe(t=>{t&&(this.tmsDetails=[...t])})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(h.a),c.Rb(I.a),c.Rb(b.e),c.Rb(J.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-vital-notes"]],inputs:{patientId:"patientId",episodeId:"episodeId",vitalType:"vitalType",episodeType:"episodeType",startDate:"startDate",endDate:"endDate"},decls:2,vars:2,consts:[[4,"ngIf"],["id","heading-wrapper"],["id","heading"],[4,"ngFor","ngForOf"],["nz-typography","",1,"sub-heading"],[1,"content"]],template:function(t,e){1&t&&(c.Vc(0,et,6,1,"ng-container",0),c.Vc(1,it,6,1,"ng-container",0)),2&t&&(c.rc("ngIf",e.notesHistory&&e.notesHistory.length&&"RPM"!==e.episodeType),c.Db(1),c.rc("ngIf","RPM"===e.episodeType&&e.tmsDetails&&e.tmsDetails.length))},directives:[b.q,b.p,V.a],pipes:[b.e],styles:["#heading-wrapper[_ngcontent-%COMP%]{border-left:2px solid var(--primary-color);padding-left:2.5%}#heading[_ngcontent-%COMP%]{font-size:16px}.sub-heading[_ngcontent-%COMP%]{font-size:12px;color:#949494}.content[_ngcontent-%COMP%]{font-size:12px;color:var(--light-black)}"]}),t})();var ot=n("dRHE");function st(t,e){if(1&t&&(c.Xb(0,"span",18),c.Xc(1),c.Wb()),2&t){const t=c.ic();c.Db(1),c.Yc(t.patientName)}}function rt(t,e){if(1&t&&(c.Xb(0,"span",19),c.Xc(1),c.jc(2,"date"),c.Wb()),2&t){const t=c.ic();c.Db(1),c.ad(" | ",t.getAge(t.patientDOB)||""," years (",c.lc(2,2,t.patientDOB,"mediumDate"),")")}}function ct(t,e){if(1&t&&(c.Xb(0,"span",19),c.Xc(1),c.jc(2,"slice"),c.Wb()),2&t){const t=c.ic();c.Db(1),c.Zc(", ",c.mc(2,1,t.patientGender,0,1),"")}}function lt(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xc(1," \xa0 "),c.Sb(2,"nz-divider",8),c.Xc(3," \xa0 "),c.Xb(4,"app-icons",21),c.ec("click",function(){return c.Lc(t),c.ic(2).initiateAudioCall()}),c.Wb(),c.Ub()}2&t&&(c.Db(4),c.rc("altColorScheme",!0))}const dt=function(){return["AUDIO_CALL"]};function ut(t,e){1&t&&(c.Vb(0),c.Vc(1,lt,5,1,"ng-container",20),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,dt)))}function pt(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"nz-option",27),c.Ub()),2&t){const t=e.$implicit;c.Db(1),c.rc("nzValue",null==t?null:t.type)("nzLabel",null==t?null:t.label)}}function ht(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"nz-option",27),c.Ub()),2&t){const t=e.$implicit;c.Db(1),c.rc("nzValue",t.label)("nzLabel",null==t?null:t.label)}}function bt(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"h5",23),c.Xc(2,"Contexts:"),c.Wb(),c.Xb(3,"nz-select",28),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic(2).selectedContext=e})("ngModelChange",function(e){return c.Lc(t),c.ic(2).populateGraphWithContextData(null,e)}),c.Vc(4,ht,2,2,"ng-container",25),c.Sb(5,"nz-option",29),c.Wb(),c.Ub()}if(2&t){const t=c.ic(2);c.Db(3),c.rc("ngModel",t.selectedContext),c.Db(1),c.rc("ngForOf",null==t.vitalBlueprint||null==t.vitalBlueprint.contexts[0]?null:t.vitalBlueprint.contexts[0].options)}}function gt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",30),c.Xb(1,"label",31),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic(2).includeVitals=e}),c.Xc(2,"Include Vital Listings"),c.Wb(),c.Xc(3," \xa0 "),c.Xb(4,"label",31),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic(2).includeTMS=e}),c.Xc(5,"Include TMS Notes"),c.Wb(),c.Wb()}if(2&t){const t=c.ic(2);c.Db(1),c.rc("ngModel",t.includeVitals),c.Db(3),c.rc("ngModel",t.includeTMS)}}function mt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",0),c.Xb(1,"div",22),c.Xb(2,"h5",23),c.Xc(3,"Vital Signs:"),c.Wb(),c.Xb(4,"nz-select",24),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().vitalType=e})("ngModelChange",function(){return c.Lc(t),c.ic().refresh()}),c.Vc(5,pt,2,2,"ng-container",25),c.Wb(),c.Wb(),c.Xb(6,"div",22),c.Vc(7,bt,6,2,"ng-container",4),c.Wb(),c.Vc(8,gt,6,2,"div",26),c.Wb()}if(2&t){const t=c.ic();c.Db(4),c.rc("ngModel",t.vitalType),c.Db(1),c.rc("ngForOf",t.vitalBlueprints),c.Db(2),c.rc("ngIf",null==t.vitalBlueprint||null==t.vitalBlueprint.contexts?null:t.vitalBlueprint.contexts.length),c.Db(1),c.rc("ngIf",t.isEmailVisible)}}const ft=function(){return[16,16]};function vt(t,e){1&t&&(c.Xb(0,"div",32),c.Xb(1,"div",33),c.Xb(2,"label",51),c.Xc(3,"Required"),c.Wb(),c.Wb(),c.Wb()),2&t&&c.rc("nzGutter",c.xc(1,ft))}const St=function(t){return{abnormal:t}};function Tt(t,e){if(1&t&&(c.Xb(0,"span",52),c.Xc(1),c.Wb()),2&t){const t=e.$implicit,n=c.ic(2);c.rc("ngClass",c.yc(2,St,n.validateEmail(t.nzLabel))),c.Db(1),c.Zc(" ",t.nzLabel," ")}}function Ct(t,e){1&t&&(c.Xb(0,"div",32),c.Xb(1,"div",33),c.Xb(2,"label",51),c.Xc(3,"Required"),c.Wb(),c.Wb(),c.Wb()),2&t&&c.rc("nzGutter",c.xc(1,ft))}function Et(t,e){1&t&&(c.Xb(0,"div",32),c.Xb(1,"div",33),c.Xb(2,"label",51),c.Xc(3,"A valid email address looks like example@email.com"),c.Wb(),c.Wb(),c.Wb()),2&t&&c.rc("nzGutter",c.xc(1,ft))}function It(t,e){1&t&&(c.Xb(0,"div",32),c.Xb(1,"div",33),c.Xb(2,"label",51),c.Xc(3,"Required"),c.Wb(),c.Wb(),c.Wb()),2&t&&c.rc("nzGutter",c.xc(1,ft))}const Mt=function(t){return{error:t}};function yt(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Sb(1,"br"),c.Xb(2,"div",32),c.Xb(3,"div",33),c.Xb(4,"nz-select",34),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().subjectType=e})("ngModelChange",function(e){return c.Lc(t),c.ic().subject=e}),c.Sb(5,"nz-option",35),c.Sb(6,"nz-option",36),c.Sb(7,"nz-option",37),c.Sb(8,"nz-option",38),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"div",39),c.Xb(10,"div",33),c.Xb(11,"input",40,41),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().subject=e}),c.Wb(),c.Wb(),c.Wb(),c.Vc(13,vt,4,2,"div",42),c.Xb(14,"div",32),c.Xb(15,"div",33),c.Xb(16,"nz-select",43,44),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().emailIds=e})("ngModelChange",function(){return c.Lc(t),c.ic().validate()}),c.Wb(),c.Vc(18,Tt,2,4,"ng-template",null,45,c.Wc),c.Wb(),c.Wb(),c.Vc(20,Ct,4,2,"div",42),c.Vc(21,Et,4,2,"div",42),c.Xb(22,"div",32),c.Xb(23,"div",33),c.Xb(24,"textarea",46,47),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().note=e}),c.jc(26,"translate"),c.Wb(),c.Wb(),c.Xb(27,"div",48),c.Xb(28,"button",49),c.ec("click",function(){return c.Lc(t),c.ic().getReport()}),c.Xc(29,"Preview"),c.Wb(),c.Xc(30," \xa0 "),c.Xb(31,"button",50),c.ec("click",function(){return c.Lc(t),c.ic().sendMail()}),c.Xc(32),c.jc(33,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Vc(34,It,4,2,"div",42),c.Ub()}if(2&t){const t=c.Ic(12),e=c.Ic(19),n=c.Ic(25),i=c.ic();c.Db(2),c.rc("nzGutter",c.xc(23,ft)),c.Db(2),c.rc("ngModel",i.subjectType)("ngClass",c.yc(24,Mt,(null==t?null:t.invalid)&&!(null==t||!t.errors.required))),c.Db(5),c.rc("nzGutter",c.xc(26,ft))("hidden","CUSTOM"!==i.subjectType),c.Db(2),c.rc("ngModel",i.subject)("ngClass",c.yc(27,Mt,((null==t?null:t.dirty)||(null==t?null:t.touched))&&(null==t?null:t.invalid)&&!(null==t||!t.errors.required))),c.Db(2),c.rc("ngIf",(null==t?null:t.invalid)&&((null==t?null:t.dirty)||(null==t?null:t.touched))&&(null==t?null:t.errors.required)),c.Db(1),c.rc("nzGutter",c.xc(29,ft)),c.Db(2),c.rc("ngModel",i.emailIds)("nzCustomTemplate",e),c.Db(4),c.rc("ngIf",!!i.errors.includes("INVALID_EMAIL")),c.Db(1),c.rc("ngIf",!!i.errors.includes("INVALID_EMAIL_FORMAT")),c.Db(1),c.rc("nzGutter",c.xc(30,ft)),c.Db(2),c.sc("placeholder",c.kc(26,19,"ASSESSMENT.TYPE_MSG")),c.rc("ngModel",i.note)("ngClass",c.yc(31,Mt,((null==n?null:n.dirty)||(null==n?null:n.touched))&&(null==n?null:n.invalid)&&!(null==n||!n.errors.required))),c.Db(8),c.Yc(c.kc(33,21,"COMMON.SEND")),c.Db(2),c.rc("ngIf",(null==n?null:n.invalid)&&((null==n?null:n.dirty)||(null==n?null:n.touched))&&(null==n?null:n.errors.required))}}function At(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"app-last-measured-vital",57),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.rc("vitalBlueprint",t.vitalBlueprint)("vital",t.vitals[0])}}function _t(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",53),c.Xb(2,"div",54),c.Vc(3,At,2,2,"ng-container",4),c.Wb(),c.Xb(4,"div",55),c.Sb(5,"app-global-and-individual-limits",56),c.Wb(),c.Wb(),c.Sb(6,"br"),c.Sb(7,"br"),c.Ub()),2&t){const t=c.ic();c.Db(3),c.rc("ngIf",t.vitals&&t.vitals.length),c.Db(2),c.rc("vitalBlueprint",t.vitalBlueprint)("patientName",t.patientName)("context",t.contextOption)("individualLimits",t.individualLimits)}}function Dt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",55),c.Xb(1,"button",66),c.ec("click",function(){return c.Lc(t),c.ic(2).onTMSClick()}),c.Xc(2," Add TMS "),c.Wb(),c.Wb()}}function zt(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Sb(1,"br"),c.Sb(2,"br"),c.Xb(3,"div",58),c.Xb(4,"div",59),c.Xb(5,"h3"),c.Xc(6),c.jc(7,"date"),c.jc(8,"date"),c.Wb(),c.Wb(),c.Sb(9,"br"),c.Xb(10,"google-chart",60),c.ec("select",function(e){return c.Lc(t),c.ic().onSelect(e)}),c.Wb(),c.Sb(11,"br"),c.Sb(12,"app-context-limits",61),c.Sb(13,"app-vitals-table",62),c.Wb(),c.Sb(14,"br"),c.Sb(15,"br"),c.Sb(16,"app-vital-notes",63),c.Xb(17,"div",64),c.Vc(18,Dt,3,0,"div",65),c.Wb(),c.Ub()}if(2&t){const t=c.ic();c.Db(6),c.ad("",c.lc(7,18,t.dateRange[0],"mediumDate")," - ",c.lc(8,21,t.dateRange[1],"mediumDate"),""),c.Db(4),c.rc("data",t.chartData)("columns",t.columnNames)("options",t.options),c.Db(2),c.rc("patientName",t.patientName)("vitalBlueprint",t.vitalBlueprint),c.Db(1),c.rc("vitalBlueprint",t.vitalBlueprint)("vitals",t.vitals)("careplanId",t.careplanId)("patientId",t.patientId),c.Db(3),c.rc("patientId",t.patientId)("vitalType",t.vitalType)("episodeId",t.episodeId)("episodeType",t.episodeType)("startDate",t.dateRange[0])("endDate",t.dateRange[1]),c.Db(2),c.rc("ngIf",t.episode&&"RPM"===(null==t.episode?null:t.episode.episodeType))}}let Ot=(()=>{class t extends a.a{constructor(t,e,n,i,a,r,c,l,d,u,p,h,b,g){super(),this._patientsService=t,this._vitalBlueprintsService=e,this._vitalsService=n,this._userVitalAlertService=i,this._analyticsService=a,this._notificationsService=r,this._modelRef=c,this.datePipe=l,this._dataSharingService=d,this.translationService=u,this._vitalsEventLogger=p,this._episodesService=h,this._router=b,this._patientComunicationModalService=g,this.chooseVitalType=!0,this.vitals=[],this.vitalsOriginal=[],this.dateLabels=[],this.totalVitalsToFetch="10",this.isChartLoading=!0,this.columnNames=[],this.options={hAxis:{title:"Dates - Measured On",textStyle:{fontSize:12},direction:-1},curveType:"function",pointSize:5,width:(window.innerWidth-.25*window.innerWidth).toString(),height:450,legend:{position:"bottom"},selectionMode:"multiple",animation:{startup:!0,duration:1e3}},this.subjectType="Vital Trend Report",this.subject="Vital Trend Report",this.note="",this.errors=[],this.selectedContext="",this.dateRange=[Object(o.a)(Date.now()),new Date],this.headerSpan=10,this.nzNotificationOptions={nzStyle:{zIndex:1e3}},this.disabledDates=t=>Object(s.a)(new Date,t)<0,this.validateEmail=t=>!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t),this._dataSharingService.tenantSettings.subscribe(t=>{var e;t&&(this.isAudioCallEnabled=null===(e=null==t?void 0:t.audioCallConfig)||void 0===e?void 0:e.enabled,this.showBpConfidenceScore=t.deviceConfig.showBpConfidenceScore)}),this.includeVitals=!0,this.includeTMS=!0}ngOnInit(){this.chooseVitalType||(this.headerSpan=24),this.loadTenantBlueprintAndUserVitalAlerts(),this.initTranslation(),this.getEpisodesData()}ngOnDestroy(){this.closeDialog()}initTranslation(){this.translationService.getMultiple("PATIENT_NOT_RECORDED_ANY_VITALS","TMS","TMS.CANNOT_ADD_TMS_CAREPLAN_NOT_ASSIGNED","TMS.TWENTY_MINS_RECORDED_ADD_ADDITIONAL_TMS","TMS.TMS_TIME_INCOMPLETE").pipe(Object(i.a)(this.unsubscribed)).subscribe(t=>this.translatedStrings=t)}loadTenantBlueprintAndUserVitalAlerts(){const t=this._vitalBlueprintsService.fetchVitalBlueprintsForTenant(),e=this._userVitalAlertService.fetchVitalBlueprintsOfUser(this.patientId);Object(C.a)([t,e]).subscribe(t=>{var e,n;this.vitalBlueprints=t[0],this.userVitalAlerts=t[1],(null===(e=this.vitalBlueprints)||void 0===e?void 0:e.length)&&(this.vitalType||(this.vitalType=this.vitalBlueprints.some(t=>"BLOOD_PRESSURE"===(null==t?void 0:t.type))?E.a.BLOOD_PRESSURE:this.vitalBlueprints[0].type),(null===(n=this.userVitalAlerts)||void 0===n?void 0:n.length)>0&&this.getIndividualLimitForSelectedVital(),this.getVitalsHistory(this.dateRange[0].getTime(),this.dateRange[1].getTime(),-1))})}onSelect(t){const e=this.chartData[t[0].row],n=this.chartData[t[0].column];let i=0;this.chartData.forEach(t=>{0<e&&(i+=t.length)}),i+=n}getVitalsHistory(t,e,n=10){this.isChartLoading=!0,this._vitalsEventLogger.vitalHistoryEvent(this.patientId,this.vitalType,"",t,e),this._patientsService.getVitalHistory(this.patientId,this.vitalType,t,e,n).subscribe(t=>{var e;if(this.vitalBlueprint=t.vitalBlueprint,this.vitals=[...t.vitals],this.vitalsOriginal=JSON.parse(JSON.stringify(this.vitals)),this.vitalBlueprint.contexts&&this.vitalBlueprint.contexts.length){if(this.selectedContext=this.vitalBlueprint.contexts[0].options[0].label,null===(e=this.vitals)||void 0===e?void 0:e.length){const t=JSON.parse(this.vitals[0].context)||"";this.selectedContext=t[Object.keys(t)[0]]}this.populateGraphWithContextData(this.vitalBlueprint.contexts[0].label,this.selectedContext)}else{if(!this.vitals.length)return this._notificationsService.warning("View Vitals",this.translatedStrings.get("PATIENT_NOT_RECORDED_ANY_VITALS").replace("{PATIENT_NAME}",this.patientName),{nzStyle:{zIndex:1e3}}),void(this.isChartLoading=!0);this.populateChart(),this.getPatientVitalAlerts()}})}getIndividualLimitForSelectedVital(t){var e,n;this.individualLimits=new Array,t?(this.contextOption=t,null===(e=this.userVitalAlerts)||void 0===e||e.filter(t=>t.vital===this.vitalType&&t.enabled).map(e=>e.contexts.filter(e=>e.answer===t).map(t=>{let e=new T.a;e.label=t.answer,e.min=t.limit.min,e.max=t.limit.max,this.individualLimits.push(e)}))):this.vitalType&&(this.contextOption=null,null===(n=this.userVitalAlerts)||void 0===n||n.filter(t=>t.vital===this.vitalType&&t.enabled).map(t=>{let e=new T.a;e.label=t.parameter,e.min=t.limit.min,e.max=t.limit.max,this.individualLimits.push(e)}))}getPatientVitalAlerts(){this._vitalsService.getVitalAlertsForUser(this.patientId).subscribe(t=>{t&&t.length&&(this.patientVitalLimits=t.filter(t=>this.vitalType===t.vitalType))})}getParameterValue(t,e){try{let n=t.type;const i=t.label,a=JSON.parse(e.parameters);n=Object.keys(a).find(t=>t.toLowerCase()===n.toLowerCase()||t.toLowerCase()===i.toLowerCase());const o=a[n];return"null"==o||null==o||""==o||"NOTES"==o||"notes"==o?"-":o}catch(n){}return 0}getVitalsForLastDates(t=10){const e=864e5*(t+1),n=(new Date).setHours(23,59,59,999);this.dateRange=[new Date(n-e+1),new Date(n)],this.getVitalsHistory(this.dateRange[0].getTime(),this.dateRange[1].getTime(),-1)}onDateChange(){this.dateRange[0].setHours(0,0,0,0),this.dateRange[1].setHours(23,59,59,999),this.getVitalsHistory(this.dateRange[0].getTime(),this.dateRange[1].getTime(),-1)}getFullDate(t){const e=new Date(t);return this.datePipe.transform(e,"MMM d, h:mm a")}plotDataPointsForChart(){this.columnNames=["Dates"];const t=[],e=[],n=new Map;return this.vitalBlueprint.parameters.forEach(t=>{e.push(t.type.toLowerCase()),n.set(t.type.toLowerCase(),t.label),this.columnNames.push(t.label)}),this.vitals.forEach((i,a)=>{try{const a=JSON.parse(i.parameters),o=[];let s=0;o.push(this.getFullDate(i.takenAt+"Z")),e.forEach(t=>{const e=n.get(t)||"",i=Object.keys(a).find(n=>n.toLowerCase()===t.toLowerCase()||n.toLowerCase()===e.toLowerCase()||t.toLowerCase()==="HEARTRATE".toLowerCase()&&n.toLowerCase()==="HEART_RATE".toLowerCase());s=parseFloat(a[i])||0,o.push(s)}),t.push(o)}catch(o){}}),t}populateChart(){this.chartData=this.plotDataPointsForChart(),this.isChartLoading=!1}populateGraphWithContextData(t,e){if(t||(t=this.vitalBlueprint.contexts[0].label),this.vitals=[],this.getIndividualLimitForSelectedVital(e),this.vitalsOriginal.forEach(n=>{if(e||n.context){if(n.context)try{const i=JSON.parse(n.context);e===i[t]&&this.vitals.push(n)}catch(i){}}else this.vitals.push(n)}),!this.vitals.length)return this._notificationsService.error("Vital Contexts",`No vitals are available:\xa0${e}`),void(this.isChartLoading=!0);this.populateChart()}refresh(){this.isChartLoading=!0,this.getIndividualLimitForSelectedVital(),this.getVitalsHistory(this.dateRange[0].getTime(),this.dateRange[1].getTime(),-1)}closeDialog(){this._modelRef.close(this.tmsAdded)}showEmailInput(){this.includeVitals=!this.includeVitals,this.includeTMS=!this.includeTMS,this._dataSharingService.tenantSettings.pipe(Object(i.a)(this.unsubscribed)).subscribe(t=>{var e;t&&((null===(e=null==t?void 0:t.tenantSupport)||void 0===e?void 0:e.internalEmail)&&(this.emailIds||(this.emailIds=[]),this.emailIds.push(t.tenantSupport.internalEmail)),this.isEmailVisible=!this.isEmailVisible)}),this.initialiseNoteString()}initialiseNoteString(){const t=localStorage.getItem("loggedInUserName");this.note=`Hi,\n\nPlease find attached the vital report for patient: ${this.patientName}\n\nThe report has been shared with you by ${t}`}createGenerateVitalHistoryReportRequest(t,e,n,i,a,o,s){return{patientId:t,vitalType:e,startDate:this.datePipe.transform(n,"yyyy-MM-dd"),endDate:this.datePipe.transform(i,"yyyy-MM-dd"),emailIds:a,subject:o,note:s}}validate(){var t,e,n,i,a;this.errors=[];const o=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return(null===(t=this.emailIds)||void 0===t?void 0:t.length)||this.errors.push("INVALID_EMAIL"),null===(e=this.emailIds)||void 0===e||e.forEach(t=>{var e;o.test(t)||-1!==(null===(e=this.errors)||void 0===e?void 0:e.findIndex(t=>"INVALID_EMAIL_FORMAT"===t))||this.errors.push("INVALID_EMAIL_FORMAT")}),(null===(n=this.subject)||void 0===n?void 0:n.length)||this.errors.push("INVALID_SUBJECT"),(null===(i=this.note)||void 0===i?void 0:i.length)||this.errors.push("INVALID_NOTE"),!(null===(a=this.errors)||void 0===a?void 0:a.length)}sendMail(){var t;this.validate()&&("BLOOD_PRESSURE"!==this.vitalType&&"BLOOD_GLUCOSE"!==this.vitalType?(this._vitalsEventLogger.shareReportEvent(this.patientId,null===(t=this.emailIds)||void 0===t?void 0:t.join(),"vitals","vital_history_report"),this._analyticsService.generateVitalHistoryReport(this.createGenerateVitalHistoryReportRequest(this.patientId,this.vitalType,this.dateRange[0].toISOString(),this.dateRange[1].toISOString(),this.emailIds,this.subject,this.note)).subscribe(()=>{this.isEmailVisible=!1,this.emailIds=[],this._notificationsService.success("Vital Report","Report shared via e-mail successfully")})):this.getReport("share"))}getDateForReport(t){return this.datePipe.transform(t,"yyyy-MM-dd")}getReport(t="preview"){var e,n;if("BLOOD_PRESSURE"===this.vitalType){const n=this._router.serializeUrl(this._router.createUrlTree(["/analytics/reports/vital-snapshots/printable/blood-pressure/"+this.patientId],{queryParams:{startDate:this.getDateForReport(this.dateRange[0]),endDate:this.getDateForReport(this.dateRange[1]),action:t,email:null===(e=this.emailIds)||void 0===e?void 0:e.join(","),subject:this.subject,note:this.note,includeVitals:this.includeVitals,includeTMS:this.includeTMS}}));window.open(n,"_blank")}else if("BLOOD_GLUCOSE"===this.vitalType){const e=this._router.serializeUrl(this._router.createUrlTree(["/analytics/reports/vital-snapshots/printable/blood-glucose",this.patientId],{queryParams:{startDate:this.getDateForReport(this.dateRange[0]),endDate:this.getDateForReport(this.dateRange[1]),action:t,email:null===(n=this.emailIds)||void 0===n?void 0:n.join(","),subject:this.subject,note:this.note,includeVitals:this.includeVitals,includeTMS:this.includeTMS}}));window.open(e,"_blank")}else this._vitalsEventLogger.downloadStartReportEvent(this.patientId,"","vitals","vitals_history_report"),this._analyticsService.generateVitalHistoryReport(this.createGenerateVitalHistoryReportRequest(this.patientId,this.vitalType,this.dateRange[0].toISOString(),this.dateRange[1].toISOString())).subscribe(t=>{this._analyticsService.fetchBlobForReport(r.g.url+"/v2/media/"+t.filename).subscribe(t=>{const e=new Blob([t],{type:"application/pdf"}),n=URL.createObjectURL(e);this._vitalsEventLogger.downloadSuccessReportEvent(this.patientId,n,"vitals","vitals_history_report"),window.open(n)})},t=>{this._vitalsEventLogger.downloadFailReportEvent(this.patientId,"",t.error.message,"vitals","vitals_history_report")});"preview"!==t&&(this.emailIds=[])}getAge(t){const e=Date.now()-new Date(t).getTime(),n=new Date(e);return Math.abs(n.getUTCFullYear()-1970)}getEpisodesData(){this._episodesService.getActiveEpisode(this.patientId,"RPM").subscribe(t=>{var e;(null==t?void 0:t.length)&&(this.episode=t[0],this.episodeId=null===(e=this.episode)||void 0===e?void 0:e.id)})}onTMSClick(){let t,e;this.tmsPercent<100?(t="TMS",e=M.a.TREATMENT_MANAGEMENT_SERVICE):this.additionalTMSPercent<100?(t="ADDITIONAL_TMS",e=M.a.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE):(t="ADDITIONAL_TMS_B",e=M.a.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B);const n=new Date(this.carePlanStartDate);this.carePlanStartDate?this._patientsService.getSpecificUser(this.patientId).subscribe(a=>{this._patientComunicationModalService.createTMSModal(a,this.episodeId,t,e,n).afterClose.pipe(Object(i.a)(this.unsubscribed)).subscribe(t=>{this.tmsAdded=t})}):this._notificationsService.error(this.translatedStrings.get("TMS"),this.translatedStrings.get("TMS.CANNOT_ADD_TMS_CAREPLAN_NOT_ASSIGNED"))}initiateAudioCall(){this._patientsService.getSpecificUser(this.patientId).subscribe(t=>{this._dataSharingService.setVoiceCallInitiated({patient:t,enableRecording:!1,context:A.a.DEFAULT})})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(h.a),c.Rb(g.a),c.Rb(d),c.Rb(S.a),c.Rb(u.a),c.Rb(_.b),c.Rb(D.e),c.Rb(b.e),c.Rb(m.a),c.Rb(f.a),c.Rb(v.a),c.Rb(I.a),c.Rb(z.g),c.Rb(y.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-vital-details"]],inputs:{patientId:"patientId",episodeId:"episodeId",carePlanId:"carePlanId",patientName:"patientName",patientDOB:"patientDOB",patientGender:"patientGender",patientStatus:"patientStatus",vitalType:"vitalType",episodeType:"episodeType",carePlanStartDate:"carePlanStartDate",tmsPercent:"tmsPercent",additionalTMSPercent:"additionalTMSPercent",chooseVitalType:"chooseVitalType"},features:[c.Cb([b.e,p.a]),c.Ab],decls:44,vars:34,consts:[["nz-row","","nzGutter","16"],["nz-col","","nzSpan","14"],["id","heading",4,"ngIf"],["class","sub-heading",4,"ngIf"],[4,"ngIf"],["nz-col","","id","header-actions",3,"nzSpan"],["nz-button","","nzType","primary",1,"report-actions",3,"nzSize","click"],["size","10px","color","#ffffff","name","download"],["nzType","vertical"],["size","10px","color","#ffffff","name","deploymentUnit"],["nz-row","","nzGutter","16",4,"ngIf"],["id","last-values-heading-wrapper"],["id","last-value-heading"],["nz-row",""],["nz-col","","nzSpan","12","nzGutter","32"],["nz-button","","nzType","default","nzShape","round",1,"date-buttons",3,"nzSize","click"],["nz-col","","nzSpan","12","nzGutter","16"],[3,"ngModel","nzDisabledDate","ngModelChange"],["id","heading"],[1,"sub-heading"],[4,"isFeaturePermitted"],["id","audio-call","name","callFilled","size","16px",3,"altColorScheme","click"],["nz-col","","nzSpan","5"],["nz-typography","",1,"minor-headings"],["id","blueprint-selector",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["nz-col","","nzSpan","14","id","shareOptions",4,"ngIf"],[3,"nzValue","nzLabel"],["id","context-selector",3,"ngModel","ngModelChange"],["nzValue","","nzLabel","No Context"],["nz-col","","nzSpan","14","id","shareOptions"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","18"],["nzPlaceHolder","Subject",3,"ngModel","ngClass","ngModelChange"],["nzValue","Vital Trend Report","nzLabel","Vital Trend Report"],["nzValue","Notification from Cooey Health","nzLabel","Notification from Cooey Health"],["nzValue","Escalation from Cooey Health","nzLabel","Escalation from Cooey Health"],["nzValue","CUSTOM","nzLabel","Custom"],["nz-row","",3,"nzGutter","hidden"],["required","","nz-input","","placeholder","Subject","id","subjectModel","name","subjectModel",3,"ngModel","ngClass","ngModelChange"],["subjectModel","ngModel"],["nz-row","",3,"nzGutter",4,"ngIf"],["id","emailModel","name","emailModel","nzMode","tags","nzPlaceHolder","Email IDs",3,"ngModel","nzCustomTemplate","ngModelChange"],["emailModel","ngModel"],["defaultTemplate",""],["required","","rows","6","nz-input","","id","noteModel","name","noteModel",3,"placeholder","ngModel","ngClass","ngModelChange"],["noteModel","ngModel"],["nz-col","","nzSpan","6","id","share"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"],["nz-typography","","nzType","danger"],[3,"ngClass"],["nz-row","","nzGutter","32"],["nz-col","","nzSpan","11","id","last-values"],["nz-col","","nzSpan","12"],[3,"vitalBlueprint","patientName","context","individualLimits"],[3,"vitalBlueprint","vital"],["id","history-container"],["id","date-range"],["type","LineChart",3,"data","columns","options","select"],[3,"patientName","vitalBlueprint"],[3,"vitalBlueprint","vitals","careplanId","patientId"],[3,"patientId","vitalType","episodeId","episodeType","startDate","endDate"],["nz-row","","id","actions"],["nz-col","","nzSpan","12",4,"ngIf"],["nz-button","","nzType","primary","id","tms",3,"click"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Vc(2,st,2,1,"span",2),c.Vc(3,rt,3,5,"span",3),c.Vc(4,ct,3,5,"span",3),c.Vc(5,ut,2,2,"ng-container",4),c.Wb(),c.Xb(6,"div",5),c.Xb(7,"button",6),c.ec("click",function(){return e.getReport("download")}),c.Sb(8,"app-icons",7),c.Xc(9),c.jc(10,"translate"),c.Wb(),c.Sb(11,"nz-divider",8),c.Xb(12,"button",6),c.ec("click",function(){return e.showEmailInput()}),c.Sb(13,"app-icons",9),c.Xc(14),c.jc(15,"translate"),c.Wb(),c.Xc(16," \xa0\xa0 "),c.Wb(),c.Wb(),c.Sb(17,"br"),c.Vc(18,mt,9,4,"div",10),c.Vc(19,yt,35,33,"ng-container",4),c.Sb(20,"br"),c.Sb(21,"br"),c.Vc(22,_t,8,5,"ng-container",4),c.Xb(23,"div",11),c.Xb(24,"h3",12),c.Xc(25),c.jc(26,"translate"),c.Wb(),c.Wb(),c.Sb(27,"br"),c.Xb(28,"div",13),c.Xb(29,"div",14),c.Xb(30,"button",15),c.ec("click",function(){return e.getVitalsForLastDates(3)}),c.Xc(31),c.jc(32,"translate"),c.Wb(),c.Sb(33,"nz-divider",8),c.Xb(34,"button",15),c.ec("click",function(){return e.getVitalsForLastDates(5)}),c.Xc(35),c.jc(36,"translate"),c.Wb(),c.Sb(37,"nz-divider",8),c.Xb(38,"button",15),c.ec("click",function(){return e.getVitalsForLastDates(10)}),c.Xc(39),c.jc(40,"translate"),c.Wb(),c.Wb(),c.Xb(41,"div",16),c.Xb(42,"nz-range-picker",17),c.ec("ngModelChange",function(t){return e.dateRange=t})("ngModelChange",function(){return e.onDateChange()}),c.Wb(),c.Wb(),c.Wb(),c.Vc(43,zt,19,24,"ng-container",4)),2&t&&(c.Db(2),c.rc("ngIf",e.patientName),c.Db(1),c.rc("ngIf",e.patientDOB),c.Db(1),c.rc("ngIf",e.patientGender),c.Db(1),c.rc("ngIf",e.isAudioCallEnabled&&"DISCHARGED"!==e.patientStatus),c.Db(1),c.rc("nzSpan",10),c.Db(1),c.rc("nzSize","middle"),c.Db(2),c.Zc(" \xa0 ",c.kc(10,22,"PATIENTS.REPORTDOWNLOAD")," "),c.Db(3),c.rc("nzSize","middle"),c.Db(2),c.Zc(" \xa0 ",c.kc(15,24,"PATIENTS.REPORTSHARE")," "),c.Db(4),c.rc("ngIf",e.chooseVitalType),c.Db(1),c.rc("ngIf",e.isEmailVisible),c.Db(3),c.rc("ngIf",!e.isChartLoading),c.Db(3),c.Zc(" ",c.kc(26,26,"COMMON.VITAL_HISTORY")," "),c.Db(5),c.rc("nzSize","medium"),c.Db(1),c.Zc(" ",c.kc(32,28,"FILTER.LAST_3_DAYS")," "),c.Db(3),c.rc("nzSize","medium"),c.Db(1),c.Zc(" ",c.kc(36,30,"FILTER.LAST_5_DAYS")," "),c.Db(3),c.rc("nzSize","medium"),c.Db(1),c.Zc(" ",c.kc(40,32,"FILTER.LAST_10_DAYS")," "),c.Db(3),c.rc("ngModel",e.dateRange)("nzDisabledDate",e.disabledDates),c.Db(1),c.rc("ngIf",!e.isChartLoading))},directives:[O.c,O.a,b.q,N.a,P.a,R.a,X.a,L.a,w.a,w.c,W.u,W.x,k.a,V.a,x.d,b.p,x.a,U.a,b.o,F.b,W.d,W.C,H.a,B.a,j.a,Q,K.a,at],pipes:[ot.a,b.e,b.z],styles:[".vital-main-container[_ngcontent-%COMP%]{background:#eff2f0 0 0 no-repeat padding-box}#blueprint-selector[_ngcontent-%COMP%], #context-selector[_ngcontent-%COMP%]{width:200px}#heading[_ngcontent-%COMP%]{font-size:20px}#heading[_ngcontent-%COMP%], .sub-heading[_ngcontent-%COMP%]{font-weight:500}.minor-headings[_ngcontent-%COMP%]{font-size:10px;color:var(--tertiary-color);margin-left:10px}#header-actions[_ngcontent-%COMP%]{text-align:center}#shareOptions[_ngcontent-%COMP%]{padding-top:25px}#last-values[_ngcontent-%COMP%]{background:var(--neutral-color) 0 0 no-repeat padding-box;box-shadow:0 3px 20px #0000000f;border-radius:15px;padding:25px 20px 0!important;margin-left:15px}#last-values-heading-wrapper[_ngcontent-%COMP%]{border-left:2px solid var(--primary-color);padding-left:2.5%}#last-value-heading[_ngcontent-%COMP%]{font-size:16px}#last-value-sub-heading[_ngcontent-%COMP%]{color:#949494}.clear-thead[_ngcontent-%COMP%]{background:transparent;font-size:15px;color:var(--light-black)}.clear-td[_ngcontent-%COMP%], .clear-thead[_ngcontent-%COMP%]{font-weight:300;border-bottom:none}.clear-td[_ngcontent-%COMP%]{font-size:20px}[_nghost-%COMP%]     .ant-select-selection{background:transparent;border:none;border-radius:0;border-bottom:1px solid var(--primary-color)}[_nghost-%COMP%]     .ant-select-arrow{color:var(--primary-color)}[_nghost-%COMP%]     .ant-table-placeholder{border-bottom:none!important}#history-container[_ngcontent-%COMP%]{background:var(--neutral-color) 0 0 no-repeat padding-box;border:1px solid var(--grey);border-radius:10px;padding:10px}.context-container[_ngcontent-%COMP%]{margin:auto;text-align:center}.context[_ngcontent-%COMP%]{margin:1%}.actions[_ngcontent-%COMP%]{cursor:pointer}.normal[_ngcontent-%COMP%]{color:var(--primary-color)}.abnormal[_ngcontent-%COMP%]{color:#c81c1c}.date-buttons[_ngcontent-%COMP%], .report-actions[_ngcontent-%COMP%]{font-size:12px}.date-buttons[_ngcontent-%COMP%]{border:1px solid var(--primary-color)}#date-range[_ngcontent-%COMP%]{padding:2%;font-size:12px;color:var(--light-black)}#share[_ngcontent-%COMP%]{margin-top:100px}.error[_ngcontent-%COMP%]{border:1px solid red;border-radius:7px!important}#tms[_ngcontent-%COMP%]{font-size:12px}#additional-tms[_ngcontent-%COMP%]{color:#dbdbdb;background:#949494;font-size:12px}#audio-call[_ngcontent-%COMP%]{vertical-align:middle}nz-divider[_ngcontent-%COMP%]{background:#a9a9a9}"]}),t})()},XFrI:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{}},"Y+n1":function(t,e,n){"use strict";n.r(e),n.d(e,"TemplatesModule",function(){return Ee});var i=n("mUB+");const a={NoteListing:{header:!0,title:"Note Templates",searchEnabled:!0,primaryAction:{title:"Create",permissions:[],enabled:!0},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{},showTenantToggle:!0,subTenantToggleMode:"MULTI"},NoteForm:{header:!0,title:"Note Template Form",searchEnabled:!1,primaryAction:{title:"",permissions:[],enabled:!1},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{},showTenantToggle:!1},LetterListing:{header:!0,title:"Letter Templates",searchEnabled:!1,primaryAction:{title:"",permissions:[],enabled:!1},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{}},DefaultLetterListing:{header:!0,title:"Admin Letter Templates",searchEnabled:!1,primaryAction:{title:"Create",permissions:[],enabled:!1},secondaryAction:{title:"Bulk Upload",permissions:[],enabled:!0},multiAction:{}},LetterForm:{header:!0,title:"Letter Template Form",searchEnabled:!1,primaryAction:{title:"",permissions:[],enabled:!1},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{},showTenantToggle:!1},VariableList:{header:!0,title:"Merge Variables",searchEnabled:!1,primaryAction:{title:"Create",permissions:[],enabled:!0},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{}},VariableForm:{header:!0,title:"Merge Variable Form",searchEnabled:!1,primaryAction:{title:"",permissions:[],enabled:!1},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{}}};var o=n("tyNb"),s=n("T5gh"),r=n("bA1+"),c=n("+gyu"),l=n("qQcL"),d=n("pLZG"),u=n("1G5W"),p=n("nLCl"),h=n("igu/"),b=n("fXoL"),g=n("bNXi"),m=n("rMZv"),f=n("Szod"),v=n("ofXK"),S=n("eHCX"),T=n("glKu"),C=n("KupA"),E=n("ZyQt"),I=n("dRHE"),M=n("t2pg");function y(t,e){1&t&&(b.Xb(0,"th"),b.Xc(1," Sub Tenant "),b.Wb())}function A(t,e){if(1&t&&(b.Xb(0,"nz-tag"),b.Xc(1),b.jc(2,"translate"),b.Wb()),2&t){const t=e.$implicit;b.Db(1),b.Zc(" ",b.kc(2,1,t)," ")}}function _(t,e){if(1&t&&(b.Xb(0,"td"),b.Xc(1),b.jc(2,"tenantName"),b.Wb()),2&t){const t=b.ic().$implicit;b.Db(1),b.Zc(" ",b.kc(2,1,t.tenantId)," ")}}function D(t,e){if(1&t){const t=b.Yb();b.Xb(0,"tr"),b.Xb(1,"td"),b.Xb(2,"strong",5),b.Xc(3),b.Wb(),b.Wb(),b.Xb(4,"td"),b.Vc(5,A,3,3,"nz-tag",4),b.Wb(),b.Vc(6,_,3,3,"td",3),b.Xb(7,"td"),b.Xb(8,"app-icons",6),b.ec("click",function(){b.Lc(t);const n=e.$implicit;return b.ic().edit(n.id)}),b.Wb(),b.Xc(9," \xa0\xa0 "),b.Xb(10,"app-icons",7),b.ec("nzOnConfirm",function(){b.Lc(t);const n=e.$implicit;return b.ic().delete(n.id)}),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=e.$implicit;b.Db(3),b.Zc(" ",t.title," "),b.Db(2),b.rc("ngForOf",t.tags)}}let z=(()=>{class t extends l.a{constructor(t,e,n,i){super(),this._noteTemplatesService=t,this._router=e,this._notificationsService=n,this._dataSharingService=i,this.pageIndex=1,this.loading=!1,this._routeHelperService.isPrimaryActionTriggered().pipe(Object(d.a)(t=>!!t),Object(u.a)(this.unsubscribed)).subscribe(()=>{this._router.navigate(["templates/note-templates/form"])}),this._routeHelperService.getSearch().pipe(Object(d.a)(t=>t!=this.searchKey),Object(u.a)(this.unsubscribed)).subscribe(t=>{this.searchKey=t,this.getNoteTemplates()}),localStorage.getItem("loggedInUserRole")==p.a.TENANT_ADMIN||this._routeHelperService.setPrimaryAction({})}ngOnInit(){this.getNoteTemplates(),this._dataSharingService.onSubTenantChange().pipe(Object(u.a)(this.unsubscribed)).subscribe(t=>{this.onSubTenantChange(t)})}onSubTenantChange(t){"object"==typeof t&&""!=t&&null!=t&&null!=t&&this.getNoteTemplates()}getNoteTemplates(t=1){this.loading=!0,this._noteTemplatesService.fetchNoteTemplates(t-1,10,this.searchKey).subscribe(t=>{this.noteTemplates=t,this.loading=!1})}onQueryParamsChange(t){const{pageIndex:e}=t;this.getNoteTemplates(e)}edit(t){this._router.navigate([`templates/note-templates/form/${t}`])}delete(t){this._noteTemplatesService.delete(t).subscribe(()=>{this._notificationsService.success("Note Templates","Note template deleted successfully!"),this.getNoteTemplates()},()=>{this._notificationsService.error("Note Templates","Error white deleting note!")})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(c.a),b.Rb(o.g),b.Rb(g.b),b.Rb(h.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-note-templates"]],features:[b.Ab],decls:16,vars:13,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzLoading","nzFrontPagination","nzTotal","nzPageIndex","nzQueryParams"],["noteTemplatesTable",""],[4,"isAccessAcrossTenantEnabled"],[4,"ngFor","ngForOf"],["nz-typography",""],["name","edit",3,"click"],["nz-popconfirm","","nzPopconfirmTitle","Are you sure you want to delete this Note?","nzPopconfirmPlacement","top","name","delete",3,"nzOnConfirm"]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"nz-table",1,2),b.ec("nzQueryParams",function(t){return e.onQueryParamsChange(t)}),b.Xb(3,"thead"),b.Xb(4,"tr"),b.Xb(5,"th"),b.Xc(6),b.jc(7,"translate"),b.Wb(),b.Xb(8,"th"),b.Xc(9,"Tags"),b.Wb(),b.Vc(10,y,2,0,"th",3),b.Xb(11,"th"),b.Xc(12),b.jc(13,"translate"),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"tbody"),b.Vc(15,D,11,2,"tr",4),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.Ic(2);b.Db(1),b.rc("nzData",null==e.noteTemplates?null:e.noteTemplates.content)("nzShowPagination",!0)("nzLoading",e.loading)("nzFrontPagination",!1)("nzTotal",null==e.noteTemplates?null:e.noteTemplates.totalElements)("nzPageIndex",e.pageIndex),b.Db(5),b.Yc(b.kc(7,9,"TABLEHEADER.NAME")),b.Db(6),b.Yc(b.kc(13,11,"TABLEHEADER.ACTIONS")),b.Db(3),b.rc("ngForOf",t.data)}},directives:[m.f,m.n,m.o,m.e,m.l,f.a,m.i,v.p,S.a,T.a,C.a,E.a],pipes:[I.a,M.a],styles:[""]}),t})();var O=n("mfqL"),N=n("r0o6"),P=n("c36b"),R=n("4RGM"),X=n("JA5x"),L=n("B+r4"),w=n("MZxW"),W=n("PTRe"),k=n("3Pt+"),V=n("zAKX"),x=n("OzZK"),U=n("RwU8"),F=n("C2AL");function H(t,e){1&t&&(b.Xb(0,"div",15),b.Xc(1),b.jc(2,"translate"),b.Wb()),2&t&&(b.Db(1),b.Zc(" ",b.kc(2,1,"COMMON.REQUIRED")," "))}function B(t,e){if(1&t&&b.Sb(0,"nz-option",16),2&t){const t=e.$implicit;b.rc("nzLabel",t.name)("nzValue",t.name)}}function j(t,e){1&t&&(b.Xb(0,"div",15),b.Xc(1),b.jc(2,"translate"),b.Wb()),2&t&&(b.Db(1),b.Zc(" ",b.kc(2,1,"COMMON.REQUIRED")," "))}let G=(()=>{class t extends l.a{constructor(t,e,n,i,a){super(),this._tagsService=t,this._noteTemplatesService=e,this._notificationsService=n,this._router=i,this._activatedRoute=a,this.validated=!1,this.noteTemplate={id:void 0,title:"",template:"",tags:[],tenantId:""},this.config=P.b}ngOnInit(){let t;this.getTags(),this._activatedRoute.params.forEach(e=>{t=e.id}),t?this.getById(t):this.noteTemplate.tenantId=localStorage.getItem(R.a.REQUEST_TENANT_IDS).split(",")[0]}onSubTenantChange(t){this.noteTemplate.tenantId=t}getTags(){this.tags$=this._tagsService.getAllTags()}getById(t){this._noteTemplatesService.fetchNoteTemplateById(t).subscribe(t=>this.noteTemplate=t)}save(){if(!this.isValid())return;const t=this._noteTemplatesService.create(this.noteTemplate),e=this._noteTemplatesService.update(this.noteTemplate);Object(N.a)(()=>!!this.noteTemplate.id,e,t).subscribe(()=>{this._notificationsService.success("Note Template","Template saved successfully!"),this._router.navigate(["templates/note-templates"])})}isValid(){return this.validated=!0,0!=this.noteTemplate.title.length&&0!=this.noteTemplate.template.length}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(O.a),b.Rb(c.a),b.Rb(g.b),b.Rb(o.g),b.Rb(o.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-note-templates-form"]],features:[b.Ab],decls:24,vars:13,consts:[[1,"container"],["nz-row","","nzGutter","64",2,"margin-bottom","16px"],["nz-col","","nzOffset","16","nzSpan","8"],["mode","SINGLE",3,"persist","selectedSubTenant","onSubTenantSelected"],["nz-row","","nzSpan","24"],["nz-input","","placeholder","Enter title","required","",3,"ngModel","ngClass","ngModelChange"],["title","ngModel"],["class","error-text",4,"ngIf"],["nzMode","tags","nzPlaceHolder","Select Tags",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["placeholder","Enter template","required","",3,"ngModel","config","ngClass","ngModelChange"],["description","ngModel"],["nz-row",""],["nz-col","","nzSpan","3","nzOffset","21"],["nz-button","","nzType","primary",3,"click"],[1,"error-text"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"nz-card"),b.Xb(2,"div",1),b.Xb(3,"div",2),b.Xb(4,"sub-tenant-select",3),b.ec("onSubTenantSelected",function(t){return e.onSubTenantChange(t)}),b.Wb(),b.Wb(),b.Wb(),b.Xb(5,"div",4),b.Xb(6,"input",5,6),b.ec("ngModelChange",function(t){return e.noteTemplate.title=t}),b.Wb(),b.Vc(8,H,3,3,"div",7),b.Wb(),b.Sb(9,"br"),b.Xb(10,"div",4),b.Xb(11,"nz-select",8),b.ec("ngModelChange",function(t){return e.noteTemplate.tags=t}),b.Vc(12,B,1,2,"nz-option",9),b.jc(13,"async"),b.Wb(),b.Wb(),b.Sb(14,"br"),b.Xb(15,"angular-editor",10,11),b.ec("ngModelChange",function(t){return e.noteTemplate.template=t}),b.Wb(),b.Vc(17,j,3,3,"div",7),b.Sb(18,"br"),b.Sb(19,"br"),b.Xb(20,"div",12),b.Xb(21,"div",13),b.Xb(22,"button",14),b.ec("click",function(){return e.save()}),b.Xc(23,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.Ic(7),n=b.Ic(16);b.Db(4),b.rc("persist",!1)("selectedSubTenant",e.noteTemplate.tenantId),b.Db(2),b.rc("ngModel",e.noteTemplate.title)("ngClass",e.validated?"submitted":null),b.Db(2),b.rc("ngIf",t.invalid&&(t.dirty||t.touched||e.validated)),b.Db(3),b.rc("ngModel",e.noteTemplate.tags),b.Db(1),b.rc("ngForOf",b.kc(13,11,e.tags$)),b.Db(3),b.rc("ngModel",e.noteTemplate.template)("config",e.config)("ngClass",e.validated?"submitted":null),b.Db(2),b.rc("ngIf",n.invalid&&(n.dirty||n.touched||e.validated))}},directives:[X.a,L.c,L.a,w.a,W.b,k.d,k.C,k.u,k.x,v.o,v.q,V.d,v.p,i.a,x.a,U.a,F.a,V.a],pipes:[v.b,I.a],styles:["nz-card[_ngcontent-%COMP%]{width:75%;margin:25px 0 0 20px}[_nghost-%COMP%]     .ant-select:not(.ant-select-customize-input) .ant-select-selector{border:1px solid #d9d9d9}button[_ngcontent-%COMP%]{width:100%}.error-text[_ngcontent-%COMP%]{text-align:end;width:100%;color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.ng-touched{border-color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.submitted{border-color:#c81c1c}[_nghost-%COMP%]     angular-editor.ng-invalid.ng-touched>div>div:nth-child(2)>div{border-color:#c81c1c!important}[_nghost-%COMP%]     angular-editor.ng-invalid.submitted>div>div:nth-child(2)>div{border-color:#c81c1c!important}"]}),t})();const Y=[{code:"ab",name:"Abkhaz"},{code:"aa",name:"Afar"},{code:"af",name:"Afrikaans"},{code:"ak",name:"Akan"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"an",name:"Aragonese"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"av",name:"Avaric"},{code:"ae",name:"Avestan"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"ba",name:"Bashkir"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bh",name:"Bihari"},{code:"bi",name:"Bislama"},{code:"bs",name:"Bosnian"},{code:"br",name:"Breton"},{code:"bg",name:"Bulgarian"},{code:"my",name:"Burmese"},{code:"ca",name:"Catala"},{code:"ch",name:"Chamorro"},{code:"ce",name:"Chechen"},{code:"ny",name:"Chichewa; Chewa; Nyanja"},{code:"zh",name:"Chinese"},{code:"cv",name:"Chuvash"},{code:"kw",name:"Cornish"},{code:"co",name:"Corsican"},{code:"cr",name:"Cree"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Divehi; Dhivehi; Maldivian;"},{code:"nl",name:"Dutch"},{code:"dz",name:"Dzongkha"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"fo",name:"Faroese"},{code:"fj",name:"Fijian"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"ff",name:"Fula; Fulah; Pulaar; Pular"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek, Modern"},{code:"gn",name:"Guaran\xc3\xad"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian; Haitian Creole"},{code:"ha",name:"Hausa"},{code:"he",name:"Hebrew (modern)"},{code:"hz",name:"Herero"},{code:"hi",name:"Hindi"},{code:"ho",name:"Hiri Motu"},{code:"hu",name:"Hungarian"},{code:"ia",name:"Interlingua"},{code:"id",name:"Indonesian"},{code:"ie",name:"Interlingue"},{code:"ga",name:"Irish"},{code:"ig",name:"Igbo"},{code:"ik",name:"Inupiaq"},{code:"io",name:"Ido"},{code:"is",name:"Icelandic"},{code:"it",name:"Italian"},{code:"iu",name:"Inuktitut"},{code:"ja",name:"Japanese"},{code:"jv",name:"Javanese"},{code:"kl",name:"Kalaallisut, Greenlandic"},{code:"kn",name:"Kannada"},{code:"kr",name:"Kanuri"},{code:"ks",name:"Kashmiri"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"ki",name:"Kikuyu, Gikuyu"},{code:"rw",name:"Kinyarwanda"},{code:"ky",name:"Kyrgyz"},{code:"kv",name:"Komi"},{code:"kg",name:"Kongo"},{code:"ko",name:"Korean"},{code:"ku",name:"Kurdish"},{code:"kj",name:"Kwanyama, Kuanyama"},{code:"la",name:"Latin"},{code:"lb",name:"Luxembourgish, Letzeburgesch"},{code:"lg",name:"Ganda"},{code:"li",name:"Limburgish, Limburgan, Limburger"},{code:"ln",name:"Lingala"},{code:"lo",name:"Lao"},{code:"lt",name:"Lithuanian"},{code:"lu",name:"Luba-Katanga"},{code:"lv",name:"Latvian"},{code:"gv",name:"Manx"},{code:"mk",name:"Macedonian"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"M\xc4ori"},{code:"mr",name:"Marathi (Mar\xc4\xe1\xb9\xadh\xc4\xab)"},{code:"mh",name:"Marshallese"},{code:"mn",name:"Mongolian"},{code:"na",name:"Nauru"},{code:"nv",name:"Navajo, Navaho"},{code:"nb",name:"Norwegian Bokm\xc3\xa5l"},{code:"nd",name:"North Ndebele"},{code:"ne",name:"Nepali"},{code:"ng",name:"Ndonga"},{code:"nn",name:"Norwegian Nynorsk"},{code:"no",name:"Norwegian"},{code:"ii",name:"Nuosu"},{code:"nr",name:"South Ndebele"},{code:"oc",name:"Occitan"},{code:"oj",name:"Ojibwe, Ojibwa"},{code:"cu",name:"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic"},{code:"om",name:"Oromo"},{code:"or",name:"Oriya"},{code:"os",name:"Ossetian, Ossetic"},{code:"pa",name:"Panjabi, Punjabi"},{code:"pi",name:"P\xc4li"},{code:"fa",name:"Persian (Farsi)"},{code:"pl",name:"Polish"},{code:"ps",name:"Pashto, Pushto"},{code:"pt",name:"Portuguese"},{code:"qu",name:"Quechua"},{code:"rm",name:"Romansh"},{code:"rn",name:"Kirundi"},{code:"ro",name:"Romanian, [])"},{code:"ru",name:"Russian"},{code:"sa",name:"Sanskrit (Sa\xe1\xb9sk\xe1\xb9\u203ata)"},{code:"sc",name:"Sardinian"},{code:"sd",name:"Sindhi"},{code:"se",name:"Northern Sami"},{code:"sm",name:"Samoan"},{code:"sg",name:"Sango"},{code:"sr",name:"Serbian"},{code:"gd",name:"Scottish Gaelic; Gaelic"},{code:"sn",name:"Shona"},{code:"si",name:"Sinhala, Sinhalese"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovene"},{code:"so",name:"Somali"},{code:"st",name:"Southern Sotho"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"ss",name:"Swati"},{code:"sv",name:"Swedish"},{code:"ta",name:"Tamil"},{code:"te",name:"Telugu"},{code:"tg",name:"Tajik"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"bo",name:"Tibetan Standard, Tibetan, Central"},{code:"tk",name:"Turkmen"},{code:"tl",name:"Tagalog"},{code:"tn",name:"Tswana"},{code:"to",name:"Tonga (Tonga Islands)"},{code:"tr",name:"Turkish"},{code:"ts",name:"Tsonga"},{code:"tt",name:"Tatar"},{code:"tw",name:"Twi"},{code:"ty",name:"Tahitian"},{code:"ug",name:"Uyghur, Uighur"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"uz",name:"Uzbek"},{code:"ve",name:"Venda"},{code:"vi",name:"Vietnamese"},{code:"vo",name:"Volap\xc3\xbck"},{code:"wa",name:"Walloon"},{code:"cy",name:"Welsh"},{code:"wo",name:"Wolof"},{code:"fy",name:"Western Frisian"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"za",name:"Zhuang, Chuang"},{code:"zu",name:"Zulu"}];var $=n("q5r7"),q=n("rmZX"),Z=n("AytR"),Q=n("tk/3");let K=(()=>{class t{constructor(t){this._http=t,this.rootUrl=Z.g.url,this.variableNode=`${this.rootUrl}/v3/direct-mail/templates/variables`}create(t){return this._http.post(`${this.variableNode}/new`,t)}update(t){return this._http.put(`${this.variableNode}/update`,t)}delete(t){return this._http.delete(`${this.variableNode}/${t}`)}fetchAll(){return this._http.get(`${this.variableNode}/list`)}fetchById(t){return this._http.get(`${this.variableNode}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(b.bc(Q.c))},t.\u0275prov=b.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const J={editable:!0,spellcheck:!0,width:"8.5in",minHeight:"11in",placeholder:"Enter html content here ...",translate:"no",sanitize:!1,defaultParagraphSeparator:"p"};var tt=n("qAZ0");function et(t,e){1&t&&(b.Xb(0,"div"),b.Sb(1,"nz-spin",3),b.Wb())}function nt(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"div",6),b.Xb(2,"nz-tag",7),b.ec("click",function(){b.Lc(t);const n=e.$implicit;return b.ic(2).insertVariable(n.value)}),b.Xc(3),b.Wb(),b.Wb(),b.Ub()}if(2&t){const t=e.$implicit;b.Db(2),b.rc("nzColor","var(--primary-color)"),b.Db(1),b.Zc(" ",t.title," ")}}const it=function(){return[16,16]};function at(t,e){if(1&t&&(b.Xb(0,"div",4),b.Vc(1,nt,4,2,"ng-container",5),b.Wb()),2&t){const t=b.ic();b.rc("nzGutter",b.xc(2,it)),b.Db(1),b.rc("ngForOf",t.variables)}}let ot=(()=>{class t{constructor(){this.variables=[],this.loading=!0,this.insert=new b.n}set topOffset(t){document.body.style.setProperty("--top-offset",`${t}px`)}ngOnInit(){}insertVariable(t){this.insert.emit(t)}get transformStyle(){return{transform:`translateY(${this.topOffset}px)`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Lb({type:t,selectors:[["app-merge-variable-card-component"]],inputs:{variables:"variables",loading:"loading",topOffset:"topOffset"},outputs:{insert:"insert"},decls:8,vars:2,consts:[[1,"merge-container"],[4,"ngIf"],["nz-row","",3,"nzGutter",4,"ngIf"],["nzSimple","","nzTip","Loading Data..."],["nz-row","",3,"nzGutter"],[4,"ngFor","ngForOf"],["nz-col",""],["tabindex","2",3,"nzColor","click"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"nz-card"),b.Xb(2,"div"),b.Xb(3,"strong"),b.Xc(4,"Merge Variables"),b.Wb(),b.Wb(),b.Sb(5,"br"),b.Vc(6,et,2,0,"div",1),b.Vc(7,at,2,3,"div",2),b.Wb(),b.Wb()),2&t&&(b.Db(6),b.rc("ngIf",e.loading),b.Db(1),b.rc("ngIf",!e.loading))},directives:[X.a,v.q,tt.a,L.c,v.p,L.a,E.a],styles:["[_ngcontent-%COMP%]:root{--top-offset:0px}.merge-container[_ngcontent-%COMP%]{transform:none;max-width:400px}@media (min-width:1330px),screen and (max-width:1220px) and (min-width:1180px){.merge-container[_ngcontent-%COMP%]{transform:translateY(var(--top-offset))}}.ant-tag[_ngcontent-%COMP%]{margin:0!important;font-size:14px;padding:8px 16px}"]}),t})();const st=["myEditor"];function rt(t,e){1&t&&(b.Xb(0,"div",19),b.Xc(1),b.jc(2,"translate"),b.Wb()),2&t&&(b.Db(1),b.Zc(" ",b.kc(2,1,"COMMON.REQUIRED")," "))}function ct(t,e){if(1&t&&b.Sb(0,"nz-option",20),2&t){const t=e.$implicit;b.rc("nzLabel",null==t?null:t.name)("nzValue",null==t?null:t.code)}}function lt(t,e){1&t&&(b.Xb(0,"div",19),b.Xc(1),b.jc(2,"translate"),b.Wb()),2&t&&(b.Db(1),b.Zc(" ",b.kc(2,1,"COMMON.REQUIRED")," "))}function dt(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"div",15),b.Xb(2,"nz-tag",21),b.ec("click",function(){b.Lc(t);const n=e.$implicit;return b.ic().updateLanguageFromTab(n)}),b.Xc(3),b.Wb(),b.Wb(),b.Ub()}if(2&t){const t=e.$implicit,n=b.ic();b.Db(3),b.Zc(" ",n.languageValue(t)," ")}}function ut(t,e){1&t&&(b.Xb(0,"div",19),b.Xc(1," No default template is available "),b.Wb())}function pt(t,e){1&t&&(b.Xb(0,"div",19),b.Xc(1),b.jc(2,"translate"),b.Wb()),2&t&&(b.Db(1),b.Zc(" ",b.kc(2,1,"COMMON.REQUIRED")," "))}const ht=function(){return[16,16]};let bt=(()=>{class t extends l.a{constructor(t,e,n,i,a,o,s){super(),this._notificationsService=t,this._router=e,this._activatedRoute=n,this._defaultLetterTemplatesService=i,this._templateHtmlHelperService=a,this._templateVariablesService=o,this._dataSharingService=s,this.validated=!1,this.errorNoTemplates=!1,this.languages=Y,this.tenantConfig=null,this.logoURL=null,this.primaryColor=null,this.variableLoading=!0,this.topOffset=0,this.templateHtml="",this.letterTemplate={id:void 0,letterType:"",languageTemplates:[]},this.config=J,this._dataSharingService.tenantSettings.subscribe(t=>{t&&(this.tenantConfig=t,t.logoURL&&(this.logoURL=t.logoURL),this.primaryColor=t.directMailConfig.primaryColor||t.portalConfig.colorConfiguration.primaryColor)})}ngOnInit(){let t;this._activatedRoute.params.forEach(e=>{t=e.id}),t&&this.getById(t),this.getMergeVariables()}getById(t){this._defaultLetterTemplatesService.fetchDefaultLetterTemplateById(t).subscribe(t=>this.letterTemplate=t)}getMergeVariables(){this.variableLoading=!0,this._templateVariablesService.fetchAll().subscribe(t=>{this.variables=t,this.variableLoading=!1,this.angularEditor.blurEvent.subscribe(t=>{const e=document.getSelection();this.range=e.getRangeAt(0)})})}languageUpdated(){var t;const e=null===(t=this.letterTemplate.languageTemplates.find(t=>t.language==this.selectedLanguage))||void 0===t?void 0:t.html;this.templateHtml=this.substituteDynamicValues(e)||"",this.errorNoTemplates=null==e,console.log("html: ",e),console.log("errorNoTemplates: ",this.errorNoTemplates)}substituteDynamicValues(t){return this._templateHtmlHelperService.beautifyDynamicValues(t,this.logoURL,this.primaryColor)}revertToOriginal(t){return this._templateHtmlHelperService.revertBackToRaw(t,this.logoURL,this.primaryColor)}updateLanguageFromTab(t){this.selectedLanguage=t.language,this.languageUpdated()}languageValue(t){var e;return(null===(e=Y.find(e=>e.code===t.language))||void 0===e?void 0:e.name)||"N/A"}insertVariable(t){console.log(`insert merge variable value {{${t}}}`),document.getSelection().removeAllRanges(),document.getSelection().addRange(this.range);const e=document.createTextNode(`{{${t}}}`);this.range.insertNode(e),this.angularEditor.toggleEditorMode(!0),this.angularEditor.toggleEditorMode(!1)}save(){if(!this.isValid())return;const t=this._defaultLetterTemplatesService.create(this.letterTemplate),e=this._defaultLetterTemplatesService.update(this.letterTemplate);Object(N.a)(()=>!!this.letterTemplate.id,e,t).subscribe(()=>{this._notificationsService.success("Letter Template","Template saved successfully!"),this._router.navigate(["/templates/letter-templates"],{queryParams:{tab:"default-templates"}})},t=>{this._notificationsService.error("Letter Template Error",t.error.message),console.log(t)})}isValid(){if(this.validated=!0,0==this.letterTemplate.letterType.length)return!1;if(0==this.selectedLanguage.length)return!1;if(0==this.templateHtml.length)return!1;const t=this.variables.map(t=>t.value),e=this._templateHtmlHelperService.validateMergeVariables(this.templateHtml,t);if((null==e?void 0:e.length)>0)return this._notificationsService.error("Invalid merge variables",e.join(", ")),!1;null==this.letterTemplate.languageTemplates&&(this.letterTemplate.languageTemplates=[]);const n={language:this.selectedLanguage,html:this._templateHtmlHelperService.formatHtml(this.revertToOriginal(this.templateHtml))},i=this.letterTemplate.languageTemplates.findIndex(t=>t.language==this.selectedLanguage);return-1!=i?this.letterTemplate.languageTemplates[i]=n:this.letterTemplate.languageTemplates.push(n),!0}preview(){const t=this._templateHtmlHelperService.formatHtml(this.templateHtml),e=window.open();e.document.write(t),e.document.close()}onChange(t){console.log("changed: ",t)}onScroll(t){var e;this.topOffset=null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.scrollTop}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(g.b),b.Rb(o.g),b.Rb(o.a),b.Rb($.a),b.Rb(q.a),b.Rb(K),b.Rb(h.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-letter-templates-form"]],viewQuery:function(t,e){if(1&t&&b.ed(st,1),2&t){let t;b.Hc(t=b.fc())&&(e.angularEditor=t.first)}},features:[b.Cb([q.a]),b.Ab],decls:37,vars:19,consts:[[1,"container","scroll-container",3,"scroll"],["nz-row","",3,"nzGutter"],["nz-col","","nzFlex","0 0 9.2in"],["nz-row","","nzSpan","24"],["nz-input","","placeholder","Enter title","required","","disabled","",3,"ngModel","ngClass","ngModelChange"],["title","ngModel"],["class","error-text",4,"ngIf"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a language","required","",3,"ngModel","nzDisabled","ngModelChange"],["language","ngModel"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-col","",2,"padding-right","8px"],[4,"ngFor","ngForOf"],["id","mydiv","placeholder","Enter template","required","",3,"ngModel","config","ngClass","ngModelChange"],["myEditor","","description","ngModel"],["nz-row","","nzAlign","middle","nzJustify","center",3,"nzGutter"],["nz-col",""],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzFlex","1 0 200px"],[3,"variables","loading","topOffset","insert"],[1,"error-text"],[3,"nzLabel","nzValue"],[3,"click"]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.ec("scroll",function(t){return e.onScroll(t)}),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"nz-card"),b.Xb(4,"div",3),b.Xb(5,"input",4,5),b.ec("ngModelChange",function(t){return e.letterTemplate.letterType=t}),b.Wb(),b.Vc(7,rt,3,3,"div",6),b.Wb(),b.Sb(8,"br"),b.Xb(9,"div",3),b.Xb(10,"nz-select",7,8),b.ec("ngModelChange",function(t){return e.selectedLanguage=t})("ngModelChange",function(){return e.languageUpdated()}),b.Vc(12,ct,1,2,"nz-option",9),b.Wb(),b.Vc(13,lt,3,3,"div",6),b.Wb(),b.Sb(14,"br"),b.Xb(15,"div",3),b.Xb(16,"div",10),b.Xb(17,"strong"),b.Xc(18,"Saved Templates: "),b.Wb(),b.Wb(),b.Vc(19,dt,4,1,"ng-container",11),b.Wb(),b.Sb(20,"br"),b.Vc(21,ut,2,0,"div",6),b.Xb(22,"angular-editor",12,13),b.ec("ngModelChange",function(t){return e.templateHtml=t})("ngModelChange",function(t){return e.onChange(t)}),b.Wb(),b.Vc(25,pt,3,3,"div",6),b.Sb(26,"br"),b.Sb(27,"br"),b.Xb(28,"div",14),b.Xb(29,"div",15),b.Xb(30,"button",16),b.ec("click",function(){return e.preview()}),b.Xc(31,"Preview"),b.Wb(),b.Wb(),b.Xb(32,"div",15),b.Xb(33,"button",16),b.ec("click",function(){return e.save()}),b.Xc(34,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(35,"div",17),b.Xb(36,"app-merge-variable-card-component",18),b.ec("insert",function(t){return e.insertVariable(t)}),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.Ic(6),n=b.Ic(11),i=b.Ic(24);b.Db(1),b.rc("nzGutter",b.xc(18,ht)),b.Db(4),b.rc("ngModel",e.letterTemplate.letterType)("ngClass",e.validated?"submitted":null),b.Db(2),b.rc("ngIf",t.invalid&&(t.dirty||t.touched||e.validated)),b.Db(3),b.rc("ngModel",e.selectedLanguage)("nzDisabled",!e.letterTemplate.letterType),b.Db(2),b.rc("ngForOf",e.languages),b.Db(1),b.rc("ngIf",n.invalid&&(n.dirty||n.touched||e.validated)),b.Db(6),b.rc("ngForOf",e.letterTemplate.languageTemplates),b.Db(2),b.rc("ngIf",e.errorNoTemplates),b.Db(1),b.rc("ngModel",e.templateHtml)("config",e.config)("ngClass",e.validated?"submitted":null),b.Db(3),b.rc("ngIf",i.invalid&&(i.dirty||i.touched||e.validated)),b.Db(3),b.rc("nzGutter",16),b.Db(8),b.rc("variables",e.variables)("loading",e.variableLoading)("topOffset",e.topOffset)}},directives:[L.c,L.a,X.a,W.b,k.d,k.C,k.u,k.x,v.o,v.q,V.d,v.p,i.a,x.a,U.a,F.a,ot,V.a,E.a],pipes:[I.a],styles:["body,   html{width:100%!important;height:100%!important;font-family:Nunito!important}[_nghost-%COMP%]     .ant-select:not(.ant-select-customize-input) .ant-select-selector{border:1px solid #d9d9d9}.scroll-container[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 99px)!important;overflow-y:scroll!important}.variable-container[_ngcontent-%COMP%]{max-width:400px}.error-text[_ngcontent-%COMP%]{width:100%;color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.ng-touched{border-color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.submitted{border-color:#c81c1c}[_nghost-%COMP%]     angular-editor.ng-invalid.ng-touched>div>div:nth-child(2)>div{border-color:#c81c1c!important}[_nghost-%COMP%]     angular-editor.ng-invalid.submitted>div>div:nth-child(2)>div{border-color:#c81c1c!important}[_nghost-%COMP%]     .angular-editor-textarea{resize:none!important;padding:0!important}"]}),t})();var gt=n("Ifg2"),mt=n("dEAy"),ft=n("D9mS"),vt=n("FwiY");function St(t,e){if(1&t){const t=b.Yb();b.Xb(0,"h5"),b.Xb(1,"span",7),b.Sb(2,"i",8),b.Xc(3),b.Wb(),b.Xc(4," \xa0 "),b.Xb(5,"span",9),b.ec("click",function(e){return b.Lc(t),b.ic().removeFile(e)}),b.Sb(6,"i",10),b.Xc(7," Delete"),b.Wb(),b.Wb()}if(2&t){const t=b.ic();b.Db(3),b.Zc(" Successfully uploaded: ",t.uploadedFile.file.name,"")}}let Tt=(()=>{class t{constructor(t,e,n,i){this._modalRef=t,this._xlsxParserService=e,this._defaultLetterTemplatesService=n,this._notificationsService=i,this.handleUpload=t=>{this.uploadedFile=t,this.uploadedFileName=t.file.name,console.log("handleUpload",t),"text/csv"===t.file.type?this.handleCSV(t):this.handleXLSX(t)},this.headersMap=new Map([["Template Type","letterType"],["Language","language"],["Template Contents","html"]])}ngOnInit(){}removeFile(t){return this.uploadedFile=null,this.uploadedFileName=null,t.stopPropagation(),!1}validateHeaders(t){return t.forEach((t,e)=>{Object.keys(t).forEach(e=>{Object.defineProperty(t,this.headersMap.get(e),Object.getOwnPropertyDescriptor(t,e)),delete t[e]}),t.rowId=e}),t}handleXLSX(t){const e=new FileReader;e.onload=()=>{const t=this._xlsxParserService.parse(e),n=this.validateHeaders(t[Object.keys(t)[0]]).reduce((t,e)=>{var n;t[e.letterType]=t[e.letterType]||[];const i={language:(null===(n=Y.find(t=>t.name.toLowerCase()==e.language.toLowerCase()))||void 0===n?void 0:n.code)||"en",html:e.html};return t[e.letterType].push(i),t},{}),i=[];Object.keys(n).forEach(t=>{i.push({letterType:t,languageTemplates:n[t]})}),console.log("xlsx data:",i),this.data=i,this.bulkUploadVisible=!1},e.readAsBinaryString(t.file)}handleCSV(t){const e=new FileReader;e.onload=()=>{const t=e.result.split(/\r\n|\n/),n=t[0].split(","),i=[];t.forEach((t,e)=>{if(e>0){const e=t.split(","),a=new Map;n.forEach((t,n)=>{a.set(t,e[n])}),i.push(a)}});const a=t.slice(1).reduce((t,e)=>{var n;const i=e.split(",");t[i[0]]=t[i[0]]||[];const a={language:(null===(n=Y.find(t=>t.name.toLowerCase()==i[1].toLowerCase()))||void 0===n?void 0:n.code)||"en",html:i[2]};return t[i[0]].push(a),t},{}),o=[];Object.keys(a).forEach(t=>{o.push({letterType:t,languageTemplates:a[t]})}),console.log("csv data:",o),this.data=o,this.bulkUploadVisible=!1},e.readAsText(t.file)}processUploadedFile(){this._defaultLetterTemplatesService.bulkUpload(this.data).subscribe(t=>{var e,n,i;const a=null===(e=t.duplicate)||void 0===e?void 0:e.length,o=null===(n=t.new)||void 0===n?void 0:n.length,s=null===(i=t.update)||void 0===i?void 0:i.length;this._notificationsService.info("Bulk Upload Success",`New: ${o}, Updated: ${s}, Duplicate: ${a}`),this._modalRef.close(!0)})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(mt.e),b.Rb(gt.a),b.Rb($.a),b.Rb(g.b))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-bulk-upload-template-modal"]],features:[b.Cb([gt.a])],decls:13,vars:10,consts:[[1,"container"],["nzType","drag","nzAccept",".xlsx, .csv",3,"nzCustomRequest","nzShowButton","nzShowUploadList","nzDisabled"],[4,"ngIf"],["nz-button","","nzType","primary","nzSize","large",3,"disabled"],["nz-row","","nzAlign","middle","nzJustify","center"],["nz-button","","nzType","primary","nzSize","large","id","upload-btn",3,"disabled","click"],["nz-icon","","nzType","arrow-up","nzTheme","outline"],[2,"color","#8BC34A"],["nz-icon","","nzType","paper-clip","nzTheme","outline"],[2,"color","#FF0000","cursor","pointer",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(t,e){1&t&&(b.Xb(0,"div",0),b.Xb(1,"nz-upload",1),b.Vc(2,St,8,1,"h5",2),b.Xb(3,"button",3),b.Xc(4,"BROWSE / DRAG"),b.Wb(),b.Xb(5,"p"),b.Xc(6),b.jc(7,"translate"),b.Wb(),b.Wb(),b.Sb(8,"br"),b.Xb(9,"div",4),b.Xb(10,"button",5),b.ec("click",function(){return e.processUploadedFile()}),b.Xc(11," UPLOAD "),b.Sb(12,"i",6),b.Wb(),b.Wb(),b.Wb()),2&t&&(b.Db(1),b.rc("nzCustomRequest",e.handleUpload)("nzShowButton",!0)("nzShowUploadList",!1)("nzDisabled",e.uploadedFileName),b.Db(1),b.rc("ngIf",e.uploadedFileName),b.Db(1),b.rc("disabled",e.uploadedFileName),b.Db(3),b.Yc(b.kc(7,8,"COMMON.DRAG_AND_UPLOAD")),b.Db(4),b.rc("disabled",null==e.uploadedFileName))},directives:[ft.a,v.q,x.a,U.a,F.a,L.c,vt.a],pipes:[I.a],styles:[""]}),t})();function Ct(t,e){if(1&t&&(b.Xb(0,"nz-tag"),b.Xc(1),b.Wb()),2&t){const t=e.$implicit,n=b.ic(2);b.Db(1),b.Zc(" ",n.languageValue(t)," ")}}function Et(t,e){if(1&t){const t=b.Yb();b.Xb(0,"tr"),b.Xb(1,"td"),b.Xb(2,"strong",4),b.Xc(3),b.Wb(),b.Wb(),b.Xb(4,"td"),b.Vc(5,Ct,2,1,"nz-tag",3),b.Wb(),b.Xb(6,"td"),b.Xb(7,"app-icons",5),b.ec("click",function(){b.Lc(t);const n=e.$implicit;return b.ic().edit(n.id)}),b.Wb(),b.Xc(8," \xa0\xa0 "),b.Xb(9,"app-icons",6),b.ec("click",function(){b.Lc(t);const n=e.$implicit;return b.ic().delete(n.id)}),b.Wb(),b.Wb(),b.Wb()}if(2&t){const t=e.$implicit;b.Db(3),b.Zc(" ",t.letterType," "),b.Db(2),b.rc("ngForOf",t.languageTemplates)}}let It=(()=>{class t extends l.a{constructor(t,e,n,i,a){super(),this._defaultLetterTemplatesService=t,this._notificationsService=e,this._router=n,this._modalService=i,this._activatedRoute=a,this.loading=!1,this._routeHelperService.isPrimaryActionTriggered().pipe(Object(d.a)(t=>!!t),Object(u.a)(this.unsubscribed)).subscribe(()=>{this._router.navigate(["templates/letter-templates/admin/form"])}),this._routeHelperService.isSecondaryActionTriggered().pipe(Object(d.a)(t=>!!t),Object(u.a)(this.unsubscribed)).subscribe(()=>{this._modalService.create({nzContent:Tt,nzWidth:775,nzFooter:null}).afterClose.subscribe(t=>{t&&this.getTemplates()})})}ngOnInit(){this.getTemplates()}getTemplates(t=1){this.loading=!0,this._defaultLetterTemplatesService.fetchDefaultLetterTemplates().subscribe(t=>{this.templates=t,this.loading=!1})}edit(t){this._router.navigate([`templates/letter-templates/admin/form/${t}`])}delete(t){this._defaultLetterTemplatesService.delete(t).subscribe(()=>{this._notificationsService.success("Letter Template","Template deleted successfully!"),this.getTemplates()})}languageValue(t){var e;return(null===(e=Y.find(e=>e.code===t.language))||void 0===e?void 0:e.name)||"N/A"}bulkUpload(){this._modalService.create({nzContent:Tt,nzWidth:775,nzFooter:null}).afterClose.subscribe(t=>{t&&this.getTemplates()})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb($.a),b.Rb(g.b),b.Rb(o.g),b.Rb(mt.f),b.Rb(o.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-default-letter-templates"]],features:[b.Ab],decls:15,vars:10,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzLoading"],["templatesTable",""],[4,"ngFor","ngForOf"],["nz-typography",""],["name","edit",3,"click"],["name","delete",3,"click"]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"nz-table",1,2),b.Xb(3,"thead"),b.Xb(4,"tr"),b.Xb(5,"th"),b.Xc(6),b.jc(7,"translate"),b.Wb(),b.Xb(8,"th"),b.Xc(9,"Languages"),b.Wb(),b.Xb(10,"th"),b.Xc(11),b.jc(12,"translate"),b.Wb(),b.Wb(),b.Wb(),b.Xb(13,"tbody"),b.Vc(14,Et,10,2,"tr",3),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.Ic(2);b.Db(1),b.rc("nzData",e.templates)("nzShowPagination",!0)("nzLoading",e.loading),b.Db(5),b.Yc(b.kc(7,6,"TABLEHEADER.NAME")),b.Db(5),b.Yc(b.kc(12,8,"TABLEHEADER.ACTIONS")),b.Db(3),b.rc("ngForOf",t.data)}},directives:[m.f,m.n,m.o,m.e,m.l,m.i,v.p,S.a,T.a,E.a],pipes:[I.a],styles:[""]}),t})();function Mt(t,e){1&t&&(b.Xb(0,"div",11),b.Xc(1),b.jc(2,"translate"),b.Wb()),2&t&&(b.Db(1),b.Zc(" ",b.kc(2,1,"COMMON.REQUIRED")," "))}function yt(t,e){1&t&&(b.Xb(0,"div",11),b.Xc(1),b.jc(2,"translate"),b.Wb()),2&t&&(b.Db(1),b.Zc(" ",b.kc(2,1,"COMMON.REQUIRED")," "))}let At=(()=>{class t extends l.a{constructor(t,e,n,i){super(),this._notificationsService=t,this._router=e,this._activatedRoute=n,this._templateVariablesService=i,this.validated=!1,this.templateVariable={id:void 0,title:"",value:"",description:""}}ngOnInit(){let t;this._activatedRoute.params.forEach(e=>{t=e.id}),t&&this.getById(t)}getById(t){this._templateVariablesService.fetchById(t).subscribe(t=>this.templateVariable=t)}updateValue(){this.templateVariable.value=this.templateVariable.title.replace(/(\w)(\w*)/g,(t,e,n)=>e.toUpperCase()+n.toLowerCase()).replace(/\s/g,"")}save(){if(!this.isValid())return;const t=this._templateVariablesService.create(this.templateVariable),e=this._templateVariablesService.update(this.templateVariable);Object(N.a)(()=>!!this.templateVariable.id,e,t).subscribe(()=>{this._notificationsService.success("Merge Variable","Merge Variable saved successfully!"),this._router.navigate(["/templates/letter-templates"],{queryParams:{tab:"merge-variables"}})})}isValid(){return this.validated=!0,0!=this.templateVariable.title.length&&0!=this.templateVariable.value.length}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(g.b),b.Rb(o.g),b.Rb(o.a),b.Rb(K))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-template-variable-form"]],features:[b.Ab],decls:20,vars:7,consts:[[1,"container"],["nz-row","","nzSpan","24"],["nz-input","","placeholder","Enter title","required","",3,"ngModel","ngClass","ngModelChange","keyup"],["title","ngModel"],["class","error-text",4,"ngIf"],["nz-input","","placeholder","Enter value","required","",3,"ngModel","ngClass","ngModelChange"],["value","ngModel"],["nz-input","","placeholder","Enter description",3,"ngModel","ngModelChange"],["nz-row",""],["nz-col",""],["nz-button","","nzType","primary",3,"click"],[1,"error-text"]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"nz-card"),b.Xb(2,"div",1),b.Xb(3,"input",2,3),b.ec("ngModelChange",function(t){return e.templateVariable.title=t})("keyup",function(){return e.updateValue()}),b.Wb(),b.Vc(5,Mt,3,3,"div",4),b.Wb(),b.Sb(6,"br"),b.Xb(7,"div",1),b.Xb(8,"input",5,6),b.ec("ngModelChange",function(t){return e.templateVariable.value=t}),b.Wb(),b.Vc(10,yt,3,3,"div",4),b.Wb(),b.Sb(11,"br"),b.Xb(12,"div",1),b.Xb(13,"input",7),b.ec("ngModelChange",function(t){return e.templateVariable.description=t}),b.Wb(),b.Wb(),b.Sb(14,"br"),b.Sb(15,"br"),b.Xb(16,"div",8),b.Xb(17,"div",9),b.Xb(18,"button",10),b.ec("click",function(){return e.save()}),b.Xc(19,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.Ic(4),n=b.Ic(9);b.Db(3),b.rc("ngModel",e.templateVariable.title)("ngClass",e.validated?"submitted":null),b.Db(2),b.rc("ngIf",t.invalid&&(t.dirty||t.touched||e.validated)),b.Db(3),b.rc("ngModel",e.templateVariable.value)("ngClass",e.validated?"submitted":null),b.Db(2),b.rc("ngIf",n.invalid&&(n.dirty||n.touched||e.validated)),b.Db(3),b.rc("ngModel",e.templateVariable.description)}},directives:[X.a,L.c,W.b,k.d,k.C,k.u,k.x,v.o,v.q,L.a,x.a,U.a,F.a],pipes:[I.a],styles:[""]}),t})();function _t(t,e){if(1&t&&(b.Xb(0,"tr"),b.Xb(1,"td"),b.Xb(2,"strong",4),b.Xc(3),b.Wb(),b.Wb(),b.Xb(4,"td"),b.Xc(5),b.Wb(),b.Xb(6,"td"),b.Xc(7),b.Wb(),b.Wb()),2&t){const t=e.$implicit;b.Db(3),b.Zc(" ",t.title," "),b.Db(2),b.Zc(" ",t.value," "),b.Db(2),b.Zc(" ",t.description," ")}}let Dt=(()=>{class t extends l.a{constructor(t,e,n,i,a){super(),this._templateVariablesService=t,this._notificationsService=e,this._router=n,this._modalService=i,this._activatedRoute=a,this.loading=!1,this._routeHelperService.isPrimaryActionTriggered().pipe(Object(d.a)(t=>!!t),Object(u.a)(this.unsubscribed)).subscribe(()=>{this._router.navigate(["templates/variables/form"])})}ngOnInit(){this.getData()}getData(){this.loading=!0,this._templateVariablesService.fetchAll().subscribe(t=>{this.templateVaraibles=t,this.loading=!1})}edit(t){this._router.navigate([`templates/variables/form/${t}`])}delete(t){this._templateVariablesService.delete(t).subscribe(()=>{this._notificationsService.success("Merge Variables","Merge Variable was deleted successfully!"),this.getData()})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(K),b.Rb(g.b),b.Rb(o.g),b.Rb(mt.f),b.Rb(o.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-template-variable-list"]],features:[b.Ab],decls:16,vars:13,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzLoading"],["templatesTable",""],[4,"ngFor","ngForOf"],["nz-typography",""]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"nz-table",1,2),b.Xb(3,"thead"),b.Xb(4,"tr"),b.Xb(5,"th"),b.Xc(6),b.jc(7,"translate"),b.Wb(),b.Xb(8,"th"),b.Xc(9),b.jc(10,"translate"),b.Wb(),b.Xb(11,"th"),b.Xc(12),b.jc(13,"translate"),b.Wb(),b.Wb(),b.Wb(),b.Xb(14,"tbody"),b.Vc(15,_t,8,3,"tr",3),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.Ic(2);b.Db(1),b.rc("nzData",e.templateVaraibles)("nzShowPagination",!0)("nzLoading",e.loading),b.Db(5),b.Yc(b.kc(7,7,"TABLEHEADER.NAME")),b.Db(3),b.Yc(b.kc(10,9,"TABLEHEADER.VALUE")),b.Db(3),b.Yc(b.kc(13,11,"TABLEHEADER.DESCRIPTION")),b.Db(3),b.rc("ngForOf",t.data)}},directives:[m.f,m.n,m.o,m.e,m.l,m.i,v.p,S.a],pipes:[I.a],styles:[""]}),t})();var zt=n("S5rh"),Ot=n("oyxB"),Nt=n("yffR");const Pt=["myEditor"];function Rt(t,e){if(1&t&&b.Sb(0,"nz-option",21),2&t){const t=e.$implicit,n=b.ic();b.rc("nzLabel",n.getType(null==t?null:t.letterType))("nzValue",t)}}function Xt(t,e){1&t&&(b.Xb(0,"div",22),b.Xc(1),b.jc(2,"translate"),b.Wb()),2&t&&(b.Db(1),b.Zc(" ",b.kc(2,1,"COMMON.REQUIRED")," "))}function Lt(t,e){if(1&t&&b.Sb(0,"nz-option",21),2&t){const t=e.$implicit;b.rc("nzLabel",null==t?null:t.name)("nzValue",null==t?null:t.code)}}function wt(t,e){1&t&&(b.Xb(0,"div",22),b.Xc(1),b.jc(2,"translate"),b.Wb()),2&t&&(b.Db(1),b.Zc(" ",b.kc(2,1,"COMMON.REQUIRED")," "))}function Wt(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"div",11),b.Xb(2,"nz-tag",23),b.ec("click",function(){b.Lc(t);const n=e.$implicit;return b.ic().updateLanguageFromTab(n)}),b.Xc(3),b.Wb(),b.Wb(),b.Ub()}if(2&t){const t=e.$implicit,n=b.ic();b.Db(3),b.Zc(" ",n.languageValue(t)," ")}}function kt(t,e){1&t&&(b.Xb(0,"div",22),b.Xc(1),b.jc(2,"translate"),b.Wb()),2&t&&(b.Db(1),b.Zc(" ",b.kc(2,1,"COMMON.REQUIRED")," "))}const Vt=function(){return[16,16]};let xt=(()=>{class t extends l.a{constructor(t,e,n,i,a,o,s){super(),this._router=t,this._letterTemplatesService=e,this._defaultLetterTemplatesService=n,this._notificationsService=i,this._templateHtmlHelperService=a,this._templateVariablesService=o,this._dataSharingService=s,this.loading=!1,this.disableLoadDefault=!0,this.variableLoading=!0,this.selectedLanguage=null,this.languages=Y,this.tenantConfig=null,this.logoURL=null,this.primaryColor=null,this.topOffset=0,this.validated=!1,this.letterTemplate=this.getEmptyTemplate(),this.config=J,this._dataSharingService.tenantSettings.subscribe(t=>{t&&(this.tenantConfig=t,t.logoURL&&(this.logoURL=t.logoURL),this.primaryColor=t.directMailConfig.primaryColor||t.portalConfig.colorConfiguration.primaryColor)})}ngOnInit(){this.getDefaultLetterTemplates(),this.getMergeVariables()}getEmptyTemplate(){var t;return{html:"",templateType:(null===(t=this.letterType)||void 0===t?void 0:t.id)||"",language:this.selectedLanguage||""}}getDefaultLetterTemplates(){this.loading=!0,this._defaultLetterTemplatesService.fetchDefaultLetterTemplates().subscribe(t=>{this.defaultTemplates=t,this.loading=!1,this.angularEditor.blurEvent.subscribe(t=>{const e=document.getSelection();this.range=e.getRangeAt(0)})})}getType(t){return t.replace(/template/gi,"")}getMergeVariables(){this.variableLoading=!0,this._templateVariablesService.fetchAll().subscribe(t=>{this.variables=t,this.variableLoading=!1})}getLetterTemplate(){var t;this.loading=!0,this._letterTemplatesService.fetchLetterTemplateByTypeAndLanguage(null===(t=this.letterType)||void 0===t?void 0:t.id,this.selectedLanguage).subscribe(t=>{this.letterTemplate=t||this.getEmptyTemplate(),this.letterTemplate.html=this.substituteDynamicValues(this.letterTemplate.html),this.loading=!1})}substituteDynamicValues(t){return this._templateHtmlHelperService.beautifyDynamicValues(t,this.logoURL,this.primaryColor)}revertToOriginal(t){return this._templateHtmlHelperService.revertBackToRaw(t,this.logoURL,this.primaryColor)}typeUpdated(){var t;this.letterTemplate.templateType=null===(t=this.letterType)||void 0===t?void 0:t.id,this.selectedLanguage=null,this.disableLoadDefault=!0,this._letterTemplatesService.fetchLetterTemplateByType(this.letterTemplate.templateType).subscribe(t=>{this.letterTemplateByType=t})}languageUpdated(){var t;this.disableLoadDefault=-1==(null===(t=this.letterType)||void 0===t?void 0:t.languageTemplates.findIndex(t=>t.language===this.selectedLanguage)),this.getLetterTemplate()}languageValue(t){var e;return(null===(e=Y.find(e=>e.code===t.language))||void 0===e?void 0:e.name)||"N/A"}loadDefault(){var t,e;const n=(null===(e=null===(t=this.letterType)||void 0===t?void 0:t.languageTemplates.find(t=>t.language===this.selectedLanguage))||void 0===e?void 0:e.html)||"";this.letterTemplate.html=this.substituteDynamicValues(n)}updateLanguageFromTab(t){this.selectedLanguage=t.language,this.languageUpdated()}insertVariable(t){console.log(`insert merge variable value {{${t}}}`),document.getSelection().removeAllRanges(),document.getSelection().addRange(this.range);const e=document.createTextNode(`{{${t}}}`);this.range.insertNode(e),this.angularEditor.toggleEditorMode(!0),this.angularEditor.toggleEditorMode(!1)}save(){if(!this.valid())return;this.letterTemplate.templateType=this.letterType.id,this.letterTemplate.language=this.selectedLanguage,this.letterTemplate.html=this._templateHtmlHelperService.formatHtml(this.revertToOriginal(this.letterTemplate.html));const t=this._letterTemplatesService.create(this.letterTemplate),e=this._letterTemplatesService.update(this.letterTemplate);Object(N.a)(()=>!!this.letterTemplate.id,e,t).subscribe(t=>{this._notificationsService.success("Letter Template","Template saved successfully!"),this.letterTemplate=t,this.letterTemplate.html=this.substituteDynamicValues(this.letterTemplate.html),console.log("Letter Template saved successfully!",this.letterTemplate)})}valid(){var t,e,n;if(this.validated=!0,0==(null===(t=this.selectedLanguage)||void 0===t?void 0:t.length))return!1;if(null==this.letterType)return!1;if(0==(null===(n=null===(e=this.letterTemplate)||void 0===e?void 0:e.html)||void 0===n?void 0:n.length))return!1;const i=this.variables.map(t=>t.value),a=this._templateHtmlHelperService.validateMergeVariables(this.letterTemplate.html,i);return!((null==a?void 0:a.length)>0&&(this._notificationsService.error("Invalid merge variables",a.join(", ")),1))}preview(){const t=this._templateHtmlHelperService.formatHtml(this.letterTemplate.html),e=window.open();e.document.write(t),e.document.close()}onScroll(t){var e;this.topOffset=null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.scrollTop}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(o.g),b.Rb(Nt.a),b.Rb($.a),b.Rb(g.b),b.Rb(q.a),b.Rb(K),b.Rb(h.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-letter-templates"]],viewQuery:function(t,e){if(1&t&&b.ed(Pt,1),2&t){let t;b.Hc(t=b.fc())&&(e.angularEditor=t.first)}},features:[b.Cb([q.a]),b.Ab],decls:41,vars:20,consts:[[1,"container","scroll-container",3,"scroll"],["nz-row","",3,"nzGutter"],["nz-col","","nzFlex","0 0 9.2in"],["nz-row","","nzSpan","24"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select letter type","required","",3,"ngModel","ngModelChange"],["title","ngModel"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["class","error-text",4,"ngIf"],["nz-col","","nzFlex","1"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a language","required","",3,"ngModel","nzDisabled","ngModelChange"],["language","ngModel"],["nz-col",""],["nz-button","","nzType","primary",3,"disabled","click"],["nz-col","",2,"padding-right","8px"],[4,"ngFor","ngForOf"],["id","mydiv","placeholder","Enter template","required","",3,"ngModel","config","ngClass","ngModelChange"],["myEditor","","description","ngModel"],["nz-row","","nzAlign","middle","nzJustify","center",3,"nzGutter"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzFlex","1 0 200px"],[3,"variables","loading","topOffset","insert"],[3,"nzLabel","nzValue"],[1,"error-text"],[3,"click"]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.ec("scroll",function(t){return e.onScroll(t)}),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xb(3,"nz-card"),b.Xb(4,"div",3),b.Xb(5,"nz-select",4,5),b.ec("ngModelChange",function(t){return e.letterType=t})("ngModelChange",function(){return e.typeUpdated()}),b.Vc(7,Rt,1,2,"nz-option",6),b.Wb(),b.Vc(8,Xt,3,3,"div",7),b.Wb(),b.Sb(9,"br"),b.Xb(10,"div",1),b.Xb(11,"div",8),b.Xb(12,"nz-select",9,10),b.ec("ngModelChange",function(t){return e.selectedLanguage=t})("ngModelChange",function(){return e.languageUpdated()}),b.Vc(14,Lt,1,2,"nz-option",6),b.Wb(),b.Vc(15,wt,3,3,"div",7),b.Wb(),b.Xb(16,"div",11),b.Xb(17,"button",12),b.ec("click",function(){return e.loadDefault()}),b.Xc(18,"Load Default Template"),b.Wb(),b.Wb(),b.Wb(),b.Sb(19,"br"),b.Xb(20,"div",3),b.Xb(21,"div",13),b.Xb(22,"strong"),b.Xc(23,"Saved Templates: "),b.Wb(),b.Wb(),b.Vc(24,Wt,4,1,"ng-container",14),b.Wb(),b.Sb(25,"br"),b.Xb(26,"angular-editor",15,16),b.ec("ngModelChange",function(t){return e.letterTemplate.html=t}),b.Wb(),b.Vc(29,kt,3,3,"div",7),b.Sb(30,"br"),b.Sb(31,"br"),b.Xb(32,"div",17),b.Xb(33,"div",11),b.Xb(34,"button",18),b.ec("click",function(){return e.preview()}),b.Xc(35,"Preview"),b.Wb(),b.Wb(),b.Xb(36,"div",11),b.Xb(37,"button",18),b.ec("click",function(){return e.save()}),b.Xc(38,"Save"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(39,"div",19),b.Xb(40,"app-merge-variable-card-component",20),b.ec("insert",function(t){return e.insertVariable(t)}),b.Wb(),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.Ic(6),n=b.Ic(13),i=b.Ic(28);b.Db(1),b.rc("nzGutter",b.xc(19,Vt)),b.Db(4),b.rc("ngModel",e.letterType),b.Db(2),b.rc("ngForOf",e.defaultTemplates),b.Db(1),b.rc("ngIf",t.invalid&&(t.dirty||t.touched||e.validated)),b.Db(2),b.rc("nzGutter",16),b.Db(2),b.rc("ngModel",e.selectedLanguage)("nzDisabled",!e.letterType),b.Db(2),b.rc("ngForOf",e.languages),b.Db(1),b.rc("ngIf",n.invalid&&(n.dirty||n.touched||e.validated)),b.Db(2),b.rc("disabled",e.disableLoadDefault),b.Db(7),b.rc("ngForOf",e.letterTemplateByType),b.Db(2),b.rc("ngModel",e.letterTemplate.html)("config",e.config)("ngClass",e.validated?"submitted":null),b.Db(3),b.rc("ngIf",i.invalid&&(i.dirty||i.touched||e.validated)),b.Db(3),b.rc("nzGutter",16),b.Db(8),b.rc("variables",e.variables)("loading",e.variableLoading)("topOffset",e.topOffset)}},directives:[L.c,L.a,X.a,V.d,k.C,k.u,k.x,v.p,v.q,x.a,U.a,F.a,i.a,v.o,ot,V.a,E.a],pipes:[I.a],styles:["[_nghost-%COMP%]     .ant-select:not(.ant-select-customize-input) .ant-select-selector{border:1px solid #d9d9d9}.scroll-container[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 180px)!important;overflow-y:scroll!important}.variable-container[_ngcontent-%COMP%]{max-width:400px}button[_ngcontent-%COMP%]{width:100%}.error-text[_ngcontent-%COMP%]{width:100%;color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.ng-touched{border-color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.submitted{border-color:#c81c1c}[_nghost-%COMP%]     angular-editor.ng-invalid.ng-touched>div>div:nth-child(2)>div{border-color:#c81c1c!important}[_nghost-%COMP%]     angular-editor.ng-invalid.submitted>div>div:nth-child(2)>div{border-color:#c81c1c!important}  body,   html{width:100%!important;height:100%!important;font-family:Nunito!important}[_nghost-%COMP%]     .angular-editor-textarea{resize:none!important;padding:0!important}.card-container[_ngcontent-%COMP%]{max-width:9in;min-width:9in}"]}),t})();var Ut=n("bE2y"),Ft=n("wjar");function Ht(t,e){if(1&t&&(b.Xb(0,"td",19),b.Xc(1),b.Wb()),2&t){const t=b.ic().$implicit;b.tc("routerLink","/patient/view/",null==t?null:t.userId,""),b.Db(1),b.Zc(" ",t.userId," ")}}function Bt(t,e){if(1&t&&(b.Xb(0,"td",19),b.Xc(1),b.Wb()),2&t){const t=b.ic().$implicit;b.tc("routerLink","/leads/details/",null==t?null:t.leadId,""),b.Db(1),b.Zc(" ",t.leadId," ")}}function jt(t,e){1&t&&(b.Xb(0,"nz-tag",20),b.Xc(1,"Yes"),b.Wb())}function Gt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"button",21),b.ec("click",function(){b.Lc(t);const e=b.ic().$implicit;return b.ic().onExpandChange(e.id,!0)}),b.Xc(1," Show More Info"),b.Wb()}}function Yt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"button",22),b.ec("click",function(){b.Lc(t);const e=b.ic().$implicit;return b.ic().onExpandChange(e.id,!1)}),b.Xc(1," Hide More Info "),b.Wb()}}function $t(t,e){if(1&t&&(b.Xb(0,"tr"),b.Xb(1,"td"),b.Xc(2),b.Wb(),b.Xb(3,"td"),b.Xc(4),b.Wb(),b.Xb(5,"td"),b.Xc(6),b.Wb(),b.Xb(7,"td"),b.Xc(8),b.jc(9,"date"),b.Wb(),b.Wb()),2&t){const t=e.$implicit;b.Db(2),b.Yc(t.id),b.Db(2),b.Yc(t.description),b.Db(2),b.Yc(t.expected_delivery_date),b.Db(2),b.Yc(b.lc(9,4,t.send_date,"medium"))}}const qt=function(t){return[t]};function Zt(t,e){if(1&t&&(b.Vb(0),b.Xb(1,"nz-table",23,24),b.Xb(3,"thead"),b.Xb(4,"tr"),b.Xb(5,"th"),b.Xc(6,"Id"),b.Wb(),b.Xb(7,"th"),b.Xc(8,"Description"),b.Wb(),b.Xb(9,"th"),b.Xc(10,"Expected Delivery Date"),b.Wb(),b.Xb(11,"th"),b.Xc(12,"Sent Date"),b.Wb(),b.Wb(),b.Wb(),b.Xb(13,"tbody"),b.Vc(14,$t,10,7,"tr",8),b.Wb(),b.Wb(),b.Ub()),2&t){const t=b.Ic(2),e=b.ic().$implicit,n=b.ic();b.Db(1),b.rc("nzData",b.yc(3,qt,n.formattedMessage.get(e.id)))("nzShowPagination",!1),b.Db(13),b.rc("ngForOf",t.data)}}function Qt(t,e){if(1&t){const t=b.Yb();b.Xb(0,"div",2),b.Xb(1,"button",28),b.ec("click",function(){b.Lc(t);const e=b.ic(2).$implicit;return b.ic().retryLetter(e.id)}),b.Xc(2," Retry "),b.Wb(),b.Wb()}2&t&&(b.Db(1),b.rc("nzSize","middle"))}function Kt(t,e){1&t&&(b.Xb(0,"div",2),b.Xb(1,"nz-tag",29),b.Xc(2,"Added back to queue"),b.Wb(),b.Wb())}function Jt(t,e){if(1&t&&(b.Xb(0,"div",25),b.Xb(1,"div",26),b.Xc(2),b.Wb(),b.Vc(3,Qt,3,1,"div",27),b.Vc(4,Kt,3,0,"div",27),b.Wb()),2&t){const t=b.ic().$implicit;b.Db(2),b.Yc(t.responseBody),b.Db(1),b.rc("ngIf",!t.stateRetry),b.Db(1),b.rc("ngIf",t.stateRetry)}}function te(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"tr"),b.Vc(2,Ht,2,2,"td",9),b.Vc(3,Bt,2,2,"td",9),b.Xb(4,"td",10),b.ec("click",function(){b.Lc(t);const n=e.$implicit;return b.ic().preview(n.letterTemplateId)}),b.Xc(5),b.Wb(),b.Xb(6,"td"),b.Xc(7),b.Wb(),b.Xb(8,"td"),b.Vc(9,jt,2,0,"nz-tag",11),b.Wb(),b.Xb(10,"td"),b.Xb(11,"span",12),b.Xc(12),b.Wb(),b.Wb(),b.Xb(13,"td"),b.Xc(14),b.Wb(),b.Xb(15,"td"),b.Xc(16),b.jc(17,"date"),b.Wb(),b.Xb(18,"td",13),b.ec("nzExpandChange",function(n){b.Lc(t);const i=e.$implicit;return b.ic().onExpandChange(i.id,n)}),b.Vc(19,Gt,2,0,"button",14),b.Vc(20,Yt,2,0,"button",15),b.Wb(),b.Wb(),b.Xb(21,"tr",16),b.Vc(22,Zt,15,5,"ng-container",17),b.Vc(23,Jt,5,3,"ng-template",null,18,b.Wc),b.Wb(),b.Ub()}if(2&t){const t=e.$implicit,n=b.Ic(24),i=b.ic();b.Db(2),b.rc("ngIf",t.userId),b.Db(1),b.rc("ngIf",t.leadId),b.Db(2),b.Zc(" ",t.letterTemplateId," "),b.Db(2),b.Zc(" ",t.description||"N/A"," "),b.Db(2),b.rc("ngIf",t.stateRetry),b.Db(2),b.rc("nzType",i.getTypeFromStatusCode(t.statusCode)),b.Db(1),b.Zc(" ",t.statusCode," "),b.Db(2),b.Zc(" ",i.formatErrorType(t.errorCode)," "),b.Db(2),b.Zc(" ",b.lc(17,16,t.createdOn,"medium")," "),b.Db(2),b.rc("nzExpand",i.expandSet.has(t.id))("nzShowExpand",!1),b.Db(1),b.rc("ngIf",!i.expandSet.has(t.id)),b.Db(1),b.rc("ngIf",i.expandSet.has(t.id)),b.Db(1),b.rc("nzExpand",i.expandSet.has(t.id)),b.Db(1),b.rc("ngIf","200"==t.statusCode)("ngIfElse",n)}}let ee=(()=>{class t{constructor(t,e,n,i){this._letterTemplatesService=t,this._notificationService=e,this._templateHtmlHelperService=n,this._dataSharingService=i,this.searchKey=null,this.loading=!1,this.data=null,this.pageIndex=1,this.pageSize=10,this.onlyError=!1,this.expandSet=new Set,this.formattedMessage=new Map}ngOnInit(){this.getLetters(),this._dataSharingService.tenantSettings.subscribe(t=>{t&&(t.logoURL&&(this.logoURL=t.logoURL),this.primaryColor=t.directMailConfig.primaryColor||t.portalConfig.colorConfiguration.primaryColor)})}formatErrorType(t){return null==t?"-":t.split("_").map(t=>t[0].toUpperCase()+t.substring(1).toLowerCase()).join(" ")}onExpandChange(t,e){e?this.expandSet.add(t):this.expandSet.delete(t)}getLetters(t=1,e=10){this.loading=!0,this._letterTemplatesService.fetchSentLetter(this.searchKey,t-1,e,this.onlyError).subscribe(t=>{this.data=t,this.updateFormattedMessage(),this.loading=!1})}onQueryParamsChange(t){console.log("onQueryParamsChange");const{pageIndex:e,pageSize:n}=t;this.getLetters(e,n)}getTypeFromStatusCode(t){try{const e=parseInt(t,10);return e>=200&&e<300?"success":"danger"}catch(e){return null}}updateFormattedMessage(){this.data.content.forEach(t=>{if("200"===t.statusCode){const{id:e,responseBody:n}=t;this.formattedMessage.set(e,JSON.parse(n))}})}openLobDashboard(t){window.open("https://dashboard.lob.com/letters/"+t)}retryLetter(t){console.log("Retrying : "+t),this.loading=!0,this._letterTemplatesService.retryLetterQueue(t).subscribe(t=>{this._notificationService.success("Letter","Letter is added back to the queue"),this.getLetters()},t=>{console.log("Error: ",t),this.loading=!1,this._notificationService.error("Letter","Unable to retry - "+t.error)})}preview(t){console.log("Previewing : "+t),this._letterTemplatesService.fetchLetterTemplateById(t).subscribe(t=>{const e=this._templateHtmlHelperService.beautifyDynamicValues(this._templateHtmlHelperService.formatHtml(t.html),this.logoURL,this.primaryColor),n=window.open();n.document.write(e),n.document.close()})}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(Nt.a),b.Rb(g.b),b.Rb(q.a),b.Rb(h.a))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-sent-mail-listing"]],decls:31,vars:11,consts:[[1,"container"],["nz-row","","nzSpan","24","nzGutter","16","nzAlign","middle"],["nz-col",""],[3,"ngModel","ngModelChange"],["nz-radio-button","",3,"nzValue"],["nzShowSizeChanger","",3,"nzData","nzShowPagination","nzLoading","nzFrontPagination","nzTotal","nzPageIndex","nzPageSize","nzQueryParams"],["letterTable",""],["nzWidth","100px"],[4,"ngFor","ngForOf"],["actionable","",3,"routerLink",4,"ngIf"],["actionable","",3,"click"],["nzColor","success",4,"ngIf"],["nz-typography","",3,"nzType"],[3,"nzExpand","nzShowExpand","nzExpandChange"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],["nz-button","","nzType","default",3,"click",4,"ngIf"],[3,"nzExpand"],[4,"ngIf","ngIfElse"],["errorMessage",""],["actionable","",3,"routerLink"],["nzColor","success"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","default",3,"click"],["nzSize","middle",3,"nzData","nzShowPagination"],["innerTable",""],["nz-row",""],["nzFlex","1","nz-col",""],["nz-col","",4,"ngIf"],["nz-button","","nzType","primary",2,"margin-right","4px",3,"nzSize","click"],["nzColor","processing"]],template:function(t,e){if(1&t&&(b.Xb(0,"div",0),b.Xb(1,"div",1),b.Xb(2,"div",2),b.Xc(3,"Display Filter"),b.Wb(),b.Xb(4,"div",2),b.Xb(5,"nz-radio-group",3),b.ec("ngModelChange",function(t){return e.onlyError=t})("ngModelChange",function(){return e.getLetters()}),b.Xb(6,"label",4),b.Xc(7,"Show All"),b.Wb(),b.Xb(8,"label",4),b.Xc(9,"Show Only Failed"),b.Wb(),b.Wb(),b.Wb(),b.Wb(),b.Xb(10,"nz-table",5,6),b.ec("nzQueryParams",function(t){return e.onQueryParamsChange(t)}),b.Xb(12,"thead"),b.Xb(13,"tr"),b.Xb(14,"th"),b.Xc(15,"User Id"),b.Wb(),b.Xb(16,"th"),b.Xc(17,"Template Id"),b.Wb(),b.Xb(18,"th"),b.Xc(19,"Description"),b.Wb(),b.Xb(20,"th"),b.Xc(21,"Retry Letter"),b.Wb(),b.Xb(22,"th"),b.Xc(23,"Status Code"),b.Wb(),b.Xb(24,"th"),b.Xc(25,"Error Type"),b.Wb(),b.Xb(26,"th"),b.Xc(27,"Created On"),b.Wb(),b.Sb(28,"th",7),b.Wb(),b.Wb(),b.Xb(29,"tbody"),b.Vc(30,te,25,19,"ng-container",8),b.Wb(),b.Wb(),b.Wb()),2&t){const t=b.Ic(11);b.Db(5),b.rc("ngModel",e.onlyError),b.Db(1),b.rc("nzValue",!1),b.Db(2),b.rc("nzValue",!0),b.Db(2),b.rc("nzData",null==e.data?null:e.data.content)("nzShowPagination",!0)("nzLoading",e.loading)("nzFrontPagination",!1)("nzTotal",null==e.data?null:e.data.totalElements)("nzPageIndex",e.pageIndex)("nzPageSize",e.pageSize),b.Db(20),b.rc("ngForOf",t.data)}},directives:[L.c,L.a,Ut.c,k.u,k.x,Ut.b,Ut.a,m.f,m.n,m.o,m.e,m.l,m.i,v.p,v.q,Ft.a,S.a,m.j,m.p,m.g,o.h,E.a,x.a,U.a,F.a],pipes:[v.e],styles:[".sub-table-header[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:4px;font-weight:700}"]}),t})();const ne=["defaultPage"],ie=function(){return["."]};function ae(t,e){1&t&&(b.Xb(0,"a",6),b.Xc(1," Letter Templates "),b.Wb()),2&t&&b.rc("routerLink",b.xc(1,ie))}const oe=function(){return{tab:"default-templates"}};function se(t,e){1&t&&(b.Xb(0,"a",9),b.Xc(1," Default Templates "),b.Wb()),2&t&&b.rc("routerLink",b.xc(2,ie))("queryParams",b.xc(3,oe))}function re(t,e){1&t&&(b.Xb(0,"nz-tab"),b.Vc(1,se,2,4,"a",7),b.Sb(2,"app-default-letter-templates",null,8),b.Wb())}const ce=function(){return{tab:"merge-variables"}};function le(t,e){1&t&&(b.Xb(0,"a",9),b.Xc(1," Merge Variables "),b.Wb()),2&t&&b.rc("routerLink",b.xc(2,ie))("queryParams",b.xc(3,ce))}function de(t,e){1&t&&(b.Xb(0,"nz-tab"),b.Vc(1,le,2,4,"a",7),b.Sb(2,"app-template-variable-list"),b.Wb())}const ue=function(){return{tab:"letter-dashboards"}};function pe(t,e){1&t&&(b.Xb(0,"a",9),b.Xc(1," Letter Dashboard "),b.Wb()),2&t&&b.rc("routerLink",b.xc(2,ie))("queryParams",b.xc(3,ue))}function he(t,e){1&t&&(b.Xb(0,"nz-tab"),b.Vc(1,pe,2,4,"a",7),b.Sb(2,"app-sent-mail-listing"),b.Wb())}function be(t,e){if(1&t){const t=b.Yb();b.Vb(0),b.Xb(1,"button",10),b.ec("click",function(){return b.Lc(t),b.ic(2).bulkUpload()}),b.Xc(2,"Bulk Upload"),b.Wb(),b.Ub()}}function ge(t,e){if(1&t&&b.Vc(0,be,3,0,"ng-container",4),2&t){const t=b.ic();b.rc("ngIf",1===t.selectedTabIndex)}}const me=[{path:"note-templates",component:z,data:a.NoteListing,canActivate:[s.a,r.a]},{path:"note-templates/form",component:G,data:a.NoteForm,canActivate:[s.a,r.a]},{path:"note-templates/form/:id",component:G,data:a.NoteForm,canActivate:[s.a,r.a]},{path:"letter-templates",component:(()=>{class t extends l.a{constructor(t){super(),this._router=t,this.isTenantAdmin=!1,this.isTenantAdmin=localStorage.getItem("loggedInUserRole")==p.a.TENANT_ADMIN}ngOnInit(){}newTemplate(){this._router.navigate(["templates/letter-templates/admin/form"])}newVariable(){this._router.navigate(["templates/variables/form"])}bulkUpload(){this.defaultPage.bulkUpload()}}return t.\u0275fac=function(e){return new(e||t)(b.Rb(o.g))},t.\u0275cmp=b.Lb({type:t,selectors:[["app-template-page"]],viewQuery:function(t,e){if(1&t&&b.ed(ne,1),2&t){let t;b.Hc(t=b.fc())&&(e.defaultPage=t.first)}},features:[b.Ab],decls:11,vars:7,consts:[["title","dashboard","defaultTitle","Letter Templates",3,"isSearchEnabled","isActionEnabled"],[1,"container"],["nzLinkRouter","",3,"nzTabBarExtraContent","nzSelectedIndex","nzSelectedIndexChange"],["nz-tab-link","",3,"routerLink",4,"nzTabLink"],[4,"ngIf"],["extraActions",""],["nz-tab-link","",3,"routerLink"],["nz-tab-link","","queryParamsHandling","merge",3,"routerLink","queryParams",4,"nzTabLink"],["defaultPage",""],["nz-tab-link","","queryParamsHandling","merge",3,"routerLink","queryParams"],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){if(1&t&&(b.Sb(0,"app-header",0),b.Xb(1,"div",1),b.Xb(2,"nz-tabset",2),b.ec("nzSelectedIndexChange",function(t){return e.selectedTabIndex=t}),b.Xb(3,"nz-tab"),b.Vc(4,ae,2,2,"a",3),b.Sb(5,"app-letter-templates"),b.Wb(),b.Vc(6,re,4,0,"nz-tab",4),b.Vc(7,de,3,0,"nz-tab",4),b.Vc(8,he,3,0,"nz-tab",4),b.Wb(),b.Vc(9,ge,1,1,"ng-template",null,5,b.Wc),b.Wb()),2&t){const t=b.Ic(10);b.rc("isSearchEnabled",!1)("isActionEnabled",!1),b.Db(2),b.rc("nzTabBarExtraContent",t)("nzSelectedIndex",e.selectedTabIndex),b.Db(4),b.rc("ngIf",e.isTenantAdmin),b.Db(1),b.rc("ngIf",e.isTenantAdmin),b.Db(1),b.rc("ngIf",e.isTenantAdmin)}},directives:[zt.a,Ot.d,Ot.a,Ot.c,xt,v.q,Ot.b,o.j,It,Dt,ee,x.a,U.a,F.a],styles:["[_nghost-%COMP%]     .ant-tabs-extra-content{display:flex}[_nghost-%COMP%]     .ant-tabs-extra-content button:nth-child(2){margin-left:15px}a[_ngcontent-%COMP%]{color:unset}"]}),t})(),canActivate:[s.a,r.a]},{path:"letter-templates/admin",component:It,data:a.DefaultLetterListing,canActivate:[s.a,r.a]},{path:"letter-templates/admin/form",component:bt,data:a.LetterForm,canActivate:[s.a,r.a]},{path:"letter-templates/admin/form/:id",component:bt,data:a.LetterForm,canActivate:[s.a,r.a]},{path:"variables",component:Dt,data:a.VariableList,canActivate:[s.a,r.a]},{path:"variables/form",component:At,data:a.VariableForm,canActivate:[s.a,r.a]},{path:"variables/form/:id",component:At,data:a.VariableForm,canActivate:[s.a,r.a]}];let fe=(()=>{class t{}return t.\u0275mod=b.Pb({type:t}),t.\u0275inj=b.Ob({factory:function(e){return new(e||t)},imports:[[o.k.forChild(me)],o.k]}),t})();var ve=n("SHZf"),Se=n("UFn0"),Te=n("WoUL"),Ce=n("KZX/");let Ee=(()=>{class t{constructor(t){this.translationService=t,t.setLanguage()}}return t.\u0275mod=b.Pb({type:t}),t.\u0275inj=b.Ob({factory:function(e){return new(e||t)(b.bc(Te.a))},imports:[[v.c,Se.a,k.o,k.B,o.k,Ce.a,fe,i.b,ve.a.forRoot()]]}),t})()},Z93s:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{constructor(){this.content="",this.type="USER",this.caretakerIds=new Array,this.noteChangeHistory=new Array,this.reason=""}}},ZFQP:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{constructor(){this.caretakerAlert=!1,this.patientAlert=!1,this.guardianAlert=!1}}},ZKr6:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("bnsq"),a=n("fXoL");let o=(()=>{class t{constructor(t,e,n){this._viewContainerRef=t,this._templateRef=e,this._permissionsService=n}set isFeaturePermitted(t){this.permissions=t,this.checkIfPermitted()}checkIfPermitted(){var t;this.disableFeature(),"TENANT_ADMIN"!==localStorage.getItem("loggedInUserAccountType")&&(null===(t=this.permissions)||void 0===t?void 0:t.length)?this.userHasPermissions()?this.enableFeature():this.disableFeature():this.enableFeature()}userHasPermissions(){const t=this._permissionsService.getPermissionsForUser();let e=!0;return!!(null==t?void 0:t.length)&&(this.permissions.forEach(n=>{-1===t.findIndex(t=>t===n)&&(e=!1)}),e)}enableFeature(){this._viewContainerRef.createEmbeddedView(this._templateRef)}disableFeature(){this._viewContainerRef.clear()}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(a.R),a.Rb(a.N),a.Rb(i.a))},t.\u0275dir=a.Mb({type:t,selectors:[["","isFeaturePermitted",""]],inputs:{isFeaturePermitted:"isFeaturePermitted"}}),t})()},ZO2R:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var i=n("fXoL"),a=n("5+WD"),o=n("B+r4"),s=n("C2AL"),r=n("FwiY"),c=n("ofXK"),l=n("OzZK"),d=n("RwU8");function u(t,e){1&t&&(i.Vb(0),i.Xc(1," All "),i.Ub())}let p=(()=>{class t{constructor(){this.totalPatientsSelected=0,this.userType="PATIENT",this.primaryButtonLoading=!1,this.secondaryButtonLoading=!1,this.onPrimaryActionButtonClicked=new i.n,this.onSecondaryActionButtonClicked=new i.n,this.userTypeString="patient",this.primaryButton=()=>this.onPrimaryActionButtonClicked.emit(),this.secondaryButton=()=>this.onSecondaryActionButtonClicked.emit()}ngOnInit(){switch(this.userType){case"PATIENT":this.userTypeString="patient(s)";break;case"LEAD":this.userTypeString="lead(s)";break;case"STAFF":this.userTypeString="staff(s)";break;case"APPOINTMENT":this.userTypeString="appointment(s)"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["selected-patient-action"]],inputs:{primaryActionText:"primaryActionText",secondaryActionText:"secondaryActionText",totalPatientsSelected:"totalPatientsSelected",totalCount:"totalCount",userType:"userType",primaryButtonLoading:"primaryButtonLoading",secondaryButtonLoading:"secondaryButtonLoading"},outputs:{onPrimaryActionButtonClicked:"onPrimaryActionButtonClicked",onSecondaryActionButtonClicked:"onSecondaryActionButtonClicked"},decls:16,vars:12,consts:[["cdkDrag","","cdkDragRootElement",".ant-modal-content","cdkDragHandle","",1,"background"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","12","nzXl","12"],[1,"number"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor"],[4,"ngIf"],[2,"padding-left","2px"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6","nzXl","6",2,"text-align","center"],["nz-button","","nzType","link",1,"floatable-component-btn","greyed",3,"nzLoading","click"],["nz-button","","nzType","primary",1,"floatable-component-btn",3,"nzSize","nzLoading","click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Xb(3,"p",3),i.Sb(4,"i",4),i.Xc(5,"\xa0 "),i.Vc(6,u,2,0,"ng-container",5),i.Xb(7,"strong",6),i.Xc(8),i.Wb(),i.Xc(9),i.Wb(),i.Wb(),i.Xb(10,"div",7),i.Xb(11,"a",8),i.ec("click",function(){return e.secondaryButton()}),i.Xc(12),i.Wb(),i.Wb(),i.Xb(13,"div",7),i.Xb(14,"button",9),i.ec("click",function(){return e.primaryButton()}),i.Xc(15),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Db(1),i.rc("nzGutter",4),i.Db(3),i.rc("nzType","check-circle")("nzTheme","twotone")("nzTwotoneColor","#52c41a"),i.Db(2),i.rc("ngIf",e.totalPatientsSelected==e.totalCount),i.Db(2),i.Yc(e.totalPatientsSelected),i.Db(1),i.Zc(" ",e.userTypeString," have been selected. "),i.Db(2),i.rc("nzLoading",e.secondaryButtonLoading),i.Db(1),i.Zc(" ",e.secondaryActionText," "),i.Db(2),i.rc("nzSize","medium")("nzLoading",e.primaryButtonLoading),i.Db(1),i.Zc(" ",e.primaryActionText," "))},directives:[a.a,a.b,o.c,o.a,s.a,r.a,c.q,l.a,d.a],styles:[".background[_ngcontent-%COMP%]{position:fixed;height:auto;min-height:60px;bottom:20px;color:var(--neutral-color);right:20px;border:1px solid transparent;border-radius:5px;width:35%;background:rgba(0,0,0,.8);padding:5px;z-index:999}.floatable-component-btn[_ngcontent-%COMP%]{text-align:center;margin-top:8px}p[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:0}p.number[_ngcontent-%COMP%]{padding-left:15px}.greyed[_ngcontent-%COMP%]{color:#8a8a8a}[_nghost-%COMP%]     .ant-btn-link{padding:0!important}[_nghost-%COMP%]     .ant-btn{padding:4.8px 10px}"]}),t})()},ZPfs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.VIDEO_CALL="VIDEO_CALL",t.CALL="CALL",t.INBOUND_CALL="INBOUND_CALL",t.OUTBOUND_CALL="OUTBOUND_CALL",t.HOME_VISIT="HOME_VISIT",t.CLINIC_VISIT="CLINIC_VISIT",t.OTHER="OTHER",t}({})},ZPpM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{constructor(){this._firstName="",this._lastName="",this.fullName=""}set firstName(t){this._firstName=t,this.setFullName()}set lastName(t){this._lastName=t,this.setFullName()}setFullName(){const t=navigator.language.split("-")[0];this.fullName="ja"==t?this._lastName+" "+this._firstName:this._firstName+" "+this._lastName}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-full-name"]],inputs:{firstName:"firstName",lastName:"lastName"},decls:1,vars:1,template:function(t,e){1&t&&i.Xc(0),2&t&&i.Zc("",e.fullName,"\n")},styles:[""]}),t})()},ZVns:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("SxV6"),a=n("AytR"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t){this._http=t}getTwilioCapabilityToken(e,n){return this._http.get(t.AUDIOCALL_ROOT_ENDPOINT+"twilio-capability-token/"+e+"?tenantId="+n).pipe(Object(i.a)())}getVoiceCallStatus(t,e){const n=localStorage.getItem("loggedInUser");return this._http.get(a.g.url+"/v2/voice-calls/status?ParentCallSid="+e+"&InitiatedByUserId="+n+"&ToUserId="+t+"&CallStatus=triggered")}createAudiocallSession(e){return this._http.post(t.AUDIOCALL_ROOT_ENDPOINT+"create",e).pipe(Object(i.a)())}updateAndFetchVoiceCallData(t,e,n,i,o){const s=localStorage.getItem("loggedInUser");return this._http.get(a.g.url+"/v2/voice-calls/callHistory?CallSid="+e+"&InitiatedByUserId="+s+"&ToUserId="+t+"&callDuration="+n+"&callStartTime="+i+"&callEndTime="+o)}getVoiceCallDetails(t){return this._http.get(a.g.url+"/v2/voice-calls/call/details/"+t)}startVoiceCallRecording(e){return this._http.get(t.AUDIOCALL_ROOT_ENDPOINT+"record/START/"+e)}stopVoiceCallRecording(e,n){return this._http.get(t.AUDIOCALL_ROOT_ENDPOINT+"record/STOP/"+e+"?recordingId="+n)}}return t.AUDIOCALL_ROOT_ENDPOINT=a.g.url+"/v2/voice-calls/",t.\u0275fac=function(e){return new(e||t)(o.bc(s.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},ZlwT:function(t,e,n){"use strict";n.r(e),n.d(e,"SupportModule",function(){return D});var i=n("ofXK"),a=n("fXoL");let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Lb({type:t,selectors:[["app-video-player"]],inputs:{videoURL:"videoURL"},decls:1,vars:1,consts:[["title","Help Video","webkitallowfullscreen","","mozallowfullscreen","","allowfullscreen","true",1,"video-player",3,"src"]],template:function(t,e){1&t&&a.Sb(0,"iframe",0),2&t&&a.rc("src",e.videoURL,a.Nc)},styles:[".video-player[_ngcontent-%COMP%]{height:60vh;width:100%}"]}),t})();var s=n("dEAy");let r=(()=>{class t{constructor(t){this._modalService=t}createVideoPlayerModal(t){return this._modalService.create({nzContent:o,nzComponentParams:{videoURL:t},nzWidth:"800px",nzBodyStyle:{padding:"0"},nzFooter:null,nzCloseIcon:null})}}return t.\u0275fac=function(e){return new(e||t)(a.bc(s.f))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var c=n("1G5W"),l=n("qQcL"),d=n("igu/"),u=n("tk/3"),p=n("AytR");let h=(()=>{class t{constructor(t){this._http=t,this.apiKey=p.g.youtubeAPIKey}fetchPDFBlobForHelpGuide(t){const e=new u.g({bypass:"yes"});return this._http.get(t,{headers:e,responseType:"blob"})}fetchVideos(t){const e=new u.g({bypass:"yes"});return this._http.get("https://www.googleapis.com/youtube/v3/playlistItems?key="+this.apiKey+"&playlistId="+t+"&part=snippet&type=video,id&maxResults=50",{headers:e})}}return t.\u0275fac=function(e){return new(e||t)(a.bc(u.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),b={kind:"youtube#playlistItemListResponse",etag:"5FkonseNPSLN_1dzLxyFyLCqfbg",items:[{kind:"youtube#playlistItem",etag:"yW15PMN10VOdF6snVpwo64fhQ5o",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC45ODRDNTg0QjA4NkFBNkQy",snippet:{publishedAt:"2020-04-06T07:28:33Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"Coronavirus Prevention Measures",description:"COVID-19 self-screening tool is for general information purposes only and it is not a substitute for professional medical advice and is not intended to be used for the diagnosis or treatment of any medical condition, including COVID-19. Never ignore professional medical advice in seeking treatment because of something you have read on our Website or self-screening tool.",thumbnails:{default:{url:"https://i.ytimg.com/vi/AQVVVrYsJUk/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/AQVVVrYsJUk/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/AQVVVrYsJUk/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/AQVVVrYsJUk/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/AQVVVrYsJUk/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:0,resourceId:{kind:"youtube#video",videoId:"AQVVVrYsJUk"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"kd0xtTIDUTwgsWx7TpVqFHhVxZA",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC5EMEEwRUY5M0RDRTU3NDJC",snippet:{publishedAt:"2019-12-10T07:08:54Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to record TMS Time?",description:"Shows how to record the time spent towards treatment management.",thumbnails:{default:{url:"https://i.ytimg.com/vi/EkPXPIG_H4Q/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/EkPXPIG_H4Q/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/EkPXPIG_H4Q/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/EkPXPIG_H4Q/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/EkPXPIG_H4Q/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:1,resourceId:{kind:"youtube#video",videoId:"EkPXPIG_H4Q"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"eodZV6PFXODLYMOoX9Qan8HEK4o",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC41NkI0NEY2RDEwNTU3Q0M2",snippet:{publishedAt:"2019-08-31T06:10:13Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to create educational content?",description:"How to create educational content?",thumbnails:{default:{url:"https://i.ytimg.com/vi/YM1oFYBxHqQ/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/YM1oFYBxHqQ/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/YM1oFYBxHqQ/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/YM1oFYBxHqQ/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/YM1oFYBxHqQ/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:2,resourceId:{kind:"youtube#video",videoId:"YM1oFYBxHqQ"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"hFm5M1wA1b8xiHBv-X7MsDi-O6o",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC40NzZCMERDMjVEN0RFRThB",snippet:{publishedAt:"2019-08-31T06:13:10Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view the care plan log assigned to a patient?",description:"How to view the care plan log assigned to a patient?",thumbnails:{default:{url:"https://i.ytimg.com/vi/_4j8sC0s3Ik/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/_4j8sC0s3Ik/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/_4j8sC0s3Ik/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/_4j8sC0s3Ik/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/_4j8sC0s3Ik/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:3,resourceId:{kind:"youtube#video",videoId:"_4j8sC0s3Ik"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"FUYsc4bHUWFqYVLOgTr3hXdYY-M",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC5GNjNDRDREMDQxOThCMDQ2",snippet:{publishedAt:"2019-08-31T06:12:55Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view alerts or notifications sent to a patient?",description:"How to view alerts or notifications sent to a patient?",thumbnails:{default:{url:"https://i.ytimg.com/vi/sKLmXPsE0oQ/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/sKLmXPsE0oQ/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/sKLmXPsE0oQ/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/sKLmXPsE0oQ/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/sKLmXPsE0oQ/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:4,resourceId:{kind:"youtube#video",videoId:"sKLmXPsE0oQ"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"whE8On8o5EYxKM21Ao1V8Wh-ZuE",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC45NDk1REZENzhEMzU5MDQz",snippet:{publishedAt:"2019-08-31T06:12:39Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view a saved episode details?",description:"How to view a saved episode details?",thumbnails:{default:{url:"https://i.ytimg.com/vi/BQUiAXhYBA8/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/BQUiAXhYBA8/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/BQUiAXhYBA8/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/BQUiAXhYBA8/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/BQUiAXhYBA8/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:5,resourceId:{kind:"youtube#video",videoId:"BQUiAXhYBA8"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"2SCfIhtFbYnkDpe559TcUXHUgqA",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC5DQUNERDQ2NkIzRUQxNTY1",snippet:{publishedAt:"2019-08-31T06:12:24Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to track important events of RPM Service Plan?",description:"How to track important events of RPM Service Plan?",thumbnails:{default:{url:"https://i.ytimg.com/vi/4cJniGbv4h8/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/4cJniGbv4h8/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/4cJniGbv4h8/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/4cJniGbv4h8/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/4cJniGbv4h8/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:6,resourceId:{kind:"youtube#video",videoId:"4cJniGbv4h8"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"nWfSze-honvd9nBQhIVkEs-6ne4",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC41MzJCQjBCNDIyRkJDN0VD",snippet:{publishedAt:"2019-08-31T06:12:08Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to see the overview of health score on the web portal?",description:"How to see the overview of health score on the web portal?",thumbnails:{default:{url:"https://i.ytimg.com/vi/CDdX1rRkejQ/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/CDdX1rRkejQ/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/CDdX1rRkejQ/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/CDdX1rRkejQ/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/CDdX1rRkejQ/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:7,resourceId:{kind:"youtube#video",videoId:"CDdX1rRkejQ"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"wurxKZu6Msf6xJKvp91bknyORRs",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC4xMkVGQjNCMUM1N0RFNEUx",snippet:{publishedAt:"2019-08-31T06:11:50Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to download RPM service report?",description:"How to download RPM service report?",thumbnails:{default:{url:"https://i.ytimg.com/vi/WyyOxzsw0x4/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/WyyOxzsw0x4/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/WyyOxzsw0x4/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/WyyOxzsw0x4/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/WyyOxzsw0x4/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:8,resourceId:{kind:"youtube#video",videoId:"WyyOxzsw0x4"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"RsN4guw00ZMCYdbeSa_cf2D_deU",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC4wOTA3OTZBNzVEMTUzOTMy",snippet:{publishedAt:"2019-08-31T06:11:22Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to create or register a new patient profile?",description:"How to create or register a new patient profile?",thumbnails:{default:{url:"https://i.ytimg.com/vi/LAFHLoTdSwc/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/LAFHLoTdSwc/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/LAFHLoTdSwc/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/LAFHLoTdSwc/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/LAFHLoTdSwc/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:9,resourceId:{kind:"youtube#video",videoId:"LAFHLoTdSwc"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"KVL8e-DdXgAVeHoZ9iT3E0BksLA",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC41MjE1MkI0OTQ2QzJGNzNG",snippet:{publishedAt:"2019-08-31T06:10:55Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to create or register a new clinician profile?",description:"How to create or register a new clinician profile?",thumbnails:{default:{url:"https://i.ytimg.com/vi/-P_GiNN3EQE/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/-P_GiNN3EQE/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/-P_GiNN3EQE/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/-P_GiNN3EQE/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/-P_GiNN3EQE/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:10,resourceId:{kind:"youtube#video",videoId:"-P_GiNN3EQE"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"LJK0Rc5v-jsG86k6D0IzKbosvQM",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC4wMTcyMDhGQUE4NTIzM0Y5",snippet:{publishedAt:"2019-08-31T06:10:34Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to create an RPM Service Episode?",description:"How to create an RPM Service Episode?",thumbnails:{default:{url:"https://i.ytimg.com/vi/p-RFD1wrplM/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/p-RFD1wrplM/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/p-RFD1wrplM/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/p-RFD1wrplM/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/p-RFD1wrplM/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:11,resourceId:{kind:"youtube#video",videoId:"p-RFD1wrplM"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"XDABE5EwE41mf_ruY3z1Q49nF2c",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC4yODlGNEE0NkRGMEEzMEQy",snippet:{publishedAt:"2019-08-31T06:10:13Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to assign a patient to a clinician?",description:"How to assign a patient to a clinician?",thumbnails:{default:{url:"https://i.ytimg.com/vi/xBdsUvBmVcc/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/xBdsUvBmVcc/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/xBdsUvBmVcc/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/xBdsUvBmVcc/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/xBdsUvBmVcc/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:12,resourceId:{kind:"youtube#video",videoId:"xBdsUvBmVcc"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]}],pageInfo:{totalResults:13,resultsPerPage:50}},g={kind:"youtube#playlistItemListResponse",etag:"J8YDkeiUzvJYwcbuFtINd3iBhHg",items:[{kind:"youtube#playlistItem",etag:"uORP_blTjUoJQA-k9ZdCCILKMcE",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC5DQUNERDQ2NkIzRUQxNTY1",snippet:{publishedAt:"2019-08-31T09:06:24Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view Timeline of tasks assigned to a patient?",description:"How to view Timeline of tasks assigned to a patient?",thumbnails:{default:{url:"https://i.ytimg.com/vi/8tU6ky8z1nA/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/8tU6ky8z1nA/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/8tU6ky8z1nA/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/8tU6ky8z1nA/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/8tU6ky8z1nA/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:0,resourceId:{kind:"youtube#video",videoId:"8tU6ky8z1nA"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"upOe5vkzEwyovbNlllCwHn8F9pk",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC41MzJCQjBCNDIyRkJDN0VD",snippet:{publishedAt:"2019-08-31T09:06:12Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view and add 'Medicines'?",description:"How to view and add 'Medicines'?",thumbnails:{default:{url:"https://i.ytimg.com/vi/oEofCCpkJXE/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/oEofCCpkJXE/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/oEofCCpkJXE/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/oEofCCpkJXE/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/oEofCCpkJXE/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:1,resourceId:{kind:"youtube#video",videoId:"oEofCCpkJXE"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"f2reTgTwArDbJo5ZF9x3_55EnrM",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC4xMkVGQjNCMUM1N0RFNEUx",snippet:{publishedAt:"2019-08-31T09:05:56Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view 'Care Plan' adherence?",description:"How to view 'Care Plan' adherence?",thumbnails:{default:{url:"https://i.ytimg.com/vi/XcNPk5OXpek/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/XcNPk5OXpek/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/XcNPk5OXpek/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/XcNPk5OXpek/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/XcNPk5OXpek/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:2,resourceId:{kind:"youtube#video",videoId:"XcNPk5OXpek"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"NfG6phMCPYHPXxi2ykg1UbrKfdc",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC4wOTA3OTZBNzVEMTUzOTMy",snippet:{publishedAt:"2019-08-31T09:05:42Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view 'Appointments' and mark them as complete?",description:"How to view 'Appointments' and mark them as complete?",thumbnails:{default:{url:"https://i.ytimg.com/vi/Jih_ZSB5IUE/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/Jih_ZSB5IUE/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/Jih_ZSB5IUE/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/Jih_ZSB5IUE/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/Jih_ZSB5IUE/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:3,resourceId:{kind:"youtube#video",videoId:"Jih_ZSB5IUE"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"P4qpP62kpIGCoBHAgpvSoeUb5go",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC41MjE1MkI0OTQ2QzJGNzNG",snippet:{publishedAt:"2019-08-31T09:05:26Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to track the vitals entered by patients?",description:"How to track the vitals entered by patients?",thumbnails:{default:{url:"https://i.ytimg.com/vi/XnObP6nsjVA/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/XnObP6nsjVA/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/XnObP6nsjVA/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/XnObP6nsjVA/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/XnObP6nsjVA/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:4,resourceId:{kind:"youtube#video",videoId:"XnObP6nsjVA"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"xpo3QgJrZrk7wvqTdW5E-_rvdgA",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC4wMTcyMDhGQUE4NTIzM0Y5",snippet:{publishedAt:"2019-08-31T09:05:13Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to advice patients on 'Vital Readings'?",description:"How to advice patients on 'Vital Readings'?",thumbnails:{default:{url:"https://i.ytimg.com/vi/U8sYTolQayE/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/U8sYTolQayE/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/U8sYTolQayE/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/U8sYTolQayE/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/U8sYTolQayE/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:5,resourceId:{kind:"youtube#video",videoId:"U8sYTolQayE"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"vfT0JsGdU5gU0CdBv3zIqwK_Ktc",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC4yODlGNEE0NkRGMEEzMEQy",snippet:{publishedAt:"2019-08-31T09:04:59Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to 'chat' with patients?",description:"How to 'chat' with patients?",thumbnails:{default:{url:"https://i.ytimg.com/vi/GM5tyjCKcuU/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/GM5tyjCKcuU/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/GM5tyjCKcuU/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/GM5tyjCKcuU/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/GM5tyjCKcuU/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:6,resourceId:{kind:"youtube#video",videoId:"GM5tyjCKcuU"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"X7nyqm4kr_N5_HdodywSw0f9S2k",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC41NkI0NEY2RDEwNTU3Q0M2",snippet:{publishedAt:"2019-08-31T09:04:46Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to calculate health score using clinician app?",description:"How to calculate health score using clinician app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/XP4jpykrS3E/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/XP4jpykrS3E/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/XP4jpykrS3E/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/XP4jpykrS3E/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/XP4jpykrS3E/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:7,resourceId:{kind:"youtube#video",videoId:"XP4jpykrS3E"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}}],pageInfo:{totalResults:8,resultsPerPage:50}},m={kind:"youtube#playlistItemListResponse",etag:"0ekIdoLZ3gleloph3T9zbe6xjJU",items:[{kind:"youtube#playlistItem",etag:"9VqiZBFIL0WkzYDtLw1QooqJGDo",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy45RTgxNDRBMzUwRjQ0MDhC",snippet:{publishedAt:"2021-02-08T15:51:14Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to request for an appointment?",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/AhSEXdk8RdU/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/AhSEXdk8RdU/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/AhSEXdk8RdU/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/AhSEXdk8RdU/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/AhSEXdk8RdU/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:0,resourceId:{kind:"youtube#video",videoId:"AhSEXdk8RdU"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"zUmh3f8lXIHq5-88rWXYl80-OWA",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4yMUQyQTQzMjRDNzMyQTMy",snippet:{publishedAt:"2021-02-08T15:49:46Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to track vital signs from the timeline?",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/VdWXnm3vcS0/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/VdWXnm3vcS0/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/VdWXnm3vcS0/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/VdWXnm3vcS0/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/VdWXnm3vcS0/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:1,resourceId:{kind:"youtube#video",videoId:"VdWXnm3vcS0"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"A5N2v4346jf5ycNh4n5mAVOHyh0",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy41QTY1Q0UxMTVCODczNThE",snippet:{publishedAt:"2021-02-08T15:48:01Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to measure BP using selfie vitals?",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/z3fpFzjzDIY/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/z3fpFzjzDIY/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/z3fpFzjzDIY/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/z3fpFzjzDIY/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/z3fpFzjzDIY/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:2,resourceId:{kind:"youtube#video",videoId:"z3fpFzjzDIY"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"rqmyYqbzqbO5xpi39qNydSewHG8",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy5EQUE1NTFDRjcwMDg0NEMz",snippet:{publishedAt:"2021-02-08T11:23:35Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to submit a form from the app?",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/Ovi1__esglw/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/Ovi1__esglw/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/Ovi1__esglw/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/Ovi1__esglw/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/Ovi1__esglw/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:3,resourceId:{kind:"youtube#video",videoId:"Ovi1__esglw"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"Y32icsbkVtzSXewIdHS6dNEpvO8",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy41Mzk2QTAxMTkzNDk4MDhF",snippet:{publishedAt:"2020-08-19T06:34:55Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to measure BP using Selfie Vitals - Spanish Version",description:"How to measure BP using Selfie Vitals - Spanish Version",thumbnails:{default:{url:"https://i.ytimg.com/vi/x7NMf9EhKqI/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/x7NMf9EhKqI/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/x7NMf9EhKqI/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/x7NMf9EhKqI/sddefault.jpg",width:640,height:480}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:4,resourceId:{kind:"youtube#video",videoId:"x7NMf9EhKqI"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"d7tJI_4oJYstXsFygPpBcMYbT88",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4zMDg5MkQ5MEVDMEM1NTg2",snippet:{publishedAt:"2020-08-02T05:08:48Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"Selfie Vitals - Blood Pressure",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/Otlt007bYq8/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/Otlt007bYq8/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/Otlt007bYq8/hqdefault.jpg",width:480,height:360}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:5,resourceId:{kind:"youtube#video",videoId:"Otlt007bYq8"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"oeZ0umKZfsj3Qb-bvNTl4QSjbg4",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy45ODRDNTg0QjA4NkFBNkQy",snippet:{publishedAt:"2020-07-31T18:58:01Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"Spanish Version - Patient Onboarding Tutorial",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/EKPBYmYbb-g/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/EKPBYmYbb-g/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/EKPBYmYbb-g/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/EKPBYmYbb-g/sddefault.jpg",width:640,height:480}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:6,resourceId:{kind:"youtube#video",videoId:"EKPBYmYbb-g"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"4JJMLleiHtq1zJi8K_KqzeJWf6o",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy5EMEEwRUY5M0RDRTU3NDJC",snippet:{publishedAt:"2020-07-31T18:48:04Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"English Version   Patient Onboarding Tutorial",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/cobolLgMli4/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/cobolLgMli4/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/cobolLgMli4/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/cobolLgMli4/sddefault.jpg",width:640,height:480}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:7,resourceId:{kind:"youtube#video",videoId:"cobolLgMli4"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"UftVmbXUFtuAhDPYJk4nWDImHL4",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy5GNjNDRDREMDQxOThCMDQ2",snippet:{publishedAt:"2019-12-10T07:09:11Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to Acknowledge the Response from Clinician?",description:"Shows how to acknowledge the response provided by the clinician on vital signs recorded.",thumbnails:{default:{url:"https://i.ytimg.com/vi/96Hxroe0oTc/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/96Hxroe0oTc/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/96Hxroe0oTc/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/96Hxroe0oTc/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/96Hxroe0oTc/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:8,resourceId:{kind:"youtube#video",videoId:"96Hxroe0oTc"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"uHtHjxH97emvaEV-2tSyTeIn3jw",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy45NDk1REZENzhEMzU5MDQz",snippet:{publishedAt:"2019-08-31T09:10:42Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view timeline of tasks in Patient app?",description:"How to view timeline of tasks in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/tatM2X0RhXM/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/tatM2X0RhXM/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/tatM2X0RhXM/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/tatM2X0RhXM/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/tatM2X0RhXM/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:9,resourceId:{kind:"youtube#video",videoId:"tatM2X0RhXM"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"MaNaCD0ULIRvIpEsXiRZ8Il31WM",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy5DQUNERDQ2NkIzRUQxNTY1",snippet:{publishedAt:"2019-08-31T09:10:24Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view the trend of health vitals recorded in Patient app?",description:"How to view the trend of health vitals recorded in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/8rySjFGcPvY/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/8rySjFGcPvY/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/8rySjFGcPvY/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/8rySjFGcPvY/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/8rySjFGcPvY/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:10,resourceId:{kind:"youtube#video",videoId:"8rySjFGcPvY"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"ratjTu2DhyQfGvjywi18buU4_Hc",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy41MzJCQjBCNDIyRkJDN0VD",snippet:{publishedAt:"2019-08-31T09:10:07Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view notifications in Patient app?",description:"How to view notifications in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/94FcBGx_pj0/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/94FcBGx_pj0/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/94FcBGx_pj0/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/94FcBGx_pj0/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/94FcBGx_pj0/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:11,resourceId:{kind:"youtube#video",videoId:"94FcBGx_pj0"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"6_U6KXogsBPOFbwdwD51ddhEDNM",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4xMkVGQjNCMUM1N0RFNEUx",snippet:{publishedAt:"2019-08-31T09:09:52Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view medicine details in Patient app?",description:"How to view medicine details in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/Zgfoyn5i6Y8/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/Zgfoyn5i6Y8/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/Zgfoyn5i6Y8/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/Zgfoyn5i6Y8/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/Zgfoyn5i6Y8/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:12,resourceId:{kind:"youtube#video",videoId:"Zgfoyn5i6Y8"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"-fAhyv3b4oFVatvMyhwjdOeqVzc",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4wOTA3OTZBNzVEMTUzOTMy",snippet:{publishedAt:"2019-08-31T09:09:38Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view educational content in Patient app?",description:"How to view educational content in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/bp0MmDoZXbs/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/bp0MmDoZXbs/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/bp0MmDoZXbs/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/bp0MmDoZXbs/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/bp0MmDoZXbs/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:13,resourceId:{kind:"youtube#video",videoId:"bp0MmDoZXbs"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"r-8ytCYOUOMRZ5uqAOd-sg4gIwk",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy41MjE1MkI0OTQ2QzJGNzNG",snippet:{publishedAt:"2019-08-31T09:09:25Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view care plan adherence in Patient app?",description:"How to view care plan adherence in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/INB57R6Sr84/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/INB57R6Sr84/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/INB57R6Sr84/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/INB57R6Sr84/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/INB57R6Sr84/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:14,resourceId:{kind:"youtube#video",videoId:"INB57R6Sr84"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"tVL9haFAGpeII6otbwI07CDDfW4",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4wMTcyMDhGQUE4NTIzM0Y5",snippet:{publishedAt:"2019-08-31T09:09:13Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view appointments in Patient app?",description:"How to view appointments in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/O6GPZX-f3uw/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/O6GPZX-f3uw/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/O6GPZX-f3uw/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/O6GPZX-f3uw/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/O6GPZX-f3uw/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:15,resourceId:{kind:"youtube#video",videoId:"O6GPZX-f3uw"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"xjN02_Er1aYANIepc9lK2aWunss",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4yODlGNEE0NkRGMEEzMEQy",snippet:{publishedAt:"2019-08-31T09:09:00Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to save health vitals reading manually?",description:"How to save health vitals reading manually?",thumbnails:{default:{url:"https://i.ytimg.com/vi/tbiOE6Pugvk/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/tbiOE6Pugvk/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/tbiOE6Pugvk/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/tbiOE6Pugvk/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/tbiOE6Pugvk/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:16,resourceId:{kind:"youtube#video",videoId:"tbiOE6Pugvk"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"y-XeCaBqMkZB8Q_xdvz4vfDiW8o",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy41NkI0NEY2RDEwNTU3Q0M2",snippet:{publishedAt:"2019-08-31T09:08:47Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to chat with care team using Patient app?",description:"How to chat with care team using Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/tKnU_5PuMN0/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/tKnU_5PuMN0/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/tKnU_5PuMN0/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/tKnU_5PuMN0/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/tKnU_5PuMN0/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:17,resourceId:{kind:"youtube#video",videoId:"tKnU_5PuMN0"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}}],pageInfo:{totalResults:18,resultsPerPage:50}};var f=n("jhN1"),v=n("JA5x"),S=n("Ff2k");let T=(()=>{class t extends l.a{constructor(t,e,n,i){super(),this._supportService=t,this._sanitizer=e,this._dataSharingService=n,this._supportModalService=i,this.rpmActive=!1,this.generalActive=!1}ngOnInit(){this.getTenantConfig(),this.getSupportVideos()}getTenantConfig(){this._dataSharingService.tenantSettings.pipe(Object(c.a)(this.unsubscribed)).subscribe(t=>{t&&t.episodeBlueprints&&t.episodeBlueprints.length&&t.episodeBlueprints.forEach(t=>{"RPM"!==t.type||t.archived||(this.rpmActive=!0),"GENERAL"!==t.type||t.archived||(this.generalActive=!0)})})}viewHelpGuide(t){t="https://api.cooeyhealth.com/v2/media/"+t,this._applicationInsightsService.downloadStartReportEvent("","","help_guides","help_guides"),this._supportService.fetchPDFBlobForHelpGuide(t).subscribe(t=>{const e=new Blob([t],{type:"application/pdf"}),n=URL.createObjectURL(e);this._applicationInsightsService.downloadSuccessReportEvent("",n,"help_guides","help_guides"),window.open(n)},t=>this._applicationInsightsService.downloadFailReportEvent("","",t.error.message,"help_guides","help_guides"))}getSupportVideos(){this.portalVideos=this.createVideoArrayObject(b),this.clinicianVideos=this.createVideoArrayObject(g),this.patientVideos=this.createVideoArrayObject(m)}createVideoArrayObject(t){return t.items.map(t=>({title:t.snippet.title,videoId:this._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+t.snippet.resourceId.videoId+"?rel=0")}))}playVideo(t,e){t.preventDefault(),this._supportModalService.createVideoPlayerModal(e.videoId)}viewConfluence(t){window.open(`https://cooeyhealth.atlassian.net/wiki/external/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(h),a.Rb(f.b),a.Rb(d.a),a.Rb(r))},t.\u0275cmp=a.Lb({type:t,selectors:[["app-help-guides"]],features:[a.Ab],decls:74,vars:6,consts:[[1,"container"],[3,"nzItemLayout"],[1,"clickable"],["nzTitle","Patient Profile - Creation & other actions","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Diagnosis Codes","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Genesys","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],[1,"heading-div"],["nzTitle","Creating an episode","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Episode States","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Patient Consent","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","RPM Onboarding: Onboard patient \\ Create RPM Episode and assign Care plan","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Leads Flow","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","CCM Overview","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Plan Of Care","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Editing a Plan Of Care","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Appointments in CCM","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Viewing Patients","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Primary and Secondary Staff","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Patient Status","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Reports","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Dashboard (RPM Monitoring)","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Alerts","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Automated SMS Reminders","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"]],template:function(t,e){1&t&&(a.Xb(0,"div",0),a.Xb(1,"h3"),a.Xb(2,"strong"),a.Xc(3,"Setting up the Cooey Health Portal"),a.Wb(),a.Wb(),a.Xb(4,"nz-card"),a.Xb(5,"nz-list",1),a.Xb(6,"nz-list-item",2),a.Xb(7,"nz-list-item-meta",3),a.ec("click",function(){return e.viewConfluence("532840450/ZjAyYjZhMjE0MjUxNDk0M2I0ZWU2MzM3NzlhZmUxZGM")}),a.Wb(),a.Wb(),a.Xb(8,"nz-list-item",2),a.Xb(9,"nz-list-item-meta",4),a.ec("click",function(){return e.viewConfluence("526450689/MGEzYzVmMGFlYTc0NGZlMzgxN2NjOWYxZTU2ZmRjOGQ")}),a.Wb(),a.Wb(),a.Xb(10,"nz-list-item",2),a.Xb(11,"nz-list-item-meta",5),a.ec("click",function(){return e.viewConfluence("526680082/NDg4YzYzMDI2M2JmNDc3OGFkNzllZDk3OWNkNDA1NmU")}),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Xb(12,"div",6),a.Xb(13,"h3"),a.Xb(14,"strong"),a.Xc(15,"Episode Related"),a.Wb(),a.Wb(),a.Wb(),a.Xb(16,"nz-card"),a.Xb(17,"nz-list",1),a.Xb(18,"nz-list-item",2),a.Xb(19,"nz-list-item-meta",7),a.ec("click",function(){return e.viewConfluence("511672322/MGM0OGIxYjk3NDc0NGE2N2I5YzE0ODFmODZlMmI1MTk")}),a.Wb(),a.Wb(),a.Xb(20,"nz-list-item",2),a.Xb(21,"nz-list-item-meta",8),a.ec("click",function(){return e.viewConfluence("511803422/Y2Y4ODQyZTRjNTAwNDc5OGFkNjZkNGI3NWRmODE3NDA")}),a.Wb(),a.Wb(),a.Xb(22,"nz-list-item",2),a.Xb(23,"nz-list-item-meta",9),a.ec("click",function(){return e.viewConfluence("511803475/YWJjZWEyM2U0YTJmNDM5MTgzZTkzYmFkYzVkZjVhMzI")}),a.Wb(),a.Wb(),a.Xb(24,"nz-list-item",2),a.Xb(25,"nz-list-item-meta",10),a.ec("click",function(){return e.viewConfluence("511442947/NWNlYTExMmZiNzQwNDlhNTk5NjgwMDRhYTZkZWQ2NTA")}),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Xb(26,"div",6),a.Xb(27,"h3"),a.Xb(28,"strong"),a.Xc(29,"Onboarding"),a.Wb(),a.Wb(),a.Wb(),a.Xb(30,"nz-card"),a.Xb(31,"nz-list",1),a.Xb(32,"nz-list-item",2),a.Xb(33,"nz-list-item-meta",11),a.ec("click",function(){return e.viewConfluence("527040520/MGZjZDM0OTkzYjE2NDcwMjlmMjE5ZjkxZjFhNjA0ZDQ")}),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Xb(34,"div",6),a.Xb(35,"h3"),a.Xb(36,"strong"),a.Xc(37,"CCM Related"),a.Wb(),a.Wb(),a.Wb(),a.Xb(38,"nz-card"),a.Xb(39,"nz-list",1),a.Xb(40,"nz-list-item",2),a.Xb(41,"nz-list-item-meta",12),a.ec("click",function(){return e.viewConfluence("532545537/OTZkOTQ2MGM0MDkyNGI2Mjk2M2MyYzM2MWNhYjg1N2U")}),a.Wb(),a.Wb(),a.Xb(42,"nz-list-item",2),a.Xb(43,"nz-list-item-meta",13),a.ec("click",function(){return e.viewConfluence("511770625/MWNhYTg1NmFiODU4NGFhZGJjNGFhYjNhOWU1NTNlMTc")}),a.Wb(),a.Wb(),a.Xb(44,"nz-list-item",2),a.Xb(45,"nz-list-item-meta",14),a.ec("click",function(){return e.viewConfluence("510296065/MjQ5NmE4NWRjOWRkNGI0NGI1YjM2ZTlkNDQ2ZTM4YmM")}),a.Wb(),a.Wb(),a.Xb(46,"nz-list-item",2),a.Xb(47,"nz-list-item-meta",15),a.ec("click",function(){return e.viewConfluence("535756818/NTcwOWNmNGU1MjI0NGRmNzgyMzNiMTI0ZjBhNDZiMjA")}),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Xb(48,"div",6),a.Xb(49,"h3"),a.Xb(50,"strong"),a.Xc(51,"Staff Management"),a.Wb(),a.Wb(),a.Wb(),a.Xb(52,"nz-card"),a.Xb(53,"nz-list",1),a.Xb(54,"nz-list-item",2),a.Xb(55,"nz-list-item-meta",16),a.ec("click",function(){return e.viewConfluence("Y2VjOTJmNTljMGFhNDM5ZGJmMmY1YWZkZjY2NmIzZDc")}),a.Wb(),a.Wb(),a.Xb(56,"nz-list-item",2),a.Xb(57,"nz-list-item-meta",17),a.ec("click",function(){return e.viewConfluence("ZjQ3NWY3Y2EyYTdiNGU5OThjYTg2NDc2YjZlMmRiYWQ")}),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Xb(58,"div",6),a.Xb(59,"h3"),a.Xb(60,"strong"),a.Xc(61,"Other"),a.Wb(),a.Wb(),a.Wb(),a.Xb(62,"nz-card"),a.Xb(63,"nz-list",1),a.Xb(64,"nz-list-item",2),a.Xb(65,"nz-list-item-meta",18),a.ec("click",function(){return e.viewConfluence("529465345/NTIwMWM1ZTBhZTlkNGQ1NjhlY2RmNThkZjM3NGUwZWM")}),a.Wb(),a.Wb(),a.Xb(66,"nz-list-item",2),a.Xb(67,"nz-list-item-meta",19),a.ec("click",function(){return e.viewConfluence("513835009/ODA1MWI5MWU1YTMwNDdmZGJjMWJiMWY3MWY3NjQ3MDM")}),a.Wb(),a.Wb(),a.Xb(68,"nz-list-item",2),a.Xb(69,"nz-list-item-meta",20),a.ec("click",function(){return e.viewConfluence("511311895/YmVkMjEzOWFhZTY1NDQzYzg4ZGRkNmE2NDlmNGJhODk")}),a.Wb(),a.Wb(),a.Xb(70,"nz-list-item",2),a.Xb(71,"nz-list-item-meta",21),a.ec("click",function(){return e.viewConfluence("511311904/NDU2MjFmZGNkN2VhNDA1YTkxYjdiNzdhYTE5NGRhNjQ")}),a.Wb(),a.Wb(),a.Xb(72,"nz-list-item",2),a.Xb(73,"nz-list-item-meta",22),a.ec("click",function(){return e.viewConfluence("YTA1ZDEyNzNmMTI0NDkwY2JhNTQ5ZTEwM2QzN2IzM2Q")}),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Wb()),2&t&&(a.Db(5),a.rc("nzItemLayout","horizontal"),a.Db(12),a.rc("nzItemLayout","horizontal"),a.Db(14),a.rc("nzItemLayout","horizontal"),a.Db(8),a.rc("nzItemLayout","horizontal"),a.Db(14),a.rc("nzItemLayout","horizontal"),a.Db(10),a.rc("nzItemLayout","horizontal"))},directives:[v.a,S.a,S.e,S.f],styles:[".container[_ngcontent-%COMP%]{padding:2%;margin:2%}[_nghost-%COMP%]     .ant-tabs-nav{margin:8px 0 4px}a[_ngcontent-%COMP%]{width:100%}.empty[_ngcontent-%COMP%]{margin:2%}.heading-div[_ngcontent-%COMP%]{margin-top:10px}  .ant-card-body{padding-top:10px;padding-bottom:10px}"]}),t})();var C=n("tyNb");const E=[{path:"help-guides",component:T,data:{header:!0,title:"MENU.TAPNAME_HELP_GUIDES",searchEnabled:!1,primaryAction:{},secondaryAction:{},multiAction:{},privileges:[],showTenantToggle:!1},canActivate:[n("T5gh").a]}];let I=(()=>{class t{}return t.\u0275mod=a.Pb({type:t}),t.\u0275inj=a.Ob({factory:function(e){return new(e||t)},imports:[[C.k.forChild(E)],C.k]}),t})();var M=n("UFn0"),y=n("SHZf"),A=n("WoUL"),_=n("KZX/");let D=(()=>{class t{constructor(t){this.translationService=t,t.setLanguage()}}return t.\u0275mod=a.Pb({type:t}),t.\u0275inj=a.Ob({factory:function(e){return new(e||t)(a.bc(A.a))},imports:[[i.c,I,M.a,_.a,y.a.forRoot()]]}),t})()},a6m8:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7Xlp");let a=(()=>{class t{}return t.VITAL_NAME="vital_name",t.VITAL_ID="vital_id",t.VITAL_ACTIVE="vital_active",t.PATIENT_ID="patient_id",t.CAREPLAN_ID="careplan_id",t.VITAL_TYPE="vital_type",t.VITAL_SHARE_EMAIL="vital_share_email",t.VITAL_START_DATE="start_date",t.VITAL_END_DATE="end_date",t.VITAL_MEASURED_VALUE="vital_measured_value",t.VITAL_PARAMETER="vital_update_parameter",t.VITAL_BLUEPRINT_SWITCH="VITAL_BLUEPRINT_SWITCH",t.VITAL_BLUEPRINT_UPDATE="VITAL_BLUEPRINT_UPDATE",t.VITAL_HISTORY="VITAL_HISTORY",t})();var o=n("fXoL");let s=(()=>{class t extends i.a{constructor(){super()}vitalEnableSwitchEvent(t){let e=this.getCommonProperties();e[a.VITAL_NAME]=t.label,e[a.VITAL_ID]=t.id,e[a.VITAL_ACTIVE]=t.active,this.logEvent(a.VITAL_BLUEPRINT_SWITCH,e)}vitalBlueprintUpdateEvent(t){let e=this.getCommonProperties();e[a.VITAL_NAME]=t.label,e[a.VITAL_ID]=t.id,e[a.VITAL_ACTIVE]=t.active,e[a.VITAL_PARAMETER]=t.parameters,this.logEvent(a.VITAL_BLUEPRINT_UPDATE,e)}vitalHistoryEvent(t,e,n,i,o){let s=this.getCommonProperties();s[a.PATIENT_ID]=t,s[a.VITAL_TYPE]=e,s[a.CAREPLAN_ID]=n,s[a.VITAL_START_DATE]=i,s[a.VITAL_END_DATE]=o,this.logEvent(a.VITAL_HISTORY,s)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},aOTX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("tk/3"),a=n("AytR"),o=n("fXoL");let s=(()=>{class t{constructor(t){this._http=t,this.rootUrl=a.g.url}fetchLocationFromZipCode(t){const e=new i.g({bypass:"yes"});return this._http.get(`https://maps.googleapis.com/maps/api/geocode/json?address=${t}&key=AIzaSyCySGsZgXtvenjp06bwyxsL4vtqIsAa4E4`,{headers:e})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(i.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},aPTj:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("fXoL"),a=n("B+r4"),o=n("tAs6"),s=n("3Pt+"),r=n("dRHE");let c=(()=>{class t{constructor(){this.maxDuration=100,this.marks={0:"0",10:"10",20:"20",30:"30",40:"40",50:"50",60:"60",70:"70",80:"80",90:"90",100:"100"},this.durationChange=new i.n}emitDurationChangeEvent(t){this.durationChange.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-time-selector"]],inputs:{duration:"duration",maxDuration:"maxDuration",autoCMT:"autoCMT"},outputs:{durationChange:"durationChange"},decls:8,vars:13,consts:[["nz-row","","nzGutter","16"],["nz-col","","nzSpan","4","id","time-container"],["nz-col","","nzSpan","20"],[3,"nzMarks","nzIncluded","nzMin","nzMax","ngModel","nzDisabled","ngModelChange"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"strong"),i.Xc(3),i.jc(4,"translate"),i.jc(5,"translate"),i.Wb(),i.Wb(),i.Xb(6,"div",2),i.Xb(7,"nz-slider",3),i.ec("ngModelChange",function(t){return e.emitDurationChangeEvent(t)})("ngModelChange",function(t){return e.duration=t}),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Db(3),i.bd(" ",i.kc(4,9,"TABLEHEADER.TIME"),": ",e.duration||0,"\xa0 ",i.kc(5,11,"COMMON.MINUTES")," "),i.Db(4),i.rc("nzMarks",e.marks)("nzIncluded",!0)("nzMin",0)("nzMax",e.maxDuration)("ngModel",e.duration)("nzDisabled",e.autoCMT))},directives:[a.c,a.a,o.a,s.u,s.x],pipes:[r.a],styles:["strong[_ngcontent-%COMP%]{color:var(--tertiary-color);font-size:11px}#time-container[_ngcontent-%COMP%]{padding-top:6px}[_nghost-%COMP%]     .ant-slider-handle{background-color:var(--primary-color);border:0 solid}"]}),t})()},awHO:function(t,e,n){"use strict";n.d(e,"a",function(){return X});var i=n("Gskk"),a=n("fXoL"),o=n("ofXK"),s=n("B+r4"),r=n("0lU3"),c=n("3Pt+"),l=n("5vDB"),d=n("ncdi"),u=n("eHCX"),p=n("QlLE");function h(t,e){if(1&t){const t=a.Yb();a.Vb(0),a.Xb(1,"div",3),a.Xb(2,"div",4),a.Xb(3,"nz-range-picker",5),a.ec("ngModelChange",function(e){return a.Lc(t),a.ic().dateRange=e})("ngModelChange",function(){return a.Lc(t),a.ic().updateCommunications()}),a.Wb(),a.Wb(),a.Wb(),a.Ub()}if(2&t){const t=a.ic();a.Db(3),a.rc("ngModel",t.dateRange)}}function b(t,e){if(1&t&&(a.Vb(0),a.Xb(1,"strong",7),a.Xc(2),a.Wb(),a.Sb(3,"nz-divider",8),a.Ub()),2&t){const t=a.ic().$implicit,e=a.ic(2);a.Db(2),a.ad(" ",null==t?null:t.value,": ",null==e.durationMap?null:e.durationMap.get(null==t?null:t.key)," minutes ")}}function g(t,e){if(1&t&&(a.Vb(0),a.Vc(1,b,4,2,"ng-container",1),a.Ub()),2&t){const t=e.$implicit,n=a.ic(2);a.Db(1),a.rc("ngIf",0<(null==n.durationMap?null:n.durationMap.get(null==t?null:t.key)))}}function m(t,e){if(1&t&&(a.Vb(0),a.Vc(1,g,2,1,"ng-container",6),a.jc(2,"keyvalue"),a.Ub()),2&t){const t=a.ic();a.Db(1),a.rc("ngForOf",a.lc(2,1,t.serviceCodeCountMap,t.asIsOrder))}}function f(t,e){1&t&&(a.Xb(0,"strong",18),a.Xc(1," Billable "),a.Wb())}function v(t,e){if(1&t&&(a.Vb(0),a.Sb(1,"nz-divider",8),a.Xb(2,"strong",18),a.Xc(3),a.Wb(),a.Ub()),2&t){const t=a.ic().$implicit,e=a.ic(2);a.Db(3),a.Zc(" ",e.serviceCodeEpisodeMap.get(null==t?null:t.cptCode)," ")}}function S(t,e){1&t&&(a.Xb(0,"strong",19),a.Xc(1," Non-Billable "),a.Wb())}function T(t,e){if(1&t&&(a.Xb(0,"p",13),a.Sb(1,"nz-divider"),a.Sb(2,"span",20),a.Wb()),2&t){const t=a.ic().$implicit;a.Db(2),a.sc("innerHTML",null==t||null==t.updateHistory||null==t.updateHistory.timeUpdateHistory?null:t.updateHistory.timeUpdateHistory.reason,a.Mc)}}function C(t,e){if(1&t&&(a.Xb(0,"p",13),a.Sb(1,"span",21),a.Wb()),2&t){const t=a.ic().$implicit;a.Db(1),a.sc("innerHtml",null==t||null==t.updateHistory||null==t.updateHistory.activityUpdateHistory?null:t.updateHistory.activityUpdateHistory.reason,a.Mc)}}function E(t,e){if(1&t&&(a.Xb(0,"p",13),a.Sb(1,"span",20),a.Wb()),2&t){const t=a.ic().$implicit;a.Db(1),a.sc("innerHTML",null==t||null==t.updateHistory||null==t.updateHistory.noteUpdateHistory?null:t.updateHistory.noteUpdateHistory.reason,a.Mc)}}function I(t,e){if(1&t&&(a.Xb(0,"p",13),a.Sb(1,"span",21),a.Wb()),2&t){const t=a.ic().$implicit;a.Db(1),a.sc("innerHtml",null==t||null==t.updateHistory||null==t.updateHistory.billableUpdateHistory?null:t.updateHistory.billableUpdateHistory.reason,a.Mc)}}function M(t,e){if(1&t&&(a.Xb(0,"p",13),a.Sb(1,"span",21),a.Wb()),2&t){const t=a.ic().$implicit;a.Db(1),a.sc("innerHtml",null==t||null==t.updateHistory||null==t.updateHistory.communicationModeUpdateHistory?null:t.updateHistory.communicationModeUpdateHistory.reason,a.Mc)}}function y(t,e){if(1&t&&(a.Xb(0,"span"),a.Xc(1),a.Wb()),2&t){const t=e.$implicit;a.Db(1),a.ad(" ",null==t?null:t.code," ",null==t?null:t.description,"\xa0 ")}}function A(t,e){if(1&t&&(a.Xb(0,"p",13),a.Xb(1,"strong"),a.Xc(2,"Dx Codes -"),a.Wb(),a.Vc(3,y,2,2,"span",6),a.Wb()),2&t){const t=a.ic().$implicit;a.Db(3),a.rc("ngForOf",null==t?null:t.dxCodes)}}function _(t,e){if(1&t&&(a.Vb(0),a.Xb(1,"label",22),a.Xc(2),a.Wb(),a.Ub()),2&t){const t=a.ic().$implicit;a.Db(2),a.Yc(null==t?null:t.caretakerName)}}function D(t,e){if(1&t&&(a.Vb(0),a.Xb(1,"label",23),a.Xc(2),a.Wb(),a.Ub()),2&t){const t=a.ic().$implicit;a.Db(2),a.Zc(" Deleted by ",null==t?null:t.changedByStaff," ")}}function z(t,e){if(1&t&&(a.Xb(0,"div",24),a.Xb(1,"strong",25),a.Xc(2),a.jc(3,"number"),a.Wb(),a.Sb(4,"br"),a.Xb(5,"label",26),a.Xc(6,"mins"),a.Wb(),a.Wb()),2&t){const t=a.ic().$implicit;a.Db(2),a.Yc(a.lc(3,1,(null==t?null:t.durationInMilliSeconds)/6e4,"1.0-0"))}}function O(t,e){if(1&t&&(a.Vb(0),a.Xb(1,"nz-timeline-item",9),a.Xb(2,"strong",10),a.Xc(3),a.jc(4,"date"),a.Wb(),a.Sb(5,"nz-divider",8),a.Xb(6,"strong",10),a.Xc(7),a.Wb(),a.Sb(8,"nz-divider",8),a.Vc(9,f,2,0,"strong",11),a.Vc(10,v,4,1,"ng-container",1),a.Vc(11,S,2,0,"strong",12),a.Sb(12,"br"),a.Xb(13,"p",13),a.Xb(14,"span",14),a.Xc(15),a.Wb(),a.Sb(16,"br"),a.Sb(17,"span",15),a.Wb(),a.Vc(18,T,3,1,"p",16),a.Vc(19,C,2,1,"p",16),a.Vc(20,E,2,1,"p",16),a.Vc(21,I,2,1,"p",16),a.Vc(22,M,2,1,"p",16),a.Vc(23,A,4,1,"p",16),a.Vc(24,_,3,1,"ng-container",1),a.Vc(25,D,3,1,"ng-container",1),a.Wb(),a.Vc(26,z,7,4,"ng-template",null,17,a.Wc),a.Ub()),2&t){const t=e.$implicit,n=a.Ic(27),i=a.ic(2);a.Db(1),a.rc("nzDot",n),a.Db(2),a.Yc(a.lc(4,18,null==t?null:t.date,"mediumDate")),a.Db(4),a.Yc(i.mode.get(t.mode)),a.Db(2),a.rc("ngIf",null==t||null==t.compliance?null:t.compliance.billable),a.Db(1),a.rc("ngIf","ALL"==i.type),a.Db(1),a.rc("ngIf",(null==t?null:t.compliance)&&!(null!=t&&null!=t.compliance&&t.compliance.billable)),a.Db(3),a.rc("ngClass",null!=t&&t.archived?"strikethrough":"null"),a.Db(1),a.Zc(" ",null==t?null:t.activity," "),a.Db(2),a.sc("innerHtml",(null==t?null:t.notes)||"",a.Mc),a.rc("ngClass",null!=t&&t.archived?"strikethrough":"null"),a.Db(1),a.rc("ngIf",null==t||null==t.updateHistory||null==t.updateHistory.timeUpdateHistory?null:t.updateHistory.timeUpdateHistory.reason),a.Db(1),a.rc("ngIf",null==t||null==t.updateHistory||null==t.updateHistory.activityUpdateHistory?null:t.updateHistory.activityUpdateHistory.reason),a.Db(1),a.rc("ngIf",null==t||null==t.updateHistory||null==t.updateHistory.noteUpdateHistory?null:t.updateHistory.noteUpdateHistory.reason),a.Db(1),a.rc("ngIf",null==t||null==t.updateHistory||null==t.updateHistory.billableUpdateHistory?null:t.updateHistory.billableUpdateHistory.reason),a.Db(1),a.rc("ngIf",null==t||null==t.updateHistory||null==t.updateHistory.communicationModeUpdateHistory?null:t.updateHistory.communicationModeUpdateHistory.reason),a.Db(1),a.rc("ngIf",null==t||null==t.dxCodes?null:t.dxCodes.length),a.Db(1),a.rc("ngIf",!(null!=t&&t.archived)),a.Db(1),a.rc("ngIf",null==t?null:t.archived)}}function N(t,e){if(1&t&&(a.Xb(0,"nz-timeline"),a.Vc(1,O,28,21,"ng-container",6),a.Wb()),2&t){const t=a.ic();a.Db(1),a.rc("ngForOf",t.tmsDetails)}}function P(t,e){1&t&&(a.Xb(0,"span"),a.Xc(1," No Communication Data "),a.Wb())}function R(t,e){if(1&t&&(a.Vb(0),a.Xb(1,"nz-empty",27),a.Vc(2,P,2,0,"ng-template",null,28,a.Wc),a.Wb(),a.Ub()),2&t){const t=a.Ic(3);a.Db(1),a.rc("nzNotFoundContent",t)}}let X=(()=>{class t{constructor(t,e){this._episodesService=t,this._datePipe=e,this.isEmpty=!1,this.serviceCodeEpisodeMap=new Map([["TREATMENT_MANAGEMENT_SERVICE","RPM"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE","RPM"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B","RPM"],["NON_COMPLEX_TMS","CCM"],["CARE_MANAGEMENT_TIME","GENERAL"]]),this.episodeWiseServiceCodes=new Map([["RPM",new Set(["TREATMENT_MANAGEMENT_SERVICE","ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE","ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B"])],["CCM",new Set(["NON_COMPLEX_TMS"])],["GENERAL",new Set(["CARE_MANAGEMENT_TIME"])]]),this.tmsDetails=[],this.dateRange=[],this.mode=new Map([["VIDEO_CALL","Video Call"],["CALL","Audio Call"],["HOME_VISIT","Home Visit"],["CLINIC_VISIT","In Clinic"],["OTHER","Other"]]),this.tmsMap=new Map,this.durationMap=new Map}set tmsType(t){var e,n;"TREATMENT_MANAGEMENT_SERVICE"===t&&(this.serviceCodeCountMap=new Map([["TREATMENT_MANAGEMENT_SERVICE","TMS-20"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE","TMS-40"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B","TMS-60"]]),this.type="TMS"),-1!==(null===(e=["NON_COMPLEX_TMS"])||void 0===e?void 0:e.indexOf(t))&&(this.serviceCodeCountMap=new Map([["NON_COMPLEX_TMS","Non-complex CMT"]]),this.type="CCM"),-1!==(null===(n=["CARE_MANAGEMENT_TIME"])||void 0===n?void 0:n.indexOf(t))&&(this.serviceCodeCountMap=new Map([["CARE_MANAGEMENT_TIME","CMT"]]),this.type="GENERAL"),"ALL"===t&&(this.serviceCodeCountMap=new Map,this.type="ALL")}set episodeType(t){"RPM"===t&&(this.type="TMS"),"CCM"===t&&(this.type="CCM"),"GENERAL"===t&&(this.type="GENERAL"),"ALL"===t&&(this.type="ALL")}asIsOrder(t,e){return 1}ngOnInit(){this.episodeId?this.getTMSDetails():this.getAllCommunicationData()}getAllCommunicationData(t=null,e=null){this._episodesService.getPatientCommunications(this.patientId,t,e,this.type).subscribe(t=>{t&&(this.tmsDetails=[...t]),this.isEmpty=0==t.length})}getTMSDetails(){this._episodesService.getCallDetails(this.patientId,this.episodeId).subscribe(t=>{var e,n;t&&(this.tmsDetails=[...t]),null===(e=null==t?void 0:t.filter(t=>!t.archived))||void 0===e||e.forEach(t=>{var e,n;(null===(e=this.tmsMap)||void 0===e?void 0:e.get(null==t?void 0:t.cptCode))?this.tmsMap.set(null==t?void 0:t.cptCode,[...null===(n=this.tmsMap)||void 0===n?void 0:n.get(null==t?void 0:t.cptCode),t]):this.tmsMap.set(null==t?void 0:t.cptCode,[t])}),null===(n=this.tmsMap)||void 0===n||n.forEach((t,e)=>{var n;const i=null==t?void 0:t.map(t=>t.durationInMilliSeconds).reduce((t,e)=>t+e,0);null===(n=this.durationMap)||void 0===n||n.set(e,i/6e4)})})}updateCommunications(){var t=null,e=null;this.dateRange&&2==this.dateRange.length&&this.dateRange[0]&&this.dateRange[1]&&(t=this._datePipe.transform(this.dateRange[0],"yyyy/MM/dd"),e=this._datePipe.transform(this.dateRange[1],"yyyy/MM/dd")),this.getAllCommunicationData(t,e)}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(i.a),a.Rb(o.e))},t.\u0275cmp=a.Lb({type:t,selectors:[["app-tms-history"]],inputs:{episodeId:"episodeId",patientId:"patientId",patientName:"patientName",tmsType:"tmsType",episodeType:"episodeType"},decls:9,vars:5,consts:[["id","heading"],[4,"ngIf"],["id","history-container"],["nz-row","","nzGutter","64"],["nz-col","","nzOffset","12","nzSpan","12"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"primary","sub-heading"],["nzType","vertical"],[3,"nzDot"],[1,"tms-history-heading"],["nz-typography","","nzType","success",4,"ngIf"],["nz-typography","","nzType","danger",4,"ngIf"],[1,"history"],[1,"activity",3,"ngClass"],[3,"innerHtml","ngClass"],["class","history",4,"ngIf"],["dotTemplate",""],["nz-typography","","nzType","success"],["nz-typography","","nzType","danger"],[3,"innerHTML"],[3,"innerHtml"],["id","caretaker",1,"primary"],["id","caretaker","nz-typography","","nzType","danger"],[1,"dot-template"],[1,"dot-template-num"],[1,"dot-template-min"],["nzNotFoundImage","https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",2,"padding-top","25%",3,"nzNotFoundContent"],["contentTpl",""]],template:function(t,e){1&t&&(a.Xb(0,"strong",0),a.Xc(1),a.Wb(),a.Sb(2,"br"),a.Xc(3," \xa0 "),a.Vc(4,h,4,1,"ng-container",1),a.Vc(5,m,3,4,"ng-container",1),a.Xb(6,"div",2),a.Vc(7,N,2,1,"nz-timeline",1),a.Vc(8,R,4,1,"ng-container",1),a.Wb()),2&t&&(a.Db(1),a.Zc("Patient communication history for ",e.patientName||"",""),a.Db(3),a.rc("ngIf",!e.episodeId),a.Db(1),a.rc("ngIf",(null==e.serviceCodeCountMap?null:e.serviceCodeCountMap.size)>0),a.Db(2),a.rc("ngIf",!e.isEmpty),a.Db(1),a.rc("ngIf",e.isEmpty))},directives:[o.q,s.c,s.a,r.a,r.c,c.u,c.x,o.p,l.a,d.a,d.b,o.o,u.a,p.b],pipes:[o.j,o.e,o.f],styles:["#heading[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color)}.primary[_ngcontent-%COMP%]{color:var(--primary-color)!important}.sub-heading[_ngcontent-%COMP%]{font-size:10px;color:#949494}#history-container[_ngcontent-%COMP%]{font-size:12px;color:var(--tertiary-color);padding:30px 14px 0}.dot-template[_ngcontent-%COMP%]{width:36px;height:36px;color:var(--neutral-color);padding-top:7px;border-radius:50%;background-color:var(--primary-color)}.dot-template[_ngcontent-%COMP%], .dot-template-min[_ngcontent-%COMP%], .dot-template-num[_ngcontent-%COMP%]{font-size:10px}.tms-history-heading[_ngcontent-%COMP%]{color:#949494;font-size:12px;font-weight:500}[_nghost-%COMP%]     .ant-timeline-item{padding-left:3%}#caretaker[_ngcontent-%COMP%], .history[_ngcontent-%COMP%]{font-size:12.5px}.activity[_ngcontent-%COMP%]{color:var(--tertiary-color);font-weight:bolder}strong[_ngcontent-%COMP%]{font-size:12px}.strikethrough[_ngcontent-%COMP%]{text-decoration:line-through;color:var(--error-color)}"]}),t})()},azu5:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{}},"bA1+":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("bnsq"),a=n("fXoL"),o=n("tyNb");let s=(()=>{class t{constructor(t,e){this.router=t,this._permissionsService=e}canActivate(t,e){const n=t.data.privileges,i=localStorage.getItem("loggedInUserAccountType"),a=localStorage.getItem("loggedInUser");if(null==i&&null==a)return this.router.navigate(["authorization/login"],{queryParams:{returnUrl:e.url}}),!0;const o=this._permissionsService.getPermissionsForUser();let s=!0;return"TENANT_ADMIN"!==i&&n&&n.length?o&&o.length?(n.forEach(t=>{-1===o.findIndex(e=>t.toString()===e)&&(s=!1)}),s||this.router.navigate(["/forbidden"]),s):(this.router.navigate(["/forbidden"]),!1):s}}return t.\u0275fac=function(e){return new(e||t)(a.bc(o.g),a.bc(i.a))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},bA60:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("AytR"),a=n("fXoL"),o=n("tk/3");let s=(()=>{class t{constructor(t){this._http=t,this.rootUrl=i.g.url}getAllActionItems(t){return this._http.get(this.rootUrl+"/v2/careplanview/patients/"+t+"/actionItems")}getAllActionItemsWithVitalObject(t,e=null,n){let i=this.rootUrl+"/v2/careplanview/patients/"+t+"/actionItems-with-vitals?date="+n;return null!=e&&(i=i+"&careplanId="+e),this._http.get(i)}getActionItemById(t){return this._http.get(this.rootUrl+"/v2/actions/"+t)}updateActionItem(t){return this._http.put(this.rootUrl+"/v2/actions/"+t.id,t)}archiveActionItem(t){return this._http.delete(this.rootUrl+"/v2/actions/"+t)}getVitalData(t){return this._http.get(this.rootUrl+"/v2/vitals/"+t)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac}),t})()},bDfm:function(t,e,n){"use strict";n.d(e,"a",function(){return X});var i=n("geco"),a=n("fXoL"),o=n("dEAy"),s=n("ncdi"),r=n("ofXK"),c=n("xYn2");function l(t,e){if(1&t){const t=a.Yb();a.Xb(0,"nz-timeline-item"),a.Xb(1,"app-note-timeline-item",2),a.ec("edit",function(){a.Lc(t);const n=e.$implicit;return a.ic().editNote(n)}),a.Wb(),a.Wb()}if(2&t){const t=e.$implicit;a.Db(1),a.rc("note",t)}}function d(t,e){1&t&&(a.Xb(0,"div",3),a.Xb(1,"p"),a.Xc(2,"No notes have been added for this patient."),a.Wb(),a.Sb(3,"div"),a.Wb())}let u=(()=>{class t{constructor(t,e){this._patientsService=t,this._modalRef=e}ngOnInit(){this.getNotes()}getNotes(){this._patientsService.fetchPatientsNotes(this.patientId).subscribe(t=>{this.notes=t})}editNote(t){this._modalRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(i.a),a.Rb(o.e))},t.\u0275cmp=a.Lb({type:t,selectors:[["app-notes-details"]],inputs:{patientId:"patientId"},decls:3,vars:2,consts:[[4,"ngFor","ngForOf"],["class","notes-unavailable",4,"ngIf"],[3,"note","edit"],[1,"notes-unavailable"]],template:function(t,e){1&t&&(a.Xb(0,"nz-timeline"),a.Vc(1,l,2,1,"nz-timeline-item",0),a.Wb(),a.Vc(2,d,4,0,"div",1)),2&t&&(a.Db(1),a.rc("ngForOf",e.notes),a.Db(1),a.rc("ngIf",!e.notes))},directives:[s.a,r.p,r.q,s.b,c.a],styles:["pre[_ngcontent-%COMP%]{font-size:12px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;font-family:Nunito}.notes-unavailable[_ngcontent-%COMP%]{margin-top:-30px}"]}),t})();var p=n("Z93s"),h=n("c36b"),b=(n("QBjw"),n("+gyu")),g=n("bNXi"),m=n("B+r4"),f=n("mUB+"),v=n("3Pt+"),S=n("mUTz"),T=n("glKu"),C=n("nJia"),E=n("bE2y"),I=n("OzZK"),M=n("RwU8"),y=n("C2AL"),A=n("PTRe"),_=n("dRHE");function D(t,e){1&t&&(a.Xb(0,"p"),a.Xc(1),a.jc(2,"translate"),a.jc(3,"translate"),a.Wb()),2&t&&(a.Db(1),a.ad("",a.kc(2,2,"COMMON.NOTE")," : ",a.kc(3,4,"COMMON.NOTE_VISIBLE_TO_PATIENT"),""))}function z(t,e){1&t&&(a.Xb(0,"label",19),a.Xc(1,"Required"),a.Wb())}function O(t,e){if(1&t){const t=a.Yb();a.Xb(0,"button",20),a.ec("click",function(){return a.Lc(t),a.ic().showNotesTimeline()}),a.Xc(1," View Notes "),a.Wb()}}function N(t,e){1&t&&(a.Vb(0),a.Xb(1,"div",25),a.Xc(2,"Required"),a.Wb(),a.Ub())}function P(t,e){if(1&t){const t=a.Yb();a.Xb(0,"div"),a.Xb(1,"input",21),a.ec("ngModelChange",function(e){return a.Lc(t),a.ic().updateReason=e}),a.Wb(),a.Vc(2,N,3,0,"ng-container",1),a.Xb(3,"div",22),a.Xb(4,"button",23),a.ec("click",function(){return a.Lc(t),a.ic().closeModeUpdateModal()}),a.Xc(5,"Cancel"),a.Wb(),a.Xb(6,"button",24),a.ec("click",function(){return a.Lc(t),a.ic().saveNoteWithReason()}),a.Xc(7,"Save"),a.Wb(),a.Wb(),a.Wb()}if(2&t){const t=a.ic();a.Db(1),a.rc("ngModel",t.updateReason),a.Db(1),a.rc("ngIf",t.isReasonRequired)}}const R=function(t){return{border:t}};let X=(()=>{class t{constructor(t,e,n,i,a){this._patientsService=t,this._modalRef=e,this._notificationsService=n,this._modalService=i,this._noteTemplatesService=a,this.noteObject=new p.a,this.isLoadingSaveNote=!1,this.isInputEmpty=!1,this.severity="NORMAL",this.isReasonModalVisible=!1,this.isReasonRequired=!1,this.config=h.b}ngOnInit(){this.getNoteTemplates(),this.updateNoteObject()}updateNoteObject(){var t;null!=this.noteObject.id&&(this.previousContent=this.noteObject.content,this.previousSeverity=null===(t=this.noteObject.priority)||void 0===t?void 0:t.level,this.severity=this.previousSeverity)}saveNote(){null==this.noteObject.id?this.addNewNote():this.editNote()}addNewNote(){""!==this.noteObject.content?(this.isInputEmpty=!1,this.isLoadingSaveNote=!0,this.noteObject.createdOn=(new Date).getTime(),this.noteObject.userId=this.patientId,this.noteObject.addedBy=localStorage.getItem("loggedInUser"),this.noteObject.priority={level:this.severity},null!=this.appointment&&(this.noteObject.type="APPOINTMENT",this.noteObject.contextId=this.appointment.id),this._patientsService.addNoteForPatient(this.noteObject).subscribe(t=>{this._modalRef.close(t),this.isLoadingSaveNote=!1},t=>{this._notificationsService.error("Adding Notes failed",t.error.message),this.isLoadingSaveNote=!1})):this.isInputEmpty=!0}editNote(){if(this.previousContent==this.noteObject.content&&this.severity==this.previousSeverity)return this._modalRef.close(this.noteObject),void(this.isLoadingSaveNote=!1);this.severity!=this.previousSeverity&&(this.noteObject.priority={level:this.severity}),this.isReasonModalVisible=!0}closeDialog(){this._modalRef.close()}onNoteChanged(t){this.isInputEmpty=0===(null==t?void 0:t.length)}selectLevel(t){this.severity=t}showNotesTimeline(){this._modalService.create({nzTitle:"Notes Timeline",nzContent:u,nzComponentParams:{patientId:this.patientId},nzStyle:{width:"800px"},nzBodyStyle:{height:"550px","overflow-y":"scroll",padding:"40px 50px 50px 25px"},nzClosable:!0,nzFooter:null}).afterClose.subscribe(e=>{(null==e?void 0:e.id)&&this._modalService.create({nzContent:t,nzComponentParams:{noteObject:e},nzWidth:"50%",nzClosable:!0,nzMaskClosable:!1,nzFooter:null})})}setTemplate(t){this.noteObject.content=t}getNoteTemplates(){this.noteTemplates$=this._noteTemplatesService.fetchNoteTemplates(0,100,null,this.tenantId)}closeModeUpdateModal(){this.updateReason="",this.isReasonModalVisible=!1}saveNoteWithReason(){this.isLoadingSaveNote=!0,this.noteObject.reason=this.updateReason,this.noteObject.priority={level:this.severity},this._patientsService.updateNote(this.noteObject).subscribe(t=>{this._modalRef.close(t),this.isLoadingSaveNote=!1},t=>{this._notificationsService.error("Editing Note failed",t.error.message),this.isLoadingSaveNote=!1})}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(i.a),a.Rb(o.e),a.Rb(g.b),a.Rb(o.f),a.Rb(b.a))},t.\u0275cmp=a.Lb({type:t,selectors:[["app-notes-dialog"]],inputs:{patientId:"patientId",tenantId:"tenantId",patientName:"patientName",appointment:"appointment",noteObject:"noteObject"},decls:34,vars:28,consts:[["id","patient"],[4,"ngIf"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[3,"ngModel","ngStyle","placeholder","config","ngModelChange"],["note",""],["style","color:red",4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","8"],[3,"note","onTemplateSelected"],["name","infoCircle","nzTooltipTitle","It is consider as an important note","nzTooltipPlacement","rightBottom","nz-tooltip","",1,"infoCirle"],[3,"ngModel","ngModelChange"],["nz-radio","","nzValue","IMPORTANT"],["nz-radio","","nzValue","NORMAL"],["nz-col","","nzSpan","8","nzOffset","16",2,"text-align","right"],["nz-button","",3,"click",4,"ngIf"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nzTitle","Please enter the reason for updating Note",3,"nzVisible","nzFooter","nzVisibleChange"],[4,"nzModalContent"],[2,"color","red"],["nz-button","",3,"click"],["nz-input","","placeholder","Enter your reason for updating here",3,"ngModel","ngModelChange"],[1,"reason-update-btn-div"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",1,"reason-update-btn",3,"click"],[1,"reason-update-error",2,"color","red"]],template:function(t,e){1&t&&(a.Xb(0,"strong"),a.Xb(1,"p",0),a.Xc(2),a.jc(3,"translate"),a.Wb(),a.Wb(),a.Vc(4,D,4,6,"p",1),a.Xb(5,"div",2),a.Xb(6,"div",3),a.Xb(7,"angular-editor",4,5),a.ec("ngModelChange",function(t){return e.noteObject.content=t})("ngModelChange",function(t){return e.onNoteChanged(t)}),a.jc(9,"translate"),a.Wb(),a.Vc(10,z,2,0,"label",6),a.Wb(),a.Wb(),a.Sb(11,"br"),a.Xb(12,"div",7),a.Xb(13,"div",8),a.Xb(14,"app-note-template-picker",9),a.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),a.Wb(),a.Wb(),a.Wb(),a.Sb(15,"br"),a.Xb(16,"p"),a.Xc(17),a.jc(18,"translate"),a.Sb(19,"app-icons",10),a.Wb(),a.Xb(20,"nz-radio-group",11),a.ec("ngModelChange",function(t){return e.severity=t})("ngModelChange",function(t){return e.selectLevel(t)}),a.Xb(21,"label",12),a.Xc(22,"Yes"),a.Wb(),a.Xb(23,"label",13),a.Xc(24,"No"),a.Wb(),a.Wb(),a.Xb(25,"div",2),a.Xb(26,"div",14),a.Vc(27,O,2,0,"button",15),a.Xc(28," \xa0\xa0 "),a.Xb(29,"button",16),a.ec("click",function(){return e.saveNote()}),a.Xc(30),a.jc(31,"translate"),a.Wb(),a.Wb(),a.Wb(),a.Xb(32,"nz-modal",17),a.ec("nzVisibleChange",function(t){return e.isReasonModalVisible=t}),a.Vc(33,P,8,2,"div",18),a.Wb()),2&t&&(a.Db(2),a.Yc(a.kc(3,18,"COMMON.ADD_NOTES")),a.Db(2),a.rc("ngIf",null!=e.appointment),a.Db(1),a.rc("nzGutter",16),a.Db(1),a.rc("nzSpan",24),a.Db(1),a.sc("placeholder",a.kc(9,20,"COMMON.ENTER_NOTES")),a.rc("ngModel",e.noteObject.content)("ngStyle",a.yc(26,R,e.isInputEmpty?"1px solid red":""))("config",e.config),a.Db(3),a.rc("ngIf",e.isInputEmpty),a.Db(4),a.rc("note",e.noteObject.content),a.Db(3),a.Zc(" ",a.kc(18,22,"MAKE_IMPORTANT_NOTES")," "),a.Db(3),a.rc("ngModel",e.severity),a.Db(5),a.rc("nzGutter",16),a.Db(2),a.rc("ngIf",null==e.appointment&&null!=e.patientId),a.Db(2),a.rc("nzLoading",e.isLoadingSaveNote),a.Db(1),a.Zc(" ",a.kc(31,24,"COMMON.SAVE")," "),a.Db(2),a.rc("nzVisible",e.isReasonModalVisible)("nzFooter",null))},directives:[r.q,m.c,m.a,f.a,v.u,v.x,r.r,S.a,T.a,C.d,E.c,E.b,I.a,M.a,y.a,o.a,o.b,A.b,v.d],pipes:[_.a],styles:[".close[_ngcontent-%COMP%]{float:right;cursor:pointer}#patient[_ngcontent-%COMP%]{border-left:2px solid var(--primary-color);padding-left:10px;font:normal normal 700 16px/19px Nunito}#add-note-container[_ngcontent-%COMP%]{width:95%}#add-note-input[_ngcontent-%COMP%]{margin:2% 1% 2% 2%;width:70%}.block-inline[_ngcontent-%COMP%]{display:inline-block}#save-note[_ngcontent-%COMP%]{border-radius:10px;margin-left:5%;background-color:#f7f7f7}.notes-container[_ngcontent-%COMP%]{margin:1%;padding:2%;border-radius:5px;border:1px solid #d3d3d3}.note[_ngcontent-%COMP%]{color:gray}.note[_ngcontent-%COMP%], .note-addedBy[_ngcontent-%COMP%], .note-date[_ngcontent-%COMP%]{font-size:12px}.note-addedBy[_ngcontent-%COMP%]{text-align:right}.infoCirle[_ngcontent-%COMP%]{position:relative;vertical-align:text-top;left:14px}.reason-update-error[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;height:10px;max-height:10px}.reason-update-btn-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:20px}.reason-update-btn[_ngcontent-%COMP%]{margin-left:10px}"]}),t})()},bKRa:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("ofXK"),a=n("5+WD"),o=n("UFn0"),s=n("KZX/"),r=n("fXoL");let c=(()=>{class t{}return t.\u0275mod=r.Pb({type:t}),t.\u0275inj=r.Ob({factory:function(e){return new(e||t)},imports:[[i.c,a.c,o.a,s.a]]}),t})()},bnsq:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("yWgs"),a=n("AytR"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t,e){this._http=t,this._securityTokenHelperService=e,this.rootURL=a.g.url,this.loadUserRolePermissions()}getPermissionsForUser(){return this.permissions}setPermissionsForUser(t){null==t&&null==t||(this.permissions=[...t])}loadUserRolePermissions(){const t=localStorage.getItem("permissionToken");if(!t)return;const e=this._securityTokenHelperService.parseJwt(t);this.setPermissionsForUser(null==e?void 0:e.permissions)}fetchGroupedPermissions(t,e){let n=`${this.rootURL}/v3/permissions/grouped`;return null!=t&&(n=`${n}?role=${t}`),null!=e&&(n=`${n}?customUserRole=${e}`),this._http.get(n)}fetchUserPermissions(){return this._http.get(`${this.rootURL}/v3/permissions`)}updateUserPermissions(t,e,n){let i=`${this.rootURL}/v3/permissions/update/user/${t}/permission`;return n&&(i=`${i}?customUserRole=${n}`),this._http.put(i,e)}getAllPermissionStrings(){return this._http.get(`${this.rootURL}/v3/permissions/all`)}getAllDefaultRoles(){return this._http.get(`${this.rootURL}/v3/permissions/getAllDefaultRoles`)}getTenantDefaultRoles(t){let e=`${this.rootURL}/v3/permissions/get/tenant/default/roles`;return t&&(e=e+"?requestTenantIds="+t),this._http.get(e)}fetchGroupedUserPermissions(t){return this._http.get(`${this.rootURL}/v3/permissions/grouped/staff/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.c),o.bc(i.a))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac}),t})()},bp6e:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{setCaretakers(t){sessionStorage.setItem("caretakers",JSON.stringify(t))}getCaretakers(){return JSON.parse(sessionStorage.getItem("caretakers"))}removeCaretakers(){sessionStorage.removeItem("caretakers")}setPhysicians(t){sessionStorage.setItem("physicians",JSON.stringify(t))}getPhysicians(){return JSON.parse(sessionStorage.getItem("physicians"))}removePhysicians(){sessionStorage.removeItem("physicians")}setSites(t){sessionStorage.setItem("sites",JSON.stringify(t))}setAllTenantSites(t){sessionStorage.setItem("allTenantSites",JSON.stringify(t))}getSites(){return JSON.parse(sessionStorage.getItem("sites"))}removeSites(){sessionStorage.removeItem("sites")}setCarePlanTemplates(t){(null==t?void 0:t.length)&&sessionStorage.setItem("carePlanTemplates",JSON.stringify(t))}getCarePlanTemplates(){return JSON.parse(sessionStorage.getItem("carePlanTemplates"))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"c/Vb":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var i=function(t){return t.PATIENT_EDUCATION_APPOINTMENT="PATIENT_EDUCATION_APPOINTMENT",t.CARE_PLAN_MONITORING="CARE_PLAN_MONITORING",t.TREATMENT_MANAGEMENT_SERVICE="TREATMENT_MANAGEMENT_SERVICE",t.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE="ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE",t.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B="ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B",t.CARE_MANAGEMENT_TIME="CARE_MANAGEMENT_TIME",t.NON_COMPLEX_TMS="NON_COMPLEX_TMS",t.NON_COMPLEX_TMS_PHYSICIAN="NON_COMPLEX_TMS_PHYSICIAN",t.NON_COMPLEX_ADDITIONAL_TMS="NON_COMPLEX_ADDITIONAL_TMS",t.NON_COMPLEX_ADDITIONAL_TMS_B="NON_COMPLEX_ADDITIONAL_TMS_B",t.COMPLEX_TMS="COMPLEX_TMS",t.COMPLEX_ADDITIONAL_TMS="COMPLEX_ADDITIONAL_TMS",t.UNKNOWN="UNKNOWN",t}({});const a=[{label:"Device Educations",value:"99453",cptCode:i.PATIENT_EDUCATION_APPOINTMENT,checked:!1},{label:"Careplan",value:"99454",cptCode:i.CARE_PLAN_MONITORING,checked:!1},{label:"Treatment Management Service",value:"99457",cptCode:i.TREATMENT_MANAGEMENT_SERVICE,checked:!1},{label:"Additional Treatment Management Service A",value:"99458",cptCode:i.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE,checked:!1},{label:"Additional Treatment Management Service B",value:"99458B",cptCode:i.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B,checked:!1},{label:"CMT",value:"99484",cptCode:i.CARE_MANAGEMENT_TIME,checked:!1},{label:"CCM - Non-complex 20 min",value:"99490",cptCode:i.NON_COMPLEX_TMS,checked:!1},{label:"CCM - Non-complex Additional 20 min",value:"99439",cptCode:i.NON_COMPLEX_ADDITIONAL_TMS,checked:!1},{label:"CCM - Non-complex Additional B 20 min",value:"99439B",cptCode:i.NON_COMPLEX_ADDITIONAL_TMS_B,checked:!1},{label:"CCM - 30 mins (Physician)",value:"99491",cptCode:i.NON_COMPLEX_TMS_PHYSICIAN,checked:!1},{label:"CCM - Complex 60 mins",value:"99487",cptCode:i.COMPLEX_TMS,checked:!1},{label:"CCM - Additional Complex 30 mins",value:"99489",cptCode:i.COMPLEX_ADDITIONAL_TMS,checked:!1}]},c36b:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"a",function(){return r});const i={editable:!0,spellcheck:!0,height:"15rem",minHeight:"2rem",placeholder:"Feel free to jot down any notes before your appointment. You can also choose from a list of note templates below.",translate:"no",defaultParagraphSeparator:"p",toolbarHiddenButtons:[["subscript","superscript","justifyFull","fontName"],["customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]},a={editable:!0,spellcheck:!0,height:"9rem",width:"25rem",minHeight:"2rem",placeholder:"Enter plan of care here...",translate:"no",defaultParagraphSeparator:"p",toolbarHiddenButtons:[["undo","redo","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","fontName","indent","outdent","heading"],["fontSize","textColor","backgroundColor","customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]},o={editable:!0,spellcheck:!0,height:"32rem",width:"60rem",minHeight:"2rem",placeholder:"Enter plan of care here...",translate:"no",outline:!0,defaultParagraphSeparator:"p",toolbarHiddenButtons:[["strikeThrough","subscript","superscript","justifyFull","fontName"],["backgroundColor","customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]},s={editable:!0,spellcheck:!0,height:"8rem",showToolbar:!1,minHeight:"2rem",placeholder:"Enter plan of care here...",translate:"no",defaultParagraphSeparator:"p",toolbarHiddenButtons:[["undo","redo","bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","fontName","indent","outdent","insertUnorderedList","insertOrderedList","heading"],["fontSize","textColor","backgroundColor","customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]},r={editable:!0,spellcheck:!0,height:"15rem",width:"25rem",minHeight:"2rem",placeholder:"Enter plan of care here...",translate:"no",defaultParagraphSeparator:"p",toolbarHiddenButtons:[["undo","redo","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","fontName","indent","outdent","heading"],["fontSize","textColor","backgroundColor","customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]}},cA1j:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),a=n("tk/3");let o=(()=>{class t{constructor(t){this.http=t,this.featureHighlightMap=new Map,this.FEATURE_HIGHLIGHT_CONFIGS="feature_highlight_configs"}initialize(){return new Promise((t,e)=>{this.http.get("./assets/configs/feature-highlight-configs.json").toPromise().then(e=>{this.featureHighlightConfigJson=JSON.stringify(e),localStorage.setItem(this.FEATURE_HIGHLIGHT_CONFIGS,this.featureHighlightConfigJson),this.initializeFeatureConfigMap(),t()},t=>{e()})})}initializeFeatureConfigMap(){let t=JSON.parse(this.featureHighlightConfigJson);Object.keys(t).forEach(e=>{this.featureHighlightMap.set(e,t[e])})}clearAllItemsInLocalStorageExceptFeatureHighlight(){if(this.featureHighlightConfigJson=localStorage.getItem(this.FEATURE_HIGHLIGHT_CONFIGS),null!=this.featureHighlightConfigJson){let t=new Map;for(let e of Object.keys(JSON.parse(this.featureHighlightConfigJson)))for(let n=0;n<localStorage.length;n++)if(localStorage.key(n).startsWith(e)){t.set(localStorage.key(n),localStorage.getItem(localStorage.key(n)));break}localStorage.clear(),t.forEach((t,e)=>localStorage.setItem(e,t)),localStorage.setItem(this.FEATURE_HIGHLIGHT_CONFIGS,this.featureHighlightConfigJson)}else localStorage.clear()}getFeatureHighlightConfig(t){return this.featureHighlightMap.get(t)}setFeatureConfigs(){this.featureHighlightConfigJson=localStorage.getItem(this.FEATURE_HIGHLIGHT_CONFIGS),null==this.featureHighlightConfigJson?this.http.get("./assets/configs/feature-highlight-configs.json").toPromise().then(t=>{this.featureHighlightConfigJson=JSON.stringify(t),localStorage.setItem(this.FEATURE_HIGHLIGHT_CONFIGS,this.featureHighlightConfigJson),this.initializeFeatureConfigMap()}):this.initializeFeatureConfigMap()}}return t.\u0275fac=function(e){return new(e||t)(i.bc(a.c))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},cauy:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("rqHP");class a{constructor(){this.firstName="",this.lastName="",this.fullName="",this.username="",this.password="",this.dateOfBirth=0,this.profileTags=[],this.dxCodes=[],this.email="",this.authenticationProvider="COOEY",this.country="",this.mobile="",this.type="",this.zipCode=null,this.insuranceInformation=new i.a,this.externalSources=new Array}}},cnAw:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o});class i{constructor(){this.overallStatus="APPROVED",this.type=a.HOME_VISIT,this.ownerType=o.TENANT_ADMIN}}var a=function(t){return t.HOME_VISIT="HOME_VISIT",t.HOSPITAL_VISIT="HOSPITAL_VISIT",t.VIDEO_CALL="VIDEO_CALL",t.AUDIO_CALL="AUDIO_CALL",t}({}),o=function(t){return t.PATIENT="PATIENT",t.TENANT="TENANT",t.GUARDIAN="GUARDIAN",t.ADMIN="ADMIN",t.CARE_TAKER="CARE_TAKER",t.USER="USER",t.GROUP_ADMIN="GROUP_ADMIN",t.TENANT_ADMIN="TENANT_ADMIN",t.SUPER_ADMIN="SUPER_ADMIN",t.DUTY_NURSE="DUTY_NURSE",t}({})},dRHE:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("WoUL"),a=n("fXoL");let o=(()=>{class t{constructor(t){this.translationService=t}transform(t,e){let n=this.translationService.wordMap.get(t);return n?((null==e?void 0:e.length)&&(null==e||e.forEach(t=>{n=null==n?void 0:n.replace(`{${t[0]}}`,t[1])})),n):t}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(i.a))},t.\u0275pipe=a.Qb({name:"translate",type:t,pure:!0}),t})()},dRj7:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.LESS_THAN="LESS_THAN",t.GREATER_THAN="GREATER_THAN",t.EQUAL_TO="EQUAL_TO",t.BETWEEN="BETWEEN",t}({})},dh1a:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("fXoL"),a=n("ofXK"),o=n("cA1j"),s=n("SHZf"),r=n("WoUL"),c=n("UFn0");function l(t){return()=>t.initialize()}let d=(()=>{class t{constructor(t){this.translationService=t,t.setLanguage()}static forRoot(){return{ngModule:t,providers:[o.a,{provide:i.d,useFactory:l,deps:[o.a],multi:!0}]}}}return t.\u0275mod=i.Pb({type:t}),t.\u0275inj=i.Ob({factory:function(e){return new(e||t)(i.bc(r.a))},imports:[[a.c,c.a,s.a.forRoot()]]}),t})()},eKjZ:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{transform(t,e){const n=Date.now()-new Date(t).getTime(),i=new Date(n);return Math.abs(i.getUTCFullYear()-1970)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"userAge",type:t,pure:!0}),t})()},eq8A:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("fXoL"),a=n("dEAy"),o=n("B+r4"),s=n("PTRe"),r=n("3Pt+"),c=n("OzZK"),l=n("RwU8"),d=n("C2AL");let u=(()=>{class t{constructor(t){this.modalRef=t,this.reason="",this.loading=!1}ngOnInit(){}disable(){this.modalRef.destroy({isConfirmed:!0,reason:this.reason})}cancel(){this.modalRef.destroy({isConfirmed:!1,reason:""})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(a.e))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-confirm-modal"]],decls:15,vars:9,consts:[["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[3,"nzMaxCharacterCount"],["rows","5","nz-input","",3,"ngModel","ngModelChange"],["nz-row","","nzJustify","end",1,"space-vertical",3,"nzGutter"],["nz-col","","nzSpan","4"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"nzLoading","disabled","click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"p"),i.Xc(3," If you are proceeding to disable the staff, please specify the reason and click Confirm! "),i.Wb(),i.Wb(),i.Wb(),i.Xb(4,"div",0),i.Xb(5,"div",1),i.Xb(6,"nz-textarea-count",2),i.Xb(7,"textarea",3),i.ec("ngModelChange",function(t){return e.reason=t}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",4),i.Xb(9,"div",5),i.Xb(10,"button",6),i.ec("click",function(){return e.cancel()}),i.Xc(11," Cancel "),i.Wb(),i.Wb(),i.Xb(12,"div",5),i.Xb(13,"button",7),i.ec("click",function(){return e.disable()}),i.Xc(14," Confirm "),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.rc("nzGutter",24),i.Db(1),i.rc("nzSpan",24),i.Db(3),i.rc("nzGutter",24),i.Db(1),i.rc("nzSpan",24),i.Db(1),i.rc("nzMaxCharacterCount",100),i.Db(1),i.rc("ngModel",e.reason),i.Db(1),i.rc("nzGutter",24),i.Db(5),i.rc("nzLoading",e.loading)("disabled",0==e.reason.length))},directives:[o.c,o.a,s.f,s.b,r.d,r.u,r.x,c.a,l.a,d.a],styles:[".space-vertical[_ngcontent-%COMP%]{margin-top:18px;margin-right:0!important}"]}),t})()},fEa1:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),a=n("tyNb");let o=(()=>{class t{constructor(t,e){this._router=t,this._activatedRoute=e,this.queryParams=this._activatedRoute.snapshot.queryParams,this._activatedRoute.queryParams.subscribe(t=>{this.queryParams=t})}setParameter(t,e=!1,n){this._router.navigate([],{queryParams:t,queryParamsHandling:e?"":"merge",relativeTo:this._activatedRoute,replaceUrl:n})}getParameterValue(t){return this.queryParams[t]}}return t.\u0275fac=function(e){return new(e||t)(i.bc(a.g),i.bc(a.a))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},fQ3Y:function(t,e,n){"use strict";n.d(e,"a",function(){return xt});var i=n("geco"),a=(n("azu5"),n("HZ0a")),o=n("x6g7"),s=n("4iVq"),r=n("BrXI"),c=n("igu/"),l=n("FrsH"),d=n("fXoL"),u=n("bNXi"),p=n("tyNb"),h=n("F6ss"),b=n("oyxB"),g=n("ofXK"),m=n("3/1E"),f=n("ZKr6"),v=n("5vDB"),S=n("OzZK"),T=n("RwU8"),C=n("C2AL"),E=n("qAZ0"),I=n("B+r4"),M=n("dRHE"),y=n("OkQO");function A(t,e){if(1&t&&(d.Xb(0,"p",13),d.Xb(1,"strong"),d.Xc(2),d.Wb(),d.Wb()),2&t){const t=d.ic().$implicit;d.Db(2),d.Yc(null==t?null:t.raisedFor)}}function _(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"span",14),d.Xc(2),d.jc(3,"alertMessage"),d.Wb(),d.Ub()),2&t){const t=d.ic().$implicit;d.Db(2),d.Zc(" ",d.mc(3,1,null==t?null:t.type,null==t?null:t.alertMessageParameters,null==t?null:t.message)," ")}}function D(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"span",14),d.Xc(2),d.jc(3,"alertMessage"),d.Wb(),d.Ub()),2&t){const t=d.ic().$implicit;d.Db(2),d.Zc(" ",d.mc(3,1,null==t?null:t.type,null==t?null:t.alertMessageParameters,null==t?null:t.message)," ")}}function z(t,e){if(1&t&&(d.Vb(0),d.Sb(1,"span",15),d.jc(2,"alertMessage"),d.Ub()),2&t){const t=d.ic().$implicit;d.Db(1),d.sc("innerHtml",d.nc(2,1,null==t?null:t.type,null==t?null:t.alertMessageParameters,null==t?null:t.message,t),d.Mc)}}function O(t,e){if(1&t){const t=d.Yb();d.Xb(0,"button",19),d.ec("click",function(){d.Lc(t);const e=d.ic(2).$implicit;return d.ic(2).closeAlert(e.id)}),d.Xc(1),d.jc(2,"translate"),d.Wb()}2&t&&(d.Db(1),d.Zc(" ",d.kc(2,1,"MARKED_AS_CLOSED")," "))}function N(t,e){if(1&t){const t=d.Yb();d.Xb(0,"button",20),d.ec("click",function(){d.Lc(t);const e=d.ic(2).$implicit;return d.ic(2).view(e)}),d.Xc(1),d.jc(2,"translate"),d.Wb()}2&t&&(d.Db(1),d.Zc(" ",d.kc(2,1,"COMMON.VIEW")," "))}function P(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"span",16),d.Vc(2,O,3,3,"button",17),d.Vc(3,N,3,3,"button",18),d.Wb(),d.Ub()),2&t){const t=d.ic().$implicit;d.Db(2),d.rc("ngIf","VERY_LOW"==t.priority),d.Db(1),d.rc("ngIf","VITAL_LIMIT_CROSSED"==t.type||"TODO_TASK_SKIPPED"==t.type||"FORM_ALERT"==t.type||"PRIORITISED"==t.type)}}const R=function(){return["CLOSE_PATIENT_ALERT"]};function X(t,e){if(1&t&&(d.Xb(0,"div",6),d.Xb(1,"div",7),d.Xb(2,"p",8),d.Xb(3,"strong"),d.Xc(4),d.jc(5,"date"),d.Wb(),d.Wb(),d.Vc(6,A,3,1,"p",9),d.Xb(7,"p",10),d.Vc(8,_,4,5,"ng-container",1),d.Vc(9,D,4,5,"ng-container",1),d.Vc(10,z,3,6,"ng-container",1),d.Wb(),d.Wb(),d.Sb(11,"div",11),d.Vc(12,P,4,2,"ng-container",12),d.Sb(13,"nz-divider"),d.Wb()),2&t){const t=e.$implicit;d.Db(4),d.Yc(d.lc(5,6,null==t?null:t.createdOn,"medium")),d.Db(2),d.rc("ngIf","FORM_ALERT"==(null==t?null:t.type)),d.Db(2),d.rc("ngIf","CAREPLAN_ASSIGNED"==t.type||"CONSENT_SUBMITTED"==t.type),d.Db(1),d.rc("ngIf","CAREPLAN_ASSIGNED"!=t.type&&"CONSENT_SUBMITTED"!=t.type&&"PRIORITISED"!=t.type),d.Db(1),d.rc("ngIf","PRIORITISED"==t.type),d.Db(2),d.rc("isFeaturePermitted",d.xc(9,R))}}function L(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div"),d.Vc(1,X,14,10,"div",4),d.Sb(2,"br"),d.Xb(3,"nz-pagination",5),d.ec("nzPageIndexChange",function(e){return d.Lc(t),d.ic().getPatientsAlerts("OPEN",e)}),d.Wb(),d.Wb()}if(2&t){const t=d.ic();d.Db(1),d.rc("ngForOf",null==t.openAlerts?null:t.openAlerts.result),d.Db(2),d.rc("nzPageIndex",t.openAlertsPage)("nzTotal",null==t.openAlerts||null==t.openAlerts.metaData?null:t.openAlerts.metaData.totalCount)}}function w(t,e){1&t&&d.Sb(0,"nz-spin",21)}function W(t,e){1&t&&(d.Xb(0,"div",22),d.Xb(1,"strong",22),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Wb()),2&t&&(d.Db(2),d.Yc(d.kc(3,1,"COMMON.NOALERTMESSAGE")))}function k(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"span",14),d.Xc(2),d.jc(3,"alertMessage"),d.Wb(),d.Ub()),2&t){const t=d.ic().$implicit;d.Db(2),d.Zc(" ",d.mc(3,1,null==t?null:t.type,null==t?null:t.alertMessageParameters,null==t?null:t.message)," ")}}function V(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"div",25),d.Sb(2,"span",15),d.jc(3,"alertMessage"),d.Wb(),d.Ub()),2&t){const t=d.ic().$implicit;d.Db(2),d.sc("innerHtml",d.nc(3,1,null==t?null:t.type,null==t?null:t.alertMessageParameters,null==t?null:t.message,t),d.Mc)}}function x(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"span",14),d.Xc(2),d.jc(3,"alertMessage"),d.Wb(),d.Ub()),2&t){const t=d.ic().$implicit;d.Db(2),d.Zc(" ",d.mc(3,1,null==t?null:t.type,null==t?null:t.alertMessageParameters,null==t?null:t.message)," ")}}function U(t,e){if(1&t){const t=d.Yb();d.Xb(0,"button",26),d.ec("click",function(){d.Lc(t);const e=d.ic().$implicit;return d.ic(2).view(e)}),d.Xc(1),d.jc(2,"translate"),d.Wb()}2&t&&(d.Db(1),d.Yc(d.kc(2,1,"COMMON.VIEW")))}function F(t,e){if(1&t&&(d.Xb(0,"div",6),d.Xb(1,"p",8),d.Xb(2,"strong"),d.Xc(3),d.jc(4,"date"),d.Wb(),d.Wb(),d.Xb(5,"div",23),d.Xb(6,"p",10),d.Vc(7,k,4,5,"ng-container",1),d.Vc(8,V,4,6,"ng-container",1),d.Vc(9,x,4,5,"ng-container",1),d.Wb(),d.Wb(),d.Vc(10,U,3,3,"button",24),d.Sb(11,"nz-divider"),d.Wb()),2&t){const t=e.$implicit;d.Db(3),d.Yc(d.lc(4,5,null==t?null:t.createdOn,"medium")),d.Db(4),d.rc("ngIf","CAREPLAN_ASSIGNED"==t.type||"CONSENT_SUBMITTED"==t.type),d.Db(1),d.rc("ngIf","PRIORITISED"==t.type),d.Db(1),d.rc("ngIf","CAREPLAN_ASSIGNED"!=t.type&&"CONSENT_SUBMITTED"!=t.type&&"PRIORITISED"!=t.type),d.Db(1),d.rc("ngIf","VITAL_LIMIT_CROSSED"==t.type||"TODO_TASK_SKIPPED"==t.type||"FORM_ALERT"==t.type)}}function H(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div"),d.Vc(1,F,12,8,"div",4),d.Sb(2,"br"),d.Xb(3,"nz-pagination",5),d.ec("nzPageIndexChange",function(e){return d.Lc(t),d.ic().getPatientsAlerts("CLOSED",e)}),d.Wb(),d.Wb()}if(2&t){const t=d.ic();d.Db(1),d.rc("ngForOf",null==t.closedAlerts?null:t.closedAlerts.result),d.Db(2),d.rc("nzPageIndex",t.closedAlertsPage)("nzTotal",null==t.closedAlerts||null==t.closedAlerts.metaData?null:t.closedAlerts.metaData.totalCount)}}function B(t,e){1&t&&d.Sb(0,"nz-spin",21)}function j(t,e){1&t&&(d.Xb(0,"div",22),d.Xb(1,"strong"),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Wb()),2&t&&(d.Db(2),d.Yc(d.kc(3,1,"COMMON.NOALERTMESSAGE")))}let G=(()=>{class t{constructor(t,e,n,i,a,o,s){this._patientsService=t,this._notificationsService=e,this._patientsEventLogger=n,this._router=i,this._alertService=a,this._drawerRef=o,this._dataSharingService=s,this.allPatients=!1,this.openAlertsPage=1,this.closedAlertsPage=1,this.linkedAlertVitals=new Array}ngOnDestroy(){}ngOnInit(){this.allPatients?(this.getAllPatientsAlerts(r.a.OPEN,1),this.getAllPatientsAlerts(r.a.CLOSED,1)):(this.getPatientsAlerts(r.a.OPEN,1),this.getPatientsAlerts(r.a.CLOSED,1)),this.getPatientInformation()}getOffset(t){let e=1;return e=1!==t?10*(t-1):0,e}getPatientsAlerts(t,e){this.loading=!0;var n=new s.a;n.patientId=this.patientId,n.status=t,n.offset=this.getOffset(e),this._alertService.fetchAlerts(n).subscribe(n=>{t===r.a.OPEN?this.openAlerts=n:this.closedAlerts=n,t===r.a.OPEN?this.openAlertsPage=e:this.closedAlertsPage=e,this.loading=!1})}getAllPatientsAlerts(t,e){this.loading=!0;var n=new s.a;n.status=t,n.offset=this.getOffset(e),this._alertService.fetchAlerts(n).subscribe(n=>{t===r.a.OPEN?this.openAlerts=n:this.closedAlerts=n,t===r.a.OPEN?this.openAlertsPage=e:this.closedAlertsPage=e,this.loading=!1})}closeAlert(t){this._alertService.closeAlert(t).subscribe(()=>{this._patientsEventLogger.patientAlertEvent(this.patientId,"alert_mark_as_closed"),this._notificationsService.success("Success","Alert Closed Successfully"),this._dataSharingService.triggerAlertRefresh(),this.ngOnInit()})}view(t){let e,n=!1,i=null;switch(t.type==l.a.PRIORITISED.toString()?(e=t.id,i=t.status,this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers,t.linkedAlerts.forEach((t,e)=>{this.linkedAlertVitals[e]=t.alertContext.id}),t=t.linkedAlerts[0],n=!0):(this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers),this.alertId=t.id,this._patientsEventLogger.patientAlertEvent(this.patientId,"view_alert"),t.type){case"TODO_TASK_SKIPPED":this.viewSkippedTaskAlert(t);break;case"VITAL_LIMIT_CROSSED":this.viewVitalLimitAlert(t,e,i,n);break;case"FORM_ALERT":this.viewFormAlert(t);break;case"CAREPLAN_ASSIGNED":case"CONSENT_SUBMITTED":this.viewEpisode(t)}}viewEpisode(t){this._router.navigate([`episodes/details/${t.patientId}/${t.alertMessageParameters.EPISODE_ID}`],{queryParams:{blueprintId:t.alertMessageParameters.EPISODE_BLUEPRINT_ID}})}viewFormAlert(t){var e,n,i,a;const o=null===(i=null===(n=null===(e=this.patientInfo)||void 0===e?void 0:e.patientState)||void 0===n?void 0:n.assessmentScores)||void 0===i?void 0:i.filter(e=>e.name==t.raisedFor);this._router.navigate(["patient/assessment-trend",this.patientId],{queryParams:{patientId:this.patientId,alert:t.id,blueprintId:null===(a=null==o?void 0:o[0])||void 0===a?void 0:a.parentFormId}}),this.closeDrawer()}viewVitalLimitAlert(t,e,n,i=!1){this._router.navigate(["patient/vital-trend",t.patientId],{queryParams:{patientId:t.patientId,patientName:this.patientName,dob:this.dob,isPrioritisedAlert:i,alertId:this.alertId,prioritisedAlertId:e,prioritisedAlertStatus:n,linkedVitals:JSON.stringify(this.linkedAlertVitals),phoneNumbers:JSON.stringify(this.phoneNumbers)}}),this.closeDrawer()}viewSkippedTaskAlert(t){this._router.navigate(["patient/vital-trend",this.patientId],{queryParams:{patientId:this.patientId,patientName:this.patientInfo.fullName,dob:this.patientInfo.dateOfBirth,alert:JSON.stringify(t),phoneNumbers:JSON.stringify(this.phoneNumbers)}}),this.closeDrawer()}getPatientInformation(){this._patientsService.fetchPatientById(this.patientId).subscribe(t=>{this.patientInfo=t})}closeDrawer(t=!0){this._drawerRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(i.a),d.Rb(u.b),d.Rb(a.a),d.Rb(p.g),d.Rb(o.a),d.Rb(h.c),d.Rb(c.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-alerts-dialog"]],inputs:{patientId:"patientId",patient:"patient",episodeId:"episodeId",careplanId:"careplanId",carePlanStartDate:"carePlanStartDate",tmsPercent:"tmsPercent",additionalTMSPercent:"additionalTMSPercent",allPatients:"allPatients",phoneNumbers:"phoneNumbers"},decls:11,vars:12,consts:[[3,"nzTitle"],[4,"ngIf"],["class","spinner","nzSimple","",4,"ngIf"],["class","no-alerts",4,"ngIf"],["class","alerts-container",4,"ngFor","ngForOf"],[1,"align-right",3,"nzPageIndex","nzTotal","nzPageIndexChange"],[1,"alerts-container"],[1,"block-inline","block-8"],[1,"note-date"],["class","note-heading",4,"ngIf"],[1,"alert","alert-msg"],[1,"block-inline","block-2"],[4,"isFeaturePermitted"],[1,"note-heading"],[1,"alert-message"],[1,"alert-message",3,"innerHtml"],[2,"float","right","margin-right","10px","margin-bottom","10px"],["nz-button","","nzType","danger","class","btn-closed",3,"click",4,"ngIf"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],["nz-button","","nzType","danger",1,"btn-closed",3,"click"],["nz-button","","nzType","primary",3,"click"],["nzSimple","",1,"spinner"],[1,"no-alerts"],[1,"block-inline","block-10"],["nz-button","","nzType","primary","class","view-btn",3,"click",4,"ngIf"],["nz-col","","nzSpan","11"],["nz-button","","nzType","primary",1,"view-btn",3,"click"]],template:function(t,e){1&t&&(d.Xb(0,"nz-tabset"),d.Xb(1,"nz-tab",0),d.jc(2,"translate"),d.Vc(3,L,4,3,"div",1),d.Vc(4,w,1,0,"nz-spin",2),d.Vc(5,W,4,3,"div",3),d.Wb(),d.Xb(6,"nz-tab",0),d.jc(7,"translate"),d.Vc(8,H,4,3,"div",1),d.Vc(9,B,1,0,"nz-spin",2),d.Vc(10,j,4,3,"div",3),d.Wb(),d.Wb()),2&t&&(d.Db(1),d.sc("nzTitle",d.kc(2,8,"ALERTS.OPEN")),d.Db(2),d.rc("ngIf",!e.loading&&(null==e.openAlerts||null==e.openAlerts.result?null:e.openAlerts.result.length)),d.Db(1),d.rc("ngIf",e.loading),d.Db(1),d.rc("ngIf",!(e.loading||null!=e.openAlerts&&null!=e.openAlerts.result&&e.openAlerts.result.length)),d.Db(1),d.sc("nzTitle",d.kc(7,10,"ALERTS.CLOSED")),d.Db(2),d.rc("ngIf",!e.loading&&(null==e.closedAlerts||null==e.closedAlerts.result?null:e.closedAlerts.result.length)),d.Db(1),d.rc("ngIf",e.loading),d.Db(1),d.rc("ngIf",!(e.loading||null!=e.closedAlerts&&null!=e.closedAlerts.result&&e.closedAlerts.result.length)))},directives:[b.d,b.a,g.q,g.p,m.a,f.a,v.a,S.a,T.a,C.a,E.a,I.a],pipes:[M.a,g.e,y.a],styles:[".align-right[_ngcontent-%COMP%]{text-align:right;cursor:pointer}.alerts-container[_ngcontent-%COMP%]{margin:1%;padding:2%;border-radius:10px}#add-note[_ngcontent-%COMP%]{border-radius:15px;background-color:#f7f7f7}.block-inline[_ngcontent-%COMP%]{display:inline-block;word-wrap:break-word}.block-8[_ngcontent-%COMP%]{width:80%}.block-6[_ngcontent-%COMP%]{width:60%}.block-2[_ngcontent-%COMP%]{width:20%}.alert[_ngcontent-%COMP%]{font-size:12px}.alert-msg[_ngcontent-%COMP%]{color:gray}.no-alerts[_ngcontent-%COMP%]{width:100%;text-align:center}.spinner[_ngcontent-%COMP%]{margin-top:2%;text-align:center}.view-btn[_ngcontent-%COMP%]{float:right;margin-right:10px;margin-bottom:10px}.btn-closed[_ngcontent-%COMP%]{color:#c81c1c;background:var(--neutral-color);text-shadow:0 -1px 0 rgba(0,0,0,.12);box-shadow:0 2px 0 rgba(0,0,0,.05);border-color:red;position:relative;right:7px}.priority-tag[_ngcontent-%COMP%]{opacity:.7}"]}),t})();var Y=n("W9fG"),$=n("eHCX");function q(t,e){if(1&t&&(d.Xb(0,"div",12),d.Xb(1,"div",13),d.Xc(2),d.Wb(),d.Xb(3,"div",14),d.Xc(4),d.Wb(),d.Sb(5,"br"),d.Wb()),2&t){const t=e.$implicit;d.Db(2),d.Zc(" ",(null==t?null:t.prompt)||(null==t?null:t.name)," "),d.Db(2),d.Zc(" ",null==t?null:t.value," ")}}const Z=function(t){return{danger:t}};function Q(t,e){if(1&t&&(d.Xb(0,"div",12),d.Xb(1,"div",13),d.Xc(2),d.Wb(),d.Xb(3,"div",15),d.Xc(4),d.Wb(),d.Sb(5,"br"),d.Wb()),2&t){const t=e.$implicit;d.Db(2),d.Zc(" ",(null==t?null:t.prompt)||(null==t?null:t.name)," "),d.Db(1),d.rc("ngClass",d.yc(3,Z,"No"===(null==t?null:t.value))),d.Db(1),d.Zc(" ",null==t?null:t.value," ")}}let K=(()=>{class t{constructor(t,e){this._router=t,this._drawerRef=e,this.healthScoreFormat=t=>`${t||"-"}/${this.userHealthScore.baseValue||"-"}`}ngOnInit(){this.scoreParametersSections=this.userHealthScore.healthScore.scoreCalculationHistory[this.userHealthScore.healthScore.scoreCalculationHistory.length-1].scoreParametersSections}viewProfile(){const t=`patient/view/${this.patientId}`;this._drawerRef.close(!0),this._router.navigate([t])}gotoHealthScoreHistory(){this._drawerRef.close(!0),this._router.navigate(["patient/healthscore/",this.patientId])}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(p.g),d.Rb(h.c))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-health-score-details"]],inputs:{patientId:"patientId",patientName:"patientName",userHealthScore:"userHealthScore"},decls:31,vars:11,consts:[["nz-row","","nzGutter","32"],["nz-col","","nzSpan","6",3,"click"],["nzType","circle",3,"nzStrokeColor","nzFormat","nzWidth","nzPercent"],["nz-col","","nzSpan","18"],["nz-typography",""],["nz-typography","","nzType","secondary"],["nz-typography","","nzType","success"],["nz-row","",4,"ngFor","ngForOf"],[1,"text-center"],["nz-button","","nzType","primary",3,"click"],["nzType","vertical"],["nz-button","","nzType","default",3,"click"],["nz-row",""],["nz-col","","nzSpan","16",1,"heading"],["nz-col","","nzSpan","8",1,"value"],["nz-col","","nzSpan","8",1,"value",3,"ngClass"]],template:function(t,e){1&t&&(d.Sb(0,"br"),d.Xb(1,"div",0),d.Xb(2,"div",1),d.ec("click",function(){return e.gotoHealthScoreHistory()}),d.Sb(3,"nz-progress",2),d.Wb(),d.Xb(4,"div",3),d.Xb(5,"h4",4),d.Xc(6),d.Wb(),d.Xb(7,"h5",5),d.Xc(8," RI last measured on: "),d.Sb(9,"br"),d.Xc(10),d.jc(11,"date"),d.Wb(),d.Wb(),d.Wb(),d.Sb(12,"nz-divider"),d.Xb(13,"h3",6),d.Xc(14,"Vital signs"),d.Wb(),d.Sb(15,"br"),d.Vc(16,q,6,2,"div",7),d.Sb(17,"nz-divider"),d.Xb(18,"h3",6),d.Xc(19,"Assessment"),d.Wb(),d.Sb(20,"br"),d.Vc(21,Q,6,5,"div",7),d.Sb(22,"nz-divider"),d.Xb(23,"div",8),d.Xb(24,"button",9),d.ec("click",function(){return e.viewProfile()}),d.Xc(25," View Profile "),d.Wb(),d.Vb(26),d.Sb(27,"nz-divider",10),d.Xb(28,"button",11),d.ec("click",function(){return e.gotoHealthScoreHistory()}),d.Xc(29," View History "),d.Wb(),d.Ub(),d.Sb(30,"nz-divider"),d.Wb()),2&t&&(d.Db(3),d.rc("nzStrokeColor","#a7c853")("nzFormat",e.healthScoreFormat)("nzWidth",75)("nzPercent",null==e.userHealthScore||null==e.userHealthScore.healthScore?null:e.userHealthScore.healthScore.totalScore),d.Db(3),d.Yc(e.patientName||"N/A"),d.Db(4),d.Zc(" ",d.lc(11,8,null==e.userHealthScore||null==e.userHealthScore.healthScore?null:e.userHealthScore.healthScore.calculatedOn,"medium")," "),d.Db(6),d.rc("ngForOf",e.scoreParametersSections[1].scoreParameters),d.Db(5),d.rc("ngForOf",e.scoreParametersSections[0].scoreParameters))},directives:[I.c,I.a,Y.a,$.a,v.a,g.p,S.a,T.a,C.a,g.o],pipes:[g.e],styles:["[_nghost-%COMP%]     .ant-descriptions-item-label{color:var(--neutral-color)!important}[_nghost-%COMP%]     .ant-descriptions-row>td{padding:0!important}h3[_ngcontent-%COMP%]{font-size:13px}h4[_ngcontent-%COMP%]{text-transform:capitalize}[_nghost-%COMP%]     .ant-progress-text{color:#d81b60;font-size:18px;font-weight:700}.heading[_ngcontent-%COMP%]{font-size:12px;font-weight:700;padding-bottom:10px}.value[_ngcontent-%COMP%]{font-size:15px;color:var(--primary-color);font-weight:700;font-family:monospace}.danger[_ngcontent-%COMP%]{color:#d81b60}.text-center[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{width:45%}"]}),t})();var J=n("qQcL"),tt=n("0rTH"),et=n("0zwC"),nt=n("ZE2D");function it(t,e){if(1&t&&d.Sb(0,"img",15),2&t){const t=d.ic();d.rc("src",null==t.patientDetails?null:t.patientDetails.profilePicture,d.Oc)}}function at(t,e){1&t&&d.Sb(0,"nz-avatar",16),2&t&&d.rc("nzShape","square")("nzSize",75)("nzIcon","user")}function ot(t,e){1&t&&(d.Vb(0),d.Xc(1,"Male"),d.Ub())}function st(t,e){1&t&&(d.Vb(0),d.Xc(1,"Female"),d.Ub())}function rt(t,e){1&t&&(d.Vb(0),d.Xc(1,"Other"),d.Ub())}function ct(t,e){if(1&t&&(d.Xb(0,"p"),d.Xb(1,"strong"),d.Xc(2),d.Wb(),d.Wb()),2&t){const t=d.ic();d.Db(2),d.Yc(null==t.patientDetails||null==t.patientDetails.quickNote?null:t.patientDetails.quickNote.content)}}let lt=(()=>{class t{constructor(t){this._drawerRef=t}closeDrawer(t=!0){this._drawerRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(h.c))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-patient-basic-info"]],inputs:{patientDetails:"patientDetails"},features:[d.Cb([tt.a])],decls:31,vars:21,consts:[["nz-row",""],["nz-col","","nzSpan","8"],[2,"text-align","center"],["alt","user-profile",3,"src",4,"ngIf"],[3,"nzShape","nzSize","nzIcon",4,"ngIf"],[1,"status-tag"],["isFullName","true",3,"patientStatus"],["nz-col","","nzSpan","16"],["nz-typography",""],["nz-typography","","nzType","secondary"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],["nz-col","","nzSpan","12"],["nz-button","","nzType","primary",3,"routerLink","click"],["alt","user-profile",3,"src"],[3,"nzShape","nzSize","nzIcon"]],template:function(t,e){1&t&&(d.Sb(0,"br"),d.Xb(1,"div",0),d.Xb(2,"div",1),d.Xb(3,"div",2),d.Vc(4,it,1,1,"img",3),d.Vc(5,at,1,3,"nz-avatar",4),d.Xb(6,"div",5),d.Sb(7,"app-patient-status-tag",6),d.Wb(),d.Wb(),d.Wb(),d.Xb(8,"div",7),d.Xb(9,"h4",8),d.Xc(10),d.Wb(),d.Xb(11,"h5",9),d.Xc(12),d.Xb(13,"span",10),d.Vc(14,ot,2,0,"ng-container",11),d.Vc(15,st,2,0,"ng-container",11),d.Vc(16,rt,2,0,"ng-container",11),d.Wb(),d.Wb(),d.Xb(17,"h5",9),d.Xc(18),d.jc(19,"date"),d.Wb(),d.Xb(20,"h5",9),d.Xc(21),d.jc(22,"language"),d.Wb(),d.Wb(),d.Wb(),d.Sb(23,"br"),d.Vc(24,ct,3,1,"p",12),d.Xb(25,"div",0),d.Xb(26,"div",13),d.Xb(27,"button",14),d.ec("click",function(){return e.closeDrawer()}),d.Xc(28),d.jc(29,"translate"),d.Wb(),d.Wb(),d.Wb(),d.Sb(30,"nz-divider")),2&t&&(d.Db(4),d.rc("ngIf",null==e.patientDetails?null:e.patientDetails.profilePicture),d.Db(1),d.rc("ngIf",!(null!=e.patientDetails&&e.patientDetails.profilePicture)),d.Db(2),d.rc("patientStatus",null==e.patientDetails?null:e.patientDetails.patientStatus),d.Db(3),d.Yc((null==e.patientDetails?null:e.patientDetails.name)||"N/A"),d.Db(2),d.Zc(" ",(null==e.patientDetails?null:e.patientDetails.age)||"N/A"," years, "),d.Db(1),d.rc("ngSwitch",null==e.patientDetails?null:e.patientDetails.gender),d.Db(1),d.rc("ngSwitchCase","MALE"),d.Db(1),d.rc("ngSwitchCase","FEMALE"),d.Db(1),d.rc("ngSwitchCase","OTHER"),d.Db(2),d.Zc(" DoB: \xa0 ",d.lc(19,14,null==e.patientDetails?null:e.patientDetails.dateOfBirth,"mediumDate")||"N/A"," "),d.Db(3),d.Zc(" Language: \xa0 ",d.kc(22,17,null==e.patientDetails||null==e.patientDetails.language?null:e.patientDetails.language.locale)||"N/A"," "),d.Db(3),d.rc("ngIf",null==e.patientDetails||null==e.patientDetails.quickNote?null:e.patientDetails.quickNote.content),d.Db(3),d.tc("routerLink","/patient/view/",null==e.patientDetails?null:e.patientDetails.id,""),d.Db(1),d.Zc(" ",d.kc(29,19,"PATIENT.VIEW_PROFILE")," "))},directives:[I.c,I.a,g.q,et.a,$.a,g.s,g.t,S.a,T.a,C.a,p.h,v.a,nt.a],pipes:[g.e,tt.a,M.a],styles:["[_nghost-%COMP%]     .ant-avatar{background:#dddfe1}img[_ngcontent-%COMP%]{width:75px;height:75px}h4[_ngcontent-%COMP%]{text-transform:capitalize}h5[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}button[_ngcontent-%COMP%]{width:100%}.status-tag[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();var dt=n("Wfee");function ut(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"div",3),d.Xb(2,"div",4),d.Xb(3,"h5",5),d.Xc(4),d.Wb(),d.Wb(),d.Xb(5,"div",6),d.Sb(6,"app-audio-call-widget",7),d.Wb(),d.Xb(7,"div",6),d.Sb(8,"app-chat-widget",7),d.Wb(),d.Wb(),d.Ub()),2&t){const t=e.$implicit;d.Db(4),d.Zc(" ",null==t?null:t.value," "),d.Db(2),d.rc("userId",null==t?null:t.key),d.Db(2),d.rc("userId",null==t?null:t.key)}}function pt(t,e){1&t&&(d.Xb(0,"div",8),d.Sb(1,"nz-alert",9),d.jc(2,"translate"),d.Wb()),2&t&&(d.Db(1),d.sc("nzMessage",d.kc(2,1,"PATIENT.NO_MONITORING_STAFF")))}let ht=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Lb({type:t,selectors:[["app-assigned-caretakers"]],inputs:{patientDetails:"patientDetails"},decls:8,vars:9,consts:[["nz-typography","","nzType","success"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","18"],["nz-typography",""],["nz-col","","nzSpan","3"],[3,"userId"],[1,"text-center"],["nzType","warning",3,"nzMessage"]],template:function(t,e){if(1&t&&(d.Xb(0,"h4",0),d.Xc(1),d.jc(2,"translate"),d.Wb(),d.Vc(3,ut,9,3,"ng-container",1),d.jc(4,"keyvalue"),d.Vc(5,pt,3,3,"div",2),d.jc(6,"keyvalue"),d.Sb(7,"nz-divider")),2&t){let t=null;d.Db(1),d.Yc(d.kc(2,3,"COMMON.MONITORED_BY")),d.Db(2),d.rc("ngForOf",d.kc(4,5,null==e.patientDetails?null:e.patientDetails.assignedCaretakers)),d.Db(2),d.rc("ngIf",!(null!=e.patientDetails&&e.patientDetails.assignedCaretakers&&null!=(t=d.kc(6,7,null==e.patientDetails?null:e.patientDetails.assignedCaretakers))&&t.length))}},directives:[$.a,g.p,g.q,v.a,I.c,I.a,dt.a],pipes:[M.a,g.j],styles:[".text-center[_ngcontent-%COMP%]{text-align:center}h4[_ngcontent-%COMP%]{font-size:12px!important}h5[_ngcontent-%COMP%]{font-weight:400!important;font-size:13px!important}"]}),t})();var bt=n("ZyQt"),gt=n("wjar"),mt=n("glKu");function ft(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"nz-tag",5),d.Xc(2),d.Wb(),d.Ub()),2&t){const t=e.$implicit;d.Db(2),d.Yc(t)}}function vt(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"h4",3),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Vc(4,ft,3,1,"ng-container",4),d.Sb(5,"nz-divider"),d.Wb()),2&t){const t=d.ic();d.Db(2),d.Yc(d.kc(3,2,"COMMON.PROFILETAG")),d.Db(2),d.rc("ngForOf",null==t.patientDetails?null:t.patientDetails.profileTags)}}function St(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"h4",3),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Sb(4,"br"),d.Xb(5,"h4",3),d.Xc(6),d.jc(7,"translate"),d.Wb(),d.Xb(8,"label"),d.Xc(9),d.Wb(),d.Sb(10,"br"),d.Xc(11,"\xa0"),d.Sb(12,"br"),d.Xb(13,"h4",3),d.Xc(14),d.jc(15,"translate"),d.Wb(),d.Xb(16,"label"),d.Xc(17),d.Wb(),d.Sb(18,"nz-divider"),d.Wb()),2&t){const t=d.ic();d.Db(2),d.Yc(d.kc(3,5,"EPISODE.PRIMARY_INSURANCE")),d.Db(4),d.Yc(d.kc(7,7,"EPISODE.CARRIER_NAME")),d.Db(3),d.Zc(" ",(null==t.patientDetails||null==t.patientDetails.insuranceInformation||null==t.patientDetails.insuranceInformation.primaryInsuranceDetails?null:t.patientDetails.insuranceInformation.primaryInsuranceDetails.carrierName)||"N/A"," "),d.Db(5),d.Yc(d.kc(15,9,"EPISODE.INSURER_MEMBER_ID")),d.Db(3),d.Zc(" ",(null==t.patientDetails||null==t.patientDetails.insuranceInformation||null==t.patientDetails.insuranceInformation.primaryInsuranceDetails?null:t.patientDetails.insuranceInformation.primaryInsuranceDetails.insuranceId)||"N/A"," ")}}function Tt(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"h4",3),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Sb(4,"br"),d.Xb(5,"h4",3),d.Xc(6),d.jc(7,"translate"),d.Wb(),d.Xb(8,"label"),d.Xc(9),d.Wb(),d.Sb(10,"br"),d.Sb(11,"br"),d.Xb(12,"h4",3),d.Xc(13),d.jc(14,"translate"),d.Wb(),d.Xb(15,"label"),d.Xc(16),d.Wb(),d.Sb(17,"nz-divider"),d.Wb()),2&t){const t=d.ic();d.Db(2),d.Yc(d.kc(3,5,"EPISODE.SECONDARY_INSURANCE")),d.Db(4),d.Yc(d.kc(7,7,"EPISODE.CARRIER_NAME")),d.Db(3),d.Zc(" ",(null==t.patientDetails||null==t.patientDetails.insuranceInformation||null==t.patientDetails.insuranceInformation.secondaryInsuranceDetails?null:t.patientDetails.insuranceInformation.secondaryInsuranceDetails.carrierName)||"N/A"," "),d.Db(4),d.Yc(d.kc(14,9,"EPISODE.INSURER_MEMBER_ID")),d.Db(3),d.Zc(" ",(null==t.patientDetails||null==t.patientDetails.insuranceInformation||null==t.patientDetails.insuranceInformation.secondaryInsuranceDetails?null:t.patientDetails.insuranceInformation.secondaryInsuranceDetails.insuranceId)||"N/A"," ")}}function Ct(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"h4",3),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Xb(4,"h4"),d.Xc(5),d.Wb(),d.Xb(6,"h4",6),d.Xc(7),d.jc(8,"date"),d.jc(9,"date"),d.Wb(),d.Sb(10,"nz-divider"),d.Wb()),2&t){const t=d.ic();d.Db(2),d.Yc(d.kc(3,4,"PATIENT.CARE_PLAN_DETAILS")),d.Db(3),d.Yc((null==t.patientDetails?null:t.patientDetails.careplanName)||"N/A"),d.Db(2),d.ad(" ",d.lc(8,6,null==t.patientDetails?null:t.patientDetails.careplanStartDate,"mediumDate")," - ",d.lc(9,9,null==t.patientDetails?null:t.patientDetails.careplanEndDate,"mediumDate")," ")}}function Et(t,e){if(1&t&&(d.Xb(0,"div",7),d.Xb(1,"div",8),d.Xb(2,"h4",3),d.Xc(3),d.jc(4,"translate"),d.Wb(),d.Wb(),d.Xb(5,"div",9),d.Xc(6),d.jc(7,"date"),d.Wb(),d.Wb()),2&t){const t=d.ic().$implicit;d.Db(3),d.Yc(d.kc(4,2,"TABLEHEADER.COMPLETEDON")),d.Db(3),d.Zc(" ",d.lc(7,4,null==t?null:t.completedOn,"mediumDate")," ")}}function It(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"div",7),d.Xb(2,"div",8),d.Xb(3,"h4",3),d.Xc(4),d.jc(5,"translate"),d.Wb(),d.Wb(),d.Xb(6,"div",9),d.Xc(7),d.Wb(),d.Wb(),d.Xb(8,"div",7),d.Xb(9,"div",8),d.Xb(10,"h4",3),d.Xc(11),d.jc(12,"translate"),d.Wb(),d.Wb(),d.Xb(13,"div",9),d.Xc(14),d.Wb(),d.Wb(),d.Vc(15,Et,8,7,"div",10),d.Xb(16,"div",7),d.Xb(17,"div",8),d.Xb(18,"h4",3),d.Xc(19,"Scheduled On:"),d.Wb(),d.Wb(),d.Xb(20,"div",9),d.Xc(21),d.jc(22,"date"),d.Wb(),d.Wb(),d.Ub()),2&t){const t=e.$implicit;d.Db(4),d.Zc("",d.kc(5,6,"COMMON.NAME"),":"),d.Db(3),d.Zc(" ",(null==t?null:t.name)||"N/A"," "),d.Db(4),d.Yc(d.kc(12,8,"TABLEHEADER.COMPLETED")),d.Db(3),d.Zc(" ",null!=t&&t.completed?"Yes":"No"," "),d.Db(1),d.rc("ngIf",null==t?null:t.completedOn),d.Db(6),d.Zc(" ",d.lc(22,10,null==t?null:t.scheduledOn,"mediumDate")," ")}}function Mt(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"h4",3),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Sb(4,"br"),d.Vc(5,It,23,13,"ng-container",4),d.Sb(6,"nz-divider"),d.Wb()),2&t){const t=d.ic();d.Db(2),d.Yc(d.kc(3,2,"PATIENT.DEVICE_SETUP_DETAILS")),d.Db(3),d.rc("ngForOf",null==t.patientDetails?null:t.patientDetails.deviceSetupStatuses)}}function yt(t,e){if(1&t&&(d.Xb(0,"nz-tag",12),d.Xc(1),d.Wb()),2&t){const t=e.$implicit;d.Db(1),d.Yc(t)}}function At(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"h4",3),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Vc(4,yt,2,1,"nz-tag",11),d.Sb(5,"br"),d.Sb(6,"br"),d.Wb()),2&t){const t=d.ic();d.Db(2),d.Yc(d.kc(3,2,"COMMON.DIAGNOSIS")),d.Db(2),d.rc("ngForOf",null==t.patientDetails?null:t.patientDetails.icdCodes)}}function _t(t,e){if(1&t&&(d.Xb(0,"nz-tag",12),d.Xc(1),d.Wb()),2&t){const t=e.$implicit;d.Db(1),d.Yc(t)}}function Dt(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"h4",3),d.Xc(2),d.Wb(),d.Vc(3,_t,2,1,"nz-tag",11),d.Sb(4,"br"),d.Sb(5,"br"),d.Wb()),2&t){const t=d.ic();d.Db(2),d.Zc("",(null==t.patientDetails?null:t.patientDetails.episodeType)||""," Activities"),d.Db(1),d.rc("ngForOf",null==t.patientDetails?null:t.patientDetails.cptCodes)}}function zt(t,e){if(1&t){const t=d.Yb();d.Xb(0,"div",13),d.Xb(1,"button",14),d.ec("click",function(){return d.Lc(t),d.ic().gotoEpisode()}),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Sb(4,"nz-divider"),d.Wb()}2&t&&(d.Db(2),d.Zc(" ",d.kc(3,1,"PATIENT.VIEW_EPISODE")," "))}function Ot(t,e){if(1&t&&(d.Vb(0),d.Sb(1,"br"),d.Xb(2,"div",7),d.Xb(3,"div",15),d.Xb(4,"strong"),d.Xc(5),d.Wb(),d.Wb(),d.Xb(6,"div",16),d.Sb(7,"app-audio-call-widget",17),d.Wb(),d.Wb(),d.Ub()),2&t){const t=d.ic().$implicit,e=d.ic(2);d.Db(5),d.Yc((null==e.emergencyContacts[t]?null:e.emergencyContacts[t].name)||"N/A"),d.Db(2),d.rc("userId",null==e.emergencyContacts[t]?null:e.emergencyContacts[t].id)}}function Nt(t,e){if(1&t&&(d.Vb(0),d.Vc(1,Ot,8,2,"ng-container",1),d.Ub()),2&t){const t=e.$implicit,n=d.ic(2);d.Db(1),d.rc("ngIf",n.emergencyContacts[t])}}function Pt(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Sb(1,"br"),d.Xb(2,"h4",18),d.ec("click",function(){return d.Lc(t),d.ic(2).closeDrawer()}),d.Xc(3," View Emergency Contacts \xa0 "),d.Sb(4,"app-icons",19),d.Wb(),d.Ub()}if(2&t){const t=d.ic(2);d.Db(2),d.tc("routerLink","/patient/view/",null==t.patientDetails?null:t.patientDetails.id,"")}}const Rt=function(){return[0,1]};function Xt(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"h4",3),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Vc(4,Nt,2,1,"ng-container",4),d.Vc(5,Pt,5,1,"ng-container",1),d.Sb(6,"nz-divider"),d.Wb()),2&t){const t=d.ic();d.Db(2),d.Yc(d.kc(3,3,"PATIENT.EMGERGENCY_CONTACTS")),d.Db(2),d.rc("ngForOf",d.xc(5,Rt)),d.Db(1),d.rc("ngIf",(null==t.emergencyContacts?null:t.emergencyContacts.length)>2)}}function Lt(t,e){if(1&t&&(d.Vb(0),d.Sb(1,"br"),d.Xb(2,"div",7),d.Xb(3,"div",15),d.Xb(4,"strong"),d.Xc(5),d.Wb(),d.Wb(),d.Xb(6,"div",16),d.Sb(7,"app-audio-call-widget",17),d.Wb(),d.Wb(),d.Ub()),2&t){const t=d.ic().$implicit,e=d.ic(2);d.Db(5),d.Yc((null==e.guardians[t]?null:e.guardians[t].fullName)||"N/A"),d.Db(2),d.rc("userId",null==e.guardians[t]?null:e.guardians[t].id)}}function wt(t,e){if(1&t&&(d.Vb(0),d.Vc(1,Lt,8,2,"ng-container",1),d.Ub()),2&t){const t=e.$implicit,n=d.ic(2);d.Db(1),d.rc("ngIf",n.guardians[t])}}function Wt(t,e){if(1&t){const t=d.Yb();d.Vb(0),d.Sb(1,"br"),d.Xb(2,"h4",18),d.ec("click",function(){return d.Lc(t),d.ic(2).closeDrawer()}),d.Xc(3," View Guardians \xa0 "),d.Sb(4,"app-icons",19),d.Wb(),d.Ub()}if(2&t){const t=d.ic(2);d.Db(2),d.tc("routerLink","/patient/view/",null==t.patientDetails?null:t.patientDetails.id,"")}}function kt(t,e){if(1&t&&(d.Xb(0,"div"),d.Xb(1,"h4",3),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Vc(4,wt,2,1,"ng-container",4),d.Vc(5,Wt,5,1,"ng-container",1),d.Wb()),2&t){const t=d.ic();d.Db(2),d.Yc(d.kc(3,3,"PATIENT.GURADIANS")),d.Db(2),d.rc("ngForOf",d.xc(5,Rt)),d.Db(1),d.rc("ngIf",(null==t.guardians?null:t.guardians.length)>2)}}let Vt=(()=>{class t extends J.a{constructor(t,e,n,i){super(),this._router=t,this._drawerRef=e,this._patientsService=n,this._dataSharingService=i,this._dataSharingService.tenantSettings.subscribe(t=>{var e;t&&(this.episodeBlueprintIdMap=new Map,null===(e=null==t?void 0:t.episodeBlueprints)||void 0===e||e.forEach(t=>{this.episodeBlueprintIdMap.set(t.type,t.id)}))})}ngOnInit(){this._patientsService.fetchEmergencyContactsForPatient(this.patientDetails.id).subscribe(t=>this.emergencyContacts=t),this._patientsService.fetchGuardiansForPatient(this.patientDetails.id).subscribe(t=>this.guardians=t)}viewProfile(){const t=`patients/view/${this.patientDetails.id}`;this._drawerRef.close(!0),this._router.navigate([t])}gotoEpisode(){this.closeDrawer();const t=this.episodeBlueprintIdMap.get(this.patientDetails.episodeType);t&&this._router.navigate([`episodes/details/${this.patientDetails.id}/${this.patientDetails.episodeId}`],{queryParams:{blueprintId:t}})}closeDrawer(t=!0){this._drawerRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(d.Rb(p.g),d.Rb(h.c),d.Rb(i.a),d.Rb(c.a))},t.\u0275cmp=d.Lb({type:t,selectors:[["app-info"]],inputs:{patientDetails:"patientDetails"},features:[d.Ab],decls:13,vars:12,consts:[[3,"patientDetails"],[4,"ngIf"],["class","episodeAction",4,"ngIf"],["nz-typography","","nzType","success"],[4,"ngFor","ngForOf"],["nzColor","#EFFEE2"],["nz-typography","","nzType","secondary"],["nz-row",""],["nz-col","","nzSpan","8"],["nz-col","","nzSpan","16",1,"text-right"],["nz-row","",4,"ngIf"],["nzColor","#D9F5FF",4,"ngFor","ngForOf"],["nzColor","#D9F5FF"],[1,"episodeAction"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzSpan","18"],["nz-col","","nzSpan","6"],[3,"userId"],["nz-typography","","nzType","success","actionable","",3,"routerLink","click"],["name","arrowRight","originalStyle","true"]],template:function(t,e){1&t&&(d.Sb(0,"app-patient-basic-info",0),d.Sb(1,"app-assigned-caretakers",0),d.Vc(2,vt,6,4,"div",1),d.Vc(3,St,19,11,"div",1),d.Vc(4,Tt,18,11,"div",1),d.Vc(5,Ct,11,12,"div",1),d.Vc(6,Mt,7,4,"div",1),d.Xb(7,"div"),d.Vc(8,At,7,4,"div",1),d.Vc(9,Dt,6,2,"div",1),d.Wb(),d.Vc(10,zt,5,3,"div",2),d.Vc(11,Xt,7,6,"div",1),d.Vc(12,kt,6,6,"div",1)),2&t&&(d.rc("patientDetails",e.patientDetails),d.Db(1),d.rc("patientDetails",e.patientDetails),d.Db(1),d.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.profileTags)&&(null==e.patientDetails||null==e.patientDetails.profileTags?null:e.patientDetails.profileTags.length)),d.Db(1),d.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.insuranceInformation)&&(null==e.patientDetails||null==e.patientDetails.insuranceInformation?null:e.patientDetails.insuranceInformation.primaryInsuranceDetails)&&(null==e.patientDetails||null==e.patientDetails.insuranceInformation||null==e.patientDetails.insuranceInformation.primaryInsuranceDetails?null:e.patientDetails.insuranceInformation.primaryInsuranceDetails.insuranceId)),d.Db(1),d.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.insuranceInformation)&&(null==e.patientDetails||null==e.patientDetails.insuranceInformation?null:e.patientDetails.insuranceInformation.secondaryInsured)),d.Db(1),d.rc("ngIf",null==e.patientDetails?null:e.patientDetails.careplanId),d.Db(1),d.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.deviceSetupStatuses)&&(null==e.patientDetails||null==e.patientDetails.deviceSetupStatuses?null:e.patientDetails.deviceSetupStatuses.length)),d.Db(2),d.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.icdCodes)&&(null==e.patientDetails||null==e.patientDetails.icdCodes?null:e.patientDetails.icdCodes.length)),d.Db(1),d.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.cptCodes)&&(null==e.patientDetails||null==e.patientDetails.cptCodes?null:e.patientDetails.cptCodes.length)),d.Db(1),d.rc("ngIf",null==e.patientDetails?null:e.patientDetails.episodeId),d.Db(1),d.rc("ngIf",e.emergencyContacts&&(null==e.emergencyContacts?null:e.emergencyContacts.length)),d.Db(1),d.rc("ngIf",e.guardians&&(null==e.guardians?null:e.guardians.length)))},directives:[lt,ht,g.q,$.a,g.p,v.a,bt.a,I.c,I.a,S.a,T.a,C.a,gt.a,p.h,mt.a],pipes:[M.a,g.e],styles:[".text-right[_ngcontent-%COMP%]{text-align:right}.text-center[_ngcontent-%COMP%]{text-align:center}h4[_ngcontent-%COMP%]{font-size:12px}nz-tag[_ngcontent-%COMP%]{background:#effee2 0 0 no-repeat padding-box;color:#0f2015;font-size:11px}app-icons[_ngcontent-%COMP%]{vertical-align:middle}.episodeAction[_ngcontent-%COMP%]{width:100%;text-align:center}.episodeAction[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:75%;height:45px}"]}),t})(),xt=(()=>{class t{constructor(t){this._drawerService=t}alerts(t,e,n,i,a,o,s,r,c){return this._drawerService.create({nzContent:G,nzTitle:e,nzContentParams:{patientId:t,episodeId:i,careplanId:a,carePlanStartDate:o,tmsPercent:s,additionalTMSPercent:r,allPatients:n,phoneNumbers:c},nzMask:!0,nzMaskStyle:{background:"transparent"},nzMaskClosable:!0,nzWidth:350})}basicInfo(t){return this._drawerService.create({nzContent:Vt,nzContentParams:{patientDetails:t},nzMask:!0,nzMaskStyle:{background:"transparent"},nzMaskClosable:!0,nzWidth:350})}healthScoreDetails(t,e,n){return this._drawerService.create({nzContent:K,nzContentParams:{patientId:t,patientName:e,userHealthScore:n},nzMask:!0,nzMaskStyle:{background:"transparent"},nzMaskClosable:!0,nzWidth:350})}}return t.\u0275fac=function(e){return new(e||t)(d.bc(h.d))},t.\u0275prov=d.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},fgTL:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.ALL_PATIENTS="ALL_PATIENTS",t.EPISODES="EPISODES",t.NO_ACTIVE_EPISODES="NO_ACTIVE_EPISODES",t.CARE_PLANS="CARE_PLANS",t.NO_ACTIVE_CARE_PLANS="NO_ACTIVE_CARE_PLANS",t.INACTIVE_PATIENTS="INACTIVE_PATIENTS",t.RPM_VITAL_COMPLIANCE="RPM_VITAL_COMPLIANCE",t.HEALTH_SCORE="HEALTH_SCORE",t.DST="DST",t.ON_BOARDING="ON_BOARDING",t.VITAL_DAYS_REMAINING="VITAL_DAYS_REMAINING",t.TMS_REMAINING="TMS_REMAINING",t.CMT="CMT",t.CONSENT_FORM="CONSENT_FORM",t.PHYSICIAN_ORDER="PHYSICIAN_ORDER",t.CUSTOM="CUSTOM",t.VITALS_ACTIVITY="VITALS_ACTIVITY",t.ASSESSMENT_ACTIVITY="ASSESSMENT_ACTIVITY",t.ASSESSMENT_COMPLIANCE="ASSESSMENT_COMPLIANCE",t.PATIENTS_WITH_IN_COMPLETE_DST="PATIENTS_WITH_IN_COMPLETE_DST",t.CCM_CMT_REMAINING="CCM_CMT_REMAINING",t.PATIENT_NOT_SERVICED="PATIENT_NOT_SERVICED",t.PATIENT_CREATION_DATE="PATIENT_CREATION_DATE",t}({})},fhRi:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),a=n("ofXK");let o=(()=>{class t{constructor(t){this._datePipe=t}transform(t,e="MMM dd, yyyy hh:mm a"){if(null==t?void 0:t.length)return 23<(null==t?void 0:t.length)&&(t=null==t?void 0:t.substring(0,23)),this._datePipe.transform(new Date(`${t}Z`),e)}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(a.e))},t.\u0275pipe=i.Qb({name:"utcToLocalTime",type:t,pure:!0}),t})()},gBMA:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{transform(t,e,n,i,a){var o,s;if(!t)return"normal";t=t.toString();let r="";return(null==i?void 0:i.vitalOutOfLimit)&&(null===(o=null==i?void 0:i.parameterStates)||void 0===o?void 0:o.some(t=>t.parameter===e))?r="abnormal":i?r="normal":i||(r=(null===(s=null==n?void 0:n.contexts)||void 0===s?void 0:s.length)?this.checkFromContexts(n,t,a):this.checkFromParameters(n,e,t)),r}checkFromParameters(t,e,n){let i="normal";const a=t.parameters.find(t=>t.type===e);if(!a)return i;const o=a.globalLimit.minimum,s=a.globalLimit.maximum;try{null!=o&&parseInt(n)<o&&(i="abnormal"),null!=s&&parseInt(n)>s&&(i="abnormal")}catch(r){}return i}checkFromContexts(t,e,n){var i;let a,o="normal";if(!n||"N/A"===n)return o;if(null===(i=null==t?void 0:t.contexts)||void 0===i||i.forEach(t=>{const e=t.options.find(t=>t.label===n);e&&(a=e)}),!a)return o;const s=null==a?void 0:a.limit.minimum,r=null==a?void 0:a.limit.maximum;try{null!=s&&parseInt(e)<s&&(o="abnormal"),null!=r&&parseInt(e)>r&&(o="abnormal")}catch(c){}return o}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"vitalFieldLimit",type:t,pure:!0}),t})()},gSz3:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("SxV6"),a=n("AytR"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t){this._http=t,this.rootUrl=`${a.g.url}/v3/user-alerts/vital`}fetchVitalBlueprintsOfUser(t){return this._http.get(`${this.rootUrl}/${t}`).pipe(Object(i.a)())}editVitalBlueprintsOfUser(t){return this._http.put(this.rootUrl,t).pipe(Object(i.a)())}deleteVitalBlueprintOfUser(t,e){return this._http.delete(`${this.rootUrl}/${t}/${e}`).pipe(Object(i.a)())}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},gbDW:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{constructor(){this.enabledEpisodeBlueprintTypes=new Set}transform(t,e){return!(!e&&0==(null==e?void 0:e.length))&&null!=e&&0!=e.length&&(null==e||e.forEach(t=>{(null==t?void 0:t.archived)||this.enabledEpisodeBlueprintTypes.add(t.type)}),this.enabledEpisodeBlueprintTypes.has(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"isEpisodeTypeEnabled",type:t,pure:!0}),t})()},geco:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n("/5ms"),a=n("nLCl"),o=n("IQJ1"),s=n("S9gE"),r=function(t){return t.NAME="NAME",t.ALERTS="ALERTS",t.VITAL_DAYS_REMAINING="VITAL_DAYS_REMAINING",t.TMS="TMS",t.ADDITIONAL_TMS="ADDITIONAL_TMS",t.CMT="CMT",t.EPISODE_START_DATE="EPISODE_START_DATE",t.EPISODE_END_DATE="EPISODE_END_DATE",t.CONSENT_VALID_UPTO="CONSENT_VALID_UPTO",t.PHYSICIAN_ORDER_VALID_UPTO="PHYSICIAN_ORDER_VALID_UPTO",t}({}),c=n("SxV6"),l=n("tk/3"),d=n("AytR"),u=n("fgTL"),p=n("dRj7"),h=n("fXoL"),b=n("tyNb");let g=(()=>{class t{constructor(t,e){this._http=t,this._activatedRoute=e,this.rootUrl=d.g.url}setSelectedTabIndex(t){this.tabsetTabSelector=t}getSelectedTabIndex(){return this.tabsetTabSelector}fetchPatientById(t){return this._http.get(`${this.rootUrl}/v3/patients/${t}`)}fetchPatientsList(t=0,e=10,n=null,a=null,s=r.ALERTS,c="DESC",d=u.a.ALL_PATIENTS,h,b,g=null,m=null,f=null,v=null,S=0,T=0,C=p.a.LESS_THAN,E=i.a.PENDING_ON_BOARDINGS,I,M,y,A=o.a.JSON,_,D,z,O,N,P=null,R=null,X=null,L=null,w=null,W=null,k="ALL",V=null,x=null){var U,F;const H=`${this.rootUrl}/v3/patients/`;_&&(t=0,e=9999999);const B=m?m[0]:new Date((new Date).setDate((new Date).getDate()-1)),j=m?m[1]:new Date,G={offset:`${t}`,limit:`${e}`,filter:d,sortBy:s,order:c,format:A,staff:n,physician:a,site:g,episodeBlueprint:null!=h?h:null,selectedEpisodeType:null!=b?b:null,carePlanBlueprint:v,dstFilter:null!=E?E:null,tmsFilter:null!=I?I:null,cmtFilter:null!=M?M:null,ccmCMTFilter:null!=y?y:null,consentFormStatus:null!=D?D:null,physicianOrderStatus:null!=z?z:null,filterOperation:C,firstValue:`${S}`,secondValue:`${T}`,patientStatus:null!=O?O:null,episodeStatus:null!=N?N:null,searchKey:f,startDate:new Date(B).toISOString().split("T")[0],endDate:new Date(j).toISOString().split("T")[0],vitalFilter:null!=P?P:null,assessmentFilter:null!=R?R:null,assessmentFilterType:null!=X?X:null,rpmVitalCompliance:null!=L?L:null,onBoardingFilter:null!=w?w:null,languages:null!=W?W:null,assignedStaffType:k,metaValue:this._activatedRoute.snapshot.queryParamMap.get("metaValue"),smsSent:null!==(U=this._activatedRoute.snapshot.queryParamMap.get("smsSent"))&&void 0!==U?U:null,totalContactAttempts:null!==(F=this._activatedRoute.snapshot.queryParamMap.get("totalContactAttempts"))&&void 0!==F?F:null,patientCreationStartDate:V,patientCreationEndDate:x};let Y=new l.h;return Object.keys(G).forEach(t=>G[t]&&(Y=Y.append(t,G[t]))),this._http.get(H,{params:Y})}fetchAllCaretakers(){return this._http.get(`${this.rootUrl}/v2/users/?type=CARE_TAKER&limit=-1`).pipe(Object(c.a)())}fetchCaretakersForPatient(t,e=a.a.MONITORING_STAFF){return this._http.get(`${this.rootUrl}/v2/users/${t}/caretakers?role=${e}`)}fetchEmergencyContactsForPatient(t){return this._http.get(`${this.rootUrl}/v2/users/${t}/contacts`).pipe(Object(c.a)())}fetchGuardiansForPatient(t){return this._http.get(`${this.rootUrl}/v2/users/${t}/guardians`).pipe(Object(c.a)())}fetchPatientDetails(t,e=s.a.BASIC_DETAILS,n=null){let i=`${this.rootUrl}/v2/one-view/patients/details/${t}?detailType=${e}`;return n&&(i=`${i}&episodeId=${n}`),this._http.get(i).pipe(Object(c.a)())}getSpecificUser(t){return this._http.get(this.rootUrl+"/v2/users/"+t).pipe(Object(c.a)())}fetchUsersByEmail(t,e){let n=`${this.rootUrl}/v2/users/unique/${t}`;return e&&(n+=`?userId=${e}`),this._http.get(n)}fetchAllCustomFilters(){const t=localStorage.getItem("loggedInUser");return this._http.get(`${this.rootUrl}/v2/one-view/patients/custom-filters/${t}`).pipe(Object(c.a)())}createCustomFilter(t){const e=localStorage.getItem("loggedInUser"),n=localStorage.getItem("loggedInTenant"),i=`${this.rootUrl}/v2/one-view/patients/custom-filters`;return t.userId=e,t.tenantId=n,this._http.post(i,JSON.stringify(t)).pipe(Object(c.a)())}updateCustomFilter(t){const e=localStorage.getItem("loggedInUser"),n=localStorage.getItem("loggedInTenant"),i=`${this.rootUrl}/v2/one-view/patients/custom-filters`;return t.userId=e,t.tenantId=n,this._http.put(i,JSON.stringify(t)).pipe(Object(c.a)())}deletePatient(t){return this._http.delete(this.rootUrl+"/v2/users/"+t+"/removeCareTaker/")}fetchCareplanDetails(t){return this._http.get(this.rootUrl+"/v2/careplans/stats/patients/"+t).pipe(Object(c.a)())}fetchPatientsNotes(t){return this._http.get(this.rootUrl+"/v2/one-view/patients/"+t+"/notes").pipe(Object(c.a)())}fetchPatientsAllNotes(t){return this._http.get(this.rootUrl+"/v2/one-view/patients/"+t+"/notes/all").pipe(Object(c.a)())}fetchPatientsAlerts(t,e,n){return this._http.get(this.rootUrl+"/v2/one-view/patients/"+t+"/alerts?type="+e+"&offset="+n).pipe(Object(c.a)())}fetchAllPatientsAlerts(t,e){return this._http.get(this.rootUrl+"/v2/one-view/patients/duty-nurse/get-all-alerts/"+t+"?offset="+e).pipe(Object(c.a)())}disableUser(t,e){return this._http.patch(this.rootUrl+"/v2/users/"+t,e).pipe(Object(c.a)())}addNoteForPatient(t){const e=localStorage.getItem("loggedInTenant");return t.tenantId=e,this._http.post(this.rootUrl+"/v2/notes",JSON.stringify(t))}addNoteForPatientWithId(t,e){return this._http.post(this.rootUrl+"/v2/notes/user/"+t,JSON.stringify(e))}getNotes(t){return this._http.get(this.rootUrl+"/v2/notes/user/"+t).pipe(Object(c.a)())}updateAlert(t){const e=localStorage.getItem("loggedInTenant");return t.tenantId=e,t.closedBy=localStorage.getItem("loggedInUser"),this._http.put(this.rootUrl+"/v2/alerts/",JSON.stringify(t))}getAllVitals(t,e){return this._http.get(this.rootUrl+"/v2/one-view/patients/"+t+"/vitals/allVitals?primary="+e).pipe(Object(c.a)())}getVitalHistory(t,e,n=0,i=0,a=10){let o=this.rootUrl+"/v2/one-view/patients/"+t+"/vitals/"+e+"?limit="+a;return isNaN(n)||0==n||isNaN(i)||0==i||(o=o+"&startDate="+n+"&endDate="+i),this._http.get(o).pipe(Object(c.a)())}fetchBHIPatientAssessment(t,e,n,i){return this._http.get(`${this.rootUrl}/v2/one-view/patients/${t}/bhi-assessment/${e}?startDate=${n}&endDate=${i}`).pipe(Object(c.a)())}fetchPatientAssessment(t,e,n){return this._http.get(`${this.rootUrl}/v2/one-view/patients/${t}/assessment-history?startDate=${e}&endDate=${n}`).pipe(Object(c.a)())}getTenantGlobalForms(t){return this._http.get(`${this.rootUrl}/v1/globalforms/tenant`).pipe(Object(c.a)())}saveBulkNoteForPatients(t){const e=localStorage.getItem("loggedInTenant"),n=localStorage.getItem("loggedInUser");return t.tenantId=e,t.addedBy=n,t.createdOn=(new Date).getTime(),this._http.post(this.rootUrl+"/v2/notes/users",JSON.stringify(t))}fetchHealthScore(t,e,n){e&&n||(e=0,n=0);let i=`${this.rootUrl}/v2/health_score/patients/${t}`;return i=e&&n?`${i}?platform=WEB&startTime=${e}&endTime=${n}`:`${i}?limit=10`,this._http.get(i)}fetchPatientsWithoutCaretakers(){const t=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/users/patients-without-caretakers/"+t).pipe(Object(c.a)())}fetchVitalNote(t){return this._http.get(this.rootUrl+"/v2/notes/"+t).pipe(Object(c.a)())}fetchNotesForPatient(t,e){return this._http.get(this.rootUrl+"/v2/notes/user/"+t+"?vitalType="+e).pipe(Object(c.a)())}fetchConsentNotesForPatient(t){return this._http.get(this.rootUrl+"/v2/notes/user/"+t+"?type=CONSENT").pipe(Object(c.a)())}fetchBaseLineHealthScore(t){return this._http.get(this.rootUrl+"/v2/health_score/base-value/patient/"+t).pipe(Object(c.a)())}getAllAlerts(t,e,n){return this._http.get(this.rootUrl+"/v2/alerts/tenant/"+t+"/alerts?type="+e+"&offset="+n).pipe(Object(c.a)())}bulkUploadUsers(t,e=!1,n=!1){return this._http.post(`${d.g.url}/v2/bulk-upload/users?allowPartialCreation=${e}&withPhysician=${n}`,JSON.stringify(t)).pipe(Object(c.a)())}savePatient(t){return this._http.post(`${d.g.url}/v3/patients/`,JSON.stringify(t))}updatePatient(t){return this._http.put(`${d.g.url}/v3/patients/`,JSON.stringify(t))}bulkAssignStaff(t,e){return this._http.post(`${d.g.url}/v2/users/${t}/caretakers/assign`,JSON.stringify(e))}unAssignClinician(t,e){return this._http.delete(`${this.rootUrl}/v2/users/${t}/caretakers/${e}`)}resetPassword(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/recovery/")}createNewGuardian(t,e){return this._http.post(`${d.g.url}/v2/users/${t}/guardians`,JSON.stringify(e))}updateGuardianUser(t,e){return this._http.put(this.rootUrl+"/v2/users/"+t+"/guardians",JSON.stringify(e))}deleteGuardian(t){return this._http.delete(`${d.g.url}/v2/users/guardians/${t}`)}createContact(t,e){return this._http.post(`${d.g.url}/v2/users/${t}/contacts`,JSON.stringify(e))}updateContact(t,e){return this._http.put(`${d.g.url}/v2/users/${t}/contacts`,JSON.stringify(e))}deleteContact(t,e){return this._http.delete(`${d.g.url}/v2/users/${t}/contacts/${e}`)}assignAllergyToPatient(t,e){return this._http.post(`${d.g.url}/v3/patients/${t}/allergies/add`,JSON.stringify(e))}updateAllergiesForPatient(t,e){return this._http.put(`${d.g.url}/v3/patients/${t}/allergies/update`,JSON.stringify(e))}updatePatientStatus(t,e){return this._http.put(`${d.g.url}/v3/patients/status/${t}`,JSON.stringify(e))}validatePatientProfile(t,e="EPISODE"){return this._http.get(this.rootUrl+"/v3/patients/"+t+"/profile-validation?feature="+e)}updatePatientSite(t,e){return this._http.put(`${d.g.url}/v3/patients/${t}/update/site/${e}`,null)}updatePatientDxCodes(t,e){return this._http.put(`${d.g.url}/v3/patients/dxCodes/${t}`,e)}queryCCDA(t,e){return this._http.post(`${d.g.url}/v1/redox/query/${t}/${e}`,{})}getAvailableLanguages(t){return this._http.get(`${d.g.url}/v3/patients/available/languages`)}markPrimaryMonitoringStaff(t,e){return this._http.put(`${d.g.url}/v3/patients/${e}/mark/primary/${t}`,null)}qualifyPatients(t){return this._http.put(this.rootUrl+"/v3/user-qualification/patients",t)}updateNote(t){return this._http.put(this.rootUrl+"/v2/notes/"+t.id,JSON.stringify(t))}}return t.\u0275fac=function(e){return new(e||t)(h.bc(l.c),h.bc(b.a))},t.\u0275prov=h.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},glKu:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i={appartment:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="apartment" aria-hidden="true"><path d="M908 640H804V488c0-4.4-3.6-8-8-8H548v-96h108c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h108v96H228c-4.4 0-8 3.6-8 8v152H116c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16H292v-88h440v88H620c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16zm-564 76v168H176V716h168zm84-408V140h168v168H428zm420 576H680V716h168v168z"/></svg>',appointment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="#347aff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" data-name="vuesax/linear/note-favorite"><path d="M8 2v3"/><path data-name="Vector" d="M16 2v3M21 8.5v5.13a5.24 5.24 0 00-7.74 6.82A5.265 5.265 0 0014.68 22H8c-3.5 0-5-2-5-5V8.5c0-3 1.5-5 5-5h8c3.5 0 5 2 5 5zM7 11h6M7 16h2.62"/><path data-name="Vector" d="M23 17.75a5.176 5.176 0 01-.76 2.7 4.64 4.64 0 01-1.04 1.24 5.2 5.2 0 01-6.52.31 5.265 5.265 0 01-1.42-1.55 5.211 5.211 0 011.21-6.79A5.246 5.246 0 0123 17.75z"/><path data-name="Vector" d="M17.75 20.25a2.5 2.5 0 012.5-2.5 2.5 2.5 0 01-2.5-2.5 2.5 2.5 0 01-2.5 2.5 2.5 2.5 0 012.5 2.5z"/></g></svg>',appstore:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="appstore" aria-hidden="true"><path d="M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"/></svg>',arrowLeft:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="arrow-left" aria-hidden="true"><path d="M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"/></svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><defs><style>.b{fill:none;stroke:#a7c853;stroke-linecap:round;stroke-width:2px}</style></defs><g transform="translate(-208.14 -219.14)"><circle stroke="#e9e9e9" cx="8" cy="8" r="8" transform="translate(208.14 219.14)" fill="#e9e9e9"/><path class="b" d="M215.122 224.087l3.052 3.052M215.122 230.191l3.052-3.052"/></g></svg>',audioCall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.082 17.063"><path class="a" d="M14.462 11.832l-1.958-1.553a2.067 2.067 0 00-1.306-.459 2.1 2.1 0 00-1.606.741c-.247.3-.423.476-.512.582a4.013 4.013 0 01-1.941-1.182A3.728 3.728 0 015.957 8.02c.106-.088.282-.247.582-.512a2.1 2.1 0 00.282-2.911L5.267 2.639a2.127 2.127 0 00-2.5-.618 6.267 6.267 0 00-1.7 1.112c-.6.6-1.429 1.994-.441 4.676a15.173 15.173 0 003.494 5.152c2.435 2.435 5.293 3.952 7.446 3.952a3.291 3.291 0 002.382-.9 6.267 6.267 0 001.112-1.694 2.041 2.041 0 00-.598-2.487zm-.423 2.029a4.9 4.9 0 01-.882 1.341 2.094 2.094 0 01-1.57.565c-1.782 0-4.358-1.341-6.634-3.617C1.846 9.026.467 5.356 1.899 3.927a5.5 5.5 0 011.341-.882.942.942 0 011.147.282l1.535 1.994a.963.963 0 01-.124 1.324c-.406.353-.67.582-.741.653-.6.6-.018 2.153 1.288 3.458a4.646 4.646 0 002.788 1.535.912.912 0 00.67-.229c.071-.071.318-.335.653-.741a.935.935 0 01.723-.335.958.958 0 01.6.212l1.959 1.547a.909.909 0 01.3 1.116zM9.61 5.126a.621.621 0 00-.776.653.6.6 0 00.494.565 1.987 1.987 0 01.917.512 1.842 1.842 0 01.512.917.681.681 0 00.565.494.627.627 0 00.653-.776 3.185 3.185 0 00-2.364-2.364z"/><path class="a" d="M13.809 8.461a.626.626 0 00.67-.688 5.536 5.536 0 00-1.641-3.511 5.67 5.67 0 00-3.511-1.641.626.626 0 00-.688.67.61.61 0 00.565.582 4.391 4.391 0 014.005 4.005.675.675 0 00.6.583z"/><path class="a" d="M14.586 2.515A8.084 8.084 0 009.116.154a.612.612 0 00-.635.67.615.615 0 00.6.582 6.905 6.905 0 014.605 2.011 6.8 6.8 0 011.994 4.605.629.629 0 00.582.6.621.621 0 00.67-.635 7.985 7.985 0 00-2.346-5.472z"/></svg>',back:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="arrow-left" aria-hidden="true"><path d="M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"/></svg>',bell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.527 16.216"><path d="M12.282 10.849a1.441 1.441 0 01-.445 2.811H9.479a2.753 2.753 0 01-5.432 0H1.69a1.44 1.44 0 01-.447-2.809V6.9a5.539 5.539 0 013.664-5.192A1.7 1.7 0 016.751.249 1.707 1.707 0 018.62 1.708 5.542 5.542 0 0112.284 6.9v3.948zM8.569 13.66h-3.61a1.86 1.86 0 003.61 0zm3.271-1.987a.447.447 0 01-.445-.447V6.901a4.646 4.646 0 00-3.3-4.43c-.324-.066-.361-.324-.361-.592 0-.555-.492-.736-.981-.736s-.959.186-.959.736c0 .256-.025.5-.322.582A4.642 4.642 0 002.14 6.9v4.325a.448.448 0 01-.447.447.547.547 0 100 1.094H11.84a.547.547 0 100-1.094z" fill="#8b8b8b" stroke="#8b8b8b" stroke-width=".5"/></svg>',branch:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="branches" aria-hidden="true"><path d="M740 161c-61.8 0-112 50.2-112 112 0 50.1 33.1 92.6 78.5 106.9v95.9L320 602.4V318.1c44.2-15 76-56.9 76-106.1 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 49.2 31.8 91 76 106.1V706c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-27.8l423.5-138.7a50.52 50.52 0 0034.9-48.2V378.2c42.9-15.8 73.6-57 73.6-105.2 0-61.8-50.2-112-112-112zm-504 51a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm96 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm408-491a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"/></svg>',calendar:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="calendar" aria-hidden="true"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"/></svg>',callDisconnect:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><defs><style>.b{fill:#fff}</style></defs><circle cx="30" cy="30" r="30" stroke="none" fill="#ff3939" stroke-width="2"/><path class="b" d="M24.85 30.797l-2.467-2.471a6.956 6.956 0 01-.6-.662l.164.21a5.042 5.042 0 01-.623-1.075c.034.083.07.166.1.249a5.022 5.022 0 01-.341-1.236c.013.091.026.184.036.275a5.056 5.056 0 010-1.313 8.62 8.62 0 00-.036.275 5.053 5.053 0 01.337-1.241c-.034.083-.07.166-.1.249a4.92 4.92 0 01.628-1.069l-.164.21a9.941 9.941 0 01.864-.916l1.108-1.108c.1-.1.2-.21.306-.3l-.21.164a.744.744 0 01.125-.073l-.249.1a.8.8 0 01.135-.039 8.62 8.62 0 01-.275.036.651.651 0 01.174 0 8.62 8.62 0 00-.275-.036.617.617 0 01.135.039l-.249-.1a.865.865 0 01.125.073l-.21-.164c.145.119.273.265.4.4l.877.877 1.98 1.98c.161.161.343.317.488.493l-.164-.21a.745.745 0 01.073.125c-.034-.083-.07-.166-.1-.249a.8.8 0 01.039.135 8.62 8.62 0 01-.036-.275.651.651 0 010 .174 8.62 8.62 0 00.036-.275.617.617 0 01-.039.135c.034-.083.07-.166.1-.249a.865.865 0 01-.073.125l.164-.21c-.153.184-.34.348-.511.517-.254.254-.509.509-.76.763a2.742 2.742 0 00-.786 1.259 2.547 2.547 0 00.649 2.4c.205.21.415.415.623.626a1.039 1.039 0 001.469-1.469 9.872 9.872 0 01-.748-.763l.164.21a1.562 1.562 0 01-.184-.311c.034.083.07.166.1.249a1.707 1.707 0 01-.106-.374c.013.091.026.184.036.275a1.607 1.607 0 010-.387 8.62 8.62 0 00-.036.275 1.652 1.652 0 01.1-.374c-.034.083-.07.166-.1.249a1.552 1.552 0 01.182-.311l-.164.21a7.954 7.954 0 01.636-.654l.794-.794a1.608 1.608 0 00.057-2.333c-.117-.122-.236-.236-.356-.356l-1.69-1.69-1.472-1.474c-.039-.039-.075-.078-.114-.114a1.662 1.662 0 00-1.5-.431 2.183 2.183 0 00-1.093.745l-1.5 1.5a5.964 5.964 0 00-1.708 3.787 5.733 5.733 0 00.228 2.056 6.169 6.169 0 001.1 2.066 16.159 16.159 0 001.34 1.372l1.6 1.6.1.1a1.052 1.052 0 001.469 0 1.064 1.064 0 000-1.474zM39.478 36.384l-1.734 1.734a5.749 5.749 0 01-.545.491l.21-.164a4.921 4.921 0 01-1.069.628l.249-.1a4.882 4.882 0 01-1.241.337 8.62 8.62 0 01.275-.036 5.059 5.059 0 01-1.313 0c.091.013.184.026.275.036a4.991 4.991 0 01-1.241-.337l.249.1a4.936 4.936 0 01-1.075-.623l.21.164a8.807 8.807 0 01-.838-.779c-.384-.387-.773-.773-1.16-1.16l-2.837-2.837-.67-.67v1.469l2.51-2.51.358-.358h-1.469l2.287 2.287a9.931 9.931 0 001.064 1 2.454 2.454 0 002.113.345 2.805 2.805 0 001.168-.742l.758-.758c.179-.179.348-.376.542-.537l-.21.164a.744.744 0 01.125-.073l-.249.1a.8.8 0 01.135-.039 8.62 8.62 0 01-.275.036.651.651 0 01.174 0 8.62 8.62 0 00-.275-.036.617.617 0 01.135.039l-.249-.1a.861.861 0 01.125.073l-.21-.164c.145.119.273.265.4.4l.877.877 1.98 1.98c.161.161.343.317.488.493l-.164-.21a.747.747 0 01.073.125c-.034-.083-.07-.166-.1-.249a.8.8 0 01.039.135 8.62 8.62 0 01-.036-.275.648.648 0 010 .174 8.62 8.62 0 00.036-.275.615.615 0 01-.039.135c.034-.083.07-.166.1-.249a.865.865 0 01-.073.125l.164-.21a.454.454 0 00-.052.049 1.078 1.078 0 00-.3.735 1.066 1.066 0 00.3.734 1.039 1.039 0 00.735.3 1.061 1.061 0 00.735-.3 1.634 1.634 0 00-.031-2.3l-.389-.389-1.531-1.531c-.478-.478-.955-.953-1.43-1.43-.088-.088-.174-.177-.262-.262a1.635 1.635 0 00-1.565-.41 1.707 1.707 0 00-.753.462l-.789.789a7.992 7.992 0 01-.672.654l.21-.163a1.553 1.553 0 01-.311.182l.249-.1a1.445 1.445 0 01-.374.1 8.62 8.62 0 01.275-.036 1.606 1.606 0 01-.387 0c.091.013.184.026.275.036a1.543 1.543 0 01-.374-.106l.249.1a1.565 1.565 0 01-.311-.184l.21.164a4.917 4.917 0 01-.395-.376l-.709-.709-1.653-1.653-.382-.382a1.055 1.055 0 00-1.469 0l-2.51 2.51-.358.358a1.055 1.055 0 000 1.469l1.555 1.555 2.622 2.622a9.278 9.278 0 002.352 1.939 5.968 5.968 0 003.094.626 5.857 5.857 0 002.993-1.067 11.951 11.951 0 001.316-1.194l1.181-1.181.08-.08a1.042 1.042 0 00-1.474-1.474z"/><path class="b" d="M39.489 19.439l-.537.537-1.461 1.461-2.16 2.16-2.624 2.624-2.876 2.876-2.912 2.912-2.715 2.715-2.287 2.287-1.643 1.645c-.26.26-.524.519-.781.781l-.034.034a1.039 1.039 0 001.469 1.469l.537-.537 1.461-1.461 2.16-2.16 2.624-2.624 2.874-2.875 2.912-2.912 2.715-2.715 2.287-2.287 1.646-1.646c.26-.26.524-.519.781-.781l.034-.034a1.039 1.039 0 10-1.469-1.469z"/></svg>',callFilled:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path data-name="Path 2" d="M15.12 11a10.171 10.171 0 01-3.138-.5.869.869 0 00-.9.213l-1.4 1.751A13.5 13.5 0 013.564 6.4L5.3 4.924a.907.907 0 00.213-.907 9.913 9.913 0 01-.5-3.138.888.888 0 00-.88-.879H1.058C.578 0 0 .213 0 .88A15.246 15.246 0 0015.12 16a.933.933 0 00.88-1.049v-3.067a.888.888 0 00-.88-.88z" fill="#a6c853"/></svg>',chat:'<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path class="cls-1" d="M275.69 98.46a6.56 6.56 0 00-6.56-6.56H85.33a6.56 6.56 0 000 13.13h183.8a6.56 6.56 0 006.56-6.57zM164.1 144.41H85.33a6.56 6.56 0 000 13.13h78.77a6.56 6.56 0 100-13.13zM426.67 301.95h-183.8a6.56 6.56 0 000 13.13h183.8a6.56 6.56 0 000-13.13z"/><path class="cls-1" d="M439.79 210h-93.23a71.75 71.75 0 007.9-32.82v-105A72.29 72.29 0 00282.26 0h-210A72.29 72.29 0 000 72.21v105a72.43 72.43 0 0052.51 69.48v48.67A6.57 6.57 0 0063.72 300l50.59-50.59h51.13a71.78 71.78 0 00-7.9 32.82v105a72.29 72.29 0 0072.2 72.21h168l50.59 50.59a6.57 6.57 0 0011.21-4.64v-48.63A72.43 72.43 0 00512 387.28v-105A72.29 72.29 0 00439.79 210zm-328.2 26.26a6.56 6.56 0 00-4.64 1.92l-41.31 41.36v-38a6.56 6.56 0 00-5.26-6.43 59.23 59.23 0 01-47.25-57.89v-105a59.14 59.14 0 0159.08-59.09h210a59.14 59.14 0 0159.07 59.08v105a58.71 58.71 0 01-10 32.82 59.54 59.54 0 01-12 13.13 58.77 58.77 0 01-37.08 13.13H111.59zm387.28 151a59.22 59.22 0 01-47.25 57.89 6.57 6.57 0 00-5.26 6.44v38L405 448.28a6.56 6.56 0 00-4.64-1.92H229.74a59.14 59.14 0 01-59.07-59.08v-105a58.71 58.71 0 0110-32.82h101.59a72.07 72.07 0 0055.65-26.26h101.88a59.14 59.14 0 0159.08 59.08z"/><path class="cls-1" d="M321.64 354.46h-78.77a6.56 6.56 0 100 13.13h78.77a6.56 6.56 0 100-13.13z"/></svg>',checkCircle:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="check-circle" aria-hidden="true"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"/><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/></svg>',check:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="check" aria-hidden="true"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"/></svg>',clock:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="clock-circle" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"/></svg>',clone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.883 19.202"><path d="M2.219.102a.432.432 0 00-.391.432v1.3H.491A.432.432 0 00.1 2.26v16.41a.432.432 0 00.432.432h12.092a.432.432 0 00.432-.432v-1.3h1.3a.432.432 0 00.432-.432V3.555a.432.432 0 00-.128-.31L11.632.222a.432.432 0 00-.3-.121H2.219zm.472.864H10.9v2.589a.449.449 0 00.432.432h2.591v12.524H2.691v-1.08a.432.432 0 10-.864 0v1.511a.432.432 0 00.432.432h9.933v.864H.964v-4.1h5.324l-.857.749a.433.433 0 10.567.655l1.727-1.511a.432.432 0 000-.655L6 11.862a.433.433 0 10-.567.655l.864.756H.964V2.691h.864v9.292a.432.432 0 10.864 0zm9.069.607l1.552 1.552H11.76z" fill="#8a8a8a" stroke="#8a8a8a" stroke-width=".2"/></svg>',closeBtn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g data-name="Group 14011" transform="translate(.039)"><circle data-name="Ellipse 18" cx="8" cy="8" r="8" transform="translate(-.039)" fill="#efefef"/><g data-name="Group 65" fill="none" stroke="#eb5858" stroke-linecap="round" stroke-width="2"><path data-name="Line 56" d="M4.993 4.989l5.5 5.543"/><path data-name="Line 57" d="M4.993 10.532l5.5-5.543"/></g></g></svg>',closeCircle:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="close-circle" aria-hidden="true"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"/><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/></svg>',close:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="close" aria-hidden="true"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"/></svg>',consentDenied:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22.54 21.12L20.41 19l2.13-2.12-1.42-1.42L19 17.59l-2.12-2.13-1.42 1.42L17.59 19l-2.13 2.12 1.42 1.42L19 20.41l2.12 2.13M6 2a2 2 0 00-2 2v16c0 1.11.89 2 2 2h7.81c-.36-.62-.61-1.3-.73-2H6V4h7v5h5v4.08c.33-.05.67-.08 1-.08.34 0 .67.03 1 .08V8l-6-6M8 12v2h8v-2m-8 4v2h5v-2z"/></svg>',consentSigned:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#a8cc56" d="M23.5 17l-5 5-3.5-3.5 1.5-1.5 2 2 3.5-3.5 1.5 1.5M6 2a2 2 0 00-2 2v16c0 1.11.89 2 2 2h7.81c-.36-.62-.61-1.3-.73-2H6V4h7v5h5v4.08c.33-.05.67-.08 1-.08.34 0 .67.03 1 .08V8l-6-6M8 12v2h8v-2m-8 4v2h5v-2z"/></svg>',control:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="control" aria-hidden="true"><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM340 683v77c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-77c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198V264c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v221c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8s0 .1.1.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8 0 0 0 .1-.1.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7zM620 539v221c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V539c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198v-77c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v77c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8v.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8v.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7z"/></svg>',cursorNoborder:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.76 39.76"><path class="a" d="M24.91 39.76a1.2 1.2 0 01-1.118-.769L17.51 22.582.76 15.962a1.2 1.2 0 01.03-2.238L38.152.073a1.2 1.2 0 011.536 1.537l-1.587 4.342a1.2 1.2 0 01-2.249-.822l.7-1.923L4.566 14.892l14.311 5.656a1.2 1.2 0 01.678.685l5.33 13.914 9.19-25.156a1.2 1.2 0 112.249.821L26.036 38.973a1.2 1.2 0 01-1.115.787z"/></svg>',deleteMessage:'<svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 451.17"><path fill-rule="nonzero" d="M262.8.14h.29c69.73 2.11 132.31 26.93 177.12 65.35 45.9 39.35 73.43 92.99 71.71 151.56v.29c-1.09 35.02-12.53 67.7-31.87 96.15-19.82 29.15-47.89 53.83-81.5 71.98-37.22 20.09-77.61 32.59-118.38 36-37.2 3.12-74.77-1.3-110.64-14.38L23.09 451.17l41.98-105.89c-18.02-16.02-32.08-33.47-42.44-51.71-18.67-32.9-25.39-68.32-21.62-102.85 3.72-34.27 17.8-67.57 40.74-96.53 17.64-22.28 40.51-41.97 67.88-57.5 22.12-12.56 46.75-22.28 73.01-28.53C207.81 2.18 234.78-.69 262.8.14zm-97.75 279.2c32.01-8.88 52.85-27.45 58.03-59.77 1.41-8.79-.56-2.15-6.52 2.31-19.47 14.56-57.74 9.41-63.05-23.86-10.69-58.91 62.96-69.1 84.76-36.57 5.07 7.56 8.43 16.38 9.64 26.08 5.25 42.16-16.36 79.7-54.31 97.34-7.02 3.27-14.41 5.81-22.38 7.69-3.99.81-6.89-1.36-8.22-5.04-1.13-3.12-1.52-6.58 2.05-8.18zm110.88 0c32.02-8.88 52.85-27.45 58.03-59.77 1.41-8.79-.56-2.15-6.52 2.31-19.47 14.56-57.74 9.41-63.05-23.86-10.68-58.91 62.96-69.1 84.76-36.57 5.07 7.56 8.43 16.38 9.64 26.08 5.25 42.16-16.35 79.7-54.31 97.34-7.02 3.27-14.42 5.81-22.38 7.69-3.99.81-6.88-1.36-8.22-5.04-1.14-3.12-1.52-6.58 2.05-8.18zM262.08 36.88h-.28c-24.47-.72-48.25 1.83-70.66 7.16-23.03 5.49-44.39 13.88-63.35 24.64-23.26 13.2-42.52 29.73-57.22 48.28-18.6 23.48-29.99 50.27-32.96 77.64-2.96 27.11 2.34 54.94 17.01 80.81 10.08 17.76 24.57 34.67 43.8 49.91l10.73 8.5-23.85 60.15 85.68-25.79 5.91 2.32c32.24 12.7 66.36 17.07 100.25 14.22 35.73-2.99 71.21-13.98 103.97-31.68 28.52-15.39 52.13-36.02 68.53-60.16 15.53-22.83 24.7-48.91 25.53-76.69l.01-.29c1.32-46.83-21.27-90.19-58.9-122.45-38.76-33.24-93.23-54.71-154.2-56.57z"/></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.403 19.429"><path d="M.693 6.728h.721l.748 10.6a2.272 2.272 0 002.265 2.1h7.553a2.272 2.272 0 002.265-2.1l.745-10.6h.721a.7.7 0 00.693-.693V4.443a2.271 2.271 0 00-2.285-2.253h-2.493v-.319A1.864 1.864 0 009.766 0H6.633a1.863 1.863 0 00-1.855 1.871v.319H2.285A2.271 2.271 0 000 4.443v1.593a.7.7 0 00.693.692zm12.2 10.5a.91.91 0 01-.912.844H4.423a.91.91 0 01-.912-.844l-.741-10.5h10.866zm-6.76-15.36a.507.507 0 01.506-.518H9.77a.507.507 0 01.506.518v.319H6.131zM1.355 4.44a.916.916 0 01.932-.9h11.835a.916.916 0 01.932.9v.932h-13.7z" fill="#8a8a8a"/></svg>',deploymentUnit:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="deployment-unit" aria-hidden="true"><path d="M888.3 693.2c-42.5-24.6-94.3-18-129.2 12.8l-53-30.7V523.6c0-15.7-8.4-30.3-22-38.1l-136-78.3v-67.1c44.2-15 76-56.8 76-106.1 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 49.3 31.8 91.1 76 106.1v67.1l-136 78.3c-13.6 7.8-22 22.4-22 38.1v151.6l-53 30.7c-34.9-30.8-86.8-37.4-129.2-12.8-53.5 31-71.7 99.4-41 152.9 30.8 53.5 98.9 71.9 152.2 41 42.5-24.6 62.7-73 53.6-118.8l48.7-28.3 140.6 81c6.8 3.9 14.4 5.9 22 5.9s15.2-2 22-5.9L674.5 740l48.7 28.3c-9.1 45.7 11.2 94.2 53.6 118.8 53.3 30.9 121.5 12.6 152.2-41 30.8-53.6 12.6-122-40.7-152.9zm-673 138.4a47.6 47.6 0 01-65.2-17.6c-13.2-22.9-5.4-52.3 17.5-65.5a47.6 47.6 0 0165.2 17.6c13.2 22.9 5.4 52.3-17.5 65.5zM522 463.8zM464 234a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm170 446.2l-122 70.3-122-70.3V539.8l122-70.3 122 70.3v140.4zm239.9 133.9c-13.2 22.9-42.4 30.8-65.2 17.6-22.8-13.2-30.7-42.6-17.5-65.5s42.4-30.8 65.2-17.6c22.9 13.2 30.7 42.5 17.5 65.5z"/></svg>',direct:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.76 39.76"><path class="a" d="M24.91 39.76a1.2 1.2 0 01-1.118-.769L17.51 22.582.76 15.962a1.2 1.2 0 01.03-2.238L38.152.073a1.2 1.2 0 011.536 1.537l-1.587 4.342a1.2 1.2 0 01-2.249-.822l.7-1.923L4.566 14.892l14.311 5.656a1.2 1.2 0 01.678.685l5.33 13.914 9.19-25.156a1.2 1.2 0 112.249.821L26.036 38.973a1.2 1.2 0 01-1.115.787z"/></svg>',disabledAudio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.743 20.806"><g data-name="Group 13854"><g data-name="Group 13812" fill="#ff3939" stroke="#ff3939" stroke-width=".3"><path data-name="Path 9" d="M15.782 15.575l-1.958-1.553a2.067 2.067 0 00-1.306-.459 2.1 2.1 0 00-1.606.741c-.247.3-.423.476-.512.582a4.013 4.013 0 01-1.941-1.182 3.728 3.728 0 01-1.182-1.941c.106-.088.282-.247.582-.512a2.1 2.1 0 00.282-2.911L6.587 6.382a2.127 2.127 0 00-2.5-.618 6.267 6.267 0 00-1.7 1.112c-.6.6-1.429 1.994-.441 4.676a15.173 15.173 0 003.494 5.152c2.435 2.435 5.293 3.952 7.446 3.952a3.291 3.291 0 002.382-.9 6.267 6.267 0 001.112-1.694 2.041 2.041 0 00-.598-2.487zm-.423 2.029a4.9 4.9 0 01-.882 1.341 2.094 2.094 0 01-1.57.565c-1.782 0-4.358-1.341-6.634-3.617-3.107-3.124-4.486-6.794-3.054-8.223a5.5 5.5 0 011.341-.882.942.942 0 011.147.282l1.535 1.994a.963.963 0 01-.124 1.324c-.406.353-.67.582-.741.653-.6.6-.018 2.153 1.288 3.458a4.646 4.646 0 002.788 1.535.912.912 0 00.67-.229c.071-.071.318-.335.653-.741a.935.935 0 01.723-.335.958.958 0 01.6.212l1.959 1.547a.909.909 0 01.3 1.116z"/><path data-name="Path 10" d="M10.93 8.869a.621.621 0 00-.776.653h0a.6.6 0 00.494.565 1.987 1.987 0 01.917.512 1.842 1.842 0 01.512.917.681.681 0 00.565.494h0a.627.627 0 00.653-.776 3.185 3.185 0 00-2.364-2.364z"/><path data-name="Path 11" d="M15.129 12.204a.626.626 0 00.67-.688 5.536 5.536 0 00-1.641-3.511 5.67 5.67 0 00-3.511-1.641.626.626 0 00-.688.67.61.61 0 00.565.582 4.391 4.391 0 014.005 4.005.675.675 0 00.6.583z"/><path data-name="Path 12" d="M15.906 6.258a8.084 8.084 0 00-5.47-2.361.612.612 0 00-.635.67h0a.615.615 0 00.6.582 6.905 6.905 0 014.605 2.011A6.8 6.8 0 0117 11.765a.629.629 0 00.582.6h0a.621.621 0 00.67-.635 7.985 7.985 0 00-2.346-5.472z"/></g><g data-name="Rectangle 1065" transform="rotate(43 1.364 3.463)" fill="#fc3939" stroke="#f0f2f5" stroke-linecap="round"><rect width="26" height="4" rx="2" stroke="none"/><rect x=".5" y=".5" width="25" height="3" rx="1.5" fill="none"/></g></g></svg>',disabledSms:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.743 20.657"><g data-name="Group 13852"><g data-name="Group 11936"><g data-name="Group 1966"><g data-name="Group 1886"><path data-name="Path 4" d="M14.345 16.142a6 6 0 000-11.993H7.397a6 6 0 00-1.561 11.788c-.014.5-.014 2.413-.014 2.413a.889.889 0 001.518.72l3.554-2.927zm-3.9-1.262l-.175.144-3.183 2.613v-2.738l-.521-.093a4.735 4.735 0 01.834-9.4h6.948a4.734 4.734 0 010 9.468h-3.9zm4.989-5.365a.631.631 0 000-1.262h-8.76a.631.631 0 000 1.262zm-4.031 2.524a.631.631 0 000-1.262h-4.83a.631.631 0 000 1.262z" fill="#ff3939" stroke="#ff3939" stroke-width=".3" fill-rule="evenodd"/></g></g></g><g data-name="Rectangle 1053" transform="rotate(43 1.364 3.463)" fill="#fc3939" stroke="#f0f2f5" stroke-linecap="round"><rect width="26" height="4" rx="2" stroke="none"/><rect x=".5" y=".5" width="25" height="3" rx="1.5" fill="none"/></g></g></svg>',disabledVideo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26.256 20.657"><g data-name="Group 13853"><g data-name="Group 13811"><g data-name="Group 1"><path data-name="Path 1" d="M6.161 3.489h9.407a2.993 2.993 0 012.993 2.993v7.7a2.993 2.993 0 01-2.993 2.989H6.161a2.993 2.993 0 01-2.993-2.993v-7.7a2.993 2.993 0 012.993-2.989zm0 1.71a1.283 1.283 0 00-1.283 1.283v7.7a1.283 1.283 0 001.283 1.283h9.407a1.283 1.283 0 001.283-1.283v-7.7a1.283 1.283 0 00-1.283-1.283zm14.707.89l2.85-.8a2 2 0 012.534 1.921v6.244a2 2 0 01-2.534 1.921l-2.85-.8a2 2 0 01-1.457-1.921V8.006a2 2 0 011.457-1.917zm.462 1.647a.285.285 0 00-.208.274v4.644a.285.285 0 00.208.274l2.85.8a.285.285 0 00.362-.274V7.207a.285.285 0 00-.362-.274z" fill="#ff3939"/></g></g><g data-name="Rectangle 1066" transform="rotate(43 1.364 3.463)" fill="#fc3939" stroke="#f0f2f5" stroke-linecap="round"><rect width="26" height="4" rx="2" stroke="none"/><rect x=".5" y=".5" width="25" height="3" rx="1.5" fill="none"/></g></g></svg>',done:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53.739 41.503"><defs><style>.a{stroke:#8a8a8a}</style></defs><path class="a" d="M7.068 22.911l12.24 11.52M46.668 7.071l-27.36 27.36"/></svg>',downArrowCircle:'<svg style="border-radius:50%;padding:0 inherit" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.883 122.882"><path d="M0 61.441c0-16.966 6.877-32.327 17.996-43.445C29.115 6.877 44.475 0 61.441 0c16.967 0 32.327 6.877 43.446 17.996s17.996 26.479 17.996 43.445-6.877 32.326-17.996 43.445c-11.119 11.118-26.479 17.995-43.446 17.995-16.966 0-32.326-6.877-43.445-17.995C6.877 93.768 0 78.407 0 61.441zm42.166-9.936a4.507 4.507 0 00-6.285 6.46l22.521 21.839 3.142-3.23-3.146 3.244a4.52 4.52 0 006.391-.099c.049-.052.098-.104.145-.158l22.084-21.596a4.507 4.507 0 00-6.285-6.46L61.531 70.284 42.166 51.505zm-17.78-27.119C14.903 33.869 9.038 46.97 9.038 61.441s5.865 27.572 15.349 37.055c9.482 9.483 22.583 15.349 37.055 15.349s27.573-5.865 37.055-15.349c9.484-9.482 15.35-22.584 15.35-37.055 0-14.472-5.865-27.573-15.35-37.056-9.483-9.482-22.585-15.347-37.056-15.347s-27.572 5.865-37.055 15.348z" fill="#fff"/></svg>',down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 407.437 407.437"><path d="M386.258 91.567l-182.54 181.945L21.179 91.567 0 112.815 203.718 315.87l203.719-203.055z"/></svg>',download:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="download" aria-hidden="true"><path d="M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"/></svg>',duration:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 23"><path d="M13 1H7v2h6V1zM9 14h2V8H9v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42A8.962 8.962 0 0010 4a9 9 0 00-9 9c0 4.97 4.02 9 9 9a8.994 8.994 0 007.03-14.61zM10 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" fill="#000" fill-rule="nonzero"/></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.462 19.468"><g class="a"><path class="b" d="M15.74 19.318H2.962c-1.55 0-2.812-1.273-2.812-2.838V3.702C.15 2.166 1.411.916 2.962.916h7.604V2.28H2.962c-.811 0-1.447.624-1.447 1.421V16.48c0 .799.663 1.474 1.447 1.474h12.779c.77 0 1.422-.65 1.446-1.429V8.902H18.552v7.578c0 1.565-1.261 2.838-2.812 2.838z"/><path class="c" d="M15.74 19.168c1.468 0 2.662-1.221 2.662-2.688V9.052h-1.065v7.428h.001c0 .881-.716 1.624-1.597 1.624H2.962c-.881 0-1.597-.743-1.597-1.624V3.701c0-.881.716-1.571 1.597-1.571h7.454V1.066H2.962C1.494 1.066.3 2.234.3 3.702V16.48c0 1.468 1.194 2.688 2.662 2.688H15.74m0 .3H2.962C1.329 19.468 0 18.128 0 16.48V3.702C0 2.083 1.329.766 2.962.766h7.754V2.43H2.962c-.727 0-1.297.558-1.297 1.271V16.48c0 .718.594 1.324 1.297 1.324h12.779c.688 0 1.271-.58 1.296-1.277V8.752h1.665v7.728c0 1.648-1.329 2.988-2.962 2.988z"/></g><g class="a"><path class="b" d="M8.007 12.117a.687.687 0 01-.482-.2.69.69 0 01-.18-.648l.752-3.011a.68.68 0 01.18-.317L15.42.798c.412-.412 1-.648 1.612-.648.614 0 1.201.236 1.612.648.43.43.668 1.002.668 1.611s-.237 1.181-.668 1.612l-7.143 7.143a.677.677 0 01-.317.18l-3.012.753a.67.67 0 01-.165.02zm1.37-3.345l-.432 1.725 1.725-.431 5.774-5.774-1.294-1.294-5.774 5.774zm6.738-6.74l1.294 1.294.27-.27a.909.909 0 00.268-.647.909.909 0 00-.268-.647.917.917 0 00-.647-.258.917.917 0 00-.647.258l-.27.27z"/><path class="c" d="M17.032.3c-.551 0-1.103.201-1.506.604L8.383 8.047a.532.532 0 00-.14.247l-.752 3.011a.535.535 0 00.516.662.518.518 0 00.129-.016l3.012-.753a.527.527 0 00.247-.14l7.143-7.143c.402-.402.624-.937.624-1.506a2.11 2.11 0 00-.624-1.505A2.123 2.123 0 0017.032.3m.377 3.238l-1.506-1.506.376-.376c.201-.201.477-.302.753-.302s.552.101.753.302c.201.201.312.468.312.753s-.111.552-.312.753l-.376.376m-8.67 7.165l.502-2.008 5.909-5.909 1.506 1.506-5.909 5.909-2.008.502M17.032 0c.653 0 1.28.252 1.718.692.46.458.712 1.068.712 1.717s-.253 1.26-.712 1.718l-7.143 7.143a.827.827 0 01-.388.22l-3.01.752a.838.838 0 01-.79-.219.84.84 0 01-.22-.79l.753-3.012a.829.829 0 01.219-.386L15.314.692A2.438 2.438 0 0117.032 0zm.377 3.114l.164-.164a.76.76 0 00.224-.541.76.76 0 00-.224-.54.766.766 0 00-.541-.215.766.766 0 00-.54.214l-.165.164 1.082 1.082zm-1.177 1.178L15.15 3.21 9.512 8.848l-.36 1.443 1.442-.36 5.638-5.639z"/></g></svg>',ellipsis:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="ellipsis" aria-hidden="true"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"/></svg>',emailSentFailed:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 85.5 67.415"><defs><style>.b{fill:none;stroke:#f0f2f5;stroke-linecap:round;stroke-width:4px}</style></defs><path d="M65.607 67.415a19.894 19.894 0 10-19.894-19.893 19.894 19.894 0 0019.894 19.893z" fill="#ff3939"/><path class="b" d="M60.05 41.965l11.113 11.113M71.163 41.965L60.05 53.078"/><path d="M38.479 43.9H4.117V12.4l28.159 13.256a1.935 1.935 0 001.555 0L61.989 12.4v7.994a1.809 1.809 0 003.617 0V2.309A1.809 1.809 0 0063.8.5H2.309A1.809 1.809 0 00.5 2.309v43.4a1.809 1.809 0 001.809 1.809h36.17a1.809 1.809 0 000-3.617zm23.51-39.783v4.268L33.053 22 4.117 8.385V4.117z" fill="#262626" stroke="#2b2b2b"/></svg>',emailSent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 85.5 67.415"><path class="a" d="M65.607 67.415a19.894 19.894 0 10-19.894-19.893 19.894 19.894 0 0019.894 19.893zM55.28 48.046a1.809 1.809 0 012.55 0l4.16 4.16 10.471-10.472a1.809 1.809 0 012.55 2.55L63.256 56.04a1.809 1.809 0 01-2.55 0l-5.426-5.426a1.809 1.809 0 010-2.568z"/><path class="b" d="M38.479 43.9H4.117V12.4l28.159 13.256a1.935 1.935 0 001.555 0L61.989 12.4v7.994a1.809 1.809 0 003.617 0V2.309A1.809 1.809 0 0063.8.5H2.309A1.809 1.809 0 00.5 2.309v43.4a1.809 1.809 0 001.809 1.809h36.17a1.809 1.809 0 000-3.617zm23.51-39.783v4.268L33.053 22 4.117 8.385V4.117z"/></svg>',email:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.505 15.5"><path class="a" d="M15.5 7.291A7.821 7.821 0 008.544.038a7.753 7.753 0 10-1.549 15.428 6.352 6.352 0 00.791.033 7.394 7.394 0 004.286-1.319.736.736 0 00-.824-1.22 6.263 6.263 0 01-7.879-9.659A6.255 6.255 0 0114.05 7.356a6.549 6.549 0 01-.33 2.407 1.428 1.428 0 01-1.352.956 1.407 1.407 0 01-1.418-1.418V4.654a.767.767 0 00-.758-.758.746.746 0 00-.758.758v.231a3.466 3.466 0 00-2.077-.659 3.544 3.544 0 102.308 6.231 2.919 2.919 0 005.44-.165 9.279 9.279 0 00.395-3.001zM7.357 9.829a2.077 2.077 0 112.077-2.077A2.089 2.089 0 017.357 9.83z"/></svg>',enteredby:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.33 15.33"><defs><clipPath id="a"><path data-name="Path 861" d="M8-11.846a2.012 2.012 0 012.01 2.012A2.012 2.012 0 018-7.822a2.012 2.012 0 01-2.014-2.012A2.012 2.012 0 018-11.846m0 8.623c2.846 0 5.845 1.4 5.845 2.012v1.054H2.154v-1.054c0-.613 3-2.012 5.845-2.012M8-13.667a3.831 3.831 0 00-3.834 3.833A3.831 3.831 0 008-6a3.831 3.831 0 003.832-3.832A3.831 3.831 0 008-13.667zm0 8.623C5.44-5.044.333-3.76.333-1.211v2.874h15.33v-2.874c0-2.549-5.106-3.833-7.663-3.833z" transform="translate(-.333 13.667)" fill="none"/></clipPath><clipPath id="b"><path data-name="Path 860" d="M-55 917.927h1207.237V-1024H-55z" transform="translate(55 1024)" fill="none"/></clipPath></defs><g data-name="Group 13013" clip-path="url(#a)"><g data-name="Group 13012" transform="translate(-63.619 -1161.63)" clip-path="url(#b)"><path data-name="Path 859" d="M62.469 1160.48h17.63v17.63h-17.63z"/></g></g></svg>',environment:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="environment" aria-hidden="true"><path d="M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"/></svg>',esclation:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 18.75"><defs><clipPath id="a"><path data-name="Path 872" d="M3.75-6.875h7.5V-5h-7.5zm0-3.75h7.5v1.875h-7.5zM9.375-20h-7.5A1.881 1.881 0 000-18.125v15A1.873 1.873 0 001.866-1.25h11.259A1.881 1.881 0 0015-3.125v-11.25zm3.75 16.875H1.875v-15h6.563v4.688h4.688z" transform="translate(0 20)" fill="none"/></clipPath><clipPath id="b"><path data-name="Path 871" d="M-55 519.437h984.375V-1064H-55z" transform="translate(55 1064)" fill="none"/></clipPath></defs><g data-name="Group 13031"><g data-name="Group 13030" clip-path="url(#a)"><g data-name="Group 13029" transform="translate(-51.562 -978.75)" clip-path="url(#b)"><path data-name="Path 870" d="M50.625 977.812H67.5v20.625H50.625z"/></g></g></g></svg>',exclamationCircle:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="exclamation-circle" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"/></svg>',eyeInvisible:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="eye-invisible" aria-hidden="true"><path d="M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"/><path d="M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"/></svg>',fileAdd:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="file-add" aria-hidden="true"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"/></svg>',fileExclamation:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="file-exclamation" aria-hidden="true"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM472 744a40 40 0 1080 0 40 40 0 10-80 0zm16-104h48c4.4 0 8-3.6 8-8V448c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v184c0 4.4 3.6 8 8 8z"/></svg>',file:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="file-text" aria-hidden="true"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"/></svg>',filterSaved:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 40"><g data-name="Group 82"><g data-name="Group 81"><path data-name="Icon feather-filter" d="M42 2H2l16 18.92V34l8 4V20.92z" fill="#a9cc54" stroke="#a9cc54" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/></g><path data-name="Icon awesome-check-circle" d="M43.58 24.473a7.178 7.178 0 11-7.178-7.179 7.178 7.178 0 017.178 7.179zm-8.009 3.8l5.326-5.326a.463.463 0 000-.655l-.655-.655a.463.463 0 00-.655 0l-4.343 4.345-2.028-2.028a.463.463 0 00-.655 0l-.655.655a.463.463 0 000 .655l3.01 3.01a.463.463 0 00.656 0z" fill="#d81b60"/></g></svg>',filter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.234 16.151"><path d="M12.97 8.55h0a2.077 2.077 0 01-4.041 0h-8.2a.479.479 0 110-.958h8.2a2.077 2.077 0 014.041 0h.535a.479.479 0 110 .958zm-2.02-1.6a1.118 1.118 0 101.118 1.125 1.119 1.119 0 00-1.118-1.118zM5.305 2.805h0a2.077 2.077 0 01-4.041 0H.729a.479.479 0 110-.958h.535a2.077 2.077 0 014.041 0h8.2a.479.479 0 010 .958zM3.284 1.208a1.118 1.118 0 101.118 1.118 1.119 1.119 0 00-1.118-1.118zm4.9 13.1h0a2.077 2.077 0 01-4.041 0H.734a.479.479 0 110-.958h3.404a2.077 2.077 0 014.041 0h5.326a.479.479 0 010 .958zm-2.02-1.6a1.118 1.118 0 101.118 1.118 1.119 1.119 0 00-1.123-1.119z" fill="#fff" stroke="#fff" stroke-width=".5"/></svg>',formFilled:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.378 38.004"><path class="a" d="M30.185 9.108a.3.3 0 00-.117-.234.057.057 0 00-.059-.059c-.059-.059-.117-.176-.176-.234L21.227.326c-.059-.059-.117-.117-.176-.117h-.059a.352.352 0 00-.234-.059H4.775A4.635 4.635 0 00.15 4.775v28.454a4.635 4.635 0 004.625 4.625h20.726a4.635 4.635 0 004.625-4.625V9.459c.117-.176.117-.293.059-.351zm-8.548-5.621l5.035 4.8h-2.459a2.6 2.6 0 01-2.576-2.576zm3.981 32.2H4.892a2.6 2.6 0 01-2.576-2.576V4.658a2.6 2.6 0 012.576-2.576h14.7V5.77a4.635 4.635 0 004.625 4.625h3.981V33.17a2.588 2.588 0 01-2.58 2.518zM23.45 21.52a.987.987 0 01-1 1H8.23a1.039 1.039 0 01-1.054-1 1 1 0 011.054-1h14.227a1.026 1.026 0 01.993 1zM7.057 15.197a.987.987 0 011-1h14.227a.987.987 0 011 1 1.026 1.026 0 01-1 1H8.05a1.026 1.026 0 01-.991-1zm16.393 12.7a.987.987 0 01-1 1H8.23a1.039 1.039 0 01-1.054-1 1 1 0 011.054-1h14.227a.987.987 0 01.993 1.004z"/></svg>',form:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.378 38.004"><path class="a" d="M30.185 9.108a.3.3 0 00-.117-.234.057.057 0 00-.059-.059c-.059-.059-.117-.176-.176-.234L21.227.326c-.059-.059-.117-.117-.176-.117h-.059a.352.352 0 00-.234-.059H4.775A4.635 4.635 0 00.15 4.775v28.454a4.635 4.635 0 004.625 4.625h20.726a4.635 4.635 0 004.625-4.625V9.459c.117-.176.117-.293.059-.351zm-8.548-5.621l5.035 4.8h-2.459a2.6 2.6 0 01-2.576-2.576zm3.981 32.2H4.892a2.6 2.6 0 01-2.576-2.576V4.658a2.6 2.6 0 012.576-2.576h14.7V5.77a4.635 4.635 0 004.625 4.625h3.981V33.17a2.588 2.588 0 01-2.58 2.518zM23.45 21.52a.987.987 0 01-1 1H8.23a1.039 1.039 0 01-1.054-1 1 1 0 011.054-1h14.227a1.026 1.026 0 01.993 1zM7.057 15.197a.987.987 0 011-1h14.227a.987.987 0 011 1 1.026 1.026 0 01-1 1H8.05a1.026 1.026 0 01-.991-1zm16.393 12.7a.987.987 0 01-1 1H8.23a1.039 1.039 0 01-1.054-1 1 1 0 011.054-1h14.227a.987.987 0 01.993 1.004z"/></svg>',fullscreenExit:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="fullscreen-exit" aria-hidden="true"><path d="M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"/></svg>',fullscreen:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="fullscreen" aria-hidden="true"><path d="M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"/></svg>',graph:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 19 19"><image width="19" height="19" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAEAYAAACTrr2IAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gUEDAsh7cx66QAAArxJREFUeNrt3aFP1GEcx/Hnx52OP4HARlA3slOpRDOwO2YBAtBIBCL/gvUIEJwgt1mxUZjApp1N6ASyxR0/g0Y3y23PbZ/X6y/4POW9fdPTFOC/jtvLdul0fb2cNNfNp8PD2nvGZar2AKAeAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACAMEEAIIJAAQTAAgmABBMACCYAECwbu0BTKaPm183l1/OzzeDZlDK3l7tPePSbj359nR7d/fdwavXx9sPD7X31CYA/FMzaAbl+8xMOWmuy8raWu0943vXr4WfW/v75aCUIgBOAEgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACAMEEAIIJAATrHreX7XK7uFh7yLh0hp3Tqd7NTa/3pj8c3t/X3gOTrPvn55fz89pDxmW0OuqN+hsbpZR+GR4d1d4Dk8wJAMEEAIIJAAQTAAgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACAMG6tQdMig/vr58tvZ2d7eyU0ry4uKi9Z1ymnpfS/lhd7d8t3H3+cnVVew+TRQD+6uw83o7Out1y0lx3V+bmau8Zl8fbdqE5m54uTWlKU3sNk8YJAMEEAIIJAAQTAAgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACAMEEAIIJAAQTAAgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQLDfNBBQdlExihoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDUtMDRUMTI6MTE6MzMrMDA6MDCkD5PyAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA1LTA0VDEyOjExOjMzKzAwOjAw1VIrTgAAAABJRU5ErkJggg=="/></svg>',greenFilledForm:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53 53"><g fill="#a7c853" stroke="#a7c853"><path d="M5 0h28a20 20 0 0120 20v28a5 5 0 01-5 5H20A20 20 0 010 33V5a5 5 0 015-5z" stroke="none"/><path d="M5 .5h28A19.5 19.5 0 0152.5 20v28a4.5 4.5 0 01-4.5 4.5H20A19.5 19.5 0 01.5 33V5A4.5 4.5 0 015 .5z" fill="none"/></g><path d="M36.875 19.657h0a.209.209 0 00-.08-.161.039.039 0 00-.04-.04c-.04-.04-.08-.121-.121-.161h0l-5.914-5.673h0c-.04-.04-.08-.08-.121-.08h-.04a.242.242 0 00-.161-.04H19.414a3.185 3.185 0 00-3.178 3.178v19.553a3.185 3.185 0 003.178 3.178h14.243a3.185 3.185 0 003.178-3.178V19.901c.08-.124.08-.2.04-.244zm-5.874-3.862l3.46 3.3h-1.69a1.786 1.786 0 01-1.77-1.77zm2.736 22.128H19.494a1.786 1.786 0 01-1.77-1.77V16.601a1.786 1.786 0 011.77-1.77h10.1v2.535a3.185 3.185 0 003.178 3.178h2.736v15.651a1.778 1.778 0 01-1.773 1.728zm-1.489-9.736a.678.678 0 01-.684.684h-9.777a.714.714 0 01-.724-.684.688.688 0 01.724-.684h9.777a.705.705 0 01.684.683zm-11.265-4.345a.678.678 0 01.684-.684h9.777a.678.678 0 01.684.684.705.705 0 01-.684.684h-9.777a.705.705 0 01-.684-.685zm11.265 8.731a.678.678 0 01-.684.684h-9.777a.714.714 0 01-.724-.684.688.688 0 01.724-.684h9.777a.678.678 0 01.684.683z" fill="#fff" stroke="#fff" stroke-width=".3"/></svg>',help:'<svg viewBox="0 0 12.7 12.7" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 -284.3)" stroke-width=".706"><circle cx="6.35" cy="290.65" r="3.881" fill="none" fill-opacity=".585" stroke="#000"/><path d="M5.292 289.944c0-.705.352-1.058 1.058-1.058.706 0 1.058.353 1.058 1.058 0 .706-1.058 0-1.058 1.412" fill="none" fill-rule="evenodd" stroke="#000"/><path d="M5.997 292.061h.706v.706h-.706z"/></g></svg>',high:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.5 9.9c-.5.3-1.1.1-1.4-.3s-.1-1.1.4-1.4l5-3c.3-.2.7-.2 1 0l5 3c.5.3.6.9.3 1.4-.3.5-.9.6-1.4.3L8 7.2 3.5 9.9z"/></svg>',highest:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.479 7.9c-.5.3-1.1.1-1.4-.4s-.1-1 .4-1.3l5-3c.3-.2.7-.2 1 0l5 3c.5.3.6.9.3 1.4-.2.4-.8.6-1.3.3l-4.5-2.7-4.5 2.7z"/><path d="M3.479 12.2c-.5.3-1.1.2-1.4-.3s-.1-1.1.4-1.4l5-3c.3-.2.7-.2 1 0l5 3c.5.3.6.9.3 1.4-.3.5-.9.6-1.4.3l-4.4-2.7-4.5 2.7z"/></svg>',history:'<svg viewBox="64 64 896 896" data-icon="history" aria-hidden="true"><path d="M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"/></svg>',home:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 230.262 230.262"><path d="M228.065 125.587l-51.619-51.615V23.263a7.5 7.5 0 00-7.5-7.5 7.5 7.5 0 00-7.5 7.5v35.709L120.43 17.96a7.5 7.5 0 00-10.606 0L2.197 125.587a7.5 7.5 0 000 10.606 7.502 7.502 0 0010.608 0l18.72-18.72v89.525a7.5 7.5 0 007.5 7.5H191.24a7.5 7.5 0 007.5-7.5v-89.524l18.721 18.719a7.477 7.477 0 005.303 2.196 7.478 7.478 0 005.304-2.197 7.5 7.5 0 00-.003-10.605zm-44.326 73.912H46.524v-97.025l68.604-68.604 68.611 68.606v97.023z"/></svg>',icBlank:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 80 80"><image width="80" height="80" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAEAYAAACTrr2IAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gYdBB02FiV5hAAAJm5JREFUeNrt3XdAk8cbB/Dv84ahgDhwVXEVFUeLm4BYt4j8nERGAG21de+FglWwrooD696jCmHjaHFRcRMEF24LDqriwIkiCMn9/pBQa4wKRKJyn3/U917unhy+lzdv7p4DOI7jOI4reaioFexsnpjYPdHI6NkVRabB1pEj0Q2O1NrVFZfZEjxo0ADeaIQYIyONAczELNg8fszuYBKUp07hIpoy440bL1UWm347IjBwBhHNIKVS1x3FcV+iQg8AgYEJjk5JX38teCkIdaOjsQDTqJ+lpbYCYz2wGJZ79uj9+UImXOnb18W1A4WFP3um6w7juC9JgQeA/Hf8u7m+Bo1OntT2ha8W4FzUg35EhFuSjVlEcN++uuoo2e6EUr3G16hBXopbercDAthzlIOtvT1mIQGHypTR+IN3aA4mpqQIy3CezfD0dE0Rp0Tulss1nR4yNG6OU1Lnzso2lEXYsAEiOGJGjRq6et0lzs9ohbYZGViOr/C/mBjlWGU1tnvcOI9LrU9HjrxxQ9fhaVuBB4Bg7/j/SepOmsSs2DQ08ffXeGIzhEF5/jwaUzyapqWplXuzhwggwhFUhLJePQyBP7rUrKmpOvaUSQShfXv3Iba3wsIOHiyuDpINOHK/55Fq1eig3kH9Q0lJbDbMccLMrMAVpVInHDtwQDpZ/DwirUMHze3J10m2nT4Ne3yDLU2aFNfr5DSoSx7M99EjPBBuKTY1aSJ1aJW1fdE//+g6LG3RK/BPRLJpLNLVFVYAzVAvpq9ZBpX39HRrYLswfF1gIAAg6i31zHr1hy9jzJcJQsOu8TPO1124kA2AA2s6dqxavTKhq/J/rq4ANqAYBwAK1TfXnzJvHlvHDqJKIS58la9ZAGLS0wEMRuN3nLcUV+D44AF24htsKa5XyWmUzAJpRvnyGKMwFE3w9wfQDIukUl2HpS0FHgBYLlpRbP36ABL+U5CEphh28aKb1LZUeOe8C/8DqB7ybW995H7PI9OnZ/bWG6XXcvRobMNY8hCEf+tn3+NugwYANhRnB7HVbDJWtGv3KtjXCv5BWTx48QLeNAgdjh7VWMFo6EN88yYe54TmPJo6FcDgd7UniiY7weOnnxT9sUwxZOZMKHGd4qpUKc7XXKJdYZZsgK0tjmMQjTM2zj/eHsfItX17hOo6QO0q+B2AD9XHPiMjgAXC8LXj5liLQenphQ2k17E2lXa0yciQLZVflLTPzkYNPIFZ6dL5J6xFC4QYGUFSvB1E02GFP4yM2Ow3jkdRd7Y1OdlNIU6JNO/SRWMFAfl/q/Qh7bm4iHuFhV27BgAI8/Qs3lfLBTvKFzj1SUxkfgDQokV+wQkMxURjYwAjMEbXUWqPUPQqOI77XBV8ADjFjuLakydqxy9hHZaXL1/YQFTfLuAw9mBwqVJvlrOu+AkOjx/ruL847otS4AGA9uE6k+Xdor7OHw1Zx0aNAhsca+q0rFatgtab4ZEbaejTrRvcYYMIUvt2grqTEepfvarrDuO4L0mBBwDWGmZIjY5WK8h7aCeqLwTR1RUrYlksa8f03vuMYXPk8Wq9L5qZkUDnMGPePI3t5iirYtquXbruMI77khR4AFA0JQcsW7Mm/yn4G5gUT3HD0fHOitLLKn69f39It+N9nJa1bbt6VWLC4EH6+r/fOTOhX2Vj46CFch+JvURicIO1FD2Oj0dV5oMFFhZqDdrROOhfuvTVkazZ6amfzgDAWjITSqIiT6XmPi3MijrTpZLzey30C5WZxB9yGuvlhbXMgP7R/M5daOtggZ65uWwOHVOe7drVXSzuFbVg//7i7iBZg3hTJ+Xff8OX7SXnunWLu33uE5EBc/hcvy4dbGMe0aJOHV2Hoy2F/hbALcP6u8jF8+djNa1Bj5UrtRaR6sL/mh2iy8OG6erCV2G7kEHjwsN11T73iVDiCjP78v4fFHoAICICGJMeEG+I+GH4cGzGRPQZPBjVEcwmF2I+QN6tfv47/lpbSficdet03UF6Ccpqwu1ffkF57EVaYqKu4+GKmTnNw6NTp3J6l/7T2NrPT9fhaJvWP+ts/S3ewmOUqanwI2uVVaZnT5pGd9G2UycYs7twq1GDkhCOgdnZKE9WTP/6dXYD/dnE6OiqsZnrH1bcs6cDdaCDlJur6455k+oZRhnP3IXpWaNH03OsppVdu1JbXGRXK1TQdXycdrBkmkhRjx6RF8piy969QlOT0kLT335zcW0cHhb+8qWu4+M4juM4jiu6934EUH1dR8NwH7X9/ZEKU9x/8YK6CKb015gxbv9Y+4Y//euvjxVgsKVc7pQ0eDCbhmjCzz9jOy3Cpfv3aZNys7LDoEFuxraSqEonT+q6Iznuc6RxAAi6Em/h5DB2LE1go6j/okVqM/QyyQPZCgW2YQxzmznz0g7rUd96zJxZ1BRer1YFlinz4qpegP4vq1ezAPREmbcsv7TGWhbw/Lkwn1ngce/erqtsfSKtYmJ03aEc9zlRGwBkZ+IznH52d8fPbD012rpV09RcNZ40EVYxMTm3cpcpMzw8+le1axq14N69Dw0k6JncTeJjZUWWyGA/h4Z+cKahvIGAcqkuO2Nn52Yp9o7qceaMtjsqNPR4iLNz1arKAay/Mm3+fBbBErGpSxeYUW+WaWCg7fa4kol6Ip0ic3LYLFREz9hYxTOA+Uyc6DlGnBK5++ZNrben+ktoaPx2Z+c6dRQXMEd5MykJluw3VDMxKXCNhjQWs27fZveV/wjT3d3fl8FHZhVvIVk5cCA82R8IWbZMbRnwh8r7GrFs1oPNmYlNmzrWd6y/Kzk7u6gdFPRM7tbjbpUqNBDfGbQ8fRp90ALWVatq71fAce9wFLVx6eFDdBfVzu3atKm2MxLlzwNQELur9PP313jhD8EDtubCBVqCTTDdtk1jjdlsMX6uVo1C6bSye0yMLCV+rOShj48q80/+VOBncjenyM2b4c0CEbN+vcYLPwhySBhTTThSZRFW7ygWgJwGDZ5uNBtnhNGjtdVBNI3uGpz69Vd+4XM6YYfraFChAjIUS/R+XLRI29VTaEhcdee+desqetJ3iq2XL6tl4smb889m4iSONWkifSp2j3iZnBwceHyzJGnsWDgyM1Zr3jzsQSUaqK+vsSU5UrBz715sRDmWZm6O1TCjwY0aaTw/b+QjJjQno++/d1tufTs84Y8/ZH7HOzs17tMHlspZ1CAyUu3n8u5Ant4TLTVbVLv2kKEtW61Zm5NT2A6StZe3lZjeuKGWs3AJzUC37Gx6yHyZ9blz2v7FcCUTM8QFOtqwoVo6/bzchNJW4pRIK+3NO9FTpmOHMt3VFduQ858LX8UUaWzT8uXuGTYekbX//tud4KEqirAKCAixiLdwcoiLU9Zg1XEsJERjck8bWKCHvT1sAHpXUqxluA1HuVw0Wk8kkKuri2vL22HhqamqYqmfdUzk+agoGYsv5+R78CCC2UQKyUvZBeTfgZQ7nbMv3Tfv+NrCPxykVIzGFGNjBgAnXjsOXGEOV664XbaxiTRv2VJbvxCuZHv1kfjIEYAFAnZ2+QUWbDFqmZgA6KHN9gSWRv1wWnOWWnZCKSOn9es1lavSXIuGsxSha7NmCMdYtvGPPz44AtUtPqEvWxMQ8LSfXg0zedu2Lq4tW71+4au5x9bjnua42J9UQWjTsaM2O4vjvjQCLYcVhr/lVjzvVtp9beu1EScvXXpfRS4utrfCwh4+dAsXx0Wa9uyJQfSS1Zg8WbW4583z83cEqkqlsMDJSepmczPSbPz4D71lFx1kjUQHNS8SYsE0jp1r3Ph99XBcSSawmfgaiW9Jd72G6eHErVsFrTB/kdAzcdvIxf7+mKTcCbt27VQ7/WAMDNmE4GDBjwYJx5s3d18rHhpx8h0PFTU472xzs1FoWpqmAQbDUA1/FiGNN8eVAHowQ0+Uecv32B3oFCY9f47dRWtA6tB6YETdY8de/cvBAUAw5gBwKVq9qglHMr94scQ2Kwt449sLf/Y9thgawgHTi7dLOe7zwbMCFxLPCMR9FBPggKXF9/+q4PsClDBsFP2ODo8fA8znP1uCXccAPG7cWJYQv9Qp6eFDXcfJfSG+YQ9Y/bJlsQ0gj38PU2PypIBHj7TdnOYBwAvd2G9EmIzwot6uf84oFOfJeds2Nhpg4gkT8gtUU6STmQ1FFD4dOsf9R7KG407MkxlERWE5lmuzOQpuJO8umf/oEZuGnyEvVy6/RLXYxwpgc54+1XW/qAX+PWtIe4jU4lbpiIbYvG+ftIpN2QgTe/vCthMaEsuc+5qYKBcb1VUsPnaMjWaBNObbb3X9+rkSIgVHMObKlayphhNyvxOLB1Az2k7a2x+DZCyOSZpv2oRgiked77/X9evVFpaLMBY/YoR7P5uFkTdXrChqfRtZLPuelSpV6lHpP55lTZpE1dGA/WVvj5p4gJqFWLvAcW/BDMmDjmZloQXbzWrs358zt/Qq44Hz5vWv2mThlnvPn2u7PQoalJggXV2xIp3KvfJy1PHjmAAL9PiMs57mvfOLDqbuEQZ06+bi4uISFqZQ6DosjvsU5T9tVK3Dz+yuP03PdOpUWsSUeNC2LcwwEGaf7nJXNpA6UdeMDBiwrxAZFSWqnjpHWLR8Ob/wOY7jOI7jOI7jOI7jOI7jOI7jOI7jOI7juJKkyMsOQ0NDQ52dRSLF0NpjlS09PdGLlWYTXF2xnHWk4ZaWOE/72ci3LJbZzI6SlDF4UR98e+8e9uEevM6cYa6slfLM+vXuJjbBUQP27dN1B3Hcl6zQA4BqowyFSPk/Zcq2bXiJc6gjFmstsv60jA0JDCx7/sH0F8N//FFbef45jvtXgQeA0JDzfZ37Ghgop2dMVEw/doz5ATSjRYuPFuFejEC/9eulG21ORPT+6SdddVRg4OHD7u7ly4v2GnTIqjFrFlvI4ulOly64Ri5sQsWKuoqL496pMetIyx49Qi4a4tCBA0zA8ZcHfXzcTWyCd1a5e7fAA4DMW54liRkxAlY4jZXLlmk6j6biJlo8eMDOYQ+uP3misUJ/SsLZypU1bkiSlzVYOCD0YF5isWuGtUXkzYSE4uq/0NC46s7OFSooVpCFcs+pUxrTnnPcZ4DGU1d8e++e8JvSRDjfvHmBMwLRWoxmIg8PthQD3zp6KOgSfMePd7sq/iHCKiAARu+uL/pK9JVudQ0NH1erML30pDVraCfGUmD//vkn5CXeUI5gQ3DV0xMOAAyKbwBQHqTeimZz5mAI+pGSX/jc540tYntwtnJlpbcQqcxdtKjAAwAbiDo0IS+N+OuLhmeQPQtLTpZeEj+NFAICPrQ+1Wf70NC46s6yceMUQWSjlPTrp7Yp6f+QRXPfsZPQx+qwZbSb0hwcEMz6/adAlY14J3xw9B37F3CcLnWim7CuXh2jmS92GRqqDrPtrDub7+BQ8JyAlrTu1a06++9mIqPYbLJIS8MIjCpMnKp9BWT+8q6S+1lZwBt7BYay3dhepgwkKPiGpUVAFmwevjIxYbMB3H7teCbZsE4XL7oZiVMiv7eyKs6YOO5DyebFG0t2xsYCAFq3b59fcBYG5G1qyrMCc1wJVuABgBayhmiXkaFWkIjSCDA1LWwgqmcBOIw9GFyqlNoJLuSAXm9pl+O4QivwAMC2Yhli3/KZNxW98KRx46Bncrced6tUKWi9T73LlzbW79hR7bN/HpqAjszs+nVddxjHfUkKPgDUxxQ03bNHreAnpGCHnp5QF18b9AsIYIwx4P0bHPx+58yEfpWNjdlUUrA6v/6qsV1LBOKPt7TLcVyhFfwZwFfogQVr16Ir7rMN6pt4sgD0RBmpNHhPfBVJckREaGjCVGdnS8v88ryBQZYSP1by8Lvv9Edlrc5cdugQLuMOSr/lYZobeaDajRtZAzOTy+wqwK7DHMe9V6GnAgddiyfJmLlzSc7icHPKlPf+QHUEs8np6RiAhRRnaIhZSMChMmU0N/BqApBq9+DCbiJaVLKW8kCJwdWratmSVfsmSFlHVLtxo7jj4rgPsgGVcN3cXG0P0FOIxbUnT4qwFiBvERDVfKz0Cw5GLqwwvW/fIgecd+HjAkax5KlTpSk2osjpc+fqqv9kVvLOkpVLl8IbsxAzcqSu4uA4rcpba1Pk1YC+jDFfJggNWsd3PLvcxwfP0Y9E3t7wRiPEGBl9aD00HIthmZam3MSq4urYse69bBdHBIeG6rqfQkMSE5z7li2r6JQrKI0TErAPOXhWr56u4+K4wqABeIbaN28q07HupVfLllrfhVQ24Mj9nkeqVYOr3h39qu7uCKHerHbHjjBhJrS3Rg240NdYkJNDI9g6VL56lYGs0S46Omdvqd5GviEhH2sHlKJS7ZvwfK/eKP3oadNoFDrD2t4eyxGP6Hd8lOE4XZqM4+idmUm3aRJNiI0VXJWT6Rs/P9XEO12Hx3Ecx3GcLrz3I4CMxTEJa98ebSgKG+bOxUWYIf3FC/qHpSsHTpzoZmwriap08uTHCjBoUPwqSfPevekxJmLKtGkwQRXmdPeuyEGZJXIbPdrF1fZWWHhyctFb4riSR+MAEPRM7ibx8fSkl/BgkzdswB5UooH6+vkntCMHtiIriyTKv5EzfrxbnG2lSPOVK4sakCrhiGJ8xiKlrb8/miMSX40e/eYMQVW+AbovNGMrunUr7jwBHPclUBsAgsrIAyUGjo5kDXus3b5dNcPvvTWNgSGbEBxsVDfXPFc5eHCvY20q7Wjz4XP3Axsca+q0rFYtYbZwhDaEhHxoijHVQCDMZWOEkzY2H+uOQPUQ8AXTtzFw8/UFAKXc3p79xTrSL8bG2m7vi3UJU3Hz2TPqz8pR4u7dwrSsstR25kwX1w4UFv7sma7DK2nyB4AtFxIT+9z/6iu9FbnmQvtz52CH62hQoUKBa5yImWzL5cvsMsrQLBcXdxOb4Ig5SUmaTg+yi/OR1OjRg5rRaJhu2lTYdskPYL4nTggzU1NFM8Vibe0OvJGdYr1YuXKlGr4sK2IJCfBle8m5bl3t/QpKODsaB/1Ll4zccnbkjLS2LugbB1c0+VOBRSa55hQ9e7bGCzBvSi4NhBkbcOSIxhoXYBr1s7SkFfDFMbk8uGL8dqfYH39UFceyWNaO6em9+ojh708VqDLmbd/+3gs/gLyYf2Qk/kFZPHjx4s1iVW5CZUCNDoqAwYO11UGl5NlBeoazZvEL/yM5ygKQ06BB5kn9dfoH/Px0HU5JQ1t/i7dwcjA3F/VjixFy9araZ33VnP/2ynMUJBZXPZM9JX3o2bN35hoNMzs7axbiWAM65+WlaRVffkM/UTvc3bqVWcAcHnXqwJsFIsbOTmNkc3EBnTMzaQ+eU/LIkW5f2YwKX7hxY3CafGnfCQMGsANoxa5v2KD2cwuRgp3Xrom8UvWFXvXqFfVOgE8F1jIZ7cftWrVgxAJhKBLlH8+7c5Tesvkz0qhBA12HWVLo6d1BA0qWStkeVMLrF76KE0VR1Lp10qTWGyKGnToFgjeGqQqnTAkZGjfHKSkmRlmejMl661Y8wnNMVl8OzNaxg6ji6QkAiHlHRCk4gjFXrrBjSMRuZ2epiU1w+MJ/P0K4VhWPDF+4aVOwQfxzSfMhQ9SeFeRdqIoWtYKVq1u3BgCEHT5c2A6ihzCEn6kpA4ATrx1fB7BVFy64/WizNtKcZwT6ULLUeFuJ28WLOAog57UL3Q6OZFm2LELxp65jLEkE9hPq4XjHjppOoNWopzRbvVpTuesqW59Iq5gY0RO9LGGKtTWNwgY2Mi6uwJHcgScmBgWJ6r2YICxp0ULTswMiIoAxtpvtIYd16zRVx84xJYZ37qzrDua4T5lAjVl3zP7mmzcLVOmDXetbT4nqofkhnoqLa8tWYeGpqU9m6Q2qGNSuHQZQLJotWpS/uOdNqq8R/QDmO2SIdJxNcoSth8eHPg1mh9lMZTXNOweRIYIx69tvdd3BHPcpE1gzWoiGlSqplZiyPczpn39U77gfWuGQoS1brVmbkyPNEntH/DxhAipiCxvcuzciqTNcT55ED0RCtn+/cjStFo20tXW7bGMTabVmTUEDr3Yx+9SDEbdu5X8WfwP1wVF26S2vi+O4fHpvpgtWYQOpE3XNyMDkojUg3WhzIvLZjh0AAJcdOxAGf20E3oE60EHKzZX5xYslti9ewBJ4fWMRFgUZzSlVCg7F2Z0c93nhWYE5rgQr+L4AJQybAht0zcgAcBMnzMzyjxsxOf3VsKEsU+4jGZySous4Pxs92BzY1az5aobpa8et8AKBT58iFEBbXQdZcvAB4H3aoAG67N6NM4hBh6FD84+rpkhvx4/A11/rOszPxpsXvspKuCBh1y4AE3UdYkmih5/RCm0zMtRy9G1DW8y0tZVlys0lxz/hdzhX1hjtjY1hCSDiteNt8AwHnj4FABgUqmYAgOgcKyt0mjpV4SZ4KKt264ZgFojbtWrp+mV/Me7QHExMSREtEk0TFvr6wlXXAZUsJAuTr5GcDwvTWk6/TwQl0Uyc8fJymyv+MyJ5/vyi1pe/JqBJdhe9VTNnwgUOaGxvj660kpXj3zZ8sN6sAereuwdgJa3cvVu0SO+uEOfr++pr5HfsIs19FP9OBT6NBpR88iTs2TQ0+Yz/Q5fHXqQlJoqelEkSqtnZubg2Dg8Lf/lS12Fx3Kcof+5+/o4+D7FYf/fcuVQR0+hou3Y4T/vZyPLldR2oRp3YElRPS2P7KJcmR0VlW2f2NFk7a9YA6kCbKStL1+FxHMdxHMdxHMdxHMdxHMdxHMdxHMdxHMdxXHHQ2uagwZK4f/o27NZNuZkmKWe7uQm1YYry9erBDANhZqB5Nn4qzJD64gUcKV6YdOoU+1vxDxu9caM0qbV3xLBTp3TdQRz3JSv0AKDaNlsZmGusrBkUxKR4ihuOjkWOSJVCbB+9wNWAANHvNyyEM15e2srzz3Hcvwq8HDg0NDTU2VkkUgzNzVS2jIrCcihwvEMHrUWkSi/uzgCMH694WDNTsVCpBACETZqkq44KDY2r7uxcurRiizBZ0cvLCzfwG2V06ULZLJDZlSqlq7i4gmHRFEzm9+8rzJVhwmAvL09D21th4WfPajpftjuhVK/xNWqQl+KW3u2AAGTjb+ZTu7bG+n1oC7llZ9MoJFPK/v3GdUWzs47OndvjZMuWf7TMzNT1639Tge8AZCyOOYX+8AOCKZ5CNm7UeKJqP4EUGosb70jy+Q1rhfply2IbxpKHoJ6hqDcWs0Clkg6JHNnPTZq4dW3VP2rBuXPF1UGhIbHMua+JieJI6abKgXFxaI3VWK+eRJX7zGzGRPRJSJDutjkS4Wltrem0YIt4L0mvkBA2izlBz8WlwO3k7XcgWqTnJ+ovFn9qqx4LkRJMcAZ++EFTKbMhW5j/+mvZ9IeWL1qUKSNtJU6JtKpQQdOfop3ssKhfpUq0nhajys6dahXmDQxKO0W0YNC/f3F3kOJ7o1+VTWfM4Bf+F2YxxIgwMnrveXWQiuqlSxe6nbydspTRCluFxZw5un7Zbyp4RqBEnEKDt2yEsRpe2JeaKnWzVkY89fH50GzCLi62t8LCHj4MDT3ex9l58GCFgkGJtLQ3z6Op6IEFTZoACC7WHpqLOHTq1QtAB7z+SFL1rGI6LWXfPH5crDFxhVeG9Sbf27eFccJV1mn4cABAlObThcFIEO5PmaKcQBMUk6pUYZG4A6N69TT+gIY7WtYLLemH3r2xGXLMGzFC192gUvABIAkgH1NTGAF4PZewM5xhduMGERGefngacRUXF2vXsLA7d2T+8ouS9i9eoAaewOy1kbcteuGbsmXxG4CTxddBtJT1R2y5cmz2GwW1sRHlzp9/dSfD9x/4jCzM/1vU+092cRGnhIVduAAgBWFiMVq9+/zgGvFVneTx8cyfAXjto0Uy24hh5csDaKjrDngdzwpcSJRIz5hVwQc67svGFrM9NPzz+X9R8AFAzDayRc+fqx0/QN6YZ2xc2EBWr0pMGDxIXx+jMIPtVt+nAF3xC+RvaZfjuEIr+ADQGhkwu3lT7fhNfIenjRsHBh4+7O5e8AxCpkNyWj5YY2en8duAaZSA/ampuu4wjvuSFHwACKUAlIlR3983b4chYa3Bxmz72bM/tDrVOz9VoiHsgOanpOSm9KHwmJgPrZfjuPcr8ADA2rCK5Ld+ver7ebUThrDB2DlsWPAI+QinOatWBQ1KTJCurljxzdOCRxyv1vti/fqmN3O/fxC2axdbioG0zNZWrb7yMMa8u3eF61md6fH27bruMI77khR6KrDsgtxEUmHlSrUNM960DhbomZuLBBxn3a9cwQxaTVcMDVGV+WCBhcV7GxohOMH6hx+kD61vR0zevLm4O0jWXt5WYnrjBobAH11q1swvWEIz0C07mx4yX2ZdfBOTuE8b+xFlaXSjRmrfYu2lmThz/750o/jPiOTKlXUdp0qhB4DoK9FXutU1NHxiUyHNaNCuXVgOQ61OCSb0ZWsCAqRuNjcjzcaP11UHBaXK7zht3rCBjuI67RgwQFdxcJ83GocdyJDJ3O7YzInY6+6u63hUCv01oGN9x/q7krOzRSvLLBUSHBwwFz+j87Jlmrbrfq+8HYpoK+1gW0aN0vWFr5JroLjDzk6ZgiicwPE7d3QdD/eZqY5gNjk9XVjCNgtldbeWRROtLQdWCQ2Nt3B2btQo15G1Utb74QcaQH+gaadO+JHFoXn16sikQchRKJDGPOCYkoJFGM4G7NqVc1Rxlj1dv75/VbumUQvu3dN1x7wpf98EAPpH/f2FGgAldunC9lICc+OLgbg889l4+l92NqIojq3/6y945gTkGnl5STe2qbSjze3bug6P4ziO4zjuAwRfjp/bZ2eTJrKj8aUlqdu3yyrLTzkdk8kCAxMcnZI+/rbYQYPkc537tmkjGxBv4ZQbHS0bF99BsnvjxtDQ4yHOzlWr6rp/OO5zpvEZQFAZeaDEwNGRTmM/Sw4NxXEMonGvTfU9hVhce/KEajF7qjpwoNsI2xbh0ZGRRQ2IMcYAouC68UqnX6ZMQW08pFq//PJqX3m9fxcv5a0+FA0XfSd0tbd3cWk1Oyzs8mVddyjHfU7UBoAQcdxKp7F2dsoowRveMTE4yHbT8Hc85FItiz0JJ6QtWSJaVGa8EOflVdBdeVUThihX4Zb94++/w54Fkmu3bu99AQPwDLVv3mTS3CY5fcTij/WwJTTkfF/nvgYGytPPXihPjxnD/PEE/eztqS5bwPpob/NU5QkspuD0dJqNTei4c6eoWeoOYfWqVTwlGvcx5A8Ar1JeVaig2EzXlAeTkuCJk/iuevUCV+hFE9ik48dZqvKIQuzqKiVb2k7Xr2s6X7b72AZJcuvWSBeuIzM4GCI4YkaNGgV+JanUCccOHHDzsn4Wkdax44fmI3ifnc0TE7snGhk9f56ba2Bw6BDzA2hGixZa+w28Tw9EQrZ/f1XjF/PS9bt27UAd6CDl5hZb+9wXLX8egDJEmMfO+flpuvBpPHXFt/fu4RiG4EfNM9+YP1tI862tkSjUFZ09eVI2QN7CyaRnz/zyvFt82W75WUnyxImwFiqxSgcOvPfC98YMfHfoUH6qsTfVZH+hdfv2wffinzot8/TUVgc966tYZ2AwfXqxX/gqO+EEaceOac9LS836jxlT7O1zXzTh9ztHT/eZWLkyW4qRygODBqmdkTexh5pSR1bR2dnkqN767MpiMbNDbdbzHTkBk1kgzShfHunoR2u2bZMFy82dHixaFNLluFQyfPt2PMJzTJ4/H3tQiQbq66v9fN4UYrqOWFzz9na7Jo6OGNu+PUunsXD18tLY7mIYUgNvb9VAU+Qe+h1B+EYi0dHvJ59QG6YYqPs4uC8LBcXGbXZqMWoU3SFLqr1kidoZl3EHo7ZskfrZ9I5or56TLz9JaBPaSA+WL4c3GiHmA3KtabIVzXH41i0sIS9ckkqlFuLFERUOH1YV52cltqoZr8w9cwan4AyhcWO1eu7AExNtbKTjbJIjbOPjCxtO8NfycMmc9HQ2G+Y4YWaWX5B3JyRdanMmwlF7GYGCy8vdJD63b7MVGIvLX32VX5CCIxhz5Yr0Z5uJEW0tLbXVHleyCcJsYReJu3TRdIJyJBshLFu2TFO5lGwp0mXTJpov0lOmiMVIQlMMu3ixwJHIkYKde/eK+ueUF9o2a/bmha+iehjGEgCWsGKFxvq+RwCa2tt/rI77WBmB2Hq6jn6fT0YZ7vMmsH1IgEg9ySdNxU20ePDgipnNzUZhiYnvq0iVrlvU9IWhsMraGv1pGRsSGKjxB1RrBrriPrZOn35psdj9m+xu3Vxcv3seFn7//vva0zNgwSKbvXs1nvAX0nD1LclLOY7LJ2A++wNn1Zcnss0UiJjU1BlENIPesu5fAxfXDhQW/uyZNEe8NdLe05PtZ7fIctCg/Fv7ZgiD8vx5IYbtZkO7dJFWsOkRUXrmzIK28+iR/rby5W/c0JiX4B6y0f3V3H2O495OT23dssox7MXFom9g4L7WVhI+Z926V/9atw5/QpWNdeGHZGXVZMjQlq3WrM3Jkd2JF0vOZWbCkgHVTEzyT7DAI3yV97quFWOPctxnhGcF5rgSrOD7ApQw7BckoXtmJvDfbwFYH/YHedatKzseP0gyY98+rTW4nEXheOXK+Akp/znejo7Cj2dF5rSLDwDvk4zmeHjgACwBoF+//OOqj05b2QIkde6sxRZTkPSWo11gjY6xsQCisF/XncJ9KfQwFxfQOTNT7fv7/7Fd7GDz5jKfeB+JTIvvcNrizR4igAiTWR0Wa2SEbQB5vFbelZLY2Lx3zGNFaOdGrl2O3pQp6Kg3W29yt264BTeap57k9KNxIw9Uu3FDJIiChdO//AJXeBdb29wXj4J7yi9Ixv/5J5PiKW44Ouo6IK1xY2KEz5ghJVuKID+/ola39bd4CycHc3PRclYX/osWIRJTUaprV5yFAXmbmmot7rrkwXwfPUIQatLt7dtFNi+PC+u8vD7061GOKwh6tey3Xj2aQEvQ4uRJWLLf/vM0/XOTN2POJFKvfbZRs2af6r7sHPcpENwzbDwiXv79N1vIRuNE8+YkgylqRUfDGmtZwGfw0OkoauPSw4d0iqJZh3XrlHVyxIarbGz4hc9xHMdxHMdxb/N//k8kTbnDAN0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDYtMjlUMDQ6Mjk6NTQrMDA6MDBuOOiSAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA2LTI5VDA0OjI5OjU0KzAwOjAwH2VQLgAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMi0wNi0yOVQwNDoyOTo1NCswMDowMEhwcfEAAAAASUVORK5CYII="/></svg>',inbox:'<svg viewBox="0 0 1024 1024" fill="currentColor" data-icon="inbox" aria-hidden="true"><path d="M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"/></svg>',infoCircle:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="info-circle" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"/></svg>',insertAfter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path fill="#494c4e" d="M3 12a1 1 0 011 1v1h1a1 1 0 010 2H4v1a1 1 0 01-2 0v-1H1a1 1 0 010-2h1v-1a1 1 0 011-1zm7 2h6v2h-6v-2zm-2-1v4a1 1 0 001 1h8a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1zM0 1v8a1 1 0 001 1h16a1 1 0 001-1V1a1 1 0 00-1-1H1a1 1 0 00-1 1zm16 5v2H2V6h14zm0-4v2H2V2h14z"/></svg>',insertBefore:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path fill="#494c4e" d="M3 0a1 1 0 011 1v1h1a1 1 0 010 2H4v1a1 1 0 01-2 0V4H1a1 1 0 010-2h1V1a1 1 0 011-1zm7 2h6v2h-6V2zM8 1v4a1 1 0 001 1h8a1 1 0 001-1V1a1 1 0 00-1-1H9a1 1 0 00-1 1zM0 9v8a1 1 0 001 1h16a1 1 0 001-1V9a1 1 0 00-1-1H1a1 1 0 00-1 1zm16 5v2H2v-2h14zm0-4v2H2v-2h14z"/></svg>',left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><path d="M15 18l-6-6 6-6"/></svg>',link:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="link" aria-hidden="true"><path d="M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"/></svg>',loading:'<svg viewBox="0 0 1024 1024" fill="currentColor" data-icon="loading" aria-hidden="true" class="anticon-spin"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"/></svg>',logout:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="logout" aria-hidden="true"><path d="M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"/></svg>',low:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12.5 6.1c.5-.3 1.1-.1 1.4.4.3.5.1 1.1-.3 1.3l-5 3c-.3.2-.7.2-1 0l-5-3c-.6-.2-.7-.9-.4-1.3.2-.5.9-.7 1.3-.4L8 8.8l4.5-2.7z"/></svg>',lowest:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12.505 8.145c.5-.3 1.1-.1 1.4.4s.1 1-.4 1.3l-5 3c-.3.2-.7.2-1 0l-5-3c-.5-.3-.6-.9-.3-1.4.2-.4.8-.6 1.3-.3l4.5 2.7 4.5-2.7z"/><path d="M12.505 3.845c.5-.3 1.1-.2 1.4.3s.1 1.1-.4 1.4l-5 3c-.3.2-.7.2-1 0l-5-3c-.5-.3-.6-.9-.3-1.4.3-.5.9-.6 1.4-.3l4.4 2.7 4.5-2.7z"/></svg>',mail:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="mail" aria-hidden="true"><path d="M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"/></svg>',medicineBox:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="medicine-box" aria-hidden="true"><path d="M839.2 278.1a32 32 0 00-30.4-22.1H736V144c0-17.7-14.3-32-32-32H320c-17.7 0-32 14.3-32 32v112h-72.8a31.9 31.9 0 00-30.4 22.1L112 502v378c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V502l-72.8-223.9zM360 184h304v72H360v-72zm480 656H184V513.4L244.3 328h535.4L840 513.4V840zM652 572H544V464c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V636h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"/></svg>',mediumPriority:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path class="st0" d="M3 4h10c.6 0 1 .4 1 1s-.4 1-1 1H3c-.6 0-1-.4-1-1s.4-1 1-1zm0 6h10c.6 0 1 .4 1 1s-.4 1-1 1H3c-.6 0-1-.4-1-1s.4-1 1-1z"/></svg>',menu:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="menu" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"/></svg>',micMute:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22.1 23.521"><path class="a" d="M11.68 23.521h-1.676v-2.9a8.965 8.965 0 01-5.907-3.01l1.186-1.186a7.321 7.321 0 0012.884-4.765.838.838 0 011.675 0 9.015 9.015 0 01-8.162 8.96v2.9zm-.838-6.489a5.356 5.356 0 01-4.17-2l.6-.6.6-.6a3.695 3.695 0 006.67-2.172V7.169l.93-.93.745-.745v6.166a5.378 5.378 0 01-5.375 5.372zm-7.949-1.156a9 9 0 01-1.051-4.216.838.838 0 011.675 0 7.248 7.248 0 00.625 2.965l-.209.209-1.039 1.041zM5.668 13.1a5.329 5.329 0 01-.2-1.44V5.372a5.37 5.37 0 0110.225-2.3l-.363.362-.932.933a3.7 3.7 0 00-7.255 1v6.253L6.13 12.64l-.46.46z"/><path class="a" d="M20.331 1.439l-.537.537-1.461 1.461-2.16 2.16-2.624 2.624-2.876 2.876-2.912 2.912-2.715 2.715-2.287 2.287-1.643 1.645c-.26.26-.524.519-.781.781l-.034.034A1.039 1.039 0 001.77 22.94l.537-.537 1.461-1.461 2.16-2.16 2.624-2.624 2.874-2.875 2.912-2.912 2.715-2.715 2.287-2.287 1.646-1.646c.26-.26.524-.519.781-.781l.034-.034a1.039 1.039 0 10-1.469-1.469z"/></svg>',minus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus"><path d="M5 12h14"/></svg>',moreFilled:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path d="M30 16c4.411 0 8-3.589 8-8s-3.589-8-8-8-8 3.589-8 8 3.589 8 8 8zM30 44c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zM30 22c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8z"/></svg>',more:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 31 31"><defs><style>.b{fill:#8a8a8a}</style></defs><path fill="none" d="M0 0h31v31H0z"/><g transform="translate(13.286 8.086)"><circle class="b" cx="2" cy="2" r="2" transform="translate(-.285 -.086)"/><circle class="b" cx="2" cy="2" r="2" transform="translate(-.285 5.914)"/><circle class="b" cx="2" cy="2" r="2" transform="translate(-.285 11.914)"/></g></svg>',notification:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.527 16.216"><path d="M12.282 10.849a1.441 1.441 0 01-.445 2.811H9.479a2.753 2.753 0 01-5.432 0H1.69a1.44 1.44 0 01-.447-2.809V6.9a5.539 5.539 0 013.664-5.192A1.7 1.7 0 016.751.249 1.707 1.707 0 018.62 1.708 5.542 5.542 0 0112.284 6.9v3.948zM8.569 13.66h-3.61a1.86 1.86 0 003.61 0zm3.271-1.987a.447.447 0 01-.445-.447V6.901a4.646 4.646 0 00-3.3-4.43c-.324-.066-.361-.324-.361-.592 0-.555-.492-.736-.981-.736s-.959.186-.959.736c0 .256-.025.5-.322.582A4.642 4.642 0 002.14 6.9v4.325a.448.448 0 01-.447.447.547.547 0 100 1.094H11.84a.547.547 0 100-1.094z" fill="#8b8b8b" stroke="#8b8b8b" stroke-width=".5"/></svg>',paperClip:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="paper-clip" aria-hidden="true"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"/></svg>',patient:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="#347aff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" data-name="vuesax/linear/user-tag"><path d="M18 18.86h-.76a2.988 2.988 0 00-2.12.87l-1.71 1.69a2.022 2.022 0 01-2.83 0l-1.71-1.69a3 3 0 00-2.12-.87H6a2.983 2.983 0 01-3-2.97V4.98a2.983 2.983 0 013-2.97h12a2.983 2.983 0 013 2.97v10.91a2.99 2.99 0 01-3 2.97z"/><path data-name="Vector" d="M14.33 7.67A2.33 2.33 0 1112 5.34a2.33 2.33 0 012.33 2.33zM16 15.66c0-1.8-1.79-3.26-4-3.26s-4 1.46-4 3.26"/></g></svg>',pauseCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pause-circle"><circle cx="12" cy="12" r="10"/><path d="M10 15V9M14 15V9"/></svg>',pdf:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.74 18.325"><defs><clipPath id="a"><path data-name="Path 620" d="M72.82-152.114v-3.471h1.124a4.065 4.065 0 01.833.052.909.909 0 01.5.339 1.079 1.079 0 01.2.676 1.128 1.128 0 01-.116.537.954.954 0 01-.295.343 1.015 1.015 0 01-.363.164 4 4 0 01-.727.05h-.457v1.309zm.7-2.884v.984h.38a1.814 1.814 0 00.554-.054.463.463 0 00.219-.171.469.469 0 00.079-.27.449.449 0 00-.112-.313.483.483 0 00-.281-.154 3.345 3.345 0 00-.5-.023h-.338zm2.531-.588h1.281a2.492 2.492 0 01.66.066 1.152 1.152 0 01.523.32 1.511 1.511 0 01.332.562 2.582 2.582 0 01.113.821 2.282 2.282 0 01-.107.739 1.518 1.518 0 01-.372.613 1.221 1.221 0 01-.492.277 2.1 2.1 0 01-.621.074h-1.316zm.7.588v2.3h.523a1.894 1.894 0 00.424-.033.651.651 0 00.283-.144.739.739 0 00.184-.335 2.281 2.281 0 00.071-.636 2.084 2.084 0 00-.071-.617.8.8 0 00-.2-.336.667.667 0 00-.325-.163 3.137 3.137 0 00-.575-.033h-.315zm2.808 2.884v-3.471h2.38v.585h-1.677v.821h1.449v.588h-1.449v1.475h-.7z" transform="translate(-72.82 155.585)" fill="none"/></clipPath><clipPath id="b"><path data-name="Path 622" d="M34.516-338.932a.273.273 0 00.273.273.274.274 0 00.273-.273v-7.694h9.578l2.5 2.5v5.193a.273.273 0 00.273.273.273.273 0 00.273-.273v-5.306a.273.273 0 00-.08-.193l-2.66-2.66a.272.272 0 00-.194-.081h-9.963a.273.273 0 00-.273.273v7.967zm13.173 7.263a.273.273 0 00-.273-.273.273.273 0 00-.273.273v2.274h-12.08v-2.274a.273.273 0 00-.273-.273.273.273 0 00-.273.273v2.548a.274.274 0 00.273.273h12.625a.273.273 0 00.273-.273v-2.548z" transform="translate(-34.516 347.173)" fill="none"/></clipPath><clipPath id="c"><path data-name="Path 624" d="M223.4-346.895a.273.273 0 00-.273-.273.273.273 0 00-.273.273v1.331a1.6 1.6 0 00.471 1.133 1.6 1.6 0 001.133.471h1.331a.273.273 0 00.273-.273.273.273 0 00-.273-.273h-1.331a1.054 1.054 0 01-.746-.311 1.054 1.054 0 01-.311-.746v-1.331z" transform="translate(-222.854 347.168)" fill="none"/></clipPath><clipPath id="d"><path data-name="Path 626" d="M1.359-189.323H17v-6.716H1.359zm15.919.547H1.085a.273.273 0 01-.273-.273v-7.263a.273.273 0 01.273-.273h16.193a.273.273 0 01.273.273v7.263a.273.273 0 01-.273.273z" transform="translate(-.812 196.586)" fill="none"/></clipPath><clipPath id="e"><path data-name="Path 628" d="M75.7-287.92a.274.274 0 00-.273.273.274.274 0 00.273.273h5.893a.274.274 0 00.273-.273.273.273 0 00-.273-.273z" transform="translate(-75.422 287.92)" fill="none"/></clipPath><clipPath id="f"><path data-name="Path 630" d="M75.7-259.41a.273.273 0 00-.273.273.274.274 0 00.273.273H84a.274.274 0 00.273-.273.273.273 0 00-.273-.273z" transform="translate(-75.422 259.41)" fill="none"/></clipPath><clipPath id="g"><path data-name="Path 632" d="M75.7-230.89a.274.274 0 00-.273.273.273.273 0 00.273.273H84a.273.273 0 00.273-.273.274.274 0 00-.273-.273z" transform="translate(-75.422 230.89)" fill="none"/></clipPath></defs><g data-name="Group 13246"><g data-name="Group 13239" transform="translate(3.81 10.137)" clip-path="url(#a)"><path data-name="Path 619" d="M-.053-.053h9.226v3.577H-.053z"/></g><g data-name="Group 13240" transform="translate(1.783)" clip-path="url(#b)"><path data-name="Path 621" d="M-.053-.053h13.278v18.431H-.053z"/></g><g data-name="Group 13241" transform="translate(11.748)" clip-path="url(#c)"><path data-name="Path 623" d="M-.053-.053h3.314v3.314H-.053z"/></g><g data-name="Group 13242" transform="translate(0 7.967)" clip-path="url(#d)"><path data-name="Path 625" d="M-.053-.053h16.846v7.916H-.053z"/></g><g data-name="Group 13243" transform="translate(3.948 3.135)" clip-path="url(#e)"><path data-name="Path 627" d="M-.053-.053h6.546V.6H-.053z"/></g><g data-name="Group 13244" transform="translate(3.948 4.643)" clip-path="url(#f)"><path data-name="Path 629" d="M-.053-.053h8.95V.6h-8.95z"/></g><g data-name="Group 13245" transform="translate(3.948 6.152)" clip-path="url(#g)"><path data-name="Path 631" d="M-.053-.053h8.95V.6h-8.95z"/></g></g></svg>',phoneNormal:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="phone" aria-hidden="true"><path d="M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"/></svg>',phone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35.963 35.922"><path class="a" d="M30.561 24.973l-4.162-3.3a4.392 4.392 0 00-2.775-.975 4.457 4.457 0 00-3.412 1.575c-.525.637-.9 1.012-1.087 1.237a8.528 8.528 0 01-4.124-2.512 7.923 7.923 0 01-2.513-4.124c.225-.187.6-.525 1.237-1.087a4.468 4.468 0 00.6-6.187l-3.3-4.162a4.519 4.519 0 00-5.324-1.312 13.317 13.317 0 00-3.6 2.362c-1.275 1.275-3.037 4.237-.937 9.936a32.242 32.242 0 007.424 10.949c5.174 5.174 11.248 8.4 15.823 8.4a6.994 6.994 0 005.062-1.912 13.317 13.317 0 002.362-3.6 4.337 4.337 0 00-1.274-5.288zm-.9 4.312a10.41 10.41 0 01-1.873 2.849 4.45 4.45 0 01-3.337 1.2c-3.787 0-9.261-2.85-14.1-7.686C3.752 19.011.828 11.212 3.865 8.175A11.683 11.683 0 016.715 6.3a2 2 0 012.437.6l3.262 4.237a2.047 2.047 0 01-.262 2.812c-.862.75-1.425 1.237-1.575 1.387-1.275 1.275-.037 4.574 2.737 7.349 2.024 2.025 4.349 3.266 5.924 3.266a1.937 1.937 0 001.425-.487c.15-.15.675-.712 1.387-1.575a1.987 1.987 0 011.537-.712 2.036 2.036 0 011.275.45l4.162 3.3a1.932 1.932 0 01.637 2.358zM20.251 10.725a1.32 1.32 0 00-1.65 1.387 1.278 1.278 0 001.05 1.2 4.222 4.222 0 011.95 1.087 3.913 3.913 0 011.087 1.95 1.447 1.447 0 001.2 1.05 1.332 1.332 0 001.387-1.65 6.768 6.768 0 00-5.024-5.024z"/><path class="a" d="M29.174 17.81a1.33 1.33 0 001.423-1.461 11.765 11.765 0 00-3.487-7.461 12.048 12.048 0 00-7.461-3.487 1.33 1.33 0 00-1.462 1.425 1.3 1.3 0 001.2 1.237 9.33 9.33 0 018.51 8.511 1.434 1.434 0 001.277 1.236z"/><path class="a" d="M30.824 5.176A17.179 17.179 0 0019.201.154a1.3 1.3 0 00-1.35 1.425 1.307 1.307 0 001.275 1.235 14.674 14.674 0 019.786 4.274 14.458 14.458 0 014.237 9.786 1.336 1.336 0 001.237 1.275 1.32 1.32 0 001.425-1.35 16.968 16.968 0 00-4.987-11.623z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.082 16.081"><defs><style>.a{fill:#8a8a8a}</style></defs><path class="a" d="M6.851 11.21V5.652c0-.255.005-.513 0-.768v-.01L5.57 5.61l.543.317 1.3.755 1.576.916 1.358.79c.221.129.441.262.664.387l.01.005V7.31l-.543.317-1.3.755-1.576.916-1.358.79c-.221.129-.445.254-.664.387l-.01.005a.882.882 0 00-.392.509.872.872 0 00.085.656.857.857 0 00.509.392.889.889 0 00.656-.085l.543-.317 1.3-.755 1.576-.916 1.358-.79c.221-.129.445-.254.664-.387l.01-.005a.86.86 0 000-1.47l-.543-.317-1.3-.755-1.576-.916-1.358-.79c-.221-.129-.441-.261-.664-.387l-.01-.005a.853.853 0 00-1.283.736V11.214a.887.887 0 00.249.6.855.855 0 001.206 0 .892.892 0 00.251-.604z"/><path class="a" d="M14.382 8.041a7.37 7.37 0 01-.065.969l.031-.227a7.182 7.182 0 01-.494 1.812l.085-.2a7.255 7.255 0 01-.937 1.606l.133-.172a7.3 7.3 0 01-1.306 1.306l.172-.133a7.217 7.217 0 01-1.606.937l.2-.085a7.22 7.22 0 01-1.812.494l.227-.031a7.4 7.4 0 01-1.94 0l.227.031a7.181 7.181 0 01-1.812-.494l.2.085a7.255 7.255 0 01-1.603-.938l.172.133a7.3 7.3 0 01-1.306-1.306l.133.172a7.217 7.217 0 01-.937-1.606l.085.2a7.22 7.22 0 01-.494-1.812l.031.227a7.4 7.4 0 010-1.94l-.031.227a7.181 7.181 0 01.494-1.812l-.085.2a7.255 7.255 0 01.938-1.603l-.133.172a7.3 7.3 0 011.306-1.306l-.173.132a7.217 7.217 0 011.606-.937l-.2.085A7.22 7.22 0 017.3 1.733l-.227.031a7.4 7.4 0 011.94 0l-.227-.031a7.182 7.182 0 011.812.494l-.2-.085a7.255 7.255 0 011.606.937l-.172-.133a7.3 7.3 0 011.306 1.306l-.133-.172a7.217 7.217 0 01.937 1.606 57.001 57.001 0 01-.085-.2 7.221 7.221 0 01.494 1.812l-.031-.227a7.416 7.416 0 01.065.971.887.887 0 00.249.6.855.855 0 001.206 0 .876.876 0 00.249-.6 8.018 8.018 0 00-1.451-4.6 8.631 8.631 0 00-.818-.995 8.479 8.479 0 00-.971-.845A8.034 8.034 0 005.855.308a8.012 8.012 0 00-3.973 2.567 8.772 8.772 0 00-.751 1.049 8.432 8.432 0 00-.569 1.17 7.889 7.889 0 00-.542 2.4 8.018 8.018 0 004.64 7.842 8.524 8.524 0 001.23.456 8.674 8.674 0 001.318.244 8.024 8.024 0 008.758-6.682 8.928 8.928 0 00.116-1.313.887.887 0 00-.249-.6.855.855 0 00-1.206 0 .89.89 0 00-.245.6z"/></svg>',plusCircle:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="plus-circle" aria-hidden="true"><path d="M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"/><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/></svg>',plus:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="plus" aria-hidden="true"><defs><style/></defs><path d="M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"/><path d="M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"/></svg>',profileDelete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25.889 25.897"><defs><style>.a{fill:#262626}.b{fill:none;stroke:#ff3939;stroke-linecap:round;stroke-width:3px}</style></defs><path class="a" d="M13.441 13.905a4.664 4.664 0 114.664-4.664 4.661 4.661 0 01-4.664 4.664zm0-7.561a2.926 2.926 0 102.926 2.926 2.936 2.936 0 00-2.926-2.926z"/><path class="a" d="M8.459 25.9a1.454 1.454 0 01-.348-.058 13.471 13.471 0 1117.7-17.728.863.863 0 01-1.593.666A11.726 11.726 0 108.807 24.22a.886.886 0 01.463 1.13.873.873 0 01-.811.55z"/><path class="a" d="M7.3 21.03a.729.729 0 01-.463-.145.885.885 0 01-.29-1.188 8.069 8.069 0 0110.283-3.1.875.875 0 11-.724 1.593 6.457 6.457 0 00-2.636-.579 6.352 6.352 0 00-5.417 3.042 1.006 1.006 0 01-.753.377z"/><path class="b" d="M18.164 18.253l5.471 5.471M23.635 18.253l-5.471 5.471"/></svg>',profileEdit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27.328 26.447"><defs><style>.a{fill:#262626}</style></defs><path class="a" d="M13.441 13.905a4.664 4.664 0 114.664-4.664 4.661 4.661 0 01-4.664 4.664zm0-7.561a2.926 2.926 0 102.926 2.926 2.936 2.936 0 00-2.926-2.926z"/><path class="a" d="M8.459 25.9a1.454 1.454 0 01-.348-.058 13.471 13.471 0 1117.7-17.728.863.863 0 01-1.593.666A11.726 11.726 0 108.807 24.22a.886.886 0 01.463 1.13.873.873 0 01-.811.55z"/><path class="a" d="M7.3 21.03a.729.729 0 01-.463-.145.885.885 0 01-.29-1.188 8.069 8.069 0 0110.283-3.1.875.875 0 11-.724 1.593 6.457 6.457 0 00-2.636-.579 6.352 6.352 0 00-5.417 3.042 1.006 1.006 0 01-.753.377z"/><path d="M13.383 26.447h-.116a1.391 1.391 0 01-1.39-1.388v-.116l.985-3.969a1.807 1.807 0 01.521-1.217l8.256-8.256c.956-.9 2.694-.492 4.2 1.014a5.474 5.474 0 011.333 2.028 2.082 2.082 0 01-.319 2.173l-8.285 8.256a1.806 1.806 0 01-1.217.521zm1.246-5.446v.232l-.84 3.331 3.331-.84h.116a.169.169 0 00.116-.029l8.225-8.226a2.736 2.736 0 00-.956-1.767 2.591 2.591 0 00-1.767-.956l-8.227 8.256z" fill="#a7c853"/></svg>',profile:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.857 17.857"><path d="M8.929 0a8.929 8.929 0 108.929 8.929A8.931 8.931 0 008.929 0zM3.647 14.487a6.742 6.742 0 015.282-2.918 6.742 6.742 0 015.282 2.918 7.659 7.659 0 01-10.564 0zm5.282-4.427a2.616 2.616 0 112.616-2.616 2.614 2.614 0 01-2.616 2.617zm6.137 3.471a8.561 8.561 0 00-3.949-2.867 3.873 3.873 0 10-4.326 0 8.561 8.561 0 00-3.949 2.867 7.56 7.56 0 01-1.534-4.6 7.646 7.646 0 1113.758 4.6z" fill="#8b8b8b"/></svg>',pullRequest:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="pull-request" aria-hidden="true"><path d="M788 705.9V192c0-8.8-7.2-16-16-16H602v-68.8c0-6-7-9.4-11.7-5.7L462.7 202.3a7.14 7.14 0 000 11.3l127.5 100.8c4.7 3.7 11.7.4 11.7-5.7V240h114v465.9c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c.1-49.2-31.7-91-75.9-106.1zM752 860a48.01 48.01 0 010-96 48.01 48.01 0 010 96zM384 212c0-61.8-50.2-112-112-112s-112 50.2-112 112c0 49.2 31.8 91 76 106.1V706c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1V318.1c44.2-15.1 76-56.9 76-106.1zm-160 0a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm96 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0z"/></svg>',record:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><circle cx="11" cy="11" r="11" fill="#888"/></svg>',recoverPassword:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28.373 28.828"><defs><style>.a{fill:#262626}</style></defs><path class="a" d="M13.441 13.905a4.664 4.664 0 114.664-4.664 4.661 4.661 0 01-4.664 4.664zm0-7.561a2.926 2.926 0 102.926 2.926 2.936 2.936 0 00-2.926-2.926z"/><path class="a" d="M8.459 25.9a1.454 1.454 0 01-.348-.058 13.471 13.471 0 1117.7-17.728.863.863 0 01-1.593.666A11.726 11.726 0 108.807 24.22a.886.886 0 01.463 1.13.873.873 0 01-.811.55z"/><path class="a" d="M7.3 21.03a.729.729 0 01-.463-.145.885.885 0 01-.29-1.188 8.069 8.069 0 0110.283-3.1.875.875 0 11-.724 1.593 6.457 6.457 0 00-2.636-.579 6.352 6.352 0 00-5.417 3.042 1.006 1.006 0 01-.753.377z"/><g><path d="M16.314 28.286a.442.442 0 01-.442.442h-1.766a.442.442 0 010-.883h1.767a.442.442 0 01.441.441zm3.534-.442h-1.767a.442.442 0 100 .883h1.767a.442.442 0 000-.883zm3.975 0h-1.767a.442.442 0 000 .883h1.767a.442.442 0 000-.883zm3.975 0h-1.766a.442.442 0 000 .883h1.767a.442.442 0 000-.883zm-11.614-3.4a.441.441 0 00-.625 0l-.571.571-.571-.571a.442.442 0 10-.625.625l.571.571-.571.571a.442.442 0 10.625.625l.571-.571.571.571a.442.442 0 10.625-.625l-.571-.571.571-.571a.441.441 0 00.001-.629zm3.975 0a.441.441 0 00-.625 0l-.571.571-.571-.571a.442.442 0 10-.625.625l.571.571-.571.571a.442.442 0 10.625.625l.571-.571.571.571a.445.445 0 10.63-.629l-.571-.571.571-.571a.441.441 0 000-.625zm3.975 0a.441.441 0 00-.625 0l-.571.571-.571-.571a.442.442 0 10-.625.625l.571.571-.571.571a.442.442 0 10.625.625l.571-.571.571.571a.442.442 0 10.625-.625l-.571-.571.571-.571a.441.441 0 00.001-.629zm3.4 1.2l.571-.571a.442.442 0 10-.625-.625l-.571.571-.571-.571a.442.442 0 10-.625.625l.571.571-.571.571a.442.442 0 10.625.625l.571-.571.571.571a.442.442 0 10.625-.625zm-2.368-8.129v4.154a1.327 1.327 0 01-1.325 1.325h-5.783a1.327 1.327 0 01-1.325-1.325v-4.162a.442.442 0 01.442-.442h.818v-.881a2.96 2.96 0 015.921 0v.881h.817a.442.442 0 01.441.442zm-6.3-.442h4.154v-.889a2.077 2.077 0 00-4.154 0zm5.413.883h-6.663v3.712a.442.442 0 00.442.442h5.789a.442.442 0 00.442-.442z" fill="#a7c853" stroke="#a7c853" stroke-width=".2"/></g></svg>',reload:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="reload" aria-hidden="true"><path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"/></svg>',reschedule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><defs><style>.a{fill:#8a8a8a}</style></defs><path class="a" d="M16.122 18H1.878A1.88 1.88 0 010 16.122V3.379A1.881 1.881 0 011.879 1.5h14.242A1.881 1.881 0 0118 3.379v12.743A1.88 1.88 0 0116.122 18zM1.879 3a.38.38 0 00-.379.379v12.743a.378.378 0 00.378.378h14.244a.378.378 0 00.378-.378V3.379A.38.38 0 0016.121 3H1.879zM17.25 6H.75a.75.75 0 010-1.5h16.5a.75.75 0 010 1.5zM3.75 3.75A.75.75 0 013 3V.75a.75.75 0 111.5 0V3a.75.75 0 01-.75.75zm10.5 0A.75.75 0 0113.5 3V.75a.75.75 0 011.5 0V3a.75.75 0 01-.75.75z"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(3.359 9)"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(3.359 12)"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(12.315 9)"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(12.315 12)"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(7.837 9)"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(7.837 12)"/></svg>',retweet:'<svg viewBox="0 0 1024 1024" fill="currentColor" data-icon="retweet" aria-hidden="true"><path d="M136 552h63.6c4.4 0 8-3.6 8-8V288.7h528.6v72.6c0 1.9.6 3.7 1.8 5.2a8.3 8.3 0 0011.7 1.4L893 255.4c4.3-5 3.6-10.3 0-13.2L749.7 129.8a8.22 8.22 0 00-5.2-1.8c-4.6 0-8.4 3.8-8.4 8.4V209H199.7c-39.5 0-71.7 32.2-71.7 71.8V544c0 4.4 3.6 8 8 8zm752-80h-63.6c-4.4 0-8 3.6-8 8v255.3H287.8v-72.6c0-1.9-.6-3.7-1.8-5.2a8.3 8.3 0 00-11.7-1.4L131 768.6c-4.3 5-3.6 10.3 0 13.2l143.3 112.4c1.5 1.2 3.3 1.8 5.2 1.8 4.6 0 8.4-3.8 8.4-8.4V815h536.6c39.5 0 71.7-32.2 71.7-71.8V480c-.2-4.4-3.8-8-8.2-8z"/></svg>',right:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="right" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"/></svg>',safetyCertificate:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="safety-certificate" aria-hidden="true"><path d="M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"/></svg>',save:'<svg viewBox="64 64 896 896" data-icon="save" aria-hidden="true"><path d="M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"/></svg>',scissor:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="scissor" aria-hidden="true"><path d="M567.1 512l318.5-319.3c5-5 1.5-13.7-5.6-13.7h-90.5c-2.1 0-4.2.8-5.6 2.3l-273.3 274-90.2-90.5c12.5-22.1 19.7-47.6 19.7-74.8 0-83.9-68.1-152-152-152s-152 68.1-152 152 68.1 152 152 152c27.7 0 53.6-7.4 75.9-20.3l90 90.3-90.1 90.3A151.04 151.04 0 00288 582c-83.9 0-152 68.1-152 152s68.1 152 152 152 152-68.1 152-152c0-27.2-7.2-52.7-19.7-74.8l90.2-90.5 273.3 274c1.5 1.5 3.5 2.3 5.6 2.3H880c7.1 0 10.7-8.6 5.6-13.7L567.1 512zM288 370c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80zm0 444c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"/></svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.485 13.481"><path stroke="#fff" fill="none" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" d="M9.639 9.635l3.2 3.2zM.651 5.641a4.993 4.993 0 115 4.994 4.993 4.993 0 01-5-4.994z"/></svg>',setting:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="setting" aria-hidden="true"><path d="M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"/></svg>',share:'<svg fill="currentColor" data-name="share_black_24dp (1)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path data-name="Path 612" d="M14.667 13.253a2.232 2.232 0 00-1.524.615L7.6 10.551a2.684 2.684 0 00.07-.559 2.684 2.684 0 00-.07-.559l5.48-3.285a2.29 2.29 0 001.587.647A2.363 2.363 0 0017 4.4a2.334 2.334 0 10-4.667 0 2.684 2.684 0 00.07.559L6.92 8.242a2.29 2.29 0 00-1.587-.647 2.4 2.4 0 000 4.8 2.29 2.29 0 001.587-.647l5.538 3.325a2.263 2.263 0 102.209-1.814z"/></svg>',sms:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.236 15.491"><path d="M13.092 12.143a6 6 0 000-11.993H6.144a6 6 0 00-1.561 11.788c-.014.5-.014 2.413-.014 2.413a.889.889 0 001.518.72l3.554-2.927zm-3.9-1.262l-.175.144-3.183 2.613V10.9l-.521-.093a4.735 4.735 0 01.834-9.4h6.948a4.734 4.734 0 010 9.468h-3.9zm4.989-5.365a.631.631 0 000-1.262h-8.76a.631.631 0 000 1.262zM10.15 8.04a.631.631 0 000-1.262H5.32a.631.631 0 000 1.262z"/></svg>',star:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21"><g data-name="Group 13757" transform="translate(-520 -4796)"><circle data-name="Ellipse 178" cx="10.5" cy="10.5" r="10.5" transform="translate(520 4796)" fill="#a7c953"/><g data-name="Group 13239" fill="none"><path data-name="Path 898" d="M522.5 4798h16v16h-16z"/><path data-name="Path 899" d="M522.5 4798h16v16h-16z"/></g><g data-name="Group 13240"><path data-name="Path 900" d="M530.5 4809.644l3.708 2.356-.984-4.44 3.276-2.987-4.314-.386L530.5 4800l-1.686 4.187-4.314.386 3.276 2.987-.984 4.44z" fill="#fff"/></g></g></svg>',startRecord:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45"><g class="a"><circle class="c" cx="22.5" cy="22.5" r="22.5"/><circle class="d" cx="22.5" cy="22.5" r="21.5"/></g><circle class="b" cx="11" cy="11" r="11" transform="translate(12 11)"/></svg>',startedRecording:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><circle cx="11" cy="11" r="11" fill="#ff3939"/></svg>',stopRecord:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 31 31"><g transform="translate(-885 -747)"><circle cx="15.5" cy="15.5" r="15.5" transform="translate(885 747)" fill="#ff3939" opacity=".67"/><g transform="translate(892 753)" fill="#fff" stroke="#ff3939"><rect width="18" height="18" rx="3" stroke="none"/><rect x=".5" y=".5" width="17" height="17" rx="2.5" fill="none"/></g></g></svg>',stop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.05 30.05"><g fill="#030104"><path d="M18.993 10.688h-7.936a.342.342 0 00-.346.342v8.022c0 .189.155.344.346.344h7.936c.19 0 .344-.154.344-.344V11.03a.342.342 0 00-.344-.342z"/><path d="M15.026 0C6.729 0 .001 6.726.001 15.025S6.729 30.05 15.026 30.05c8.298 0 15.023-6.726 15.023-15.025S23.324 0 15.026 0zm0 27.54c-6.912 0-12.516-5.604-12.516-12.515 0-6.914 5.604-12.517 12.516-12.517 6.913 0 12.514 5.603 12.514 12.517 0 6.911-5.601 12.515-12.514 12.515z"/></g></svg>',swap:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="swap" aria-hidden="true"><path d="M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"/></svg>',unlock:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="unlock" aria-hidden="true"><path d="M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"/></svg>',upArrowCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 330 330"><path d="M165 0C74.019 0 0 74.019 0 165s74.019 165 165 165 165-74.019 165-165S255.981 0 165 0zm90.606 205.606C252.678 208.535 248.839 210 245 210s-7.678-1.464-10.606-4.394l-69.396-69.393-69.392 69.393c-5.857 5.858-15.355 5.858-21.213 0-5.858-5.857-5.858-15.355 0-21.213l79.998-80a15 15 0 0121.213 0l80.002 80c5.859 5.858 5.859 15.356 0 21.213z"/></svg>',up:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="up" aria-hidden="true"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"/></svg>',upload:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="upload" aria-hidden="true"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"/></svg>',userAdd:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="usergroup-add" aria-hidden="true"><path d="M892 772h-80v-80c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v80h-80c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h80v80c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-80h80c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 498.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.8-1.7-203.2 89.2-203.2 200 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.8-1.1 6.4-4.8 5.9-8.8zM824 472c0-109.4-87.9-198.3-196.9-200C516.3 270.3 424 361.2 424 472c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C357 742.6 326 814.8 324 891.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 695.7 563 672 624 672c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 586.7 658.2 600 624 600s-66.3-13.3-90.5-37.5a127.26 127.26 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"/></svg>',user:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="user" aria-hidden="true"><path d="M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"/></svg>',videoCall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23.088 13.682"><path d="M2.993 0H12.4a2.993 2.993 0 012.993 2.993v7.7a2.993 2.993 0 01-2.993 2.989H2.993A2.993 2.993 0 010 10.689v-7.7A2.993 2.993 0 012.993 0zm0 1.71A1.283 1.283 0 001.71 2.993v7.7a1.283 1.283 0 001.283 1.283H12.4a1.283 1.283 0 001.283-1.283v-7.7A1.283 1.283 0 0012.4 1.71zM17.7 2.6l2.85-.8a2 2 0 012.534 1.921v6.244a2 2 0 01-2.534 1.921l-2.85-.8a2 2 0 01-1.457-1.921V4.517A2 2 0 0117.7 2.6zm.462 1.647a.285.285 0 00-.208.274v4.644a.285.285 0 00.208.274l2.85.8a.285.285 0 00.362-.274V3.718a.285.285 0 00-.362-.274z"/></svg>',view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20.766 13.002"><defs><style>.a{stroke:none}</style></defs><path class="a" d="M10.383 13C4.765 13 .351 7.222.15 6.981a.846.846 0 010-.963c.2-.241 4.615-6.019 10.233-6.019s10.032 5.738 10.233 6.019a.846.846 0 010 .963C20.415 7.263 16.001 13 10.383 13zM1.836 6.539c1.124 1.324 4.575 4.856 8.547 4.856s7.424-3.571 8.547-4.9c-1.124-1.324-4.615-4.9-8.547-4.9-3.973.05-7.424 3.622-8.547 4.946z"/><path class="a" d="M10.383 9.952a3.411 3.411 0 113.411-3.411 3.408 3.408 0 01-3.411 3.411zm0-5.217a1.806 1.806 0 101.806 1.806 1.8 1.8 0 00-1.806-1.806z"/></svg>',wifi:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="wifi" aria-hidden="true"><path d="M723 620.5C666.8 571.6 593.4 542 513 542s-153.8 29.6-210.1 78.6a8.1 8.1 0 00-.8 11.2l36 42.9c2.9 3.4 8 3.8 11.4.9C393.1 637.2 450.3 614 513 614s119.9 23.2 163.5 61.5c3.4 2.9 8.5 2.5 11.4-.9l36-42.9c2.8-3.3 2.4-8.3-.9-11.2zm117.4-140.1C751.7 406.5 637.6 362 513 362s-238.7 44.5-327.5 118.4a8.05 8.05 0 00-1 11.3l36 42.9c2.8 3.4 7.9 3.8 11.2 1C308 472.2 406.1 434 513 434s205 38.2 281.2 101.6c3.4 2.8 8.4 2.4 11.2-1l36-42.9c2.8-3.4 2.4-8.5-1-11.3zm116.7-139C835.7 241.8 680.3 182 511 182c-168.2 0-322.6 59-443.7 157.4a8 8 0 00-1.1 11.4l36 42.9c2.8 3.3 7.8 3.8 11.1 1.1C222 306.7 360.3 254 511 254c151.8 0 291 53.5 400 142.7 3.4 2.8 8.4 2.3 11.2-1.1l36-42.9c2.9-3.4 2.4-8.5-1.1-11.3zM448 778a64 64 0 10128 0 64 64 0 10-128 0z"/></svg>',xls:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.192 17.772"><defs><clipPath id="a"><path data-name="Path 634" d="M4.2-552.686v-6.965a.342.342 0 01.342-.342h8.625a.341.341 0 01.242.1l3.582 3.582a.341.341 0 01.1.242v13.506a.342.342 0 01-.342.342H4.538a.342.342 0 01-.342-.342v-3.057h-2.96a.342.342 0 01-.342-.342v-6.383a.342.342 0 01.342-.342H4.2zm9.309-6.139l.007 2.6h2.6zm2.9 3.288h-3.23a.343.343 0 01-.34-.342l-.009-3.43H4.88v6.623h6.92a.342.342 0 01.342.342v6.383a.342.342 0 01-.342.342H4.88v2.715H16.4v-12.633zM11.463-552H1.578v5.7h9.885z" transform="translate(-.894 559.993)" fill="none"/></clipPath><clipPath id="b"><path data-name="Path 636" d="M52.42-262.951l1.041-1.573-.945-1.444h.712l.594.9.594-.9h.713l-.947 1.445 1.039 1.573h-.731l-.668-1.022-.67 1.022z" transform="translate(-52.42 265.968)" fill="none"/></clipPath><clipPath id="c"><path data-name="Path 638" d="M151.14-262.175v-2.992h.611v2.482h1.513v.51z" transform="translate(-151.14 265.167)" fill="none"/></clipPath><clipPath id="d"><path data-name="Path 640" d="M226.659-265.613l.594-.059a.723.723 0 00.216.438.654.654 0 00.44.139.676.676 0 00.442-.124.371.371 0 00.149-.291.281.281 0 00-.063-.183.505.505 0 00-.219-.13q-.106-.038-.485-.132a1.64 1.64 0 01-.685-.3.789.789 0 01-.277-.609.783.783 0 01.13-.433.817.817 0 01.375-.306 1.5 1.5 0 01.593-.105 1.255 1.255 0 01.852.252.89.89 0 01.3.671l-.611.021a.519.519 0 00-.166-.335.6.6 0 00-.383-.1.683.683 0 00-.412.109.222.222 0 00-.1.188.231.231 0 00.09.183 1.581 1.581 0 00.559.2 2.973 2.973 0 01.655.217.85.85 0 01.333.307.9.9 0 01.12.481.883.883 0 01-.145.486.86.86 0 01-.407.337 1.706 1.706 0 01-.656.11 1.309 1.309 0 01-.879-.264 1.147 1.147 0 01-.366-.769z" transform="translate(-226.659 267.708)" fill="none"/></clipPath></defs><g data-name="Group 13251"><g data-name="Group 13247" clip-path="url(#a)"><path data-name="Path 633" d="M-.032-.032h16.256v17.835H-.032z"/></g><g data-name="Group 13248" transform="translate(1.636 9.331)" clip-path="url(#b)"><path data-name="Path 635" d="M-.032-.032h2.865v3.081H-.032z"/></g><g data-name="Group 13249" transform="translate(4.769 9.357)" clip-path="url(#c)"><path data-name="Path 637" d="M-.032-.032h2.187v3.055H-.032z"/></g><g data-name="Group 13250" transform="translate(7.165 9.276)" clip-path="url(#d)"><path data-name="Path 639" d="M-.031-.032h2.516v3.191H-.031z"/></g></g></svg>'},a=n("fXoL");const o=["iconContainer"];let s=(()=>{class t{constructor(t){this.renderer=t,this.size="18px",this.altColorScheme=!1,this.originalStyle=!1,this.primaryColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color"),this.darkGreyColor=getComputedStyle(document.documentElement).getPropertyValue("--dark-grey"),this.color=this.darkGreyColor,this.altColor=this.primaryColor}onMouseEnter(){this.originalStyle||this.changeStylings(!0,this.altColor)}onMouseLeave(){this.originalStyle||this.changeStylings(!1)}ngAfterViewInit(){this.altColorScheme&&([this.color,this.altColor]=[this.altColor,this.color]);const t=this.renderer.createElement("span");try{if(t.innerHTML=i[this.name],this.renderer.setStyle(t.firstChild,"width",this.size),this.renderer.setStyle(t.firstChild,"height",this.size),this.originalStyle)return void this.renderer.appendChild(this.iconContainer.nativeElement,t);this.renderer.setStyle(t.firstChild,"padding-top","2px"),this.renderer.appendChild(this.iconContainer.nativeElement,t),this.changeStylings()}catch(e){}}changeStylings(t=!1,e=this.color){var n,i;const a=this.iconContainer.nativeElement.getElementsByTagName("path");a&&(null===(n=Array.from(a))||void 0===n||n.forEach(n=>this.addStylings(n,e,t)));const o=this.iconContainer.nativeElement.getElementsByTagName("g");o&&(null===(i=Array.from(o))||void 0===i||i.forEach(n=>this.addStylings(n,e,t)))}addStylings(t,e=this.color,n=!1){this.renderer.setStyle(t,"fill",this.fill?this.fill:e),this.strokeWidth&&this.renderer.setStyle(t,"stroke-width",this.strokeWidth),n&&this.strokeColor?this.renderer.setStyle(t,"stroke",this.altColor):this.strokeColor&&this.renderer.setStyle(t,"stroke",this.strokeColor)}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(a.F))},t.\u0275cmp=a.Lb({type:t,selectors:[["app-icons"]],viewQuery:function(t,e){if(1&t&&a.ed(o,1),2&t){let t;a.Hc(t=a.fc())&&(e.iconContainer=t.first)}},hostBindings:function(t,e){1&t&&a.ec("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{name:"name",size:"size",color:"color",altColor:"altColor",fill:"fill",strokeColor:"strokeColor",strokeWidth:"strokeWidth",altColorScheme:"altColorScheme",originalStyle:"originalStyle"},decls:2,vars:0,consts:[["iconContainer",""]],template:function(t,e){1&t&&a.Sb(0,"span",null,0)},styles:["span[_ngcontent-%COMP%]{cursor:pointer}"]}),t})()},gssi:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let i=(()=>{class t{}return t.TAB_NAME="tab_name",t.APPOINTMENT_ID="appointment_id",t.APPOINTMENT_ACTION_NAME="appointment_action_name",t.APPOINTMENT_PARAMETERS="appointment_parameters",t.APPOINTMENT_TYPE="appointment_type",t.UNATTENDED_REASON="unattended_reason",t.ACTION_REJECT="reject",t.ACTION_DELETE="delete",t.ACTION_CONFIRM="confirm",t.ACTION_RESCHEDULE="reschedule",t.ACTION_VIDEOCALL="videocall",t.ACTION_SMS="sms",t.ACTION_VIEW="view",t.ACTION_EDIT="edit",t.APPOINTMENT_TAB="APPOINTMENT_TAB",t.APPOINTMENT_ACTION="APPOINTMENT_ACTION",t.APPOINTMENT_CREATE_NEW="APPOINTMENT_CREATE_NEW",t.APPOINTMENT_UNATTENDED_REASON="APPOINTMENT_UNATTENDED_REASON",t})()},i7mu:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"e",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return r}),n.d(e,"d",function(){return c});var i=n("FYUs");class a{constructor(){this.level=s.TENANT_LEVEL,this.type=r.VITALS,this.criteria=new Array,this.priority=i.a.VERY_HIGH,this.active=!0}}var o=function(t){return t.CUSTOM="CUSTOM",t.GENERAL="GENERAL",t}({}),s=function(t){return t.PATIENT_LEVEL="PATIENT_LEVEL",t.TENANT_LEVEL="TENANT_LEVEL",t.GLOBAL_LEVEL="GLOBAL_LEVEL",t}({}),r=function(t){return t.VITALS="VITALS",t.FORMS="FORMS",t.ACTIVITIES="ACTIVITIES",t.MONITORING="MONITORING",t}({});class c{constructor(){this.operation=l.AND,this.condition=d.HIGH,this.frequency=new u}}var l=function(t){return t.AND="AND",t.OR="OR",t}({}),d=function(t){return t.LOW="LOW",t.HIGH="HIGH",t}({});class u{constructor(){this.withInDays=2,this.occurrence=2}}},iUtR:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{transform(t,e,n=!1){let i;if(e&&!n){const n=t.getTime()-e.getTime();i=this.intervalToDuration(n)}else i=this.intervalToDuration(t);return[isNaN(i.hours)?0:i.hours,isNaN(i.minutes)?0:i.minutes,isNaN(i.seconds)?0:i.seconds].map(t=>String(t).padStart(2,"0")).join(":")}intervalToDuration(t){const e=Math.floor(t/864e5),n=Math.floor(t/36e5)-24*e,i=Math.floor(t/6e4)-(24*e*60+60*n);return{days:e,hours:n,minutes:i,seconds:Math.floor(t/1e3)-(24*e*60*60+60*n*60+60*i)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"timer",type:t,pure:!0}),t})()},idJI:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("fXoL"),a=n("dEAy"),o=n("B+r4"),s=n("ofXK"),r=n("OzZK"),c=n("RwU8"),l=n("C2AL");function d(t,e){1&t&&(i.Vb(0),i.Xb(1,"p",4),i.Xc(2," The list of patients who haven\u2019t been assigned to a staff member, can be obtained by filtering the patients or by using the same widget from your dashboard. All open appointments(if any) of this staff will be canceled and we will download a file for you with the details of the canceled appointments (if any). "),i.Wb(),i.Ub())}function u(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"p"),i.Xc(2),i.Wb(),i.Ub()),2&t){const t=i.ic();i.Db(2),i.Zc("The selected patients are now assigned to ",t.selectedMonitoringStaffName,"")}}function p(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"p"),i.Xc(2),i.Wb(),i.Ub()),2&t){const t=i.ic();i.Db(2),i.Zc("",t.selectedMonitoringStaffName," is assigned to the selected patients as primary staff.")}}let h=(()=>{class t{constructor(t){this.modalRef=t,this.isAssignPrimary=!1,this.referer="BULK_ASSIGN_MONITORING_STAFF",this.okay=()=>this.modalRef.destroy()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(a.e))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-bulk-monitoring-staff-assign-success-modal"]],inputs:{isAssignPrimary:"isAssignPrimary",selectedMonitoringStaffName:"selectedMonitoringStaffName",referer:"referer"},decls:8,vars:6,consts:[["nz-row","",3,"nzGutter"],["nz-col","",2,"text-align","center",3,"nzSpan"],[4,"ngIf"],["nz-button","","nzType","primary",2,"width","179px",3,"nzSize","click"],[1,"text"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Vc(2,d,3,0,"ng-container",2),i.Vc(3,u,3,1,"ng-container",2),i.Vc(4,p,3,1,"ng-container",2),i.Xb(5,"span"),i.Xb(6,"button",3),i.ec("click",function(){return e.okay()}),i.Xc(7," Okay "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.rc("nzGutter",24),i.Db(1),i.rc("nzSpan",24),i.Db(1),i.rc("ngIf","DISABLE_MONITORING_STAFF"==e.referer),i.Db(1),i.rc("ngIf","DISABLE_MONITORING_STAFF"!=e.referer&&!e.isAssignPrimary),i.Db(1),i.rc("ngIf","DISABLE_MONITORING_STAFF"!=e.referer&&e.isAssignPrimary),i.Db(2),i.rc("nzSize","medium"))},directives:[o.c,o.a,s.q,r.a,c.a,l.a],styles:[".vertical-center-modal{display:flex;align-items:center;justify-content:center}  .vertical-center-modal .ant-modal{top:0}.text[_ngcontent-%COMP%]{font:normal normal 600 15px/24px Nunito;letter-spacing:0;text-align:center}"]}),t})()},ighe:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("tk/3"),a=n("AytR"),o=n("SxV6"),s=n("fXoL");let r=(()=>{class t{constructor(t){this._http=t,this.rootURL=a.g.url}assignConsentTaskViaApp(t){return this._http.get(`${this.rootURL}/v2/consent-form/generate/patient-consent/action-item/${t}`).pipe(Object(o.a)())}assignConsentTaskViaSMS(t){return this._http.get(`${this.rootURL}/v2/consent-form/generate/patient-consent/sms/action-item/${t}`).pipe(Object(o.a)())}assignConsentFormToPatientAndEpisode(t,e){return this._http.post(`${this.rootURL}/v2/episodes/${t}/consent-files/add`,JSON.stringify(e))}addPhysicianOrderToPatientAndEpisode(t,e){return this._http.post(`${this.rootURL}/v2/episodes/${t}/physician-order/add`,JSON.stringify(e))}deleteEpisodeConsent(t,e){return this._http.post(`${this.rootURL}/v2/episodes/${t}/consent-files/delete`,JSON.stringify(e))}fetchICDCodes(t){return this._http.get(`https://clinicaltables.nlm.nih.gov/api/icd10cm/v3/search?sf=code,name&df=code,name&authenticity_token=&terms=${t}`).pipe(Object(o.a)())}saveEpisode(t){return this._http.post(`${this.rootURL}/v2/episodes`,JSON.stringify(t)).pipe(Object(o.a)())}updateEpisode(t){return this._http.put(`${this.rootURL}/v2/episodes/${t.id}/edit`,JSON.stringify(t)).pipe(Object(o.a)())}fetchEpisode(t){return this._http.get(`${this.rootURL}/v2/episodes/${t}`).pipe(Object(o.a)())}fetchEpisodeDetails(t){return this._http.get(`${this.rootURL}/v3/episodes/${t}`)}fetchActiveEpisodes(t,e=10,n=0,i,a){let s=`${this.rootURL}/v2/episodes/active/patients/${t}?offset=${n}&limit=${e}`;return i&&(s=`${s}&blueprintId=${i}`),(null==a?void 0:a.length)&&(s=`${s}&episodeStatus=${a}`),this._http.get(s).pipe(Object(o.a)())}fetchEpisodePrefillData(t){return this._http.get(`${this.rootURL}/v2/episodes/${t}/episode/prefill`).pipe(Object(o.a)())}uploadConsent(t,e,n,i){return this._http.post(`${this.rootURL}/v1/assets/upload/${n}?filename=${t}&asset-type=${i}`,e)}revokeConsent(t,e){return this._http.put(a.g.url+"/ehealth/v2/consent-form/revoke/"+t,e).pipe(Object(o.a)())}getDigitalConsent(t,e,n){const a=`${this.rootURL}/v2/consent-form/patient-consent-available/${t}?episodeType=${e}&consentType=${n}`,s=(new i.g).set("bypass","true");return this._http.get(a,{headers:s,responseType:"text"}).pipe(Object(o.a)())}getDigitalDoctorsOrder(t,e,n){return this._http.get(`${this.rootURL}/v2/consent-form/doctors-order-available/${t}?episodeId=${e}&consentType=${n}`,{responseType:"text"}).pipe(Object(o.a)())}denyConsent(t){return this._http.put(this.rootURL+"/ehealth/v2/consent-form/deny/",t).pipe(Object(o.a)())}submitConsent(t){return this._http.post(this.rootURL+"/ehealth/v2/consent-form/submit/digital/consent/without-action-item",t).pipe(Object(o.a)())}submitDoctorsOrder(t){return this._http.post(this.rootURL+"/ehealth/v2/consent-form/submit/physician/consent/",t).pipe(Object(o.a)())}denyDoctorsOrder(t){return this._http.post(this.rootURL+"/ehealth/v2/consent-form/submit/physician/consent/deny",t).pipe(Object(o.a)())}suspendEpisode(t,e){return this._http.post(`${this.rootURL}/v2/episodes/${t}`,e)}suspendEpisodeNew(t){return this._http.put(`${this.rootURL}/v3/episodes/suspend`,t)}reviveEpisode(t){return this._http.put(`${this.rootURL}/v3/episodes/revive/${t}`,{})}fetchDeviceSpecifications(){return this._http.get(this.rootURL+"/v3/device-specifications")}assignDeviceSetupTask(t,e){return this._http.post(this.rootURL+"/v2/episodes/"+t+"/education-tasks",e)}rescheduleAppointment(t,e,n){return this._http.put(this.rootURL+`/v2/episodes/reschedule-dst/${t}/${e}`,n)}fetchActionItemById(t){return this._http.get(this.rootURL+`/v2/actions/${t}`)}updateActionItem(t){return this._http.put(this.rootURL+`/v2/actions/${null==t?void 0:t.id}`,t)}submitAcceptConsent(t){return this._http.post(a.g.url+"/ehealth/v2/consent-form/submit/digital/consent/sms/accept",t).pipe(Object(o.a)())}submitDenyConsent(t){return this._http.put(a.g.url+"/ehealth/v2/consent-form/sms/deny",t).pipe(Object(o.a)())}fetchPatientCommunication(t,e,n,i="CMT"){return this._http.get(`${a.g.url}/v2/episodes/patient-communications/${t}?communicationType=${i}`)}fetchAllPatientCommunications(t,e,n,i){let o=`${a.g.url}/v3/episodes/patient-communications/${t}?startDate=${e}&endDate=${n}`;return(null==i?void 0:i.length)&&(o=`${o}&serviceCodes=${i.join()}`),this._http.get(o)}switchCCMEpisodeComplexity(t){return this._http.put(this.rootURL+`/v3/episodes/ccm-complexity/${t}/switch`,{})}bulkUploadPatientCommunicationNotes(t){return this._http.post(this.rootURL+`/v2/bulk-upload/patient-communication/${t}`,{})}postEpisodeEvent(t,e,n){return this._http.post(this.rootURL+`/v3/episodes/${t}/${e}/events`,n)}fetchEpisodeEvents(t){return this._http.get(this.rootURL+`/v3/episodes/${t}/events`)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(i.c))},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"igu/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7RJT"),a=n("fXoL");let o=(()=>{class t{constructor(){this.careplanDetails=new i.BehaviorSubject(null),this.featureConfigs=new i.BehaviorSubject(null),this.featureNomenclatures=new i.BehaviorSubject(null),this.userDetails=new i.BehaviorSubject(null),this.patientDetails=new i.BehaviorSubject(null),this.tenantSettings=new i.BehaviorSubject(null),this.chatTrigger=new i.BehaviorSubject(null),this.chatMessageInboundTrigger=new i.BehaviorSubject(null),this.chatMessageOutboundTrigger=new i.BehaviorSubject(null),this.chatSessionRefreshTrigger=new i.BehaviorSubject(null),this.videoCallTrigger=new i.BehaviorSubject(null),this.voiceCallTrigger=new i.BehaviorSubject(null),this.alertRefreshTrigger=new i.BehaviorSubject(!1),this.voicecallDisconnectTrigger=new i.BehaviorSubject(!1),this.patientAssessmentTrigger=new i.BehaviorSubject(null),this.timerTrigger=new i.BehaviorSubject(null),this.stickyNoteTrigger=new i.BehaviorSubject(null),this.updateStickyNoteTrigger=new i.BehaviorSubject(null),this.stickyNoteEditorRefreshTrigger=new i.BehaviorSubject(null),this.draftRefreshTrigger=new i.BehaviorSubject(!1),this.loginRefreshTrigger=new i.BehaviorSubject(!1),this.subtenantChangeTrigger=new i.BehaviorSubject([]),this.subTenantTrigger=new i.BehaviorSubject(null),this.assignedTenantSettings=new i.BehaviorSubject(new Map),this.isLoggedInSubject=new i.BehaviorSubject(this.isSessionTokenAvailable()),this.isCheckedInSubject=new i.BehaviorSubject(this.isCheckedInSessionAvailable()),this.loggedInUserNameSubject=new i.BehaviorSubject(this.loggedInUserNameAvailable())}setVoicecallDisconnectTrigger(t){this.voicecallDisconnectTrigger.next(t)}onVoiceCallDisconnect(){return this.voicecallDisconnectTrigger.asObservable()}setVoiceCallInitiated(t){this.voiceCallTrigger.next(t)}getVoiceCallInitiated(){return this.voiceCallTrigger.asObservable()}triggerAlertRefresh(){this.alertRefreshTrigger.next(!0)}onAlertRefreshTriggered(){return this.alertRefreshTrigger.asObservable()}isSessionTokenAvailable(){return!!localStorage.getItem("accessToken")}initiatePatientTrigger(t){(null==t?void 0:t.url)&&this.patientAssessmentTrigger.next(t)}getPatientAssessmentTrigger(){return this.patientAssessmentTrigger.asObservable()}setLoggedIn(t){this.isLoggedInSubject.next(t)}isLoggedIn(){return this.isLoggedInSubject.asObservable()}loggedInUserNameAvailable(){return localStorage.getItem("loggedInUserName")}setLoggedInUserName(t){this.loggedInUserNameSubject.next(t)}getLoggedInUserName(){return this.loggedInUserNameSubject.asObservable()}isCheckedInSessionAvailable(){return null!=localStorage.getItem("checkinSessionToken")}setCheckedIn(t){this.isCheckedInSubject.next(t)}isCheckedIn(){return this.isCheckedInSubject.asObservable()}setTimer(t){this.timerTrigger.next(t)}getTimer(){return this.timerTrigger.asObservable()}setStickNote(t){this.stickyNoteTrigger.next(t)}updateStickyNote(t){this.updateStickyNoteTrigger.next(t)}getUpdatedStickyNote(){return this.updateStickyNoteTrigger.asObservable()}getStickNote(){return this.stickyNoteTrigger.asObservable()}refreshStickNoteEditor(t){return this.stickyNoteEditorRefreshTrigger.next(t)}onRefreshStickNoteEditor(){return this.stickyNoteEditorRefreshTrigger.asObservable()}triggerDraftRefresh(){this.draftRefreshTrigger.next(!0)}onDraftRefreshTriggered(){return this.draftRefreshTrigger.asObservable()}triggerLoginPageRefresh(t=!0){this.loginRefreshTrigger.next(t)}onLoginPageRefreshTriggered(){return this.loginRefreshTrigger.asObservable()}triggerSubTenantChange(t){this.subtenantChangeTrigger.next(t)}onSubTenantChange(){return this.subtenantChangeTrigger.asObservable()}setSubTenant(t){this.subTenantTrigger.next(t)}getSubTenant(){return this.subTenantTrigger.asObservable()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},isHH:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("WoUL"),a=n("AytR"),o=n("UXun"),s=n("fXoL"),r=n("tk/3"),c=n("bNXi");let l=(()=>{class t{constructor(t,e,n){this._http=t,this._translateService=e,this._notificationsService=n,this.rootUrl=a.g.url}getAllCourses(t=0,e=10,n){if(this.carePlanTemplates$)return this.carePlanTemplates$;const i=localStorage.getItem("loggedInTenant");return this.endPoint=`${this.rootUrl}/v2/careplans/blueprints/?tenantId=${i}&offset=${t}&limit=${e}`,n&&(this.endPoint+="&type="+n),this.carePlanTemplates$=this._http.get(this.endPoint).pipe(Object(o.a)(1)),this.carePlanTemplates$}getCourseById(t){return this.endPoint=this.rootUrl+"/v2/careplans/blueprints/"+t+"/",this._http.get(this.endPoint)}getInterventionBlueprintPerCarePlan(t){return this.endPoint=this.rootUrl+"/v2/careplans/intervention-blueprints/"+t,this._http.get(this.endPoint)}assignCareplanToPatient(t){return this.endPoint=this.rootUrl+"/v2/careplans/assignements",this._http.post(this.endPoint,t)}assignCareplanToEpisode(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/"+e+"/careplans/"+t,this._http.post(this.endPoint,{})}createCourse(t){return this.endPoint=this.rootUrl+"/v2/careplans/blueprints/",this._http.post(this.endPoint,t)}createBulkInterventionsForNewCareplanBlueprint(t){return this.endPoint=this.rootUrl+"/v2/careplans/multi/intervention-blueprints",this._http.post(this.endPoint,t)}updateBulkInterventionsForCareplanBlueprint(t){return this.endPoint=this.rootUrl+"/v2/careplans/multi/intervention-blueprints",this._http.put(this.endPoint,t)}updateCourse(t){return this.endPoint=this.rootUrl+"/v2/careplans/blueprints/",this._http.put(this.endPoint,t)}getAssignedCareplanById(t){return this.endPoint=this.rootUrl+"/v2/careplans/"+t,this._http.get(this.endPoint)}getInterventionsForCarePlan(t){return this.endPoint=this.rootUrl+"/v2/careplans/"+t+"/interventions",this._http.get(this.endPoint)}suspendExistingcareplans(t){return this._http.put(this.rootUrl+"/v3/careplans/users/"+t+"/status/suspension",{})}editExistingCareplan(t){return this._http.put(this.rootUrl+"/v3/careplans/"+t.careplanId,t)}validation(t,e,n,i){let a=!0;return i&&(i.length=0),t.name&&""!==t.name&&0!==t.name.length||(i?i.push("name"):this._translateService.get("ERROR.CAREPLANNAMEEMPTY").subscribe(t=>{this._notificationsService.error("Care Plan",t)}),a=!1),t.tags&&void 0!==t.tags&&0!==t.tags.length||(i?i.push("tags"):this._translateService.get("ERROR.TAGEMPTY").subscribe(t=>{this._notificationsService.error("Care Plan",t)}),a=!1),"ASSIGN"!==e&&"EPISODE"!==e||(a=this.validateSchdeules(n)),a}validateSchdeules(t){let e=!0;return Array.from(t.keys()).forEach(n=>{t.get(n).forEach(t=>{t.schedules&&t.schedules.length||(this._notificationsService.error("Care Plan",`Please Enter Schedule For ${t.name}`),e=!1)})}),e}getActiveCareplansForAPatient(t,e){return this.endPoint=this.rootUrl+"/v3/careplans/active/"+t,e&&(this.endPoint=this.endPoint+"?careplanType="+e),this._http.get(this.endPoint)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(r.c),s.bc(i.a),s.bc(c.b))},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},jWZy:function(t,e,n){"use strict";n.d(e,"a",function(){return U});var i=n("geco"),a=n("Z93s"),o=n("fXoL"),s=n("dEAy"),r=n("OzZK"),c=n("RwU8"),l=n("C2AL"),d=n("nJia"),u=n("glKu"),p=n("dRHE"),h=n("ofXK");let b=(()=>{class t{constructor(t){this._modalRef=t,this.vitalNote=new a.a}closeDialog(){this._modalRef.close()}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(s.e))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-vital-note"]],inputs:{vitalNote:"vitalNote"},decls:14,vars:9,consts:[[1,"close"],["nz-button","","nz-tooltip","",3,"nzTooltipTitle","click"],["name","close"],[1,"notes-container"],[1,"note"],[1,"note-date"],[1,"note-addedBy"]],template:function(t,e){1&t&&(o.Xb(0,"div",0),o.Xb(1,"button",1),o.ec("click",function(){return e.closeDialog()}),o.jc(2,"translate"),o.Sb(3,"app-icons",2),o.Wb(),o.Wb(),o.Xb(4,"div",3),o.Xb(5,"p",4),o.Xc(6),o.Wb(),o.Xb(7,"p",5),o.Xb(8,"strong"),o.Xc(9),o.jc(10,"date"),o.Wb(),o.Wb(),o.Xb(11,"p",6),o.Xb(12,"strong"),o.Xc(13),o.Wb(),o.Wb(),o.Wb()),2&t&&(o.Db(1),o.sc("nzTooltipTitle",o.kc(2,4,"COMMON.CLOSE")),o.Db(5),o.Yc(null==e.vitalNote?null:e.vitalNote.content),o.Db(3),o.Yc(o.lc(10,6,null==e.vitalNote?null:e.vitalNote.createdOn,"medium")),o.Db(4),o.Zc("Added By: ",(null==e.vitalNote?null:e.vitalNote.addedBy)||"N/A",""))},directives:[r.a,c.a,l.a,d.d,u.a],pipes:[p.a,h.e],styles:[".close[_ngcontent-%COMP%]{text-align:right}.notes-container[_ngcontent-%COMP%]{margin:1%;padding:2%;border-radius:5px;border:1px solid #d3d3d3}.note[_ngcontent-%COMP%]{color:gray}.note[_ngcontent-%COMP%], .note-addedBy[_ngcontent-%COMP%], .note-date[_ngcontent-%COMP%]{font-size:12px}.note-addedBy[_ngcontent-%COMP%]{text-align:right}"]}),t})();var g=n("igu/"),m=n("2hFh"),f=n("bNXi"),v=n("rMZv"),S=n("SKKP"),T=n("TaO5"),C=n("3Pt+"),E=n("IIEM"),I=n("xhqf"),M=n("gBMA");function y(t,e){1&t&&(o.Xb(0,"th",1),o.Xc(1),o.jc(2,"translate"),o.Wb()),2&t&&(o.rc("nzAlign","center"),o.Db(1),o.Zc(" ",o.kc(2,2,"COMMON.CONTEXT")," "))}function A(t,e){if(1&t&&(o.Xb(0,"th",1),o.Xc(1),o.Wb()),2&t){const t=e.$implicit;o.rc("nzAlign","center"),o.Db(1),o.Zc(" ",null==t?null:t.label," ")}}function _(t,e){1&t&&(o.Vb(0),o.Xb(1,"th",1),o.Xc(2,"Vitals "),o.Sb(3,"br"),o.Xc(4," Verified"),o.Wb(),o.Xb(5,"th",1),o.Xc(6,"Document "),o.Sb(7,"br"),o.Xc(8," Verified"),o.Wb(),o.Ub()),2&t&&(o.Db(1),o.rc("nzAlign","center"),o.Db(4),o.rc("nzAlign","center"))}function D(t,e){if(1&t&&(o.Xb(0,"td",8),o.Xc(1),o.jc(2,"vitalContext"),o.Wb()),2&t){const t=o.ic().$implicit;o.rc("nzAlign","center"),o.Db(1),o.Zc(" ",o.kc(2,2,t)," ")}}function z(t,e){1&t&&o.Sb(0,"nz-badge",14)}const O=function(t,e,n,i,a){return[t,e,n,i,a]};function N(t,e){if(1&t&&(o.Xb(0,"td",12),o.jc(1,"vitalFieldLimit"),o.jc(2,"vitalContext"),o.Xc(3),o.Xb(4,"span"),o.Vc(5,z,1,0,"nz-badge",13),o.Wb(),o.Wb()),2&t){const t=e.ngIf,n=o.ic().$implicit,i=o.ic().$implicit,a=o.ic();o.sc("ngClass",o.oc(1,4,o.Cc(12,O,t,null==n?null:n.type,a.vitalBlueprint,i.vitalstate,o.kc(2,10,i)))),o.rc("nzAlign","center"),o.Db(3),o.Zc(" ",t," "),o.Db(2),o.rc("ngIf",a.linkedVitals.has(null==i?null:i.id))}}function P(t,e){if(1&t&&(o.Vb(0),o.Vc(1,N,6,18,"td",11),o.Ub()),2&t){const t=e.$implicit,n=o.ic().$implicit,i=o.ic();o.Db(1),o.rc("ngIf",i.getParameterValue(t,n))}}function R(t,e){if(1&t){const t=o.Yb();o.Xb(0,"label",17),o.ec("ngModelChange",function(e){o.Lc(t);const n=o.ic(2).$implicit;return(null==n?null:n.additionalParameterMap).flowsheetVerified=e}),o.Wb()}if(2&t){const t=o.ic(2).$implicit;o.rc("ngModel",null==t?null:t.additionalParameterMap.flowsheetVerified)}}function X(t,e){1&t&&o.Sb(0,"label",18)}function L(t,e){if(1&t){const t=o.Yb();o.Xb(0,"label",17),o.ec("ngModelChange",function(e){o.Lc(t);const n=o.ic(2).$implicit;return(null==n?null:n.additionalParameterMap).mdmVerified=e}),o.Wb()}if(2&t){const t=o.ic(2).$implicit;o.rc("ngModel",null==t?null:t.additionalParameterMap.mdmVerified)}}function w(t,e){1&t&&o.Sb(0,"label",18)}function W(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"td",8),o.Vc(2,R,1,1,"label",15),o.Vc(3,X,1,0,"label",16),o.Wb(),o.Xb(4,"td",8),o.Vc(5,L,1,1,"label",15),o.Vc(6,w,1,0,"label",16),o.Wb(),o.Ub()),2&t){const t=o.ic().$implicit;o.Db(1),o.rc("nzAlign","center"),o.Db(1),o.rc("ngIf",null==t?null:t.additionalParameterMap),o.Db(1),o.rc("ngIf",!(null!=t&&t.additionalParameterMap)),o.Db(1),o.rc("nzAlign","center"),o.Db(1),o.rc("ngIf",null==t?null:t.additionalParameterMap),o.Db(1),o.rc("ngIf",!(null!=t&&t.additionalParameterMap))}}const k=function(t){return{"shaded-row":t}};function V(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"tr",7),o.Xb(2,"td",8),o.Xc(3),o.jc(4,"date"),o.Wb(),o.Xb(5,"td",9),o.jc(6,"date"),o.Xc(7),o.jc(8,"date"),o.Wb(),o.Xb(9,"td",8),o.Xc(10),o.jc(11,"deviceName"),o.Wb(),o.Xb(12,"td",8),o.Xc(13),o.Wb(),o.Vc(14,D,3,4,"td",10),o.Vc(15,P,2,1,"ng-container",5),o.Vc(16,W,7,6,"ng-container",4),o.Wb(),o.Ub()),2&t){const t=e.$implicit,n=e.index,i=o.ic();o.Db(1),o.rc("ngClass",o.yc(27,k,n%2==0)),o.Db(1),o.rc("nzAlign","center"),o.Db(1),o.ad("",o.lc(4,16,(null==t?null:t.takenAt)+"Z","MMM d, h:mm a")," ",i.standardTimeZone,""),o.Db(2),o.uc("nzTooltipTitle","This vital was received on our portal on ",o.lc(6,19,(null==t?null:t.createdAt)+"Z","MMM dd, hh:mm a")," ",i.standardTimeZone,""),o.rc("nzAlign","center"),o.Db(2),o.ad(" ",o.lc(8,22,(null==t?null:t.createdAt)+"Z","MMM d, h:mm a")," ",i.standardTimeZone,""),o.Db(2),o.rc("nzAlign","center"),o.Db(1),o.Yc(o.kc(11,25,null==t?null:t.deviceType)),o.Db(2),o.rc("nzAlign","center"),o.Db(1),o.Yc(null==t?null:t.platform),o.Db(1),o.rc("ngIf",i.vitalContext),o.Db(1),o.rc("ngForOf",null==i.vitalBlueprint?null:i.vitalBlueprint.parameters),o.Db(1),o.rc("ngIf",null==i.tenantConfig||null==i.tenantConfig.redoxConfig?null:i.tenantConfig.redoxConfig.enabled)}}function x(t,e){1&t&&(o.Xb(0,"em"),o.Xc(1),o.jc(2,"translate"),o.Wb(),o.Xb(3,"em"),o.Xc(4),o.jc(5,"translate"),o.Wb()),2&t&&(o.Db(1),o.Yc(o.kc(2,2,"ALERT.FOOTER.VITALS_TREND")),o.Db(3),o.Zc(" ",o.kc(5,4,"ALERT.FOOTER.ABOVE_BELOW"),""))}let U=(()=>{class t{constructor(t,e,n,i,a){this._notificationsService=t,this._patientsService=e,this._modalService=n,this._dataSharingService=i,this._timezoneService=a,this.linkedVitals=new Set,this.deprecatedParamsMap=new Map,this.deprecatedParamsMap.set("PULSERATE","HEART_RATE"),this.deprecatedParamsMap.set("HEARTRATE","HEART_RATE"),this.deprecatedParamsMap.set("RESPIRATIONS","RESPIRATION"),this.deprecatedParamsMap.set("GLUCOSE","BLOOD_GLUCOSE"),this.standardTimeZone=this._timezoneService.getTimeZone(),this._dataSharingService.tenantSettings.subscribe(t=>this.tenantConfig=t)}ngAfterViewInit(){this.vitalBlueprint.contexts&&this.vitalBlueprint.contexts.length&&(this.vitalContext=this.vitalBlueprint.contexts[0])}getParameterValue(t,e){try{let n=t.type;const i=t.label,a=JSON.parse(e.parameters);n=Object.keys(a).find(t=>{var e;return t.toLowerCase()===n.toLowerCase()||t.toLowerCase()===i.toLowerCase()||t.toLowerCase()===(null===(e=this.deprecatedParamsMap.get(n))||void 0===e?void 0:e.toLowerCase())});const o=a[n];return"null"==o||null==o||""==o||"NOTES"==o||"notes"==o?"-":o}catch(n){}return 0}viewNoteForVital(t){t?this._patientsService.fetchVitalNote(t).subscribe(t=>{this._modalService.create({nzContent:b,nzComponentParams:{vitalNote:t},nzWidth:600,nzClosable:!1,nzFooter:null})}):this._notificationsService.error("Vitals","Note not available!")}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(f.b),o.Rb(i.a),o.Rb(s.f),o.Rb(g.a),o.Rb(m.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-vitals-table"]],inputs:{patientName:"patientName",patientId:"patientId",vitalBlueprint:"vitalBlueprint",vitals:"vitals",careplanId:"careplanId",linkedVitals:"linkedVitals"},decls:22,vars:26,consts:[[3,"nzFrontPagination","nzShowPagination","nzSize","nzNoResult","nzFooter","nzBordered"],[1,"thead",3,"nzAlign"],["class","thead",3,"nzAlign",4,"ngIf"],["class","thead",3,"nzAlign",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["vitalTableFooter",""],[3,"ngClass"],[3,"nzAlign"],["nz-tooltip","",3,"nzAlign","nzTooltipTitle"],[3,"nzAlign",4,"ngIf"],[3,"nzAlign","ngClass",4,"ngIf"],[3,"nzAlign","ngClass"],["nzColor","#f50","nzStatus","processing",4,"ngIf"],["nzColor","#f50","nzStatus","processing"],["nz-checkbox","","nzDisabled","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-checkbox","","nzDisabled","",4,"ngIf"],["nz-checkbox","","nzDisabled","",3,"ngModel","ngModelChange"],["nz-checkbox","","nzDisabled",""]],template:function(t,e){if(1&t&&(o.Xb(0,"nz-table",0),o.Xb(1,"thead"),o.Xb(2,"tr"),o.Xb(3,"th",1),o.Xc(4),o.jc(5,"translate"),o.Wb(),o.Xb(6,"th",1),o.Xc(7),o.jc(8,"translate"),o.Wb(),o.Xb(9,"th",1),o.Xc(10),o.jc(11,"translate"),o.Wb(),o.Xb(12,"th",1),o.Xc(13),o.jc(14,"translate"),o.Wb(),o.Vc(15,y,3,4,"th",2),o.Vc(16,A,2,2,"th",3),o.Vc(17,_,9,2,"ng-container",4),o.Wb(),o.Wb(),o.Xb(18,"tbody"),o.Vc(19,V,17,29,"ng-container",5),o.Wb(),o.Wb(),o.Vc(20,x,6,6,"ng-template",null,6,o.Wc)),2&t){const t=o.Ic(21);o.rc("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","middle")("nzNoResult",null)("nzFooter",t)("nzBordered",!1),o.Db(3),o.rc("nzAlign","center"),o.Db(1),o.Yc(o.kc(5,18,"PARAMETERS.MEASUREDON")),o.Db(2),o.rc("nzAlign","center"),o.Db(1),o.Yc(o.kc(8,20,"PARAMETERS.RECEIVED_ON")),o.Db(2),o.rc("nzAlign","center"),o.Db(1),o.Zc(" ",o.kc(11,22,"COMMON.MEASURED_WITH"),""),o.Db(2),o.rc("nzAlign","center"),o.Db(1),o.Yc(o.kc(14,24,"COMMON.PLATFORM")),o.Db(2),o.rc("ngIf",e.vitalContext),o.Db(1),o.rc("ngForOf",null==e.vitalBlueprint?null:e.vitalBlueprint.parameters),o.Db(1),o.rc("ngIf",null==e.tenantConfig||null==e.tenantConfig.redoxConfig?null:e.tenantConfig.redoxConfig.enabled),o.Db(2),o.rc("ngForOf",e.vitals)}},directives:[v.f,v.n,v.o,v.e,v.l,v.a,h.q,h.p,v.i,h.o,d.d,S.a,T.a,C.u,C.x],pipes:[p.a,h.e,E.a,I.a,M.a],styles:[".thead[_ngcontent-%COMP%]{font-weight:700}.normal[_ngcontent-%COMP%]{color:var(--primary-color)}.abnormal[_ngcontent-%COMP%]{color:#c81c1c}.shaded-row[_ngcontent-%COMP%]{background-color:#f6f6f6}td[_ngcontent-%COMP%]{color:var(--light-black);font-size:12px}[_nghost-%COMP%]     .ant-table-thead>tr>th{text-align:center!important}[_nghost-%COMP%]     .ant-badge-status-dot{width:10px;height:10px}[_nghost-%COMP%]     .ant-badge-status-processing:after{border:1px solid #f50}"]}),t})()},jYVc:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("tk/3"),a=n("aJGj"),o=n("vLqr"),s=n("AytR"),r=n("fXoL");let c=(()=>{class t{constructor(t,e){this._http=t,this._handler=e,this.rootUrl=s.g.url,this._httpClientNoInterceptor=new i.c(e)}logInUser(t){return this._http.post(this.rootUrl+"/v3/auth/grant-type/user-credentials",JSON.stringify(t))}generateOTPForUser(t){const e=this.rootUrl+"/v2/sessions/otp/generate",n={headers:new i.g({"Content-Type":"application/json"})};return this._httpClientNoInterceptor.post(e,JSON.stringify(t),n)}verifyOTPForUser(t){const e=this.rootUrl+"/v2/sessions/otp/verify",n={headers:new i.g({"Content-Type":"application/json"})};return this._httpClientNoInterceptor.post(e,JSON.stringify(t),n)}refreshAccessToken(){const t=this.rootUrl+"/v3/auth/grant-type/refresh-token",e={refreshToken:localStorage.getItem("refreshToken")};if(!e.refreshToken)throw Object(o.throwError)(null);return this._http.post(t,JSON.stringify(e))}getSessionById(t){return this._http.get(this.rootUrl+`/v2/sessions/${t}`)}archiveSecurityToken(){const t=this.rootUrl+"/v3/auth/security-token/invalidate",e={refreshToken:localStorage.getItem("refreshToken")};return(null==e?void 0:e.refreshToken)?this._http.put(t,JSON.stringify(e)):a.EMPTY}}return t.\u0275fac=function(e){return new(e||t)(r.bc(i.c),r.bc(i.b))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},jZiR:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("igu/"),a=n("fXoL");let o=(()=>{class t{constructor(t){this._dataSharingService=t}initialize(){var t,e;null===(e=null===(t=this._dataSharingService)||void 0===t?void 0:t.tenantSettings)||void 0===e||e.subscribe(t=>{t&&this.setTheme(t)})}initializeWithConfig(t){t&&this.setTheme(t)}setTheme(t){var e,n;const i=null===(e=null==t?void 0:t.portalConfig)||void 0===e?void 0:e.colorConfiguration,a=null===(n=null===document||void 0===document?void 0:document.documentElement)||void 0===n?void 0:n.style;null==a||a.setProperty("--primary-color",null==i?void 0:i.primaryColor),null==a||a.setProperty("--primary-color-dark",null==i?void 0:i.primaryDarkColor),null==a||a.setProperty("--primary-color-light",null==i?void 0:i.primaryLightColor),null==a||a.setProperty("--secondary-color",null==i?void 0:i.secondaryColor),null==a||a.setProperty("--secondary-color-dark",null==i?void 0:i.secondaryDarkColor),null==a||a.setProperty("--secondary-color-light",null==i?void 0:i.secondaryLightColor),null==a||a.setProperty("--tertiary-color",null==i?void 0:i.tertiaryColor),null==a||a.setProperty("--tertiary-color-dark",null==i?void 0:i.tertiaryDarkColor),null==a||a.setProperty("--tertiary-color-light",null==i?void 0:i.tertiaryLightColor),null==a||a.setProperty("--neutral-color",null==i?void 0:i.neutralColor),null==a||a.setProperty("--black",null==i?void 0:i.blackColor),null==a||a.setProperty("--light-black",null==i?void 0:i.blackLightColor),null==a||a.setProperty("--dark-grey",null==i?void 0:i.greyDarkColor),null==a||a.setProperty("--medium-grey",null==i?void 0:i.greyMediumColor),null==a||a.setProperty("--grey",null==i?void 0:i.greyColor),null==a||a.setProperty("--light-grey",null==i?void 0:i.greyLightColor),null==a||a.setProperty("--success-color",null==i?void 0:i.successColor),null==a||a.setProperty("--warning-color",null==i?void 0:i.warningColor),null==a||a.setProperty("--warning-color-light",null==i?void 0:i.warningLightColor),null==a||a.setProperty("--error-color",null==i?void 0:i.errorColor),null==a||a.setProperty("--body-background",null==i?void 0:i.backgroundColor)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(i.a))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},k90p:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("x6g7"),a=n("2hFh"),o=n("fXoL"),s=n("B+r4"),r=n("eHCX"),c=n("ofXK"),l=n("dRHE"),d=n("gBMA"),u=n("xhqf");const p=function(t,e,n,i,a){return[t,e,n,i,a]};function h(t,e){if(1&t&&(o.Xb(0,"div"),o.Xb(1,"p",8),o.Xc(2),o.Xb(3,"span",9),o.jc(4,"vitalFieldLimit"),o.jc(5,"vitalContext"),o.Xc(6),o.Wb(),o.Wb(),o.Wb()),2&t){const t=e.$implicit,n=o.ic();o.Db(2),o.Zc("",null==t?null:t.label," "),o.Db(1),o.sc("ngClass",o.oc(4,3,o.Cc(11,p,n.getParameterValue(t,n.vital),null==t?null:t.type,n.vitalBlueprint,n.vital.vitalstate,o.kc(5,9,n.vital)))),o.Db(3),o.Zc(" ",n.getParameterValue(t,n.vital)||"-","")}}let b=(()=>{class t{constructor(t,e){this._alertService=t,this._timezoneService=e,this.linkedAlerts=new Array,this.deprecatedParamsMap=new Map,this.deprecatedParamsMap.set("PULSERATE","HEART_RATE"),this.deprecatedParamsMap.set("HEARTRATE","HEART_RATE"),this.deprecatedParamsMap.set("RESPIRATIONS","RESPIRATION"),this.deprecatedParamsMap.set("GLUCOSE","BLOOD_GLUCOSE")}ngOnInit(){this.standardTimeZone=this._timezoneService.getTimeZone()}getParameterValue(t,e){try{let n=t.type;const i=t.label,a=JSON.parse(e.parameters);n=Object.keys(a).find(t=>{var e;return t.toLowerCase()===n.toLowerCase()||t.toLowerCase()===i.toLowerCase()||t.toLowerCase()===(null===(e=this.deprecatedParamsMap.get(n))||void 0===e?void 0:e.toLowerCase())});const o=a[n];return"null"==o||null==o||""==o||"NOTES"==o||"notes"==o?"-":o}catch(n){}return 0}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(i.a),o.Rb(a.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-last-measured-vital"]],inputs:{vitalBlueprint:"vitalBlueprint",vital:"vital",vitalLabel:"vitalLabel"},decls:12,vars:10,consts:[[1,"header"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","16",1,"middle"],["id","last-values-heading-wrapper"],["id","last-value-heading"],["nz-typography","","id","last-value-sub-heading"],["nz-col","","nzSpan","8",1,"middle"],[4,"ngFor","ngForOf"],[2,"font-weight","bold"],[1,"vitals-values",3,"ngClass"]],template:function(t,e){1&t&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"div",2),o.Xb(3,"div",3),o.Xb(4,"h3",4),o.Xc(5),o.jc(6,"translate"),o.Wb(),o.Xb(7,"h5",5),o.Xc(8),o.jc(9,"date"),o.Wb(),o.Wb(),o.Wb(),o.Xb(10,"div",6),o.Vc(11,h,7,17,"div",7),o.Wb(),o.Wb(),o.Wb()),2&t&&(o.Db(5),o.ad("",o.kc(6,5,"COMMON.LAST_MEASURED")," ",e.vitalLabel,""),o.Db(3),o.ad(" ",o.lc(9,7,(null==e.vital?null:e.vital.takenAt)+"Z","MMM dd, yyyy, hh:mm a")," ",e.standardTimeZone," "),o.Db(3),o.rc("ngForOf",null==e.vitalBlueprint?null:e.vitalBlueprint.parameters))},directives:[s.c,s.a,r.a,c.p,c.o],pipes:[l.a,c.e,d.a,u.a],styles:["#last-values-heading-wrapper[_ngcontent-%COMP%]{padding-left:26px;width:100%}#last-value-heading[_ngcontent-%COMP%]{font-size:16px;font-weight:700}#last-value-sub-heading[_ngcontent-%COMP%]{color:#949494}.clear-thead[_ngcontent-%COMP%]{background:transparent!important;font-size:14px;color:var(--light-black);border-bottom:none;text-align:center!important}.clear-td[_ngcontent-%COMP%]{font-size:20px;font-weight:300;border-bottom:none}.normal[_ngcontent-%COMP%]{color:var(--primary-color);font-size:15px}.abnormal[_ngcontent-%COMP%]{color:#c81c1c}[_nghost-%COMP%]     .ant-table table{margin-top:-21px}.header[_ngcontent-%COMP%]{background:var(--neutral-color);width:100%;min-height:200px;border-radius:5px;padding:14px}.vitals-measured[_ngcontent-%COMP%]{padding-top:35px}.vitals-values[_ngcontent-%COMP%]{padding-left:10px}.middle[_ngcontent-%COMP%], .middle-200[_ngcontent-%COMP%]{margin-top:calc(100%/2 - 200px);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}"]}),t})()},k9Ba:function(t,e,n){"use strict";n.d(e,"a",function(){return i});const i=[{name:"Tech Support",type:"TECH_SUPPORT",configs:{VIDEO_CALL:{context:"TECH_SUPPORT",duration:0,note:"Spoke to the patient over the phone to understand the issue(s)."},CALL:{context:"TECH_SUPPORT",duration:10,note:"Spoke to the patient over the phone to understand the issue(s)."},HOME_VISIT:{context:"TECH_SUPPORT",duration:20,note:"Visited patient's home and resolved the tech issues that the patient was experiencing."},OTHER:{context:"TECH_SUPPORT",duration:0,note:"Spoke to the patient over the phone to understand the issue(s)."}}},{name:"Making arrangements for the delivery of monitoring equipment to the patient",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Educating the patient regarding the use of the monitoring equipment and data transmission",type:"ONBOARDING",configs:{VIDEO_CALL:{context:null,duration:0,note:"Patient educated on how to use the device, measure vitals and how the values are transmitted for review by the care team. The patient expressed understanding and was successfully onboarded to the program."},CALL:{context:null,duration:0,note:"Patient educated on how to use the device, measure vitals and how the values are transmitted for review by the care team. The patient expressed understanding and was successfully onboarded to the program."},HOME_VISIT:{context:"ONBOARDING",duration:20,note:"Patient educated on how to use the device, measure vitals and how the values are transmitted for review by the care team. The patient expressed understanding and was successfully onboarded to the program."},OTHER:{context:"ONBOARDING",duration:20,note:"Patient educated on how to use the device, measure vitals and how the values are transmitted for review by the care team. The patient expressed understanding and was successfully onboarded to the program."}}},{name:"Responding to any questions received from a patient regarding data collection and transmission",type:"PATIENT_ENGAGEMENT",configs:{VIDEO_CALL:{context:"PATIENT_ENGAGEMENT",duration:0,note:"Spoke to the patient. Emphasized the importance of taking medications on time and following the advice provided by the physician. Checked on symptoms."},CALL:{context:"PATIENT_ENGAGEMENT",duration:10,note:"Spoke to the patient. Emphasized the importance of taking medications on time and following the advice provided by the physician. Checked on symptoms."},HOME_VISIT:{context:"PATIENT_ENGAGEMENT",duration:20,note:"Visited patient's home and resolved any issues that the patient was experiencing."},CLINIC_VISIT:{context:"PATIENT_ENGAGEMENT",duration:20,note:"Spoke to the patient. Emphasized the importance of taking medications on time and following the advice provided by the physician. Checked on symptoms."},OTHER:{context:"PATIENT_ENGAGEMENT",duration:0,note:"Spoke to the patient. Emphasized the importance of taking medications on time and following the advice provided by the physician. Checked on symptoms."}}},{name:"Activities related to retrieving, organizing, or compiling the patient\u2019s data for review",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Following up with a patient whose data is not being transmitted properly or received in a timely manner",type:"DATA_TRANSMISSION",configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:"DATA_TRANSMISSION_ISSUE",duration:10,note:"Visited patient's home and resolved the data transmission issues that the patient was experiencing."},OTHER:{context:null,duration:0,note:"Spoke to the patient to understand the issue that the patient was experiencing. Helped the patient resolve the issue."}}},{name:"Addressing any data quality issue with the patient or third party (e.g., monitoring vendor, device vendor)",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Reviewing and posting the data",type:"DATA_REVIEW_MD",configs:{VIDEO_CALL:{context:null,duration:0,note:"Patient information reviewed by MD/Clinician."},CALL:{context:null,duration:0,note:"Patient information reviewed by MD/Clinician."},HOME_VISIT:{context:null,duration:0,note:"Patient information reviewed by MD/Clinician."},OTHER:{context:"DATA_REVIEW_MD",duration:5,note:"Patient information reviewed by MD/Clinician."}}},{name:"Validating the data",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Comparing the data to the patient\u2019s prior reported data",type:"DATA_REVIEW_PATIENT",configs:{VIDEO_CALL:{context:null,duration:0,note:"Reviewed vital signs and other patient data."},CALL:{context:null,duration:0,note:"Reviewed vital signs and other patient data."},HOME_VISIT:{context:null,duration:0,note:"Reviewed vital signs and other patient data."},OTHER:{context:"DATA_REVIEW_PATIENT",duration:5,note:"Reviewed vital signs and other patient data."}}},{name:"Reviewing the patient\u2019s electronic health record",type:"DATA_REVIEW_EHR",configs:{VIDEO_CALL:{context:null,duration:0,note:"Reviewed patient chart in EHR."},CALL:{context:null,duration:0,note:"Reviewed patient chart in EHR."},HOME_VISIT:{context:null,duration:0,note:"Reviewed patient chart in EHR."},OTHER:{context:"DATA_REVIEW_EHR",duration:5,note:"Reviewed patient chart in EHR."}}},{name:"Comparing the data to established parameters",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Communicating specific data to other providers as directed by established protocol or upon request",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Consulting with the physician and/or other clinicians to determine what action is warranted based on...",type:"ESCALATION",configs:{VIDEO_CALL:{context:null,duration:0,note:"Escalated to clinic\u2019s staff for further advice after review of patient data."},CALL:{context:null,duration:0,note:"Escalated to clinic\u2019s staff for further advice after review of patient data."},HOME_VISIT:{context:null,duration:0,note:"Escalated to clinic\u2019s staff for further advice after review of patient data."},OTHER:{context:"ESCALATION",duration:10,note:"Escalated to clinic\u2019s staff for further advice after review of patient data."}}},{name:"Discussing with the patient possible explanations for results outside established normal ranges",type:"ALERT_MANAGEMENT",configs:{VIDEO_CALL:{context:null,duration:0,note:"Reviewed alert(s)."},CALL:{context:"ALERT_MANAGEMENT",duration:5,note:"Reviewed alert(s)."},HOME_VISIT:{context:null,duration:0,note:"Reviewed alert(s)."},OTHER:{context:null,duration:0,note:"Reviewed alert(s)."}}},{name:"Acting on directives from the patient\u2019s physician or other practitioner",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Counseling, educating, and following up with the patient in response to reported results",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Modifying the patient\u2019s care plan based on reported results",type:"CARE_PLAN_MODIFICATION",configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:"CARE_PLAN_MODIFICATION",duration:5,note:"Discussed the observations on the vital signs data generated by the patient for the current month with the MD for further modification in patient's care plan."}}},{name:"Documenting any of the aforementioned activities",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Care Coordination",type:"CARE_COORDINATION",configs:{CALL:{context:"CARE_COORDINATION",duration:20,note:"Activities related to retrieving, organizing, or compiling the patient\u2019s data for review."},OUTBOUND_CALL:{context:"CARE_COORDINATION",duration:20,note:"Activities related to retrieving, organizing, or compiling the patient\u2019s data for review."},INBOUND_CALL:{context:"CARE_COORDINATION",duration:20,note:"Activities related to retrieving, organizing, or compiling the patient\u2019s data for review."}}},{name:"Reviewing patient\u2019s medicinal information",type:"MEDICATION_REVIEW",configs:{OTHER:{context:"MEDICATION_REVIEW",duration:10,note:"Reviewed the medicinal data for the patient for the current month and shared the report with the MD for further review & advice"}}},{name:"Assessing/Reviewing patient",type:"ASSESSMENT_REVIEW",configs:{CALL:{context:"ASSESSMENT_REVIEW",duration:10,note:"Assessed/Reviewed patient's health"}}},{name:"Text Reminder",type:"TEXT_REMINDER",configs:{OTHER:{context:"TEXT_REMINDER",duration:5,note:"Text reminder sent to patient after review of patient data."}}},{name:"Others",type:"OTHERS",configs:{CALL:{context:"OTHERS",duration:0,note:""}}}]},kiQV:function(t){t.exports=JSON.parse('{"a":"3.5.3"}')},l6l4:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("tk/3"),o=n("SxV6"),s=n("fXoL");let r=(()=>{class t{constructor(t){this._http=t,this.rootUrl=i.g.url}checkReportStatus(t){return this._http.get(this.rootUrl+"/v2/reports/status/"+t).pipe(Object(o.a)())}generatePatientSummaryReport(t,e,n){return this._http.post(`${this.rootUrl}/v2/reports/summary/patients/${t}?startTime=${e}&endTime=${n}`,{}).pipe(Object(o.a)())}generateWeeklyReport(t,e,n){const i=localStorage.getItem("loggedInTenant");window.open(`${this.rootUrl}/v2/billing/hourly/csv/tenant/${i}/?start=${t}&end=${e}&userType=${n}`)}generateCaretakersReport(t,e,n=""){return this._http.get(`${this.rootUrl}/v2/reports/getreport/?start=${t}&end=${e}&caretakerId=${n}`).pipe(Object(o.a)())}fetchCaretakersReport(t){window.open(`${this.rootUrl}/v2/reports/dwnreports/${t.fileName}/`)}generateGeneralAssessmentReport(t,e){return this._http.get(`${this.rootUrl}/v3/analytics/general-assessment-report/?startTime=${t}&endTime=${e}`).pipe(Object(o.a)())}generateActivityReport(t){return this._http.get(`${this.rootUrl}/v3/analytics/activity-report/?month=${t}`).pipe(Object(o.a)())}generateBHIReport(t,e){return this._http.get(`${this.rootUrl}/v3/analytics/bhi-report/?startDate=${t}&endDate=${e}`).pipe(Object(o.a)())}generatePatientEnrollmentReport(t,e){return this._http.get(`${this.rootUrl}/v3/analytics/patient-enrollment/?startDate=${t}&endDate=${e}`).pipe(Object(o.a)())}generatePatientClosureReport(t,e){return this._http.get(`${this.rootUrl}/v3/analytics/patient-closure/?startDate=${t}&endDate=${e}`).pipe(Object(o.a)())}generateCareStaffDetailReport(t,e){return this._http.get(`${this.rootUrl}/v3/analytics/care-staff-detail/?startDate=${t}&endDate=${e}`).pipe(Object(o.a)())}generateStaffReviewReport(t,e){return this._http.get(`${this.rootUrl}/v3/analytics/staff-review/?startDate=${t}&endDate=${e}`).pipe(Object(o.a)())}generateStaffDetailedReviewReport(t,e,n){return this._http.get(`${this.rootUrl}/v3/analytics/staff-review/${t}?startDate=${e}&endDate=${n}`).pipe(Object(o.a)())}generatePatientCommunicationReviewReport(t,e,n){return this._http.get(`${this.rootUrl}/v3/analytics/patient-communication/global-timer/${t}?startDate=${e}&endDate=${n}`).pipe(Object(o.a)())}generatePatientTerminationReport(t,e){return this._http.get(`${this.rootUrl}/v3/analytics/patient-termination/?startDate=${t}&endDate=${e}`).pipe(Object(o.a)())}generatePatientConsentDeniedReport(t,e){return this._http.get(`${this.rootUrl}/v3/analytics/patient-consent-denied/?startDate=${t}&endDate=${e}`).pipe(Object(o.a)())}fetchBlobForReport(t){const e=new a.g({bypass:"yes"});return this._http.get(t,{headers:e,responseType:"blob"})}generateBillingReport(t){return this._http.post(this.rootUrl+"/v3/analytics/billing-report",t).pipe(Object(o.a)())}generateAuditReport(t){return this._http.post(this.rootUrl+"/v3/analytics/audit-report",t).pipe(Object(o.a)())}generateVitalHistoryReport(t){let e=`${this.rootUrl}/v3/analytics/vital-history-report`,n=new a.h({fromObject:t});return this._http.get(e,{params:n})}upload(t,e){return this._http.post(this.rootUrl+"/v2/media/upload/"+t,e,{observe:"response",responseType:"text"})}shareReport(t){return this._http.post(`${this.rootUrl}/v3/analytics/share-report`,JSON.stringify(t))}fetchPatientSummary(t,e,n){const i=`${this.rootUrl}/v3/analytics/patient-summary/${t}`;let o=new a.h;return o=o.append("startDate",e),o=o.append("endDate",n),this._http.get(i,{params:o})}fetchVitalSnapshot(t,e,n,i){const o=`${this.rootUrl}/v3/analytics/vital/snapshot/${t}/${e}`;let s=new a.h;return s=s.append("startDate",n),s=s.append("endDate",i),this._http.get(o,{params:s})}generateBusinessReport(t,e,n,i){return this.fetchBusinessReport(t,e,n,i,"JSON")}downloadBusinessReport(t,e,n,i){return this.fetchBusinessReport(t,e,n,i,"XLSX")}fetchBusinessReport(t,e,n,i,s){const r=`${this.rootUrl}/v3/analytics/business-report`;let c=new a.h;return c=c.append("startDate",e),c=c.append("endDate",n),i&&(c=c.append("gender",String(i))),c=c.append("responseType",s),c=c.append("type",t),this._http.get(r,{params:c}).pipe(Object(o.a)())}bulkExportReport(t){return this._http.post(`${this.rootUrl}/v3/analytics/export-bulk-report`,JSON.stringify(t),{responseType:"text"})}smsReport(t){let e=`${this.rootUrl}/v3/analytics/sms-report?offset=${t.offset}&limit=${t.limit}`;return null!=t.patientId&&(e+=`&patientId=${t.patientId}`),null!=t.operationType&&(e+=`&operationType=${t.operationType}`),null!=t.startTime&&null!=t.endTime&&(e+=`&startTime=${t.startTime}&endTime=${t.endTime}`),this._http.get(e)}getReport(t,e="EMAIL"){let n=`${this.rootUrl}/v3/analytics/report/${e}?offset=${t.offset}&limit=${t.limit}`;return null!=t.patientId&&(n+=`&patientId=${t.patientId}`),null!=t.reportType&&(n+=`&reportType=${t.reportType}`),null!=t.startTime&&null!=t.endTime&&(n+=`&startTime=${t.startTime}&endTime=${t.endTime}`),this._http.get(n)}generateAllPatientSummaryReport(t,e,n){let i=`${this.rootUrl}/v3/analytics/patient-summary-all?startDate=${t}&endDate=${e}`;return(null!=n||n.length>0)&&(i+=`&staffId=${n}`),this._http.get(i).pipe(Object(o.a)())}generatePatientByPrimaryDxReport(t,e,n){return this._http.get(`${this.rootUrl}/v3/analytics/primary-dx/?startDate=${e}&endDate=${n}&primaryDx=${t}`).pipe(Object(o.a)())}generatePatientInventoryReport(t,e){return this._http.get(`${this.rootUrl}/v3/analytics/primary-inventory-report/?startDate=${t}&endDate=${e}`).pipe(Object(o.a)())}generateCombinedClientSignOff(t){return this._http.get(`${this.rootUrl}/v3/analytics/combined-client-sign-off/?yearMonth=${t}`)}shareBillingReport(t){return this._http.post(`${this.rootUrl}/v3/analytics/billing-report/send-email`,JSON.stringify(t)).pipe(Object(o.a)())}generatePatientCommunicationReport(t,e,n){return this._http.get(`${this.rootUrl}/v3/analytics/patient-communication/${t}/${e}/${n}`)}generatePlanOfCareReport(t,e){return this._http.get(`${this.rootUrl}/v3/analytics/plan-of-care/${t}/${e}`)}}return t.\u0275fac=function(e){return new(e||t)(s.bc(a.c))},t.\u0275prov=s.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},m3lz:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("BoNt"),a=n("bp6e"),o=n("UXun"),s=n("fXoL");let r=(()=>{class t{constructor(t,e){this._sitesService=t,this._storeService=e,this.userLocationMap=new Map,this.initializeLocationsMap()}transform(...t){var e;if("object"==typeof t[0])return(null===(e=t[0])||void 0===e?void 0:e.map(t=>{const e=this.userLocationMap.get(null==t?void 0:t.id);if(e&&(null==e?void 0:e.name))return null==e?void 0:e.name}).filter(t=>!!t).join(", "))||"N/A";{const e=this.userLocationMap.get(t[0]);return(null==e?void 0:e.name)||"N/A"}}initializeLocationsMap(){var t;this.createLocationsMap(this._storeService.getSites()),(null===(t=this.userLocationMap)||void 0===t?void 0:t.size)||(this.sites$=this._sitesService.getAllSites(0,999,null,!1,localStorage.getItem("loggedInUserAssignedTenants")).pipe(Object(o.a)()),this.sites$.subscribe(t=>{this.createLocationsMap(null==t?void 0:t.result),this._storeService.setAllTenantSites(null==t?void 0:t.result)}))}createLocationsMap(t){t&&(null==t||t.forEach(t=>this.userLocationMap.set(null==t?void 0:t.id,t)))}}return t.\u0275fac=function(e){return new(e||t)(s.Rb(i.a),s.Rb(a.a))},t.\u0275pipe=s.Qb({name:"userLocations",type:t,pure:!0}),t})()},mLmo:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("igu/"),a=n("fXoL");let o=(()=>{class t{constructor(t){this._dataSharingService=t,this.blueprintNamesMap=new Map,this.$tenantSettinsObserver=this._dataSharingService.tenantSettings.subscribe(t=>{var e;t&&(null===(e=null==t?void 0:t.episodeBlueprints)||void 0===e||e.forEach(t=>{this.blueprintNamesMap.set(null==t?void 0:t.type,null==t?void 0:t.name)}))})}transform(t,e,n){let i=this.blueprintNamesMap.get(t)||t;return e&&(i=`${e} ${i}`),n&&(i=`${i} ${n}`),i}ngOnDestroy(){this.$tenantSettinsObserver.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(i.a))},t.\u0275pipe=a.Qb({name:"episodeName",type:t,pure:!1}),t})()},mUTz:function(t,e,n){"use strict";n.d(e,"a",function(){return T});var i=n("fXoL"),a=n("+gyu"),o=n("dEAy"),s=n("zAKX"),r=n("3Pt+"),c=n("ofXK"),l=n("glKu"),d=n("nJia"),u=n("C2AL"),p=n("FwiY"),h=n("B+r4"),b=n("OzZK"),g=n("RwU8");function m(t,e){if(1&t&&i.Sb(0,"nz-option",9),2&t){const t=e.$implicit;i.rc("nzValue",t)("nzLabel",null==t?null:t.title)}}function f(t,e){if(1&t&&(i.Vb(0),i.Vc(1,m,1,2,"nz-option",8),i.Ub()),2&t){const t=e.ngIf;i.Db(1),i.rc("ngForOf",null==t?null:t.content)}}function v(t,e){1&t&&(i.Xb(0,"nz-option",10),i.Sb(1,"span",11),i.Xc(2," Loading Templates... "),i.Wb())}function S(t,e){if(1&t){const t=i.Yb();i.Vb(0),i.Xb(1,"div"),i.Xc(2," Do you want to append or replace the existing note? "),i.Wb(),i.Xb(3,"div",12),i.Xb(4,"div",13),i.Xb(5,"button",14),i.ec("click",function(){return i.Lc(t),i.ic().replaceNote()}),i.Xc(6,"Replace"),i.Wb(),i.Wb(),i.Xb(7,"div",13),i.Xb(8,"button",15),i.ec("click",function(){return i.Lc(t),i.ic().appendNote()}),i.Xc(9,"Append"),i.Wb(),i.Wb(),i.Wb(),i.Ub()}}let T=(()=>{class t{constructor(t,e){this._noteTemplatesService=t,this._modalService=e,this.pageNumber=0,this.limit=10,this.onTemplateSelected=new i.n,this.isModalVisible=!1,this.getNoteTemplates()}ngOnInit(){}ngOnChanges(t){t.note&&t.note.currentValue&&(this.note=t.note.currentValue)}getNoteTemplates(){this.noteTemplates$=this._noteTemplatesService.fetchNoteTemplates(this.pageNumber,this.limit,this.searchKey,this.tenantId)}setTemplate(t){var e,n;null!=this.note&&0!=(null===(n=null===(e=this.note)||void 0===e?void 0:e.trim())||void 0===n?void 0:n.length)?(this.noteTemplate=t,this.isModalVisible=!0):this.onTemplateSelected.emit(null==t?void 0:t.template)}replaceNote(){var t;this.onTemplateSelected.emit(null===(t=this.noteTemplate)||void 0===t?void 0:t.template),this.closeModal()}appendNote(){var t;this.onTemplateSelected.emit(`${this.note} ${null===(t=this.noteTemplate)||void 0===t?void 0:t.template}`),this.closeModal()}closeModal(){this.isModalVisible=!1}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(a.a),i.Rb(o.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-note-template-picker"]],inputs:{note:"note",tenantId:"tenantId",pageNumber:"pageNumber",limit:"limit",searchKey:"searchKey"},outputs:{onTemplateSelected:"onTemplateSelected"},features:[i.Bb],decls:10,vars:6,consts:[[1,"heading-info-icon"],["ngModel","","nzPlaceHolder","Select a template",3,"ngModelChange"],[4,"ngIf","ngIfElse"],["loading",""],[1,"info-icon"],["name","infoCircle","nzTooltipTitle","These templates are available for everyone to use. If you can't find the template you need, contact your admin.","nzTooltipPlacement","rightBottom","nz-tooltip","",1,"infoCirle"],["nzTitle","Note Template",3,"nzVisible","nzFooter","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["nzDisabled","","nzCustomContent",""],["nz-icon","","nzType","loading",1,"loading-icon"],["nz-row","","nzJustify","end","nzGutter","16",1,"footer-btn-div"],["nz-col",""],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"nz-select",1),i.ec("ngModelChange",function(t){return e.setTemplate(t)}),i.Vc(2,f,2,1,"ng-container",2),i.jc(3,"async"),i.Vc(4,v,3,0,"ng-template",null,3,i.Wc),i.Wb(),i.Xb(6,"div",4),i.Sb(7,"app-icons",5),i.Wb(),i.Wb(),i.Xb(8,"nz-modal",6),i.ec("nzVisibleChange",function(t){return e.isModalVisible=t})("nzOnCancel",function(){return e.closeModal()}),i.Vc(9,S,10,0,"ng-container",7),i.Wb()),2&t){const t=i.Ic(5);i.Db(2),i.rc("ngIf",i.kc(3,4,e.noteTemplates$))("ngIfElse",t),i.Db(6),i.rc("nzVisible",e.isModalVisible)("nzFooter",null)}},directives:[s.d,r.u,r.x,c.q,l.a,d.d,o.a,o.b,c.p,s.a,u.a,p.a,h.c,h.a,b.a,g.a],pipes:[c.b],styles:[".heading-info-icon[_ngcontent-%COMP%]{display:flex}.info-icon[_ngcontent-%COMP%]{margin-left:10px;margin-top:5px}.footer-btn-div[_ngcontent-%COMP%]{padding-top:32px}"]}),t})()},mfqL:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("AytR"),a=n("fXoL"),o=n("tk/3");let s=(()=>{class t{constructor(t){this._http=t,this.rootUrl=i.g.url}getTags(t,e,n,i){localStorage.getItem("loggedInTenant");let a=this.rootUrl+"/v2/tenants/tags?appliesTo="+t+"&limit="+e+"&offset="+n;return i&&(a=a+"&requestTenantIds="+i),this._http.get(a,{observe:"response"})}getTagsByLimit(t,e){return this._http.get(this.rootUrl+"/v2/tenants/tags?limit="+t+"&offset="+e,{observe:"response"})}getALLTags(t){return this._http.get(this.rootUrl+"/v2/tenants/alltags/"+t)}getAllTags(){return this._http.get(this.rootUrl+"/v2/tenants/tags")}getTagById(t){const e=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/tenants/"+e+"/tags/"+t)}create(t){return this._http.post(this.rootUrl+"/v2/tenants/"+t.tenantId+"/tags/",t)}update(t){return localStorage.getItem("loggedInTenant"),this._http.put(this.rootUrl+"/v2/tenants/"+t.tenantId+"/tags/",t)}deleteTagById(t){const e=localStorage.getItem("loggedInTenant");return this._http.delete(this.rootUrl+"/v2/tenants/"+e+"/tags/"+t)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac}),t})()},nJQN:function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n("fXoL"),a=n("FYUs"),o=n("zAKX"),s=n("3Pt+"),r=n("ofXK"),c=n("glKu"),l=n("Laz3"),d=n("dRHE");function u(t,e){if(1&t&&(i.Xb(0,"nz-option",3),i.Xb(1,"span",4),i.Sb(2,"app-icons",5),i.jc(3,"alertPriorityColor"),i.Wb(),i.Xb(4,"span"),i.jc(5,"alertPriorityColor"),i.Xc(6),i.jc(7,"translate"),i.jc(8,"alertPriorityColor"),i.Wb(),i.Wb()),2&t){const t=e.$implicit,n=i.ic();let a=null,o=null;i.rc("nzValue",t)("nzHide",null==n.priorityDetails||null==(a=n.priorityDetails.get(t))?null:a.disabled),i.Db(2),i.sc("color",i.kc(3,8,t)),i.rc("name",null==n.priorityDetails||null==(o=n.priorityDetails.get(t))?null:o.icon),i.Db(2),i.Sc("color",i.lc(5,10,t,"TEXT_COLOR")),i.Db(2),i.Zc(" ",i.kc(7,13,i.lc(8,15,t,"TEXT"))," ")}}function p(t,e){if(1&t&&(i.Sb(0,"app-icons",10),i.jc(1,"alertPriorityColor")),2&t){const t=i.ic(2);i.sc("color",i.kc(1,1,t.priority))}}function h(t,e){if(1&t&&(i.Sb(0,"app-icons",11),i.jc(1,"alertPriorityColor")),2&t){const t=i.ic(2);i.sc("color",i.kc(1,1,t.priority))}}function b(t,e){if(1&t&&(i.Sb(0,"app-icons",12),i.jc(1,"alertPriorityColor")),2&t){const t=i.ic(2);i.sc("color",i.kc(1,1,t.priority))}}function g(t,e){if(1&t&&(i.Sb(0,"app-icons",13),i.jc(1,"alertPriorityColor")),2&t){const t=i.ic(2);i.sc("color",i.kc(1,1,t.priority))}}function m(t,e){if(1&t&&(i.Xb(0,"span",4),i.Vc(1,p,2,3,"app-icons",6),i.Vc(2,h,2,3,"app-icons",7),i.Vc(3,b,2,3,"app-icons",8),i.Vc(4,g,2,3,"app-icons",9),i.Wb(),i.Xb(5,"span"),i.jc(6,"alertPriorityColor"),i.Xc(7),i.jc(8,"translate"),i.jc(9,"alertPriorityColor"),i.Wb()),2&t){const t=i.ic();i.Db(1),i.rc("ngIf","VERY_HIGH"==t.priority),i.Db(1),i.rc("ngIf","HIGH"==t.priority),i.Db(1),i.rc("ngIf","LOW"==t.priority),i.Db(1),i.rc("ngIf","VERY_LOW"==t.priority),i.Db(1),i.Sc("color",i.lc(6,8,t.priority,"TEXT_COLOR")),i.Db(2),i.Zc(" ",i.kc(8,11,i.lc(9,13,t.priority,"TEXT"))," ")}}const f=function(){return{height:"auto"}};let v=(()=>{class t{constructor(t){this.cd=t,this.priority="MEDIUM",this.disabled=!1,this.disabledPriorities=new Array,this.onPriorityChange=new i.n,this.priorities=Object.keys(a.a),this.priorityDetails=new Map([["VERY_HIGH",{icon:"highest",text:"PRIORITY.NEED_IMMEDIATE_ATTENTION",disabled:!1}],["HIGH",{icon:"high",text:"PRIORITY.IMPORTANT",disabled:!1}],["LOW",{icon:"low",text:"PRIORITY.NEED_IMMEDIATE_ATTENTION",disabled:!1}],["VERY_LOW",{icon:"lowest",text:"PRIORITY.INFORMATIONAL_ALERT",disabled:!1}]])}ngOnInit(){this.priorities.splice(2,1),this.disabledPriorities.forEach(t=>{this.priorityDetails.has(t)&&(this.priorityDetails.get(t).disabled=!0)})}onAlertPriorityChange(t){this.priority=t,this.onPriorityChange.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-alert-priority-dropdown"]],inputs:{priority:"priority",disabled:"disabled",disabledPriorities:"disabledPriorities"},outputs:{onPriorityChange:"onPriorityChange"},decls:4,vars:6,consts:[["nzPlaceHolder","Select Priority",3,"ngModel","nzCustomTemplate","nzDropdownStyle","nzDisabled","ngModelChange"],["nzCustomContent","",3,"nzValue","nzHide",4,"ngFor","ngForOf"],["defaultTemplate",""],["nzCustomContent","",3,"nzValue","nzHide"],[2,"vertical-align","middle"],["size","16px",3,"name","color"],["size","16px","name","highest",3,"color",4,"ngIf"],["size","16px","name","high",3,"color",4,"ngIf"],["size","16px","name","low",3,"color",4,"ngIf"],["size","16px","name","lowest",3,"color",4,"ngIf"],["size","16px","name","highest",3,"color"],["size","16px","name","high",3,"color"],["size","16px","name","low",3,"color"],["size","16px","name","lowest",3,"color"]],template:function(t,e){if(1&t&&(i.Xb(0,"nz-select",0),i.ec("ngModelChange",function(t){return e.priority=t})("ngModelChange",function(t){return e.onAlertPriorityChange(t)}),i.Vc(1,u,9,18,"nz-option",1),i.Wb(),i.Vc(2,m,10,16,"ng-template",null,2,i.Wc)),2&t){const t=i.Ic(3);i.rc("ngModel",e.priority)("nzCustomTemplate",t)("nzDropdownStyle",i.xc(5,f))("nzDisabled",e.disabled),i.Db(1),i.rc("ngForOf",e.priorities)}},directives:[o.d,s.u,s.x,r.p,o.a,c.a,r.q],pipes:[l.a,d.a],styles:["[_nghost-%COMP%]     .ant-select-item{padding-top:0!important}[_nghost-%COMP%]     .ant-badge-status-dot{width:12px!important;height:12px!important}[_nghost-%COMP%]     .ant-select-item-option-active{border-left:3px solid var(--primary-color)}.cdk-virtual-scroll-orientation-vertical[_ngcontent-%COMP%]{height:auto!important}[_nghost-%COMP%]     .ant-select-disabled.ant-select:not(.ant-select-customize-input) .ant-select-selector{border:1px solid #00000014}"],changeDetection:0}),t})()},nLCl:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.PATIENT="PATIENT",t.TENANT_ADMIN="TENANT_ADMIN",t.LOCATION_ADMIN="LOCATION_ADMIN",t.MONITORING_STAFF="MONITORING_STAFF",t.PHYSICIAN="PHYSICIAN",t.CUSTOM="CUSTOM",t.ENROLMENT_STAFF="ENROLMENT_STAFF",t.MANAGER_STAFF="MANAGER_STAFF",t}({})},ncKW:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=function(t){return t.FIRST_NURSE_CALL="First Nurse Call",t.MONTHLY_NURSE_CALL="Monthly Nurse Call",t.PATIENT_FOLLOW_UP="Patient Follow Up",t.POST_TOC_FOLLOW_UP="Post TOC Follow Up",t.FIRST_TOC_CALL="First TOC Call",t.SECOND_TOC_CALL="Second TOC Call",t.THIRD_TOC_CALL="Third TOC Call",t.ANNUAL_PHYSICAL="Annual Physical",t.CHECK_UP="Check Up",t}({}),a=n("fXoL");let o=(()=>{class t{transform(t){return i[t]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Qb({name:"purposeLabel",type:t,pure:!0}),t})()},o3v3:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("MXg9"),a=n("fXoL");let o=(()=>{class t{constructor(){}getApplicablePatientStatuses(t){let e;switch(t){case i.a.ALL:e=null;break;case i.a.ACTIVE:case i.a.REGISTERED:case i.a.NOT_ONBOARDED:case i.a.SUSPENDED:case i.a.FLAGGED_FOR_DISQUALIFICATION:case i.a.DISCHARGED:e=[t];break;default:e=null}return e}getSelectedPatientStatus(t){let e;return e="object"==typeof t?(null==t?void 0:t.length)>1?i.a.ALL:t[0]:t,e}filterInvalidParamsForPatientStatus(t,e){return!t||"RPM"!==e&&"GENERAL"!==e||("object"==typeof t?0==(t=t.filter(t=>t===i.a.ACTIVE||t===i.a.REGISTERED)).length&&(t=null):t!==i.a.ACTIVE&&t!==i.a.REGISTERED&&(t=null)),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},oYoK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7Xlp");let a=(()=>{class t{}return t.SOURCE="source",t.SEARCH_KEY="search_key",t.ACTION_NAME="action_name",t.DEVICE_ID="device_id",t.PATIENT_ID="patient_id",t.DEVICE_ACTION="DEVICE_ACTION",t.DEVICE_SEARCH="DEVICE_SEARCH",t})();var o=n("fXoL");let s=(()=>{class t extends i.a{constructor(){super(),this.SOURCE="devices"}devicesActionEvent(t,e,n){let i=this.getCommonProperties();i[a.SOURCE]=this.SOURCE,i[a.ACTION_NAME]=n,i[a.DEVICE_ID]=e,i[a.PATIENT_ID]=t,this.logEvent(a.DEVICE_ACTION,i)}devicesSearchEvent(t){let e=this.getCommonProperties();e[a.SEARCH_KEY]=t,e[a.SOURCE]=this.SOURCE,this.logEvent(a.DEVICE_SEARCH,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},osXl:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{transform(t){let e="";switch(t){case"ALL":e="All";break;case"ACTIVE":e="Active";break;case"REGISTERED":e="Registered";break;case"NOT_ONBOARDED":e="Not Onboarded";break;case"SUSPENDED":e="Suspended";break;case"FLAGGED_FOR_DISQUALIFICATION":e="Flagged For Disqualification";break;case"DISCHARGED":e="Discharged";break;default:e=""}return e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"patientStatusName",type:t,pure:!0}),t})()},pSeI:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("XFrI"),a=n("igu/"),o=n("fXoL"),s=n("ofXK"),r=n("dRHE");function c(t,e){if(1&t&&(o.Xb(0,"span",3),o.Xc(1),o.jc(2,"translate"),o.Wb()),2&t){const t=o.ic(2);o.Db(1),o.ad("",t.prefix," ",o.kc(2,2,t.displayName),"")}}function l(t,e){if(1&t&&(o.Xb(0,"span",3),o.Xc(1),o.jc(2,"translate"),o.Wb()),2&t){const t=o.ic(2);o.Db(1),o.Yc(o.kc(2,1,t.displayName))}}function d(t,e){if(1&t&&(o.Vb(0),o.Vc(1,c,3,4,"span",2),o.Vc(2,l,3,3,"span",2),o.Ub()),2&t){const t=o.ic();o.Db(1),o.rc("ngIf",null==t.prefix?null:t.prefix.length),o.Db(1),o.rc("ngIf",!(null!=t.prefix&&t.prefix.length))}}function u(t,e){if(1&t&&(o.Xb(0,"span",3),o.Xc(1),o.Wb()),2&t){const t=o.ic(2);o.Db(1),o.ad("",t.prefix," ",t.default,"")}}function p(t,e){if(1&t&&(o.Xb(0,"span",3),o.Xc(1),o.Wb()),2&t){const t=o.ic(2);o.Db(1),o.Yc(t.default)}}function h(t,e){if(1&t&&(o.Vc(0,u,2,2,"span",2),o.Vc(1,p,2,1,"span",2)),2&t){const t=o.ic();o.rc("ngIf",null==t.prefix?null:t.prefix.length),o.Db(1),o.rc("ngIf",!(null!=t.prefix&&t.prefix.length))}}let b=(()=>{class t{constructor(t){this._dataSharingService=t,this.prefix="",this.featureNomenclatures=new i.a}ngOnInit(){this._dataSharingService.featureNomenclatures.subscribe(t=>{this.featureNomenclatures=t;const e=this.nomenclature,n=this.subProperty;this.featureNomenclatures&&this.subProperty&&this.featureNomenclatures[this.nomenclature]&&this.featureNomenclatures[this.nomenclature][n]?this.displayName=this.featureNomenclatures[this.nomenclature][n]:this.featureNomenclatures&&this.featureNomenclatures[e]&&(this.displayName=this.featureNomenclatures[e].name)})}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(a.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-nomenclature"]],inputs:{nomenclature:"nomenclature",default:"default",subProperty:"subProperty",prefix:"prefix"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultString",""],["id","header-title",4,"ngIf"],["id","header-title"]],template:function(t,e){if(1&t&&(o.Vc(0,d,3,2,"ng-container",0),o.Vc(1,h,2,2,"ng-template",null,1,o.Wc)),2&t){const t=o.Ic(2);o.rc("ngIf",e.displayName)("ngIfElse",t)}},directives:[s.q],pipes:[r.a],styles:[""]}),t})()},pe0G:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("AytR"),a=n("fXoL"),o=n("tk/3");let s=(()=>{class t{constructor(t){this.http=t}insertDraft(t){return this.http.post(Object(i.d)(),t)}markAsDraft(t,e){return this.http.put(Object(i.s)(e),null,{headers:{id:t}})}getFormsWithBody(t,e,n,a){return this.http.post(Object(i.m)(e,n,a),t)}getForms(t,e,n){return this.http.post(Object(i.m)(t,e,n),{})}getEvalForms(t,e){return this.http.get(Object(i.k)(t,e))}getSingleForm(t){return this.http.get(Object(i.r)(),{headers:{id:t}})}getSingleEvalForm(t){return this.http.get(Object(i.p)(),{headers:{id:t}})}getDirectEvalFormDetails(t){return this.http.get(Object(i.n)(),{headers:{id:t}})}updateFormCriterias(t,e){return this.http.put(Object(i.v)(),t,{headers:{id:e}})}getPatientEvalForms(t,e,n){return this.http.get(Object(i.l)(e,n),{headers:{id:t}})}getPatientDirectForms(t,e,n){return this.http.get(Object(i.j)(e,n),{headers:{id:t}})}insertForm(t){return this.http.post(Object(i.e)(),t)}getDrafts(t,e,n){return this.http.post(Object(i.o)(t,e,n),{})}getSingleEvalFormByActionItemId(t){return this.http.get(Object(i.q)(),{headers:{id:t}})}updateForm(t,e){return this.http.put(Object(i.u)(e),t)}saveDraft(t,e){return this.http.put(Object(i.t)(e),t)}removeForm(t){return this.http.delete(Object(i.f)(),{headers:{formId:t}})}cloneForm(t){return this.http.post(Object(i.c)(),{formId:t})}checkIfFormAlreadyAssigned(t){return this.http.get(Object(i.b)(t))}fetchFormActionItemsForPatient(t){return this.http.get(Object(i.h)(t))}fetchLastEvaluatedForms(t){return this.http.get(Object(i.i)(t))}assignOnDemandForm(t,e,n){let a=Object(i.a)(t,e);return n&&(a=`${a}?ownerId=${n}`),this.http.get(a)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"q+jA":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7Xlp");let a=(()=>{class t{}return t.SOURCE="source",t.SEARCH_KEY="search_key",t.FORM_ID="form_id",t.PARAMETER="parameter",t.FORM_NAME="form_name",t.ACTION_NAME="action_name",t.STATE="state",t.PATIENT_ID="patient_id",t.FORM_SEARCH="FORM_SEARCH",t.FORM_ACTION="FORM_ACTION",t.FORM_EVALUATED_VIEW="FORM_EVALUATED_VIEW",t})();var o=n("fXoL");let s=(()=>{class t extends i.a{constructor(){super()}formsSearchEvent(t,e){let n=this.getCommonProperties();n[a.SEARCH_KEY]=t,n[a.SOURCE]="forms",n[a.STATE]=e,this.logEvent(a.FORM_SEARCH,n)}formsActionEvent(t,e,n,i){let o=this.getCommonProperties();o[a.SOURCE]="forms",o[a.STATE]=n,o[a.FORM_ID]=t,o[a.ACTION_NAME]=i,o[a.FORM_NAME]=e,this.logEvent(a.FORM_ACTION,o)}evaluatedFormViewEvent(t,e,n){let i=this.getCommonProperties();i[a.SOURCE]="forms",i[a.FORM_ID]=t,i[a.PATIENT_ID]=e,i[a.FORM_NAME]=n,this.logEvent(a.FORM_EVALUATED_VIEW,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},q5r7:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("AytR"),a=n("fXoL"),o=n("tk/3");let s=(()=>{class t{constructor(t){this._http=t,this.rootUrl=i.g.url,this.letterNode=`${this.rootUrl}/v3/direct-mail/templates/letter/default`}create(t){return this._http.post(`${this.letterNode}/new`,t)}bulkUpload(t){return this._http.post(`${this.letterNode}/bulk-new`,t)}update(t){return this._http.put(`${this.letterNode}/update`,t)}delete(t){return this._http.delete(`${this.letterNode}/${t}`)}fetchDefaultLetterTemplates(){return this._http.get(`${this.letterNode}/list`)}fetchDefaultLetterTemplateById(t){return this._http.get(`${this.letterNode}/${t}`)}fetchAnnouncementLetterTemplate(t="en",e="announcement"){return this._http.get(`${this.rootUrl}/v3/direct-mail/templates/letter/list?searchKey=${e}&language=${t}`)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},qQcL:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("SP7D"),a=n("ds6q"),o=n("tyNb"),s=n("ubvD"),r=n("7Xlp"),c=n("BcC3"),l=n("4RGM"),d=n("fXoL");let u=(()=>{class t{constructor(){this.headerLeft="0";const t=s.a.getInjector();this.activatedRoute=t.get(o.a),this._applicationInsightsService=t.get(r.a),this._routeHelperService=t.get(i.a),this.unsubscribed=new a.Subject,this._applicationInsightsService.pageViewEvent(this.constructor.name,this.activatedRoute.snapshot._routerState.url),this.sidebarSub$=this._routeHelperService.isSidebarCollapsed().subscribe(t=>{this.sidebarCollapsed=t,this.resizeHeader()}),this.boundary=localStorage.getItem("loggedInUserBoundary");const e=localStorage.getItem("loggedInUserAssignedTenants");this.isAccessAcrossSubTenants=this.boundary==c.a.ACROSS_SUB_TENANTS,e&&this.isAccessAcrossSubTenants&&(this.selectedAssignedSubTenant=e.split(",")[0]),this.isAccessAcrossSubTenants||localStorage.setItem(l.a.REQUEST_TENANT_IDS,localStorage.getItem("loggedInTenant"))}resizeHeader(){this.headerLeft=this.sidebarCollapsed?"0":"150px"}ngOnDestroy(){this._applicationInsightsService.pageDestroyEvent(this.constructor.name,this.activatedRoute.snapshot._routerState.url),this.unsubscribed.next(),this.unsubscribed.complete(),this.sidebarSub$.unsubscribe(),this.isAccessAcrossSubTenants&&localStorage.getItem(l.a.REQUEST_TENANT_TEMP_IDS)&&localStorage.removeItem(l.a.REQUEST_TENANT_TEMP_IDS)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Lb({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})()},rbUg:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("bKRa"),a=n("tyNb"),o=n("UFn0"),s=n("5+WD"),r=n("ofXK"),c=n("3Pt+"),l=n("Dwgb"),d=n("7pIB"),u=n("SHZf"),p=n("KZX/"),h=n("icpI"),b=n("WoUL"),g=n("mUB+"),m=n("fXoL");let f=(()=>{class t{constructor(t){this.translationService=t,t.setLanguage()}}return t.\u0275mod=m.Pb({type:t}),t.\u0275inj=m.Ob({factory:function(e){return new(e||t)(m.bc(b.a))},providers:[l.a],imports:[[o.a,h.b,p.a,r.c,c.o,c.B,d.a,s.c,g.b,u.a.forRoot(),a.k,i.a]]}),t})()},rmZX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{formatHtml(t){return t.toLowerCase().startsWith("<html>")?t:`${`<html><head>${t}`.replace("<div","</head><body><div")}</body</html>`}beautifyDynamicValues(t,e,n){const i=new RegExp("{{PracticeColor}}","g"),a=new RegExp("{{PracticeLogoLink}}","g");return null==n&&(n="#a7c853"),null==t?void 0:t.replace(i,n).replace(a,e)}revertBackToRaw(t,e,n){null==n&&(n="#a7c853");const i=new RegExp(n,"g"),a=new RegExp(e,"g");return null==t?void 0:t.replace(i,"{{PracticeColor}}").replace(a,"{{PracticeLogoLink}}")}validateMergeVariables(t,e){const n=t.match(/{{(\w*)}}/g);if(null==n)return[];const i=n.map(t=>t.replace(/[{}]/g,""));console.log(i);const a=i.filter(t=>!e.includes(t));return console.log(a),a}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},rqHP:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("CLv8");class a{constructor(){this.secondaryInsured=!1,this.primaryInsuranceDetails=new i.a,this.secondaryInsuranceDetails=new i.a,this.tertiaryInsuranceDetails=new i.a}}},"s/pX":function(t,e,n){"use strict";n.d(e,"a",function(){return W});var i=n("fXoL"),a=n("cp0P"),o=n("nLCl"),s=n("IZEq"),r=n("x6g7"),c=n("i7mu"),l=n("FYUs"),d=n("FrsH"),u=n("qAZ0"),p=n("ofXK"),h=n("B+r4"),b=n("eHCX"),g=n("Ff2k"),m=n("JA5x"),f=n("ZyQt"),v=n("nJia"),S=n("OzZK"),T=n("RwU8"),C=n("C2AL"),E=n("FwiY"),I=n("Laz3"),M=n("dRHE");function y(t,e){1&t&&(i.Xb(0,"nz-tag",14),i.Xc(1," Custom Alert "),i.Wb())}function A(t,e){1&t&&(i.Xb(0,"nz-tag",15),i.Xc(1," Disabled "),i.Wb())}function _(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"div",16),i.Xb(2,"span",17),i.Xc(3),i.Wb(),i.Wb(),i.Ub()),2&t){const t=i.ic();i.Db(3),i.Zc(" ",t.rule.text," ")}}function D(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"div",18),i.Xb(2,"div",19),i.Xb(3,"div",20),i.Xb(4,"span",21),i.Xc(5),i.jc(6,"translate"),i.Wb(),i.Wb(),i.Xb(7,"div",20),i.Xb(8,"span",22),i.Xc(9),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(10,"div",23),i.Xb(11,"div",19),i.Xb(12,"div",20),i.Sb(13,"span",21),i.Wb(),i.Xb(14,"div",20),i.Xb(15,"span",17),i.Xc(16),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Ub()),2&t){const t=i.ic();i.Db(5),i.Zc(" ",i.kc(6,4,"ALERT.RULE_NAME")," "),i.Db(3),i.rc("nzTooltipTitle",null==t.rule?null:t.rule.name),i.Db(1),i.Zc(" ",null==t.rule?null:t.rule.name," "),i.Db(7),i.Zc(" ",t.updatedString," ")}}function z(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",24),i.ec("click",function(){return i.Lc(t),i.ic().editRule()}),i.Xb(1,"span",25),i.Xc(2),i.jc(3,"translate"),i.Wb(),i.Xb(4,"span",26),i.Sb(5,"i",27),i.Wb(),i.Wb()}2&t&&(i.Db(2),i.Zc(" ",i.kc(3,1,"COMMON.EDIT")," "))}let O=(()=>{class t{constructor(t){this._alertModalService=t,this.refreshRule=new i.n,this.text="When a patient\u2019s {PARAM_SIGN} is {CONDITION} the prescribed limit for {OCCURENCE} consecutive readings within {WITH_IN_DAYS} days."}ngOnInit(){this.rule.summaryType!=c.e.GENERAL&&(this.vitalSign=this.rule.criteria[0].paramType,this.condition=this.rule.criteria[0].condition,this.occurrence=this.rule.criteria[0].frequency.occurrence,this.withInDays=this.rule.criteria[0].frequency.withInDays,this.updatedString=this.text.replace("{PARAM_SIGN}",this.vitalSign).replace("{CONDITION}",this.condition).replace("{OCCURENCE}",this.occurrence.toString()).replace("{WITH_IN_DAYS}",this.withInDays.toString()))}editRule(){this._alertModalService.showAlertRuleCreateModal(this.rule.level,this.rule.patientId,"EDIT",this.rule).afterClose.subscribe(t=>{t&&this.refreshRule.emit()})}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(s.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["alert-summary-card"]],inputs:{rule:"rule"},outputs:{refreshRule:"refreshRule"},decls:25,vars:33,consts:[[3,"nzHoverable"],[1,"alert-card-priority-tag"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","4",1,"priority-container"],[1,"priority-tag",3,"nzColor"],["class","custom-alert-tag","nzColor","#8bc34a33",4,"ngIf"],["class","custom-alert-tag","nzColor","default",4,"ngIf"],["nz-col","","nzSpan","8"],["nz-col","","nzSpan","4",1,"date-container"],[1,"alert-date"],["nz-row","",1,"main-detail-container",3,"nzGutter"],[4,"ngIf"],["nz-col","","nzSpan","4",1,"view-btn-container"],["nz-button","","class","view-btn","nzType","primary",3,"click",4,"ngIf"],["nzColor","#8bc34a33",1,"custom-alert-tag"],["nzColor","default",1,"custom-alert-tag"],["nz-col","","nzSpan","20"],[1,"alert-message",2,"padding-left","8px"],["nz-col","","nzSpan","4"],[1,"detail-container"],["nz-row",""],[1,"detail-title"],["nz-tooltip","",1,"detail-value",3,"nzTooltipTitle"],["nz-col","","nzSpan","16"],["nz-button","","nzType","primary",1,"view-btn",3,"click"],[1,"btn-text"],[1,"view-btn-icon"],["nz-icon","","nzType","right-circle","nzTheme","fill"]],template:function(t,e){1&t&&(i.Xb(0,"nz-card",0),i.Sb(1,"span",1),i.jc(2,"alertPriorityColor"),i.Xb(3,"div",2),i.Xb(4,"div",3),i.Xb(5,"nz-tag",4),i.jc(6,"alertPriorityColor"),i.jc(7,"alertPriorityColor"),i.Xc(8),i.jc(9,"translate"),i.jc(10,"alertPriorityColor"),i.Wb(),i.Wb(),i.Xb(11,"div",3),i.Vc(12,y,2,0,"nz-tag",5),i.Wb(),i.Xb(13,"div",3),i.Vc(14,A,2,0,"nz-tag",6),i.Wb(),i.Sb(15,"div",7),i.Xb(16,"div",8),i.Xb(17,"span",9),i.Xc(18),i.jc(19,"date"),i.Wb(),i.Wb(),i.Wb(),i.Xb(20,"div",10),i.Vc(21,_,4,1,"ng-container",11),i.Vc(22,D,17,6,"ng-container",11),i.Xb(23,"div",12),i.Vc(24,z,6,3,"button",13),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.rc("nzHoverable",!0),i.Db(1),i.Sc("background",i.kc(2,17,null==e.rule?null:e.rule.priority)),i.Db(2),i.rc("nzGutter",64),i.Db(2),i.Sc("color",i.lc(6,19,null==e.rule?null:e.rule.priority,"TEXT_COLOR")),i.sc("nzColor",i.lc(7,22,null==e.rule?null:e.rule.priority,"TAG_BG")),i.Db(3),i.Zc(" ",i.kc(9,25,i.lc(10,27,null==e.rule?null:e.rule.priority,"TEXT"))," "),i.Db(4),i.rc("ngIf","GENERAL"!=e.rule.summaryType),i.Db(2),i.rc("ngIf",!e.rule.active),i.Db(4),i.Zc(" ",i.lc(19,30,null==e.rule?null:e.rule.updatedOn,"medium")," "),i.Db(2),i.rc("nzGutter",64),i.Db(1),i.rc("ngIf","GENERAL"==e.rule.summaryType),i.Db(1),i.rc("ngIf","GENERAL"!=e.rule.summaryType),i.Db(2),i.rc("ngIf","GENERAL"!=e.rule.summaryType))},directives:[m.a,h.c,h.a,f.a,p.q,v.d,S.a,T.a,C.a,E.a],pipes:[I.a,M.a,p.e],styles:[".priority-container[_ngcontent-%COMP%]{text-align:left;padding-left:40px!important}.date-container[_ngcontent-%COMP%]{text-align:center}.priority-indicator[_ngcontent-%COMP%]{width:5px;height:43px;background:#ff5151 0 0 no-repeat padding-box;border-radius:3px;opacity:1;position:absolute;padding:0}.priority-tag[_ngcontent-%COMP%]{color:#814646}.custom-alert-tag[_ngcontent-%COMP%]{color:var(--tertiary-color)}.detail-container[_ngcontent-%COMP%]{margin-left:12px}nz-card[_ngcontent-%COMP%]{border-radius:0;border-radius:10px 10px 10px 10px;width:100%}.view-btn[_ngcontent-%COMP%]{opacity:1}.view-btn-icon[_ngcontent-%COMP%]{opacity:1;margin-left:6px}.btn-text[_ngcontent-%COMP%]{opacity:1}.detail-title[_ngcontent-%COMP%]{height:19px;font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px;color:#888;display:inline-block;vertical-align:top;line-height:normal}.detail-title[_ngcontent-%COMP%], .detail-value[_ngcontent-%COMP%]{text-align:left;opacity:1;cursor:default}.detail-value[_ngcontent-%COMP%]{height:24px;font:normal normal 700 14px/23px Nunito;letter-spacing:-.36px;color:var(--light-black);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.main-detail-container[_ngcontent-%COMP%]{margin-top:14px}.alert-date[_ngcontent-%COMP%]{width:165px;text-align:left;font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px;color:#888;opacity:1;cursor:default}.view-btn-container[_ngcontent-%COMP%]{text-align:center}.alert-message[_ngcontent-%COMP%]{opacity:1}.alert-message[_ngcontent-%COMP%], .alert-value[_ngcontent-%COMP%]{text-align:left;letter-spacing:-.36px;cursor:default}.alert-value[_ngcontent-%COMP%]{color:#eb5858}.alert-type[_ngcontent-%COMP%]{text-align:left;letter-spacing:-.36px;color:var(--light-black);cursor:default}.alert-value-divider[_ngcontent-%COMP%]{height:20px;width:2px;background:var(--light-black);border-radius:10px}[_nghost-%COMP%]     .ant-card-hoverable:hover{box-shadow:3px 5px 5px #00000036;background:#f1f1f1 0 0 no-repeat padding-box}.alert-card-priority-tag[_ngcontent-%COMP%]{position:absolute;height:100%;width:8px;left:0;top:0;border-radius:10px 0 0 10px}[_nghost-%COMP%]     .ant-card-body{padding:15px}[_nghost-%COMP%]     .ant-btn-primary{color:#c6c6c6;background:#efefef;text-shadow:none;border:.5px solid transparent}[_nghost-%COMP%]     .ant-btn-primary:focus{color:#c6c6c6!important;background-color:#efefef!important;border:.5px solid transparent!important}"]}),t})();var N=n("QlLE");function P(t,e){if(1&t&&(i.Xb(0,"h3",7),i.Xc(1),i.Wb()),2&t){const t=i.ic();i.Db(1),i.Zc(" Active alerts for ",t.loggedInTenantName," ")}}function R(t,e){if(1&t){const t=i.Yb();i.Xb(0,"nz-list-item"),i.Xb(1,"alert-summary-card",9),i.ec("refreshRule",function(e){return i.Lc(t),i.ic(2).onAlertChange(e)}),i.Wb(),i.Wb()}if(2&t){const t=e.$implicit;i.Db(1),i.rc("rule",t)}}function X(t,e){if(1&t&&(i.Xb(0,"nz-list"),i.Vc(1,R,2,1,"nz-list-item",8),i.Wb()),2&t){const t=i.ic();i.Db(1),i.rc("ngForOf",t.rules)}}function L(t,e){if(1&t){const t=i.Yb();i.Xb(0,"button",12),i.ec("click",function(){return i.Lc(t),i.ic(2).createAlert()}),i.Xc(1,"Create Alert"),i.Wb()}}function w(t,e){if(1&t&&(i.Xb(0,"nz-empty",10),i.Vc(1,L,2,0,"ng-template",null,11,i.Wc),i.Wb()),2&t){const t=i.Ic(2);i.rc("nzNotFoundFooter",t)}}let W=(()=>{class t{constructor(t,e){this._alertService=t,this._alertModalService=e,this.patientId=null,this.patientName=null,this.level=c.c.TENANT_LEVEL,this.rules=new Array,this.refresh=new i.n,this.page=0,this.alertConfigs=new Map,this.fetchRules=()=>this._alertService.getAlertRule(c.c.TENANT_LEVEL,this.page),this.fetchPatientRules=()=>this._alertService.getAlertRule(c.c.PATIENT_LEVEL,this.page,this.patientId),this.loggedInUserRole=localStorage.getItem("loggedInUserRole"),this.loggedInTenantName=localStorage.getItem("loggedInTenantName"),this.isTenantAdmin=this.loggedInUserRole==o.a.TENANT_ADMIN}get allRules(){return this.rules}set allRules(t){t&&(this.rules=[...t])}ngOnDestroy(){}ngOnInit(){this.level==c.c.PATIENT_LEVEL&&this.init()}init(){this.loading=!0;let t=this.level==c.c.PATIENT_LEVEL?this.fetchPatientRules():this.fetchRules();Object(a.a)([t]).subscribe(t=>{let e=new Array;e.push(...t[0].result),this.processRules(e),this.loading=!1})}onSubTenantSelected(t){this.init()}processGeneralRules(t){let e=new Array;for(let i in t.configs)if(t.configs[i].enabled){var n=new c.a;if(n.active=!0,n.level=c.c.TENANT_LEVEL,n.summaryType=c.e.GENERAL,i==d.a.VITAL_LIMIT_CROSSED||i==d.a.TODO_TASK_SKIPPED)n.type=c.b.VITALS,n.text=i==d.a.VITAL_LIMIT_CROSSED?"When a patient\u2019s recorded vital is above or below the limit.":"When a patient skip a vital reading.";else if(i==d.a.CAREPLAN_ASSIGNED||i==d.a.CONSENT_SUBMITTED)n.type=c.b.MONITORING,n.text=i==d.a.CAREPLAN_ASSIGNED?"When a care plan has been assigned to the patient as part of any episode.":"When a consent form has been submitted by a patient for any episode.";else{if(i!=d.a.FORM_ALERT)continue;n.type=c.b.FORMS,n.text="When the patient\u2019s assessment score crosses the limit."}n.updatedOn=0==t.configs[i].updatedOn?t.updatedOn:t.configs[i].updatedOn,n.summaryType=c.e.GENERAL,n.priority=t.configs[i].priority,e.push(n)}return e}processRules(t){let e=t.filter(t=>t.active);this.rules=this.sortByPriority(e);let n=t.filter(t=>!t.active),i=this.sortByPriority(n);i.length>0&&this.rules.push(...i)}sortByPriority(t){let e=new Array;return new Array(l.a.VERY_HIGH,l.a.HIGH,l.a.MEDIUM,l.a.LOW,l.a.VERY_LOW).forEach(n=>{let i=t.filter(t=>t.priority==n);null!=i&&i.length>0&&e.push(...i)}),e}onAlertChange(t){this.refresh.emit(!0)}createAlert(){this._alertModalService.showAlertRuleCreateModal(this.level,this.patientId).afterClose.subscribe(t=>this.onAlertChange(null))}}return t.\u0275fac=function(e){return new(e||t)(i.Rb(r.a),i.Rb(s.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["alert-summary"]],inputs:{patientId:"patientId",loading:"loading",patientName:"patientName",level:"level",allRules:"allRules"},outputs:{refresh:"refresh"},decls:9,vars:5,consts:[["nzTip","Loading...",2,"min-height","50vh",3,"nzSpinning"],[3,"ngClass"],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","24"],["nz-typography","","class","title",4,"ngIf"],[4,"ngIf"],["nzNotFoundImage","https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",3,"nzNotFoundFooter",4,"ngIf"],["nz-typography","",1,"title"],[4,"ngFor","ngForOf"],[2,"width","100%",3,"rule","refreshRule"],["nzNotFoundImage","https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",3,"nzNotFoundFooter"],["footerTpl",""],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){1&t&&(i.Xb(0,"nz-spin",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Xb(3,"div",3),i.Vc(4,P,2,1,"h3",4),i.Wb(),i.Wb(),i.Xb(5,"div",2),i.Xb(6,"div",3),i.Vc(7,X,2,1,"nz-list",5),i.Vc(8,w,3,1,"nz-empty",6),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.rc("nzSpinning",e.loading),i.Db(1),i.rc("ngClass","PATIENT_LEVEL"!=e.level?"container spl-container":"container"),i.Db(3),i.rc("ngIf","PATIENT_LEVEL"!=e.level),i.Db(3),i.rc("ngIf",0!=e.rules.length),i.Db(1),i.rc("ngIf",!e.loading&&0==e.rules.length))},directives:[u.a,p.o,h.c,h.a,p.q,b.a,g.a,p.p,g.e,O,N.b,S.a,T.a,C.a],styles:["[_nghost-%COMP%]     .ant-list-item{padding:3px 0}.spl-container[_ngcontent-%COMP%]{padding-top:60px!important}.quick-action[_ngcontent-%COMP%]{padding:20px;height:100px;background:var(--neutral-color);width:100%;bottom:0;cursor:pointer}.icon-btn[_ngcontent-%COMP%], .quick-action[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-btn[_ngcontent-%COMP%]{width:50px;height:50px;background:#e9e9e9;border-radius:50%;flex-direction:column;margin:10px}.app-icon[_ngcontent-%COMP%]{margin-top:30%;margin-right:0}.right-btn[_ngcontent-%COMP%]{font-size:12px;margin-left:6px;color:var(--primary-color)}.create-alert-span[_ngcontent-%COMP%]{width:200px;display:flex;align-items:center}.title[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}"]}),t})()},sG7K:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("SxV6"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class t{constructor(t){this._http=t,this.rootUrl=`${i.g.url}/v3`}fetchVitalBlueprintsForTenant(t){let e=`${this.rootUrl}${i.g.api.getBlueprints}?state='ALL'`;return t&&(e=e+"&requestTenantIds="+t),this._http.get(e).pipe(Object(a.a)())}updateVitalBlueprint(t){return this._http.put(`${this.rootUrl}${i.g.api.getBlueprints}`,JSON.stringify(t)).pipe(Object(a.a)())}changeVitalBlueprintStatus(t){return this._http.patch(`${this.rootUrl}${i.g.api.getBlueprints}/${t}`,{}).pipe(Object(a.a)())}fetchVitalBlueprintById(t){return this._http.get(`${this.rootUrl}${i.g.api.getBlueprints}/${t}`).pipe(Object(a.a)())}}return t.\u0275fac=function(e){return new(e||t)(o.bc(s.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},sIYb:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL"),a=n("ZyQt");const o=["*"];let s=(()=>{class t{constructor(){this.select=new i.n}emitEvent(){this.select.emit({type:this.type,mode:this.mode})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-communication-action"]],inputs:{label:"label",mode:"mode",type:"type",selectedType:"selectedType"},outputs:{select:"select"},ngContentSelectors:o,decls:3,vars:3,consts:[[3,"nzColor","nzMode","click"]],template:function(t,e){1&t&&(i.qc(),i.Xb(0,"nz-tag",0),i.ec("click",function(){return e.emitEvent()}),i.pc(1),i.Xc(2),i.Wb()),2&t&&(i.rc("nzColor",e.type===e.selectedType?"green":null)("nzMode","default"),i.Db(2),i.Zc(" ",e.label,"\n"))},directives:[a.a],styles:[".ant-tag[_ngcontent-%COMP%]{width:100%;text-align:center;height:30px;border:1px solid var(--grey);border-radius:3px;font-size:10px;line-height:3;cursor:pointer;color:#000}.ant-tag-green[_ngcontent-%COMP%]{color:var(--neutral-color);background:var(--primary-color);border:1px solid var(--primary-color)}"]}),t})()},t2pg:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{transform(t){return localStorage.getItem(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"tenantName",type:t,pure:!0}),t})()},t6gT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.PATIENT_CONSENT="PATIENT_CONSENT",t.DEFAULT="DEFAULT",t.LEAD="LEAD",t.APPOINTMENT="APPOINTMENT",t}({})},tbdY:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"d",function(){return r});var i=function(t){return t.SMS="SMS",t.LETTER="LETTER",t.AUDIO_CALL="AUDIO_CALL",t}({}),a=function(t){return t.PENDING="PENDING",t.COMPLETED="COMPLETED",t.CANCELLED="CANCELLED",t.RESCHEDULED="RESCHEDULED",t}({}),o=function(t){return t.CALL_NOT_ANSWERED="CALL_NOT_ANSWERED",t.CALL_RESCHEDULED="CALL_RESCHEDULED",t.CALL_SCHEDULED="CALL_SCHEDULED",t.HARD_NO="HARD_NO",t.SOFT_NO="SOFT_NO",t.HARD_YES="HARD_YES",t.SOFT_YES="SOFT_YES",t.NOT_ELIGIBLE="NOT_ELIGIBLE",t.LETTER_SEND="LETTER_SEND",t.SMS_SEND="SMS_SEND",t}({}),s=function(t){return t.NEW="NEW",t.ELIGIBLE="ELIGIBLE",t.ACTIVE="ACTIVE",t.NOT_ELIGIBLE="NOT_ELIGIBLE",t.CONVERTED="CONVERTED",t.LOST="LOST",t.FLAGGED_FOR_ELIGIBILITY_RECHECK="FLAGGED_FOR_ELIGIBILITY_RECHECK",t}({});class r{static getLatestLeadFollowUp(t){return r.sortFollowUp(t.followUps)[0]}static getLatestCompletedLeadFollowUp(t){let e=t.followUps.filter(t=>t.status==a.COMPLETED);return r.sortFollowUp(e)[0]}static sortFollowUp(t){return t.sort((t,e)=>t.step>=e.step?-1:1)}}},tkii:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{constructor(){this.pdfreportEnabled=!1,this.careplanEnabled=!1,this.engagementEnabled=!1,this.pccEnabled=!1,this.leadsEnabled=!1}}},ua0i:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.RPM="RPM",t.CCM="CCM",t.TOC="TOC",t.HHA="HHA",t.HEALTH_SCORE="HEALTH_SCORE",t.GENERAL="GENERAL",t.BHI="BHI",t}({})},ubvD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});class i{static setInjector(t){this.injector||(i.injector=t)}static getInjector(){return i.injector}}},vDSh:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("EhJz"),a=n("NoME"),o=n("fXoL");let s=(()=>{class t{constructor(){this.twentyFourHoursInMillis=864e5,this.currentDate=new Date}transform(t,e="CURRENT_DAY"){if(!t)return!1;const n=new Date(new Date(t).setHours(23,59,59,999)+this.twentyFourHoursInMillis);let o=!1;switch(e){case"CURRENT_DAY":o=Object(i.a)(n,this.currentDate);break;case"TODAY":const e=new Date(t);o=e.getDate()===this.currentDate.getDate()&&e.getMonth()===this.currentDate.getMonth()&&e.getFullYear()===this.currentDate.getFullYear();break;case"MONTH":o=new Date(t).getMonth()===this.currentDate.getMonth()&&new Date(t).getFullYear()===this.currentDate.getFullYear();break;case"MONTH_OR_FUTURE":o=new Date(t).getMonth()>=this.currentDate.getMonth()&&new Date(t).getFullYear()>=this.currentDate.getFullYear();break;case"DAYS":return Object(a.a)(this.currentDate,new Date(t))}return o}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Qb({name:"dateCompare",type:t,pure:!0}),t})()},vduv:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("igu/"),a=n("fXoL");let o=(()=>{class t{constructor(t,e,n){this._dataSharingService=t,this._viewContainerRef=e,this._templateRef=n}set isTenantFeatureEnabled(t){let e;this._dataSharingService.assignedTenantSettings.subscribe(n=>{var i,a;(null==n?void 0:n.size)&&(null===(i=null==t?void 0:t.feature)||void 0===i?void 0:i.length)&&(e=n,null!=t&&null!=t?(null===(a=null==t?void 0:t.tenantId)||void 0===a?void 0:a.length)?this.checkIfPermitted(e,t.feature,t.tenantId):this.checkIfPermitted(e,t.feature):this.enableFeature())})}checkIfPermitted(t,e,n){let i=!1;if(null==n?void 0:n.length)i=this.userHasAccess(t.get(n),e);else for(let a of Array.from(t.entries()))if(this.userHasAccess(a[1],e)){i=!0;break}i?this.enableFeature():this.disableFeature()}userHasAccess(t,e){if(!e)return!1;let n=e.replaceAll("?","").split("."),i=t;return n.forEach(t=>i=!(!i||null==i[t])&&i[t]),i}enableFeature(){this._viewContainerRef.createEmbeddedView(this._templateRef)}disableFeature(){this._viewContainerRef.clear()}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(i.a),a.Rb(a.R),a.Rb(a.N))},t.\u0275dir=a.Mb({type:t,selectors:[["","isTenantFeatureEnabled",""]],inputs:{isTenantFeatureEnabled:"isTenantFeatureEnabled"}}),t})()},vj4F:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("/XTn"),a=n("fXoL");let o=(()=>{class t{constructor(){}getApplicableEpisodeStatuses(t){let e;switch(t){case i.a.ALL:e=null;break;case i.a.COMPLETED:case i.a.SUSPENDED:case i.a.PAUSED:case i.a.IN_PROGRESS:case i.a.PENDING_START:case i.a.SCHEDULED:e=[t];break;default:e=null}return e}getSelectedEpisodeStatus(t){let e;return e="object"==typeof t?(null==t?void 0:t.length)>1?i.a.ALL:t[0]:t,e}filterInvalidParamsForEpisodeStatus(t,e){return!t||"ALL_PATIENTS"!==e&&"NO_ACTIVE_EPISODES"!==e||(t=null),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},w0ih:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("Q+ul"),a=n("fXoL"),o=n("B+r4"),s=n("ofXK"),r=n("rMZv");function c(t,e){if(1&t&&(a.Xb(0,"tr",9),a.Xb(1,"td",13),a.Xc(2),a.Wb(),a.Xb(3,"td",14),a.Vb(4),a.Xc(5),a.Ub(),a.Wb(),a.Xb(6,"td",14),a.Vb(7),a.Xc(8),a.Ub(),a.Wb(),a.Wb()),2&t){const t=e.$implicit;a.Db(2),a.Zc(" ",null==t?null:t.label," "),a.Db(1),a.rc("nzAlign","center"),a.Db(2),a.Zc(" ",(null==t||null==t.globalLimit?null:t.globalLimit.minimum)||"Not Set"," "),a.Db(1),a.rc("nzAlign","center"),a.Db(2),a.Zc(" ",(null==t||null==t.globalLimit?null:t.globalLimit.maximum)||"Not Set"," ")}}const l=function(){return["16.5%","16.5%","16.5%"]};function d(t,e){if(1&t&&(a.Xb(0,"nz-table",7,8),a.Xb(2,"tr",9),a.Xb(3,"th",10),a.Xc(4,"Parameter"),a.Wb(),a.Xb(5,"th",11),a.Xc(6,"Min Limit"),a.Wb(),a.Xb(7,"th",11),a.Xc(8,"Max Limit"),a.Wb(),a.Wb(),a.Vc(9,c,9,5,"tr",12),a.Wb()),2&t){const t=a.Ic(1),e=a.ic();a.rc("nzData",null==e.vitalBlueprint?null:e.vitalBlueprint.parameters)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small")("nzNoResult",null)("nzWidthConfig",a.xc(10,l))("nzBordered",!1),a.Db(5),a.rc("nzAlign","center"),a.Db(2),a.rc("nzAlign","center"),a.Db(2),a.rc("ngForOf",null==t?null:t.data)}}function u(t,e){if(1&t&&(a.Xb(0,"tr",9),a.Xb(1,"td",13),a.Xc(2),a.Wb(),a.Xb(3,"td",14),a.Vb(4),a.Xc(5),a.Ub(),a.Wb(),a.Xb(6,"td",14),a.Vb(7),a.Xc(8),a.Ub(),a.Wb(),a.Wb()),2&t){const t=e.$implicit;a.Db(2),a.Zc(" ",null==t?null:t.label," "),a.Db(1),a.rc("nzAlign","center"),a.Db(2),a.Zc(" ",(null==t||null==t.limit?null:t.limit.minimum)||"Not Set"," "),a.Db(1),a.rc("nzAlign","center"),a.Db(2),a.Zc(" ",(null==t||null==t.limit?null:t.limit.maximum)||"Not Set"," ")}}function p(t,e){if(1&t&&(a.Xb(0,"nz-table",7,15),a.Xb(2,"tr",9),a.Xb(3,"th",10),a.Xc(4,"Parameter"),a.Wb(),a.Xb(5,"th",11),a.Xc(6,"Min Limit"),a.Wb(),a.Xb(7,"th",11),a.Xc(8,"Max Limit"),a.Wb(),a.Wb(),a.Vc(9,u,9,5,"tr",12),a.Wb()),2&t){const t=a.Ic(1),e=a.ic();a.rc("nzData",e.contexts)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small")("nzNoResult",null)("nzWidthConfig",a.xc(10,l))("nzBordered",!1),a.Db(5),a.rc("nzAlign","center"),a.Db(2),a.rc("nzAlign","center"),a.Db(2),a.rc("ngForOf",null==t?null:t.data)}}let h=(()=>{class t{ngOnInit(){var t,e,n;(null===(t=this.vitalBlueprint)||void 0===t?void 0:t.contexts)&&(this.contexts=null===(n=null===(e=this.vitalBlueprint)||void 0===e?void 0:e.contexts[0])||void 0===n?void 0:n.options)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Lb({type:t,selectors:[["app-global-limits"]],inputs:{vitalBlueprint:"vitalBlueprint"},decls:10,vars:2,consts:[[1,"header"],["nz-row",""],["nz-col","","nzSpan","10","id","reference-range"],[1,"reference-header"],["nz-col","","nzSpan","13"],["id","reference-sub-heading",1,"reference-header"],[3,"nzData","nzFrontPagination","nzShowPagination","nzSize","nzNoResult","nzWidthConfig","nzBordered",4,"ngIf"],[3,"nzData","nzFrontPagination","nzShowPagination","nzSize","nzNoResult","nzWidthConfig","nzBordered"],["limitsTable",""],[1,"data-headers"],[1,"clear-thead"],[1,"limits-head",3,"nzAlign"],["class","data-headers",4,"ngFor","ngForOf"],[1,"reference-td"],[1,"min-max-limit",3,"nzAlign"],["glucoseLimitsTable",""]],template:function(t,e){1&t&&(a.Xb(0,"div",0),a.Xb(1,"div",1),a.Xb(2,"div",2),a.Xb(3,"p",3),a.Xc(4,"Reference Range"),a.Wb(),a.Wb(),a.Xb(5,"div",4),a.Xb(6,"p",5),a.Xc(7,"For all patients"),a.Wb(),a.Wb(),a.Wb(),a.Vc(8,d,10,11,"nz-table",6),a.Vc(9,p,10,11,"nz-table",6),a.Wb()),2&t&&(a.Db(8),a.rc("ngIf","Blood Glucose"!=(null==e.vitalBlueprint?null:e.vitalBlueprint.label)),a.Db(1),a.rc("ngIf","Blood Glucose"==(null==e.vitalBlueprint?null:e.vitalBlueprint.label)))},directives:[o.c,o.a,s.q,r.f,r.o,r.e,r.l,r.a,s.p],styles:[".reference-header[_ngcontent-%COMP%]{color:#000;font-weight:700;padding-left:23px;padding-top:15px;font-size:15px}.reference-td[_ngcontent-%COMP%]{font-size:12px;padding-left:22px;color:#000;font-size:14px}#reference-sub-heading[_ngcontent-%COMP%]{text-align:center;padding-left:0}.clear-thead[_ngcontent-%COMP%]{padding-left:22px}.clear-thead[_ngcontent-%COMP%], .limits-head[_ngcontent-%COMP%]{background-color:transparent!important;color:#000;font-size:13px;font-weight:600}[_nghost-%COMP%]     .ant-table-thead>tr>th{height:30px!important}[_nghost-%COMP%]     .ant-table table{border-spacing:0!important}.header[_ngcontent-%COMP%]{background:var(--neutral-color);min-height:200px!important;border-radius:5px 0 0 5px;padding-top:14px;padding-bottom:14px}.min-max-limit[_ngcontent-%COMP%]{color:#000;font-weight:700}.data-headers[_ngcontent-%COMP%]{box-shadow:none!important}"]}),t})();function b(t,e){if(1&t&&(a.Xb(0,"tr",4),a.Xb(1,"td",5),a.Xc(2),a.Wb(),a.Xb(3,"td",5),a.Xc(4),a.Wb(),a.Wb()),2&t){const t=e.$implicit;a.Db(2),a.Zc(" ",null==t?null:t.min," "),a.Db(2),a.Zc(" ",null==t?null:t.max," ")}}function g(t,e){1&t&&(a.Xb(0,"table"),a.Xb(1,"tr",4),a.Xb(2,"td",8),a.Xc(3,"-"),a.Wb(),a.Wb(),a.Wb()),2&t&&(a.Db(2),a.rc("colSpan",2))}let m=(()=>{class t{ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Lb({type:t,selectors:[["app-individual-limits"]],inputs:{patientName:"patientName",individualLimits:"individualLimits",showGlucose:"showGlucose"},decls:12,vars:9,consts:[[1,"header"],[3,"ngClass"],[3,"nzNoResult","nzTitle","nzData","nzFrontPagination","nzShowPagination","nzSize","nzBordered"],["limitsTable",""],[1,"data-headers"],["nzAlign","center"],["class","data-headers",4,"ngFor","ngForOf"],["emptyData",""],["nzAlign","center",3,"colSpan"]],template:function(t,e){if(1&t&&(a.Xb(0,"div",0),a.Xb(1,"div",1),a.Xb(2,"nz-table",2,3),a.Xb(4,"tr",4),a.Xb(5,"td",5),a.Xc(6,"Min Limit"),a.Wb(),a.Xb(7,"td",5),a.Xc(8,"Max Limit"),a.Wb(),a.Wb(),a.Vc(9,b,5,2,"tr",6),a.Wb(),a.Wb(),a.Vc(10,g,4,1,"ng-template",null,7,a.Wc),a.Wb()),2&t){const t=a.Ic(3),n=a.Ic(11);a.Db(1),a.rc("ngClass",e.showGlucose?"card-height-data":"card-data"),a.Db(1),a.rc("nzNoResult",n)("nzTitle","For "+e.patientName)("nzData",e.individualLimits)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small")("nzBordered",!1),a.Db(7),a.rc("ngForOf",t.data)}},directives:[s.o,r.f,r.o,r.e,r.a,s.p],styles:[".card-data[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--neutral-color);padding-top:20px;padding-bottom:13px;min-height:200px}[_nghost-%COMP%]     .ant-table-title{color:var(--neutral-color);font-size:16px}.header[_ngcontent-%COMP%]{min-height:200px!important;border-radius:0 5px 5px 0;overflow:hidden}.card-height-data[_ngcontent-%COMP%]{height:200px;background-color:var(--primary-color);color:var(--neutral-color);padding-top:20px;padding-bottom:14px}[_nghost-%COMP%]     td{border-bottom:none!important;background-color:var(--primary-color);color:var(--neutral-color);font-weight:800;font-size:13px}[_nghost-%COMP%]     .ant-card-body{padding:0}[_nghost-%COMP%]     .ant-table table{border-spacing:0 5px!important}[_nghost-%COMP%]     .ant-table.ant-table-small{margin-top:5px;font-size:11px}[_nghost-%COMP%]     .ant-table.ant-table-small .ant-table-title{font-weight:700;text-align:center;padding:0}.data-headers[_ngcontent-%COMP%]{box-shadow:none!important}"]}),t})(),f=(()=>{class t{constructor(){}ngOnInit(){this.sortIndividualUserLimits()}ngOnChanges(){this.sortIndividualUserLimits()}sortIndividualUserLimits(){var t,e;let n=new i.a;if(n.label="-",n.max="-",n.min="-",this.sortedIndividualLimits=[],this.context)this.sortedIndividualLimits=this.individualLimits;else for(let i of null===(t=this.vitalBlueprint)||void 0===t?void 0:t.parameters){let t=null===(e=this.individualLimits)||void 0===e?void 0:e.filter(t=>t.label===i.type);t=(null==t?void 0:t.length)>0?t:[n],this.sortedIndividualLimits.push(...t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Lb({type:t,selectors:[["app-global-and-individual-limits"]],inputs:{vitalBlueprint:"vitalBlueprint",patientName:"patientName",individualLimits:"individualLimits",context:"context",showGlucose:"showGlucose"},features:[a.Bb],decls:5,vars:4,consts:[["nz-row",""],["nz-col","","nzFlex","6"],[3,"vitalBlueprint"],["nz-col","","nzFlex","4"],[3,"patientName","individualLimits","showGlucose"]],template:function(t,e){1&t&&(a.Xb(0,"div",0),a.Xb(1,"div",1),a.Sb(2,"app-global-limits",2),a.Wb(),a.Xb(3,"div",3),a.Sb(4,"app-individual-limits",4),a.Wb(),a.Wb()),2&t&&(a.Db(2),a.rc("vitalBlueprint",e.vitalBlueprint),a.Db(2),a.rc("patientName",e.patientName)("individualLimits",e.sortedIndividualLimits)("showGlucose",e.showGlucose))},directives:[o.c,o.a,h,m],styles:[""]}),t})()},wb4W:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL");let a=(()=>{class t{replacer(t,e){return e instanceof Map?{dataType:"Map",value:Array.from(e.entries())}:e}reviver(t,e){return"object"==typeof e&&null!==e&&"Map"===e.dataType?new Map(e.value):e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var o=n("igu/");let s=(()=>{class t{constructor(t,e){this._mapUtils=t,this._dataSharingService=e,this.getCount=()=>this.getTimeTrackingNoteDrafts().size,this.generateDraftId=()=>(new Date).getTime()*Math.random()*123456}getTimeTrackingNoteDrafts(){var e=localStorage.getItem(t.TIME_TRACKING_NOTES);return e?JSON.parse(e,this._mapUtils.reviver):new Map}processTimeTrackingNotes(){var t=new Array;return this.getTimeTrackingNoteDrafts().forEach((e,n)=>t.push(JSON.parse(e))),t}removeTimeTrackingNotes(e){var n=localStorage.getItem(t.TIME_TRACKING_NOTES);if(n){var i=JSON.parse(n,this._mapUtils.reviver);i.delete(e),0==i.size&&localStorage.removeItem(t.TIME_TRACKING_NOTES);var a=JSON.stringify(i,this._mapUtils.replacer);localStorage.setItem(t.TIME_TRACKING_NOTES,a),this._dataSharingService.triggerDraftRefresh()}}updateDraft(e){var n=this.getTimeTrackingNoteDrafts();n.set(e.patientId,JSON.stringify(e));var i=JSON.stringify(n,this._mapUtils.replacer);localStorage.setItem(t.TIME_TRACKING_NOTES,i),this._dataSharingService.triggerDraftRefresh()}}return t.TIME_TRACKING_NOTES="time_tracking_notes",t.\u0275fac=function(e){return new(e||t)(i.bc(a),i.bc(o.a))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},wjar:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{constructor(){this.cursor="pointer"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Mb({type:t,selectors:[["","actionable",""]],hostVars:2,hostBindings:function(t,e){2&t&&i.Sc("cursor",e.cursor)}}),t})()},wsR7:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{constructor(){this.vitalsMap=new Map([["BLOOD_PRESSURE","Blood Pressure"],["SPO2","SpO2"],["WEIGHT","Weight"],["HEART_RATE","Heart Rate"],["BLOOD_GLUCOSE","Blood Glucose"],["RESPIRATIONS","Respiratory Rate"],["RESPIRATION","Respiratory Rate"],["IRREGULAR_HEARTBEAT","IHB"],["SYSTOLIC","Systolic"],["DIASTOLIC","Diastolic"],["PULSE_PRESSURE","Pulse Pressure"],["HEARTRATE","Heart Rate"],["SPO2","SpO2"],["GLUCOSE","Blood Glucose"],["HEART_RATE_VARIABILITY","Heart Rate Variability"],["WEIGHT","Weight"]])}transform(t){return t?this.vitalsMap.get(t)||t:"N/A"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"vitalName",type:t,pure:!0}),t})()},x6g7:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("IEkc"),a=n("XNiG"),o=n("AytR"),s=n("i7mu"),r=n("fXoL"),c=n("tk/3");let l=(()=>{class t{constructor(t,e){this._http=t,this._staffSessionPingService=e,this.rootUrl=o.g.url,this.alertBaseUrl=this.rootUrl+"/v3/alerts/",this.alertRuleBaseUrl=this.alertBaseUrl+"prioritise",this.alertConfigBaseUrl=this.alertBaseUrl+"config",this.notify=new a.a,this.notifyObservable$=this.notify.asObservable()}fetchAlerts(t,e=!1){let n=this.alertBaseUrl;return n+=e?`count?offset=${t.offset}&limit=${t.limit}`:`?offset=${t.offset}&limit=${t.limit}`,t.patientId&&null!=t.patientId&&(n=`${n}&patientId=${t.patientId}`),t.status&&null!=t.status&&(n=`${n}&status=${t.status}`),t.priorities&&null!=t.priorities&&(n=`${n}&priorities=${t.priorities}`),t.direction&&null!=t.direction&&(n=`${n}&sortOrder=${t.direction}`),t.countType&&null!=t.countType&&(n=`${n}&countType=${t.countType}`),n=`${n}&patientType=${t.patientType}`,this._http.get(n)}getAlertDetail(t){return this._http.get(this.alertBaseUrl+t)}closeAlert(t,e=""){const n={remark:e};let i=this.alertBaseUrl+t;return this._staffSessionPingService.updateStaffSession({type:"ALERT_CLOSED",value:Object.assign(Object.assign({},n),{alertId:t})}),this._http.put(i,n)}closeAllAlerts(){let t=this.alertBaseUrl+"markAll";return this._staffSessionPingService.updateStaffSession({type:"BULK_ALERT_CLOSED"}),this._http.put(t,null)}emailEscalate(t,e){return this._http.put(this.alertBaseUrl+"escalate/email/"+t,{emails:e})}saveAlertRule(t){return this._http.post(this.alertRuleBaseUrl+"/setup/rule",t)}updateAlertRule(t){return this._http.put(this.alertRuleBaseUrl+"/update/rule",t)}getAlertRule(t,e=0,n,i=s.b.VITALS,a=50,o){let r=this.alertRuleBaseUrl+`/rules/${t}?limit=${a}&offset=${e}`;return i&&(r+=`&ruleType=${i}`),t==s.c.PATIENT_LEVEL&&null!=n&&null!=n&&(r+=`&patientId=${n}`),o&&(r+=`&search=${o}`),this._http.get(r)}saveAlertConfigs(t){return this._http.post(this.alertConfigBaseUrl,t)}getAlertConfig(t="All"){return this._http.get(this.alertConfigBaseUrl+"?assignedTenants="+t)}notifyChildren(t){t&&this.notify.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.bc(c.c),r.bc(i.a))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},xYn2:function(t,e,n){"use strict";n.d(e,"a",function(){return T});var i=n("mrSG"),a=n("fXoL"),o=n("/KA4"),s=n("ofXK"),r=n("B+r4"),c=n("IvDN"),l=n("nJia"),d=n("eHCX"),u=n("OzZK"),p=n("C2AL"),h=n("ZyQt");function b(t,e){if(1&t&&(a.Xb(0,"div",10),a.Sb(1,"img",11),a.Wb()),2&t){const t=a.ic();a.Db(1),a.sc("nzTooltipTitle",t.tooltipContent)}}function g(t,e){if(1&t&&(a.Xb(0,"div",12),a.Xc(1),a.jc(2,"date"),a.Xb(3,"strong"),a.Xc(4),a.jc(5,"date"),a.Wb(),a.Wb()),2&t){const t=a.ic();a.Db(1),a.ad(" Notes added ",null!=t.note&&t.note.appointmentStartDate?"for Appointment on "+a.lc(2,3,null==t.note?null:t.note.appointmentStartDate,"medium"):""," by ",null==t.note?null:t.note.addedByFullName," | "),a.Db(3),a.Yc(a.lc(5,6,null==t.note?null:t.note.createdOn,"medium"))}}function m(t,e){if(1&t){const t=a.Yb();a.Xb(0,"button",13),a.ec("click",function(){a.Lc(t);const e=a.ic();return e.editNote(e.note)}),a.Xc(1,"Edit Note"),a.Wb()}}function f(t,e){1&t&&(a.Xb(0,"p",14),a.Xb(1,"strong"),a.Xc(2,"Edit History: "),a.Wb(),a.Wb())}function v(t,e){if(1&t&&(a.Xc(0," Note edited on "),a.Xb(1,"strong"),a.Xc(2),a.jc(3,"date"),a.Wb(),a.Xc(4," by "),a.Xb(5,"strong"),a.Xc(6),a.Wb(),a.Xc(7," because: "),a.Xb(8,"strong"),a.Xc(9),a.Wb()),2&t){const t=a.ic().$implicit;a.Db(2),a.Yc(a.lc(3,3,(null==t?null:t.changedAt)+"Z","medium")),a.Db(4),a.Yc(null==t?null:t.contextText),a.Db(3),a.Yc(null==t?null:t.reason)}}function S(t,e){if(1&t&&(a.Xb(0,"nz-collapse-panel",15),a.Xb(1,"div",16),a.Xb(2,"div",17),a.Xb(3,"nz-tag",18),a.Sb(4,"pre",1),a.Wb(),a.Wb(),a.Xb(5,"div",5),a.Xc(6," to "),a.Wb(),a.Xb(7,"div",17),a.Xb(8,"nz-tag",19),a.Sb(9,"pre",1),a.Wb(),a.Wb(),a.Wb(),a.Vc(10,v,10,6,"ng-template",null,20,a.Wc),a.Wb()),2&t){const t=e.$implicit,n=a.Ic(11);a.rc("nzHeader",n),a.Db(4),a.rc("innerHTML",null==t?null:t.previousContent,a.Mc),a.Db(5),a.rc("innerHTML",null==t?null:t.currentContent,a.Mc)}}let T=(()=>{class t{constructor(){this.hideEdit=!1,this.hideFooter=!1,this.edit=new a.n}ngOnInit(){}editNote(t){this.edit.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Lb({type:t,selectors:[["app-note-timeline-item"]],inputs:{note:"note",hideEdit:"hideEdit",hideFooter:"hideFooter"},outputs:{edit:"edit"},decls:11,vars:6,consts:[[1,"current-note"],[3,"innerHTML"],["class","important-note",4,"ngIf"],["nz-row","","nzGutter","16","nzAlign","middle",2,"margin-bottom","8px"],["nz-col","","class","note-footer","nz-typography","","nzType","secondary",4,"ngIf"],["nz-col",""],["nz-button","","nzType","link",3,"click",4,"ngIf"],["style","margin-bottom: 0px !important;",4,"ngIf"],["nzGhost",""],[3,"nzHeader",4,"ngFor","ngForOf"],[1,"important-note"],["src","../../../../../../assets/images/star.png","nzTooltipPlacement","rightBottom","nz-tooltip","",1,"star",3,"nzTooltipTitle"],["nz-col","","nz-typography","","nzType","secondary",1,"note-footer"],["nz-button","","nzType","link",3,"click"],[2,"margin-bottom","0px !important"],[3,"nzHeader"],["nz-row","","nzGutter","16"],["nz-col","","nzFlex","1"],["nzColor","error",1,"change-tag"],["nzColor","success",1,"change-tag"],["headerTitle",""]],template:function(t,e){1&t&&(a.Xb(0,"div"),a.Xb(1,"div",0),a.Sb(2,"pre",1),a.Vc(3,b,2,1,"div",2),a.Wb(),a.Xb(4,"div",3),a.Vc(5,g,6,9,"div",4),a.Xb(6,"div",5),a.Vc(7,m,2,0,"button",6),a.Wb(),a.Wb(),a.Vc(8,f,3,0,"p",7),a.Xb(9,"nz-collapse",8),a.Vc(10,S,12,3,"nz-collapse-panel",9),a.Wb(),a.Wb()),2&t&&(a.Db(2),a.rc("innerHTML",null==e.note?null:e.note.content,a.Mc),a.Db(1),a.rc("ngIf","IMPORTANT"==(null==e.note?null:e.note.priority.level)),a.Db(2),a.rc("ngIf",!e.hideFooter),a.Db(2),a.rc("ngIf",!e.hideEdit),a.Db(1),a.rc("ngIf",e.note.noteChangeHistory),a.Db(2),a.rc("ngForOf",null==e.note.noteChangeHistory?null:e.note.noteChangeHistory.slice().reverse()))},directives:[s.q,r.c,r.a,c.a,s.p,l.d,d.a,u.a,p.a,c.c,h.a],pipes:[s.e],styles:["pre[_ngcontent-%COMP%]{font-size:14px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;font-family:Nunito}.note-footer[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0!important}.h-100[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]     .ant-tabs-content-holder{padding-top:16px;height:100%;overflow-y:scroll}[_nghost-%COMP%]     .ant-tabs-tab{height:48px!important}.change-tag[_ngcontent-%COMP%]{width:100%;padding-top:8px}.star[_ngcontent-%COMP%]{width:16px;height:16px;margin-left:10px;margin-bottom:1px}.current-note[_ngcontent-%COMP%]{display:flex}"]}),Object(i.b)([Object(o.a)(),Object(i.c)("design:type",Boolean)],t.prototype,"hideEdit",void 0),Object(i.b)([Object(o.a)(),Object(i.c)("design:type",Boolean)],t.prototype,"hideFooter",void 0),t})()},xhqf:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{transform(t){let e,n=null;if(!t||!t.context)return"N/A";try{const i=JSON.parse(t.context);return e=i[Object.keys(i)[0]],n=JSON.parse(e),n.label}catch(i){}return e&&(e=e.trim()),e||"N/A"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"vitalContext",type:t,pure:!0}),t})()},xnfs:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=function(t){return t.SMS="SMS",t.MMS="MMS",t}({});class a{constructor(){this.messageType=i.SMS}}},yWgs:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL");let a=(()=>{class t{decodeToken(t){const e=JSON.parse(atob(null==t?void 0:t.split(".")[1]));return delete Object.assign(e,{userId:e.sub}).sub,e}parseJwt(t){var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(e).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},yffR:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("tk/3"),a=n("AytR"),o=n("fXoL");let s=(()=>{class t{constructor(t){this._http=t,this.rootUrl=a.g.url,this.letterNode=`${this.rootUrl}/v3/direct-mail/templates/letter`,this.sentLetterNode=`${this.rootUrl}/v3/direct-mail/letters`,this.retryLetterNode=`${this.rootUrl}/v3/direct-mail/mail/retry`}create(t){return this._http.post(`${this.letterNode}/new`,t)}update(t){return this._http.put(`${this.letterNode}/update`,t)}delete(t){return this._http.delete(`${this.letterNode}/${t}`)}fetchLetterTemplates(t,e=0,n=10){const a=`${this.letterNode}/list`,o={pageNumber:e,limit:n,searchKey:t};let s=new i.h;return Object.keys(o).forEach(t=>o[t]&&(s=s.append(t,o[t]))),this._http.get(a,{params:s})}fetchLetterTemplateById(t){return this._http.get(`${this.letterNode}/${t}`)}fetchLetterTemplateByTypeAndLanguage(t,e){const n=`${this.letterNode}`,a={type:t,language:e};let o=new i.h;return Object.keys(a).forEach(t=>a[t]&&(o=o.append(t,a[t]))),this._http.get(n,{params:o})}fetchLetterTemplateByType(t){const e=`${this.letterNode}`,n={type:t};let a=new i.h;return Object.keys(n).forEach(t=>n[t]&&(a=a.append(t,n[t]))),this._http.get(e,{params:a})}fetchSentLetter(t,e=0,n=10,a=!1){const o=`${this.sentLetterNode}/`,s={pageNumber:e,limit:n,searchKey:t,onlyError:a};let r=new i.h;return Object.keys(s).forEach(t=>s[t]&&(r=r.append(t,s[t]))),this._http.get(o,{params:r})}fetchAllLetterTemplates(){return this._http.get(`${this.rootUrl}/v3/direct-mail/templates/letter/list`)}retryLetterQueue(t){return this._http.post(`${this.retryLetterNode}/${t}`,{})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(i.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},yob6:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7Xlp");let a=(()=>{class t{}return t.SOURCE="source",t.SEARCH_KEY="search_key",t.ID="id",t.PATIENT_ID="patient_id",t.PARAMETER="parameter",t.ACTION_NAME="action_name",t.STATE="state",t.LINK="link",t.LEAD_LINK_FETCH="LEAD_LINK_FETCH",t.LEAD_ACTION="LEAD_ACTION",t.LEAD_SEARCH="LEAD_SEARCH",t.LEAD_CONVERT_TO_PATIENT="LEAD_CONVERT_TO_PATIENT",t})();var o=n("fXoL");let s=(()=>{class t extends i.a{constructor(){super(),this.SOURCE="leads"}leadsActionEvent(t,e){let n=this.getCommonProperties();n[a.SOURCE]=this.SOURCE,n[a.ID]=t,n[a.ACTION_NAME]=e,this.logEvent(a.LEAD_ACTION,n)}convertLeadsToPatientEvent(t,e){let n=this.getCommonProperties();n[a.PATIENT_ID]=t,n[a.ID]=e,this.logEvent(a.LEAD_CONVERT_TO_PATIENT,n)}leadsSearchEvent(t){let e=this.getCommonProperties();e[a.SEARCH_KEY]=t,e[a.SOURCE]=this.SOURCE,this.logEvent(a.LEAD_SEARCH,e)}leadsLinkFetchEvent(t){let e=this.getCommonProperties();e[a.SOURCE]=this.SOURCE,e[a.LINK]=t,this.logEvent(a.LEAD_LINK_FETCH,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},zUnb:function(t,e,n){"use strict";n.r(e);var i=n("jhN1"),a=n("Y+n1"),o=n("ZlwT");n("kiQV");const s="https://stage.cooeyhealth.com";var r=n("4Ign"),c=n("fXoL");let l=(()=>{class t{constructor(t){this._routeReuseHelperService=t,this.nonStorableRoutes=["login","logout","video-call/:patientId","video-call/:id"]}shouldDetach(t){return this.isStorableRoute(t)}store(t,e){this.isStorableRoute(t)&&this._routeReuseHelperService.getStoredRoutes().set(t.url.join("/")||t.parent.url.join("/"),e)}shouldAttach(t){if(this.isStorableRoute(t))return!!this._routeReuseHelperService.getStoredRoutes().get(t.url.join("/")||t.parent.url.join("/"))}retrieve(t){if(this.isStorableRoute(t))return this._routeReuseHelperService.getStoredRoutes().get(t.url.join("/")||t.parent.url.join("/"))}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}isStorableRoute(t){if(!t.routeConfig)return null;if(t.routeConfig.loadChildren)return null;if(navigator.webdriver)return null;const e=t.routeConfig.path||"";return this.nonStorableRoutes.findIndex(t=>t===e)>-1?(this._routeReuseHelperService.clearAllStoredRoutes(),!1):t.data&&t.data.retainState}}return t.\u0275fac=function(e){return new(e||t)(c.bc(r.a))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac}),t})();var d=n("tyNb"),u=n("bnsq"),p=n("tk/3"),h=n("ofXK"),b=n("3Pt+"),g=n("KZX/"),m=n("SHZf"),f=n("UFn0");let v=(()=>{class t{}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(e){return new(e||t)},imports:[[h.c,f.a,b.o,g.a,m.a]]}),t})();var S=n("IEkc"),T=n("R0Ic"),C=n("igu/");class E{}var I=n("wb4W"),M=n("OE57"),y=n("M34a"),A=n("piIK"),_=n("QBjw"),D=n("c/Vb"),z=n("ighe"),O=n("/XTn"),N=n("OTIt"),P=n("IKCb"),R=n("cnAw"),X=n("ZPfs"),L=n("r0o6"),w=n("FWPb"),W=n("geco"),k=n("dEAy"),V=n("bNXi"),x=n("eHCX"),U=n("5vDB"),F=n("B+r4"),H=n("EGpF"),B=n("OzZK"),j=n("RwU8"),G=n("C2AL"),Y=n("zAKX"),$=n("rMZv"),q=n("QlLE"),Z=n("dRHE");function Q(t,e){if(1&t&&c.Sb(0,"nz-option",15),2&t){const t=e.$implicit,n=c.ic(3);c.sc("nzValue",t.episodeType),c.rc("nzLabel",n.episodeTypeBlueprintMap.get(t.episodeType).name)}}function K(t,e){if(1&t){const t=c.Yb();c.Xb(0,"tr"),c.Xb(1,"td",20),c.ec("nzCheckedChange",function(n){c.Lc(t);const i=e.$implicit;return c.ic(4).onItemChecked(i,n)}),c.Wb(),c.Xb(2,"td"),c.Xc(3),c.Wb(),c.Xb(4,"td"),c.Xc(5),c.jc(6,"date"),c.Wb(),c.Wb()}if(2&t){const t=e.$implicit,n=c.ic(4);c.Db(1),c.rc("nzChecked",n.setOfCheckedId.has(t.id))("nzDisabled",t.disabled),c.Db(2),c.Yc((null==t?null:t.attenderName)||"N/A"),c.Db(2),c.Yc(c.lc(6,4,null==t||null==t.schedule?null:t.schedule.startDate,"medium"))}}function J(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",16),c.Xb(2,"div",12),c.Xb(3,"p",6),c.Xc(4," Choose from the below list of appointments to complete one: "),c.Wb(),c.Xb(5,"nz-table",17,18),c.Xb(7,"thead"),c.Xb(8,"tr"),c.Sb(9,"th"),c.Xb(10,"th"),c.Xc(11),c.jc(12,"translate"),c.Wb(),c.Xb(13,"th"),c.Xc(14),c.jc(15,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(16,"tbody"),c.Vc(17,K,7,7,"tr",19),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ub()),2&t){const t=c.Ic(6),e=c.ic(3),n=c.Ic(2);c.Db(5),c.rc("nzData",null==e.upcomingAppointments?null:e.upcomingAppointments.result)("nzLoading",e.appointmentLoading)("nzShowPagination",!1)("nzNoResult",n),c.Db(6),c.Yc(c.kc(12,7,"TABLEHEADER.ASSIGNEDTO")),c.Db(3),c.Yc(c.kc(15,9,"COMMON.DATE_TIME")),c.Db(3),c.rc("ngForOf",t.data)}}function tt(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"div",4),c.Xb(2,"div",12),c.Xb(3,"nz-select",13),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic(2).episodeType=e}),c.Vc(4,Q,1,2,"nz-option",14),c.Wb(),c.Wb(),c.Wb(),c.Vc(5,J,18,11,"ng-container",9),c.Ub()}if(2&t){const t=c.ic(2);c.Db(3),c.rc("ngModel",t.episodeType)("nzLoading",t.episodeLoading),c.Db(1),c.rc("ngForOf",t.activeEpisodes),c.Db(1),c.rc("ngIf",!t.isAppointmentIdPassed)}}function et(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",2),c.Xb(1,"h4",3),c.Xc(2),c.Wb(),c.Sb(3,"nz-divider"),c.Xb(4,"div",4),c.Xb(5,"div",5),c.Xb(6,"p",6),c.Xc(7," Do you want to add time spent towards any Episode? "),c.Wb(),c.Wb(),c.Xb(8,"div",7),c.Xb(9,"nz-switch",8),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().addToEpisode=e}),c.Wb(),c.Wb(),c.Wb(),c.Vc(10,tt,6,4,"ng-container",9),c.Vb(11),c.Xb(12,"div",4),c.Xb(13,"div",10),c.Sb(14,"nz-divider"),c.Xb(15,"button",11),c.ec("click",function(){return c.Lc(t),c.ic().proceed()}),c.Xc(16,"Proceed"),c.Wb(),c.Wb(),c.Wb(),c.Ub(),c.Wb()}if(2&t){const t=c.ic();c.Db(2),c.Zc("Do you want to add time spent towards ",(null==t.episodeNoteTypeMap?null:t.episodeNoteTypeMap.get(t.episodeType))||"CMT","?"),c.Db(7),c.rc("ngModel",t.addToEpisode),c.Db(1),c.rc("ngIf",t.addToEpisode),c.Db(5),c.rc("disabled",t.episodeLoading||t.appointmentLoading)}}function nt(t,e){1&t&&(c.Xb(0,"span"),c.Xc(1," No Appointments Scheduled "),c.Wb())}function it(t,e){if(1&t&&(c.Xb(0,"nz-empty",21),c.Vc(1,nt,2,0,"ng-template",null,22,c.Wc),c.Wb()),2&t){const t=c.Ic(2);c.rc("nzNotFoundContent",t)}}let at=(()=>{class t{constructor(t,e,n,i,a,o,s,r,c){this._router=t,this._modalRef=e,this._modalService=n,this._patientsService=i,this._episodesService=a,this._dataSharingService=o,this._appointmentsService=s,this._notificationService=r,this._patientCommunicationModalService=c,this.bypassEpisodeSelection=!1,this.checked=!1,this.indeterminate=!1,this.dateRange=[],this.addToEpisode=!0,this.setOfCheckedId=new Set,this.isAppointmentIdPassed=!1,this.activeEpisodes=new Array,this.activeEpisodeMap=new Map,this.episodeTypeBlueprintMap=new Map,this.upcomingAppointments=new _.a,this.note="",this.episodeNoteTypeMap=new Map([["RPM","TMS"],["GENERAL","CMT"],["BHI","CMT"],["CCM","CMT"],["TOC","CMT"]])}ngOnInit(){this.getUserDetails(),this._dataSharingService.tenantSettings.subscribe(t=>{t&&(this.tenantSettings=t,t.episodeBlueprints.filter(t=>!t.archived).forEach(t=>this.episodeTypeBlueprintMap.set(t.type,t)))}),this.getPatientActiveEpisodes(),this.appointmentId?(this.isAppointmentIdPassed=!0,this.episodeId&&(this.bypassEpisodeSelection=!0,this.getEpisodeDetailsAndProceed())):this.getUpcomingAppointments(),this.staffId&&(this.staffIdPassed=!0)}getUserDetails(){this._patientsService.fetchPatientById(this.patientId).subscribe(t=>this.patient=t)}getEpisodeDetailsAndProceed(){this._episodesService.fetchEpisode(this.episodeId).subscribe(t=>{this.episodeType=null==t?void 0:t.episodeType,this._modalRef.close(),this.showTMSPopup()})}onBlueprintChange(t){}getPatientActiveEpisodes(){this.episodeLoading=!0,this._episodesService.fetchActiveEpisodes(this.patientId,-1,0,null,[O.a.SCHEDULED,O.a.IN_PROGRESS]).subscribe(t=>{var e;if((null==t?void 0:t.totalCount)>0&&(this.activeEpisodes=t.result,this.activeEpisodes.forEach(t=>this.activeEpisodeMap.set(t.episodeType,t)),this.activeEpisodes.length))if(this.episodeId){const t=null===(e=this.activeEpisodes)||void 0===e?void 0:e.find(t=>this.episodeId===(null==t?void 0:t.id));t&&(this.episodeType=null==t?void 0:t.episodeType)}else this.episodeType=this.activeEpisodes[0].episodeType,this.episodeId=this.activeEpisodes[0].id;this.episodeLoading=!1})}onItemChecked(t,e){this.staffId=t.attenderId,this.updateCheckedSet(t.id,e)}updateCheckedSet(t,e){e?(this.setOfCheckedId.clear(),this.setOfCheckedId.add(t),this.appointmentId=t):(this.setOfCheckedId.delete(t),this.appointmentId=void 0)}getUpcomingAppointments(){var t,e;let n,i;this.appointmentLoading=!0,n=null===(t=Object(y.a)(new Date))||void 0===t?void 0:t.getTime(),i=null===(e=Object(A.a)(new Date))||void 0===e?void 0:e.getTime(),this._appointmentsService.fetchUpcomingAppointments(0,n,i,void 0,"null",null,this.patientId).subscribe(t=>{this.upcomingAppointments=t,this.setOfCheckedId.clear(),this.upcomingAppointments.result&&this.upcomingAppointments.result.length>0&&this.onItemChecked(this.upcomingAppointments.result[0],!0),this.appointmentLoading=!1})}proceed(){if(!this.addToEpisode)return this._modalRef.close(),void this.setNoteAndCompleteAppointment();this._modalRef.close(),this.showTMSPopup()}setNoteAndCompleteAppointment(){this.note=this.stickyNote,this.completeAppointment()}showTMSPopup(){switch(this.episodeType){case"CCM":this.showCMTForCCM();break;case"RPM":this.showTMSforRPM();break;case"GENERAL":this.showCMTforGeneral();break;case"TOC":this.onToCCMTClick()}}showCMTforGeneral(){var t,e,n,i;this._patientCommunicationModalService.createCMTModal(this.patientName,this.patientId,null===(t=this.activeEpisodeMap.get(this.episodeType))||void 0===t?void 0:t.id,D.a.CARE_MANAGEMENT_TIME,null===(e=this.appointmentTime[0])||void 0===e?void 0:e.getTime(),null===(n=this.appointmentTime[1])||void 0===n?void 0:n.getTime(),new Date(null===(i=this.activeEpisodeMap.get(this.episodeType))||void 0===i?void 0:i.endDate).getTime(),this.stickyNote,this.timerId).afterClose.subscribe(t=>{t&&this.completeAppointment()})}onToCCMTClick(){var t,e;const n={id:this.patient.id,name:null===(t=this.patient)||void 0===t?void 0:t.fullName,dxCodes:this.patient.healthInfo.dxCodes,episode:{id:null===(e=this.activeEpisodeMap.get(this.episodeType))||void 0===e?void 0:e.id}};this._patientCommunicationModalService.createTOCTMS(n,"GLOBAL_TIMER",void 0,[this.appointmentTime[0],this.appointmentTime[1]],this.stickyNote,this.timerId).afterClose.subscribe(t=>{t&&this.completeAppointment()})}showTMSforRPM(){var t,e,n,i;this._patientCommunicationModalService.createTMSModal(this.patient,null===(t=this.activeEpisodeMap.get(this.episodeType))||void 0===t?void 0:t.id,"TMS",D.a.TREATMENT_MANAGEMENT_SERVICE,new Date(null===(e=this.activeEpisodeMap.get(this.episodeType))||void 0===e?void 0:e.endDate),[null===(n=this.appointmentTime[0])||void 0===n?void 0:n.getTime(),null===(i=this.appointmentTime[1])||void 0===i?void 0:i.getTime()],this.stickyNote,void 0,"GLOBAL_TIMER",void 0,this.timerId).afterClose.subscribe(t=>{t&&this.completeAppointment()})}showCMTForCCM(){this._episodesService.fetchEpisodeDetails(this.episodeId).subscribe(t=>{var e,n;const i={id:this.patientId,dxCodes:null===(n=null===(e=this.patient)||void 0===e?void 0:e.healthInfo)||void 0===n?void 0:n.dxCodes,episode:{id:this.episodeId,startDate:t.startDate,endDate:t.endDate,blueprintId:t.blueprintId,totalNonComplexTMSCompleted:t.patientComplianceCount[99490],totalNonComplexAdditionalTMSCompleted:t.patientComplianceCount[99439],totalNonComplexTMSPhysicianCompleted:t.patientComplianceCount[99491],totalComplexTMSCompleted:t.patientComplianceCount[99487],totalComplexAdditionalTMSCompleted:t.patientComplianceCount[99489]}};this._modalService.create({nzContent:P.a,nzComponentParams:{patient:i,blueprint:null==t?void 0:t.blueprintId,stickyNote:this.stickyNote,serviceCode:(null==t?void 0:t.serviceCodes)[99490]?D.a.NON_COMPLEX_TMS:D.a.COMPLEX_TMS,staff:this.staffId,autoCMTOverRide:!0,appointmentTime:this.appointmentTime,referrer:"GLOBAL_TIMER",draftId:this.draftId,timerId:this.timerId},nzStyle:{top:"50px"},nzWidth:775,nzFooter:null,nzClosable:!0,nzMaskClosable:!1}).afterClose.subscribe(t=>{this.updateAppointment(((null==t?void 0:t.mode)===X.a.CALL||(null==t?void 0:t.mode)===X.a.OUTBOUND_CALL)&&!1===(null==t?void 0:t.billable))})})}completeAppointment(){this.updateAppointment(!1)}updateAppointment(t){if(!this.appointmentId)return void this._dataSharingService.setTimer({state:"COMPLETED",data:null});const e={appointmentId:this.appointmentId,patientId:this.patientId,caretakerId:this.staffId,episodeId:this.episodeId,appointmentType:R.c.AUDIO_CALL,note:this.note},n=this._appointmentsService.completeAppointment(e),i=this._appointmentsService.updateAttemptCount(e);Object(L.a)(()=>t,i,n).subscribe(e=>{this._notificationService.success("Appointment","Appointment attempt count updated!"),this._dataSharingService.setTimer({state:"COMPLETED",data:null}),t?this._appointmentsService.fetchAppointmentDetailsById(this.appointmentId).subscribe(t=>{this._modalService.create({nzContent:w.a,nzComponentParams:{appointment:null==t?void 0:t.appointment},nzWidth:850,nzFooter:null}).afterClose.subscribe(()=>this._dataSharingService.setTimer({state:"COMPLETED",data:null}))}):(this._modalService.confirm({nzTitle:"Follow Up Appointment",nzContent:`Do you want to create a follow up appointment for ${null==e?void 0:e.attendeeName}?`,nzOnOk:()=>this._router.navigate(["appointments/create",this.patientId])}),this._dataSharingService.setTimer({state:"COMPLETED",data:null}))})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(d.g),c.Rb(k.e),c.Rb(k.f),c.Rb(W.a),c.Rb(z.a),c.Rb(C.a),c.Rb(M.a),c.Rb(V.b),c.Rb(N.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-episode-appointment-confirm-tms"]],inputs:{referrer:"referrer",staffId:"staffId",patientId:"patientId",episodeId:"episodeId",stickyNote:"stickyNote",patientName:"patientName",episodeType:"episodeType",appointmentId:"appointmentId",appointmentTime:"appointmentTime",autoCMTOverRide:"autoCMTOverRide",draftId:"draftId",timerId:"timerId"},decls:3,vars:1,consts:[["class","container",4,"ngIf"],["empty",""],[1,"container"],["nz-typography",""],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","20"],["nz-typography","","nzType","secondary"],["nz-col","","nzSpan","4",1,"episode-btn"],["nzCheckedChildren","Yes","nzUnCheckedChildren","No",3,"ngModel","ngModelChange"],[4,"ngIf"],["nz-col","","nzSpan","24",2,"text-align","right"],["nz-button","","nzType","primary",3,"disabled","click"],["nz-col","","nzSpan","24"],[3,"ngModel","nzLoading","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],["nz-row","","nzGutter","64",2,"margin-top","18px"],[3,"nzData","nzLoading","nzShowPagination","nzNoResult"],["rowSelectionTable",""],[4,"ngFor","ngForOf"],[3,"nzChecked","nzDisabled","nzCheckedChange"],["nzNotFoundImage","https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",3,"nzNotFoundContent"],["contentTpl",""]],template:function(t,e){1&t&&(c.Vc(0,et,17,4,"div",0),c.Vc(1,it,3,1,"ng-template",null,1,c.Wc)),2&t&&c.rc("ngIf",!e.bypassEpisodeSelection)},directives:[h.q,x.a,U.a,F.c,F.a,H.a,b.u,b.x,B.a,j.a,G.a,Y.d,h.p,Y.a,$.f,$.n,$.o,$.e,$.l,$.i,$.j,q.b],pipes:[Z.a,h.e],styles:["h4[_ngcontent-%COMP%]{padding-top:10px}.episode-btn[_ngcontent-%COMP%]{display:flex!important}[_nghost-%COMP%]     .ant-checkbox-wrapper{padding-left:16px;padding-right:8px;border-spacing:0!important}[_nghost-%COMP%]     .ant-checkbox-inner:after{border-color:var(--primary-color)}[_nghost-%COMP%]     .ant-checkbox-disabled .ant-checkbox-inner{background:gray 0 0 no-repeat padding-box;opacity:.5}[_nghost-%COMP%]     .ant-checkbox-disabled .ant-checkbox-inner:after{border-color:var(--neutral-color)!important}"]}),t})();var ot=n("iUtR"),st=n("AytR");let rt=(()=>{class t{constructor(t){this._http=t,this.rootURL=st.g.url}startTimer(t){return this._http.post(`${this.rootURL}/v1/global-timer/${t}`,{})}updateTimer(t,e){return this._http.put(`${this.rootURL}/v1/global-timer/${t}`,{note:e})}suspendTimer(t){return this._http.delete(`${this.rootURL}/v1/global-timer/${t}`,{})}}return t.\u0275fac=function(e){return new(e||t)(c.bc(p.c))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ct=n("5+WD"),lt=n("JA5x"),dt=n("glKu"),ut=n("FwiY");function pt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"span",11),c.Xb(1,"a",12),c.ec("click",function(){return c.Lc(t),c.ic(2).max()}),c.Sb(2,"span",13),c.Wb(),c.Wb()}}function ht(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",1),c.Xb(1,"nz-card"),c.Xb(2,"div",2),c.Xb(3,"div",3),c.Xb(4,"strong",4),c.Xc(5,"Appointment with: "),c.Wb(),c.Xb(6,"p",5),c.Xc(7),c.jc(8,"titlecase"),c.Wb(),c.Xb(9,"strong",4),c.Xc(10,"Start Time:"),c.Wb(),c.Xb(11,"p",5),c.Xc(12),c.jc(13,"date"),c.Wb(),c.Wb(),c.Xb(14,"div",6),c.Xb(15,"strong",7),c.Xc(16),c.jc(17,"timer"),c.Wb(),c.Xb(18,"button",8),c.ec("click",function(){return c.Lc(t),c.ic().endTimer()}),c.Sb(19,"app-icons",9),c.Wb(),c.Wb(),c.Vc(20,pt,3,0,"span",10),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.ic();c.Db(1),c.rc("@inOutAnimation",void 0),c.Db(6),c.Yc(c.kc(8,5,null==t.timerEvent||null==t.timerEvent.data?null:t.timerEvent.data.attendeeName)),c.Db(5),c.Zc(" ",c.lc(13,7,t.timerStart,"medium")," "),c.Db(4),c.Zc(" ",c.lc(17,10,t.timerValue,t.timerStart)," "),c.Db(4),c.rc("ngIf",t.isMinimized&&t.timerEvent.showStickyNote)}}let bt=(()=>{class t{constructor(t,e,n,i,a){this._dataSharingService=t,this._modalService=e,this.draftHelper=n,this._timerPipe=i,this._globalTimerService=a,this.isMinimized=!0}handleClose(t){var e;this.timerId&&this._globalTimerService.updateTimer(this.timerId,null===(e=this.noteEvent)||void 0===e?void 0:e.data).subscribe(t=>{})}ngOnDestroy(){var t;this.stickNoteSubscriber&&this.stickNoteSubscriber.unsubscribe(),this.stickNoteUpdateSubscriber&&this.stickNoteUpdateSubscriber.unsubscribe(),this.timerSubscriber&&this.timerSubscriber.unsubscribe(),this.timerId&&this._globalTimerService.updateTimer(this.timerId,null===(t=this.noteEvent)||void 0===t?void 0:t.data).subscribe(t=>{})}ngOnInit(){this.timerSubscriber=this._dataSharingService.getTimer().subscribe(t=>{t&&"START"===(null==t?void 0:t.state)&&this.globalTimerInitialize(t)})}globalTimerInitialize(t){this.timerEvent=t,this._globalTimerService.startTimer(this.timerEvent.data.attendeeId).subscribe(e=>{this.timerId=null==e?void 0:e.id,this.startTimer(),(null==t?void 0:t.showStickyNote)&&this.registerStickNoteObservers()},e=>{var n;this._modalService.confirm({nzTitle:"Patient Tracking",nzContent:`${null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message}. Do you want to take over and start a new session?`,nzOnOk:()=>{var e,n;this._globalTimerService.suspendTimer(null===(n=null===(e=this.timerEvent)||void 0===e?void 0:e.data)||void 0===n?void 0:n.attendeeId).subscribe(()=>{this.globalTimerInitialize(t)})},nzOnCancel:()=>{this.timerEnd=new Date,this._dataSharingService.setTimer({state:"END",start:this.timerStart,end:this.timerEnd,data:null,showStickyNote:!1}),clearInterval(this.timerIntervalId),this.timerIntervalId=void 0,this.clearTimer()}})})}registerStickNoteObservers(){this.stickNoteSubscriber=this._dataSharingService.getStickNote().subscribe(t=>{t&&(this.isMinimized="MINIMIZED"==t.state||"COMPLETED"==t.state,this.noteEvent=t,"COMPLETED"==t.state&&this.endTimer())}),this.stickNoteUpdateSubscriber=this._dataSharingService.getUpdatedStickyNote().subscribe(t=>{var e,n,i,a;this.noteEvent.data=t;var o=new E;o.startTime=this.timerStart,o.endTime=new Date,o.patientName=this.timerEvent.data.attendeeName,o.patientId=this.timerEvent.data.attendeeId,o.staffId=null===(n=null===(e=this.timerEvent)||void 0===e?void 0:e.data)||void 0===n?void 0:n.attenderId,o.referrer="GLOBAL_TIMER",o.appointmentId=this.timerEvent.data.id,o.episodeId=null===(a=null===(i=this.timerEvent)||void 0===i?void 0:i.data)||void 0===a?void 0:a.episodeId,o.stickyNote=this.noteEvent.data,o.autoCMTOverRide=!0,o.timerId=this.timerId,o.tenantId=this.timerEvent.data.tenantId,o.draftId=this.draftHelper.generateDraftId().toString(),this.draftHelper.updateDraft(o)})}startTimer(){this.timerStart=new Date,this.timerEnd=void 0,this.timerValue=new Date,this.timerIntervalId=setInterval(()=>{var t,e;this.timerValue=new Date;const n=this._timerPipe.transform(this.timerValue,this.timerStart),i=this.draftHelper.getTimeTrackingNoteDrafts().get(null===(e=null===(t=this.timerEvent)||void 0===t?void 0:t.data)||void 0===e?void 0:e.attendeeId);if(null==i?void 0:i.length){const t=JSON.parse(i);t.endTime=new Date,this.draftHelper.updateDraft(t)}"01:00:00"===n&&this.endTimer()},1e3),this.timerEvent.showStickyNote&&(this.noteEvent={patientId:this.timerEvent.data.attendeeId,patientName:this.timerEvent.data.attendeeName,tenantId:this.timerEvent.data.tenantId,state:"MAXIMIZED",data:""},this._dataSharingService.setStickNote(this.noteEvent))}endTimer(){this.timerEnd=new Date,this._dataSharingService.setTimer({state:"END",start:this.timerStart,end:this.timerEnd,data:null,showStickyNote:!1}),this.showConfirm(),clearInterval(this.timerIntervalId),this.timerIntervalId=void 0,this.stickNoteSubscriber.unsubscribe(),this.stickNoteUpdateSubscriber.unsubscribe()}clearTimer(){this.timerValue=void 0,this.timerStart=void 0,this.timerEnd=void 0,this.timerEvent=void 0,this.timerIntervalId=void 0}showConfirm(){var t,e,n,i,a,o,s,r,c,l,d,u,p;this._modalService.create({nzContent:at,nzFooter:null,nzStyle:{visibility:this.timerEvent.data.id&&(null===(e=null===(t=this.timerEvent)||void 0===t?void 0:t.data)||void 0===e?void 0:e.episodeId)?"hidden":"visible"},nzBodyStyle:{paddingTop:"0px"},nzComponentParams:{patientName:null===(i=null===(n=this.timerEvent)||void 0===n?void 0:n.data)||void 0===i?void 0:i.attendeeName,patientId:null===(o=null===(a=this.timerEvent)||void 0===a?void 0:a.data)||void 0===o?void 0:o.attendeeId,stickyNote:null===(s=this.noteEvent)||void 0===s?void 0:s.data,autoCMTOverRide:!0,appointmentTime:[this.timerStart,this.timerEnd],staffId:null===(c=null===(r=this.timerEvent)||void 0===r?void 0:r.data)||void 0===c?void 0:c.attenderId,referrer:"GLOBAL_TIMER",appointmentId:null===(d=null===(l=this.timerEvent)||void 0===l?void 0:l.data)||void 0===d?void 0:d.id,episodeId:null===(p=null===(u=this.timerEvent)||void 0===u?void 0:u.data)||void 0===p?void 0:p.episodeId,timerId:this.timerId},nzMaskClosable:!1,nzCloseOnNavigation:!1,nzWidth:725}).afterClose.subscribe(t=>{var e,n;this.clearTimer(),localStorage.removeItem(null===(n=null===(e=this.timerEvent)||void 0===e?void 0:e.data)||void 0===n?void 0:n.attendeeId)})}min(){this.noteEvent.state="MINIMIZED",this._dataSharingService.setStickNote(this.noteEvent)}max(){this.noteEvent.state="MAXIMIZED",this._dataSharingService.setStickNote(this.noteEvent)}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(C.a),c.Rb(k.f),c.Rb(I.a),c.Rb(ot.a),c.Rb(rt))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-global-timer"]],hostBindings:function(t,e){1&t&&c.ec("beforeunload",function(t){return e.handleClose(t)},!1,c.Kc)},features:[c.Cb([ot.a])],decls:1,vars:1,consts:[["class","container","cdkDrag","",4,"ngIf"],["cdkDrag","",1,"container"],["nz-row",""],["nz-col","","nzSpan","16"],["nz-typography","","nzType","secondary"],["nz-typography",""],["nz-col","","nzSpan","8"],["nz-typography","","nzType","success",1,"timer"],["nz-button","","nzType","text","nzShape","circle",1,"stop-btn",3,"click"],["size","45","name","stop","color","red"],["class","stick-note-btn",4,"ngIf"],[1,"stick-note-btn"],[3,"click"],["nz-icon","","nzType","snippets","nzTheme","fill",2,"font-size","20px","padding","10px"]],template:function(t,e){1&t&&c.Vc(0,ht,21,13,"div",0),2&t&&c.rc("ngIf",e.timerStart&&!e.timerEnd)},directives:[h.q,ct.a,lt.a,F.c,F.a,x.a,B.a,G.a,dt.a,ut.a],pipes:[h.A,h.e,ot.a],styles:[".container[_ngcontent-%COMP%]{position:fixed;left:15px;bottom:15px;z-index:1001}nz-card[_ngcontent-%COMP%]{width:300px;border:1px solid #ddd;box-shadow:0 4px 20px rgba(0,0,0,.5)}.timer[_ngcontent-%COMP%]{font-size:18px;text-align:center;display:block;margin-bottom:5px}button[_ngcontent-%COMP%]{margin:auto;display:block}.stop-btn[_ngcontent-%COMP%]{height:auto}.stick-note-btn[_ngcontent-%COMP%]{position:absolute;bottom:-1px;right:-1px;width:40px;height:40px;background:#000000c2;border-top-left-radius:10px;border-bottom-right-radius:15px}"],data:{animation:[Object(T.m)("inOutAnimation",[Object(T.l)(":enter",[Object(T.k)({right:-300,opacity:0}),Object(T.e)("0.3s ease-out",Object(T.k)({right:0,opacity:1}))]),Object(T.l)(":leave",[Object(T.k)({right:0,opacity:1}),Object(T.e)("0.3s ease-in",Object(T.k)({right:-300,opacity:0}))])])]}}),t})(),gt=(()=>{class t{constructor(t){this._modalService=t,this.appVersion=st.g.VERSION}checkVersion(){if(Object(c.Y)())return;let t=localStorage.getItem("appVersion");t||(localStorage.setItem("appVersion",this.appVersion),t=this.appVersion),t!==this.appVersion&&this._modalService.confirm({nzTitle:"New update available",nzContent:"Click OK to reload and continue using the latest version of the portal",nzOnOk:()=>this.clearStorageAndReload()})}clearStorageAndReload(){localStorage.clear(),sessionStorage.clear(),localStorage.setItem("appVersion",this.appVersion),window.location.replace("/")}}return t.\u0275fac=function(e){return new(e||t)(c.bc(k.f))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var mt=n("PqYM"),ft=n("xgIS"),vt=n("eIep"),St=n("MtjB"),Tt=n("vkgz"),Ct=n("3E0/"),Et=n("Kj3r"),It=n("JX91");const Mt=new c.r("ConnectionServiceOptionsToken");let yt=(()=>{class t{constructor(t,e){this.http=t,this.stateChangeEventEmitter=new c.n,this.currentState={hasInternetAccess:!1,hasNetworkConnection:window.navigator.onLine},this.serviceOptions={enableHeartbeat:!1,heartbeatUrl:"//internethealthtest.org",heartbeatInterval:1e5,heartbeatRetryInterval:1e5,requestMethod:"head"},this.checkNetworkState(),this.checkInternetState()}checkInternetState(){this.httpSubscription&&this.httpSubscription.unsubscribe(),this.serviceOptions.enableHeartbeat?this.httpSubscription=Object(mt.a)(0,this.serviceOptions.heartbeatInterval).pipe(Object(vt.a)(()=>this.http[this.serviceOptions.requestMethod](this.serviceOptions.heartbeatUrl,{responseType:"text"})),Object(St.a)(t=>t.pipe(Object(Tt.a)(t=>{console.error("Http error:",t),this.currentState.hasInternetAccess=!1,this.emitEvent()}),Object(Ct.a)(this.serviceOptions.heartbeatRetryInterval)))).subscribe(t=>{this.currentState.hasInternetAccess=!0,this.emitEvent()}):(this.currentState.hasInternetAccess=!1,this.emitEvent())}checkNetworkState(){this.onlineSubscription=Object(ft.a)(window,"online").subscribe(()=>{this.currentState.hasNetworkConnection=!0,this.checkInternetState(),this.emitEvent()}),this.offlineSubscription=Object(ft.a)(window,"offline").subscribe(()=>{this.currentState.hasNetworkConnection=!1,this.checkInternetState(),this.emitEvent()})}emitEvent(){this.stateChangeEventEmitter.emit(this.currentState)}ngOnDestroy(){try{this.offlineSubscription.unsubscribe(),this.onlineSubscription.unsubscribe(),this.httpSubscription.unsubscribe()}catch(t){}}monitor(t=!0){return t?this.stateChangeEventEmitter.pipe(Object(Et.a)(300),Object(It.a)(this.currentState)):this.stateChangeEventEmitter.pipe(Object(Et.a)(300))}updateOptions(t){this.checkInternetState()}}return t.\u0275fac=function(e){return new(e||t)(c.bc(p.c),c.bc(Mt,8))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var At=n("XFrI"),_t=n("KCkQ"),Dt=n("+lv+"),zt=n("W0aR"),Ot=n("7Xlp"),Nt=n("5zaD"),Pt=n("ZVns"),Rt=n("l5mm");class Xt{}var Lt=n("WoUL");let wt=(()=>{class t{}return t.APP_VERSION="dev",t.ENVIRONMENT="dev",t.URI="uri",t.CLASS_NAME="class_name",t.TENANT_ID="tenant_id",t.USER_ID="user_id",t.PHONE_NUMBER="phone_number",t.TENANT_NAME="tenant_name",t.ACCESS_TOKEN="access_token",t.ERROR_MSG="error_msg",t.SELECTED_NAME="selected_name",t.SOURCE="source",t.EMAIL_TO="email_to",t.REPORT_NAME="report_name",t.PATIENT_ID="patient_id",t.FILE_NAME="file_name",t.ERROR_REASON="error_reason",t.DRAWER_ITEM_SELECTED="DRAWER_ITEM_SELECTED",t.BUTTON_CLICKED="BUTTON_CLICKED",t.TAB_SELECTED="TAB_SELECTED",t.WIDGET_SELECTED="WIDGET_SELECTED",t.LIST_ITEM_SELECTED="LIST_ITEM_SELECTED",t.PAGE_VIEW="PAGE_VIEW",t.PAGE_DESTROY="PAGE_DESTROY",t.PAGE_PREV="PAGE_PREV",t.PAGE_NEXT="PAGE_NEXT",t.PAGE_GOTO="PAGE_GOTO",t.PICTURE_UPLOAD="PICTURE_UPLOAD",t.REPORT_DOWNLOAD_START="REPORT_DOWNLOAD_START",t.REPORT_DOWNLOAD_SUCCESS="REPORT_DOWNLOAD_SUCCESS",t.REPORT_DOWNLOAD_FAILURE="REPORT_DOWNLOAD_FAILURE",t.REPORT_SHARE="REPORT_SHARE",t})(),Wt=(()=>{class t{}return t.STRINGS=["CALL.INITIATING_CALL","CALL.CONNECTED","CALL.DISCONNECTED","CALL.INPUT_AUDIO_RESOURCE","CALL.OUTPUT_AUDIO_RESOURCE","CALL.OUTPUT_AUDIO_DEVICES_NOT_FOUND","CALL.INPUT_AUDIO_DEVICES_NOT_FOUND"],t.CALL_PARAMS={codecPreferences:["opus","pcmu"],fakeLocalDTMF:!0,debug:!1},t.AUDIO_CONSTRAINTS={autoGainControl:!1,echoCancellation:!0,noiseSuppression:!1},t})(),kt=(()=>{class t extends wt{}return t.TWILIO_ONERROR="TWILIO_ONERROR",t.VOICE_CALL_SID="VOICE_CALL_SID",t.TOKEN_ACQUIRED="TOKEN_ACQUIRED",t.INPUT_DEVICE_ERROR="INPUT_DEVICE_ERROR",t.OUTPUT_DEVICE_ERROR="OUTPUT_DEVICE_ERROR",t.VOICE_CALL_CONNECTED="VOICE_CALL_CONNECTED",t.VOICE_CALL_SESSION_ID="VOICE_CALL_SESSION_ID",t.VOICE_CALL_DISCONNECT="VOICE_CALL_DISCONNECT",t.VOICECALL_TWILIO_ERROR="VOICECALL_TWILIO_ERROR",t.TRIGGER_SUBSCRIBED="VOICECALL_TRIGGER_SUBSCRIBED",t.VOICE_CALL_RECORDING_SID="VOICE_CALL_RECORDING_SID",t.VOICE_CALL_RECORDING_STARTED="VOICE_CALL_RECORDING_STARTED",t.VOICE_CALL_RECORDING_STOPPED="VOICE_CALL_RECORDING_STOPPED",t})();var Vt=n("W4mZ"),xt=n("BZRL"),Ut=n("t6gT"),Ft=n("KC2T");let Ht=(()=>{class t{constructor(t,e){this.rendererFactory2=t,this._appointmentModalsService=e}postGlobalMessage(t,e=null,n=!0){window.postMessage({payload:JSON.stringify(t),type:e,state:n},window.location.origin)}postParentWindowMessage(t,e=null,n=!0){window.opener.postMessage({payload:JSON.stringify(t),type:e,state:n},window.location.origin)}addMessageEventHandler(){this.renderer=this.rendererFactory2.createRenderer(null,null),this.renderer.listen("window","message",t=>{localStorage.getItem("sessionToken")&&t.origin===window.location.origin&&t.data&&t.data.payload&&this.handleMessageEvents(t.data)})}handleMessageEvents(t){const e=JSON.parse(t.payload);switch(t.type){case"VIDEO_APPOINTMENT":case"AUDIO_CALL_APPOINTMENT":this._appointmentModalsService.showCallAppointmentNotesModal(e.appointmentId,e.callSessionId,t.type)}}}return t.\u0275fac=function(e){return new(e||t)(c.bc(c.G),c.bc(Ft.a))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Bt=n("ZPpM");function jt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",11),c.ec("click",function(){return c.Lc(t),c.ic(2).showConsentScript()}),c.Sb(1,"app-icons",12),c.Wb()}}function Gt(t,e){if(1&t&&c.Sb(0,"app-full-name",13),2&t){const t=c.ic(2);c.sc("firstName",t.user.firstName),c.sc("lastName",t.user.lastName)}}function Yt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-icons",17),c.ec("click",function(){return c.Lc(t),c.ic(3).startRecording()}),c.Wb()}}function $t(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-icons",18),c.ec("click",function(){return c.Lc(t),c.ic(3).stopRecording()}),c.Wb()}}function qt(t,e){if(1&t&&(c.Xb(0,"button",14),c.Vc(1,Yt,1,0,"app-icons",15),c.Vc(2,$t,1,0,"app-icons",16),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.rc("ngIf",!t.recordingStarted),c.Db(1),c.rc("ngIf",t.recordingStarted)}}function Zt(t,e){1&t&&(c.Xb(0,"button",14),c.Sb(1,"app-icons",19),c.Wb())}function Qt(t,e){1&t&&c.Sb(0,"app-icons",23)}function Kt(t,e){1&t&&c.Sb(0,"app-icons",24)}function Jt(t,e){if(1&t){const t=c.Yb();c.Xb(0,"button",20),c.ec("click",function(){return c.Lc(t),c.ic(2).mute()}),c.Vc(1,Qt,1,0,"app-icons",21),c.Vc(2,Kt,1,0,"app-icons",22),c.Wb()}if(2&t){const t=c.ic(2);c.Db(1),c.rc("ngIf",t.isMuted),c.Db(1),c.rc("ngIf",!t.isMuted)}}function te(t,e){if(1&t&&(c.Xb(0,"h3"),c.Xc(1),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.ad(" ",t.minutes," : ",t.seconds," ")}}const ee=function(t,e,n){return{"voice-call-default-view":t,"voice-call-consent-view":e,"voice-call-consent-script-expanded-view":n}},ne=function(t){return{color:t}};function ie(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",1),c.Xb(1,"nz-card"),c.Vc(2,jt,2,0,"div",2),c.Xb(3,"strong"),c.Vc(4,Gt,1,2,"app-full-name",3),c.Wb(),c.Xb(5,"div",4),c.Xc(6),c.Wb(),c.Xb(7,"div",5),c.Xb(8,"button",6),c.ec("click",function(){return c.Lc(t),c.ic().stopRecordingAndDisconnect()}),c.Sb(9,"app-icons",7),c.Wb(),c.Vc(10,qt,3,2,"button",8),c.Vc(11,Zt,2,0,"button",8),c.Vc(12,Jt,3,2,"button",9),c.Vc(13,te,2,2,"h3",10),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.ic();c.rc("ngClass",c.Ac(10,ee,"PATIENT_CONSENT"!==t.voiceCallContext,"PATIENT_CONSENT"==t.voiceCallContext,t.consentScriptExpanded)),c.Db(1),c.rc("@inOutAnimation",void 0),c.Db(1),c.rc("ngIf","PATIENT_CONSENT"==t.voiceCallContext),c.Db(2),c.rc("ngIf",t.user),c.Db(1),c.rc("ngStyle",c.yc(14,ne,t.isCallConnected?"#a7c853":"#888888")),c.Db(1),c.Yc(t.callStatus),c.Db(4),c.rc("ngIf",t.isCallConnected&&t.enableRecording&&t.isSessionCreated),c.Db(1),c.rc("ngIf",!t.isCallConnected),c.Db(1),c.rc("ngIf",t.isCallConnected),c.Db(1),c.rc("ngIf",t.isCallConnected)}}let ae=(()=>{class t{constructor(t,e,n,i,a,o,s,r,c){this.voiceCallService=t,this.ngZone=e,this.translationService=n,this.dataSharingService=i,this.appInsightsService=a,this.notificationService=o,this.consentScriptService=s,this._globalEventsService=r,this.consentService=c,this.recordingStarted=!1,this.callStatus="Initiating Call",this.isCallActive=!1,this.callDuration=0,this.isCallConnected=!1,this.enableRecording=!1,this.isSessionCreated=!1,this.consentScriptExpanded=!1,this.voicecallDetails={}}initiateCall(t,e,n){this.initTranslationStrings(),this.properties[kt.USER_ID]=t.id,this.user=t,this.toNumber=e,this.isCallActive=!0,this.voiceCallService.getTwilioCapabilityToken(t.id,n).subscribe(t=>{this.token=t.token,this.phoneNumber=t.phoneNumber,this.properties[kt.PHONE_NUMBER]=this.phoneNumber,this.appInsightsService.logEvent(kt.TOKEN_ACQUIRED,this.properties),this.initiateTwilio(e)})}initTranslationStrings(){this.$translationSubscription=this.translationService.getMultiple(...Wt.STRINGS).subscribe(t=>{this.translatedStrings=t,this.callStatus=this.translatedStrings.get("CALL.INITIATING_CALL")})}ngOnInit(){this.voiceCallContext===Ut.a.PATIENT_CONSENT&&(this.scriptSubscription=this.consentScriptService.getShowConsentScriptObservable().subscribe(t=>this.consentScriptExpanded=t))}ngOnDestroy(){this.disconnect(),null!=this.scriptSubscription&&this.scriptSubscription.unsubscribe()}stopRecordingAndDisconnect(){this.recordingStarted?(this.recordingStarted=!1,this.voiceCallService.stopVoiceCallRecording(this.voicecallDetails.voicecallSessionId,this.voicecallDetails.callRecordingId).subscribe(()=>{this.appInsightsService.logEvent(kt.VOICE_CALL_RECORDING_STOPPED,this.properties),this.disconnect()})):this.disconnect()}disconnect(){this.stopTimer(),this.device&&this.ngZone.run(()=>{this.device.disconnectAll(),this.device.destroy(),this.callDuration=0,clearInterval(this.timeInterval)})}createSession(t=Ut.a.DEFAULT){var e,n;let i=this.toNumber;null===(n=null===(e=this.user)||void 0===e?void 0:e.phoneNumbers)||void 0===n||n.forEach(t=>{(null==t?void 0:t.preferred)&&(i=null==t?void 0:t.number)});let a=new Xt;a.callSid=this.connection.parameters.CallSid,a.initiatedBy=localStorage.getItem("loggedInUser"),a.toUserId=this.user.id,a.toNumber=i,a.context=this.voiceCallContext,a.tenantId=this.user.tenantId,this.voiceCallService.createAudiocallSession(a).subscribe(t=>{this.isSessionCreated=!0,this.voicecallDetails.voicecallSessionId=t.id,this.properties[kt.VOICE_CALL_SESSION_ID]=this.voicecallDetails.voicecallSessionId,this.appInsightsService.logEvent(kt.VOICE_CALL_CONNECTED,this.properties)})}initiateTwilio(t){this.device=new Nt.Device,this.device.setup(this.token,Wt.CALL_PARAMS),this.deviceCheck()||this.disconnect(),this.device.audio.setAudioConstraints(Wt.AUDIO_CONSTRAINTS).then(()=>{this.device.on("ready",e=>this.onReady(e,t)),this.device.on("error",t=>this.onError(t)),this.device.on("connect",t=>this.onConnect(t)),this.device.on("disconnect",t=>this.onDisconnect(t))},t=>{this.properties.AUDIO_ERROR=t,this.appInsightsService.logEvent("CALL_CONNECTED",this.properties),this.device.audio.unsetAudioConstraints()})}deviceCheck(){let t=!0;return null!=this.device.audio.availableOutputDevices&&0!=this.device.audio.availableOutputDevices.length||(this.appInsightsService.logEvent(kt.OUTPUT_DEVICE_ERROR,this.properties),this.notificationService.error(this.translatedStrings.get("CALL.OUTPUT_AUDIO_RESOURCE"),this.translatedStrings.get("CALL.OUTPUT_AUDIO_DEVICES_NOT_FOUND")),t=!1),null!=this.device.audio.availableInputDevices&&0!=this.device.audio.availableInputDevices.length||(this.appInsightsService.logEvent(kt.INPUT_DEVICE_ERROR,this.properties),this.notificationService.error(this.translatedStrings.get("CALL.OUTPUT_AUDIO_RESOURCE"),this.translatedStrings.get("CALL.INPUT_AUDIO_DEVICES_NOT_FOUND")),t=!1),t}onReady(t,e){var n,i,a,o,s,r;let c,l;var d;(d=e?null===(i=null===(n=this.user)||void 0===n?void 0:n.phoneNumbers)||void 0===i?void 0:i.filter(t=>(null==t?void 0:t.number)==e):null===(o=null===(a=this.user)||void 0===a?void 0:a.phoneNumbers)||void 0===o?void 0:o.filter(t=>null==t?void 0:t.preferred))&&d.length>0&&(c=null===(s=d[0])||void 0===s?void 0:s.number,l=null===(r=d[0])||void 0===r?void 0:r.countryCode),c&&t.connect({To:l+c,From:this.phoneNumber})}onError(t){this.properties[kt.VOICECALL_TWILIO_ERROR]=t,this.appInsightsService.logEvent(kt.TWILIO_ONERROR,this.properties),this.ngZone.run(()=>this.isCallActive=!1),this.dataSharingService.setVoicecallDisconnectTrigger(!0)}onConnect(t){this.properties[kt.VOICE_CALL_SID]=t.parameters.CallSid,this.appInsightsService.logEvent(kt.VOICE_CALL_CONNECTED,this.properties),this.connection=t,this.createSession(),this.startTimer(),this.isCallConnected=!0,this.callStatus=this.translatedStrings.get("CALL.CONNECTED"),this.isMuted=t.isMuted(),this.activeCallSID=t.parameters.CallSid,this.ngZone.run(()=>this.callStatus=this.translatedStrings.get("CALL.CONNECTED"))}onDisconnect(t){this.ngZone.run(()=>{this.isCallActive=!1,this.callStatus=this.translatedStrings.get("CALL.DISCONNECTED")}),this.appInsightsService.logEvent(kt.VOICE_CALL_DISCONNECT,this.properties),this.dataSharingService.setVoiceCallInitiated(null),null!=this.voiceCallContext&&this.voiceCallContext===Ut.a.PATIENT_CONSENT?this.consentService.setConsentCallDisconnect(this.voicecallDetails):this.dataSharingService.setVoicecallDisconnectTrigger(!0),this.handleAppointmentEvent()}handleAppointmentEvent(){this.appointmentId&&this._globalEventsService.handleMessageEvents({payload:`{\n          "appointmentId": "${this.appointmentId}",\n          "callSessionId": "${this.properties[kt.VOICE_CALL_SID]}"\n        }`,type:"AUDIO_CALL_APPOINTMENT",state:!0})}startTimer(){let t=Object(Rt.a)(1e3);this.timerSubscribe=t.subscribe(t=>{this.minutes=(""+~~(t/60)).padStart(2,"0"),this.seconds=(""+~~(t%60)).padStart(2,"0")})}stopTimer(){null!=this.timerSubscribe&&this.timerSubscribe.unsubscribe()}startRecording(){this.recordingStarted=!0,this.voiceCallService.startVoiceCallRecording(this.voicecallDetails.voicecallSessionId).subscribe(t=>{this.voicecallDetails.callRecordingId=t.sid,this.voicecallDetails.callRecordingUri=t.uri,this.properties[kt.VOICE_CALL_RECORDING_SID]=this.voicecallDetails.callRecordingId,this.appInsightsService.logEvent(kt.VOICE_CALL_RECORDING_STARTED,this.properties)})}stopRecording(){this.recordingStarted=!1,null!=this.voicecallDetails&&this.voiceCallService.stopVoiceCallRecording(this.voicecallDetails.voicecallSessionId,this.voicecallDetails.callRecordingId).subscribe(t=>{this.appInsightsService.logEvent(kt.VOICE_CALL_RECORDING_STOPPED,this.properties)})}mute(){this.connection.mute(!this.isMuted),this.isMuted=!this.isMuted}showConsentScript(){this.consentScriptExpanded=!this.consentScriptExpanded,this.consentScriptService.setShowConsentScriptObservable(this.consentScriptExpanded)}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(Pt.a),c.Rb(c.A),c.Rb(Lt.a),c.Rb(C.a),c.Rb(Ot.a),c.Rb(V.b),c.Rb(Vt.a),c.Rb(Ht),c.Rb(xt.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-voice-call"]],features:[c.Cb([Pt.a])],decls:1,vars:1,consts:[["cdkDrag","",3,"ngClass",4,"ngIf"],["cdkDrag","",3,"ngClass"],["class","consent-script-button",3,"click",4,"ngIf"],[3,"firstName","lastName",4,"ngIf"],[3,"ngStyle"],[1,"controls-and-duration"],["nz-button","","nzShape","circle",2,"width","60px","height","60px","padding","0px",3,"click"],["size","60","name","callDisconnect","color","#ffffff","altColor","#ffffff","strokeColor","#ffffff","strokeWidth","0"],["nz-button","","nzShape","circle",4,"ngIf"],["nz-button","","nzShape","circle",3,"click",4,"ngIf"],[4,"ngIf"],[1,"consent-script-button",3,"click"],["size","40px","name","greenFilledForm","originalStyle","true"],[3,"firstName","lastName"],["nz-button","","nzShape","circle"],["size","20","name","startedRecording","color","red",3,"click",4,"ngIf"],["size","20","name","stopRecord","color","red",3,"click",4,"ngIf"],["size","20","name","startedRecording","color","red",3,"click"],["size","20","name","stopRecord","color","red",3,"click"],["size","20","name","micMute","altColor","red","color","grey"],["nz-button","","nzShape","circle",3,"click"],["size","20","name","micMute","color","red",4,"ngIf"],["size","20","name","micMute","color","black",4,"ngIf"],["size","20","name","micMute","color","red"],["size","20","name","micMute","color","black"]],template:function(t,e){1&t&&c.Vc(0,ie,14,16,"div",0),2&t&&c.rc("ngIf",e.isCallActive)},directives:[h.q,ct.a,h.o,lt.a,h.r,B.a,j.a,G.a,dt.a,Bt.a],styles:[".voice-call-default-view[_ngcontent-%COMP%]{position:fixed;right:15px;top:15px;z-index:1001}.voice-call-consent-view[_ngcontent-%COMP%]{position:fixed;right:100px;bottom:100px;z-index:1001}.voice-call-consent-script-expanded-view[_ngcontent-%COMP%]{position:fixed;right:500px;bottom:100px;z-index:1001}nz-card[_ngcontent-%COMP%]{width:300px;margin-top:20px;margin-right:20px;border-radius:15px;border:1px solid #ddd;box-shadow:0 4px 24px rgba(0,0,0,.5)}.consent-script-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.controls-and-duration[_ngcontent-%COMP%]{height:80px;margin-top:30px;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center}.controls-and-duration[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:auto;margin-right:30px}button[_ngcontent-%COMP%]{background-color:#f0f2f6;border-style:none;margin-right:10px;height:40px;width:40px;padding-top:9px}app-icons[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[Object(T.m)("inOutAnimation",[Object(T.l)(":enter",[Object(T.k)({right:-300,opacity:0}),Object(T.e)("0.3s ease-out",Object(T.k)({right:0,opacity:1}))]),Object(T.l)(":leave",[Object(T.k)({right:0,opacity:1}),Object(T.e)("0.3s ease-in",Object(T.k)({right:-300,opacity:0}))])])]}}),t})(),oe=(()=>{class t{constructor(t){this.viewContainerRef=t}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(c.R))},t.\u0275dir=c.Mb({type:t,selectors:[["","voicecallHost",""]]}),t})();var se=n("SP7D"),re=n("0+cO"),ce=n("D+TJ"),le=n("5P38");let de=(()=>{class t{constructor(t){this.viewContainerRef=t}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(c.R))},t.\u0275dir=c.Mb({type:t,selectors:[["","globalTimerHost",""]]}),t})(),ue=(()=>{class t{constructor(t){this.viewContainerRef=t}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(c.R))},t.\u0275dir=c.Mb({type:t,selectors:[["","globalNotesHost",""]]}),t})();var pe=n("+gyu"),he=n("c36b"),be=n("mUB+"),ge=n("mUTz");function me(t,e){if(1&t){const t=c.Yb();c.Xb(0,"span",20),c.ec("click",function(){c.Lc(t);const e=c.ic(2);return e.maxMin(!e.minScreen)}),c.Wb()}}function fe(t,e){if(1&t){const t=c.Yb();c.Xb(0,"span",21),c.ec("click",function(){c.Lc(t);const e=c.ic(2);return e.maxMin(!e.minScreen)}),c.Wb()}}function ve(t,e){1&t&&(c.Xb(0,"label",22),c.Xc(1,"Required"),c.Wb())}const Se=function(t){return{border:t}};function Te(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",1),c.Xb(1,"nz-card",2),c.Xb(2,"div",3),c.Xb(3,"div",4),c.Xb(4,"strong"),c.Xb(5,"p",5),c.Xc(6,"Time Tracking Notes"),c.Wb(),c.Wb(),c.Wb(),c.Xb(7,"div",6),c.Xb(8,"span",7),c.ec("click",function(){return c.Lc(t),c.ic().minimize()}),c.Wb(),c.Wb(),c.Xb(9,"div",8),c.Vc(10,me,1,0,"span",9),c.Vc(11,fe,1,0,"span",10),c.Wb(),c.Wb(),c.Xb(12,"div",3),c.Xb(13,"div",11),c.Xb(14,"angular-editor",12,13),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().content=e})("ngModelChange",function(e){return c.Lc(t),c.ic().onNoteChanged(e)}),c.jc(16,"translate"),c.Wb(),c.Vc(17,ve,2,0,"label",14),c.Wb(),c.Wb(),c.Sb(18,"br"),c.Xb(19,"div",15),c.Xb(20,"div",16),c.Xb(21,"app-note-template-picker",17),c.ec("onTemplateSelected",function(e){return c.Lc(t),c.ic().setTemplate(e)}),c.Wb(),c.Wb(),c.Xb(22,"div",18),c.Xb(23,"button",19),c.ec("click",function(){return c.Lc(t),c.ic().saveNote()}),c.Xc(24," Stop "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.ic();c.Db(1),c.rc("@inOutAnimation",void 0),c.Db(1),c.rc("nzGutter",16),c.Db(1),c.rc("nzSpan",20),c.Db(4),c.rc("nzSpan",2),c.Db(2),c.rc("nzSpan",2),c.Db(1),c.rc("ngIf",t.minScreen),c.Db(1),c.rc("ngIf",!t.minScreen),c.Db(1),c.rc("nzGutter",16),c.Db(1),c.rc("nzSpan",24),c.Db(1),c.sc("placeholder",c.kc(16,19,"COMMON.ENTER_NOTES")),c.rc("ngModel",t.content)("ngStyle",c.yc(21,Se,t.isInputEmpty?"1px solid red":""))("config",t.config),c.Db(3),c.rc("ngIf",t.isInputEmpty),c.Db(4),c.rc("note",t.content)("pageNumber",t.pageNumber)("limit",t.limit)("searchKey",t.searchKey)("tenantId",t.tenantId)}}let Ce=(()=>{class t{constructor(t,e){this._noteTemplatesService=t,this._dataSharingService=e,this.state="RESTORED",this.showTemplate=!0,this.close=new c.n,this.showNotes=!0,this.content="",this.isLoadingSaveNote=!1,this.isInputEmpty=!1,this.minScreen=!0,this.config="MAXIMIZED"==this.state?he.d:he.c}ngOnInit(){}closeDialog(t=null){this.close.emit()}onNoteChanged(t){this.isInputEmpty=0===(null==t?void 0:t.length),this._dataSharingService.updateStickyNote(t)}setTemplate(t){this.content=t,this._dataSharingService.updateStickyNote(t)}saveNote(){this.showNotes=!1,this._dataSharingService.setStickNote({patientId:this.patientId,patientName:this.patientName,data:this.content,tenantId:this.tenantId,state:"COMPLETED"})}minimize(){this.showNotes=!1,this._dataSharingService.setStickNote({patientId:this.patientId,patientName:this.patientName,tenantId:this.tenantId,data:this.content,state:"MINIMIZED"})}maxMin(t){this.minScreen=t,this._dataSharingService.refreshStickNoteEditor({patientId:this.patientId,patientName:this.patientName,tenantId:this.tenantId,data:this.content,state:this.minScreen?"RESTORED":"MAXIMIZED"})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(pe.a),c.Rb(C.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-notes-basic"]],inputs:{patientId:"patientId",tenantId:"tenantId",patientName:"patientName",state:"state",showTemplate:"showTemplate"},outputs:{close:"close"},decls:1,vars:1,consts:[["class","container notes-container","cdkDrag","",4,"ngIf"],["cdkDrag","",1,"container","notes-container"],[1,"note-card"],["nz-row","",3,"nzGutter"],["nz-col","","cdkDragHandle","",1,"title",3,"nzSpan"],["id","patient"],["nz-col","","id","minimize",2,"cursor","default",3,"nzSpan"],["nz-icon","","nzType","minus","nzTheme","outline",2,"font-size","18px",3,"click"],["nz-col","","id","maximize",2,"cursor","default",3,"nzSpan"],["style","font-size: 18px;","nz-icon","","nzType","fullscreen","nzTheme","outline",3,"click",4,"ngIf"],["style","font-size: 18px;","nz-icon","","nzType","fullscreen-exit","nzTheme","outline",3,"click",4,"ngIf"],["nz-col","",3,"nzSpan"],[3,"ngModel","ngStyle","placeholder","config","ngModelChange"],["note",""],["style","color:red",4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","18"],[3,"note","pageNumber","limit","searchKey","tenantId","onTemplateSelected"],["nz-col","","nzSpan","6",2,"text-align","right"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","fullscreen","nzTheme","outline",2,"font-size","18px",3,"click"],["nz-icon","","nzType","fullscreen-exit","nzTheme","outline",2,"font-size","18px",3,"click"],[2,"color","red"]],template:function(t,e){1&t&&c.Vc(0,Te,25,23,"div",0),2&t&&c.rc("ngIf",e.showNotes)},directives:[h.q,ct.a,lt.a,F.c,F.a,ct.b,G.a,ut.a,be.a,b.u,b.x,h.r,ge.a,B.a,j.a],pipes:[Z.a],styles:[".close[_ngcontent-%COMP%]{float:right;cursor:pointer}#patient[_ngcontent-%COMP%]{border-left:2px solid var(--primary-color);padding-left:10px;font:normal normal 700 16px/19px Nunito}#add-note-container[_ngcontent-%COMP%]{width:95%}#add-note-input[_ngcontent-%COMP%]{margin:2% 1% 2% 2%;width:70%}.block-inline[_ngcontent-%COMP%]{display:inline-block}#save-note[_ngcontent-%COMP%]{border-radius:10px;margin-left:5%;background-color:#f7f7f7}.notes-container[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;z-index:999}.note[_ngcontent-%COMP%]{color:gray}.note[_ngcontent-%COMP%], .note-addedBy[_ngcontent-%COMP%], .note-date[_ngcontent-%COMP%]{font-size:12px}.note-addedBy[_ngcontent-%COMP%]{text-align:right}.infoCirle[_ngcontent-%COMP%]{position:relative;vertical-align:text-top;left:14px}.title[_ngcontent-%COMP%]{cursor:move}#minimize[_ngcontent-%COMP%]{cursor:default}#minimize[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:var(--primary-color)}.note-card[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 4px 20px rgba(0,0,0,.5)}"],data:{animation:[Object(T.m)("inOutAnimation",[Object(T.l)(":enter",[Object(T.k)({right:-300,opacity:0}),Object(T.e)("0.3s ease-out",Object(T.k)({right:0,opacity:1}))]),Object(T.l)(":leave",[Object(T.k)({right:0,opacity:1}),Object(T.e)("0.3s ease-in",Object(T.k)({right:-300,opacity:0}))])])]}}),t})();var Ee=n("jZiR"),Ie=n("zM63");let Me=(()=>{class t{constructor(t){this.elementRef=t,this.isInitialized=!1}ngDoCheck(){if(!this.isInitialized){const t=this.elementRef.nativeElement.querySelector(".ng-spinner");null!=t&&(t.setAttribute("style","bottom: 15px; top: auto;"),this.isInitialized=!0)}}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(c.l))},t.\u0275dir=c.Mb({type:t,selectors:[["","appSpinnerPosition",""]]}),t})();var ye=n("qAZ0"),Ae=n("yW9e"),_e=n("7RJT");let De=(()=>{class t{constructor(){this.tourEvent=new _e.BehaviorSubject(null)}getTourEvent(){return this.tourEvent}setTourEvent(t){this.tourEvent.next(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var ze=n("H9Vc"),Oe=n("nJia"),Ne=n("wjar");function Pe(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",7),c.Xb(1,"div",8),c.Xb(2,"h4",9),c.Xc(3),c.Wb(),c.Wb(),c.Xb(4,"div",10),c.Xb(5,"button",11),c.ec("break",function(e){return c.Lc(t),c.ic(2).break(e)})("done",function(e){return c.Lc(t),c.ic(2).done(e)}),c.Xc(6," \xd7 "),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.ic().ngIf;c.Db(2),c.rc("nzTooltipTitle",t.title),c.Db(1),c.Zc(" ",t.title," ")}}function Re(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",14),c.Xb(1,"button",15),c.ec("prev",function(e){return c.Lc(t),c.ic(3).previous(e)}),c.Xc(2),c.Wb(),c.Wb()}if(2&t){const t=c.ic(2).ngIf;c.Db(2),c.Zc(" ",t.ctrlBtns.prev," ")}}function Xe(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",16),c.Xb(1,"button",17),c.ec("next",function(e){return c.Lc(t),c.ic(3).next(e)}),c.Xc(2),c.Wb(),c.Wb()}if(2&t){const t=c.ic(2).ngIf;c.rc("nzOffset",t.options.withoutPrev||0===t.index?"12":"0"),c.Db(2),c.Zc(" ",t.ctrlBtns.next," ")}}function Le(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",14),c.Xb(1,"button",18),c.ec("break",function(e){return c.Lc(t),c.ic(3).break(e)})("done",function(e){return c.Lc(t),c.ic(3).done(e)}),c.Xc(2),c.Wb(),c.Wb()}if(2&t){const t=c.ic(2).ngIf;c.Db(2),c.Zc(" ",t.ctrlBtns.done," ")}}function we(t,e){if(1&t&&(c.Xb(0,"div",7),c.Vc(1,Re,3,1,"div",12),c.Vc(2,Xe,3,2,"div",13),c.Vc(3,Le,3,1,"div",12),c.Wb()),2&t){const t=c.ic().ngIf;c.Db(1),c.rc("ngIf",!t.options.withoutPrev&&t.index),c.Db(1),c.rc("ngIf",t.index+1!==t.total),c.Db(1),c.rc("ngIf",t.index+1===t.total)}}function We(t,e){if(1&t){const t=c.Yb();c.Xb(0,"p",5),c.Xb(1,"strong"),c.Xc(2,"Need more detailed info:"),c.Wb(),c.Xc(3," Find our "),c.Xb(4,"strong",19),c.ec("click",function(){return c.Lc(t),c.ic(2).redirectToHelpGuides()}),c.Xc(5,"help guides"),c.Wb(),c.Xc(6," which takes you step by step through the entire portal or view our "),c.Xb(7,"strong",19),c.ec("click",function(){return c.Lc(t),c.ic(2).redirectToHelpGuides("videos")}),c.Xc(8," tutorial videos "),c.Wb(),c.Xc(9," of the same. "),c.Wb()}}const ke=function(t){return[t]};function Ve(t,e){if(1&t&&(c.Xb(0,"nz-card",2),c.Vc(1,Pe,7,2,"ng-template",null,3,c.Wc),c.Vc(3,we,4,3,"ng-template",null,4,c.Wc),c.Xb(5,"p",5),c.Xc(6),c.Wb(),c.Vc(7,We,10,0,"p",6),c.Wb()),2&t){const t=e.ngIf,n=c.Ic(2),i=c.Ic(4);c.rc("nzTitle",n)("nzActions",c.yc(4,ke,i)),c.Db(6),c.Yc(t.description),c.Db(1),c.rc("ngIf",t.showHelpRedirect)}}let xe=(()=>{class t{constructor(t,e,n){this._guidedTourService=t,this._guidedTourStatusService=e,this._router=n}previous(t){this._guidedTourStatusService.setTourEvent(t)}next(t){this._guidedTourStatusService.setTourEvent(t)}done(t){this._guidedTourStatusService.setTourEvent(t)}break(t){this._guidedTourStatusService.setTourEvent(t)}redirectToHelpGuides(t="docs"){this._guidedTourService.stopTour(),this._router.navigate(["support/help-guides"],{queryParams:{type:t}})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(ze.c),c.Rb(De),c.Rb(d.g))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-tour-template"]],decls:4,vars:3,consts:[["refToExportAs","steps$"],[3,"nzTitle","nzActions",4,"ngIf"],[3,"nzTitle","nzActions"],["tourTitle",""],["tourActions",""],["nz-typography",""],["nz-typography","",4,"ngIf"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","21"],["nz-typography","","nzEllipsis","","nz-tooltip","","nzType","success",3,"nzTooltipTitle"],["nz-col","","nzSpan","3"],["nz-button","","nzType","link","stepEvent","close",3,"break","done"],["nz-col","","nzSpan","12",4,"ngIf"],["nz-col","","nzSpan","12",3,"nzOffset",4,"ngIf"],["nz-col","","nzSpan","12"],["nz-button","","stepEvent","prev",3,"prev"],["nz-col","","nzSpan","12",3,"nzOffset"],["nz-button","","nzType","primary","stepEvent","next",3,"next"],["nz-button","","nzType","primary","stepEvent","close",3,"break","done"],["nz-typography","","nzType","success","actionable","",3,"click"]],template:function(t,e){if(1&t&&(c.Xb(0,"ng-tour-template",null,0),c.Vc(2,Ve,8,6,"nz-card",1),c.jc(3,"async"),c.Wb()),2&t){const t=c.Ic(1);c.Db(2),c.rc("ngIf",c.kc(3,1,t.steps$))}},directives:[ze.d,h.q,lt.a,x.a,F.c,F.a,Oe.d,B.a,G.a,ze.b,j.a,Ne.a],pipes:[h.b],styles:[".ant-card[_ngcontent-%COMP%]{padding:10px;border-radius:0;background:transparent;border:none}button[_ngcontent-%COMP%]{width:90%;text-transform:capitalize}[_nghost-%COMP%]     .ant-btn-link{font-size:20px!important;padding-top:0!important;margin-top:-10px!important}[_nghost-%COMP%]     .tour-step-modal:after{top:2rem!important}[_nghost-%COMP%]     .right-aligned .tour-step-modal{left:calc(100% - 500px)!important;border-radius:35px 20px}[_nghost-%COMP%]     .right-aligned-center .tour-step-modal{left:calc(100% - 800px)!important;border-radius:35px 20px}[_nghost-%COMP%]     .left-aligned .tour-step-modal{left:100px!important;border-radius:20px 35px}[_nghost-%COMP%]     .left-aligned-center .tour-step-modal{left:500px!important;border-radius:20px 35px}"]}),t})();var Ue=n("bDfm");function Fe(t,e){1&t&&c.Sb(0,"app-icons",10)}function He(t,e){1&t&&c.Sb(0,"app-icons",11)}const Be=function(t){return{"minimized-container":t}},je=function(t){return{"minimized-header":t}},Ge=function(t){return{"minimized-frame":t}};function Ye(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",1),c.Xb(1,"div",2),c.Xb(2,"div",3),c.Xb(3,"div",4),c.Xc(4),c.jc(5,"titlecase"),c.Wb(),c.Wb(),c.Xb(6,"div"),c.Xb(7,"button",5),c.ec("click",function(){return c.Lc(t),c.ic().toggle()}),c.Vc(8,Fe,1,0,"app-icons",6),c.Vc(9,He,1,0,"app-icons",7),c.Wb(),c.Wb(),c.Xb(10,"div"),c.Xb(11,"button",5),c.ec("click",function(){return c.Lc(t),c.ic().closeWindowEvent()}),c.Sb(12,"app-icons",8),c.Wb(),c.Wb(),c.Wb(),c.Sb(13,"iframe",9),c.Wb()}if(2&t){const t=c.ic();c.rc("ngClass",c.yc(10,Be,t.minimized))("cdkDragDisabled",t.minimized),c.Db(1),c.rc("ngClass",c.yc(12,je,t.minimized)),c.Db(3),c.Zc(" ",c.kc(5,8,t.patientName)," "),c.Db(4),c.rc("ngIf",t.minimized),c.Db(1),c.rc("ngIf",!t.minimized),c.Db(4),c.rc("ngClass",c.yc(14,Ge,t.minimized))("src",t.url,c.Nc)}}let $e=(()=>{class t{constructor(t,e,n){this._dataSharingService=t,this._modalService=e,this._notificationsService=n,this.minimized=!1,this.close=new c.n}onMessage(t){var e,n,i,a;(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.canClose)&&!(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.success)?this.close.emit():(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.canClose)&&(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.success)&&this.closeWebForm()}toggle(){this.minimized=!this.minimized}closeWebForm(){this.showConfirm(),setTimeout(()=>{this._dataSharingService.triggerAlertRefresh()},2e3),this.close.emit()}showConfirm(){this._modalService.confirm({nzTitle:"Notes",nzContent:"Do you want to add a note?",nzOkText:"Ok",nzCancelText:"Cancel",nzOnOk:()=>this.addNote()})}addNote(){const t=this._modalService.create({nzContent:Ue.a,nzComponentParams:{patientId:this.patientId,patientName:this.patientName},nzStyle:{width:"800px"},nzClosable:!0,nzFooter:null});this.notesDialog$=t.afterClose.subscribe(t=>{null!=t&&this._notificationsService.success("Notes","Note for patient added successfully!")})}ngOnDestroy(){var t;null===(t=this.notesDialog$)||void 0===t||t.unsubscribe()}closeWindowEvent(){null===window||void 0===window||window.postMessage({success:!1,canClose:!0,data:{}},"*")}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(C.a),c.Rb(k.f),c.Rb(V.b))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-assessment-form"]],hostBindings:function(t,e){1&t&&c.ec("message",function(t){return e.onMessage(t)},!1,c.Kc)},inputs:{patientId:"patientId",patientName:"patientName",url:"url"},outputs:{close:"close"},decls:1,vars:1,consts:[["id","patient-assessment-container","cdkDrag","",3,"ngClass","cdkDragDisabled",4,"ngIf"],["id","patient-assessment-container","cdkDrag","",3,"ngClass","cdkDragDisabled"],["id","header","cdkDragHandle","",3,"ngClass"],["id","patient-name-container"],["id","patient-name"],["nz-button","","nzSize","small","nzType","link",3,"click"],["name","up",4,"ngIf"],["name","minus",4,"ngIf"],["name","close"],["id","patient-assessment-frame","title","assessment","width","100%","height","650",3,"ngClass","src"],["name","up"],["name","minus"]],template:function(t,e){1&t&&c.Vc(0,Ye,14,16,"div",0),2&t&&c.rc("ngIf",e.url)},directives:[h.q,ct.a,h.o,ct.b,B.a,G.a,dt.a],pipes:[h.A],styles:["#patient-assessment-container[_ngcontent-%COMP%]{width:400px;top:25px;position:fixed;z-index:99999!important;left:calc((100vh/2) + 150px)}#header[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#404040;color:var(--neutral-color);margin:0;padding:10px;cursor:pointer;border-radius:5px 5px 0 0}#patient-name-container[_ngcontent-%COMP%]{flex:1;text-overflow:ellipsis}#patient-name[_ngcontent-%COMP%]{top:5px;left:5px;position:relative}.minimized-container[_ngcontent-%COMP%]{height:50px;top:unset!important;left:unset!important;bottom:-5px;right:50px}.minimized-frame[_ngcontent-%COMP%]{visibility:hidden}"]}),t})();var qe=n("XNiG"),Ze=n("1G5W"),Qe=n("x6g7"),Ke=n("CIkO"),Je=n("4iVq"),tn=n("ZE2D");let en=(()=>{class t{transform(t){const e=t.split(" ");var n=e[0].charAt(0);return e.length>1&&(n+=e[e.length-1].charAt(0)),n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Qb({name:"nameFirstLetters",type:t,pure:!0}),t})();function nn(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"nz-card",3),c.Xb(2,"h4",4),c.Sb(3,"nz-avatar",5),c.jc(4,"nameFirstLetters"),c.Xb(5,"span",6),c.Xc(6),c.Wb(),c.Xb(7,"span",7),c.Xb(8,"button",8),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic(2).removeTimeTrackingNotes(n.patientId)}),c.Sb(9,"span",9),c.Wb(),c.Wb(),c.Xb(10,"span",7),c.Xb(11,"button",10),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic(2).save(n)}),c.Sb(12,"span",11),c.Wb(),c.Wb(),c.Wb(),c.Xb(13,"p",12),c.Xc(14),c.jc(15,"date"),c.jc(16,"date"),c.Wb(),c.Xb(17,"div",13),c.Sb(18,"p",14),c.Wb(),c.Wb(),c.Ub()}if(2&t){const t=e.$implicit;c.Db(1),c.rc("nzHoverable",!0),c.Db(2),c.sc("nzText",c.kc(4,6,t.patientName)),c.Db(3),c.Zc(" ",t.patientName," "),c.Db(8),c.ad(" ",c.lc(15,8,t.startTime,"dd MMM | h:mm a")," - ",c.lc(16,11,t.endTime,"dd MMM | h:mm a"),""),c.Db(4),c.sc("innerHtml",t.stickyNote,c.Mc)}}function an(t,e){if(1&t&&(c.Vb(0),c.Vc(1,nn,19,14,"ng-container",2),c.Ub()),2&t){const t=c.ic();c.Db(1),c.rc("ngForOf",t.drafts)}}function on(t,e){1&t&&(c.Xb(0,"span"),c.Xc(1," No Drafts "),c.Wb())}function sn(t,e){if(1&t&&(c.Xb(0,"div",15),c.Xb(1,"nz-empty",16),c.Vc(2,on,2,0,"ng-template",null,17,c.Wc),c.Wb(),c.Wb()),2&t){const t=c.Ic(3);c.Db(1),c.rc("nzNotFoundContent",t)}}let rn=(()=>{class t{constructor(t,e,n){this.draftHelper=t,this._modalService=e,this._dataSharingService=n,this.isEmpty=!1,this.patientNotes=new Map,this.drafts=new Array}ngOnInit(){this.init(),this._dataSharingService.onDraftRefreshTriggered().subscribe(()=>this.init())}init(){this.drafts=[...this.draftHelper.processTimeTrackingNotes()],this.isEmpty=0==this.drafts.length}removeTimeTrackingNotes(t){this.draftHelper.removeTimeTrackingNotes(t),this.isEmpty=0==this.draftHelper.getCount()}save(t){this._modalService.create({nzContent:at,nzFooter:null,nzStyle:{visibility:t.appointmentId&&t.episodeId?"hidden":"visible"},nzBodyStyle:{paddingTop:"0px"},nzComponentParams:{patientId:t.patientId,stickyNote:t.stickyNote,autoCMTOverRide:t.autoCMTOverRide,appointmentTime:[new Date(t.startTime),new Date(t.endTime)],staffId:t.staffId,referrer:t.referrer,appointmentId:t.appointmentId,episodeId:t.episodeId,timerId:null==t?void 0:t.timerId,draftId:t.draftId},nzMaskClosable:!1,nzCloseOnNavigation:!1,nzWidth:725})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(I.a),c.Rb(k.f),c.Rb(C.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-time-tracking-note-history"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["empty",""],[4,"ngFor","ngForOf"],[1,"draft-card",3,"nzHoverable"],["nz-typography",""],[2,"color","#f56a00","background-color","#fde3cf",3,"nzText"],[2,"padding-left","5px"],[2,"position","relative","float","right","margin-right","5px"],["nz-button","","nzType","danger","nzShape","circle",3,"click"],["nz-icon","","nzType","delete"],["nz-button","","nzType","primary","nzShape","circle",3,"click"],["nz-icon","","nzType","save"],["nz-typography","","nzType","secondary"],[2,"height","200px","width","100%","white-space","nowrap","overflow","scroll"],["nz-typography","",3,"innerHtml"],[1,"container"],["nzNotFoundImage","https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",3,"nzNotFoundContent"],["noDraft",""]],template:function(t,e){if(1&t&&(c.Vc(0,an,2,1,"ng-container",0),c.Vc(1,sn,4,1,"ng-template",null,1,c.Wc)),2&t){const t=c.Ic(2);c.rc("ngIf",!e.isEmpty)("ngIfElse",t)}},directives:[h.q,h.p,lt.a,x.a,tn.a,B.a,j.a,G.a,ut.a,q.b],pipes:[en,h.e],styles:[".draft-card[_ngcontent-%COMP%]{background:var(--neutral-color) 0 0 no-repeat padding-box;margin-bottom:3px}[_nghost-%COMP%]     .ant-card-hoverable:hover{box-shadow:3px 5px 5px #00000036;background:#f1f1f1 0 0 no-repeat padding-box}.draft-card[_ngcontent-%COMP%] >   .ant-card-body{padding:10px 10px 10px 18px}[_nghost-%COMP%]     .ant-empty{padding-top:75%}"]}),t})();var cn=n("F6ss"),ln=n("jPNr"),dn=n("Szod"),un=n("Jlwr"),pn=n("8yaK");function hn(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"span",1),c.Xc(2),c.Xb(3,"span",2),c.Xc(4," :"),c.Wb(),c.Xc(5),c.Xb(6,"span",2),c.Xc(7,":"),c.Wb(),c.Xc(8),c.Wb(),c.Xc(9," \xa0\xa0\xa0\xa0\xa0\xa0\n"),c.Ub()),2&t){const t=c.ic();c.Db(2),c.Zc("",(null==t.timerTick?null:t.timerTick.hours)<10?"0"+(null==t.timerTick?null:t.timerTick.hours):null==t.timerTick?null:t.timerTick.hours," "),c.Db(3),c.Zc(" ",(null==t.timerTick?null:t.timerTick.minutes)<10?"0"+(null==t.timerTick?null:t.timerTick.minutes):null==t.timerTick?null:t.timerTick.minutes," "),c.Db(3),c.Zc(" ",(null==t.timerTick?null:t.timerTick.seconds)<10?"0"+(null==t.timerTick?null:t.timerTick.seconds):null==t.timerTick?null:t.timerTick.seconds," ")}}let bn=(()=>{class t{constructor(t,e,n,i){if(this._dataSharingService=t,this._staffSessionService=e,this._staffSessionPingService=n,this._sessionTimerService=i,!JSON.parse(sessionStorage.getItem("sessionTimerId"))){const t=Date.now().toString();sessionStorage.setItem("sessionTimerId",t),this._sessionTimerService.getLatestClockTime().subscribe(t=>{t&&this.updateClock(t)})}this._staffSessionService.fetchStaffSessionsSummary(localStorage.getItem("loggedInUser")).subscribe(t=>{this.latestTimerTick={hours:parseInt((null==t?void 0:t.totalPingServiceMinutes)/60),minutes:parseInt((null==t?void 0:t.totalPingServiceMinutes)%60),seconds:parseInt((null==t?void 0:t.totalPingServiceSeconds)%60),timer:JSON.parse(sessionStorage.getItem("sessionTimerId"))},this.timeoutSubscription=setTimeout(()=>{this.timeIntervalSubscription=setInterval(()=>{var t,e,n;const i=new Date;i.setHours(null===(t=this.latestTimerTick)||void 0===t?void 0:t.hours,null===(e=this.latestTimerTick)||void 0===e?void 0:e.minutes,(null===(n=this.latestTimerTick)||void 0===n?void 0:n.seconds)+1),this.updateClock(i)},1e3)},1e3)})}ngOnInit(){this._dataSharingService.tenantSettings.subscribe(t=>{var e;t&&(this.pollingIntervalInMinutes=null===(e=null==t?void 0:t.staffSessionConfig)||void 0===e?void 0:e.pollingInterval)})}ngOnDestroy(){this.timeoutSubscription&&clearTimeout(this.timeoutSubscription),this.timeIntervalSubscription&&clearInterval(this.timeIntervalSubscription)}updateClock(t){let e=new Date;t&&e.setHours(null==t?void 0:t.getHours(),null==t?void 0:t.getMinutes(),null==t?void 0:t.getSeconds());const n={hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),timer:JSON.parse(sessionStorage.getItem("sessionTimerId"))};this.latestTimerTick=JSON.parse(JSON.stringify(n)),this.timerTick=JSON.parse(JSON.stringify(n)),this.timerTickOff()}timerTickOff(){var t;0>=this.latestTimerTick.minutes||this.latestTimerTick.minutes===(null===(t=this.lastTimerTick)||void 0===t?void 0:t.minutes)||(this.lastTimerTick=JSON.parse(JSON.stringify(this.latestTimerTick)),0==this.latestTimerTick.minutes%this.pollingIntervalInMinutes&&this._staffSessionPingService.staffSessionPolling())}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(C.a),c.Rb(un.a),c.Rb(S.a),c.Rb(pn.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-session-timer"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","timer"],[1,"blink"]],template:function(t,e){1&t&&c.Vc(0,hn,10,3,"ng-container",0),2&t&&c.rc("ngIf",e.timerTick)},directives:[h.q],styles:["#timer[_ngcontent-%COMP%]{color:var(--primary-color);font-size:18px;font-weight:700;word-spacing:-2px}.blink[_ngcontent-%COMP%]{-webkit-animation:blinker 1s linear infinite;animation:blinker 1s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}"]}),t})();var gn=n("SKKP"),mn=n("ZKr6"),fn=n("Nqz0"),vn=n("Q8cG"),Sn=n("MZxW");function Tn(t,e){if(1&t){const t=c.Yb();c.Xb(0,"em",24),c.ec("click",function(){return c.Lc(t),c.ic().changeSidebarState(!0)}),c.Wb()}2&t&&c.rc("nzType","menu-unfold")}function Cn(t,e){if(1&t){const t=c.Yb();c.Xb(0,"em",24),c.ec("click",function(){return c.Lc(t),c.ic().changeSidebarState(!1)}),c.Wb()}2&t&&c.rc("nzType","menu-fold")}function En(t,e){if(1&t&&(c.Vb(0),c.Vb(1),c.Sb(2,"sub-tenant-select",26),c.jc(3,"async"),c.Ub(),c.Ub()),2&t){const t=c.ic(2);c.Db(2),c.rc("mode",c.kc(3,3,t.subTenantToggleMode$))("nzMaxTagCount",1)("listSelectedSubTenants",t.selectedTenantIds)}}function In(t,e){if(1&t&&(c.Vb(0),c.Vc(1,En,4,5,"ng-container",25),c.jc(2,"async"),c.Ub()),2&t){const t=c.ic();c.Db(1),c.rc("ngIf",c.kc(2,1,t.showToggle$))}}const Mn=function(){return{status:"OPEN"}};function yn(t,e){if(1&t&&(c.Xb(0,"nz-badge",27),c.Sb(1,"app-icons",28),c.Wb()),2&t){const t=c.ic();c.rc("nzCount",t.alertCount),c.Db(1),c.rc("queryParams",c.xc(2,Mn))}}function An(t,e){1&t&&(c.Xb(0,"h3",29),c.Xc(1," Currently viewing. "),c.Wb())}const _n=function(){return["VIEW_PATIENT_ALERT"]};let Dn=(()=>{class t{constructor(t,e,n,i,a,o,s,r){this._dataSharingService=t,this._routeHelperService=e,this._alertService=n,this._drawerService=i,this._draftHelper=a,this._modalService=o,this._globalTimerService=s,this._router=r,this.alertCount=0,this.loading=!0,this.TASK_REFRESH_INTERVAL_MS=6e4,this.autoRefresh$=Object(Ke.interval)(this.TASK_REFRESH_INTERVAL_MS).pipe(Object(It.a)(0)),this.draftCount=0,this.unsubscribed=new qe.a,this.logoURL="https://api.cooeyhealth.com/v2/media/7c753e81-4bd5-4351-98e9-4e1942e108f0:Cooey_Health-Logo.png",this.alertFetchRequest=new Je.a}ngOnInit(){var t;if(this._dataSharingService.tenantSettings.subscribe(t=>{t&&t.logoURL&&(this.logoURL=t.logoURL)}),this.sidebarCollapsed$=this._routeHelperService.isSidebarCollapsed(),this.loggedInUserName$=this._dataSharingService.getLoggedInUserName(),this.showToggle$=this._routeHelperService.shouldShowSubTenantToggle(),this.subTenantToggleMode$=this._routeHelperService.subTenantToggleMode(),this.autoRefresh$.pipe(Object(Ze.a)(this.unsubscribed)).subscribe(()=>this.autoRefreshComponents()),this._dataSharingService.onAlertRefreshTriggered().subscribe(()=>this.fetchAlertCount()),this.draftCount=this._draftHelper.getCount(),this.draftCount){const e=this._draftHelper.processTimeTrackingNotes(),n=e[(null==e?void 0:e.length)-1];(null===(t=new Date(null==n?void 0:n.endTime))||void 0===t?void 0:t.getTime())>Date.now()-3e5&&this._modalService.confirm({nzTitle:`Patient Timer: ${null==n?void 0:n.patientName}`,nzContent:"Your previous patient timer was paused abruptly. Would you like to save it as a TMS/CMT entry or start afresh?",nzOkText:"Save as TMS/CMT",nzCancelText:"Restart",nzOnOk:()=>{var t;(null===(t=null==n?void 0:n.timerId)||void 0===t?void 0:t.length)&&this._globalTimerService.updateTimer(null==n?void 0:n.timerId,null==n?void 0:n.stickyNote).subscribe(t=>{}),this.saveDraftPopup(n)},nzOnCancel:()=>{this._globalTimerService.suspendTimer(null==n?void 0:n.patientId).subscribe(()=>{this.startTimer(null==n?void 0:n.patientId,null==n?void 0:n.patientName,null==n?void 0:n.episodeId)})}})}this._dataSharingService.onDraftRefreshTriggered().subscribe(()=>this.draftCount=this._draftHelper.getCount())}changeSidebarState(t){this._routeHelperService.setSidebarCollapsed(!t)}autoRefreshComponents(){this.fetchAlertCount()}fetchAlertCount(){const t=sessionStorage.getItem("patientType");t&&(this.alertFetchRequest.patientType=t),this._alertService.fetchAlerts(this.alertFetchRequest,!0).subscribe(t=>{this.alertCount=t&&0!=t.length?t[0].count:0})}cleanUp(){this._router.navigate(["authorization/logout"])}ngOnDestroy(){this.unsubscribed.next(),this.unsubscribed.complete()}showDraft(){this._drawerService.create({nzContent:rn,nzClosable:!0,nzMaskClosable:!0,nzMask:!1,nzFooter:null,nzWidth:400,nzTitle:"Draft"})}saveDraftPopup(t){this._modalService.create({nzContent:at,nzFooter:null,nzStyle:{visibility:t.appointmentId&&t.episodeId?"hidden":"visible"},nzBodyStyle:{paddingTop:"0px"},nzComponentParams:{patientId:t.patientId,stickyNote:t.stickyNote,autoCMTOverRide:t.autoCMTOverRide,appointmentTime:[new Date(t.startTime),new Date(t.endTime)],staffId:t.staffId,referrer:t.referrer,appointmentId:t.appointmentId,episodeId:t.episodeId,timerId:null==t?void 0:t.timerId,draftId:t.draftId},nzMaskClosable:!1,nzCloseOnNavigation:!1,nzWidth:725})}startTimer(t,e,n){const i=localStorage.getItem("loggedInUserAccountType"),a=localStorage.getItem("loggedInUser");this._dataSharingService.setTimer({state:"START",data:{attendeeId:t,attendeeName:e,attenderId:"CARE_TAKER"===i?a:null,episodeId:n},showStickyNote:!0})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(C.a),c.Rb(se.a),c.Rb(Qe.a),c.Rb(cn.d),c.Rb(I.a),c.Rb(k.f),c.Rb(rt),c.Rb(d.g))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-main-header"]],decls:37,vars:20,consts:[["nz-row","","nzJustify","end"],["nz-col","","nzSpan","6"],["nz-row","","id","logo-container","nzGutter","24"],["nz-col","","nzSpan","18",1,"centerize"],["actionable","","routerLink","/dashboard","nz-page-header-avatar","","nzShape","square",3,"nzSrc"],["nz-col","","nzSpan","2","nzOffset","1","actionable","",1,"centerize"],["class","trigger","nz-icon","",3,"nzType","click",4,"ngIf"],["nz-col","","nzSpan","8"],["id","actions"],[4,"isAccessAcrossTenantEnabled"],["nz-col","","nzSpan","10"],[1,"draft-tag",3,"nzCount"],["nz-icon","","nzType","reconciliation",2,"font-size","20px","color","#262626",3,"click"],["class","alert-tag",3,"nzCount",4,"isFeaturePermitted"],["nz-dropdown","","nzPlacement","bottomRight",3,"nzDropdownMenu"],["id","username"],["color","#262626","size","10px","name","down"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item","","routerLink","/settings/password-reset"],["color","#a7c853","size","12px","name","unlock"],["nz-menu-item","",3,"click"],["color","#a7c853","size","12px","name","logout"],["titleTemplate",""],["nz-icon","",1,"trigger",3,"nzType","click"],[4,"ngIf"],[2,"width","300px",3,"mode","nzMaxTagCount","listSelectedSubTenants"],[1,"alert-tag",3,"nzCount"],["color","#262626","size","20px","name","bell","routerLink","/alerts","routerLinkActive","active",3,"queryParams"],[2,"color","white"]],template:function(t,e){if(1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"div",3),c.Sb(4,"nz-avatar",4),c.Wb(),c.Xb(5,"div",5),c.Vc(6,Tn,1,1,"em",6),c.jc(7,"async"),c.Vc(8,Cn,1,1,"em",6),c.jc(9,"async"),c.Wb(),c.Wb(),c.Wb(),c.Xb(10,"div",7),c.Xb(11,"div",8),c.Vc(12,In,3,3,"ng-container",9),c.Wb(),c.Wb(),c.Xb(13,"div",10),c.Xb(14,"div",8),c.Sb(15,"app-session-timer"),c.Xb(16,"nz-badge",11),c.Xb(17,"span",12),c.ec("click",function(){return e.showDraft()}),c.Wb(),c.Wb(),c.Vc(18,yn,2,3,"nz-badge",13),c.Xb(19,"a",14),c.Xb(20,"p",15),c.Xc(21),c.jc(22,"async"),c.Sb(23,"app-icons",16),c.Wb(),c.Wb(),c.Xb(24,"nz-dropdown-menu",null,17),c.Xb(26,"ul",18),c.Xb(27,"li",19),c.Sb(28,"app-icons",20),c.Xc(29),c.jc(30,"translate"),c.Wb(),c.Xb(31,"li",21),c.ec("click",function(){return e.cleanUp()}),c.Sb(32,"app-icons",22),c.Xc(33),c.jc(34,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Vc(35,An,2,0,"ng-template",null,23,c.Wc)),2&t){const t=c.Ic(25);c.Db(4),c.rc("nzSrc",e.logoURL),c.Db(2),c.rc("ngIf",c.kc(7,9,e.sidebarCollapsed$)),c.Db(2),c.rc("ngIf",!c.kc(9,11,e.sidebarCollapsed$)),c.Db(8),c.rc("nzCount",e.draftCount),c.Db(2),c.rc("isFeaturePermitted",c.xc(19,_n)),c.Db(1),c.rc("nzDropdownMenu",t),c.Db(2),c.Zc(" ",c.kc(22,13,e.loggedInUserName$)," "),c.Db(8),c.Zc("\xa0\xa0 ",c.kc(30,15,"TITLE.CHANGEPASWORD")," "),c.Db(4),c.Zc("\xa0\xa0 ",c.kc(34,17,"HEADER.LOGOUT")," ")}},directives:[F.c,F.a,tn.a,ln.a,Ne.a,d.h,h.q,dn.a,bn,gn.a,G.a,ut.a,mn.a,fn.a,fn.b,dt.a,fn.e,vn.c,vn.e,Sn.a,d.i],pipes:[h.b,Z.a],styles:["#logo-container[_ngcontent-%COMP%]{padding:0 0 0 5px;width:200px}#logo-container[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:18px;vertical-align:middle}#tenant-name[_ngcontent-%COMP%]{background-color:#1a3c64;font-size:10px}[_nghost-%COMP%]     .ant-avatar-image{width:100%;height:50px}[_nghost-%COMP%]     .ant-avatar>img{height:25px;margin-top:12.5px;-o-object-fit:scale-down;object-fit:scale-down}.centerize[_ngcontent-%COMP%]{text-align:center}#actions[_ngcontent-%COMP%]{float:right;display:inline-flex}a[_ngcontent-%COMP%]{color:var(--light-black);font-weight:700;height:50px;margin-right:15px}#username[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}app-icons[_ngcontent-%COMP%]{vertical-align:middle}.alert-tag[_ngcontent-%COMP%]{height:24px;width:24px;margin-top:13px;padding:2px}[_nghost-%COMP%]     .ant-badge-count{font-size:10px}[_nghost-%COMP%]     .ant-badge-multiple-words{padding:0 6px}[_nghost-%COMP%]     .ant-tag{height:25px;margin-right:0}#timer-action[_ngcontent-%COMP%]{margin-top:8px}.draft-tag[_ngcontent-%COMP%]{height:24px;margin-top:13px;padding:2px}.alert-tag[_ngcontent-%COMP%], .draft-tag[_ngcontent-%COMP%]{margin-right:20px}"]}),t})();var zn=n("nLCl"),On=n("pe0G"),Nn=n("9xQM");function Pn(t,e){if(1&t&&(c.Xb(0,"nz-option",4),c.Xb(1,"div",5),c.Xb(2,"div",6),c.Xb(3,"label",7),c.Xc(4),c.Wb(),c.Wb(),c.Xb(5,"div",8),c.Xb(6,"label",9),c.jc(7,"externalSources"),c.Xc(8),c.jc(9,"externalSources"),c.Wb(),c.Wb(),c.Wb(),c.Xb(10,"div",5),c.Xb(11,"div",6),c.Xb(12,"label",10),c.Xc(13," Primary Insurance Carrier Name "),c.Wb(),c.Xb(14,"label",7),c.Xc(15),c.Wb(),c.Wb(),c.Xb(16,"div",8),c.Xb(17,"label",10),c.Xc(18," Insurer Member ID "),c.Wb(),c.Xb(19,"label",7),c.Xc(20),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.ic().$implicit;c.rc("nzValue",t)("nzLabel",null==t?null:t.name),c.Db(3),c.rc("nzTooltipTitle",null==t?null:t.name),c.Db(1),c.Zc(" ",null==t?null:t.name," "),c.Db(2),c.sc("nzTooltipTitle",c.lc(7,10,null==t?null:t.externalSources,"HOSPITAL_INTERNAL_ID")),c.Db(2),c.Zc(" ID: ",c.lc(9,13,null==t?null:t.externalSources,"HOSPITAL_INTERNAL_ID")," "),c.Db(6),c.rc("nzTooltipTitle",null==t||null==t.insuranceInformation||null==t.insuranceInformation.primaryInsuranceDetails?null:t.insuranceInformation.primaryInsuranceDetails.carrierName),c.Db(1),c.Zc(" ",(null==t||null==t.insuranceInformation||null==t.insuranceInformation.primaryInsuranceDetails?null:t.insuranceInformation.primaryInsuranceDetails.carrierName)||"N/A"," "),c.Db(4),c.rc("nzTooltipTitle",null==t||null==t.insuranceInformation||null==t.insuranceInformation.primaryInsuranceDetails?null:t.insuranceInformation.primaryInsuranceDetails.insuranceId),c.Db(1),c.Zc(" ",(null==t||null==t.insuranceInformation||null==t.insuranceInformation.primaryInsuranceDetails?null:t.insuranceInformation.primaryInsuranceDetails.insuranceId)||"N/A"," ")}}function Rn(t,e){if(1&t&&(c.Vb(0),c.Vc(1,Pn,21,16,"nz-option",3),c.Ub()),2&t){const t=c.ic();c.Db(1),c.rc("ngIf",!t.isLoading)}}function Xn(t,e){1&t&&(c.Xb(0,"nz-option",11),c.Sb(1,"app-icons",12),c.Xc(2," Loading Data... "),c.Wb())}let Ln=(()=>{class t{constructor(t){this._patientsService=t,this.isLoading=!0,this.getPatientList=t=>this._patientsService.fetchPatientsList(0,5,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),this.searchChange$=new _e.BehaviorSubject(""),this.users=[],this.isLoading=!1,this.selected=new c.n}ngOnInit(){this.searchChange$.asObservable().pipe(Object(Et.a)(500)).pipe(Object(vt.a)(this.getPatientList)).subscribe(t=>{this.users=null==t?void 0:t.result,this.isLoading=!1})}onSearch(t){this.isLoading=!0,this.searchChange$.next(t)}propogate(t){t&&this.selected.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(W.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-patient-search"]],outputs:{selected:"selected"},decls:3,vars:4,consts:[["nzPlaceHolder","Search by patient name","nzShowSearch","","nzServerSearch","","ngModel","",3,"nzSize","nzSuffixIcon","ngModelChange","nzOnSearch"],[4,"ngFor","ngForOf"],["nzCustomContent","","nzDisabled","",4,"ngIf"],["nzCustomContent","",3,"nzValue","nzLabel",4,"ngIf"],["nzCustomContent","",3,"nzValue","nzLabel"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","14"],["nz-typography","","nzEllipsis","","nz-tooltip","",3,"nzTooltipTitle"],["nz-col","","nzSpan","10"],["nz-typography","","nzType","secondary","nzEllipsis","","nz-tooltip","",3,"nzTooltipTitle"],["nz-typography","","nzType","secondary",1,"heading"],["nzCustomContent","","nzDisabled",""],["name","loading","size","12px"]],template:function(t,e){1&t&&(c.Xb(0,"nz-select",0),c.ec("ngModelChange",function(t){return e.propogate(t)})("nzOnSearch",function(t){return e.onSearch(t)}),c.Vc(1,Rn,2,1,"ng-container",1),c.Vc(2,Xn,3,0,"nz-option",2),c.Wb()),2&t&&(c.rc("nzSize","large")("nzSuffixIcon","search"),c.Db(1),c.rc("ngForOf",e.users),c.Db(1),c.rc("ngIf",e.isLoading))},directives:[Y.d,b.u,b.x,h.p,h.q,Y.a,F.c,F.a,x.a,Oe.d,dt.a],pipes:[Nn.a],styles:["[_nghost-%COMP%]     .ant-select:not(.ant-select-customize-input) .ant-select-selector{background-color:#efefef;border:none}label[_ngcontent-%COMP%]{display:block;font-size:11px}[_nghost-%COMP%]     .ant-typography .ant-typography-secondary{font-size:10px}.heading[_ngcontent-%COMP%]{display:block;margin-bottom:-5px}"]}),t})();var wn=n("Ujc4"),Wn=n("ZyQt"),kn=n("eKjZ");function Vn(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"h4",2),c.Xc(2," Fill out a patient assessment "),c.Wb(),c.Sb(3,"br"),c.Xb(4,"p",3),c.Xb(5,"strong"),c.Xc(6,"You can search for a patient and fill out any open assessments on their behalf."),c.Wb(),c.Wb(),c.Xb(7,"app-patient-search",4),c.ec("selected",function(e){return c.Lc(t),c.ic().patientSelected(e)}),c.Wb(),c.Sb(8,"br"),c.Sb(9,"br"),c.Xb(10,"p",3),c.Xc(11," We recommend you obtain the patient's consent before you fill out any assessment on their behalf. "),c.Wb(),c.Ub()}}function xn(t,e){if(1&t&&c.Sb(0,"img",19),2&t){const t=c.ic(2);c.rc("src",null==t.patient?null:t.patient.profilePicture,c.Oc)}}function Un(t,e){1&t&&c.Sb(0,"nz-avatar",20),2&t&&c.rc("nzShape","square")("nzSize",60)("nzIcon","user")}function Fn(t,e){1&t&&(c.Vb(0),c.Xc(1,"Male"),c.Ub())}function Hn(t,e){1&t&&(c.Vb(0),c.Xc(1,"Female"),c.Ub())}function Bn(t,e){1&t&&(c.Vb(0),c.Xc(1,"Other"),c.Ub())}function jn(t,e){1&t&&(c.Xb(0,"nz-tag",28),c.Xc(1,"Care Plan Assessment"),c.Wb()),2&t&&c.rc("nzColor","green")}function Gn(t,e){1&t&&(c.Xb(0,"nz-tag",28),c.Xc(1,"On Demand Assessment"),c.Wb()),2&t&&c.rc("nzColor","orange")}function Yn(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"div",21),c.Xb(2,"div",22),c.Vc(3,jn,2,1,"nz-tag",23),c.Vc(4,Gn,2,1,"nz-tag",23),c.Xb(5,"h4",3),c.Xc(6),c.Wb(),c.Xb(7,"p",10),c.Xc(8),c.jc(9,"date"),c.Wb(),c.Wb(),c.Xb(10,"div",6),c.Xb(11,"p",24),c.Xc(12),c.Wb(),c.Wb(),c.Xb(13,"div",25),c.Xb(14,"div",26),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic(2).navigate(n)}),c.Sb(15,"app-icons",27),c.Wb(),c.Wb(),c.Wb(),c.Sb(16,"nz-divider"),c.Ub()}if(2&t){const t=e.$implicit,n=c.ic(2);c.Db(3),c.rc("ngIf","CAREPLAN"===(null==t?null:t.parentType)),c.Db(1),c.rc("ngIf","ADHOCTASK"===(null==t?null:t.parentType)),c.Db(2),c.Yc(null==t?null:t.title),c.Db(2),c.Zc("Last measured: ",c.lc(9,6,null==n.lastEvaluatedForms[null==t||null==t.parameters?null:t.parameters.formBlueprintId]?null:n.lastEvaluatedForms[null==t||null==t.parameters?null:t.parameters.formBlueprintId].assessedOn,"mediumDate")||"N/A"," "),c.Db(3),c.rc("nzType",(null==t?null:t.scheduledOn)<n.currentDate?"danger":"primary"),c.Db(1),c.Zc(" ",(null==t?null:t.scheduledOn)<n.currentDate?"Overdue":"Due Today"," ")}}function $n(t,e){1&t&&(c.Vb(0),c.Xb(1,"label",10),c.Xc(2," No assessment forms available for this patient. "),c.Wb(),c.Ub())}function qn(t,e){1&t&&(c.Xb(0,"div",29),c.Sb(1,"nz-spin",30),c.Wb())}function Zn(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"h4",2),c.Xc(2," Pending Assessments "),c.Wb(),c.Sb(3,"br"),c.Xb(4,"div",5),c.Xb(5,"div",6),c.Xb(6,"div"),c.Vc(7,xn,1,1,"img",7),c.Vc(8,Un,1,3,"nz-avatar",8),c.Wb(),c.Wb(),c.Xb(9,"div",9),c.Xb(10,"h4",3),c.Xc(11),c.Wb(),c.Xb(12,"h5",10),c.Xc(13),c.jc(14,"userAge"),c.Xb(15,"span",11),c.Vc(16,Fn,2,0,"ng-container",12),c.Vc(17,Hn,2,0,"ng-container",12),c.Vc(18,Bn,2,0,"ng-container",12),c.Wb(),c.Wb(),c.Xb(19,"h5",10),c.Xc(20),c.jc(21,"date"),c.Wb(),c.Wb(),c.Xb(22,"div",13),c.Sb(23,"app-audio-call-widget",14),c.Wb(),c.Wb(),c.Sb(24,"br"),c.Xb(25,"div",5),c.Xb(26,"div",15),c.Xb(27,"button",16),c.ec("click",function(){return c.Lc(t),c.ic().closeDrawer()}),c.Xc(28),c.jc(29,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Sb(30,"br"),c.Sb(31,"br"),c.Vc(32,Yn,17,9,"ng-container",17),c.Vc(33,$n,3,0,"ng-container",1),c.Vc(34,qn,2,0,"div",18),c.Ub()}if(2&t){const t=c.ic();c.Db(7),c.rc("ngIf",null==t.patient?null:t.patient.profilePicture),c.Db(1),c.rc("ngIf",!(null!=t.patient&&t.patient.profilePicture)),c.Db(3),c.Yc((null==t.patient?null:t.patient.name)||"N/A"),c.Db(2),c.Zc(" ",c.kc(14,16,null==t.patient?null:t.patient.dateOfBirth)||"N/A"," years, "),c.Db(2),c.rc("ngSwitch",null==t.patient?null:t.patient.gender),c.Db(1),c.rc("ngSwitchCase","MALE"),c.Db(1),c.rc("ngSwitchCase","FEMALE"),c.Db(1),c.rc("ngSwitchCase","OTHER"),c.Db(2),c.Zc(" DoB: \xa0 ",c.lc(21,18,null==t.patient?null:t.patient.dateOfBirth,"mediumDate")||"N/A"," "),c.Db(3),c.rc("userId",null==t.patient?null:t.patient.id)("phoneNumbers",null==t.patient?null:t.patient.phoneNumbers),c.Db(4),c.tc("routerLink","/patient/view/",null==t.patient?null:t.patient.id,""),c.Db(1),c.Zc(" ",c.kc(29,21,"PATIENT.VIEW_PROFILE")," "),c.Db(4),c.rc("ngForOf",t.forms),c.Db(1),c.rc("ngIf",!(t.loading||null!=t.forms&&t.forms.length)),c.Db(1),c.rc("ngIf",t.loading)}}let Qn=(()=>{class t{constructor(t,e,n,i,a){this._formService=t,this._drawerRef=e,this._domSanitizer=n,this._dataSharingService=i,this._router=a,this.rootURL=st.g.webFormRootURL,this.currentDate=(new Date).setHours(0,0,0,0),this.lastEvaluatedForms=new Map,this.router$=this._router.events.subscribe(t=>{var e;t instanceof d.d&&(null===(e=this._drawerRef)||void 0===e||e.close())})}onMessage(t){var e,n;(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.canClose)&&(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.success)&&this.closeWebForm()}ngOnDestroy(){var t,e;null===(t=this.router$)||void 0===t||t.unsubscribe(),null===(e=this.notesDialog$)||void 0===e||e.unsubscribe()}patientSelected(t){this.patient=t,this.fetchLastEvaluatedForms(),this.fetchFormActionItems()}fetchLastEvaluatedForms(){var t;this._formService.fetchLastEvaluatedForms(null===(t=this.patient)||void 0===t?void 0:t.id).subscribe(t=>{this.lastEvaluatedForms=null==t?void 0:t.data})}fetchFormActionItems(){var t;this.loading=!0,this._formService.fetchFormActionItemsForPatient(null===(t=this.patient)||void 0===t?void 0:t.id).subscribe(t=>{this.loading=!1,(null==t?void 0:t.length)&&(null==t||t.forEach(t=>{t.parameters=JSON.parse(null==t?void 0:t.parameters),(null==t?void 0:t.scheduledOn)||(t.scheduledOn=new Date(null==t?void 0:t.scheduledAt).setHours(23))}),this.forms=t)})}navigate(t){var e,n;const i=localStorage.getItem("sessionToken"),a=`${this.rootURL}web-form/${null===(e=null==t?void 0:t.parameters)||void 0===e?void 0:e.formBlueprintId}/${i}/${null==t?void 0:t.patientId}/${null==t?void 0:t.id}?source=portal&sourceType=${null===(n=null==t?void 0:t.parentType)||void 0===n?void 0:n.toLowerCase()}`,o=this._domSanitizer.bypassSecurityTrustResourceUrl(a);this._dataSharingService.initiatePatientTrigger({patientId:this.patient.id,patientName:this.patient.name,url:o})}closeWebForm(){this.loading=!0,this.forms=[],this.fetchLastEvaluatedForms(),setTimeout(()=>{this.fetchFormActionItems()},2e3)}closeDrawer(){this._drawerRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(On.a),c.Rb(cn.c),c.Rb(i.b),c.Rb(C.a),c.Rb(d.g))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-patient-assessment"]],hostBindings:function(t,e){1&t&&c.ec("message",function(t){return e.onMessage(t)},!1,c.Kc)},decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],["nz-typography","","nzType","success"],["nz-typography",""],[3,"selected"],["nz-row",""],["nz-col","","nzSpan","6"],["alt","user-profile",3,"src",4,"ngIf"],[3,"nzShape","nzSize","nzIcon",4,"ngIf"],["nz-col","","nzSpan","16"],["nz-typography","","nzType","secondary"],[3,"ngSwitch"],[4,"ngSwitchCase"],["nz-col","","nzSpan","2"],[3,"userId","phoneNumbers"],["nz-col","","nzSpan","24"],["nz-button","","nzType","primary","nzSize","large",3,"routerLink","click"],[4,"ngFor","ngForOf"],["id","loader",4,"ngIf"],["alt","user-profile",3,"src"],[3,"nzShape","nzSize","nzIcon"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","14"],[3,"nzColor",4,"ngIf"],["nz-typography","",3,"nzType"],["nz-col","","nzSpan","4"],[1,"anchor",3,"click"],["name","arrowRight"],[3,"nzColor"],["id","loader"],["nzSimple",""]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Vc(1,Vn,12,0,"ng-container",1),c.Vc(2,Zn,35,23,"ng-container",1),c.Wb()),2&t&&(c.Db(1),c.rc("ngIf",!e.patient),c.Db(1),c.rc("ngIf",e.patient))},directives:[h.q,x.a,Ln,F.c,F.a,h.s,h.t,wn.a,B.a,j.a,G.a,d.h,h.p,tn.a,dt.a,U.a,Wn.a,ye.a],pipes:[kn.a,h.e,Z.a],styles:[".container[_ngcontent-%COMP%]{padding:15px 0!important}strong[_ngcontent-%COMP%]{font-weight:bolder}p[_ngcontent-%COMP%]{font-size:12px;line-height:2}[_nghost-%COMP%]     .ant-avatar{background:#dddfe1}img[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]     .ant-tag{font-size:9px;margin-bottom:10px;padding:0 5px;line-height:18px}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0!important}button[_ngcontent-%COMP%]{width:100%}.anchor[_ngcontent-%COMP%]{text-align:right;line-height:2.5}nz-divider[_ngcontent-%COMP%]{margin-top:0}iframe[_ngcontent-%COMP%]{margin-bottom:-10px}#loader[_ngcontent-%COMP%]{text-align:center}"]}),t})();var Kn=n("pSeI"),Jn=n("PzCk"),ti=n("U2hf"),ei=n("vduv");function ni(t,e){if(1&t&&(c.Xb(0,"div",25),c.Sb(1,"app-icons",26),c.Wb()),2&t){const t=c.ic(4);c.Db(1),c.rc("color",t.iconColor)("strokeColor",t.iconColor)("fill",t.iconColor)}}function ii(t,e){if(1&t&&(c.Xb(0,"div",25),c.Sb(1,"app-icons",27),c.Wb()),2&t){const t=c.ic(4);c.Db(1),c.rc("color",t.iconColor)("altColor",t.iconColor)}}function ai(t,e){if(1&t&&(c.Xb(0,"div",22),c.Xb(1,"div",23),c.Xc(2,"Quick Actions"),c.Wb(),c.Vc(3,ni,2,3,"div",24),c.Vc(4,ii,2,2,"div",24),c.Wb()),2&t){const t=c.ic(3);c.Db(3),c.rc("ngIf",!t.subMenuMap.quickLinks),c.Db(1),c.rc("ngIf",t.subMenuMap.quickLinks)}}function oi(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"li",28),c.Xb(2,"a",29),c.ec("click",function(){c.Lc(t);const e=c.ic(3);return e.showQuickLinkAction("PATIENT_ASSESSMENT"),e.logDrawerEvent("fill-assessment")}),c.Xb(3,"span"),c.Xc(4," Assessments "),c.Wb(),c.Wb(),c.Wb(),c.Ub()}}function si(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",29),c.ec("click",function(){c.Lc(t);const e=c.ic(4);return e.showQuickLinkAction("ASSIGN_STAFF"),e.logDrawerEvent("staff-assigner")}),c.Xc(2," Assign staff "),c.Wb(),c.Wb()}}const ri=function(){return["ASSIGN_MONITORING_STAFF_TO_PATIENT"]};function ci(t,e){1&t&&(c.Vb(0),c.Vc(1,si,3,0,"li",6),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,ri)))}const li=function(){return["VIEW_ASSESSMENT"]};function di(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",20),c.ec("nzOpenChange",function(e){return c.Lc(t),c.ic(2).subMenuMap.quickLinks=e})("nzOpenChange",function(){return c.Lc(t),c.ic(2).openHandler("quickLinks")}),c.Vc(1,ai,5,2,"ng-template",null,21,c.Wc),c.Xb(3,"ul",10),c.Vc(4,oi,5,0,"ng-container",15),c.Vc(5,ci,2,2,"ng-container",4),c.Wb(),c.Wb()}if(2&t){const t=c.Ic(2),e=c.ic(2);c.rc("nzOpen",e.subMenuMap.quickLinks)("nzTitle",t),c.Db(4),c.rc("isFeaturePermitted",c.xc(4,li)),c.Db(1),c.rc("ngIf",e.isTenantAdmin)}}const ui=function(){return["ASSIGN_MONITORING_STAFF_TO_PATIENT","VIEW_ASSESSMENT"]};function pi(t,e){1&t&&(c.Vb(0),c.Vc(1,di,6,5,"li",19),c.Ub()),2&t&&(c.Db(1),c.rc("anyFeaturePermitted",c.xc(1,ui)))}const hi=function(t){return{role:t}};function bi(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"li",11),c.Xb(2,"a",30),c.ec("click",function(){return c.Lc(t),c.ic().logDrawerEvent("staff")}),c.Xb(3,"span"),c.Sb(4,"app-nomenclature",31),c.jc(5,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Ub()}if(2&t){const t=c.ic();c.Db(2),c.rc("queryParams",c.yc(4,hi,"TENANT_ADMIN"!==t.loggedInUserRole?"MONITORING_STAFF":"PHYSICIAN")),c.Db(2),c.sc("default",c.kc(5,2,"MENU.STAFF"))}}function gi(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",32),c.ec("click",function(){c.Lc(t);const e=c.ic();return e.navigateToPatient(),e.logDrawerEvent("patient")}),c.Xb(2,"span"),c.Sb(3,"app-nomenclature",33),c.jc(4,"translate"),c.Wb(),c.Wb(),c.Wb()}2&t&&(c.Db(3),c.sc("default",c.kc(4,1,"MENU.PATIENTS")))}const mi=function(t){return{userType:t}};function fi(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",34),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("staff-work-list")}),c.Xb(2,"span"),c.Sb(3,"app-nomenclature",35),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.ic(2);c.Db(1),c.rc("queryParams",c.yc(1,mi,"MONITORING_STAFF"===t.loggedInUserRole?"PATIENT":"LEAD"))}}const vi=function(){return["VIEW_WORK_LIST"]};function Si(t,e){1&t&&(c.Vb(0),c.Vc(1,fi,4,3,"li",6),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,vi)))}const Ti=function(){return{tab:"upcoming"}};function Ci(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"li",11),c.Xb(2,"a",36),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("appointments")}),c.Xb(3,"span"),c.Sb(4,"app-nomenclature",37),c.jc(5,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Ub()}2&t&&(c.Db(2),c.rc("queryParams",c.xc(4,Ti)),c.Db(2),c.sc("default",c.kc(5,2,"MENU.APPOINTMENT")))}const Ei=function(){return["VIEW_APPOINTMENT"]};function Ii(t,e){1&t&&(c.Vb(0),c.Vc(1,Ci,6,5,"ng-container",15),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,Ei)))}const Mi=function(){return{tab:"ACTIVE"}},yi=function(){return{exact:!0}};function Ai(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",18),c.Xb(1,"a",39),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("leads")}),c.Xb(2,"span"),c.Sb(3,"app-nomenclature",40),c.jc(4,"translate"),c.Wb(),c.Wb(),c.Wb()}2&t&&(c.Db(1),c.rc("queryParams",c.xc(5,Mi))("routerLinkActiveOptions",c.xc(6,yi)),c.Db(2),c.sc("default",c.kc(4,3,"MENU.LEADS")))}function _i(t,e){1&t&&c.Sb(0,"nz-divider")}const Di=function(){return["VIEW_LEAD"]};function zi(t,e){1&t&&(c.Vb(0),c.Vc(1,Ai,5,7,"li",38),c.Vc(2,_i,1,0,"nz-divider",15),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(2,Di)),c.Db(1),c.rc("isFeaturePermitted",c.xc(3,Di)))}const Oi=function(){return{program:"CCM"}};function Ni(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"li",11),c.Xb(2,"a",41),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("compliance")}),c.Xb(3,"span"),c.Xc(4,"Compliance"),c.Wb(),c.Wb(),c.Wb(),c.Sb(5,"nz-divider"),c.Ub()}2&t&&(c.Db(2),c.rc("queryParams",c.xc(1,Oi)))}const Pi=function(){return["VIEW_COMPLIANCE"]};function Ri(t,e){1&t&&(c.Vb(0),c.Vc(1,Ni,6,2,"ng-container",15),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,Pi)))}function Xi(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"li",11),c.Xb(2,"a",42),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("order-device")}),c.Xb(3,"span"),c.Xc(4),c.jc(5,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Sb(6,"nz-divider"),c.Ub()}2&t&&(c.Db(4),c.Yc(c.kc(5,1,"DEVICE_ORDER.DEVICE_ORDER")))}const Li=function(){return{feature:"deviceConfig?.deviceOrderEnabled"}};function wi(t,e){1&t&&(c.Vb(0),c.Vc(1,Xi,7,3,"ng-container",7),c.Ub()),2&t&&(c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(1,Li)))}function Wi(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"li",11),c.Xb(2,"a",43),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("careplan-assignments")}),c.Xb(3,"span"),c.Xc(4," Active Care Plans "),c.Wb(),c.Wb(),c.Wb(),c.Sb(5,"nz-divider"),c.Ub()}}const ki=function(){return["VIEW_CARE_PLAN_TEMPLATE"]};function Vi(t,e){1&t&&(c.Vb(0),c.Vc(1,Wi,6,0,"ng-container",15),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,ki)))}function xi(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"li",11),c.Xb(2,"a",44),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("analytics-reports")}),c.Xb(3,"span"),c.Xc(4,"Reports"),c.Wb(),c.Wb(),c.Wb(),c.Sb(5,"nz-divider"),c.Ub()}}const Ui=function(){return["VIEW_REPORT"]};function Fi(t,e){1&t&&(c.Vb(0),c.Vc(1,xi,6,0,"ng-container",15),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,Ui)))}const Hi=function(){return{tab:"non-complex"}};function Bi(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"li",11),c.Xb(2,"a",45),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("billing-reports")}),c.Xb(3,"span"),c.Xc(4,"Billing"),c.Wb(),c.Wb(),c.Wb(),c.Sb(5,"nz-divider"),c.Ub()}2&t&&(c.Db(2),c.rc("queryParams",c.xc(1,Hi)))}const ji=function(){return["VIEW_BILLING"]};function Gi(t,e){1&t&&(c.Vb(0),c.Vc(1,Bi,6,2,"ng-container",15),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,ji)))}function Yi(t,e){if(1&t&&(c.Xb(0,"div",25),c.Sb(1,"app-icons",26),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.rc("color",t.iconColor)("strokeColor",t.iconColor)("fill",t.iconColor)}}function $i(t,e){if(1&t&&(c.Xb(0,"div",25),c.Sb(1,"app-icons",27),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.rc("color",t.iconColor)("altColor",t.iconColor)}}function qi(t,e){if(1&t&&(c.Xb(0,"div",22),c.Xb(1,"div",46),c.Xc(2,"Configure"),c.Wb(),c.Vc(3,Yi,2,3,"div",24),c.Vc(4,$i,2,2,"div",24),c.Wb()),2&t){const t=c.ic();c.Db(3),c.rc("ngIf",!t.subMenuMap.configure),c.Db(1),c.rc("ngIf",t.subMenuMap.configure)}}function Zi(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",47),c.ec("click",function(){return c.Lc(t),c.ic().logDrawerEvent("sites")}),c.Xb(2,"span"),c.Sb(3,"app-nomenclature",48),c.jc(4,"translate"),c.Wb(),c.Wb(),c.Wb()}2&t&&(c.Db(3),c.sc("default",c.kc(4,1,"MENU.SITES")))}function Qi(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",50),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("roles")}),c.Xb(2,"span"),c.Sb(3,"app-nomenclature",51),c.jc(4,"translate"),c.Wb(),c.Wb(),c.Wb()}2&t&&(c.Db(3),c.sc("default",c.kc(4,1,"PORTAL.ROLE")))}const Ki=function(){return["ADD_ROLE","EDIT_ROLE","VIEW_ROLE","DELETE_ROLE"]};function Ji(t,e){1&t&&(c.Vb(0),c.Vc(1,Qi,5,3,"li",49),c.Ub()),2&t&&(c.Db(1),c.rc("anyFeaturePermitted",c.xc(1,Ki)))}function ta(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",52),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("crm-settings")}),c.Xb(2,"span"),c.Xc(3," Genesys "),c.Wb(),c.Wb(),c.Wb()}}const ea=function(){return["VIEW_CRM_CONFIG"]};function na(t,e){1&t&&(c.Vb(0),c.Vc(1,ta,4,0,"li",6),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,ea)))}function ia(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",53),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("vital-blueprints")}),c.Xb(2,"span"),c.Xc(3," Vital Signs "),c.Wb(),c.Wb(),c.Wb()}}const aa=function(){return["VIEW_VITAL_BLUEPRINT"]};function oa(t,e){1&t&&(c.Vb(0),c.Vc(1,ia,4,0,"li",6),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,aa)))}function sa(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",54),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("forms")}),c.Xb(2,"span"),c.Sb(3,"app-nomenclature",55),c.jc(4,"translate"),c.Wb(),c.Wb(),c.Wb()}2&t&&(c.Db(3),c.sc("default",c.kc(4,1,"MENU.SURVEY")))}const ra=function(){return["VIEW_FORM"]};function ca(t,e){1&t&&(c.Vb(0),c.Vc(1,sa,5,3,"li",6),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,ra)))}const la=function(){return{tab:"SUMMARY"}};function da(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"li",11),c.Xb(2,"a",56),c.ec("click",function(){return c.Lc(t),c.ic().logDrawerEvent("alerts_configuration")}),c.Xb(3,"span"),c.Xc(4),c.jc(5,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Ub()}2&t&&(c.Db(2),c.rc("queryParams",c.xc(4,la)),c.Db(2),c.Zc(" ",c.kc(5,2,"ALERTS")," "))}function ua(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",57),c.ec("click",function(){return c.Lc(t),c.ic().logDrawerEvent("tags")}),c.Xb(2,"span"),c.Sb(3,"app-nomenclature",58),c.jc(4,"translate"),c.Wb(),c.Wb(),c.Wb()}2&t&&(c.Db(3),c.sc("default",c.kc(4,1,"TITLE.TAG")))}function pa(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",59),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("course-contents")}),c.Xb(2,"span"),c.Sb(3,"app-nomenclature",60),c.jc(4,"translate"),c.Wb(),c.Wb(),c.Wb()}2&t&&(c.Db(3),c.sc("default",c.kc(4,1,"COURSECONTENT.TITLE")))}const ha=function(){return["VIEW_COURSE"]};function ba(t,e){1&t&&(c.Vb(0),c.Vc(1,pa,5,3,"li",6),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,ha)))}function ga(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",61),c.ec("click",function(){return c.Lc(t),c.ic().logDrawerEvent("insurance-payers")}),c.Xb(2,"span"),c.Sb(3,"app-nomenclature",62),c.Wb(),c.Wb(),c.Wb()}}const ma=function(){return{type:"default"}};function fa(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",63),c.ec("click",function(){return c.Lc(t),c.ic().logDrawerEvent("diagnosis-codes")}),c.Xb(2,"span"),c.Sb(3,"app-nomenclature",64),c.Wb(),c.Wb(),c.Wb()}2&t&&(c.Db(1),c.rc("queryParams",c.xc(1,ma)))}function va(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",65),c.ec("click",function(){return c.Lc(t),c.ic().logDrawerEvent("billing-rate")}),c.Xb(2,"span"),c.Sb(3,"app-nomenclature",66),c.Wb(),c.Wb(),c.Wb()}}function Sa(t,e){if(1&t&&(c.Xb(0,"div",25),c.Sb(1,"app-icons",26),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.rc("color",t.iconColor)("strokeColor",t.iconColor)("fill",t.iconColor)}}function Ta(t,e){if(1&t&&(c.Xb(0,"div",25),c.Sb(1,"app-icons",27),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.rc("color",t.iconColor)("altColor",t.iconColor)}}function Ca(t,e){if(1&t&&(c.Xb(0,"div",22),c.Xb(1,"div",46),c.Xc(2,"Templates"),c.Wb(),c.Vc(3,Sa,2,3,"div",24),c.Vc(4,Ta,2,2,"div",24),c.Wb()),2&t){const t=c.ic();c.Db(3),c.rc("ngIf",!t.subMenuMap.templates),c.Db(1),c.rc("ngIf",t.subMenuMap.templates)}}function Ea(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",68),c.Xb(1,"a",69),c.ec("click",function(){return c.Lc(t),c.ic(2).logDrawerEvent("careplan-templates")}),c.Xb(2,"span"),c.Xc(3," Care Plan "),c.Wb(),c.Wb(),c.Wb()}}const Ia=function(){return{feature:"careplanConfig?.enabled"}};function Ma(t,e){1&t&&(c.Vb(0),c.Vc(1,Ea,4,0,"li",67),c.Ub()),2&t&&(c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(1,Ia)))}function ya(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",11),c.Xb(1,"a",70),c.ec("click",function(){return c.Lc(t),c.ic(3).logDrawerEvent("sms-templates")}),c.Xc(2),c.jc(3,"translate"),c.Wb(),c.Wb()}2&t&&(c.Db(2),c.Zc(" ",c.kc(3,1,"SMS")," "))}const Aa=function(){return["VIEW_SMS_TEMPLATE"]};function _a(t,e){1&t&&(c.Vb(0),c.Vc(1,ya,4,3,"li",6),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,Aa)))}const Da=function(){return{feature:"smsConfig?.enableConversation"}};function za(t,e){1&t&&(c.Vb(0),c.Vc(1,_a,2,2,"ng-container",7),c.Ub()),2&t&&(c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(1,Da)))}function Oa(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"li",11),c.Xb(2,"a",71),c.ec("click",function(){return c.Lc(t),c.ic().logDrawerEvent("letter-templates")}),c.Xc(3," Letter "),c.Wb(),c.Wb(),c.Ub()}}const Na=function(){return["VIEW_STAFF","VIEW_MONITORING_STAFF","VIEW_PHYSICIAN"]},Pa=function(){return["VIEW_PATIENT"]},Ra=function(){return{feature:"crmConfig?.enabled"}},Xa=function(){return{feature:"appointmentConfig?.appointmentEnabled"}},La=function(){return{feature:"userConfig?.leadsEnabled"}},wa=function(){return{feature:"complianceConfig?.enabled"}},Wa=function(){return{feature:"reportConfig?.enabled"}},ka=function(){return{feature:"billingConfig?.enabled"}},Va=function(){return["VIEW_SITE"]},xa=function(){return{feature:"securityConfigs?.customRolesConfig?.enabled"}},Ua=function(){return{feature:"vitalConfig?.enabled"}},Fa=function(){return{feature:"featureConfigs?.formsEnabled"}},Ha=function(){return["VIEW_TAG"]},Ba=function(){return{feature:"contentConfig?.enabled"}},ja=function(){return{feature:"smsConfig?.enabled"}},Ga=function(){return{feature:"directMailConfig?.directMailEnabled"}},Ya=function(){return{type:"docs"}};let $a=(()=>{class t{constructor(t,e,n,i){this._router=t,this._drawerService=e,this._dataSharingService=n,this._applicationInsights=i,this.subMenuMap={quickLinks:!1,configure:!1,templates:!1,log:!1},this.loggedInUserRole=localStorage.getItem("loggedInUserRole"),this.isTenantAdmin=this.loggedInUserRole==zn.a.TENANT_ADMIN,this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color")}ngOnInit(){this.loggedInUserRole=localStorage.getItem("loggedInUserRole"),this.isTenantAdmin=this.loggedInUserRole==zn.a.TENANT_ADMIN,this._dataSharingService.assignedTenantSettings.subscribe(t=>{t&&(this.assignedTenantSettings=t)})}logDrawerEvent(t){this._applicationInsights.drawerEvent(t)}openHandler(t){for(const e in this.subMenuMap)e!==t&&(this.subMenuMap[e]=!1)}showQuickLinkAction(t){switch(t){case"PATIENT_ASSESSMENT":this._drawerService.create({nzContent:Qn,nzContentParams:{},nzMask:!0,nzMaskStyle:{background:"transparent"},nzMaskClosable:!0,nzWidth:400});break;case"ASSIGN_STAFF":this._router.navigate(["/bulk/assign/monitoring-staff"])}}navigateToPatient(){var t;let e;for(let i of Array.from(this.assignedTenantSettings.entries()))if(i[1].episodeBlueprints&&i[1].episodeBlueprints.length>0){e=i[1];break}const n=null===(t=null==e?void 0:e.episodeBlueprints)||void 0===t?void 0:t.filter(t=>!(null==t?void 0:t.archived));if(null==n?void 0:n.length){const t=n[0];this._router.navigate(["patient"],{queryParams:{filter:"EPISODES","sub-filter":null==t?void 0:t.type,episodeStatus:O.a.IN_PROGRESS,episodeBlueprint:null==t?void 0:t.id}})}else this._router.navigate(["patient"],{queryParams:{filter:"ALL_PATIENTS"}})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(d.g),c.Rb(cn.d),c.Rb(C.a),c.Rb(Ot.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-sidebar"]],decls:59,vars:59,consts:[["nz-menu","","nzMode","inline"],["nz-menu-item","","routerLink","/dashboard","routerLinkActive","active",3,"click"],["routerLink","/dashboard","routerLinkActive","active",3,"click"],["nomenclature","dashboard",3,"default"],[4,"ngIf"],[4,"anyFeaturePermitted"],["nz-menu-item","","routerLinkActive","active",4,"isFeaturePermitted"],[4,"isTenantFeatureEnabled"],["nz-submenu","",1,"vertical-gutter-15",3,"nzOpen","nzTitle","nzOpenChange"],["configureTitle",""],[1,"templates-menu"],["nz-menu-item","","routerLinkActive","active"],["routerLink","/settings","routerLinkActive","active",3,"click"],["nz-menu-item","","routerLinkActive","active",4,"ngIf"],["templatesTitle",""],[4,"isFeaturePermitted"],["routerLink","/templates/note-templates","routerLinkActive","active",3,"click"],["routerLink","/support/help-guides","routerLinkActive","active",3,"queryParams","click"],["nz-menu-item",""],["nz-submenu","","class","vertical-gutter-15","class","quick-links-container",3,"nzOpen","nzTitle","nzOpenChange",4,"anyFeaturePermitted"],["nz-submenu","",1,"quick-links-container",3,"nzOpen","nzTitle","nzOpenChange"],["quickLinksTitle",""],["nz-row",""],["nz-col","","nzSpan","21",1,"quick-links"],["nz-col","","nzSpan","3",4,"ngIf"],["nz-col","","nzSpan","3"],["name","downArrowCircle","size","14px",3,"color","strokeColor","fill"],["name","upArrowCircle","size","14px",3,"color","altColor"],["nz-menu-item","","routerLinkActive","active","nz-tooltip","","nzTooltipTitle","Fill an assessment"],["routerLinkActive","active",3,"click"],["routerLink","/staff","routerLinkActive","active",3,"queryParams","click"],["nomenclature","staff",3,"default"],[3,"click"],["nomenclature","patients",3,"default"],["routerLink","/staff/work-list","routerLinkActive","active",3,"queryParams","click"],["nomenclature","staffWorkList","default","Work List"],["routerLink","/appointments","routerLinkActive","active",3,"queryParams","click"],["nomenclature","appointments",3,"default"],["nz-menu-item","",4,"isFeaturePermitted"],["routerLink","/leads","routerLinkActive","active",3,"queryParams","routerLinkActiveOptions","click"],["nomenclature","leads",3,"default"],["routerLink","/compliance/patient-communication-notes","routerLinkActive","active",3,"queryParams","click"],["routerLink","/device-order","routerLinkActive","active",3,"click"],["routerLink","/cplanassignments","routerLinkActive","active",3,"click"],["routerLink","/analytics/reports","routerLinkActive","active",3,"click"],["routerLink","/billing","routerLinkActive","active",3,"queryParams","click"],["nz-col","","nzSpan","21"],["routerLink","/sites","routerLinkActive","active",3,"click"],["nomenclature","sites",3,"default"],["nz-menu-item","","routerLinkActive","active",4,"anyFeaturePermitted"],["routerLink","/staff/custom-roles/list/roles",3,"click"],["nomenclature","roles",3,"default"],["routerLink","/crm-settings","routerLinkActive","active",3,"click"],["routerLink","/vital-blueprints","routerLinkActive","active",3,"click"],["routerLink","/forms","routerLinkActive","active",3,"click"],["nomenclature","forms",3,"default"],["routerLink","/alerts/configuration","routerLinkActive","active",3,"queryParams","click"],["routerLink","/tags","routerLinkActive","active",3,"click"],["nomenclature","tags",3,"default"],["routerLink","/course-contents","routerLinkActive","active",3,"click"],["nomenclature","courses",3,"default"],["routerLink","/insurance-payers","routerLinkActive","active",3,"click"],["nomenclature","insurancePayers","default","Insurance Payers"],["routerLink","/diagnosis-codes","routerLinkActive","active",3,"queryParams","click"],["nomenclature","diagnosisCodes","default","Diagnosis Codes"],["routerLink","episodes/billing-rate","routerLinkActive","active",3,"click"],["nomenclature","billingRate","default","Episode Billing Rate"],["nz-menu-item","","routerLinkActive","active","nz-tooltip","","nzTooltipTitle","Care Plan",4,"isTenantFeatureEnabled"],["nz-menu-item","","routerLinkActive","active","nz-tooltip","","nzTooltipTitle","Care Plan"],["routerLink","/careplan-templates","routerLinkActive","active",3,"click"],["routerLink","/sms-templates","routerLinkActive","active",3,"click"],["routerLink","/templates/letter-templates","routerLinkActive","active",3,"click"]],template:function(t,e){if(1&t&&(c.Xb(0,"ul",0),c.Xb(1,"li",1),c.ec("click",function(){return e.logDrawerEvent("dashboard")}),c.Xb(2,"a",2),c.ec("click",function(){return e.logDrawerEvent("dashboard")}),c.Xb(3,"span"),c.Sb(4,"app-nomenclature",3),c.jc(5,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Vc(6,pi,2,2,"ng-container",4),c.Sb(7,"nz-divider"),c.Vc(8,bi,6,6,"ng-container",5),c.Vc(9,gi,5,3,"li",6),c.Vc(10,Si,2,2,"ng-container",7),c.Sb(11,"nz-divider"),c.Vc(12,Ii,2,2,"ng-container",7),c.Vc(13,zi,3,4,"ng-container",7),c.Vc(14,Ri,2,2,"ng-container",7),c.Vc(15,wi,2,2,"ng-container",4),c.Vc(16,Vi,2,2,"ng-container",7),c.Vc(17,Fi,2,2,"ng-container",7),c.Vc(18,Gi,2,2,"ng-container",7),c.Xb(19,"li",8),c.ec("nzOpenChange",function(t){return e.subMenuMap.configure=t})("nzOpenChange",function(){return e.openHandler("configure")}),c.Vc(20,qi,5,2,"ng-template",null,9,c.Wc),c.Xb(22,"ul",10),c.Xb(23,"li",11),c.Xb(24,"a",12),c.ec("click",function(){return e.logDrawerEvent("settings")}),c.Xb(25,"span"),c.Xc(26),c.jc(27,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Vc(28,Zi,5,3,"li",6),c.Vc(29,Ji,2,2,"ng-container",7),c.Vc(30,na,2,2,"ng-container",7),c.Vc(31,oa,2,2,"ng-container",7),c.Vc(32,ca,2,2,"ng-container",7),c.Vc(33,da,6,5,"ng-container",4),c.Vc(34,ua,5,3,"li",6),c.Vc(35,ba,2,2,"ng-container",7),c.Vc(36,ga,4,0,"li",13),c.Vc(37,fa,4,2,"li",13),c.Vc(38,va,4,0,"li",13),c.Wb(),c.Wb(),c.Xb(39,"li",8),c.ec("nzOpenChange",function(t){return e.subMenuMap.templates=t})("nzOpenChange",function(){return e.openHandler("templates")}),c.Vc(40,Ca,5,2,"ng-template",null,14,c.Wc),c.Xb(42,"ul",10),c.Vc(43,Ma,2,2,"ng-container",15),c.Vc(44,za,2,2,"ng-container",7),c.Xb(45,"li",11),c.Xb(46,"a",16),c.ec("click",function(){return e.logDrawerEvent("note-templates")}),c.Xc(47," Note "),c.Wb(),c.Wb(),c.Vc(48,Oa,4,0,"ng-container",7),c.Wb(),c.Wb(),c.Sb(49,"nz-divider"),c.Xb(50,"li",11),c.Xb(51,"a",17),c.ec("click",function(){return e.logDrawerEvent("help-guides")}),c.Xb(52,"span"),c.Xc(53),c.jc(54,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(55,"li",18),c.Sb(56,"a"),c.Wb(),c.Xb(57,"li",18),c.Sb(58,"a"),c.Wb(),c.Wb()),2&t){const t=c.Ic(21),n=c.Ic(41);c.Db(4),c.sc("default",c.kc(5,33,"MENU.DASHBOARD")),c.Db(2),c.rc("ngIf","ENROLMENT_STAFF"!==e.loggedInUserRole),c.Db(2),c.rc("anyFeaturePermitted",c.xc(39,Na)),c.Db(1),c.rc("isFeaturePermitted",c.xc(40,Pa)),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(41,Ra)),c.Db(2),c.rc("isTenantFeatureEnabled",c.xc(42,Xa)),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(43,La)),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(44,wa)),c.Db(1),c.rc("ngIf",e.isTenantAdmin),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(45,Ia)),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(46,Wa)),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(47,ka)),c.Db(1),c.rc("nzOpen",e.subMenuMap.configure)("nzTitle",t),c.Db(7),c.Yc(c.kc(27,35,"HEADER.SETTING")),c.Db(2),c.rc("isFeaturePermitted",c.xc(48,Va)),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(49,xa)),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(50,Ra)),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(51,Ua)),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(52,Fa)),c.Db(1),c.rc("ngIf",e.isTenantAdmin),c.Db(1),c.rc("isFeaturePermitted",c.xc(53,Ha)),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(54,Ba)),c.Db(1),c.rc("ngIf",e.isTenantAdmin),c.Db(1),c.rc("ngIf",e.isTenantAdmin),c.Db(1),c.rc("ngIf",e.isTenantAdmin),c.Db(1),c.rc("nzOpen",e.subMenuMap.templates)("nzTitle",n),c.Db(4),c.rc("isFeaturePermitted",c.xc(55,ki)),c.Db(1),c.rc("isTenantFeatureEnabled",c.xc(56,ja)),c.Db(4),c.rc("isTenantFeatureEnabled",c.xc(57,Ga)),c.Db(3),c.rc("queryParams",c.xc(58,Ya)),c.Db(2),c.Yc(c.kc(54,37,"MENU.HELP_GUIDES"))}},directives:[vn.c,G.a,vn.e,d.h,d.i,d.j,Kn.a,h.q,U.a,Jn.a,mn.a,ti.a,ei.a,vn.g,F.c,F.a,dt.a,Oe.d],pipes:[Z.a],styles:["[_nghost-%COMP%]     .ant-divider-horizontal{width:130px;min-width:100px;margin:3px auto 0;border-top:1px solid #e6e6e6}li[_ngcontent-%COMP%]{border-left:5px solid var(--neutral-color);padding-right:0!important}a[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{line-height:40px!important;margin-top:0!important;margin-bottom:0!important;font:normal normal 600 12px/16px Nunito;letter-spacing:0;color:#5b5454}[_nghost-%COMP%]     .ant-menu-submenu-title{line-height:30px!important;padding-right:16px!important}ul[_ngcontent-%COMP%]{margin:auto;border-right:0}[_nghost-%COMP%]     .ant-menu-submenu-arrow{display:none}[_nghost-%COMP%]     .ant-menu-item:after{border-right:none}li.active[_ngcontent-%COMP%]{background-color:transparent!important;color:var(--primary-color);border-radius:5px;border-left:5px solid var(--primary-color)}[_nghost-%COMP%]     .ant-menu-item-selected{background:transparent!important}.active[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.vertical-gutter-15[_ngcontent-%COMP%]{margin-top:10px!important;margin-bottom:-10px!important}.templates-menu[_ngcontent-%COMP%]{width:100%;margin-left:-20px;margin-top:-15px}.templates-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:12px}app-icons[_ngcontent-%COMP%]{vertical-align:sub;margin-right:5px}.ant-menu-sub.ant-menu-inline[_ngcontent-%COMP%]{margin-bottom:5px}.ant-menu-inline[_ngcontent-%COMP%]   .ant-menu-item[_ngcontent-%COMP%]:not(:last-child), .ant-menu-vertical-left[_ngcontent-%COMP%]   .ant-menu-item[_ngcontent-%COMP%]:not(:last-child), .ant-menu-vertical-right[_ngcontent-%COMP%]   .ant-menu-item[_ngcontent-%COMP%]:not(:last-child), [_nghost-%COMP%]     .ant-menu-vertical .ant-menu-item:not(:last-child){margin-bottom:-4px!important}.ant-menu-inline[_ngcontent-%COMP%] > .ant-menu-item[_ngcontent-%COMP%], .ant-menu-inline[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%], .ant-menu-vertical-left[_ngcontent-%COMP%] > .ant-menu-item[_ngcontent-%COMP%], .ant-menu-vertical-left[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%], .ant-menu-vertical-right[_ngcontent-%COMP%] > .ant-menu-item[_ngcontent-%COMP%], .ant-menu-vertical-right[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%], .ant-menu-vertical[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-menu-vertical>.ant-menu-item{margin-bottom:-4px!important}[_nghost-%COMP%]     .ant-menu-submenu-title{margin-bottom:0}.quick-links-container[_ngcontent-%COMP%]{margin-top:-5px}.quick-links[_ngcontent-%COMP%]{font-size:11px}"]}),t})();var qa=n("PTRe"),Za=n("+oEP");function Qa(t,e){if(1&t){const t=c.Yb();c.Xb(0,"button",8),c.ec("click",function(e){return c.Lc(t),c.ic(2).emitSearchKey(e)}),c.Sb(1,"app-icons",9),c.Wb()}2&t&&(c.Db(1),c.rc("originalStyle",!0))}function Ka(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"nz-input-group",5),c.Xb(2,"input",6),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().searchKey=e})("keyup",function(e){return c.Lc(t),c.ic().emitSearchKey(e)}),c.jc(3,"async"),c.Wb(),c.Wb(),c.Vc(4,Qa,2,1,"ng-template",null,7,c.Wc),c.Ub()}if(2&t){const t=c.Ic(5),e=c.ic();c.Db(1),c.rc("nzAddOnAfter",t),c.Db(1),c.sc("placeholder",c.kc(3,3,e.searchPlaceholder$)),c.rc("ngModel",e.searchKey)}}function Ja(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"button",12),c.ec("click",function(){return c.Lc(t),c.ic(4).emitSecondaryAction()}),c.Xc(2),c.Wb(),c.Ub()}if(2&t){const t=c.ic(3).ngIf;c.Db(1),c.rc("nzContent",null==t?null:t.info),c.Db(1),c.Zc(" ",null==t?null:t.title," ")}}function to(t,e){if(1&t&&(c.Vb(0),c.Vc(1,Ja,3,2,"ng-container",4),c.Ub()),2&t){const t=c.ic(2).ngIf;c.Db(1),c.rc("ngIf",null==t?null:t.enabled)}}function eo(t,e){if(1&t&&(c.Vb(0),c.Vc(1,to,2,1,"ng-container",11),c.Ub()),2&t){const t=c.ic().ngIf;c.Db(1),c.rc("isFeaturePermitted",null==t?null:t.permissions)}}function no(t,e){if(1&t&&(c.Vb(0),c.Vc(1,eo,2,1,"ng-container",10),c.Ub()),2&t){const t=c.ic();c.Db(1),c.rc("isTenantFeatureEnabled",null==t.primaryAction?null:t.primaryAction.feature)}}function io(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"button",13),c.ec("click",function(){return c.Lc(t),c.ic(4).emitAction()}),c.Xc(2),c.Wb(),c.Ub()}if(2&t){const t=c.ic(3).ngIf,e=c.ic();c.Db(1),c.rc("nzContent",null==t?null:t.info)("disabled",e.primaryButtonEnabled),c.Db(1),c.Zc(" ",null==t?null:t.title," ")}}function ao(t,e){if(1&t&&(c.Vb(0),c.Vc(1,io,3,3,"ng-container",4),c.Ub()),2&t){const t=c.ic(2).ngIf;c.Db(1),c.rc("ngIf",null==t?null:t.enabled)}}function oo(t,e){if(1&t&&(c.Vb(0),c.Vc(1,ao,2,1,"ng-container",11),c.Ub()),2&t){const t=c.ic().ngIf;c.Db(1),c.rc("isFeaturePermitted",null==t?null:t.permissions)}}function so(t,e){if(1&t&&(c.Vb(0),c.Vc(1,oo,2,1,"ng-container",10),c.Ub()),2&t){const t=e.ngIf;c.Db(1),c.rc("isTenantFeatureEnabled",null==t?null:t.feature)}}function ro(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",21),c.ec("click",function(){c.Lc(t);const e=c.ic(2).$implicit;return c.ic(5).emitMultiAction(null==e?null:e.value)}),c.Xc(1),c.Wb()}if(2&t){const t=c.ic(2).$implicit;c.Db(1),c.Zc(" ",null==t?null:t.title," ")}}function co(t,e){if(1&t&&(c.Vb(0),c.Vc(1,ro,2,1,"li",20),c.Ub()),2&t){const t=c.ic().$implicit;c.Db(1),c.rc("isFeaturePermitted",null==t?null:t.permissions)}}function lo(t,e){if(1&t&&(c.Vb(0),c.Vc(1,co,2,1,"ng-container",10),c.Ub()),2&t){const t=e.$implicit;c.Db(1),c.rc("isTenantFeatureEnabled",null==t?null:t.feature)}}function uo(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"button",15),c.Xc(2),c.Sb(3,"app-icons",16),c.Wb(),c.Xb(4,"nz-dropdown-menu",null,17),c.Xb(6,"ul",18),c.Vc(7,lo,2,1,"ng-container",19),c.Wb(),c.Wb(),c.Ub()),2&t){const t=c.Ic(5),e=c.ic(3).ngIf;c.Db(1),c.rc("nzDropdownMenu",t),c.Db(1),c.Zc(" ",null==e?null:e.title," \xa0 "),c.Db(5),c.rc("ngForOf",null==e?null:e.actions)}}function po(t,e){if(1&t&&(c.Vb(0),c.Vc(1,uo,8,3,"ng-container",4),c.Ub()),2&t){const t=c.ic(2).ngIf;c.Db(1),c.rc("ngIf",null==t?null:t.enabled)}}function ho(t,e){if(1&t&&(c.Vb(0),c.Vc(1,po,2,1,"ng-container",14),c.Ub()),2&t){const t=c.ic().ngIf;c.Db(1),c.rc("anyFeaturePermitted",null==t?null:t.permissions)}}function bo(t,e){if(1&t&&(c.Vb(0),c.Vc(1,ho,2,1,"ng-container",10),c.Ub()),2&t){const t=e.ngIf;c.Db(1),c.rc("isTenantFeatureEnabled",null==t?null:t.feature)}}let go=(()=>{class t{constructor(t,e,n){this._dataSharingService=t,this._routeHelperService=e,this._location=n,this.primaryButtonEnabled=!0,this.title$=this._routeHelperService.getTitleForRoute(),this.isSearchEnabled$=this._routeHelperService.isSearchEnabled(),this.primaryAction$=this._routeHelperService.getPrimaryAction(),this._routeHelperService.getPrimaryEnableAction().subscribe(t=>this.primaryButtonEnabled=t),this.secondaryAction$=this._routeHelperService.getSecondaryAction(),this.multiAction$=this._routeHelperService.getMultiAction(),this.searchPlaceholder$=this._routeHelperService.getPlaceholderForSearch(),this.searchReset$=this._routeHelperService.searchReset().subscribe(t=>{t&&(this.searchKey=void 0)})}ngOnInit(){this._dataSharingService.tenantSettings.subscribe(t=>{t&&(this.tenantConfig=t)})}ngOnDestroy(){var t;null===(t=this.searchReset$)||void 0===t||t.unsubscribe()}emitSearchKey(t){"keyup"!==t.type||this.searchKey||this._routeHelperService.setSearch(this.searchKey),"keyup"===t.type&&13!==t.keyCode||this._routeHelperService.setSearch(this.searchKey)}emitAction(){this._routeHelperService.setPrimaryActionTriggered()}emitPrimaryActionEnable(t=!0){this._routeHelperService.setPrimaryEnableAction(t)}emitSecondaryAction(){this._routeHelperService.setSecondaryActionTriggered()}emitMultiAction(t){this._routeHelperService.setMultiActionTriggered(t)}goBack(){this._location.back()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(C.a),c.Rb(se.a),c.Rb(h.l))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-actions-header"]],decls:15,vars:15,consts:[["nz-row",""],["nz-col","","nzXs","8","nzSm","6","nzMd","6","nzLg","6"],["id","back-action","name","back","altColor","#ffffff","color","#ffffff",3,"click"],["nz-col","","nzXs","16","nzSm","18","nzMd","18","nzLg","18","id","actionsWrapper"],[4,"ngIf"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","",1,"search",3,"placeholder","ngModel","ngModelChange","keyup"],["searchIconButton",""],["nz-button","","nzType","primary","nzSearch","",3,"click"],["size","14px","name","search",3,"originalStyle"],[4,"isTenantFeatureEnabled"],[4,"isFeaturePermitted"],["nz-button","","nzType","primary","nz-popover","","nzPlacement","bottom",1,"action","secondary-action",3,"nzContent","click"],["nz-button","","nzType","primary","nz-popover","","nzPlacement","bottom",1,"action",3,"nzContent","disabled","click"],[4,"anyFeaturePermitted"],["nz-button","","nzType","primary","nz-dropdown","",1,"action",3,"nzDropdownMenu"],["stroke","2px","size","10px","color","#ffffff","name","down"],["multiActionDropdown","nzDropdownMenu"],["nz-menu",""],[4,"ngFor","ngForOf"],["nz-menu-item","",3,"click",4,"isFeaturePermitted"],["nz-menu-item","",3,"click"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"h3"),c.Xb(3,"app-icons",2),c.ec("click",function(){return e.goBack()}),c.Wb(),c.Xc(4),c.jc(5,"async"),c.Wb(),c.Wb(),c.Xb(6,"div",3),c.Vc(7,Ka,6,5,"ng-container",4),c.jc(8,"async"),c.Vc(9,no,2,1,"ng-container",4),c.jc(10,"async"),c.Vc(11,so,2,1,"ng-container",4),c.jc(12,"async"),c.Vc(13,bo,2,1,"ng-container",4),c.jc(14,"async"),c.Wb(),c.Wb()),2&t&&(c.Db(4),c.Zc("",c.kc(5,5,e.title$)," "),c.Db(3),c.rc("ngIf",c.kc(8,7,e.isSearchEnabled$)),c.Db(2),c.rc("ngIf",c.kc(10,9,e.secondaryAction$)),c.Db(2),c.rc("ngIf",c.kc(12,11,e.primaryAction$)),c.Db(2),c.rc("ngIf",c.kc(14,13,e.multiAction$)))},directives:[F.c,F.a,dt.a,h.q,G.a,qa.c,qa.b,b.d,b.u,b.x,B.a,j.a,ti.a,ei.a,mn.a,Za.a,Jn.a,fn.d,fn.b,fn.e,vn.c,h.p,vn.e],pipes:[h.b],styles:["#back-action[_ngcontent-%COMP%]{margin-right:16px;vertical-align:sub}h3[_ngcontent-%COMP%]{color:var(--neutral-color)}#actionsWrapper[_ngcontent-%COMP%]{text-align:right;height:50px}app-icons[_ngcontent-%COMP%]{vertical-align:middle}.search[_ngcontent-%COMP%]{background:#393939;color:var(--neutral-color);border:none;height:30px;outline:none}[_nghost-%COMP%]     .ant-input-group-addon{background-color:transparent}[_nghost-%COMP%]     .ant-input-search>.ant-input-group>.ant-input-group-addon .ant-input-search-button{padding:5px 10px;border-radius:5px;height:30px}[_nghost-%COMP%]     .ant-input-group-wrapper{width:inherit;vertical-align:middle;margin-right:15px}[_nghost-%COMP%]     .ant-btn{height:30px;line-height:1}.action[_ngcontent-%COMP%]{margin-right:15px}.action[_ngcontent-%COMP%]:last-child{margin-right:0}.secondary-action[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--primary-color);color:var(--primary-color);transition:all .3s}.secondary-action[_ngcontent-%COMP%]:focus{background:transparent!important;color:var(--primary-color)!important}.secondary-action[_ngcontent-%COMP%]:hover{background-color:var(--primary-color)!important;border-color:var(--primary-color)!important;color:var(--neutral-color)!important}"]}),t})();var mo=n("VGjC");let fo=(()=>{class t{constructor(t){this._http=t,this.rootUrl=st.g.url}fetchChatSessions(){const t=localStorage.getItem("loggedInUser");if(t)return this._http.get(this.rootUrl+"/v2/chats/sessions/users/"+t)}createChatSession(t){return this._http.post(this.rootUrl+"/v2/chats/sessions",JSON.stringify(t))}fetchChatMessagesHistory(t){if(t)return this._http.get(this.rootUrl+"/v2/chats/messages/sessions/"+t)}setLastSeenForUser(t,e){return this._http.put(this.rootUrl+"/v2/chats/sessions/"+e+"/participants/"+t,{})}getChatSessionsForUser(t){if(t)return this._http.get(this.rootUrl+"/v2/chats/sessions/users/"+t)}addParticipant(t,e){return this._http.post(this.rootUrl+"/v2/chats/sessions/"+t+"/participants/"+e,{})}removeParticipant(t,e){return this._http.delete(this.rootUrl+"/v2/chats/sessions/"+t+"/participants/"+e)}getChatSession(t){if(t)return this._http.get(this.rootUrl+"/v2/chats/sessions/"+t)}}return t.\u0275fac=function(e){return new(e||t)(c.bc(p.c))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vo=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["app-chat-session-header"]],inputs:{unreadMessageCount:"unreadMessageCount"},decls:5,vars:1,consts:[[2,"flex","1 auto"],[3,"nzCount"]],template:function(t,e){1&t&&(c.Xb(0,"div"),c.Xc(1," Conversations\n"),c.Wb(),c.Sb(2,"div",0),c.Xb(3,"div"),c.Sb(4,"nz-badge",1),c.Wb()),2&t&&(c.Db(4),c.rc("nzCount",e.unreadMessageCount))},directives:[gn.a],styles:["[_nghost-%COMP%]{background-color:#404040;color:var(--neutral-color);display:block;margin:0;padding:12px;cursor:pointer;border-radius:5px 5px 0 0;display:flex;flex-direction:row}"]}),t})(),So=(()=>{class t{transform(t,e){return this.getParticipantNames(t,e)}getParticipantNames(t,e){if(null!=t.name&&""!==t.name)return t.name;const n=t.chatParticipations.filter(t=>t.participantId!==e).map(t=>t.participantName);return 1==n.length?n[0]:n[0]+" and "+(n.length-1)+" Others"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Qb({name:"chatSessionName",type:t,pure:!0}),t})();function To(t,e){if(1&t&&c.Sb(0,"nz-avatar",7),2&t){c.ic();const t=c.Ic(9);c.rc("nzText",t)}}function Co(t,e){if(1&t&&(c.Sb(0,"nz-avatar",8),c.jc(1,"chatSessionName")),2&t){const t=c.ic(),e=c.Ic(9);c.rc("nzTitle",c.lc(1,2,t.chatSession,t.userId))("nzText",e)}}function Eo(t,e){if(1&t&&(c.Xb(0,"div",12),c.Xb(1,"div",13),c.Xc(2),c.Wb(),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(2),c.Yc(t.participantName)}}function Io(t,e){if(1&t&&(c.Xb(0,"div"),c.Vc(1,Eo,3,1,"div",11),c.Wb()),2&t){const t=e.$implicit,n=c.ic(2);c.Db(1),c.rc("ngIf",t.participantId!==n.userId)}}function Mo(t,e){if(1&t&&(c.Xb(0,"nz-spin",9),c.Vc(1,Io,2,1,"div",10),c.Wb()),2&t){const t=c.ic();c.rc("nzSpinning",t.isUserLoading),c.Db(1),c.rc("ngForOf",t.chatSession.chatParticipations)}}let yo=(()=>{class t{constructor(t,e){this.userService=t,this._router=e,this.isUserLoading=!1}ngOnInit(){this.userId=this.userService.getCurrentUserId()}loadUser(t){this.isUserLoading=!0,this.userService.getUser(t.participantId).subscribe(t=>{"PATIENT"===t.type&&this._router.navigate(["patient/view/",t.id]),"CARE_TAKER"===t.type&&this._router.navigate(["caretakers/view",t.id]),this.isUserLoading=!1})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(mo.a),c.Rb(d.g))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-chat-session"]],inputs:{chatSession:"chatSession"},features:[c.Cb([mo.a])],decls:10,vars:7,consts:[[2,"display","flex","flex-direction","row","padding","10px"],["nzIcon","user","nzSize","small","style","color:#ed9c4c; background-color:#ffcf9f; min-width: 24px;","nz-popover","","nzType","primary",3,"nzText",4,"ngIf"],["nzIcon","team","nzSize","small","nz-popover","","nzType","primary","style","color:#328093; background-color:#81bdcc; min-width: 24px;",3,"nzTitle","nzText",4,"ngIf"],[2,"margin-left","10px","flex","1 1 auto"],[3,"nzCount"],[2,"margin","0px"],["sessionInfoTemplate",""],["nzIcon","user","nzSize","small","nz-popover","","nzType","primary",2,"color","#ed9c4c","background-color","#ffcf9f","min-width","24px",3,"nzText"],["nzIcon","team","nzSize","small","nz-popover","","nzType","primary",2,"color","#328093","background-color","#81bdcc","min-width","24px",3,"nzTitle","nzText"],["nzTip","Loading...",3,"nzSpinning"],[4,"ngFor","ngForOf"],["style","display: flex;flex-direction: row; padding-top: 12px;",4,"ngIf"],[2,"display","flex","flex-direction","row","padding-top","12px"],[2,"flex","1 1 auto"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Vc(1,To,1,1,"nz-avatar",1),c.Vc(2,Co,2,5,"nz-avatar",2),c.Xb(3,"div",3),c.Xc(4),c.jc(5,"chatSessionName"),c.Wb(),c.Sb(6,"nz-badge",4),c.Wb(),c.Sb(7,"nz-divider",5),c.Vc(8,Mo,2,2,"ng-template",null,6,c.Wc)),2&t&&(c.Db(1),c.rc("ngIf",e.chatSession.chatParticipations.length<3),c.Db(1),c.rc("ngIf",e.chatSession.chatParticipations.length>=3),c.Db(2),c.Yc(c.lc(5,4,e.chatSession,e.userId)),c.Db(2),c.rc("nzCount",e.chatSession.unreadMessageCount))},directives:[h.q,gn.a,U.a,tn.a,Za.a,ye.a,h.p],pipes:[So],styles:["[_nghost-%COMP%]{cursor:pointer}"]}),t})();function Ao(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-icons",8),c.ec("click",function(){return c.Lc(t),c.ic(2).filterSessions()}),c.Wb()}}function _o(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-chat-session",9),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic(2).activateConversation(n)}),c.Wb()}2&t&&c.rc("chatSession",e.$implicit)}function Do(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",2),c.Xb(1,"nz-spin",3),c.Xb(2,"nz-input-group",4),c.Xb(3,"input",5),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().searchKey=e})("keyup",function(){return c.Lc(t),c.ic().filterSessions()}),c.Wb(),c.Wb(),c.Vc(4,Ao,1,0,"ng-template",null,6,c.Wc),c.Vc(6,_o,1,1,"app-chat-session",7),c.Wb(),c.Wb()}if(2&t){const t=c.Ic(5),e=c.ic();c.Db(1),c.rc("nzSpinning",e.isLoading),c.Db(1),c.rc("nzSuffix",t),c.Db(1),c.rc("ngModel",e.searchKey),c.Db(3),c.rc("ngForOf",e.chatSessions)}}let zo=(()=>{class t{constructor(t,e){this.dataSharingService=t,this.zone=e,this.isCollapsed=!0,this.isLoading=!1,this.chatSessions=[],this.unreadMessageCount=0,this.chatSessionSelected=new c.n}ngOnInit(){this.isLoading=!0,this.dataSharingService.chatTrigger.subscribe(t=>{null!=t&&this.addChatSessionToTheTop(t)})}updateUnreadMessageCount(){this.unreadMessageCount=0,this.chatSessions.forEach(t=>{this.unreadMessageCount+=t.unreadMessageCount}),this.totalChatSessions=Object.assign([{}],this.chatSessions)}addChatSessionToTheTop(t){null==this.chatSessions.find(e=>e.id===t.id)&&this.zone.run(()=>{this.chatSessions.unshift(t)}),this.activateConversation(t)}toggle(){this.isCollapsed=!this.isCollapsed}activateConversation(t){this.chatSessions.find(e=>e.id===t.id&&(t.unreadMessageCount=0,!0)),this.chatSessionSelected.next(t),this.updateUnreadMessageCount()}activateConversationForSessionId(t){const e=this.chatSessions.find(e=>e.id===t);null!=e&&this.activateConversation(e)}filterSessions(){if(!this.searchKey||""===this.searchKey)return void(this.chatSessions=this.totalChatSessions);const t=new RegExp(this.searchKey,"gi");this.chatSessions=this.totalChatSessions.filter(e=>{if(e.type&&"GROUP"===e.type){const n=e.chatParticipations.filter(e=>e.participantName&&e.participantName.match(t));return n&&n.length||e.name&&e.name.match(t)}return e.name&&e.name.match(t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(C.a),c.Rb(c.A))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-chat-sessions"]],outputs:{chatSessionSelected:"chatSessionSelected"},features:[c.Cb([fo])],decls:2,vars:2,consts:[[3,"unreadMessageCount","click"],["class","chat-sessions-container","style","height: 300px; background:#fff;  display: flex; flex-direction: column; border: solid thin #ddd;",4,"ngIf"],[1,"chat-sessions-container",2,"height","300px","background","#fff","display","flex","flex-direction","column","border","solid thin #ddd"],[2,"flex","1","overflow","auto",3,"nzSpinning"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Search",1,"search",3,"ngModel","ngModelChange","keyup"],["suffixIconSearch",""],[3,"chatSession","click",4,"ngFor","ngForOf"],["name","search",3,"click"],[3,"chatSession","click"]],template:function(t,e){1&t&&(c.Xb(0,"app-chat-session-header",0),c.ec("click",function(){return e.toggle()}),c.Wb(),c.Vc(1,Do,7,4,"div",1)),2&t&&(c.rc("unreadMessageCount",e.unreadMessageCount),c.Db(1),c.rc("ngIf",!e.isCollapsed))},directives:[vo,h.q,ye.a,G.a,qa.c,qa.d,qa.b,b.d,b.u,b.x,h.p,dt.a,yo],styles:[".search[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #d3d3d3}"]}),t})();class Oo{connect(t){return this.ws=new WebSocket(t),this.ws}disconnect(){this.ws.close()}}class No{constructor(){this.sentOn=(new Date).getTime()}}var Po=function(t){return t.TEXT="TEXT",t.FILE="FILE",t}({});let Ro=(()=>{class t{transform(t,e){let n="";return n="ja"==navigator.language.split("-")[0]?t.lastName+" "+t.firstName:t.firstName+" "+t.lastName,n}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Qb({name:"fullName",type:t,pure:!0}),t})();function Xo(t,e){if(1&t&&(c.Xb(0,"nz-option",4),c.jc(1,"fullName"),c.Xb(2,"div"),c.Xc(3),c.jc(4,"fullName"),c.Wb(),c.Xb(5,"div"),c.Xb(6,"nz-tag",5),c.Xc(7),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.ic().$implicit;c.rc("nzValue",t)("nzLabel",c.kc(1,5,t)),c.Db(3),c.Zc(" ",c.kc(4,7,t)," "),c.Db(3),c.rc("nzColor","magenta"),c.Db(1),c.Yc(t.type)}}function Lo(t,e){if(1&t&&(c.Vb(0),c.Vc(1,Xo,8,9,"nz-option",3),c.Ub()),2&t){const t=c.ic();c.Db(1),c.rc("ngIf",!t.isLoading)}}function wo(t,e){1&t&&(c.Xb(0,"nz-option",6),c.Sb(1,"app-icons",7),c.Xc(2," Loading Data... "),c.Wb())}let Wo=(()=>{class t{constructor(t,e,n,i){this.modal=t,this.userService=e,this.chatService=n,this.dataSharingService=i,this.users=[],this.searchText="",this.selectedUsers=[],this.isLoading=!1}ngOnInit(){}addParticipants(){return new Promise(t=>{let e=0;this.selectedUsers.forEach(n=>{this.chatService.addParticipant(this.chatSession.id,n.id).subscribe(n=>{e+=1,this.selectedUsers.length===e&&(this.dataSharingService.chatSessionRefreshTrigger.next(this.chatSession),t(),this.modal.close())},n=>{e+=1,this.selectedUsers.length===e&&(this.dataSharingService.chatSessionRefreshTrigger.next(this.chatSession),t(),this.modal.close())})})})}onSearch(t){t.length>2&&(this.isLoading=!0,this.userService.searchUsers(t).subscribe(t=>{this.users=t,this.isLoading=!1}))}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(k.e),c.Rb(mo.a),c.Rb(fo),c.Rb(C.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-add-chat-participant"]],inputs:{chatSession:"chatSession"},decls:3,vars:4,consts:[["nzMode","multiple","nzPlaceHolder","Select users","nzAllowClear","","nzShowSearch","",2,"width","100%",3,"ngModel","nzServerSearch","ngModelChange","nzOnSearch"],[4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nzCustomContent","",3,"nzValue","nzLabel",4,"ngIf"],["nzCustomContent","",3,"nzValue","nzLabel"],[3,"nzColor"],["nzDisabled","","nzCustomContent",""],["name","loading"]],template:function(t,e){1&t&&(c.Xb(0,"nz-select",0),c.ec("ngModelChange",function(t){return e.selectedUsers=t})("nzOnSearch",function(t){return e.onSearch(t)}),c.Vc(1,Lo,2,1,"ng-container",1),c.Vc(2,wo,3,0,"nz-option",2),c.Wb()),2&t&&(c.rc("ngModel",e.selectedUsers)("nzServerSearch",!0),c.Db(1),c.rc("ngForOf",e.users),c.Db(1),c.rc("ngIf",e.isLoading))},directives:[Y.d,b.u,b.x,h.p,h.q,Y.a,Wn.a,dt.a],pipes:[Ro],styles:[""]}),t})();const ko=["*"];let Vo=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["app-conversation-header"]],ngContentSelectors:ko,decls:1,vars:0,template:function(t,e){1&t&&(c.qc(),c.pc(0))},styles:["[_nghost-%COMP%]{background-color:#404040;color:var(--neutral-color);display:block;margin:0;padding:10px;cursor:pointer;border-radius:5px 5px 0 0}"]}),t})();var xo=n("D9mS");function Uo(t,e){if(1&t&&(c.Xb(0,"div"),c.Xc(1),c.Wb()),2&t){const t=c.ic();c.Db(1),c.Zc(" ",t.chatMessage.content,"\n")}}function Fo(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div"),c.Xb(1,"img",2),c.ec("click",function(){return c.Lc(t),c.ic().openImage()}),c.Wb(),c.Wb()}if(2&t){const t=c.ic();c.Db(1),c.rc("src",t.chatMessage.content,c.Oc)}}function Ho(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div"),c.Xb(1,"img",3),c.ec("click",function(){return c.Lc(t),c.ic().openGoogleMaps()}),c.Wb(),c.Wb()}if(2&t){const t=c.ic();c.Db(1),c.rc("src",t.getGoogleMapsUrl(),c.Oc)}}let Bo=(()=>{class t{constructor(t){this.domSanitizer=t}ngOnInit(){}getGoogleMapsUrl(){const t=this.chatMessage.content.split(":");return this.domSanitizer.bypassSecurityTrustResourceUrl("https://maps.googleapis.com/maps/api/staticmap?center="+t[0]+","+t[1]+"&zoom=19&size=150x150&key=AIzaSyCySGsZgXtvenjp06bwyxsL4vtqIsAa4E4")}openImage(){window.open(this.chatMessage.content,"_blank")}openGoogleMaps(){const t=this.chatMessage.content.split(":");window.open("https://www.google.com/maps/search/?api=1&query="+t[0]+","+t[1],"_blank")}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(i.b))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-message"]],inputs:{chatMessage:"chatMessage",userId:"userId"},decls:6,vars:7,consts:[[4,"ngIf"],[2,"color","#666","font-size","10px"],[2,"cursor","pointer","margin-bottom","5px","width","150px",3,"src","click"],[2,"cursor","pointer","margin-bottom","5px",3,"src","click"]],template:function(t,e){1&t&&(c.Vc(0,Uo,2,1,"div",0),c.Vc(1,Fo,2,1,"div",0),c.Vc(2,Ho,2,1,"div",0),c.Xb(3,"div",1),c.Xc(4),c.jc(5,"date"),c.Wb()),2&t&&(c.rc("ngIf","TEXT"===e.chatMessage.type),c.Db(1),c.rc("ngIf","IMAGE"===e.chatMessage.type),c.Db(1),c.rc("ngIf","LOCATION"===e.chatMessage.type),c.Db(2),c.Zc(" ",c.lc(5,4,e.chatMessage.sentOn,"medium"),"\n"))},directives:[h.q],pipes:[h.e],styles:["[_nghost-%COMP%]{margin:10px;display:inline-block;height:auto;border-radius:5px;padding:10px}"]}),t})(),jo=(()=>{class t{transform(t,e){const n=t.chatParticipations.find(t=>t.participantId===e);return null==n&&console.log(t),n.participantName}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Qb({name:"participantName",type:t,pure:!0}),t})();const Go=["messagesContainer"];function Yo(t,e){if(1&t&&(c.Xb(0,"div",34),c.Xc(1),c.jc(2,"participantName"),c.Wb()),2&t){const t=c.ic(2).$implicit,e=c.ic(3);c.Db(1),c.Zc(" ",c.lc(2,1,e.chatSession,t.fromUserId),"")}}function $o(t,e){1&t&&(c.Xb(0,"div",35),c.Xc(1,"Me"),c.Wb())}function qo(t,e){if(1&t&&(c.Xb(0,"div",30),c.Sb(1,"nz-avatar",31),c.Vc(2,Yo,3,4,"div",32),c.Vc(3,$o,2,0,"div",33),c.Wb()),2&t){const t=c.ic().$implicit,e=c.ic(3);c.rc("ngStyle",e.getSenderStyle(t,e.userId)),c.Db(2),c.rc("ngIf",t.fromUserId!==e.userId),c.Db(1),c.rc("ngIf",t.fromUserId===e.userId)}}function Zo(t,e){if(1&t&&(c.Xb(0,"div",27),c.Vc(1,qo,4,3,"div",28),c.Sb(2,"app-message",29),c.Wb()),2&t){const t=e.$implicit,n=c.ic(3);c.Db(1),c.rc("ngIf",n.isNewConversation(t)),c.Db(1),c.rc("chatMessage",t)("userId",n.userId)("ngStyle",n.getMessageStyle(t))}}function Qo(t,e){if(1&t&&(c.Xb(0,"div",24,25),c.Vc(2,Zo,3,4,"div",26),c.Wb()),2&t){const t=c.ic(2);c.Db(2),c.rc("ngForOf",t.chatMessages)}}function Ko(t,e){1&t&&(c.Xb(0,"span"),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"SMS.NO_MESSAGES")," "))}function Jo(t,e){if(1&t&&(c.Xb(0,"nz-empty",36),c.Vc(1,Ko,3,3,"ng-template",null,37,c.Wc),c.Wb()),2&t){const t=c.Ic(2);c.rc("nzNotFoundImage","https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original")("nzNotFoundContent",t)}}function ts(t,e){if(1&t){const t=c.Yb();c.Xb(0,"button",38),c.ec("click",function(){return c.Lc(t),c.ic(2).sendMessage()}),c.Sb(1,"app-icons",39),c.Wb()}}function es(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-icons",40),c.ec("click",function(){return c.Lc(t),c.ic(2).attachFile()}),c.Wb()}}function ns(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",12),c.Xb(1,"div",13),c.Xb(2,"div",1),c.ec("click",function(){return c.Lc(t),c.ic().toggle()}),c.Sb(3,"div"),c.Wb(),c.Xb(4,"div"),c.Xb(5,"button",14),c.Sb(6,"app-icons",15),c.Wb(),c.Xb(7,"button",16),c.ec("click",function(){return c.Lc(t),c.ic().addParticipant()}),c.Sb(8,"app-icons",17),c.Wb(),c.Wb(),c.Wb(),c.Vc(9,Qo,3,1,"div",18),c.Vc(10,Jo,3,2,"nz-empty",19),c.Xb(11,"div"),c.Xb(12,"nz-input-group",20),c.Xb(13,"input",21),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().message=e})("keyup",function(e){return c.Lc(t),c.ic().onKey(e)}),c.Wb(),c.Wb(),c.Vc(14,ts,2,0,"ng-template",null,22,c.Wc),c.Vc(16,es,1,0,"ng-template",null,23,c.Wc),c.Wb(),c.Wb()}if(2&t){const t=c.Ic(15),e=c.ic(),n=c.Ic(13);c.Db(5),c.rc("nzContent",n),c.Db(4),c.rc("ngIf",e.chatMessages.length>0),c.Db(1),c.rc("ngIf",0==e.chatMessages.length),c.Db(2),c.rc("nzAddOnAfter",t),c.Db(1),c.rc("ngModel",e.message)}}function is(t,e){if(1&t&&(c.Xb(0,"div",44),c.Xb(1,"div",45),c.Xc(2),c.Wb(),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(2),c.Yc(t.participantName)}}function as(t,e){if(1&t&&(c.Xb(0,"div"),c.Vc(1,is,3,1,"div",43),c.Wb()),2&t){const t=e.$implicit,n=c.ic(2);c.Db(1),c.rc("ngIf",t.participantId!==n.userId)}}function os(t,e){if(1&t&&(c.Xb(0,"nz-spin",41),c.Vc(1,as,2,1,"div",42),c.Wb()),2&t){const t=c.ic();c.rc("nzSpinning",t.isUserLoading),c.Db(1),c.rc("ngForOf",t.chatSession.chatParticipations)}}let ss=(()=>{class t{constructor(t,e,n,i,a,o){this.chatService=t,this.userService=e,this.dataSharingService=n,this.zone=i,this.modalService=a,this.http=o,this.chatMessages=[],this.closeEvent=new c.n,this.rootUrl=st.g.url,this.isLoading=!1,this.isCollapsed=!1,this.unreadMessageCount=0,this.isFileUploadActive=!1,this.fileList=[],this.showUploadList={showPreviewIcon:!0,showRemoveIcon:!0,hidePreviewIconInNonImage:!1},this.handlePreview=t=>!0,this.handleUpload=t=>{const e=new p.g({bypass:"yes"});this.http.post(this.rootUrl+"/v2/media/upload/"+t.file.name,t.file,{headers:e,observe:"response",responseType:"text"}).subscribe(t=>{if(200==t.status){const e=this.rootUrl+"/v2/media/"+t,n=this.fileList.findIndex(t=>t.uid===this.file.uid);this.fileList[n].url=e,this.fileList[n].status="done",this.fileList=[...this.fileList]}else console.log("File not uploaded!!")},t=>{console.log("Error")})}}handleCancel(){}handleOk(){}ngOnInit(){this.fetchSessionMessages(),this.userId=this.userService.getCurrentUserId(),this.dataSharingService.chatMessageInboundTrigger.subscribe(t=>{null!=t&&this.chatSession.id===t.sessionId&&(this.isCollapsed&&(this.unreadMessageCount+=1),this.appendMessage(t),this.recordMessagesFetchEvent())})}updateChatSession(t){this.isLoading=!0,this.chatService.getChatSession(t).subscribe(t=>{this.chatSession=t,this.isLoading=!1})}fetchSessionMessages(){this.isLoading=!0,this.chatService.fetchChatMessagesHistory(this.chatSession.id).subscribe(t=>{this.chatMessages=t,this.sortMessages(),this.isLoading=!1,this.scrollToBottomAsync(),this.recordMessagesFetchEvent()},t=>{this.isLoading=!1})}recordMessagesFetchEvent(){this.chatService.setLastSeenForUser(this.userId,this.chatSession.id).subscribe(t=>{})}sortMessages(){this.chatMessages=this.chatMessages.sort((t,e)=>t.sentOn-e.sentOn)}scrollToBottomAsync(){setTimeout(()=>{this.scrollToBottom()},200)}scrollToBottom(){try{null!=this.messagesContainer&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)}catch(t){console.log(t)}}toggle(){this.unreadMessageCount=0,this.isCollapsed=!this.isCollapsed,this.scrollToBottomAsync()}appendMessage(t){this.chatMessages.push(t),this.zone.run(()=>{this.sortMessages()}),this.scrollToBottomAsync()}sendMessage(){if(!this.message)return;const t=new No;t.content=this.message,t.type=Po.TEXT,t.fromUserId=this.userId,t.sessionId=this.chatSession.id,this.appendMessage(t),this.message="",this.recordMessagesFetchEvent(),this.dataSharingService.chatMessageOutboundTrigger.next(t)}close(){this.closeEvent.next(this.chatSession)}isNewConversation(t){const e=this.chatMessages.indexOf(t);return!(e>0&&t.fromUserId===this.chatMessages[e-1].fromUserId)}getMessageStyle(t){return this.userId===t.fromUserId?{float:"right","background-color":"#ffcf9f"}:{float:"left","background-color":"#8adda0"}}getSenderStyle(t,e){return t.fromUserId===e?{display:"flex","flex-direction":"row-reverse","margin-left":"10px"}:{display:"flex","flex-direction":"row","margin-right":"10px"}}addParticipant(){this.modalService.create({nzTitle:"Add People to chat",nzContent:Wo,nzComponentParams:{chatSession:this.chatSession},nzFooter:[{label:"Confirm",onClick:t=>t.addParticipants()}]})}onKey(t){"Enter"===t.key&&null!=this.message&&""!==this.message&&this.sendMessage()}attachFile(){this.isFileUploadActive=!0}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(fo),c.Rb(mo.a),c.Rb(C.a),c.Rb(c.A),c.Rb(k.f),c.Rb(p.c))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-conversation"]],viewQuery:function(t,e){if(1&t&&c.ed(Go,1),2&t){let t;c.Hc(t=c.fc())&&(e.messagesContainer=t.first)}},inputs:{chatSession:"chatSession",chatMessages:"chatMessages"},outputs:{closeEvent:"closeEvent"},features:[c.Cb([fo,mo.a])],decls:20,vars:17,consts:[[2,"display","flex","flex-direction","row"],[2,"flex","1","text-overflow","ellipsis",3,"click"],[3,"nzCount"],["nz-button","","nzType","primary","nzSize","small","nzType","link",3,"click"],["name","close"],[3,"nzSpinning"],["style","height: 300px; background-color:#fff; display: flex; flex-direction: column;",4,"ngIf"],["sessionInfoTemplate",""],["nzTitle","Modal Title",3,"nzVisible","nzOkLoading","nzVisibleChange","nzOnCancel","nzOnOk"],["nzListType","picture-card",3,"nzFileList","nzShowButton","nzShowUploadList","nzPreview","nzCustomRequest","nzFileListChange"],["name","plus"],[1,"ant-upload-text"],[2,"height","300px","background-color","#fff","display","flex","flex-direction","column"],[2,"background-color","#e1e1e1","display","flex","flex-direction","row"],["nz-button","","nzType","primary","nzType","link","nz-popover","",3,"nzContent"],["name","infoCircle"],["nz-button","","nzType","primary","nzType","link","nz-tooltip","","nzTitle","Add People to chat",3,"click"],["name","userAdd"],["style","flex: 1; overflow: auto;padding-top: 10px;",4,"ngIf"],["style","flex: 1; overflow: auto;",3,"nzNotFoundImage","nzNotFoundContent",4,"ngIf"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","","placeholder","Your message..",2,"border-radius","0px",3,"ngModel","ngModelChange","keyup"],["suffixIconButton",""],["attachmentTemplate",""],[2,"flex","1","overflow","auto","padding-top","10px"],["messagesContainer",""],["style","clear: both;",4,"ngFor","ngForOf"],[2,"clear","both"],[3,"ngStyle",4,"ngIf"],[3,"chatMessage","userId","ngStyle"],[3,"ngStyle"],["nzIcon","user","nzSize","small",2,"margin-left","10px","margin-right","10px"],["style","flex: 1 auto;",4,"ngIf"],["style","flex: 1 auto; text-align: right;",4,"ngIf"],[2,"flex","1 auto"],[2,"flex","1 auto","text-align","right"],[2,"flex","1","overflow","auto",3,"nzNotFoundImage","nzNotFoundContent"],["contentTpl",""],["nz-button","","nzType","primary",2,"border-radius","0px",3,"click"],["name","right"],["nz-tooltip","","nzTooltipTitle","Add Attachment","name","paperClip",3,"click"],["nzTip","Loading...",3,"nzSpinning"],[4,"ngFor","ngForOf"],["style","display: flex;flex-direction: row; padding-top: 12px;",4,"ngIf"],[2,"display","flex","flex-direction","row","padding-top","12px"],[2,"flex","1 1 auto"]],template:function(t,e){1&t&&(c.Xb(0,"app-conversation-header"),c.Xb(1,"div",0),c.Xb(2,"div",1),c.ec("click",function(){return e.toggle()}),c.Xb(3,"div"),c.Xc(4),c.jc(5,"chatSessionName"),c.Wb(),c.Wb(),c.Xb(6,"div"),c.Sb(7,"nz-badge",2),c.Xb(8,"button",3),c.ec("click",function(){return e.close()}),c.Sb(9,"app-icons",4),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(10,"nz-spin",5),c.Vc(11,ns,18,5,"div",6),c.Wb(),c.Vc(12,os,2,2,"ng-template",null,7,c.Wc),c.Xb(14,"nz-modal",8),c.ec("nzVisibleChange",function(t){return e.isFileUploadActive=t})("nzOnCancel",function(){return e.handleCancel()})("nzOnOk",function(){return e.handleOk()}),c.Xb(15,"nz-upload",9),c.ec("nzFileListChange",function(t){return e.fileList=t}),c.Sb(16,"app-icons",10),c.Xb(17,"div",11),c.Xc(18),c.jc(19,"translate"),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Db(4),c.Zc(" ",c.lc(5,12,e.chatSession,e.userId)," "),c.Db(3),c.rc("nzCount",e.unreadMessageCount),c.Db(3),c.rc("nzSpinning",e.isLoading),c.Db(1),c.rc("ngIf",!e.isCollapsed),c.Db(3),c.rc("nzVisible",e.isFileUploadActive)("nzOkLoading",e.isOkLoading),c.Db(1),c.rc("nzFileList",e.fileList)("nzShowButton",e.fileList.length<5)("nzShowUploadList",e.showUploadList)("nzPreview",e.handlePreview)("nzCustomRequest",e.handleUpload),c.Db(3),c.Yc(c.kc(19,15,"COMMON.UPLOAD")))},directives:[Vo,gn.a,B.a,G.a,dt.a,ye.a,h.q,k.a,xo.a,Za.a,Oe.d,qa.c,qa.b,b.d,b.u,b.x,h.p,Bo,h.r,tn.a,q.b,j.a],pipes:[So,Z.a,jo],styles:["[_nghost-%COMP%]{border:thin solid #ddd;background-color:var(--neutral-color)}"]}),t})();function rs(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-conversation",2),c.ec("closeEvent",function(e){return c.Lc(t),c.ic().closeConversation(e)}),c.Wb()}if(2&t){const t=e.$implicit,n=e.index,i=c.ic();c.rc("chatSession",t)("ngStyle",i.getChatWindowStyle(t,n))}}let cs=(()=>{class t{constructor(t,e,n,i){this.userService=t,this.dataSharingService=e,this.zone=n,this.chatService=i,this.conversationWindowWidth=240,this.gapWidth=50,this.isEnabled=!0,this.openSessions=[],this.maxChatWindows=1,this.webSocketConnector=new Oo,this.retryCount=0}ngAfterViewInit(){this.windowWidth=window.innerWidth,this.maxChatWindows=Math.round(this.windowWidth/(this.conversationWindowWidth+this.gapWidth)),this.initializeChat()}initializeChat(){this.userId=this.userService.getCurrentUserId();const t=st.g.chatURL+this.userId+"/devices/A81EA9C8-1E90-44FB-B71C-E1A96DBC0ADF";this.fetchSessions();const e=this.webSocketConnector.connect(t);e.onopen=()=>{this.retryCount=0},e.onmessage=t=>{const e=JSON.parse(t.data);null!=this.openSessions.find(t=>t.id===e.sessionId)?this.dataSharingService.chatMessageInboundTrigger.next(e):this.chatSessionsComponent.activateConversationForSessionId(e.sessionId)},e.onclose=()=>{this.retryCount<5&&(this.retryCount+=1,this.initializeChat())},this.dataSharingService.chatMessageOutboundTrigger.subscribe(t=>{null!=t&&e.send(JSON.stringify(t))}),this.dataSharingService.chatSessionRefreshTrigger.subscribe(t=>{null!=t&&this.fetchSessions()})}fetchSessions(){this.chatSessions=[],this.chatSessionsComponent.isLoading=!0;const t=this.openSessions;this.openSessions=[],this.chatService.fetchChatSessions().subscribe(e=>{this.chatSessions=e,this.updateChatSessionsComponent(),this.updateOpenSessions(t)})}updateOpenSessions(t){this.zone.run(()=>{const e=[];t.forEach(t=>{const n=this.chatSessions.findIndex(e=>e.id===t.id);n>-1&&e.push(this.chatSessions[n])}),this.openSessions=e})}updateChatSessionsComponent(){this.chatSessionsComponent.chatSessions=this.chatSessions,this.chatSessionsComponent.updateUnreadMessageCount(),this.chatSessionsComponent.isLoading=!1}activateSession(t){this.zone.run(()=>{this.openSessions.some(e=>e==t)?t.isCollapsed=!1:(this.openSessions.length<this.maxChatWindows||this.openSessions.splice(0,1),this.openSessions.push(t))})}onResize(t){this.windowWidth=window.innerWidth}getChatWindowStyle(t,e){return{right:240*(e+1)+50+"px",width:"230px",bottom:"0px",position:"fixed","z-index":100,"box-shadow":"0 4px 24px rgba(0,0,0,.1)"}}closeConversation(t){this.zone.run(()=>{const e=this.openSessions.findIndex(e=>{if(e.id===t.id)return!0});e>-1&&this.openSessions.splice(e,1)})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(mo.a),c.Rb(C.a),c.Rb(c.A),c.Rb(fo))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-messaging"]],viewQuery:function(t,e){if(1&t&&c.ed(zo,1),2&t){let t;c.Hc(t=c.fc())&&(e.chatSessionsComponent=t.first)}},hostBindings:function(t,e){1&t&&c.ec("resize",function(t){return e.onResize(t)},!1,c.Kc)},features:[c.Cb([mo.a,fo])],decls:2,vars:1,consts:[[1,"chat-sessions-container",2,"right","50px","width","230px","bottom","0px","position","fixed","z-index","100 !important","box-shadow","0 4px 24px rgba(0,0,0,.1)",3,"chatSessionSelected"],[3,"chatSession","ngStyle","closeEvent",4,"ngFor","ngForOf"],[3,"chatSession","ngStyle","closeEvent"]],template:function(t,e){1&t&&(c.Xb(0,"app-chat-sessions",0),c.ec("chatSessionSelected",function(t){return e.activateSession(t)}),c.Wb(),c.Vc(1,rs,1,2,"app-conversation",1)),2&t&&(c.Db(1),c.rc("ngForOf",e.openSessions))},directives:[zo,h.p,ss,h.r],styles:[""]}),t})();function ls(t,e){1&t&&(c.Xb(0,"nz-header"),c.Sb(1,"app-main-header"),c.Wb())}function ds(t,e){1&t&&c.Sb(0,"app-sidebar")}function us(t,e){if(1&t&&(c.Xb(0,"nz-sider",12),c.Vc(1,ds,1,0,"app-sidebar",4),c.Wb()),2&t){const t=c.ic();c.rc("nzCollapsedWidth",0)("nzTrigger",null)("nzCollapsed",t.sidebarCollapsed),c.Db(1),c.rc("ngIf",!t.sidebarCollapsed)}}const ps=function(t){return{left:t}};function hs(t,e){if(1&t&&(c.Xb(0,"nz-header",13),c.Sb(1,"app-actions-header"),c.Wb()),2&t){const t=c.ic();c.rc("ngStyle",c.yc(1,ps,t.headerLeft))}}function bs(t,e){1&t&&c.Sb(0,"app-messaging")}const gs=function(){return["CHAT"]};function ms(t,e){1&t&&(c.Vb(0),c.Vc(1,bs,1,0,"app-messaging",14),c.Ub()),2&t&&(c.Db(1),c.rc("isFeaturePermitted",c.xc(1,gs)))}const fs=function(t){return{"content-container":t}};let vs=(()=>{class t{constructor(t,e,n,i,a,o,s,r,c,l,d,u,p,h,b,g,m,f,v,S){this._dataSharingService=t,this.idle=e,this._routeHelperService=n,this.router=i,this.modalService=a,this._tenantConfig=o,this._titleService=s,this._cdRef=r,this.applicationInsightsService=c,this._networkMonitorService=l,this._translationsService=d,this._permissionService=u,this._globalEventsService=p,this.componentFactoryResolver=h,this._applicationVersionService=b,this.permissionHelper=g,this._dashboardService=m,this._widgetsService=f,this._staffSessionPingService=v,this._whitelabelService=S,this.itsTheme=!0,this.isReverseArrow=!1,this.logoutModal=null,this.modal=null,this.featureConfigs=new _t.a,this.featureNomenclatures=new At.a,this.isAdminEnabled=!1,this.videoCallInitiated=!1,this.mainHeader$=this._routeHelperService.isMainHeaderEnabled(),this.actionsHeader$=this._routeHelperService.isActionsHeaderEnabled(),this.sidebar$=this._routeHelperService.isSidebarEnabled(),this.isLoggedIn=t.isLoggedIn(),this._routeHelperService.isSidebarCollapsed().subscribe(t=>{this.sidebarCollapsed=t,this.resizeHeader()}),this.registerRouterSubscription(),this._globalEventsService.addMessageEventHandler(),this._staffSessionPingService.inititalize(),this._whitelabelService.initialize()}ngOnInit(){this._applicationVersionService.checkVersion(),this.registerCommunicationTriggers(),this.registerGlobalTimer(),this.registerStickyNote(),this.registerPatientAssessmentTrigger(),this._translationsService.getMultiple("COMMON.BTN_OK","LOGOUT.USER_ACTIVITY","LOGOUT.USER_GONE_IDEL","LOGOUT.USER_GONE_IDEL_2_MINS").subscribe(t=>{this.translatedStrings=t}),window.addEventListener("storage",t=>{"pageRefresh"==t.key&&(localStorage.removeItem("pageRefresh"),location.reload())}),this.autoLogout(),this.subscribeToUserDetails(),this.loadDetails(),this.initAutoLogout(),this.networkState$=this._networkMonitorService.monitor();const t=window.location.pathname;t&&t.includes("video-call")&&(this.videoCallInitiated=!0),Object(ft.a)(window,"resize").pipe(Object(Et.a)(50)).subscribe(t=>{this.resizeHeader(),this._routeHelperService.setSidebarCollapsed((null===window||void 0===window?void 0:window.innerHeight)>(null===window||void 0===window?void 0:window.innerWidth))}),(null===window||void 0===window?void 0:window.innerHeight)>(null===window||void 0===window?void 0:window.innerWidth)&&this._routeHelperService.setSidebarCollapsed(!0)}resizeHeader(){this.headerLeft=this.sidebarCollapsed?"0":"150px"}registerCommunicationTriggers(){this.registerVoicecallTrigger()}registerVoicecallTrigger(){this._dataSharingService.getVoiceCallInitiated().subscribe(t=>{if(null!=t&&null!=t.patient){let e={};e[kt.TRIGGER_SUBSCRIBED]=this.router.url,null!=this.voicecallViewContainerRef&&this.voicecallViewContainerRef.clear(),this.voicecallViewContainerRef=this.voicecallHost.viewContainerRef;let n=this.componentFactoryResolver.resolveComponentFactory(ae);this.voicecallComponentRef=this.voicecallViewContainerRef.createComponent(n),this.voicecallComponentRef.instance.properties=e,null!=t.appointmentId&&(this.voicecallComponentRef.instance.appointmentId=t.appointmentId),this.voicecallComponentRef.instance.enableRecording=null!=t.enableRecording&&t.enableRecording,this.voicecallComponentRef.instance.voiceCallContext=t.context,this.voicecallComponentRef.instance.properties=e,this.voicecallComponentRef.instance.initiateCall(t.patient,t.toNumber,t.tenantId)}}),this._dataSharingService.onVoiceCallDisconnect().subscribe(t=>{t&&(this.voicecallViewContainerRef.clear(),this.voicecallComponentRef.instance.ngOnDestroy=()=>this.voicecallComponentRef.destroy())})}registerGlobalTimer(){this._dataSharingService.getTimer().subscribe(t=>{var e,n,i;if(t){if("START"===(null==t?void 0:t.state)?this._staffSessionPingService.updateStaffSession({type:"TIMER_STARTED",value:null==t?void 0:t.data}):"COMPLETED"===(null==t?void 0:t.state)&&this._staffSessionPingService.updateStaffSession({type:"TIMER_ENDED",value:null==t?void 0:t.data}),"START"!==(null==t?void 0:t.state)&&this.globalTimerViewRef&&this.globalNotesViewRef)return null===(e=this.globalTimerViewRef)||void 0===e||e.clear(),void(null===(n=this.globalNotesViewRef)||void 0===n||n.clear());this.globalTimerViewRef&&(null===(i=this.globalTimerViewRef)||void 0===i||i.clear()),this.globalTimerViewRef=this.globalTimerHost.viewContainerRef,this.globalTimerContainerRef=this.globalTimerViewRef.createComponent(this.componentFactoryResolver.resolveComponentFactory(bt))}})}registerStickyNote(){this._dataSharingService.getStickNote().subscribe(t=>{var e;t&&(this.globalNotesViewRef&&(null===(e=this.globalNotesViewRef)||void 0===e||e.clear()),this.globalNotesViewRef=this.globalNotesHost.viewContainerRef,this.globalNotesContainerRef=this.globalNotesViewRef.createComponent(this.componentFactoryResolver.resolveComponentFactory(Ce)),this.globalNotesContainerRef.instance.patientId=t.patientId,this.globalNotesContainerRef.instance.patientName=t.patientName,this.globalNotesContainerRef.instance.tenantId=t.tenantId,this.globalNotesContainerRef.instance.showNotes=!("MINIMIZED"==t.state||"COMPLETED"==t.state),this.globalNotesContainerRef.instance.content=t.data,this.globalNotesContainerRef.instance.config=he.c)}),this._dataSharingService.onRefreshStickNoteEditor().subscribe(t=>{t&&this.globalNotesViewRef&&t&&(this.globalNotesViewRef.clear(),this.globalNotesViewRef.remove(),this.globalNotesContainerRef.destroy(),this.globalNotesViewRef=this.globalNotesHost.viewContainerRef,this.globalNotesContainerRef=this.globalNotesViewRef.createComponent(this.componentFactoryResolver.resolveComponentFactory(Ce)),this.globalNotesContainerRef.instance.patientId=t.patientId,this.globalNotesContainerRef.instance.patientName=t.patientName,this.globalNotesContainerRef.instance.tenantId=t.tenantId,this.globalNotesContainerRef.instance.showNotes=!("MINIMIZED"==t.state||"COMPLETED"==t.state),this.globalNotesContainerRef.instance.content=t.data,"MAXIMIZED"==t.state?(this.globalNotesContainerRef.instance.state="MAXIMIZED",this.globalNotesContainerRef.instance.minScreen=!1,this.globalNotesContainerRef.instance.config=he.d):(this.globalNotesContainerRef.instance.state="RESTORED",this.globalNotesContainerRef.instance.minScreen=!0,this.globalNotesContainerRef.instance.config=he.c))})}registerRouterSubscription(){this.routerSubscription=this.router.events.subscribe(t=>{var e;if(t instanceof d.b&&(this._routeHelperService.setDataForRoute({reset:!0}),this._routeHelperService.setDataForRoute(null===(e=null==t?void 0:t.snapshot)||void 0===e?void 0:e.data)),t instanceof d.c&&setTimeout(()=>window.scroll(0,0),500),t instanceof d.e){const e=this.getActivatedComponent(t.state.root);e&&this.applicationInsightsService.logPageView(`${e.name}`,t.urlAfterRedirects)}})}registerPatientAssessmentTrigger(){this._dataSharingService.getPatientAssessmentTrigger().subscribe(t=>{(null==t?void 0:t.url)&&(null==t?void 0:t.patientId)&&(null==t?void 0:t.patientName)&&(this.assessmentPatientId=null==t?void 0:t.patientId,this.assessmentPatientName=null==t?void 0:t.patientName,this.patientAssessmentURL=null==t?void 0:t.url)})}closePatientAsssessment(){this.patientAssessmentURL=void 0}getActivatedComponent(t){return t.firstChild?this.getActivatedComponent(t.firstChild):t.component}createModalForLogoutInfo(){if(null!=this.logoutModal)return;let t,e;this._translationsService.get("LOGOUT.AUTO_LOGOUT_HEADER").subscribe(e=>t=e),this._translationsService.get("LOGOUT.AUTO_LOGOUT_SESSION_EXPIRED").subscribe(t=>e=t),this.logoutModal=this.modalService.info({nzTitle:t,nzContent:e,nzOnOk:()=>{this.logoutModal&&(this.logoutModal.destroy(),this.logoutModal=null)}})}createModalForIdleStartInfo(){null==this.logoutModal&&(null==this.modal2MinsB4&&(this.modal2MinsB4=this.modalService.info({nzTitle:this.translatedStrings.get("LOGOUT.USER_ACTIVITY"),nzContent:this.translatedStrings.get("LOGOUT.USER_GONE_IDEL_2_MINS"),nzOkText:this.translatedStrings.get("COMMON.BTN_OK"),nzOnOk:()=>{this.modal2MinsB4=null}})),setTimeout(()=>{this.modal2MinsB4&&(this.modal2MinsB4.destroy(),this.modal2MinsB4=null,this.modal=this.modalService.info({nzTitle:this.translatedStrings.get("LOGOUT.USER_ACTIVITY"),nzContent:this.translatedStrings.get("LOGOUT.USER_GONE_IDEL"),nzOkText:this.translatedStrings.get("COMMON.BTN_OK"),nzOnOk:()=>{this.modal=null}}),setTimeout(()=>{this.modal&&(this.modal.destroy(),this.modal=null)},5e3))},12e4))}autoLogout(){this.idle.setIdle(1675),this.idle.setTimeout(1800),this.idle.setInterrupts(Dt.a),this.idle.watch()}checkIfUserAlreadyLoggedOut(){return"/authorization/login"===this.router.url||"/authorization/logout"===this.router.url}logoutUser(){this.autoLogout(),this.checkIfUserAlreadyLoggedOut()||this.logout()}initAutoLogout(){this.idle.onTimeout.subscribe(()=>{this.logoutUser(),this.checkIfUserAlreadyLoggedOut()||this.createModalForLogoutInfo()}),this.idle.onIdleStart.subscribe(()=>{this.checkIfUserAlreadyLoggedOut()||this.createModalForIdleStartInfo()})}ngDoCheck(){this._cdRef.detectChanges()}subscribeToUserDetails(){this.permissionHelper.getAllPermissionStrings(),this._permissionService.loadUserRolePermissions(),this._dataSharingService.getLoggedInUserName().subscribe(t=>{this._titleService.setTitle("Portal: "+(t||""))}),this._dataSharingService.featureConfigs.subscribe(t=>{this.featureConfigs=t}),this._dataSharingService.tenantSettings.subscribe(t=>{this.partnerLogoURL=localStorage.getItem("logoUrl"),this.tenantConfig=t}),this._dataSharingService.featureNomenclatures.subscribe(t=>{this.featureNomenclatures=t})}loadDetails(){window.navigator.webdriver||this.applicationInsightsService.setUserId(localStorage.getItem("loggedInUser")),localStorage.getItem("accessToken")&&(this._tenantConfig.getConfigSetting().subscribe(t=>{var e;this.partnerLogoURL=localStorage.getItem("logoUrl"),this._dataSharingService.featureConfigs.next(null==t?void 0:t.featureConfigs),this._dataSharingService.featureNomenclatures.next(t.featureNomenclatures),this._dataSharingService.tenantSettings.next(t),this.idle.setTimeout(100*((null===(e=null==t?void 0:t.staffSessionConfig)||void 0===e?void 0:e.inactivityInterval)||15))}),this.fetchAllAssignedTenantConfigsForUser(),this.setFavicon(),this._dashboardService.fetchEnabledWidgets().subscribe(t=>this._widgetsService.setDashboardConfig(t)))}fetchAllAssignedTenantConfigsForUser(){this._tenantConfig.getAllAssignedTenantConfigSettings().subscribe(t=>{let e=new Map;t.result.forEach(t=>e.set(t.tenantId,t)),this._dataSharingService.assignedTenantSettings.next(e)})}setFavicon(){const t=localStorage.getItem("accessToken"),e=document.querySelector("#faviconURL");t&&(e.href=localStorage.getItem("faviconUrl"))}logout(){this.router.navigate(["authorization/logout"])}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(C.a),c.Rb(Dt.b),c.Rb(se.a),c.Rb(d.g),c.Rb(k.f),c.Rb(zt.a),c.Rb(i.c),c.Rb(c.h),c.Rb(Ot.a),c.Rb(yt),c.Rb(Lt.a),c.Rb(u.a),c.Rb(Ht),c.Rb(c.j),c.Rb(gt),c.Rb(re.a),c.Rb(ce.a),c.Rb(le.a),c.Rb(S.a),c.Rb(Ee.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-root"]],viewQuery:function(t,e){if(1&t&&(c.ed(oe,1),c.ed(de,1),c.ed(ue,1)),2&t){let t;c.Hc(t=c.fc())&&(e.voicecallHost=t.first),c.Hc(t=c.fc())&&(e.globalTimerHost=t.first),c.Hc(t=c.fc())&&(e.globalNotesHost=t.first)}},hostVars:4,hostBindings:function(t,e){2&t&&c.Jb("primary-theme",e.primaryTheme)("its-theme",e.itsTheme)},decls:29,vars:39,consts:[["appSpinnerPosition","","color","#d81b60"],["progressBar",""],[3,"nzTip","nzSpinning"],[1,"full-height"],[4,"ngIf"],[3,"ngClass"],["style","z-index: 100;","nzTheme","light","nzWidth","150px","nzCollapsible","",3,"nzCollapsedWidth","nzTrigger","nzCollapsed",4,"ngIf"],["class","container","id","actions-header",3,"ngStyle",4,"ngIf"],["voicecallHost",""],["globalTimerHost",""],["globalNotesHost",""],[3,"patientId","patientName","url","close"],["nzTheme","light","nzWidth","150px","nzCollapsible","",2,"z-index","100",3,"nzCollapsedWidth","nzTrigger","nzCollapsed"],["id","actions-header",1,"container",3,"ngStyle"],[4,"isFeaturePermitted"]],template:function(t,e){1&t&&(c.Sb(0,"ng-progress",0,1),c.Xb(2,"nz-spin",2),c.jc(3,"translate"),c.Xb(4,"nz-layout",3),c.Vc(5,ls,2,0,"nz-header",4),c.jc(6,"async"),c.jc(7,"async"),c.Xb(8,"nz-layout",5),c.jc(9,"async"),c.Vc(10,us,2,4,"nz-sider",6),c.jc(11,"async"),c.jc(12,"async"),c.Xb(13,"nz-layout"),c.Vc(14,hs,2,3,"nz-header",7),c.jc(15,"async"),c.jc(16,"async"),c.Xb(17,"nz-content",5),c.jc(18,"async"),c.jc(19,"async"),c.jc(20,"async"),c.Sb(21,"router-outlet"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Tb(22,8),c.Tb(23,9),c.Tb(24,10),c.Vc(25,ms,2,2,"ng-container",4),c.jc(26,"async"),c.Sb(27,"app-tour-template"),c.Xb(28,"app-assessment-form",11),c.ec("close",function(){return e.closePatientAsssessment()}),c.Wb()),2&t&&(c.Db(2),c.sc("nzTip",c.kc(3,11,"COMMON.LOST_CONNECTION")),c.rc("nzSpinning",!1),c.Db(3),c.rc("ngIf",c.kc(6,13,e.isLoggedIn)&&!e.videoCallInitiated&&e.tenantConfig&&c.kc(7,15,e.mainHeader$)),c.Db(3),c.rc("ngClass",c.yc(35,fs,c.kc(9,17,e.isLoggedIn))),c.Db(2),c.rc("ngIf",c.kc(11,19,e.isLoggedIn)&&!e.videoCallInitiated&&e.tenantConfig&&c.kc(12,21,e.sidebar$)),c.Db(4),c.rc("ngIf",c.kc(15,23,e.isLoggedIn)&&!e.videoCallInitiated&&e.tenantConfig&&c.kc(16,25,e.actionsHeader$)),c.Db(3),c.rc("ngClass",c.yc(37,fs,c.kc(18,27,e.isLoggedIn)&&!e.videoCallInitiated&&e.tenantConfig&&c.kc(19,29,e.actionsHeader$)&&c.kc(20,31,e.mainHeader$))),c.Db(8),c.rc("ngIf",(null==e.tenantConfig||null==e.tenantConfig.chatConfig?null:e.tenantConfig.chatConfig.enabled)&&c.kc(26,33,e.isLoggedIn)&&!e.videoCallInitiated),c.Db(3),c.rc("patientId",e.assessmentPatientId)("patientName",e.assessmentPatientName)("url",e.patientAssessmentURL))},directives:[Ie.b,Me,ye.a,Ae.d,h.q,h.o,Ae.a,d.l,oe,de,ue,xe,$e,Ae.c,Dn,Ae.f,$a,h.r,go,mn.a,cs],pipes:[Z.a,h.b],styles:["[_nghost-%COMP%]     .ant-layout-sider-children{position:fixed;overflow:auto;-ms-overflow-style:none;scrollbar-width:none;margin-top:5px;max-width:150px}nz-header[_ngcontent-%COMP%]{position:fixed;z-index:999;width:100%;background:var(--neutral-color) 0 0 no-repeat padding-box}nz-sider[_ngcontent-%COMP%]{box-shadow:0 0 10px #dcdcdc}[_nghost-%COMP%]     .ant-layout-header{padding:0}#actions-header[_ngcontent-%COMP%]{left:0;right:0;padding-top:0!important;padding-bottom:0!important;width:auto;background:var(--light-black) 0 0 no-repeat padding-box}.full-height[_ngcontent-%COMP%]{min-height:100vh}.content-container[_ngcontent-%COMP%]{margin-top:50px}[_nghost-%COMP%]     .ant-layout-sider-zero-width-trigger{top:unset!important}.sidebarSlider[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:10px}.sidebarSliderFull[_ngcontent-%COMP%]{left:60px;transform:rotate(180deg)}"]}),t})();var Ss=n("bKRa"),Ts=n("rbUg"),Cs=n("icpI"),Es=n("mLmo");let Is=(()=>{class t{}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(e){return new(e||t)},providers:[Es.a],imports:[[h.c,f.a,d.k,m.a.forRoot(),b.o,g.a,Ts.a,Ss.a,Cs.b]]}),t})();var Ms=n("aOTX"),ys=n("T5gh"),As=n("Dwgb"),_s=n("pxUr"),Ds=n("0W7X"),zs=n("qQcL");function Os(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"tr"),c.Xb(2,"td"),c.Xc(3),c.Wb(),c.Xb(4,"td"),c.Xc(5),c.Wb(),c.Xb(6,"td"),c.Xc(7),c.Wb(),c.Wb(),c.Ub()),2&t){const t=e.$implicit,n=c.ic();c.Db(3),c.Yc(t.caretakerName),c.Db(2),c.Yc(n.isMonthly?t.patientCommunicationQuickSummary.communicationMinutesMonthly:t.patientCommunicationQuickSummary.communicationMinutesToday),c.Db(2),c.Yc(n.isMonthly?t.patientCommunicationQuickSummary.monthlyTimerPercentage:t.patientCommunicationQuickSummary.todayTimerPercentage)}}let Ns=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["app-caretaker-communication-list"]],inputs:{communications:"communications",isMonthly:"isMonthly"},decls:17,vars:3,consts:[[3,"nzData"],["communicationTable",""],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(c.Xb(0,"div"),c.Xb(1,"h3"),c.Xb(2,"strong"),c.Xc(3),c.Wb(),c.Wb(),c.Vb(4),c.Xb(5,"nz-table",0,1),c.Xb(7,"thead"),c.Xb(8,"tr"),c.Xb(9,"th"),c.Xc(10,"Staff Name"),c.Wb(),c.Xb(11,"th"),c.Xc(12,"Minutes Logged"),c.Wb(),c.Xb(13,"th"),c.Xc(14,"Timer Percentage(%)"),c.Wb(),c.Wb(),c.Wb(),c.Xb(15,"tbody"),c.Vc(16,Os,8,3,"ng-container",2),c.Wb(),c.Wb(),c.Ub(),c.Wb()),2&t){const t=c.Ic(6);c.Db(3),c.Zc(" ",e.isMonthly?"Monthly Minutes Logged by Staff":" Minutes Logged Today by Staff",""),c.Db(2),c.rc("nzData",e.communications),c.Db(11),c.rc("ngForOf",t.data)}},directives:[$.f,$.n,$.o,$.e,$.l,$.i,h.p],styles:[".title[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-table-thead>tr>th, td[_ngcontent-%COMP%]{text-align:center!important}[_nghost-%COMP%]     .ant-table-thead>tr>th{height:50px!important}[_nghost-%COMP%]     tr.ant-table-placeholder{display:none}"]}),t})(),Ps=(()=>{class t{constructor(t,e){this._widgetsService=t,this._element=e}ngAfterViewInit(){this._widgetsService.isSectionsEnabled(this.sections)?this.enableSection():this.disableSection()}enableSection(){this._element.nativeElement.style.display="block"}disableSection(){this._element.nativeElement.style.display="none"}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(le.a),c.Rb(c.l))},t.\u0275dir=c.Mb({type:t,selectors:[["","dashboardSections",""]],inputs:{sections:["dashboardSections","sections"]}}),t})(),Rs=(()=>{class t{constructor(t,e){this._widgetsService=t,this._element=e}ngAfterViewInit(){this._widgetsService.isWidgetEnabled(this.widget,this.subWidget)?this.enableWidget():this.disableWidget()}enableWidget(){this._element.nativeElement.style.display="block"}disableWidget(){this._element.nativeElement.style.display="none"}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(le.a),c.Rb(c.l))},t.\u0275dir=c.Mb({type:t,selectors:[["","dashboardWidget",""]],inputs:{widget:["dashboardWidget","widget"],subWidget:"subWidget"}}),t})();function Xs(t,e){if(1&t&&(c.Xb(0,"div",6),c.Sb(1,"app-icons",7),c.Wb()),2&t){const t=c.ic();c.Db(1),c.rc("name",(null==t.iconMap?null:t.iconMap.get(t.name))||"appointment")("color",t.iconColor)("strokeColor",t.iconColor)("fill","clock"===(null==t.iconMap?null:t.iconMap.get(t.name))?t.iconColor:"none")}}function Ls(t,e){if(1&t&&(c.Xb(0,"strong"),c.Xc(1),c.Wb()),2&t){const t=c.ic();c.Db(1),c.ad("",t.count," ",t.suffix,"")}}function ws(t,e){1&t&&(c.Xb(0,"strong"),c.Xc(1),c.Wb()),2&t&&(c.Db(1),c.Yc("-"))}function Ws(t,e){if(1&t&&(c.Xb(0,"strong",8),c.Xc(1),c.Wb()),2&t){const t=c.ic();c.Db(1),c.ad("",t.count2," ",t.suffix2,"")}}let ks=(()=>{class t{constructor(){this.iconMap=new Map([["COMPLETED_DST","notification"],["COMPLETED_APPOINTMENTS_THIS_MONTH","notification"],["LOGGED_INTERACTION","appointment"],["STAFF_SESSION_MINUTES","appointment"],["PATIENT_FOLLOW_UP","clock"],["RESOLVED_ALERTS","patient"],["LOGGED_INTERACTION_MONTH","appointment"],["LOGGED_INTERACTION_TIMER","appointment"],["LOGGED_INTERACTION_MONTH_TIMER","appointment"],["STAFF_SESSION_MINUTES_MONTH","appointment"]]),this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--secondary-color")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["app-quick-progress-subwidget"]],inputs:{name:"name",count:"count",suffix:"suffix",count2:"count2",suffix2:"suffix2"},decls:11,vars:7,consts:[["nz-row","","nzGutter","24"],["nz-col","","nzSpan","3",4,"ngIf"],["nz-col","","nzSpan","21"],[2,"display","block"],[4,"ngIf"],["class","second-row",4,"ngIf"],["nz-col","","nzSpan","3"],["size","18px",3,"name","color","strokeColor","fill"],[1,"second-row"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Vc(1,Xs,2,4,"div",1),c.Xb(2,"div",2),c.Xb(3,"label"),c.Xc(4),c.jc(5,"translate"),c.Wb(),c.Xb(6,"span",3),c.Vc(7,Ls,2,2,"strong",4),c.Vc(8,ws,2,1,"strong",4),c.Wb(),c.Xb(9,"span",3),c.Vc(10,Ws,2,2,"strong",5),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Db(1),c.rc("ngIf",e.name),c.Db(3),c.Yc(c.kc(5,5,e.name)),c.Db(3),c.rc("ngIf",e.count||0===e.count),c.Db(1),c.rc("ngIf",!e.count&&0!==e.count),c.Db(2),c.rc("ngIf",e.count2||0===e.count2))},directives:[F.c,h.q,F.a,dt.a],pipes:[Z.a],styles:["[_nghost-%COMP%]     .ant-row{max-width:25ch}label[_ngcontent-%COMP%]{display:block}strong[_ngcontent-%COMP%]{color:var(--secondary-color);font:normal normal 600 16px/24px Nunito}app-icons[_ngcontent-%COMP%]{vertical-align:sub;pointer-events:none}.second-row[_ngcontent-%COMP%]{font:normal normal 600 14px/18px Nunito!important}"]}),t})();function Vs(t,e){1&t&&(c.Vb(0),c.Xc(1,"Good Morning, "),c.Ub())}function xs(t,e){1&t&&(c.Vb(0),c.Xc(1,"Good Afternoon, "),c.Ub())}function Us(t,e){1&t&&(c.Vb(0),c.Xc(1,"Good Evening, "),c.Ub())}function Fs(t,e){if(1&t&&(c.Vb(0),c.Vc(1,Vs,2,0,"ng-container",3),c.Vc(2,xs,2,0,"ng-container",3),c.Vc(3,Us,2,0,"ng-container",3),c.Ub()),2&t){const t=e.ngIf;c.Db(1),c.rc("ngIf",t>=0&&t<12),c.Db(1),c.rc("ngIf",t>=12&&t<17),c.Db(1),c.rc("ngIf",t>=17&&t<24)}}function Hs(t,e){if(1&t&&(c.Xb(0,"h3"),c.Vc(1,Fs,4,3,"ng-container",3),c.jc(2,"date"),c.Xc(3),c.Wb()),2&t){const t=e.ngIf,n=c.ic();c.Db(1),c.rc("ngIf",c.lc(2,2,n.date,"H")),c.Db(2),c.Zc(" ",null==t||null==t.metadata?null:t.metadata.name,"! ")}}const Bs=function(){return[24,24]};function js(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",6),c.Xb(1,"div",7),c.Sb(2,"app-quick-progress-subwidget",8),c.Wb(),c.Xb(3,"div",9),c.Sb(4,"app-quick-progress-subwidget",10),c.Wb(),c.Xb(5,"div",11),c.jc(6,"translate"),c.Sb(7,"app-quick-progress-subwidget",12),c.Wb(),c.Xb(8,"div",13),c.ec("click",function(){c.Lc(t);const e=c.ic();return e.onLoggedMinutesSummaryClick("TENANT_ADMIN"!==e.loggedInUserType&&null)}),c.Sb(9,"app-quick-progress-subwidget",14),c.Wb(),c.Xb(10,"div",11),c.jc(11,"translate"),c.Sb(12,"app-quick-progress-subwidget",12),c.Wb(),c.Xb(13,"div",15),c.ec("click",function(){c.Lc(t);const e=c.ic();return e.onLoggedMinutesSummaryClick("TENANT_ADMIN"===e.loggedInUserType||null)}),c.Sb(14,"app-quick-progress-subwidget",16),c.Wb(),c.Xb(15,"div",17),c.Sb(16,"app-quick-progress-subwidget",8),c.Wb(),c.Wb()}if(2&t){const t=e.ngIf,n=c.ic();c.rc("nzGutter",c.xc(38,Bs)),c.Db(1),c.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","RESOLVED_ALERTS"),c.Db(1),c.rc("name","RESOLVED_ALERTS")("count",null==t?null:t.widgets.RESOLVED_ALERTS),c.Db(1),c.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","COMPLETED_APPOINTMENTS_THIS_MONTH"),c.Db(1),c.rc("name","COMPLETED_APPOINTMENTS_THIS_MONTH")("count",null==t?null:t.widgets.COMPLETED_APPOINTMENTS_THIS_MONTH),c.Db(1),c.sc("nzTooltipTitle",c.kc(6,34,"STAFF_SESSION_MINUTES_DESC")),c.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","STAFF_SESSION_MINUTES"),c.Db(2),c.rc("name","TENANT_ADMIN"===n.loggedInUserType?"STAFF_SESSION_MINUTES":"Active Session Minutes")("count",(null==n.staffSessionResponse||null==n.staffSessionResponse.metadata?null:n.staffSessionResponse.metadata.totalPingTimeClockedIn)||0),c.Db(1),c.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","LOGGED_INTERACTION"),c.Db(1),c.tc("count2","( ",null==t?null:t.widgets.LOGGED_INTERACTION_TODAY_TIMER_PERCENTAGE,"% on timer)"),c.rc("name","LOGGED_INTERACTION")("count",null==t?null:t.widgets.LOGGED_INTERACTION_TODAY),c.Db(1),c.sc("nzTooltipTitle",c.kc(11,36,"STAFF_SESSION_MINUTES_MONTH_DESC")),c.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","MONTHLY_DATA"),c.Db(2),c.rc("name","TENANT_ADMIN"===n.loggedInUserType?"STAFF_SESSION_MINUTES_MONTH":"Monthly Active Session Minutes")("count",(null==n.staffSessionResponse||null==n.staffSessionResponse.metadata?null:n.staffSessionResponse.metadata.totalPingTimeClockedInMonth)||0),c.Db(1),c.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","MONTHLY_DATA"),c.Db(1),c.tc("suffix","/ ",null==t?null:t.widgets.LOGGED_INTERACTION_TARGET," minutes"),c.tc("count2","( ",null==t?null:t.widgets.LOGGED_INTERACTION_MONTH_TIMER_PERCENTAGE,"%"),c.rc("name","LOGGED_INTERACTION_MONTH")("count",null==t?null:t.widgets.LOGGED_INTERACTION_MONTH),c.Db(1),c.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","PATIENT_FOLLOW_UP"),c.Db(1),c.rc("name","PATIENT_FOLLOW_UP")("count",null==t?null:t.widgets.PATIENT_FOLLOW_UP)}}const Gs=function(){return["QUICK_PROGRESS"]};let Ys=(()=>{class t{constructor(t,e,n,i){this._dashboardService=t,this._dataSharingService=e,this._staffSessionsService=n,this._nzModalService=i,this.patientType="ALL",this.careTakerIds="",this.listOfCaretakers=[],this.date=new Date,this.loggedInUserId=localStorage.getItem("loggedInUser"),this.loggedInUserType=localStorage.getItem("loggedInUserAccountType")}ngOnInit(){this.getOverviewWidget(),this.getQuickProgressWidgets(),"TENANT_ADMIN"===this.loggedInUserType?this.getStaffSessionsForTenant():this.getStaffSessionsForLoggedInUser(),this._dataSharingService.tenantSettings.subscribe(t=>{t&&(this.tenantConfig=t)})}getOverviewWidget(){this.overview$=this._dashboardService.fetchOverviewWidget()}getQuickProgressWidgets(){this.quickProgress$=this._dashboardService.fetchQuickProgressWidgets(this.patientType),"TENANT_ADMIN"===this.loggedInUserType&&this._dashboardService.fetchCareTakerCommunicationSummary().subscribe(t=>{this.caretakerCommunications=t})}getStaffSessionsForTenant(){this._staffSessionsService.fetchStaffSessionForTenant().subscribe(t=>{this.staffSessionResponse=t})}getStaffSessionsForLoggedInUser(){this._staffSessionsService.fetchStaffSession(this.loggedInUserId).subscribe(t=>{this.staffSessionResponse=t})}onLoggedMinutesSummaryClick(t){null!=t&&this._nzModalService.create({nzTitle:null,nzContent:Ns,nzComponentParams:{communications:this.caretakerCommunications,isMonthly:t},nzWidth:500,nzMaskClosable:!1,nzClosable:!0,nzOkText:null,nzFooter:null})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(ce.a),c.Rb(C.a),c.Rb(un.a),c.Rb(k.f))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-quick-progress"]],inputs:{patientType:"patientType"},decls:10,vars:9,consts:[[3,"nzHoverable"],[2,"display","flex"],[2,"width","50%"],[4,"ngIf"],[3,"dashboardSections"],["nz-row","",3,"nzGutter",4,"ngIf"],["nz-row","",3,"nzGutter"],["nz-tooltip","","nzTooltipTitle","Count of alerts you have resolved today","nz-col","","nzSpan","6",3,"dashboardWidget","subWidget"],[3,"name","count"],["nz-tooltip","","nzTooltipTitle","Count of regular and DST appointments you have completed today","nz-col","","nzSpan","6",3,"dashboardWidget","subWidget"],["suffix","patients",3,"name","count"],["nz-tooltip","","nz-col","","nzSpan","6",3,"nzTooltipTitle","dashboardWidget","subWidget"],["suffix","minutes",3,"name","count"],["nz-tooltip","","nzTooltipTitle","A sum of minutes of interaction such as TMS or CMT, you have logged today","nz-col","","nzSpan","6",3,"dashboardWidget","subWidget","click"],["suffix","minutes","suffix2","",3,"name","count","count2"],["nz-tooltip","","nzTooltipTitle","A sum of minutes of interaction such as TMS or CMT, you have logged in the month. Target Goal minutes is calculated based on - Total no of primary patients multiplied by 40","nz-col","","nzSpan","6",3,"dashboardWidget","subWidget","click"],["suffix2","on timer)",3,"name","count","suffix","count2"],["nz-tooltip","","nzTooltipTitle","A count of patients you have reached out to via text or audio call today.","nz-col","","nzSpan","6",3,"dashboardWidget","subWidget"]],template:function(t,e){1&t&&(c.Xb(0,"nz-card",0),c.Xb(1,"div",1),c.Xb(2,"span",2),c.Vc(3,Hs,4,5,"h3",3),c.jc(4,"async"),c.Wb(),c.Wb(),c.Xb(5,"section",4),c.Xb(6,"p"),c.Xc(7," As you complete the activities assigned to you, you can track your progress right here\u2026 "),c.Wb(),c.Vc(8,js,17,39,"div",5),c.jc(9,"async"),c.Wb(),c.Wb()),2&t&&(c.rc("nzHoverable",!0),c.Db(3),c.rc("ngIf",c.kc(4,4,e.overview$)),c.Db(2),c.rc("dashboardSections",c.xc(8,Gs)),c.Db(3),c.rc("ngIf",c.kc(9,6,e.quickProgress$)))},directives:[lt.a,h.q,Ps,F.c,Oe.d,F.a,Rs,ks],pipes:[h.b,h.e,Z.a],styles:["[_nghost-%COMP%]{margin-bottom:10px;display:block}nz-card[_ngcontent-%COMP%]{background:transparent linear-gradient(106deg,#fff 60%,var(--secondary-color-light) 100%) 0 0 no-repeat padding-box;border-radius:5px}[_nghost-%COMP%]     .ant-card-body{padding:28px 24px 20px 28px}h3[_ngcontent-%COMP%]{font:normal normal 600 17px/14px Nunito;letter-spacing:-.6px;color:var(--secondary-color)}p[_ngcontent-%COMP%]{font:normal normal normal 13px/28px Nunito}"]}),t})();var $s=n("oyxB"),qs=n("kKUf"),Zs=n("4RGM");let Qs=(()=>{class t{constructor(t,e){this._widgetsService=t,this._element=e}ngAfterViewInit(){this._widgetsService.isWidgetsEnabled(this.section,this.subWidgets)?this.enableWidget():this.disableWidget()}enableWidget(){this._element.nativeElement.style.display="block"}disableWidget(){this._element.nativeElement.style.display="none"}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(le.a),c.Rb(c.l))},t.\u0275dir=c.Mb({type:t,selectors:[["","dashboardSection",""]],inputs:{section:["dashboardSection","section"],subWidgets:"subWidgets"}}),t})();var Ks=n("W9fG"),Js=n("OtHt"),tr=n("Wfee");function er(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",4),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function nr(t,e){if(1&t&&(c.Xb(0,"label",5),c.Xc(1),c.Wb()),2&t){const t=c.ic();c.Sc("color",t.labelColor),c.rc("ngClass",t.labelPositionClass),c.Db(1),c.Zc(" ",t.label," ")}}function ir(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",6),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}let ar=(()=>{class t{constructor(){this.isLoading=!0,this.showLabel=!0,this.showLoader=!0,this.labelColor="#000",this.percent=0,this.progressColor="#8BC34A",this.progressLabelPosition=or.INSIDE}ngOnInit(){switch(this.progressLabelPosition){case or.BOTTOM:this.labelPositionClass="progress-label-bottom";break;case or.TOP:case or.RIGHT:case or.LEFT:this.labelPositionClass="progress-label-top";break;case or.INSIDE:this.labelPositionClass="progress-label-inside"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["app-bar-progress"]],inputs:{isLoading:"isLoading",showLabel:"showLabel",showLoader:"showLoader",label:"label",labelColor:"labelColor",percent:"percent",progressColor:"progressColor",progressLabelPosition:"progressLabelPosition"},decls:7,vars:7,consts:[[1,"progress"],[4,"ngIf"],["class","progress-label",3,"ngClass","color",4,"ngIf"],[3,"nzPercent","nzShowInfo","nzStrokeColor","nzStrokeWidth"],["nzType","input",1,"full-width",3,"nzActive"],[1,"progress-label",3,"ngClass"],["nzType","input","nzSize","small",1,"quarter-width",3,"nzActive"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Vc(1,er,2,1,"ng-container",1),c.Vb(2),c.Vc(3,nr,2,4,"label",2),c.Ub(),c.Vc(4,ir,2,1,"ng-container",1),c.Vb(5),c.Sb(6,"nz-progress",3),c.Ub(),c.Wb()),2&t&&(c.Db(1),c.rc("ngIf",e.isLoading&&e.showLabel&&e.showLoader),c.Db(2),c.rc("ngIf",e.showLabel),c.Db(1),c.rc("ngIf",e.isLoading&&e.showLoader),c.Db(2),c.rc("nzPercent",e.percent)("nzShowInfo",!1)("nzStrokeColor",e.progressColor)("nzStrokeWidth","28"))},directives:[h.q,Ks.a,Js.b,Js.c,h.o],styles:[".progress[_ngcontent-%COMP%]{margin-top:15px}.progress-label[_ngcontent-%COMP%]{position:absolute;z-index:1;font:normal normal 700 11px/22px Nunito;text-align:center;display:block;opacity:.7}.progress-label-top[_ngcontent-%COMP%]{left:25px;top:-13px!important;margin-top:5px}.progress-label-bottom[_ngcontent-%COMP%]{bottom:-20px!important;display:flex;left:25px;margin-bottom:5px}.progress-label-inside[_ngcontent-%COMP%]{bottom:10px!important;left:25px}"]}),t})();var or=function(t){return t.TOP="TOP",t.BOTTOM="BOTTOM",t.RIGHT="RIGHT",t.LEFT="LEFT",t.INSIDE="INSIDE",t}({}),sr=n("gbDW");let rr=(()=>{class t{transform(t,e,n){if(e&&e.patientCensus){switch(t){case"LOGGED_TMS":{let t=(null==e?void 0:e.patientCensus.RPM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_TREATMENT_MANAGEMENT_SERVICE);this.label=`${t}/ ${null==e?void 0:e.patientCensus.RPM} patients completed`,this.percent=t/(null==e?void 0:e.patientCensus.RPM)*100,this.labelColor="#000",this.progressColor="#6E72CB"}break;case"LOGGED_ADDITIONAL_TMS":{let t=(null==e?void 0:e.patientCensus.RPM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE);this.label=`${t}/ ${null==e?void 0:e.patientCensus.RPM} patients completed`,this.percent=t/(null==e?void 0:e.patientCensus.RPM)*100,this.labelColor="#000",this.progressColor="#6E72CB"}break;case"LOGGED_ADDITIONAL_TMS_B":{let t=(null==e?void 0:e.patientCensus.RPM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B);this.label=`${t}/ ${null==e?void 0:e.patientCensus.RPM} patients completed`,this.percent=t/(null==e?void 0:e.patientCensus.RPM)*100,this.labelColor="#000",this.progressColor="#6E72CB"}break;case"LOGGED_NON_COMPLEX_CCM":{let t=(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_NON_COMPLEX_TREATMENT_MANAGEMENT_SERVICE);this.label=`${t}/ ${null==e?void 0:e.patientCensus.NON_COMPLEX_CCM} patients completed`,this.percent=t/(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#6E72CB"}break;case"LOGGED_NON_COMPLEX_CCM_ADDITIONAL":{let t=(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_NON_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE);this.label=`${t}/ ${null==e?void 0:e.patientCensus.NON_COMPLEX_CCM} patients completed`,this.percent=t/(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#FDA328"}break;case"LOGGED_NON_COMPLEX_CCM_ADDITIONAL_B":{let t=(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_NON_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B);this.label=`${t}/ ${null==e?void 0:e.patientCensus.NON_COMPLEX_CCM} patients completed`,this.percent=t/(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#FDA328"}break;case"LOGGED_NON_COMPLEX_PHYSICIAN_CCM":{let t=(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_NON_COMPLEX_TMS_PHYSICIAN);this.label=`${t}/ ${null==e?void 0:e.patientCensus.NON_COMPLEX_CCM} patients completed`,this.percent=t/(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#95b447"}break;case"LOGGED_COMPLEX_CCM":{let t=(null==e?void 0:e.patientCensus.COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_COMPLEX_TREATMENT_MANAGEMENT_SERVICE);this.label=`${t}/ ${null==e?void 0:e.patientCensus.COMPLEX_CCM} patients completed`,this.percent=t/(null==e?void 0:e.patientCensus.COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#8BC34A"}break;case"LOGGED_COMPLEX_CCM_ADDITIONAL":{let t=(null==e?void 0:e.patientCensus.COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE);this.label=`${t}/ ${null==e?void 0:e.patientCensus.COMPLEX_CCM} patients completed`,this.percent=t/(null==e?void 0:e.patientCensus.COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#FDA328"}}switch(n){case"PERCENT":return this.percent;case"LABEL":return this.label;case"LABEL_COLOR":return this.labelColor;case"PROGRESS_COLOR":return this.progressColor}return null}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Qb({name:"widgetData",type:t,pure:!0}),t})();function cr(t,e){1&t&&c.Sb(0,"nz-skeleton-element",17),2&t&&c.rc("nzActive",!0)}function lr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",18),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function dr(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",19),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(2),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCompliance.PATIENTS_LIKELY_TO_BE_COMPLIANT," patients ")}}function ur(t,e){1&t&&(c.Xb(0,"p"),c.Xc(1,"Most likely to record 16 vital signs this month"),c.Wb())}function pr(t,e){1&t&&(c.Xb(0,"p"),c.Xc(1,"All patients who can complete 16 vital signs this month"),c.Wb())}function hr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",18),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function br(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",20),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(2),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCompliance.PATIENTS_WITH_CLOSE_MONITORING," patients ")}}function gr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",18),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function mr(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",21),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(2),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCompliance.PATIENTS_WITH_NO_VITALS," patients ")}}function fr(t,e){if(1&t&&(c.Xb(0,"strong"),c.Xc(1),c.Wb()),2&t){const t=c.ic(3);c.Db(1),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCompliance.PATIENTS_WITH_VITAL_COMPLIANCE," patients have completed measuring 16 vitals for the month! ")}}function vr(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"br"),c.Xb(2,"div",5),c.Xb(3,"div",22),c.Xb(4,"nz-alert",23),c.Vc(5,fr,2,1,"ng-template",null,24,c.Wc),c.Wb(),c.Wb(),c.Wb(),c.Ub()),2&t){const t=c.Ic(6);c.Db(4),c.rc("nzMessage",t)}}const Sr=function(){return["PATIENTS_WITH_VITAL_COMPLIANCE"]};function Tr(t,e){if(1&t){const t=c.Yb();c.Xb(0,"section",10),c.Xb(1,"div",3),c.Xb(2,"div",11),c.Xb(3,"h4"),c.Xc(4),c.Wb(),c.Wb(),c.Xb(5,"div",12),c.Xb(6,"div",13),c.Vc(7,cr,1,1,"nz-skeleton-element",14),c.Sb(8,"nz-progress",15),c.Xc(9," \xa0 "),c.Sb(10,"nz-progress",15),c.Xc(11," \xa0 "),c.Sb(12,"nz-progress",15),c.Wb(),c.Wb(),c.Wb(),c.Xb(13,"div",3),c.Xb(14,"div",11),c.Xb(15,"p"),c.Xc(16," Here\u2019s how they are doing with their vital signs measurements. "),c.Wb(),c.Wb(),c.Xb(17,"div",12),c.Xb(18,"div",5),c.Xb(19,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("LIKELY_TO_BE_COMPLIANT")}),c.Vc(20,lr,2,1,"ng-container",7),c.Vc(21,dr,3,1,"ng-container",7),c.Vc(22,ur,2,0,"p",7),c.Vc(23,pr,2,0,"p",7),c.Xb(24,"label",8),c.Xc(25," View all "),c.Sb(26,"app-icons",9),c.Wb(),c.Wb(),c.Xb(27,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("NEEDS_FOLLOW_UP")}),c.Vc(28,hr,2,1,"ng-container",7),c.Vc(29,br,3,1,"ng-container",7),c.Xb(30,"p"),c.Xc(31,"Patients who have not recorded any vital signs in last 3 days"),c.Wb(),c.Xb(32,"label",8),c.Xc(33," Follow up "),c.Sb(34,"app-icons",9),c.Wb(),c.Wb(),c.Xb(35,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("NO_VITALS")}),c.Vc(36,gr,2,1,"ng-container",7),c.Vc(37,mr,3,1,"ng-container",7),c.Xb(38,"p"),c.Xc(39,"Patients who have not recorded any vital signs this month"),c.Wb(),c.Xb(40,"label",8),c.Xc(41," Follow up "),c.Sb(42,"app-icons",9),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Vc(43,vr,7,1,"ng-container",7),c.Sb(44,"nz-divider"),c.Sb(45,"br"),c.Wb()}if(2&t){const t=c.ic();c.rc("dashboardSection","MONITORING")("subWidgets",c.xc(37,Sr)),c.Db(4),c.Zc("",null==t.monitoring?null:t.monitoring.patientCensus.RPM," Active RPM patients are assigned to you"),c.Db(3),c.rc("ngIf",!t.monitoring),c.Db(1),c.Rc("width: ",t.compliantPatientsProgress,""),c.rc("nzPercent",100)("nzShowInfo",!1)("nzStrokeColor","#8BC34A")("nzStrokeWidth","28"),c.Db(2),c.Rc("width: ",t.followUpPatientsProgress,""),c.rc("nzPercent",100)("nzShowInfo",!1)("nzStrokeColor","#FDA328")("nzStrokeWidth","28"),c.Db(2),c.Rc("width: ",t.nonCompliantPatientsProgress,""),c.rc("nzPercent",100)("nzShowInfo",!1)("nzStrokeColor","#6E72CB")("nzStrokeWidth","28"),c.Db(8),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(1),c.rc("ngIf",17>t.dayOfMonth),c.Db(1),c.rc("ngIf",17<=t.dayOfMonth),c.Db(3),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(5),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(5),c.rc("strokeColor",t.iconColor),c.Db(1),c.rc("ngIf",!!t.monitoring&&17<=t.dayOfMonth)}}function Cr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Er(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",21),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," patients "),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_TREATMENT_MANAGEMENT_SERVICE," ")}}function Ir(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Mr(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",20),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," patients "),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE," ")}}function yr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Ar(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",19),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," patients "),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B," ")}}function _r(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Dr(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"nz-progress",15),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.rc("nzPercent",((null==t.monitoring?null:t.monitoring.patientCensus.RPM)-(null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_TREATMENT_MANAGEMENT_SERVICE))/(null==t.monitoring?null:t.monitoring.patientCensus.RPM)*100)("nzShowInfo",!1)("nzStrokeColor","#6E72CB")("nzStrokeWidth","28")}}function zr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",30),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Or(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"label",31),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(2),c.ad(" ",(null==t.monitoring?null:t.monitoring.patientCensus.RPM)-(null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_TREATMENT_MANAGEMENT_SERVICE)," / ",null==t.monitoring?null:t.monitoring.patientCensus.RPM," patients completed ")}}function Nr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Pr(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"nz-progress",15),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.rc("nzPercent",((null==t.monitoring?null:t.monitoring.patientCensus.RPM)-(null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE))/(null==t.monitoring?null:t.monitoring.patientCensus.RPM)*100)("nzShowInfo",!1)("nzStrokeColor","#FDA328")("nzStrokeWidth","28")}}function Rr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",30),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Xr(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"label",31),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(2),c.ad(" ",(null==t.monitoring?null:t.monitoring.patientCensus.RPM)-(null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE)," / ",null==t.monitoring?null:t.monitoring.patientCensus.RPM," patients completed ")}}function Lr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function wr(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"nz-progress",15),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.rc("nzPercent",((null==t.monitoring?null:t.monitoring.patientCensus.RPM)-(null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B))/(null==t.monitoring?null:t.monitoring.patientCensus.RPM)*100)("nzShowInfo",!1)("nzStrokeColor","#8BC34A")("nzStrokeWidth","28")}}function Wr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",30),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function kr(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"label",31),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(2),c.ad(" ",(null==t.monitoring?null:t.monitoring.patientCensus.RPM)-(null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B)," / ",null==t.monitoring?null:t.monitoring.patientCensus.RPM," patients completed ")}}const Vr=function(){return["PENDING_TREATMENT_MANAGEMENT_SERVICE","LOGGED_TREATMENT_MANAGEMENT_SERVICE"]};function xr(t,e){if(1&t){const t=c.Yb();c.Xb(0,"section",10),c.Xb(1,"div",3),c.Xb(2,"div",12),c.Xb(3,"section",2),c.Xb(4,"h4"),c.Xc(5,"TMS Minutes logged this month"),c.Wb(),c.Xb(6,"p"),c.Xc(7,"An overview"),c.Wb(),c.Xb(8,"div",5),c.Xb(9,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_TMS")}),c.Vc(10,Cr,2,1,"ng-container",7),c.Vc(11,Er,5,1,"ng-container",7),c.Xb(12,"p"),c.Xc(13,"Pending completion of "),c.Xb(14,"strong"),c.Xc(15,"20 minutes"),c.Wb(),c.Xc(16," of TMS"),c.Wb(),c.Xb(17,"label",8),c.Xc(18," Follow up "),c.Sb(19,"app-icons",9),c.Wb(),c.Wb(),c.Xb(20,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_ADDITIONAL_TMS")}),c.Vc(21,Ir,2,1,"ng-container",7),c.Vc(22,Mr,5,1,"ng-container",7),c.Xb(23,"p"),c.Xc(24,"Pending completion of "),c.Xb(25,"strong"),c.Xc(26,"40 minutes"),c.Wb(),c.Xc(27," of TMS"),c.Wb(),c.Xb(28,"label",8),c.Xc(29," Follow up "),c.Sb(30,"app-icons",9),c.Wb(),c.Wb(),c.Xb(31,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_ADDITIONAL_TMS_B")}),c.Vc(32,yr,2,1,"ng-container",7),c.Vc(33,Ar,5,1,"ng-container",7),c.Xb(34,"p"),c.Xc(35,"Pending completion of "),c.Xb(36,"strong"),c.Xc(37,"60 minutes"),c.Wb(),c.Xc(38," of TMS"),c.Wb(),c.Xb(39,"label",8),c.Xc(40," Follow up "),c.Sb(41,"app-icons",9),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(42,"div",11),c.Xb(43,"section",2),c.Vb(44),c.Xb(45,"div",25),c.Xb(46,"div",26),c.Xb(47,"span",27),c.Xb(48,"strong"),c.Xc(49,"20 minutes"),c.Wb(),c.Xc(50," of TMS "),c.Wb(),c.Wb(),c.Xb(51,"div",28),c.Vc(52,_r,2,1,"ng-container",7),c.Vc(53,Dr,2,4,"ng-container",7),c.Wb(),c.Wb(),c.Vc(54,zr,2,1,"ng-container",7),c.Vc(55,Or,3,2,"ng-container",7),c.Ub(),c.Vb(56),c.Xb(57,"div",25),c.Xb(58,"div",26),c.Xb(59,"span",27),c.Xb(60,"strong"),c.Xc(61,"40 minutes"),c.Wb(),c.Xc(62," of TMS "),c.Wb(),c.Wb(),c.Xb(63,"div",28),c.Vc(64,Nr,2,1,"ng-container",7),c.Vc(65,Pr,2,4,"ng-container",7),c.Wb(),c.Wb(),c.Vc(66,Rr,2,1,"ng-container",7),c.Vc(67,Xr,3,2,"ng-container",7),c.Ub(),c.Vb(68),c.Xb(69,"div",25),c.Xb(70,"div",26),c.Xb(71,"span",27),c.Xb(72,"strong"),c.Xc(73,"60 minutes"),c.Wb(),c.Xc(74," of TMS "),c.Wb(),c.Wb(),c.Xb(75,"div",28),c.Vc(76,Lr,2,1,"ng-container",7),c.Vc(77,wr,2,4,"ng-container",7),c.Wb(),c.Wb(),c.Vc(78,Wr,2,1,"ng-container",7),c.Vc(79,kr,3,2,"ng-container",7),c.Ub(),c.Wb(),c.Wb(),c.Wb(),c.Sb(80,"nz-divider"),c.Wb()}if(2&t){const t=c.ic();c.rc("dashboardSection","MONITORING")("subWidgets",c.xc(27,Vr)),c.Db(3),c.rc("dashboardWidget","MONITORING")("subWidget","PENDING_TREATMENT_MANAGEMENT_SERVICE"),c.Db(7),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(8),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(8),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(8),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("dashboardWidget","MONITORING")("subWidget","LOGGED_TREATMENT_MANAGEMENT_SERVICE"),c.Db(9),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(1),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(9),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(1),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(9),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(1),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring)}}function Ur(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Fr(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",21),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," patients "),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_NON_COMPLEX_TREATMENT_MANAGEMENT_SERVICE," ")}}function Hr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Br(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",20),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," patients "),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_NON_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE," ")}}function jr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Gr(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",19),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," patients "),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_NON_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B," ")}}function Yr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function $r(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"app-bar-progress",34),c.jc(2,"widgetData"),c.jc(3,"widgetData"),c.jc(4,"widgetData"),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.sc("percent",c.mc(2,3,"LOGGED_NON_COMPLEX_CCM",t.monitoring,"PERCENT")),c.sc("label",c.mc(3,7,"LOGGED_NON_COMPLEX_CCM",t.monitoring,"LABEL")),c.sc("labelColor",c.lc(4,11,"LOGGED_NON_COMPLEX_CCM","LABEL_COLOR"))}}function qr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",30),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Zr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Qr(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"app-bar-progress",35),c.jc(2,"widgetData"),c.jc(3,"widgetData"),c.jc(4,"widgetData"),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.sc("percent",c.mc(2,3,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL",t.monitoring,"PERCENT")),c.sc("label",c.mc(3,7,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL",t.monitoring,"LABEL")),c.sc("labelColor",c.lc(4,11,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL","LABEL_COLOR"))}}function Kr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",30),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Jr(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function tc(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"app-bar-progress",36),c.jc(2,"widgetData"),c.jc(3,"widgetData"),c.jc(4,"widgetData"),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.sc("percent",c.mc(2,3,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL_B",t.monitoring,"PERCENT")),c.sc("label",c.mc(3,7,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL_B",t.monitoring,"LABEL")),c.sc("labelColor",c.lc(4,11,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL_B","LABEL_COLOR"))}}function ec(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",30),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}const nc=function(){return["PENDING_NON_COMPLEX_CCM_CARE_MANAGEMENT_TIME","LOGGED_NON_COMPLEX_CCM_CARE_MANAGEMENT_TIME"]};function ic(t,e){if(1&t){const t=c.Yb();c.Xb(0,"section",10),c.Xb(1,"div",3),c.Xb(2,"div",12),c.Xb(3,"section",2),c.Xb(4,"h4"),c.Xc(5,"Non-Complex CMT Minutes logged this month"),c.Wb(),c.Xb(6,"p"),c.Xc(7,"An overview"),c.Wb(),c.Xb(8,"div",5),c.Xb(9,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_NON_COMPLEX_TMS")}),c.Vc(10,Ur,2,1,"ng-container",7),c.Vc(11,Fr,5,1,"ng-container",7),c.Xb(12,"p"),c.Xc(13,"Pending completion of "),c.Xb(14,"strong"),c.Xc(15,"20 minutes"),c.Wb(),c.Xc(16," of CMT"),c.Wb(),c.Xb(17,"label",8),c.Xc(18," Follow up "),c.Sb(19,"app-icons",9),c.Wb(),c.Wb(),c.Xb(20,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_NON_COMPLEX_ADDITIONAL_TMS")}),c.Vc(21,Hr,2,1,"ng-container",7),c.Vc(22,Br,5,1,"ng-container",7),c.Xb(23,"p"),c.Xc(24,"Pending completion of "),c.Xb(25,"strong"),c.Xc(26,"40 minutes"),c.Wb(),c.Xc(27," of CMT"),c.Wb(),c.Xb(28,"label",8),c.Xc(29," Follow up "),c.Sb(30,"app-icons",9),c.Wb(),c.Wb(),c.Xb(31,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_NON_COMPLEX_ADDITIONAL_TMS_B")}),c.Vc(32,jr,2,1,"ng-container",7),c.Vc(33,Gr,5,1,"ng-container",7),c.Xb(34,"p"),c.Xc(35,"Pending completion of "),c.Xb(36,"strong"),c.Xc(37,"60 minutes"),c.Wb(),c.Xc(38," of CMT"),c.Wb(),c.Xb(39,"label",8),c.Xc(40," Follow up "),c.Sb(41,"app-icons",9),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(42,"div",11),c.Xb(43,"section",2),c.Vb(44),c.Xb(45,"div",32),c.Xb(46,"div",33),c.Xb(47,"span",27),c.Xb(48,"strong"),c.Xc(49,"20 minutes"),c.Wb(),c.Xc(50," of CMT "),c.Wb(),c.Wb(),c.Xb(51,"div",28),c.Vc(52,Yr,2,1,"ng-container",7),c.Vc(53,$r,5,14,"ng-container",7),c.Vc(54,qr,2,1,"ng-container",7),c.Wb(),c.Wb(),c.Ub(),c.Vb(55),c.Xb(56,"div",32),c.Xb(57,"div",33),c.Xb(58,"span",27),c.Xb(59,"strong"),c.Xc(60,"40 minutes"),c.Wb(),c.Xc(61," of CMT "),c.Wb(),c.Wb(),c.Xb(62,"div",28),c.Vc(63,Zr,2,1,"ng-container",7),c.Vc(64,Qr,5,14,"ng-container",7),c.Vc(65,Kr,2,1,"ng-container",7),c.Wb(),c.Wb(),c.Ub(),c.Vb(66),c.Xb(67,"div",32),c.Xb(68,"div",33),c.Xb(69,"span",27),c.Xb(70,"strong"),c.Xc(71,"60 minutes"),c.Wb(),c.Xc(72," of CMT "),c.Wb(),c.Wb(),c.Xb(73,"div",28),c.Vc(74,Jr,2,1,"ng-container",7),c.Vc(75,tc,5,14,"ng-container",7),c.Vc(76,ec,2,1,"ng-container",7),c.Wb(),c.Wb(),c.Ub(),c.Wb(),c.Wb(),c.Wb(),c.Sb(77,"nz-divider"),c.Wb()}if(2&t){const t=c.ic();c.rc("dashboardSection","MONITORING")("subWidgets",c.xc(24,nc)),c.Db(3),c.rc("dashboardWidget","MONITORING")("subWidget","PENDING_NON_COMPLEX_CCM_CARE_MANAGEMENT_TIME"),c.Db(7),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(8),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(8),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(8),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("dashboardWidget","MONITORING")("subWidget","LOGGED_NON_COMPLEX_CCM_CARE_MANAGEMENT_TIME"),c.Db(9),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(1),c.rc("ngIf",!t.monitoring),c.Db(9),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(1),c.rc("ngIf",!t.monitoring),c.Db(9),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(1),c.rc("ngIf",!t.monitoring)}}function ac(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function oc(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",21),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," patients "),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_COMPLEX_TREATMENT_MANAGEMENT_SERVICE," ")}}function sc(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function rc(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",20),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," patients "),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE," ")}}function cc(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function lc(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"app-bar-progress",37),c.jc(2,"widgetData"),c.jc(3,"widgetData"),c.jc(4,"widgetData"),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.sc("percent",c.mc(2,3,"LOGGED_COMPLEX_CCM",t.monitoring,"PERCENT")),c.sc("label",c.mc(3,7,"LOGGED_COMPLEX_CCM",t.monitoring,"LABEL")),c.sc("labelColor",c.lc(4,11,"LOGGED_COMPLEX_CCM","LABEL_COLOR"))}}function dc(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",30),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function uc(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function pc(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"app-bar-progress",38),c.jc(2,"widgetData"),c.jc(3,"widgetData"),c.jc(4,"widgetData"),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.sc("percent",c.mc(2,3,"LOGGED_COMPLEX_CCM_ADDITIONAL",t.monitoring,"PERCENT")),c.sc("label",c.mc(3,7,"LOGGED_COMPLEX_CCM_ADDITIONAL",t.monitoring,"LABEL")),c.sc("labelColor",c.lc(4,11,"LOGGED_COMPLEX_CCM_ADDITIONAL","LABEL_COLOR"))}}function hc(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",30),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}const bc=function(){return["PENDING_COMPLEX_CCM_CARE_MANAGEMENT_TIME","LOGGED_COMPLEX_CCM_CARE_MANAGEMENT_TIME"]};function gc(t,e){if(1&t){const t=c.Yb();c.Xb(0,"section",10),c.Xb(1,"div",3),c.Xb(2,"div",12),c.Xb(3,"section",2),c.Xb(4,"h4"),c.Xc(5,"Complex CMT Minutes logged this month"),c.Wb(),c.Xb(6,"p"),c.Xc(7,"An overview"),c.Wb(),c.Xb(8,"div",5),c.Xb(9,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_COMPLEX_TREATMENT_MANAGEMENT_SERVICE")}),c.Vc(10,ac,2,1,"ng-container",7),c.Vc(11,oc,5,1,"ng-container",7),c.Xb(12,"p"),c.Xc(13,"Pending completion of "),c.Xb(14,"strong"),c.Xc(15,"20 minutes"),c.Wb(),c.Xc(16," of CMT"),c.Wb(),c.Xb(17,"label",8),c.Xc(18," Follow up "),c.Sb(19,"app-icons",9),c.Wb(),c.Wb(),c.Xb(20,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE")}),c.Vc(21,sc,2,1,"ng-container",7),c.Vc(22,rc,5,1,"ng-container",7),c.Xb(23,"p"),c.Xc(24,"Pending completion of "),c.Xb(25,"strong"),c.Xc(26,"40 minutes"),c.Wb(),c.Xc(27," of CMT"),c.Wb(),c.Xb(28,"label",8),c.Xc(29," Follow up "),c.Sb(30,"app-icons",9),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(31,"div",11),c.Xb(32,"section",2),c.Vb(33),c.Xb(34,"div",32),c.Xb(35,"div",33),c.Xb(36,"span",27),c.Xb(37,"strong"),c.Xc(38,"20 minutes"),c.Wb(),c.Xc(39," of CMT "),c.Wb(),c.Wb(),c.Xb(40,"div",28),c.Vc(41,cc,2,1,"ng-container",7),c.Vc(42,lc,5,14,"ng-container",7),c.Vc(43,dc,2,1,"ng-container",7),c.Wb(),c.Wb(),c.Ub(),c.Vb(44),c.Xb(45,"div",32),c.Xb(46,"div",33),c.Xb(47,"span",27),c.Xb(48,"strong"),c.Xc(49,"20 minutes"),c.Wb(),c.Xc(50," of CMT "),c.Wb(),c.Wb(),c.Xb(51,"div",28),c.Vc(52,uc,2,1,"ng-container",7),c.Vc(53,pc,5,14,"ng-container",7),c.Vc(54,hc,2,1,"ng-container",7),c.Wb(),c.Wb(),c.Ub(),c.Wb(),c.Wb(),c.Wb(),c.Sb(55,"nz-divider"),c.Wb()}if(2&t){const t=c.ic();c.rc("dashboardSection","MONITORING")("subWidgets",c.xc(18,bc)),c.Db(3),c.rc("dashboardWidget","MONITORING")("subWidget","PENDING_COMPLEX_CCM_CARE_MANAGEMENT_TIME"),c.Db(7),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(8),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(8),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("dashboardWidget","MONITORING")("subWidget","LOGGED_COMPLEX_CCM_CARE_MANAGEMENT_TIME"),c.Db(9),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(1),c.rc("ngIf",!t.monitoring),c.Db(9),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(1),c.rc("ngIf",!t.monitoring)}}function mc(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function fc(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",21),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," patients "),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_CARE_MANAGEMENT_TIME," ")}}function vc(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",40),c.Sb(2,"br"),c.Sb(3,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0),c.Db(2),c.rc("nzActive",!0))}function Sc(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",41),c.Xb(2,"label",42),c.Xc(3),c.Wb(),c.Sb(4,"nz-progress",15),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.ad(" ",(null==t.monitoring?null:t.monitoring.patientCensus.BHI)-(null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_CARE_MANAGEMENT_TIME)," / ",null==t.monitoring?null:t.monitoring.patientCensus.BHI," patients completed "),c.Db(1),c.rc("nzPercent",((null==t.monitoring?null:t.monitoring.patientCensus.BHI)-(null==t.monitoring?null:t.monitoring.patientCommunicationCompliance.PENDING_CARE_MANAGEMENT_TIME))/(null==t.monitoring?null:t.monitoring.patientCensus.BHI)*100)("nzShowInfo",!1)("nzStrokeColor","#6E72CB")("nzStrokeWidth","28")}}function Tc(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Cc(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",20),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," patients "),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientCompliance.PATIENTS_WITH_PENDING_ASSESSMENT," ")}}function Ec(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",40),c.Sb(2,"br"),c.Sb(3,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0),c.Db(2),c.rc("nzActive",!0))}function Ic(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",41),c.Xb(2,"label",42),c.Xc(3),c.Wb(),c.Sb(4,"nz-progress",15),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(3),c.ad(" ",(null==t.monitoring?null:t.monitoring.patientCensus.BHI)-(null==t.monitoring?null:t.monitoring.patientCompliance.PATIENTS_WITH_PENDING_ASSESSMENT)," / ",null==t.monitoring?null:t.monitoring.patientCensus.BHI," patients assessed "),c.Db(1),c.rc("nzPercent",((null==t.monitoring?null:t.monitoring.patientCensus.BHI)-(null==t.monitoring?null:t.monitoring.patientCompliance.PATIENTS_WITH_PENDING_ASSESSMENT))/(null==t.monitoring?null:t.monitoring.patientCensus.BHI)*100)("nzShowInfo",!1)("nzStrokeColor","#FDA328")("nzStrokeWidth","28")}}function Mc(t,e){if(1&t){const t=c.Yb();c.Xb(0,"section",2),c.Xb(1,"div",3),c.Xb(2,"div",4),c.Xb(3,"h4"),c.Xc(4),c.Wb(),c.Xb(5,"p"),c.Xc(6,"An overview"),c.Wb(),c.Xb(7,"div",5),c.Xb(8,"div",6),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_CMT")}),c.Xb(9,"section",2),c.Vc(10,mc,2,1,"ng-container",7),c.Vc(11,fc,5,1,"ng-container",7),c.Xb(12,"p"),c.Xc(13,"Pending completion of "),c.Xb(14,"strong"),c.Xc(15,"20 minutes"),c.Wb(),c.Xc(16," of CMT"),c.Wb(),c.Xb(17,"label",8),c.Xc(18," Follow up "),c.Sb(19,"app-icons",9),c.Wb(),c.Wb(),c.Wb(),c.Xb(20,"div",39),c.Xb(21,"section",2),c.Vc(22,vc,4,2,"ng-container",7),c.Vc(23,Sc,5,6,"ng-container",7),c.Wb(),c.Wb(),c.Xb(24,"div",6),c.ec("click",function(){return c.Lc(t),c.ic().navigate("ASSESSMENT_COMPLIANCE")}),c.Xb(25,"section",2),c.Vc(26,Tc,2,1,"ng-container",7),c.Vc(27,Cc,5,1,"ng-container",7),c.Xb(28,"p"),c.Xc(29,"Pending completion of "),c.Xb(30,"strong"),c.Xc(31,"an assessment"),c.Wb(),c.Wb(),c.Xb(32,"label",8),c.Xc(33," Follow up "),c.Sb(34,"app-icons",9),c.Wb(),c.Wb(),c.Wb(),c.Xb(35,"div",39),c.Vc(36,Ec,4,2,"ng-container",7),c.Vc(37,Ic,5,6,"ng-container",7),c.Wb(),c.Wb(),c.Wb(),c.Sb(38,"nz-divider"),c.Wb(),c.Wb()}if(2&t){const t=c.ic();c.rc("dashboardWidget","MONITORING")("subWidget","PENDING_CARE_MANAGEMENT_TIME")("dashboardWidget","MONITORING")("subWidget","LOGGED_CARE_MANAGEMENT_TIME"),c.Db(4),c.Zc("",null==t.monitoring?null:t.monitoring.patientCensus.BHI," Active BHI patients are assigned to you"),c.Db(5),c.rc("dashboardWidget","MONITORING")("subWidget","PENDING_CARE_MANAGEMENT_TIME"),c.Db(1),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(8),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("dashboardWidget","MONITORING")("subWidget","LOGGED_CARE_MANAGEMENT_TIME"),c.Db(1),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(2),c.rc("dashboardWidget","MONITORING")("subWidget","PATIENTS_WITH_PENDING_ASSESSMENT"),c.Db(1),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring),c.Db(7),c.rc("strokeColor",t.iconColor),c.Db(2),c.rc("ngIf",!t.monitoring),c.Db(1),c.rc("ngIf",!!t.monitoring)}}function yc(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Ac(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",19),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," appointments "),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientAppointmentCompliance.UPCOMING_APPOINTMENTS," ")}}function _c(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Dc(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",20),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," appointments "),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientAppointmentCompliance.PATIENTS_WITH_UNATTENDED_APPOINTMENTS," ")}}function zc(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-skeleton-element",17),c.Ub()),2&t&&(c.Db(1),c.rc("nzActive",!0))}function Oc(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"h4",21),c.Xb(2,"span",29),c.Xc(3),c.Wb(),c.Xc(4," patients "),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(3),c.Zc(" ",null==t.monitoring?null:t.monitoring.patientAppointmentCompliance.PATIENTS_WITHOUT_APPOINTMENTS," ")}}let Nc=(()=>{class t{constructor(t,e,n,i,a){var o,s,r,l;this._dashboardService=t,this._dataSharingService=e,this._router=n,this._widgetsService=i,this._activatedRoute=a,this.dateEmitter=new c.n,this.dayOfMonth=(new Date).getDate(),this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color"),this.likelyToBeCompliantPatientsConstraint=null===(l=null===(r=null===(s=null===(o=this._widgetsService.getDashboardConfig())||void 0===o?void 0:o.config.MONITORING)||void 0===s?void 0:s.subWidgetConfigMetadata)||void 0===r?void 0:r.PATIENTS_LIKELY_TO_BE_COMPLIANT)||void 0===l?void 0:l.likelyToBeCompliantPatientsConstraint}ngOnInit(){this._activatedRoute.queryParams.subscribe(t=>{t.requestTenantIds&&localStorage.setItem(Zs.a.REQUEST_TENANT_IDS,t.requestTenantIds),this.getTenantConfig(),this.getMonitoringWidget()})}getMonitoringWidget(){this._dashboardService.fetchMonitoringWidget(this.patientType).subscribe(t=>{var e,n,i,a,o;this.monitoring=t,this.dateEmitter.emit(null===(n=null===(e=this.monitoring)||void 0===e?void 0:e.metadata)||void 0===n?void 0:n.requestTime);const s=null===(i=this.monitoring)||void 0===i?void 0:i.patientCompliance.PATIENTS_LIKELY_TO_BE_COMPLIANT,r=null===(a=this.monitoring)||void 0===a?void 0:a.patientCompliance.PATIENTS_WITH_CLOSE_MONITORING,c=null===(o=this.monitoring)||void 0===o?void 0:o.patientCompliance.PATIENTS_WITH_NO_VITALS,l=s+r+c;this.compliantPatientsProgress=s/l*100+"%",this.followUpPatientsProgress=r/l*100+"%",this.nonCompliantPatientsProgress=c/l*100+"%"})}getTenantConfig(){this._dataSharingService.tenantSettings.subscribe(t=>{var e;t&&(this.enabledEpisodeBlueprints=[],null===(e=null==t?void 0:t.episodeBlueprints)||void 0===e||e.forEach(t=>{(null==t?void 0:t.archived)||this.enabledEpisodeBlueprints.push(t)}))})}navigate(t){var e,n,i,a,o,s,r,c,l,d,u,p,h,b,g,m,f,v,S,T,C,E,I,M,y,_,D,z,O,N,P,R,X,L,w,W,k,V,x,U,F,H,B,j,G,Y,$,q,Z,Q,K,J,tt,et,nt,it,at,ot,st,rt,ct,lt,dt,ut,pt,ht,bt,gt,mt,ft,vt,St,Tt,Ct,Et,It,Mt,yt,At,_t,Dt,zt,Ot;if(!(null===(n=null===(e=this.monitoring)||void 0===e?void 0:e.metadata)||void 0===n?void 0:n.episodeBlueprint))return;const Nt=localStorage.getItem(Zs.a.REQUEST_TENANT_IDS);switch(t){case"PENDING_TMS":if(!(null===(o=null===(a=null===(i=this.monitoring)||void 0===i?void 0:i.metadata)||void 0===a?void 0:a.episodeBlueprint)||void 0===o?void 0:o.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"TMS_REMAINING","sub-filter":"RPM",episodeStatus:"IN_PROGRESS",patientStatus:"ACTIVE",episodeBlueprint:null===(c=null===(r=null===(s=this.monitoring)||void 0===s?void 0:s.metadata)||void 0===r?void 0:r.episodeBlueprint)||void 0===c?void 0:c.RPM,selectedEpisodeType:"RPM",op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,tms:"TMS_RECORDED",requestTenantIds:Nt}});break;case"PENDING_ADDITIONAL_TMS":if(!(null===(u=null===(d=null===(l=this.monitoring)||void 0===l?void 0:l.metadata)||void 0===d?void 0:d.episodeBlueprint)||void 0===u?void 0:u.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"TMS_REMAINING","sub-filter":"RPM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"RPM",patientStatus:"ACTIVE",episodeBlueprint:null===(b=null===(h=null===(p=this.monitoring)||void 0===p?void 0:p.metadata)||void 0===h?void 0:h.episodeBlueprint)||void 0===b?void 0:b.RPM,op:"LESS_THAN",v1:39,v2:1,assignedStaffType:this.patientType,tms:"TMS_RECORDED",requestTenantIds:Nt}});break;case"PENDING_ADDITIONAL_TMS_B":if(!(null===(f=null===(m=null===(g=this.monitoring)||void 0===g?void 0:g.metadata)||void 0===m?void 0:m.episodeBlueprint)||void 0===f?void 0:f.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"TMS_REMAINING","sub-filter":"RPM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"RPM",patientStatus:"ACTIVE",episodeBlueprint:null===(T=null===(S=null===(v=this.monitoring)||void 0===v?void 0:v.metadata)||void 0===S?void 0:S.episodeBlueprint)||void 0===T?void 0:T.RPM,op:"LESS_THAN",v1:59,v2:1,assignedStaffType:this.patientType,tms:"TMS_RECORDED",requestTenantIds:Nt}});break;case"PENDING_CMT":if(!(null===(I=null===(E=null===(C=this.monitoring)||void 0===C?void 0:C.metadata)||void 0===E?void 0:E.episodeBlueprint)||void 0===I?void 0:I.BHI))break;this._router.navigate(["/patient"],{queryParams:{filter:"CMT","sub-filter":"GENERAL",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"GENERAL",patientStatus:"ACTIVE",episodeBlueprint:null===(_=null===(y=null===(M=this.monitoring)||void 0===M?void 0:M.metadata)||void 0===y?void 0:y.episodeBlueprint)||void 0===_?void 0:_.BHI,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,cmt:"CMT_RECORDED",requestTenantIds:Nt}});break;case"LIKELY_TO_BE_COMPLIANT":if(!(null===(O=null===(z=null===(D=this.monitoring)||void 0===D?void 0:D.metadata)||void 0===z?void 0:z.episodeBlueprint)||void 0===O?void 0:O.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"RPM_VITAL_COMPLIANCE","sub-filter":"RPM",selectedEpisodeType:"RPM",rpmVitalCompliance:"LIKELY_TO_BE_COMPLIANT",episodeStatus:"IN_PROGRESS",patientStatus:"ACTIVE",episodeBlueprint:null===(R=null===(P=null===(N=this.monitoring)||void 0===N?void 0:N.metadata)||void 0===P?void 0:P.episodeBlueprint)||void 0===R?void 0:R.RPM,metaValue:this.likelyToBeCompliantPatientsConstraint,assignedStaffType:this.patientType,sort:"VITAL_DAYS_REMAINING",order:"ASC",requestTenantIds:Nt}});break;case"NEEDS_FOLLOW_UP":if(!(null===(w=null===(L=null===(X=this.monitoring)||void 0===X?void 0:X.metadata)||void 0===L?void 0:L.episodeBlueprint)||void 0===w?void 0:w.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"RPM_VITAL_COMPLIANCE","sub-filter":"RPM",selectedEpisodeType:"RPM",rpmVitalCompliance:"NEEDS_FOLLOW_UP",episodeStatus:"IN_PROGRESS",assignedStaffType:this.patientType,patientStatus:"ACTIVE",episodeBlueprint:null===(V=null===(k=null===(W=this.monitoring)||void 0===W?void 0:W.metadata)||void 0===k?void 0:k.episodeBlueprint)||void 0===V?void 0:V.RPM,requestTenantIds:Nt}});break;case"NO_VITALS":if(!(null===(F=null===(U=null===(x=this.monitoring)||void 0===x?void 0:x.metadata)||void 0===U?void 0:U.episodeBlueprint)||void 0===F?void 0:F.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"VITAL_DAYS_REMAINING","sub-filter":"RPM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"RPM",patientStatus:"ACTIVE",episodeBlueprint:null===(j=null===(B=null===(H=this.monitoring)||void 0===H?void 0:H.metadata)||void 0===B?void 0:B.episodeBlueprint)||void 0===j?void 0:j.RPM,assignedStaffType:this.patientType,op:"GREATER_THAN",v1:16,v2:1,requestTenantIds:Nt}});break;case"ASSESSMENT_COMPLIANCE":if(!(null===($=null===(Y=null===(G=this.monitoring)||void 0===G?void 0:G.metadata)||void 0===Y?void 0:Y.episodeBlueprint)||void 0===$?void 0:$.BHI))break;this._router.navigate(["/patient"],{queryParams:{filter:"ASSESSMENT_COMPLIANCE","sub-filter":"GENERAL",selectedEpisodeType:"GENERAL",assessment:"ASSESSMENT_NOT_RECORDED",episodeStatus:"IN_PROGRESS",patientStatus:"ACTIVE",episodeBlueprint:(null===(Q=null===(Z=null===(q=this.monitoring)||void 0===q?void 0:q.metadata)||void 0===Z?void 0:Z.episodeBlueprint)||void 0===Q?void 0:Q.BHI)||(null===(tt=null===(J=null===(K=this.monitoring)||void 0===K?void 0:K.metadata)||void 0===J?void 0:J.episodeBlueprint)||void 0===tt?void 0:tt.GENERAL),assignedStaffType:this.patientType,requestTenantIds:Nt}});break;case"UPCOMING_APPOINTMENTS":this._router.navigate(["/appointments"],{queryParams:{tab:"upcoming",startTime:(new Date).getTime(),assignedStaffType:this.patientType,endTime:Object(A.a)(new Date).getTime(),requestTenantIds:Nt}});break;case"APPOINTMENTS_FOR_MONTH":this._router.navigate(["/appointments"],{queryParams:{tab:"upcoming",startTime:(new Date).getTime(),assignedStaffType:this.patientType,endTime:Object(qs.a)(new Date).getTime(),requestTenantIds:Nt}});break;case"COMPLETED_APPOINTMENTS_THIS_DAY":this._router.navigate(["/appointments"],{queryParams:{assignedStaffType:this.patientType,tab:"completed",requestTenantIds:Nt}});break;case"PENDING_NON_COMPLEX_TMS":if(!(null===(it=null===(nt=null===(et=this.monitoring)||void 0===et?void 0:et.metadata)||void 0===nt?void 0:nt.episodeBlueprint)||void 0===it?void 0:it.CCM))break;this._router.navigate(["/patient"],{queryParams:{filter:"CCM_CMT_REMAINING","sub-filter":"CCM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"CCM",patientStatus:"ACTIVE",episodeBlueprint:null===(st=null===(ot=null===(at=this.monitoring)||void 0===at?void 0:at.metadata)||void 0===ot?void 0:ot.episodeBlueprint)||void 0===st?void 0:st.CCM,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,ccmCmt:"NON_COMPLEX_CMT_RECORDED",requestTenantIds:Nt}});break;case"PENDING_NON_COMPLEX_ADDITIONAL_TMS":if(!(null===(lt=null===(ct=null===(rt=this.monitoring)||void 0===rt?void 0:rt.metadata)||void 0===ct?void 0:ct.episodeBlueprint)||void 0===lt?void 0:lt.CCM))break;this._router.navigate(["/patient"],{queryParams:{filter:"CCM_CMT_REMAINING","sub-filter":"CCM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"CCM",patientStatus:"ACTIVE",episodeBlueprint:null===(pt=null===(ut=null===(dt=this.monitoring)||void 0===dt?void 0:dt.metadata)||void 0===ut?void 0:ut.episodeBlueprint)||void 0===pt?void 0:pt.CCM,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,ccmCmt:"NON_COMPLEX_ADDITIONAL_CMT_RECORDED",requestTenantIds:Nt}});break;case"PENDING_COMPLEX_TREATMENT_MANAGEMENT_SERVICE":if(!(null===(gt=null===(bt=null===(ht=this.monitoring)||void 0===ht?void 0:ht.metadata)||void 0===bt?void 0:bt.episodeBlueprint)||void 0===gt?void 0:gt.CCM))break;this._router.navigate(["/patient"],{queryParams:{filter:"CCM_CMT_REMAINING","sub-filter":"CCM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"CCM",patientStatus:"ACTIVE",episodeBlueprint:null===(vt=null===(ft=null===(mt=this.monitoring)||void 0===mt?void 0:mt.metadata)||void 0===ft?void 0:ft.episodeBlueprint)||void 0===vt?void 0:vt.CCM,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,ccmCmt:"COMPLEX_CMT_RECORDED",requestTenantIds:Nt}});break;case"PENDING_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE":if(!(null===(Ct=null===(Tt=null===(St=this.monitoring)||void 0===St?void 0:St.metadata)||void 0===Tt?void 0:Tt.episodeBlueprint)||void 0===Ct?void 0:Ct.CCM))break;this._router.navigate(["/patient"],{queryParams:{filter:"CCM_CMT_REMAINING","sub-filter":"CCM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"CCM",patientStatus:"ACTIVE",episodeBlueprint:null===(Mt=null===(It=null===(Et=this.monitoring)||void 0===Et?void 0:Et.metadata)||void 0===It?void 0:It.episodeBlueprint)||void 0===Mt?void 0:Mt.CCM,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,ccmCmt:"COMPLEX_ADDITIONAL_CMT_RECORDED",requestTenantIds:Nt}});break;case"PENDING_NON_COMPLEX_ADDITIONAL_TMS_B":if(!(null===(_t=null===(At=null===(yt=this.monitoring)||void 0===yt?void 0:yt.metadata)||void 0===At?void 0:At.episodeBlueprint)||void 0===_t?void 0:_t.CCM))break;this._router.navigate(["/patient"],{queryParams:{filter:"CCM_CMT_REMAINING","sub-filter":"CCM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"CCM",patientStatus:"ACTIVE",episodeBlueprint:null===(Ot=null===(zt=null===(Dt=this.monitoring)||void 0===Dt?void 0:Dt.metadata)||void 0===zt?void 0:zt.episodeBlueprint)||void 0===Ot?void 0:Ot.CCM,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,ccmCmt:"NON_COMPLEX_ADDITIONAL_CMT_B_RECORDED",requestTenantIds:Nt}});break;case"PATIENTS_WITH_UNATTENDED_APPOINTMENTS":this._router.navigate(["/appointments"],{queryParams:{assignedStaffType:this.patientType,tab:"unattended",requestTenantIds:Nt}});break;case"PATIENTS_WITHOUT_APPOINTMENTS":this._router.navigate(["/appointments"],{queryParams:{tab:"no-appointment",requestTenantIds:Nt,assignedStaffType:this.patientType}})}}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(ce.a),c.Rb(C.a),c.Rb(d.g),c.Rb(le.a),c.Rb(d.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-monitoring-widget"]],inputs:{patientType:"patientType"},outputs:{dateEmitter:"date"},features:[c.Cb([h.e])],decls:45,vars:31,consts:[[3,"dashboardSection","subWidgets",4,"ngIf"],[3,"dashboardWidget","subWidget",4,"ngIf"],[3,"dashboardWidget","subWidget"],["nz-row","",1,"monitoring-widget-container"],["nz-col","","nzSpan","24"],["nz-row",""],["nz-col","","nzSpan","6","actionable","",3,"click"],[4,"ngIf"],["nz-typography","","nzType","secondary"],["name","arrowRight","size","10px",3,"strokeColor"],[3,"dashboardSection","subWidgets"],["nz-col","","nzSpan","7"],["nz-col","","nzSpan","17"],[1,"progress-container"],["nzType","input","class","full-width",3,"nzActive",4,"ngIf"],[3,"nzPercent","nzShowInfo","nzStrokeColor","nzStrokeWidth"],["nz-col","","nzSpan","8","actionable","",3,"click"],["nzType","input",1,"full-width",3,"nzActive"],["nzType","input","nzSize","small",1,"half-width",3,"nzActive"],["nz-typography","",1,"green-patients-heading"],["nz-typography","",1,"orange-patients-heading"],["nz-typography","",1,"blue-patients-heading"],["nz-col","","nzSpan","17","nzOffset","7"],["nzType","success",1,"message",3,"nzMessage"],["message",""],["nz-row","","nzGutter","24"],["nz-col","","nzSpan","8"],[1,"tms-count"],["nz-col","","nzSpan","16"],[1,"patient-count"],["nzType","input","nzSize","small",1,"quarter-width",3,"nzActive"],[1,"tms-patients"],["nz-row","","nzGutter","24",1,"ccm-tms-row"],["nz-col","","nzSpan","8",1,"tms-count-row"],["progressColor","#6E72CB","progressLabelPosition","BOTTOM","isLoading","!!!monitoring",3,"percent","label","labelColor"],["progressColor","#FDA328","progressLabelPosition","BOTTOM","isLoading","!!!monitoring",3,"percent","label","labelColor"],["progressColor","#95b447","progressLabelPosition","BOTTOM","isLoading","!!!monitoring",3,"percent","label","labelColor"],["progressColor","#6E72CB","isLoading","!!!monitoring","progressLabelPosition","BOTTOM",3,"percent","label","labelColor"],["progressColor","#FDA328","progressLabelPosition","BOTTOM",3,"percent","label","labelColor"],["nz-col","","nzSpan","6"],["nzType","input","nzSize","small",1,"one-third-width",3,"nzActive"],[1,"bhi-progress"],[1,"bhi-patients"]],template:function(t,e){1&t&&(c.Vc(0,Tr,46,38,"section",0),c.jc(1,"isEpisodeTypeEnabled"),c.Vc(2,xr,81,28,"section",0),c.jc(3,"isEpisodeTypeEnabled"),c.Vc(4,ic,78,25,"section",0),c.jc(5,"isEpisodeTypeEnabled"),c.Vc(6,gc,56,19,"section",0),c.jc(7,"isEpisodeTypeEnabled"),c.Vc(8,Mc,39,21,"section",1),c.jc(9,"isEpisodeTypeEnabled"),c.Xb(10,"section",2),c.Xb(11,"div",3),c.Xb(12,"div",4),c.Xb(13,"h4"),c.Xc(14,"Appointments"),c.Wb(),c.Xb(15,"p"),c.Xc(16,"An overview"),c.Wb(),c.Xb(17,"div",5),c.Xb(18,"div",6),c.ec("click",function(){return e.navigate("UPCOMING_APPOINTMENTS")}),c.Xb(19,"section"),c.Vc(20,yc,2,1,"ng-container",7),c.Vc(21,Ac,5,1,"ng-container",7),c.Xb(22,"p"),c.Xc(23,"pending for today"),c.Wb(),c.Xb(24,"label",8),c.Xc(25," Follow up "),c.Sb(26,"app-icons",9),c.Wb(),c.Wb(),c.Wb(),c.Xb(27,"div",6),c.ec("click",function(){return e.navigate("PATIENTS_WITH_UNATTENDED_APPOINTMENTS")}),c.Xb(28,"section"),c.Vc(29,_c,2,1,"ng-container",7),c.Vc(30,Dc,5,1,"ng-container",7),c.Xb(31,"p"),c.Xc(32,"unattended"),c.Wb(),c.Xb(33,"label",8),c.Xc(34," Follow up "),c.Sb(35,"app-icons",9),c.Wb(),c.Wb(),c.Wb(),c.Xb(36,"div",6),c.ec("click",function(){return e.navigate("PATIENTS_WITHOUT_APPOINTMENTS")}),c.Xb(37,"section"),c.Vc(38,zc,2,1,"ng-container",7),c.Vc(39,Oc,5,1,"ng-container",7),c.Xb(40,"p"),c.Xc(41,"without appointment"),c.Wb(),c.Xb(42,"label",8),c.Xc(43," Follow up "),c.Sb(44,"app-icons",9),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.rc("ngIf",c.lc(1,16,"RPM",e.enabledEpisodeBlueprints)),c.Db(2),c.rc("ngIf",c.lc(3,19,"RPM",e.enabledEpisodeBlueprints)),c.Db(2),c.rc("ngIf",c.lc(5,22,"CCM",e.enabledEpisodeBlueprints)),c.Db(2),c.rc("ngIf",c.lc(7,25,"CCM",e.enabledEpisodeBlueprints)),c.Db(2),c.rc("ngIf",c.lc(9,28,"GENERAL",e.enabledEpisodeBlueprints)),c.Db(2),c.rc("dashboardWidget","MONITORING")("subWidget","APPOINTMENTS_WIDGET"),c.Db(10),c.rc("ngIf",!e.monitoring),c.Db(1),c.rc("ngIf",!!e.monitoring),c.Db(5),c.rc("strokeColor",e.iconColor),c.Db(3),c.rc("ngIf",!e.monitoring),c.Db(1),c.rc("ngIf",!!e.monitoring),c.Db(5),c.rc("strokeColor",e.iconColor),c.Db(3),c.rc("ngIf",!e.monitoring),c.Db(1),c.rc("ngIf",!!e.monitoring),c.Db(5),c.rc("strokeColor",e.iconColor))},directives:[h.q,Rs,F.c,F.a,Ne.a,x.a,dt.a,Qs,Ks.a,U.a,Js.b,Js.c,tr.a,ar],pipes:[sr.a,rr],styles:["[_nghost-%COMP%]{margin-bottom:10px;display:block}.monitoring-widget-container[_ngcontent-%COMP%]{margin-left:20px}h4[_ngcontent-%COMP%]{font:normal normal 700 15px/22px Nunito;letter-spacing:-.55px;width:70%}p[_ngcontent-%COMP%]{width:80%;font-size:12px}.progress-container[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:auto}[_nghost-%COMP%]     .ant-progress-inner{border-radius:5px}[_nghost-%COMP%]     .ant-progress-bg{border-radius:unset!important}.green-patients-heading[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600}.orange-patients-heading[_ngcontent-%COMP%]{color:#fda328;font-weight:600}.blue-patients-heading[_ngcontent-%COMP%]{color:#6e72cb;font-weight:600}[_nghost-%COMP%]     .ant-alert-success{background-color:#f1f7ea;font-size:12px}.message[_ngcontent-%COMP%]{text-align:center}.patient-count[_ngcontent-%COMP%]{font:normal normal 600 26px/34px Nunito}.tms-count[_ngcontent-%COMP%]{display:block;font:normal normal normal 12px/16px Nunito}.tms-patients[_ngcontent-%COMP%]{font:normal normal 700 11px/22px Nunito;color:#888;text-align:right;display:block;opacity:.7;margin-bottom:5px}.bhi-progress[_ngcontent-%COMP%]{width:75%;margin-top:20px}.bhi-patients[_ngcontent-%COMP%]{font:normal normal 700 11px/22px Nunito;color:#888;text-align:center;display:block;opacity:.7}.full-width[_ngcontent-%COMP%]{width:90%;margin-bottom:10px}.half-width[_ngcontent-%COMP%]{width:50%;margin-bottom:10px}.quarter-width[_ngcontent-%COMP%]{width:25%;margin-bottom:10px;margin-left:68.5%}.one-third-width[_ngcontent-%COMP%]{width:40%;margin-bottom:10px;margin-left:25%}nz-progress[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]     .ant-typography-secondary{font-weight:700}[_nghost-%COMP%]     .ant-typography-secondary:hover{color:var(--primary-color)}.ccm-patients[_ngcontent-%COMP%]{margin-top:7px}.ccm-tms-row[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:10px;display:flex;align-items:center;align-content:center}.tms-count-row[_ngcontent-%COMP%]{padding-left:0!important;margin-top:5px}.ccm-cmt-non-complex[_ngcontent-%COMP%]{top:5px}"]}),t})();const Pc=function(){return["RPM_PENDING_CONSENT","RPM_PENDING_PHYSICIAN_ORDER","NOT_ONBOARDED_PATIENTS","BHI_PENDING_CONSENT","BHI_PENDING_PHYSICIAN_ORDER"]};function Rc(t,e){1&t&&(c.Xb(0,"div",20),c.Xb(1,"div",5),c.Xb(2,"h4"),c.Xc(3," Tasks to be completed to onboard patients for different episodes "),c.Wb(),c.Wb(),c.Xb(4,"div",21),c.Xb(5,"div",7),c.Xb(6,"div",22),c.Xb(7,"strong"),c.Xc(8,"Consent form"),c.Wb(),c.Xc(9," needs to be obtained from "),c.Wb(),c.Xb(10,"div",5),c.Xb(11,"strong"),c.Xc(12,"Physician order"),c.Wb(),c.Xc(13," needs to be obtained for "),c.Wb(),c.Xb(14,"div",5),c.Xc(15," Patients who were "),c.Xb(16,"strong"),c.Xc(17,"not onboarded"),c.Wb(),c.Xc(18," the last month "),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&c.rc("dashboardSection","ON_BOARDING")("subWidgets",c.xc(2,Pc))}function Xc(t,e){1&t&&c.Sb(0,"nz-skeleton-element",28),2&t&&c.rc("nzActive",!0)}function Lc(t,e){if(1&t&&(c.Xb(0,"strong",29),c.Xc(1),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",null==t.onBoarding?null:t.onBoarding.widgets.RPM_PENDING_CONSENT," ")}}function wc(t,e){1&t&&c.Sb(0,"nz-skeleton-element",28),2&t&&c.rc("nzActive",!0)}function Wc(t,e){if(1&t&&(c.Xb(0,"strong",29),c.Xc(1),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",null==t.onBoarding?null:t.onBoarding.widgets.RPM_PENDING_PHYSICIAN_ORDER," ")}}function kc(t,e){1&t&&c.Sb(0,"nz-skeleton-element",28),2&t&&c.rc("nzActive",!0)}function Vc(t,e){if(1&t&&(c.Xb(0,"strong",29),c.Xc(1),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",null==t.onBoarding?null:t.onBoarding.widgets.NOT_ONBOARDED_PATIENTS," ")}}const xc=function(){return["RPM_PENDING_CONSENT","RPM_PENDING_PHYSICIAN_ORDER","NOT_ONBOARDED_PATIENTS"]};function Uc(t,e){if(1&t){const t=c.Yb();c.Xb(0,"section",23),c.Xb(1,"div",4),c.Xb(2,"div",5),c.Xb(3,"p"),c.Xc(4,"Overview"),c.Wb(),c.Wb(),c.Xb(5,"div",6),c.Xb(6,"div",7),c.Xb(7,"div",24),c.Xb(8,"span",25),c.Xc(9,"RPM"),c.Wb(),c.Wb(),c.Xb(10,"div",26),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_CONSENT","RPM")}),c.Vc(11,Xc,1,1,"nz-skeleton-element",13),c.Vc(12,Lc,2,1,"strong",27),c.Xc(13," patients "),c.Sb(14,"app-icons",18),c.Wb(),c.Xb(15,"div",26),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_PHYSICIAN_ORDER","RPM")}),c.Vc(16,wc,1,1,"nz-skeleton-element",13),c.Vc(17,Wc,2,1,"strong",27),c.Xc(18," patients "),c.Sb(19,"app-icons",18),c.Wb(),c.Xb(20,"div",26),c.ec("click",function(){return c.Lc(t),c.ic().navigate("NOT_ONBOARDED","RPM")}),c.Vc(21,kc,1,1,"nz-skeleton-element",13),c.Vc(22,Vc,2,1,"strong",27),c.Xc(23," patients "),c.Sb(24,"app-icons",18),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(25,"br"),c.Wb()}if(2&t){const t=c.ic();c.rc("dashboardSection","ON_BOARDING")("subWidgets",c.xc(14,xc)),c.Db(10),c.rc("dashboardWidget","ON_BOARDING")("subWidget","RPM_PENDING_CONSENT"),c.Db(1),c.rc("ngIf",!t.onBoarding),c.Db(1),c.rc("ngIf",!!t.onBoarding),c.Db(3),c.rc("dashboardWidget","ON_BOARDING")("subWidget","RPM_PENDING_PHYSICIAN_ORDER"),c.Db(1),c.rc("ngIf",!t.onBoarding),c.Db(1),c.rc("ngIf",!!t.onBoarding),c.Db(3),c.rc("dashboardWidget","ON_BOARDING")("subWidget","NOT_ONBOARDED_PATIENTS"),c.Db(1),c.rc("ngIf",!t.onBoarding),c.Db(1),c.rc("ngIf",!!t.onBoarding)}}function Fc(t,e){1&t&&c.Sb(0,"nz-skeleton-element",28),2&t&&c.rc("nzActive",!0)}function Hc(t,e){if(1&t&&(c.Xb(0,"strong",32),c.Xc(1),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",null==t.onBoarding?null:t.onBoarding.widgets.BHI_PENDING_CONSENT," ")}}function Bc(t,e){1&t&&c.Sb(0,"nz-skeleton-element",28),2&t&&c.rc("nzActive",!0)}function jc(t,e){if(1&t&&(c.Xb(0,"strong",32),c.Xc(1),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",null==t.onBoarding?null:t.onBoarding.widgets.BHI_PENDING_PHYSICIAN_ORDER," ")}}const Gc=function(){return["BHI_PENDING_CONSENT","BHI_PENDING_PHYSICIAN_ORDER"]};function Yc(t,e){if(1&t){const t=c.Yb();c.Xb(0,"section",23),c.Xb(1,"div",4),c.Xb(2,"div",21),c.Xb(3,"div",7),c.Xb(4,"div",24),c.Xb(5,"span",30),c.Xc(6,"BHI"),c.Wb(),c.Wb(),c.Xb(7,"div",26),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_CONSENT","BHI")}),c.Vc(8,Fc,1,1,"nz-skeleton-element",13),c.Vc(9,Hc,2,1,"strong",31),c.Xc(10," patients "),c.Sb(11,"app-icons",18),c.Wb(),c.Xb(12,"div",26),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_PHYSICIAN_ORDER","BHI")}),c.Vc(13,Bc,1,1,"nz-skeleton-element",13),c.Vc(14,jc,2,1,"strong",31),c.Xc(15," patients "),c.Sb(16,"app-icons",18),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(17,"nz-divider"),c.Wb()}if(2&t){const t=c.ic();c.rc("dashboardSection","ON_BOARDING")("subWidgets",c.xc(10,Gc)),c.Db(7),c.rc("dashboardWidget","ON_BOARDING")("subWidget","BHI_PENDING_CONSENT"),c.Db(1),c.rc("ngIf",!t.onBoarding),c.Db(1),c.rc("ngIf",!!t.onBoarding),c.Db(3),c.rc("dashboardWidget","ON_BOARDING")("subWidget","BHI_PENDING_PHYSICIAN_ORDER"),c.Db(1),c.rc("ngIf",!t.onBoarding),c.Db(1),c.rc("ngIf",!!t.onBoarding)}}function $c(t,e){1&t&&c.Sb(0,"nz-skeleton-element",28),2&t&&c.rc("nzActive",!0)}function qc(t,e){if(1&t&&(c.Xb(0,"strong",35),c.Xc(1),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",null==t.onBoarding?null:t.onBoarding.widgets.PENDING_DST," ")}}function Zc(t,e){1&t&&c.Sb(0,"nz-skeleton-element",28),2&t&&c.rc("nzActive",!0)}function Qc(t,e){if(1&t&&(c.Xb(0,"strong",35),c.Xc(1),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",null==t.onBoarding?null:t.onBoarding.widgets.PENDING_MEASUREMENT," ")}}function Kc(t,e){1&t&&c.Sb(0,"nz-skeleton-element",28),2&t&&c.rc("nzActive",!0)}function Jc(t,e){if(1&t&&(c.Xb(0,"strong",35),c.Xc(1),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",null==t.onBoarding?null:t.onBoarding.widgets.COMPLETED_DST," ")}}function tl(t,e){if(1&t){const t=c.Yb();c.Xb(0,"section",3),c.Xb(1,"div",4),c.Xb(2,"div",5),c.Xb(3,"h4"),c.Xc(4," Device setup tasks "),c.Wb(),c.Wb(),c.Xb(5,"div",6),c.Xb(6,"div",7),c.Xb(7,"div",8),c.Xb(8,"strong"),c.Xc(9,"Pending"),c.Wb(),c.Wb(),c.Xb(10,"div",9),c.Xb(11,"strong"),c.Xc(12," Completed & awaiting first vital signs recording "),c.Wb(),c.Wb(),c.Xb(13,"div",33),c.Xb(14,"strong"),c.Xc(15,"Completed this month"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(16,"div",4),c.Xb(17,"div",5),c.Xb(18,"p"),c.Xc(19,"Overview"),c.Wb(),c.Wb(),c.Xb(20,"div",6),c.Xb(21,"div",7),c.Xb(22,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_DST")}),c.Xb(23,"label",12),c.Vc(24,$c,1,1,"nz-skeleton-element",13),c.Vc(25,qc,2,1,"strong",14),c.Xc(26," \xa0 patients "),c.Wb(),c.Xb(27,"label",17),c.Xc(28," Follow Up "),c.Sb(29,"app-icons",18),c.Wb(),c.Wb(),c.Xb(30,"div",11),c.ec("click",function(){return c.Lc(t),c.ic().navigate("PENDING_FIRST_VITAL")}),c.Xb(31,"label",12),c.Vc(32,Zc,1,1,"nz-skeleton-element",13),c.Vc(33,Qc,2,1,"strong",14),c.Xc(34," \xa0 patients "),c.Wb(),c.Xb(35,"label",34),c.Xc(36," Follow Up "),c.Sb(37,"app-icons",18),c.Wb(),c.Wb(),c.Xb(38,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("COMPLETED_DST")}),c.Xb(39,"label",12),c.Vc(40,Kc,1,1,"nz-skeleton-element",13),c.Vc(41,Jc,2,1,"strong",14),c.Xc(42," \xa0 patients "),c.Wb(),c.Xb(43,"label",17),c.Xc(44," Follow Up "),c.Sb(45,"app-icons",18),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(46,"nz-divider"),c.Wb()}if(2&t){const t=c.ic();c.rc("dashboardWidget","ON_BOARDING")("subWidget","PENDING_DST"),c.Db(24),c.rc("ngIf",!t.onBoarding),c.Db(1),c.rc("ngIf",!!t.onBoarding),c.Db(7),c.rc("ngIf",!t.onBoarding),c.Db(1),c.rc("ngIf",!!t.onBoarding),c.Db(7),c.rc("ngIf",!t.onBoarding),c.Db(1),c.rc("ngIf",!!t.onBoarding)}}function el(t,e){1&t&&(c.Xb(0,"div",33),c.Xb(1,"strong"),c.Xc(2,"Lead Follow-ups"),c.Wb(),c.Wb())}function nl(t,e){1&t&&c.Sb(0,"nz-skeleton-element",28),2&t&&c.rc("nzActive",!0)}function il(t,e){if(1&t&&(c.Xb(0,"strong",35),c.Xc(1),c.Wb()),2&t){const t=c.ic();c.Db(1),c.Zc(" ",(null==t.onBoarding?null:t.onBoarding.widgets.CONVERTED_LEADS)||"0"," ")}}function al(t,e){1&t&&(c.Xb(0,"label",34),c.Xc(1," Follow Up "),c.Sb(2,"app-icons",18),c.Wb())}function ol(t,e){1&t&&c.Sb(0,"nz-skeleton-element",28),2&t&&c.rc("nzActive",!0)}function sl(t,e){if(1&t&&(c.Xb(0,"strong",35),c.Xc(1),c.Wb()),2&t){const t=c.ic();c.Db(1),c.Zc(" ",(null==t.onBoarding?null:t.onBoarding.widgets.PENDING_LEADS)||"0"," ")}}function rl(t,e){1&t&&c.Sb(0,"nz-skeleton-element",28),2&t&&c.rc("nzActive",!0)}function cl(t,e){if(1&t&&(c.Xb(0,"strong",35),c.Xc(1),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",(null==t.onBoarding?null:t.onBoarding.widgets.FOLLOW_UPS)||"0"," ")}}function ll(t,e){1&t&&(c.Xb(0,"label",17),c.Xc(1," Follow Up "),c.Sb(2,"app-icons",18),c.Wb())}function dl(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",16),c.ec("click",function(){return c.Lc(t),c.ic().navigate("FOLLOW_UPS")}),c.Xb(1,"label",12),c.Vc(2,rl,1,1,"nz-skeleton-element",13),c.Vc(3,cl,2,1,"strong",14),c.Xc(4," \xa0 follow-ups "),c.Wb(),c.Vc(5,ll,3,0,"label",36),c.Wb()}if(2&t){const t=c.ic();c.Db(2),c.rc("ngIf",!t.onBoarding),c.Db(1),c.rc("ngIf",!!t.onBoarding),c.Db(2),c.rc("ngIf",!1)}}let ul=(()=>{class t{constructor(t,e,n){this._dashboardService=t,this._dataSharingService=e,this._router=n}ngOnInit(){this.getTenantConfig(),this.getOnBoardingWidget()}getOnBoardingWidget(){this._dashboardService.fetchOnBoardingWidget(this.patientType).subscribe(t=>this.onBoarding=t)}getTenantConfig(){this._dataSharingService.tenantSettings.subscribe(t=>{var e;t&&(this.enabledEpisodeBlueprints=[],null===(e=null==t?void 0:t.episodeBlueprints)||void 0===e||e.forEach(t=>{(null==t?void 0:t.archived)||this.enabledEpisodeBlueprints.push(t)}))})}navigate(t,e){var n,i,a,o,s,r,c,l,d,u,p,h,b,g,m,f,v;if(!(null===(i=null===(n=this.onBoarding)||void 0===n?void 0:n.metadata)||void 0===i?void 0:i.episodeBlueprint))return;const S=localStorage.getItem(Zs.a.REQUEST_TENANT_IDS);switch(t){case"PENDING_CONSENT":this._router.navigate(["/patient"],{queryParams:{filter:"CONSENT_FORM",consentFormStatus:"TO_BE_OBTAINED",assignedStaffType:this.patientType,episodeBlueprint:null===(o=null===(a=this.onBoarding)||void 0===a?void 0:a.metadata)||void 0===o?void 0:o.episodeBlueprint[e],requestTenantIds:S}});break;case"PENDING_PHYSICIAN_ORDER":this._router.navigate(["/patient"],{queryParams:{filter:"PHYSICIAN_ORDER",physicianOrderStatus:"TO_BE_OBTAINED",episodeBlueprint:null===(r=null===(s=this.onBoarding)||void 0===s?void 0:s.metadata)||void 0===r?void 0:r.episodeBlueprint[e],assignedStaffType:this.patientType,requestTenantIds:S}});break;case"NOT_ONBOARDED":this._router.navigate(["/patient"],{queryParams:{filter:"ON_BOARDING","sub-filter":"RPM",onBoardingFilter:"NOT_ONBOARDED_LAST_MONTH",episodeBlueprint:null===(l=null===(c=this.onBoarding)||void 0===c?void 0:c.metadata)||void 0===l?void 0:l.episodeBlueprint.RPM,assignedStaffType:this.patientType,requestTenantIds:S}});break;case"PENDING_DST":this._router.navigate(["/patient"],{queryParams:{filter:"DST","sub-filter":"RPM",dstFilterType:"PENDING_ON_BOARDINGS",episodeBlueprint:null===(p=null===(u=null===(d=this.onBoarding)||void 0===d?void 0:d.metadata)||void 0===u?void 0:u.episodeBlueprint)||void 0===p?void 0:p.RPM,assignedStaffType:this.patientType,requestTenantIds:S}});break;case"PENDING_FIRST_VITAL":this._router.navigate(["/patient"],{queryParams:{filter:"VITAL_DAYS_REMAINING","sub-filter":"RPM",episodeStatus:"IN_PROGRESS",op:"EQUAL_TO",v1:"16",v2:"1",episodeBlueprint:null===(g=null===(b=null===(h=this.onBoarding)||void 0===h?void 0:h.metadata)||void 0===b?void 0:b.episodeBlueprint)||void 0===g?void 0:g.RPM,assignedStaffType:this.patientType,requestTenantIds:S}});break;case"COMPLETED_DST":this._router.navigate(["/patient"],{queryParams:{filter:"DST","sub-filter":"RPM",dstFilterType:"SUCCESSFUL_ON_BOARDINGS_FOR_MONTH",episodeBlueprint:null===(v=null===(f=null===(m=this.onBoarding)||void 0===m?void 0:m.metadata)||void 0===f?void 0:f.episodeBlueprint)||void 0===v?void 0:v.RPM,assignedStaffType:this.patientType,requestTenantIds:S}});break;case"PENDING_LEADS":this._router.navigate(["/leads"],{queryParams:{tab:"ACTIVE",assignedStaffType:this.patientType,requestTenantIds:S}});break;case"LEADS":case"CONVERTED_LEADS":case"FOLLOW_UPS":return}}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(ce.a),c.Rb(C.a),c.Rb(d.g))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-onboarding-widget"]],inputs:{patientType:"patientType"},decls:46,vars:28,consts:[["nz-row","","class","onboarding-widget-container",3,"dashboardSection","subWidgets",4,"ngIf"],[3,"dashboardSection","subWidgets",4,"ngIf"],[3,"dashboardWidget","subWidget",4,"ngIf"],[3,"dashboardWidget","subWidget"],["nz-row","",1,"onboarding-widget-container"],["nz-col","","nzSpan","7"],["nz-col","","nzSpan","17"],["nz-row",""],["nz-col","","nzSpan","6"],["nz-col","","nzOffset","2","nzSpan","6"],["nz-col","","nzOffset","2","nzSpan","8",4,"ngIf"],["nz-col","","nzSpan","8",3,"click"],["nz-typography","","nzType","success"],["nzType","input","nzSize","small","class","full-width",3,"nzActive",4,"ngIf"],["class","dst-count",4,"ngIf"],["actionable","","nz-typography","","nzType","secondary","class","dst-action","actionable","",4,"ngIf"],["nz-col","","nzSpan","8","actionable","",3,"click"],["actionable","","nz-typography","","nzType","secondary",1,"dst-action"],["name","right","size","10px","color","gray"],["nz-col","","nzSpan","8","actionable","",3,"click",4,"ngIf"],["nz-row","",1,"onboarding-widget-container",3,"dashboardSection","subWidgets"],["nz-col","","nzOffset","7","nzSpan","17"],["nz-col","","nzOffset","3","nzSpan","7"],[3,"dashboardSection","subWidgets"],["nz-col","","nzSpan","3"],[1,"rpm"],["nz-col","","nzSpan","7","actionable","",3,"dashboardWidget","subWidget","click"],["class","rpm-count",4,"ngIf"],["nzType","input","nzSize","small",1,"full-width",3,"nzActive"],[1,"rpm-count"],[1,"bhi"],["class","bhi-count",4,"ngIf"],[1,"bhi-count"],["nz-col","","nzOffset","2","nzSpan","8"],["actionable","","nz-typography","","nzType","secondary","actionable","",1,"dst-action"],[1,"dst-count"],["actionable","","nz-typography","","nzType","secondary","class","dst-action",4,"ngIf"]],template:function(t,e){1&t&&(c.Vc(0,Rc,19,3,"div",0),c.jc(1,"isEpisodeTypeEnabled"),c.jc(2,"isEpisodeTypeEnabled"),c.Vc(3,Uc,26,15,"section",1),c.jc(4,"isEpisodeTypeEnabled"),c.Vc(5,Yc,18,11,"section",1),c.jc(6,"isEpisodeTypeEnabled"),c.Vc(7,tl,47,8,"section",2),c.jc(8,"isEpisodeTypeEnabled"),c.Xb(9,"section",3),c.Xb(10,"div",4),c.Xb(11,"div",5),c.Xb(12,"h4"),c.Xc(13," Leads "),c.Wb(),c.Wb(),c.Xb(14,"div",6),c.Xb(15,"div",7),c.Xb(16,"div",8),c.Xb(17,"strong"),c.Xc(18,"Converted "),c.Xb(19,"p"),c.Xc(20,"(Current Month)"),c.Wb(),c.Wb(),c.Wb(),c.Xb(21,"div",9),c.Xb(22,"strong"),c.Xc(23," Pending Conversion "),c.Wb(),c.Wb(),c.Vc(24,el,3,0,"div",10),c.Wb(),c.Wb(),c.Wb(),c.Xb(25,"div",4),c.Xb(26,"div",5),c.Xb(27,"p"),c.Xc(28,"Overview"),c.Wb(),c.Wb(),c.Xb(29,"div",6),c.Xb(30,"div",7),c.Xb(31,"div",11),c.ec("click",function(){return e.navigate("CONVERTED_LEADS")}),c.Xb(32,"label",12),c.Vc(33,nl,1,1,"nz-skeleton-element",13),c.Vc(34,il,2,1,"strong",14),c.Xc(35," \xa0 leads "),c.Wb(),c.Vc(36,al,3,0,"label",15),c.Wb(),c.Xb(37,"div",16),c.ec("click",function(){return e.navigate("PENDING_LEADS")}),c.Xb(38,"label",12),c.Vc(39,ol,1,1,"nz-skeleton-element",13),c.Vc(40,sl,2,1,"strong",14),c.Xc(41," \xa0 leads "),c.Wb(),c.Xb(42,"label",17),c.Xc(43," Follow Up "),c.Sb(44,"app-icons",18),c.Wb(),c.Wb(),c.Vc(45,dl,6,3,"div",19),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.rc("ngIf",c.lc(1,13,"RPM",e.enabledEpisodeBlueprints)||c.lc(2,16,"GENERAL",e.enabledEpisodeBlueprints)),c.Db(3),c.rc("ngIf",c.lc(4,19,"RPM",e.enabledEpisodeBlueprints)),c.Db(2),c.rc("ngIf",c.lc(6,22,"GENERAL",e.enabledEpisodeBlueprints)),c.Db(2),c.rc("ngIf",c.lc(8,25,"RPM",e.enabledEpisodeBlueprints)),c.Db(2),c.rc("dashboardWidget","ON_BOARDING")("subWidget","LEADS"),c.Db(15),c.rc("ngIf",!1),c.Db(9),c.rc("ngIf",!e.onBoarding),c.Db(1),c.rc("ngIf",!!e.onBoarding),c.Db(2),c.rc("ngIf",!1),c.Db(3),c.rc("ngIf",!e.onBoarding),c.Db(1),c.rc("ngIf",!!e.onBoarding),c.Db(5),c.rc("ngIf",!1))},directives:[h.q,Rs,F.c,F.a,x.a,Ne.a,dt.a,Qs,Js.b,Js.c,U.a],pipes:[sr.a],styles:["[_nghost-%COMP%]{margin-bottom:15px;padding-top:10px;display:block}.onboarding-widget-container[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:5px}h4[_ngcontent-%COMP%]{font:normal normal 600 15px/22px Nunito;letter-spacing:-.55px;width:70%}p[_ngcontent-%COMP%]{width:80%;font-size:12px}.rpm[_ngcontent-%COMP%]{background:#cbddff 0 0 no-repeat padding-box;opacity:.6;color:var(--secondary-color)}.bhi[_ngcontent-%COMP%], .rpm[_ngcontent-%COMP%]{display:block;width:50px;height:45px;border-radius:2px;font:normal normal 700 14px/20px Nunito;padding-top:14px;text-align:center}.bhi[_ngcontent-%COMP%]{background:#bde292 0 0 no-repeat padding-box;color:var(--primary-color);opacity:.8}.rpm-count[_ngcontent-%COMP%]{color:var(--secondary-color)}.bhi-count[_ngcontent-%COMP%], .rpm-count[_ngcontent-%COMP%]{font:normal normal 600 24px/24px Nunito;letter-spacing:-1.5px;display:block}.bhi-count[_ngcontent-%COMP%], .dst-count[_ngcontent-%COMP%]{color:var(--primary-color)}.dst-count[_ngcontent-%COMP%]{font:normal normal 600 26px/26px Nunito;letter-spacing:-1.5px}.dst-action[_ngcontent-%COMP%]{display:block;font:normal normal 700 12px/27px Nunito;letter-spacing:-.4px}.dst-action[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.full-width[_ngcontent-%COMP%]{width:90%;margin-bottom:10px}app-icons[_ngcontent-%COMP%]{vertical-align:middle}"]}),t})();var pl=n("fhRi");function hl(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"div",11),c.Xb(2,"div",12),c.Xb(3,"label",13),c.Xc(4,"Patient Type"),c.Wb(),c.Wb(),c.Xb(5,"div",14),c.Xb(6,"nz-select",15),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().patientType=e})("ngModelChange",function(){return c.Lc(t),c.ic().onPatientTypeChange()}),c.Sb(7,"nz-option",16),c.Sb(8,"nz-option",17),c.Sb(9,"nz-option",18),c.Wb(),c.Wb(),c.Wb(),c.Ub()}if(2&t){const t=c.ic();c.Db(6),c.rc("ngModel",t.patientType)}}let bl=(()=>{class t{constructor(){this.patientType="PRIMARY",this.patientTypeChange=new c.n,this.refresh$=new c.n,this.patientTypeEnabled=localStorage.getItem("loggedInUserRole")!==zn.a.TENANT_ADMIN&&localStorage.getItem("loggedInUserRole")!==zn.a.PHYSICIAN,this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color");const t=localStorage.getItem("loggedInUserRole");this.selectedIndex="ENROLMENT_STAFF"===t?1:0}refresh(){this.refresh$.next()}onPatientTypeChange(){sessionStorage.setItem("patientType",this.patientType),this.patientTypeChange.emit(this.patientType),this.refresh()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["app-activities"]],inputs:{patientType:"patientType"},outputs:{patientTypeChange:"patientTypeChange",refresh$:"refresh"},decls:16,vars:13,consts:[["nz-row","","nzAlign","middle"],["nz-col","","nzSpan","6"],["nz-col","","nzSpan","10"],[4,"ngIf"],["nz-col","","nzSpan","8"],["nz-typography","","nzType","secondary",1,"align-right"],["name","reload","size","16px",3,"color","strokeColor","click"],["nzType","card",3,"nzSelectedIndex"],[3,"nzTitle"],[3,"dashboardWidget","patientType","date"],[3,"dashboardWidget","patientType"],["nz-row","","nzJustify","center","nzAlign","middle","nzGutter","12"],["nz-col",""],["nz-typography","","nzType","secondary"],["nz-col","","nzFlex","150px"],["nzPlaceHolder","Select patient type",3,"ngModel","ngModelChange"],["nzValue","ALL","nzLabel","All"],["nzValue","PRIMARY","nzLabel","Primary"],["nzValue","OTHER","nzLabel","Secondary"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"strong"),c.Xc(3,"Your activities for today"),c.Wb(),c.Wb(),c.Xb(4,"div",2),c.Vc(5,hl,10,1,"ng-container",3),c.Wb(),c.Xb(6,"div",4),c.Xb(7,"label",5),c.Xc(8),c.jc(9,"utcToLocalTime"),c.Xb(10,"app-icons",6),c.ec("click",function(){return e.refresh()}),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(11,"nz-tabset",7),c.Xb(12,"nz-tab",8),c.Xb(13,"app-monitoring-widget",9),c.ec("date",function(t){return e.date=t}),c.Wb(),c.Wb(),c.Xb(14,"nz-tab",8),c.Sb(15,"app-onboarding-widget",10),c.Wb(),c.Wb()),2&t&&(c.Db(5),c.rc("ngIf",e.patientTypeEnabled),c.Db(3),c.Zc(" Last updated: ",c.kc(9,11,e.date)," \xa0\xa0 "),c.Db(2),c.rc("color",e.iconColor)("strokeColor",e.iconColor),c.Db(1),c.rc("nzSelectedIndex",e.selectedIndex),c.Db(1),c.rc("nzTitle","Monitoring"),c.Db(1),c.rc("dashboardWidget","MONITORING")("patientType",e.patientType),c.Db(1),c.rc("nzTitle","Onboarding"),c.Db(1),c.rc("dashboardWidget","ON_BOARDING")("patientType",e.patientType))},directives:[F.c,F.a,h.q,x.a,dt.a,$s.d,$s.a,Nc,Rs,ul,Y.d,b.u,b.x,Y.a],pipes:[pl.a],styles:["nz-tabset[_ngcontent-%COMP%]{margin-top:10px}.align-right[_ngcontent-%COMP%]{display:block;text-align:right}app-icons[_ngcontent-%COMP%]{vertical-align:sub}[_nghost-%COMP%]     .ant-tabs-nav{margin:0;padding:0}[_nghost-%COMP%]     .ant-tabs-nav-list{width:100%}[_nghost-%COMP%]     .ant-tabs-tab{width:50%;padding:25px!important;font-size:14px}[_nghost-%COMP%]     .ant-tabs-tab-btn{font-weight:600!important;text-align:center;width:100%}[_nghost-%COMP%]     .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn{color:var(--primary-color)!important}[_nghost-%COMP%]     .ant-tabs-tabpane{background:var(--neutral-color);padding:2%}[_nghost-%COMP%]     .ant-tabs-tab-active{border-bottom-color:var(--neutral-color)!important}"]}),t})();function gl(t,e){if(1&t&&(c.Vb(0),c.Xc(1),c.Sb(2,"app-icons",7),c.Ub()),2&t){const t=c.ic();c.Db(1),c.Zc(" ",t.count," \xa0 "),c.Db(1),c.rc("strokeColor",t.iconColor)}}let ml=(()=>{class t{constructor(t){this._router=t,this.patientType="ALL",this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color")}navigate(){if(!this.episodeBlueprint)return;const t=localStorage.getItem(Zs.a.REQUEST_TENANT_IDS);switch(this.name){case"ALL_PATIENTS":this._router.navigate(["/patient"],{queryParams:{filter:"ALL_PATIENTS",requestTenantIds:t,assignedStaffType:this.patientType}});break;case"ACTIVE_RPM_PATIENTS":this._router.navigate(["/patient"],{queryParams:{filter:"EPISODES","sub-filter":"RPM",selectedEpisodeType:"RPM",episodeStatus:"IN_PROGRESS",episodeBlueprint:this.episodeBlueprint.RPM,requestTenantIds:t,assignedStaffType:this.patientType}});break;case"ACTIVE_GENERAL_PATIENTS":this._router.navigate(["/patient"],{queryParams:{filter:"EPISODES","sub-filter":"GENERAL",selectedEpisodeType:"GENERAL",episodeStatus:"IN_PROGRESS",episodeBlueprint:this.episodeBlueprint.BHI||this.episodeBlueprint.GENERAL,requestTenantIds:t,assignedStaffType:this.patientType}});break;case"ACTIVE_CCM_PATIENTS":this._router.navigate(["/patient"],{queryParams:{filter:"EPISODES","sub-filter":"CCM",selectedEpisodeType:"CCM",episodeStatus:"IN_PROGRESS",episodeBlueprint:this.episodeBlueprint.CCM||this.episodeBlueprint.CCM,requestTenantIds:t,assignedStaffType:this.patientType}});break;case"PATIENTS_WITHOUT_EPISODES":this._router.navigate(["/patient"],{queryParams:{filter:"NO_ACTIVE_EPISODES",requestTenantIds:t,assignedStaffType:this.patientType}});break;case"CCM_APPOINTMENTS":this._router.navigate(["/appointments"],{queryParams:{requestTenantIds:t}});break;case"LEADS":this._router.navigate(["/leads"],{queryParams:{requestTenantIds:t}});break;case"FOLLOW_UPS":this._router.navigate(["/leads/followups"],{queryParams:{requestTenantIds:t}})}}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(d.g))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-quick-view-subwidget"]],inputs:{name:"name",count:"count",episodeBlueprint:"episodeBlueprint",patientType:"patientType"},decls:12,vars:9,consts:[["actionable","",3,"click"],["nz-typography","","nzType","success"],["nz-row",""],["nz-col","","nzSpan","21"],["nz-typography","","nzEllipsis","",3,"nzEllipsisRows"],["nzSimple","",3,"nzSpinning"],[4,"ngIf"],["name","arrowRight","size","16px",3,"strokeColor"]],template:function(t,e){1&t&&(c.Xb(0,"span",0),c.ec("click",function(){return e.navigate()}),c.Xb(1,"h4",1),c.Xc(2),c.jc(3,"translate"),c.Wb(),c.Xb(4,"div",2),c.Xb(5,"div",3),c.Xb(6,"p",4),c.Xc(7),c.jc(8,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"h2",1),c.Sb(10,"nz-spin",5),c.Vc(11,gl,3,2,"ng-container",6),c.Wb(),c.Wb()),2&t&&(c.Db(2),c.Yc(c.kc(3,5,e.name)),c.Db(4),c.rc("nzEllipsisRows",2),c.Db(1),c.Zc(" ",c.kc(8,7,e.name+"_DESC")," "),c.Db(3),c.rc("nzSpinning",0!==e.count&&!e.count),c.Db(1),c.rc("ngIf",0===e.count||!!e.count))},directives:[Ne.a,x.a,F.c,F.a,ye.a,h.q,dt.a],pipes:[Z.a],styles:["span[_ngcontent-%COMP%]{background:var(--neutral-color);display:block;padding:25px 25px 5px;min-height:160px;border-radius:5px}app-icons[_ngcontent-%COMP%]{vertical-align:middle}h4[_ngcontent-%COMP%]{letter-spacing:-.55px}p[_ngcontent-%COMP%]{font:normal normal normal 11px/20px Nunito}h2[_ngcontent-%COMP%]{letter-spacing:-2.05px}"]}),t})();function fl(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",1),c.Sb(2,"app-quick-view-subwidget",2),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(1),c.rc("dashboardWidget","QUICK_VIEW")("subWidget","ACTIVE_RPM_PATIENTS"),c.Db(1),c.rc("name","ACTIVE_RPM_PATIENTS")("count",null==t.quickView?null:t.quickView.widgets.ACTIVE_RPM_PATIENTS)("episodeBlueprint",null==t.quickView||null==t.quickView.metadata?null:t.quickView.metadata.episodeBlueprint)("patientType",t.patientType)}}function vl(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",1),c.Sb(2,"app-quick-view-subwidget",2),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(1),c.rc("dashboardWidget","QUICK_VIEW")("subWidget","ACTIVE_GENERAL_PATIENTS"),c.Db(1),c.rc("name","ACTIVE_GENERAL_PATIENTS")("count",null==t.quickView?null:t.quickView.widgets.ACTIVE_GENERAL_PATIENTS)("episodeBlueprint",null==t.quickView||null==t.quickView.metadata?null:t.quickView.metadata.episodeBlueprint)("patientType",t.patientType)}}function Sl(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",1),c.Sb(2,"app-quick-view-subwidget",2),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(1),c.rc("dashboardWidget","QUICK_VIEW")("subWidget","ACTIVE_CCM_PATIENTS"),c.Db(1),c.rc("name","ACTIVE_CCM_PATIENTS")("count",null==t.quickView?null:t.quickView.widgets.ACTIVE_CCM_PATIENTS)("episodeBlueprint",null==t.quickView||null==t.quickView.metadata?null:t.quickView.metadata.episodeBlueprint)("patientType",t.patientType)}}let Tl=(()=>{class t{constructor(t){this._dashboardService=t,this.patientType="ALL"}ngOnInit(){this.getQuickViewWidgets()}getQuickViewWidgets(){this._dashboardService.fetchQuickViewWidgets(this.patientType).subscribe(t=>this.quickView=t)}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(ce.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-quick-view"]],inputs:{patientType:"patientType"},decls:12,vars:15,consts:[["nz-row","",1,"widget-container"],["nz-col","","nzSpan","6",3,"dashboardWidget","subWidget"],[3,"name","count","episodeBlueprint","patientType"],[4,"ngIf"]],template:function(t,e){1&t&&(c.Xb(0,"div"),c.Xc(1," \xa0\xa0 "),c.Xb(2,"strong"),c.Xc(3,"Patients Quick View"),c.Wb(),c.Wb(),c.Xb(4,"div",0),c.Xb(5,"div",1),c.Sb(6,"app-quick-view-subwidget",2),c.Wb(),c.Vc(7,fl,3,6,"ng-container",3),c.Vc(8,vl,3,6,"ng-container",3),c.Vc(9,Sl,3,6,"ng-container",3),c.Xb(10,"div",1),c.Sb(11,"app-quick-view-subwidget",2),c.Wb(),c.Wb()),2&t&&(c.Db(5),c.rc("dashboardWidget","QUICK_VIEW")("subWidget","ALL_PATIENTS"),c.Db(1),c.rc("name","ALL_PATIENTS")("count",null==e.quickView?null:e.quickView.widgets.ALL_PATIENTS)("episodeBlueprint",null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint)("patientType",e.patientType),c.Db(1),c.rc("ngIf",null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint.RPM),c.Db(1),c.rc("ngIf",(null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint.BHI)||(null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint.GENERAL)),c.Db(1),c.rc("ngIf",null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint.CCM),c.Db(1),c.rc("dashboardWidget","QUICK_VIEW")("subWidget","PATIENTS_WITHOUT_EPISODES"),c.Db(1),c.rc("name","PATIENTS_WITHOUT_EPISODES")("count",null==e.quickView?null:e.quickView.widgets.PATIENTS_WITHOUT_EPISODES)("episodeBlueprint",null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint)("patientType",e.patientType))},directives:[F.c,F.a,Rs,ml,h.q],styles:[".widget-container[_ngcontent-%COMP%]{margin-top:10px;border-radius:5px;background:var(--neutral-color)}"]}),t})();var Cl=n("4hBO"),El=n("HZ0a"),Il=n("0EQZ"),Ml=n("2Vo4");class yl extends Il.b{constructor(t,e="ALL"){super(),this._alertService=t,this._patientType=e,this.cachedData=[],this.fetchedPages=new Set,this.complete$=new qe.a,this.completeCount$=new qe.a,this.disconnect$=new qe.a,this.dataStream=new Ml.a(this.cachedData),this.alertFetchRequest=new Je.a,this.priorityCount=[],this.loading=!1,this.cacheLimit=10,this.patientType=e,this.alertFetchRequest.patientType=e}completed(){return this.complete$.asObservable()}completedCount(){return this.completeCount$.asObservable()}connect(t){return this.setup(t),this.dataStream}disconnect(){this.disconnect$.next(),this.disconnect$.complete()}setup(t){this.fetchPage(0),t.viewChange.pipe(Object(Ze.a)(this.complete$),Object(Ze.a)(this.disconnect$)).subscribe(t=>{if(this.cachedData.length>=this.alertFetchRequest.limit*this.cacheLimit)this.complete$.next(),this.complete$.complete();else{const e=this.getPageForIndex(t.end);this.fetchPage(0==e?0:e)}})}getPageForIndex(t){return Math.floor(t/this.alertFetchRequest.limit)}fetchPage(t){this.alertFetchRequest.offset=t,this.fetchedPages.has(t)||(this.fetchedPages.add(t),this.fetchAlert(!1,t))}clearCache(){this.cachedData=[],this.fetchedPages.clear(),this.metaData=null}removeAlert(t){var e=this.cachedData.findIndex(e=>e.id==t);this.cachedData.splice(e,1),this.dataStream.next([...this.cachedData])}fetchAlert(t=!1,e){this.loading=!0,t&&this.clearCache(),this._alertService.fetchAlerts(this.alertFetchRequest).subscribe(t=>{this.completeCount$.next(t.metaData),t.result.forEach(t=>{t.linkedAlerts=t.linkedAlerts.reverse()}),this.cachedData.splice(e*this.alertFetchRequest.limit,this.alertFetchRequest.limit,...t.result),this.dataStream.next([...this.cachedData]),this.lastUpdatedTime=(new Date).getTime(),this.metaData=t.metaData,this.loading=!1})}}var Al=n("BrXI"),_l=n("FrsH"),Dl=n("BcC3"),zl=n("vxfF"),Ol=n("Ff2k"),Nl=n("IvDN"),Pl=n("ncdi"),Rl=n("Laz3"),Xl=n("t2pg");let Ll=(()=>{class t{transform(t,e,n,i){let a="",o="";switch(t){case _l.a.FORM_ALERT.valueOf():a="SCORE",o="RISK";break;case _l.a.VITAL_LIMIT_CROSSED.valueOf():a=i,o="ALERT_TYPE";break;case _l.a.PRIORITISED.valueOf():switch(n.LINKED_ALERT_TYPE){case"VITAL_LIMIT_CROSSED":a=i,o="ALERT_TYPE"}}if(null==n)return"N/A";switch(e){case"VALUE":if(null!=n[a])return n[a];break;case"ALERT_TYPE":if(null!=n[o])return n[o];break;case"VITAL_SIGN":if(null!=n.VITAL_TYPE&&null!=n.RAISED_FOR)return"BLOOD_PRESSURE"==n.VITAL_TYPE?"Blood Pressure - "+n.RAISED_FOR_LABEL:n.RAISED_FOR_LABEL}return"N/A"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Qb({name:"alertValue",type:t,pure:!0}),t})();function wl(t,e){if(1&t&&c.Sb(0,"nz-list-item-meta",14),2&t){c.ic();const t=c.Ic(3);c.rc("nzDescription",t)}}function Wl(t,e){1&t&&(c.Vb(0),c.Xc(1," Stage 3 - "),c.Ub())}function kl(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"span",28),c.Xc(2),c.jc(3,"tenantName"),c.Wb(),c.Ub()),2&t){const t=c.ic(2).$implicit;c.Db(2),c.Zc(" | ",c.kc(3,1,null==t||null==t.patient?null:t.patient.tenantId)," ")}}function Vl(t,e){1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"translate"),c.Ub()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"EPISODE.CONSENT_FORM")," "))}function xl(t,e){1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"translate"),c.Ub()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"COMMON.CAREPLAN")," "))}function Ul(t,e){1&t&&(c.Vb(0),c.Xc(1," Rule "),c.Ub())}function Fl(t,e){1&t&&(c.Vb(0),c.Xb(1,"p",31),c.jc(2,"translate"),c.Xc(3),c.jc(4,"translate"),c.Wb(),c.Ub()),2&t&&(c.Db(1),c.sc("nzTooltipTitle",c.kc(2,2,"CONSENT.CONSENT_OBTAINED")),c.Db(2),c.Zc(" ",c.kc(4,4,"CONSENT.CONSENT_OBTAINED")," "))}function Hl(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"p",31),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=c.ic(3).$implicit;c.Db(1),c.rc("nzTooltipTitle",null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.CAREPLAN_NAME),c.Db(1),c.Zc(" ",null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.CAREPLAN_NAME," ")}}function Bl(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"p",31),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=c.ic(3).$implicit;c.Db(1),c.rc("nzTooltipTitle",null==t||null==t.rule?null:t.rule.name),c.Db(1),c.Zc(" ",null==t||null==t.rule?null:t.rule.name," ")}}function jl(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",29),c.Xb(2,"div",17),c.Xb(3,"label",30),c.Vc(4,Vl,3,3,"ng-container",11),c.Vc(5,xl,3,3,"ng-container",11),c.Vc(6,Ul,2,0,"ng-container",11),c.Wb(),c.Wb(),c.Xb(7,"div",17),c.Vc(8,Fl,5,6,"ng-container",11),c.Vc(9,Hl,3,2,"ng-container",11),c.Vc(10,Bl,3,2,"ng-container",11),c.Wb(),c.Wb(),c.Ub()),2&t){const t=c.ic(2).$implicit;c.Db(4),c.rc("ngIf","CONSENT_SUBMITTED"==t.type),c.Db(1),c.rc("ngIf","CAREPLAN_ASSIGNED"==t.type),c.Db(1),c.rc("ngIf","PRIORITISED"==t.type),c.Db(2),c.rc("ngIf","CONSENT_SUBMITTED"==t.type),c.Db(1),c.rc("ngIf","CAREPLAN_ASSIGNED"==t.type),c.Db(1),c.rc("ngIf","PRIORITISED"==t.type)}}function Gl(t,e){1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"translate"),c.Ub()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"COMMON_SELECT_VITAL_SIGN")," "))}function Yl(t,e){1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"translate"),c.Ub()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"COMMON.SURVEYFORM")," "))}function $l(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"p",31),c.jc(2,"alertValue"),c.Xc(3),c.jc(4,"alertValue"),c.Wb(),c.Ub()),2&t){const t=c.ic(3).$implicit;c.Db(1),c.sc("nzTooltipTitle",c.mc(2,2,null==t?null:t.type,"VITAL_SIGN",null==t?null:t.alertMessageParameters)),c.Db(2),c.Zc(" ",c.mc(4,6,null==t?null:t.type,"VITAL_SIGN",null==t?null:t.alertMessageParameters)," ")}}function ql(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"p",31),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=c.ic(3).$implicit;c.Db(1),c.rc("nzTooltipTitle",null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.FORM_NAME),c.Db(1),c.Zc(" ",null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.FORM_NAME," ")}}function Zl(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",23),c.Xb(2,"div",17),c.Xb(3,"label",30),c.Vc(4,Gl,3,3,"ng-container",11),c.Vc(5,Yl,3,3,"ng-container",11),c.Wb(),c.Wb(),c.Xb(6,"div",17),c.Vc(7,$l,5,10,"ng-container",11),c.Vc(8,ql,3,2,"ng-container",11),c.Wb(),c.Wb(),c.Ub()),2&t){const t=c.ic(2).$implicit;c.Db(4),c.rc("ngIf","VITAL_LIMIT_CROSSED"==t.type),c.Db(1),c.rc("ngIf","FORM_ALERT"==t.type),c.Db(2),c.rc("ngIf","VITAL_LIMIT_CROSSED"==t.type),c.Db(1),c.rc("ngIf","FORM_ALERT"==t.type)}}function Ql(t,e){1&t&&(c.Xb(0,"div",17),c.Xb(1,"label",30),c.Xc(2,"Limit"),c.Wb(),c.Wb())}function Kl(t,e){if(1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"translate"),c.jc(3,"alertValue"),c.Ub()),2&t){const t=c.ic(2).$implicit;c.Db(1),c.Zc(" ",c.kc(2,1,c.nc(3,3,null==t?null:t.type,"ALERT_TYPE",null==t?null:t.alertMessageParameters,null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.RAISED_FOR))," ")}}function Jl(t,e){if(1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"alertValue"),c.Ub()),2&t){const t=c.ic(2).$implicit;c.Db(1),c.Zc(" ",c.mc(2,1,null==t?null:t.type,"ALERT_TYPE",null==t?null:t.alertMessageParameters)," ")}}function td(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",17),c.Xb(1,"a",32),c.ec("click",function(){c.Lc(t);const e=c.ic(2).$implicit;return c.ic().markAsClosed(null==e?null:e.id,null==e?null:e.patientId)&&"PRIORITISED"!=(null==e?null:e.type)}),c.Xc(2),c.jc(3,"translate"),c.Sb(4,"span",33),c.Wb(),c.Wb()}2&t&&(c.Db(2),c.Zc(" ",c.kc(3,1,"ALERT.RESOLVE")," "))}function ed(t,e){if(1&t&&(c.Xb(0,"nz-timeline-item",40),c.Xb(1,"span",41),c.Xb(2,"span",42),c.Xb(3,"p",43),c.Xc(4," Measured On "),c.Wb(),c.Xb(5,"p",44),c.Xc(6),c.jc(7,"date"),c.Wb(),c.Wb(),c.Xb(8,"span",45),c.Xb(9,"p",43),c.Xc(10," Value "),c.Wb(),c.Xb(11,"p",44),c.Xb(12,"span",46),c.Xc(13),c.jc(14,"titlecase"),c.jc(15,"translate"),c.jc(16,"alertValue"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){const t=e.$implicit;c.ic();const n=c.Ic(7);c.rc("nzDot",n),c.Db(6),c.Zc(" ",c.lc(7,3,null==t?null:t.createdOn,"dd MMM | h:mm a")," "),c.Db(7),c.Zc(" ",c.kc(14,6,c.kc(15,8,c.nc(16,10,null==t?null:t.type,"ALERT_TYPE",null==t?null:t.alertMessageParameters,null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.RAISED_FOR)))," ")}}function nd(t,e){1&t&&c.Sb(0,"nz-badge",47),2&t&&c.rc("nzColor","#a7c853")}function id(t,e){if(1&t&&(c.Sb(0,"i",48),c.Xc(1," Associated Alerts ")),2&t){c.ic();const t=c.Ic(3);c.rc("nzRotate",t.nzActive?90:0)}}function ad(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"nz-collapse",34),c.Xb(2,"nz-collapse-panel",35,36),c.Xb(4,"nz-timeline"),c.Vc(5,ed,17,15,"nz-timeline-item",37),c.Vc(6,nd,1,1,"ng-template",null,38,c.Wc),c.Wb(),c.Wb(),c.Vc(8,id,2,1,"ng-template",null,39,c.Wc),c.Wb(),c.Ub()),2&t){const t=c.Ic(9),e=c.ic(2).$implicit;c.Db(2),c.rc("nzHeader",t)("nzActive",!1)("nzShowArrow",!1),c.Db(3),c.rc("ngForOf",e.linkedAlerts)}}function od(t,e){if(1&t){const t=c.Yb();c.Xb(0,"nz-card",15),c.Sb(1,"span",16),c.jc(2,"alertPriorityColor"),c.Xb(3,"div",17),c.Xb(4,"div",18),c.Xb(5,"nz-tag",19),c.jc(6,"alertPriorityColor"),c.jc(7,"alertPriorityColor"),c.Vc(8,Wl,2,0,"ng-container",11),c.Xc(9),c.jc(10,"translate"),c.jc(11,"alertPriorityColor"),c.Wb(),c.Wb(),c.Xb(12,"div",18),c.Xb(13,"label",20),c.Xc(14),c.jc(15,"date"),c.Wb(),c.Wb(),c.Wb(),c.Xb(16,"strong"),c.Xc(17),c.Vc(18,kl,4,3,"ng-container",21),c.Wb(),c.Xb(19,"div",22),c.Vc(20,jl,11,6,"ng-container",11),c.Vc(21,Zl,9,4,"ng-container",11),c.Xb(22,"div",23),c.Vc(23,Ql,3,0,"div",24),c.Xb(24,"div",17),c.Xb(25,"label",25),c.Vc(26,Kl,4,8,"ng-container",11),c.Vc(27,Jl,3,5,"ng-container",11),c.Wb(),c.Wb(),c.Wb(),c.Xb(28,"div",26),c.Xb(29,"div",17),c.Xb(30,"a",27),c.ec("click",function(){c.Lc(t);const e=c.ic().$implicit;return c.ic().startTimer(e)}),c.Xb(31,"span"),c.Xc(32),c.jc(33,"translate"),c.Wb(),c.Sb(34,"span",7),c.Wb(),c.Wb(),c.Vc(35,td,5,3,"div",24),c.Wb(),c.Wb(),c.Vc(36,ad,10,4,"ng-container",11),c.Wb()}if(2&t){const t=c.ic().$implicit;c.rc("nzHoverable",!0),c.Db(1),c.Sc("background",c.mc(2,22,null==t?null:t.priority,"COLOR",null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.VITAL_STAGE)),c.Db(4),c.Sc("color",c.mc(6,26,null==t?null:t.priority,"TEXT_COLOR",null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.VITAL_STAGE)),c.sc("nzColor",c.mc(7,30,null==t?null:t.priority,"TAG_BG",null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.VITAL_STAGE)),c.Db(3),c.rc("ngIf","Stage 3"==(null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.VITAL_STAGE)),c.Db(1),c.Zc(" ",c.kc(10,34,c.lc(11,36,null==t?null:t.priority,"TEXT"))," "),c.Db(5),c.Zc(" ",c.lc(15,39,null==t?null:t.createdOn,"dd MMM | h:mm a")," "),c.Db(3),c.Zc(" ",null==t||null==t.patient?null:t.patient.fullName," "),c.Db(3),c.rc("ngIf","CONSENT_SUBMITTED"==t.type||"CAREPLAN_ASSIGNED"==t.type||"PRIORITISED"==t.type),c.Db(1),c.rc("ngIf","VITAL_LIMIT_CROSSED"==t.type||"FORM_ALERT"==t.type),c.Db(2),c.rc("ngIf","VITAL_LIMIT_CROSSED"==t.type||"FORM_ALERT"==t.type),c.Db(3),c.rc("ngIf","VITAL_LIMIT_CROSSED"==t.type),c.Db(1),c.rc("ngIf","FORM_ALERT"==t.type),c.Db(1),c.Sc("bottom","PRIORITISED"==(null==t?null:t.type)?"50px":"10px"),c.Db(4),c.Zc(" ",c.kc(33,42,"COMMON.VIEW")," "),c.Db(3),c.rc("ngIf","VERY_LOW"==(null==t?null:t.priority)),c.Db(1),c.rc("ngIf","PRIORITISED"==(null==t?null:t.type))}}function sd(t,e){if(1&t&&(c.Xb(0,"nz-list-item"),c.Vc(1,wl,1,1,"nz-list-item-meta",12),c.Vc(2,od,37,44,"ng-template",null,13,c.Wc),c.Wb()),2&t){const t=e.$implicit;c.Db(1),c.rc("ngIf",t)}}function rd(t,e){1&t&&c.Sb(0,"nz-list-empty")}const cd=function(t){return{status:"OPEN",assignedStaffType:t}};let ld=(()=>{class t{constructor(t,e,n,i,a){this._alertService=t,this._router=e,this._notificationsService=n,this._dataSharingService=i,this._patientsEventLogger=a,this.patientType="ALL",this.priorityCount=[],this.alertCount=0,this.priority="ALL",this.destroy$=new qe.a,this.status=Al.a.OPEN,this.browserHeight=window.innerHeight-86+"px !important",this.listHeight=window.innerHeight-86-135+"px !important",this.linkedAlertVitals=[];const o=localStorage.getItem("loggedInUserBoundary");this.isAccessAcrossSubTenants=o==Dl.a.ACROSS_SUB_TENANTS}ngOnInit(){const t=localStorage.getItem("loggedInUserBoundary");this.isAccessAcrossSubTenants=t==Dl.a.ACROSS_SUB_TENANTS,this.ds=new yl(this._alertService,this.patientType),this.priorityCount.ALL=0,this.fetchAlert(),Object(ft.a)(window,"resize").pipe(Object(Et.a)(50)).subscribe(t=>{this.browserHeight=window.innerHeight-86+"px !important",this.listHeight=window.innerHeight-86-142+"px !important"})}fetchAlert(){this.dsCountSubscribtion=this.ds.completedCount().subscribe(t=>{Object.keys(t.priorityCount).map(e=>this.priorityCount[e]=t.priorityCount[e]),this.priorityCount.ALL=t.totalCount,this.updateAlertCount()})}refresh(){this.dsSubscribed&&this.dsSubscribed.unsubscribe(),this.dsCountSubscribtion&&this.dsCountSubscribtion.unsubscribe(),this.ds.alertFetchRequest.offset=0,this.ds.fetchAlert(!0),this.fetchAlert(),this._dataSharingService.triggerAlertRefresh()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.dsCountSubscribtion.unsubscribe()}updateAlertCount(){this.alertCount=0!=this.priorityCount.VERY_HIGH?this.priorityCount.VERY_HIGH:0}startTimer(t){var e;this.timerRunning=!0,this.timedPatient=t;const n=localStorage.getItem("loggedInUserAccountType"),i=localStorage.getItem("loggedInUser"),a={attendeeId:null==t?void 0:t.patientId,attendeeName:null===(e=null==t?void 0:t.patient)||void 0===e?void 0:e.fullName,attenderId:"CARE_TAKER"===n?i:null};this._dataSharingService.setTimer({state:"START",data:a,showStickyNote:!0}),this.view(t)}view(t){let e,n=!1,i=null;switch(t.type==_l.a.PRIORITISED.toString()?(e=t.id,i=t.status,this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers,t.linkedAlerts.forEach((t,e)=>{this.linkedAlertVitals[e]=t.alertContext.id}),t=t.linkedAlerts[0],n=!0):(this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers),this.alertId=t.id,this._patientsEventLogger.patientAlertEvent(t.patientId,"view_alert"),t.type){case"TODO_TASK_SKIPPED":this.viewSkippedTaskAlert(t);break;case"VITAL_LIMIT_CROSSED":this.viewVitalLimitAlert(t,e,i,n);break;case"FORM_ALERT":this.viewFormAlert(t);break;case"CAREPLAN_ASSIGNED":case"CONSENT_SUBMITTED":this.viewEpisode(t)}}viewEpisode(t){this._router.navigate([`episodes/details/${t.patientId}/${t.alertMessageParameters.EPISODE_ID}`],{queryParams:{blueprintId:t.alertMessageParameters.EPISODE_BLUEPRINT_ID}})}markAsClosed(t,e){this._alertService.closeAlert(t).subscribe(t=>{this._patientsEventLogger.patientAlertEvent(e,"alert_mark_as_closed"),this._notificationsService.success("Success","Alert Closed Successfully"),this._dataSharingService.triggerAlertRefresh(),this.dsCountSubscribtion.unsubscribe(),this.refresh()})}viewFormAlert(t){var e,n,i,a;const o=null===(i=null===(n=null===(e=null==t?void 0:t.patient)||void 0===e?void 0:e.patientState)||void 0===n?void 0:n.assessmentScores)||void 0===i?void 0:i.filter(e=>e.name==t.raisedFor);this._router.navigate(["patient/assessment-trend",t.patientId],{queryParams:{patientId:t.patientId,alert:t.id,blueprintId:null===(a=null==o?void 0:o[0])||void 0===a?void 0:a.parentFormId,phoneNumbers:JSON.stringify(this.phoneNumbers)}})}viewVitalLimitAlert(t,e,n,i=!1){this._router.navigate(["patient/vital-trend",t.patientId],{queryParams:{patientId:t.patientId,patientName:this.patientName,dob:this.dob,isPrioritisedAlert:i,alertId:this.alertId,prioritisedAlertId:e,prioritisedAlertStatus:n,linkedVitals:JSON.stringify(this.linkedAlertVitals),phoneNumbers:JSON.stringify(this.phoneNumbers),tenantId:t.tenantId}})}viewSkippedTaskAlert(t){var e,n,i;this._router.navigate(["patient/vital-trend",t.patientId],{queryParams:{patientId:t.patientId,patientName:null===(e=null==t?void 0:t.patient)||void 0===e?void 0:e.fullName,dob:null===(n=null==t?void 0:t.patient)||void 0===n?void 0:n.dateOfBirth,alert:JSON.stringify(t),phoneNumbers:JSON.stringify(null===(i=null==t?void 0:t.patient)||void 0===i?void 0:i.phoneNumbers),tenantId:t.patient.tenantId}})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(Qe.a),c.Rb(d.g),c.Rb(V.b),c.Rb(C.a),c.Rb(El.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-alerts"]],inputs:{patientType:"patientType"},decls:18,vars:10,consts:[[1,"alerts-container"],["nz-typography",""],["nz-typography","","nzType","danger"],[1,"alerts-count",2,"width","100%","display","flex"],[1,"total-alert-span"],[1,"view-all-link"],["routerLink","/alerts","routerLinkActive","active",3,"queryParams"],["nz-icon","","nzType","right-circle","nzTheme","fill"],["itemSize","72",1,"demo-infinite-container"],[3,"nzLoading"],[4,"cdkVirtualFor","cdkVirtualForOf"],[4,"ngIf"],[3,"nzDescription",4,"ngIf"],["card",""],[3,"nzDescription"],[1,"alert-card",3,"nzHoverable"],[1,"alert-card-priority-tag"],["nz-row",""],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","12","nzXl","12"],[1,"priority-tag",3,"nzColor"],["nz-typography","","nzType","secondary",1,"alert-date"],[4,"isAccessAcrossTenantEnabled"],["nz-row","","nzGutter","16"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","8","nzXl","8",1,"vital-sign"],["nz-row","",4,"ngIf"],["nz-typography","","nzEllipsis",""],["nz-col","","nzXs","12","nzSm","12","nzMd","12","nzLg","8","nzXl","8",1,"vital-sign","vital-sign-action",2,"z-index","101"],["nz-button","","nzType","link",3,"click"],[2,"color","var(--primary-color)"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","16","nzXl","16",1,"vital-sign"],["nz-typography","","nzType","secondary"],["nz-typography","","nzEllipsis","","nz-tooltip","",1,"detail-value",3,"nzTooltipTitle"],["nz-button","","nzType","link","nzDanger","",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nzGhost",""],[3,"nzHeader","nzActive","nzShowArrow"],["p",""],["nzColor","green",3,"nzDot",4,"ngFor","ngForOf"],["customDot",""],["linkedAlertsTemplate",""],["nzColor","green",3,"nzDot"],[2,"width","100%","display","flex","flex-direction","row"],[2,"width","60%"],["nz-typography","","type","secondary",1,"detail-title","linked-detail-title"],["nz-typography","","type","primary",1,"detail-value","linked-detail-value"],[2,"width","40%","margin-left","2px"],[1,"alert-type"],["nzStatus","processing",3,"nzColor"],["nz-icon","","nzType","right-circle","nzTheme","fill",2,"font-size","16px","color","var(--primary-color)",3,"nzRotate"]],template:function(t,e){1&t&&(c.Xb(0,"nz-card",0),c.Xb(1,"h4",1),c.Xc(2," You have "),c.Xb(3,"label",2),c.Xc(4),c.Wb(),c.Sb(5,"br"),c.Xc(6," that need your immediate attention "),c.Wb(),c.Xb(7,"span",3),c.Xb(8,"span",4),c.Xc(9),c.Wb(),c.Xb(10,"span",5),c.Xb(11,"span",6),c.Xc(12," View All "),c.Sb(13,"span",7),c.Wb(),c.Wb(),c.Wb(),c.Xb(14,"cdk-virtual-scroll-viewport",8),c.Xb(15,"nz-list",9),c.Vc(16,sd,4,1,"nz-list-item",10),c.Vc(17,rd,1,0,"nz-list-empty",11),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Db(4),c.Zc("",e.alertCount," alerts"),c.Db(5),c.Zc(" Total alerts: ",e.priorityCount.ALL," "),c.Db(2),c.rc("queryParams",c.yc(8,cd,e.patientType)),c.Db(3),c.Sc("height",e.listHeight),c.Db(1),c.rc("nzLoading",null==e.ds?null:e.ds.loading),c.Db(1),c.rc("cdkVirtualForOf",e.ds),c.Db(1),c.rc("ngIf",0==(null==e.ds?null:e.ds.loading)&&0===e.priorityCount.ALL))},directives:[lt.a,x.a,d.h,d.i,G.a,ut.a,zl.d,zl.a,Ol.a,zl.c,h.q,Ol.e,Ol.f,F.c,F.a,Wn.a,dn.a,B.a,Oe.d,Nl.a,Nl.c,Pl.a,h.p,Pl.b,gn.a,Ol.b],pipes:[Rl.a,Z.a,h.e,Xl.a,Ll,h.A],styles:['.alerts-container[_ngcontent-%COMP%]{border-radius:5px;height:100%}.alerts-count[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:10px;display:block}.alert-card[_ngcontent-%COMP%]{background:var(--neutral-color) 0 0 no-repeat padding-box;margin-bottom:3px}[_nghost-%COMP%]     .ant-card-hoverable:hover{box-shadow:3px 5px 5px #00000036;background:#f1f1f1 0 0 no-repeat padding-box}.alert-card[_ngcontent-%COMP%] >   .ant-card-body{padding:10px 10px 10px 18px}nz-tag[_ngcontent-%COMP%]{font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px}.alert-date[_ngcontent-%COMP%]{font-size:10px;text-align:right;display:block;margin-top:6px}strong[_ngcontent-%COMP%]{font:normal normal 700 15px/40px Nunito}.vital-sign[_ngcontent-%COMP%]{font:normal normal 600 12px/20px Nunito;letter-spacing:-.28px}.demo-infinite-container[_ngcontent-%COMP%]{min-height:100%;border-radius:4px}nz-list[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]     .ant-list-item{padding:2px}.view-btn[_ngcontent-%COMP%]{background:#efefef 0 0 no-repeat padding-box;border-radius:25px;opacity:1;border:0 solid #efefef;margin:6px}.btn-text[_ngcontent-%COMP%]{font:normal normal normal 14px/26px Nunito;letter-spacing:-.32px;color:var(--light-black);opacity:1}.filter-container[_ngcontent-%COMP%]{padding:12px 40px;text-align:left;background-color:var(--neutral-color)}.view-btn[_ngcontent-xyg-c420][_ngcontent-%COMP%]{background:#efefef 0 0 no-repeat padding-box;border-radius:25px;opacity:1;border:0 solid #efefef;margin:6px}.ant-radio-button-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;height:32px;margin:0;padding:0 15px;color:var(--light-black);font-size:13px;line-height:30px;cursor:pointer;transition:color .3s,background .3s,border-color .3s,box-shadow .3s}.ant-layout[_ngcontent-%COMP%], .ant-layout[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, [class*=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before, [class^=ant-][_ngcontent-%COMP%], [class^=ant-][_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class^=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, [class^=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{box-sizing:border-box}[role=button][_ngcontent-%COMP%], a[_ngcontent-%COMP%], area[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:not([type=range]), label[_ngcontent-%COMP%], select[_ngcontent-%COMP%], summary[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{touch-action:manipulation}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}user[_ngcontent-%COMP%]   agent[_ngcontent-%COMP%]   stylesheet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:default}.ant-radio-group[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;color:rgba(15,32,21,.85);font-size:13px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum";display:inline-block;font-size:0;line-height:unset}.filter-container[_ngcontent-xyg-c420][_ngcontent-%COMP%]{padding:12px;text-align:center;background-color:var(--neutral-color)}body[_ngcontent-%COMP%]{margin:0;color:rgba(15,32,21,.85);font-size:13px;font-family:Nunito;font-variant:tabular-nums;line-height:1.5715;background-color:var(--light-grey);font-feature-settings:"tnum"}html[_ngcontent-%COMP%]{--antd-wave-shadow-color:var(--primary-color);--scroll-bar:0;font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:rgba(15,32,21,0)}.ant-radio-button-wrapper[_ngcontent-%COMP%]:not(:first-child):before{width:0}[_nghost-%COMP%]     .ant-radio-button-wrapper{margin:4px;border-top-width:1px;border-left-width:1px}[_nghost-%COMP%]     .ant-tag{background:#c6c6c6}[_nghost-%COMP%]     .ant-radio-group-solid .ant-radio-button-wrapper-checked:not(.ant-radio-button-wrapper-disabled){color:var(--primary-color);background:var(--neutral-color);border:1px solid}#last-updated-time[_ngcontent-%COMP%]{text-align:right;padding:10px;font:normal normal normal 11px/22px Nunito;letter-spacing:0;color:#959595;opacity:1}[_nghost-%COMP%]     .ant-btn-circle{border:none}[_nghost-%COMP%]     .ant-list-split .ant-list-item{border-bottom:none}.detail-value[_ngcontent-%COMP%]{padding:0 5px 0 0;text-align:left;font:normal normal 700 13.5px/23px Nunito;letter-spacing:-.36px;color:var(--light-black);opacity:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:0}.vital-sign-action[_ngcontent-%COMP%]{position:absolute;right:0;bottom:10px}.view-all-link[_ngcontent-%COMP%]{text-align:right;width:50%;padding-right:4px;color:var(--primary-color);cursor:pointer}.total-alert-span[_ngcontent-%COMP%]{width:50%;text-align:left;padding-left:4px}.view-all-link-btn[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]     .ant-affix{left:0!important}.priority-tag[_ngcontent-%COMP%]{font-size:.71vw}.alert-card-priority-tag[_ngcontent-%COMP%]{position:absolute;height:100%;width:8px;left:0;top:0;border-radius:10px 0 0 10px}.detail-title[_ngcontent-%COMP%]{height:19px;text-align:left;font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px;color:#888;opacity:1;display:inline-block;vertical-align:top;line-height:normal}.linked-detail-title[_ngcontent-%COMP%]{margin-bottom:1px}.linked-detail-value[_ngcontent-%COMP%]{margin-bottom:1px;font:normal normal 700 13px/23px Nunito}[_nghost-%COMP%]     .ant-timeline-item-head-custom{background:transparent;left:9px}[_nghost-%COMP%]     .ant-timeline-item-tail{border-left:2px solid #a6c853}[_nghost-%COMP%]     .ant-badge-status-dot{width:10px;height:10px}[_nghost-%COMP%]     .ant-collapse-ghost>.ant-collapse-item>.ant-collapse-content>.ant-collapse-content-box{padding-bottom:0}[_nghost-%COMP%]     .ant-badge-status-processing:after{border:1px solid #a6c853}[_nghost-%COMP%]     .ant-collapse>.ant-collapse-item.ant-collapse-no-arrow>.ant-collapse-header{padding-left:0}[_nghost-%COMP%]     nz-spin{min-height:200px}']}),t})();const dd=function(){return["MONITORING","ON_BOARDING"]},ud=function(){return["QUICK_VIEW"]},pd=function(){return["ALERTS"]};function hd(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",1,2),c.Xb(2,"div",3),c.Xb(3,"div",4),c.Xb(4,"app-quick-progress",5),c.ec("onTenantChange",function(e){return c.Lc(t),c.ic().onTenantChange(e)}),c.Wb(),c.Sb(5,"br"),c.Xb(6,"section",6),c.Xb(7,"app-activities",7),c.ec("refresh",function(){return c.Lc(t),c.ic().refresh()})("patientTypeChange",function(e){return c.Lc(t),c.ic().selectedPatientType=e}),c.Wb(),c.Sb(8,"br"),c.Wb(),c.Xb(9,"section",6),c.Sb(10,"app-quick-view",8),c.Wb(),c.Wb(),c.Xb(11,"div",9),c.Xb(12,"nz-affix",10),c.Xb(13,"section",6),c.Sb(14,"app-alerts",8),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(15,"br"),c.Sb(16,"br"),c.Sb(17,"br"),c.Wb()}if(2&t){const t=c.Ic(1),e=c.ic();c.Db(4),c.rc("patientType",e.selectedPatientType),c.Db(2),c.rc("dashboardSections",c.xc(14,dd)),c.Db(1),c.rc("patientType",e.selectedPatientType),c.Db(2),c.rc("dashboardSections",c.xc(15,ud)),c.Db(1),c.rc("patientType",e.selectedPatientType),c.Db(2),c.Sc("height",e.browserHeight),c.rc("nzTarget",t),c.Db(1),c.Sc("height",e.browserHeight),c.rc("dashboardSections",c.xc(16,pd)),c.Db(1),c.Sc("height",e.browserHeight),c.rc("patientType",e.selectedPatientType)}}let bd=(()=>{class t extends zs.a{constructor(t,e,n){var i;super(),this._dashboardService=t,this._dataSharingService=e,this._widgetsService=n,this.browserHeight=window.innerHeight-86+"px !important",this.selectedPatientType="ALL";const a=localStorage.getItem("loggedInUserRole"),o=localStorage.getItem("loggedInUserRoleName");this.selectedPatientType=sessionStorage.getItem("patientType"),null==this.selectedPatientType&&(this.selectedPatientType=a!==zn.a.MONITORING_STAFF||(null===(i=null==o?void 0:o.toLowerCase())||void 0===i?void 0:i.includes("manager"))?"ALL":"PRIMARY",sessionStorage.setItem("patientType",this.selectedPatientType))}ngOnInit(){this.loadData(),this._dataSharingService.onSubTenantChange().pipe(Object(Ze.a)(this.unsubscribed)).subscribe(t=>this.refresh()),Object(ft.a)(window,"resize").pipe(Object(Et.a)(50)).subscribe(t=>{this.browserHeight=window.innerHeight-86+"px !important"})}loadData(){this._dashboardService.fetchEnabledWidgets().subscribe(t=>{this._widgetsService.setDashboardConfig(t),this.getWidgetPermissions()})}getWidgetPermissions(){this._dashboardService.fetchWidgetPermissions().subscribe(t=>{this._widgetsService.setWidgetPermissions(t),this.widgetPermissions=t,this.loaded=!0})}refresh(){this.loaded=!1,this._dashboardService.refreshCache().subscribe(()=>{this.loaded=!0}),this._dataSharingService.triggerAlertRefresh()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(ce.a),c.Rb(C.a),c.Rb(le.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["dashboard"]],features:[c.Ab],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["target",""],["nz-row","","nzGutter","24"],["nz-col","","nzSpan","17"],[3,"patientType","onTenantChange"],[3,"dashboardSections"],[3,"patientType","refresh","patientTypeChange"],[3,"patientType"],["nz-col","","nzSpan","7",1,"alert-container"],["nzOffsetTop","20",3,"nzTarget"]],template:function(t,e){1&t&&c.Vc(0,hd,18,17,"div",0),2&t&&c.rc("ngIf",e.loaded)},directives:[h.q,F.c,F.a,Ys,Ps,bl,Tl,Cl.a,ld],styles:[".container[_ngcontent-%COMP%]{padding-top:20px!important}.alert-container[_ngcontent-%COMP%]{height:99vh}.alert-section[_ngcontent-%COMP%]{position:fixed;height:99vh;width:93vh}"]}),t})();var gd=n("3pGX"),md=n("Nq9W"),fd=n("pLZG"),vd=n("KupA");function Sd(t,e){1&t&&(c.Xb(0,"th"),c.Xc(1," Sub Tenant "),c.Wb())}function Td(t,e){if(1&t&&(c.Xb(0,"span"),c.Xc(1),c.jc(2,"date"),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(1),c.Yc(c.lc(2,1,null==t?null:t.updatedOn,"MMM dd, yyyy"))}}function Cd(t,e){1&t&&(c.Xb(0,"span"),c.Xc(1,"N/A"),c.Wb())}function Ed(t,e){if(1&t&&(c.Xb(0,"td"),c.Xc(1),c.jc(2,"tenantName"),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(1),c.Zc(" ",c.kc(2,1,t.tenantId)," ")}}function Id(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-icons",10),c.ec("click",function(){c.Lc(t);const e=c.ic().$implicit;return c.ic().editCareplanTemplate(e.id)}),c.Wb()}}function Md(t,e){if(1&t){const t=c.Yb();c.Xb(0,"span",11),c.ec("nzOnConfirm",function(){c.Lc(t);const e=c.ic().$implicit;return c.ic().deleteCareplanTemplate(e.id)}),c.jc(1,"translate"),c.Sb(2,"app-icons",12),c.Wb()}2&t&&c.sc("nzPopconfirmTitle",c.kc(1,1,"MESSAGE.DELETEMSG"))}function yd(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-icons",13),c.ec("click",function(){c.Lc(t);const e=c.ic().$implicit;return c.ic().cloneCareplanTemplate(e.id)}),c.Wb()}}const Ad=function(){return["EDIT_CARE_PLAN_TEMPLATE"]},_d=function(){return["DELETE_CARE_PLAN_TEMPLATE"]};function Dd(t,e){if(1&t){const t=c.Yb();c.Xb(0,"tr"),c.Xb(1,"td",5),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic().showCareplanTemplate(n.id)}),c.Xc(2),c.Wb(),c.Xb(3,"td"),c.Vc(4,Td,3,4,"span",6),c.Vc(5,Cd,2,0,"span",6),c.Wb(),c.Vc(6,Ed,3,3,"td",3),c.Xb(7,"td"),c.Vc(8,Id,1,0,"app-icons",7),c.Xc(9," \xa0\xa0 "),c.Vc(10,Md,3,3,"span",8),c.Xc(11," \xa0\xa0 "),c.Vc(12,yd,1,0,"app-icons",9),c.Wb(),c.Wb()}if(2&t){const t=e.$implicit;c.Db(2),c.Yc(t.name),c.Db(2),c.rc("ngIf",null==t?null:t.updatedOn),c.Db(1),c.rc("ngIf",!(null!=t&&t.updatedOn)),c.Db(3),c.rc("isFeaturePermitted",c.xc(6,Ad)),c.Db(2),c.rc("isFeaturePermitted",c.xc(7,_d)),c.Db(2),c.rc("isFeaturePermitted",c.xc(8,Ad))}}const zd=function(){return{x:"1250px"}};let Od=(()=>{class t extends zs.a{constructor(t,e,n,i,a,o){super(),this._router=t,this._regimeService=e,this._partnerService=n,this._dataSharingService=i,this._notificationsService=a,this._careplanEventLogger=o,this.pageSize=st.g.pageSize,this.totalCount=0,this.courses=[],this.loading=!1,this._routeHelperService.getSearch().pipe(Object(fd.a)(t=>null!==t),Object(Ze.a)(this.unsubscribed)).subscribe(t=>this.applyFilter(t)),this._routeHelperService.isPrimaryActionTriggered().pipe(Object(fd.a)(t=>!!t),Object(Ze.a)(this.unsubscribed)).subscribe(()=>this.createCareplanTemplate())}ngOnInit(){this.init(),this._dataSharingService.onSubTenantChange().pipe(Object(Ze.a)(this.unsubscribed)).subscribe(t=>{this.onSubTenantChange(t)})}init(){this.loading=!0,this._regimeService.getCourse(this.pageSize,0,this.requestTenantIds).subscribe(t=>{this.courses=t.body,this.totalCount=this._partnerService.getTotalCount(t.headers),this.loading=!1})}onSubTenantChange(t){"object"!=typeof t||""==t||null==t||null==t?(this.requestTenantIds=void 0,this.init()):(this.requestTenantIds=t.join(),this.init())}getCoursesOnPage(t){this.loading=!0,this._regimeService.getCourse(this.pageSize,this.pageSize*t).subscribe(t=>{this.courses=t.body,this.loading=!1})}getCources(t){this.getCoursesOnPage(t-1)}applyFilter(t){this._careplanEventLogger.careplanSearchEvent(t),""===t.trim()?this.ngOnInit():(this.loading=!0,this._regimeService.searchCourse(t,this.pageSize,0).subscribe(t=>{this.courses=t,this.loading=!1}))}createCareplanTemplate(){this._careplanEventLogger.careplanActionEvent("","careplan_template_add"),this._router.navigate(["course/add"])}showCareplanTemplate(t){this._careplanEventLogger.careplanActionEvent(t,"careplan_template_view"),this._router.navigate(["course/view",t])}editCareplanTemplate(t){this._careplanEventLogger.careplanActionEvent(t,"careplan_template_edit"),this._router.navigate(["course/edit",t])}deleteCareplanTemplate(t){this._careplanEventLogger.careplanActionEvent(t,"careplan_template_delete"),this._regimeService.deleteBlueprint(t).subscribe(()=>{this._notificationsService.success("Success","Careplan Template Deleted Successfully!"),this.ngOnInit()},t=>{this._notificationsService.error("Error","Unable To Delete: "+t.json().message)})}cloneCareplanTemplate(t){this._careplanEventLogger.careplanActionEvent(t,"careplan_template_clone"),this._router.navigate(["course/clone",t])}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(d.g),c.Rb(gd.a),c.Rb(As.a),c.Rb(C.a),c.Rb(V.b),c.Rb(md.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-regime"]],features:[c.Ab],decls:17,vars:18,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzFrontPagination","nzLoading","nzTotal","nzPageSize","nzScroll","nzPageIndexChange"],["courseTable",""],[4,"isAccessAcrossTenantEnabled"],[4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"],["name","edit",3,"click",4,"isFeaturePermitted"],["nz-popconfirm","",3,"nzPopconfirmTitle","nzOnConfirm",4,"isFeaturePermitted"],["name","clone",3,"click",4,"isFeaturePermitted"],["name","edit",3,"click"],["nz-popconfirm","",3,"nzPopconfirmTitle","nzOnConfirm"],["name","delete"],["name","clone",3,"click"]],template:function(t,e){if(1&t&&(c.Xb(0,"div",0),c.Xb(1,"nz-table",1,2),c.ec("nzPageIndexChange",function(t){return e.getCources(t)}),c.Xb(3,"thead"),c.Xb(4,"tr"),c.Xb(5,"th"),c.Xc(6),c.jc(7,"translate"),c.Wb(),c.Xb(8,"th"),c.Xc(9),c.jc(10,"translate"),c.Wb(),c.Vc(11,Sd,2,0,"th",3),c.Xb(12,"th"),c.Xc(13),c.jc(14,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(15,"tbody"),c.Vc(16,Dd,13,9,"tr",4),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.Ic(2);c.Db(1),c.rc("nzData",e.courses)("nzShowPagination",!0)("nzFrontPagination",!1)("nzLoading",e.loading)("nzTotal",e.totalCount)("nzPageSize",10)("nzScroll",c.xc(17,zd)),c.Db(5),c.Yc(c.kc(7,11,"COMMON.NAME")),c.Db(3),c.Yc(c.kc(10,13,"LAST_EDITED")),c.Db(4),c.Yc(c.kc(14,15,"TABLEHEADER.ACTIONS")),c.Db(3),c.rc("ngForOf",t.data)}},directives:[$.f,$.n,$.o,$.e,$.l,dn.a,$.i,h.p,h.q,mn.a,dt.a,vd.a],pipes:[Z.a,h.e,Xl.a],styles:[".toolbar[_ngcontent-%COMP%]{width:80%;margin:0 auto}.toolbar[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{font-family:Lato}table[_ngcontent-%COMP%]{width:100%;margin:auto}td[_ngcontent-%COMP%]{color:grey}.headers[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#7e87a0;font-size:12px;font-weight:bolder}.paginator[_ngcontent-%COMP%]{width:100%;margin:0 auto 2%}.name[_ngcontent-%COMP%]{color:#000;font-weight:400}.actions[_ngcontent-%COMP%]{font-weight:bolder;color:var(--primary-color)}i[_ngcontent-%COMP%]{font-size:18px;margin-right:5px}[_nghost-%COMP%]     .ant-input-affix-wrapper .ant-input-suffix{right:0!important}"]}),t})();var Nd=n("mfqL"),Pd=n("4ik+");function Rd(t,e){1&t&&(c.Xb(0,"th"),c.Xc(1," Sub Tenant "),c.Wb())}function Xd(t,e){if(1&t&&(c.Xb(0,"nz-tag"),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t){const t=e.$implicit;c.Db(1),c.Zc(" ",c.kc(2,1,t)," ")}}function Ld(t,e){if(1&t&&(c.Xb(0,"td"),c.Xc(1),c.jc(2,"tenantName"),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(1),c.Zc(" ",c.kc(2,1,t.tenantId)," ")}}function wd(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-icons",7),c.ec("click",function(){c.Lc(t);const e=c.ic().$implicit;return c.ic().editTag(e.id)}),c.Wb()}}function Wd(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-icons",8),c.ec("click",function(){c.Lc(t);const e=c.ic().$implicit;return c.ic().deleteTag(e.id)}),c.Wb()}}const kd=function(){return["ADD_EDIT_TAG"]},Vd=function(){return["DELETE_TAG"]};function xd(t,e){if(1&t&&(c.Xb(0,"tr"),c.Xb(1,"td"),c.Xc(2),c.Wb(),c.Xb(3,"td"),c.Vc(4,Xd,3,3,"nz-tag",4),c.Wb(),c.Vc(5,Ld,3,3,"td",3),c.Xb(6,"td"),c.Vc(7,wd,1,0,"app-icons",5),c.Xc(8," \xa0\xa0 "),c.Vc(9,Wd,1,0,"app-icons",6),c.Wb(),c.Wb()),2&t){const t=e.$implicit;c.Db(2),c.Yc(t.name),c.Db(2),c.rc("ngForOf",t.appliesTo),c.Db(3),c.rc("isFeaturePermitted",c.xc(4,kd)),c.Db(2),c.rc("isFeaturePermitted",c.xc(5,Vd))}}let Ud=(()=>{class t extends zs.a{constructor(t,e,n,i,a){super(),this._tagService=t,this._router=e,this._partnerService=n,this._notificationsService=i,this._dataSharingService=a,this.totalCount=0,this.pageSize=st.g.pageSize,this.tags=[],this.loading=!1,this._routeHelperService.isPrimaryActionTriggered().pipe(Object(Pd.filter)(t=>!!t),Object(Ze.a)(this.unsubscribed)).subscribe(()=>this.gotoAddTag())}ngOnInit(){this.loading=!0,this._dataSharingService.onSubTenantChange().subscribe(t=>this.onSubTenantChange(t)),this._tagService.getTagsByLimit(this.pageSize,0).subscribe(t=>{this.tags=t.body,this.totalCount=this._partnerService.getTotalCount(t.headers),this.loading=!1})}onSubTenantChange(t){"object"!=typeof t||""==t||null==t||null==t||(this.requestTenantIds=t),this.getTags(1)}getTagsData(t){this.loading=!0,this._tagService.getTagsByLimit(this.pageSize,this.pageSize*t).subscribe(t=>{this.tags=t.body,this.loading=!1})}getTags(t){this.getTagsData(t-1)}applyFilter(t){""===t.trim()?this.ngOnInit():this.tags=this.tags.filter(e=>e.name.toLowerCase().includes(t.toLowerCase()))}deleteTag(t){this._tagService.deleteTagById(t).subscribe(()=>{this._notificationsService.success("Tags","Tag Deleted Successfully!!"),this.ngOnInit()},()=>{this._notificationsService.error("Tags","Error While Deleting Tag!!")})}gotoAddTag(){this._router.navigate(["tags/add"])}editTag(t){this._router.navigate(["tags/edit",t])}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(Nd.a),c.Rb(d.g),c.Rb(As.a),c.Rb(V.b),c.Rb(C.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-tag"]],features:[c.Cb([Nd.a,As.a]),c.Ab],decls:17,vars:15,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzFrontPagination","nzTotal","nzLoading","nzPageIndexChange"],["tagsTable",""],[4,"isAccessAcrossTenantEnabled"],[4,"ngFor","ngForOf"],["name","edit",3,"click",4,"isFeaturePermitted"],["name","delete",3,"click",4,"isFeaturePermitted"],["name","edit",3,"click"],["name","delete",3,"click"]],template:function(t,e){if(1&t&&(c.Xb(0,"div",0),c.Xb(1,"nz-table",1,2),c.ec("nzPageIndexChange",function(t){return e.getTags(t)}),c.Xb(3,"thead"),c.Xb(4,"tr"),c.Xb(5,"th"),c.Xc(6),c.jc(7,"translate"),c.Wb(),c.Xb(8,"th"),c.Xc(9),c.jc(10,"translate"),c.Wb(),c.Vc(11,Rd,2,0,"th",3),c.Xb(12,"th"),c.Xc(13),c.jc(14,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(15,"tbody"),c.Vc(16,xd,10,6,"tr",4),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.Ic(2);c.Db(1),c.rc("nzData",e.tags)("nzShowPagination",!0)("nzFrontPagination",!1)("nzTotal",e.totalCount)("nzLoading",e.loading),c.Db(5),c.Yc(c.kc(7,9,"TABLEHEADER.NAME")),c.Db(3),c.Yc(c.kc(10,11,"TABLEHEADER.APPLIESTO")),c.Db(4),c.Yc(c.kc(14,13,"TABLEHEADER.ACTIONS")),c.Db(3),c.rc("ngForOf",t.data)}},directives:[$.f,$.n,$.o,$.e,$.l,dn.a,$.i,h.p,mn.a,Wn.a,dt.a],pipes:[Z.a,Xl.a],styles:[".toolbar[_ngcontent-%COMP%]{margin:0 auto}.toolbar[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:80%;font-family:Lato}table[_ngcontent-%COMP%]{margin:auto}td[_ngcontent-%COMP%]{color:grey}.headers[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#7e87a0;font-size:12px;font-weight:bolder}.name[_ngcontent-%COMP%]{color:#000;font-weight:400}.actions[_ngcontent-%COMP%]{font-weight:bolder;color:var(--primary-color)}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]     .ant-input-affix-wrapper .ant-input-suffix{right:0!important}"]}),t})();class Fd{constructor(){}}var Hd=n("S5rh");function Bd(t,e){1&t&&(c.Xb(0,"label",6),c.Xc(1,"Required"),c.Wb())}function jd(t,e){if(1&t&&c.Sb(0,"nz-option",7),2&t){const t=e.$implicit;c.rc("nzLabel",t.itemName)("nzValue",t.id)}}function Gd(t,e){1&t&&(c.Xb(0,"label",6),c.Xc(1,"Required"),c.Wb())}const Yd=function(t){return{border:t}},$d=function(t){return{"required-input":t}};let qd=(()=>{class t{constructor(t,e){this.translateService=t,this.tagService=e,this.dropDownDefault="",this.dropdownList=[],this.dropdownSettings={},this.appliesToList=[{id:"PATIENT",name:"COMMON.RESIDENT"},{id:"CARE_TAKER",name:"TITLE.CARETAKERS"},{id:"FORM",name:"COMMON.SURVEYFORM"},{id:"CAREPLAN",name:"COMMON.CAREPLAN"}]}ngOnInit(){this.appliesToList.forEach(t=>{const e={};e.id=t.id,e.itemName=t.name,this.translateService.get(t.name).subscribe(t=>{e.itemName=t,this.dropdownList.push(e)})}),"Add"===this.mode||this.tagService.getTagById(this.id).subscribe(t=>{this.clone(t),t.appliesTo.forEach(t=>{const e={};e.id=t,e.itemName="PATIENT"===t?"Patient":"CARE_TAKER"===t?"Caretaker":t,this.selectedItems.push(e)})})}clone(t){if(null===t||"object"!=typeof t)return t;for(const e in t)t.hasOwnProperty(e)&&(this.tag[e]=t[e])}ngDoCheck(){if(document.getElementsByClassName("list-filter")[0]){const t=document.getElementsByClassName("list-filter")[0].lastElementChild;t&&(t.style.width="88%")}}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(Lt.a),c.Rb(Nd.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["tag-form"]],inputs:{tag:"tag",id:"id",mode:"mode",selectedItems:"selectedItems",tagValidations:"tagValidations"},features:[c.Cb([Nd.a])],decls:27,vars:32,consts:[[1,"tags-card"],["nz-input","","required","",3,"placeholder","ngModel","value","ngStyle","ngModelChange"],["nz-typography","","nzType","danger","style","float: right;",4,"ngIf"],["nz-input","","required","",3,"placeholder","ngModel","value","ngModelChange"],["nzMode","multiple","nzPlaceHolder","Please select",2,"width","100%",3,"ngModel","ngClass","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-typography","","nzType","danger",2,"float","right"],[3,"nzLabel","nzValue"]],template:function(t,e){1&t&&(c.Xb(0,"nz-card",0),c.Xb(1,"h3"),c.Xc(2),c.jc(3,"translate"),c.Wb(),c.Sb(4,"nz-divider"),c.Sb(5,"br"),c.Sb(6,"br"),c.Xb(7,"div"),c.Xb(8,"label"),c.Xc(9),c.jc(10,"translate"),c.Wb(),c.Xb(11,"input",1),c.ec("ngModelChange",function(t){return e.tag.name=t}),c.jc(12,"translate"),c.Wb(),c.Vc(13,Bd,2,0,"label",2),c.Wb(),c.Xb(14,"div"),c.Xb(15,"label"),c.Xc(16),c.jc(17,"translate"),c.Wb(),c.Xb(18,"input",3),c.ec("ngModelChange",function(t){return e.tag.description=t}),c.jc(19,"translate"),c.Wb(),c.Wb(),c.Xb(20,"div"),c.Xb(21,"label"),c.Xc(22),c.jc(23,"translate"),c.Wb(),c.Xb(24,"nz-select",4),c.ec("ngModelChange",function(t){return e.tag.appliesTo=t}),c.Vc(25,jd,1,2,"nz-option",5),c.Wb(),c.Vc(26,Gd,2,0,"label",2),c.Wb(),c.Wb()),2&t&&(c.Db(2),c.Yc(c.kc(3,16,"COMMON.TAGINFO")),c.Db(7),c.Yc(c.kc(10,18,"COMMON.NAME")),c.Db(2),c.sc("placeholder",c.kc(12,20,"COMMON.NAME")),c.rc("ngModel",e.tag.name)("value",e.tag.name)("ngStyle",c.yc(28,Yd,e.tagValidations.emptyName&&!e.tag.name?"1px solid red":"")),c.Db(2),c.rc("ngIf",e.tagValidations.emptyName&&!e.tag.name),c.Db(3),c.Yc(c.kc(17,22,"COMMON.DESCRIPTION")),c.Db(2),c.sc("placeholder",c.kc(19,24,"COMMON.DESCRIPTION")),c.rc("ngModel",e.tag.description)("value",e.tag.description),c.Db(4),c.Yc(c.kc(23,26,"TAG.CHOOSE_ENTITY_THIS_TAG_APPLIES_TO")),c.Db(2),c.rc("ngModel",e.tag.appliesTo)("ngClass",c.yc(30,$d,e.tagValidations.emptyEntities&&!((null==e.tag.appliesTo?null:e.tag.appliesTo.length)>0))),c.Db(1),c.rc("ngForOf",e.dropdownList),c.Db(1),c.rc("ngIf",e.tagValidations.emptyEntities&&!((null==e.tag.appliesTo?null:e.tag.appliesTo.length)>0)))},directives:[lt.a,U.a,qa.b,b.d,b.C,b.u,b.x,h.r,h.q,Y.d,h.o,h.p,x.a,Y.a],pipes:[Z.a],styles:[".tags-card[_ngcontent-%COMP%]{margin:2%;min-height:85vh}.mat-form-field[_ngcontent-%COMP%]{width:85%!important}  .selected-list .c-list .c-token{padding:10px 25px 10px 8px!important;border-radius:15px!important;background-color:#ffefd5}div[_ngcontent-%COMP%]{width:25%;height:50px;display:inline-block}div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-left:5%}[_nghost-%COMP%]     nz-select-top-control{border:1px solid #d9d9d9!important}.required-input[_ngcontent-%COMP%]     nz-select-top-control{border:1px solid red!important}"]}),t})(),Zd=(()=>{class t extends zs.a{constructor(t,e,n,i,a,o){super(),this.tagService=t,this._router=e,this.translateService=n,this._notificationsService=i,this.route=a,this._location=o,this.selectedItems=[],this.modeType="Add",this.tag=new Fd,this.tagValidations={emptyName:!1,emptyEntities:!1}}ngOnInit(){let t="";if(this.modeType="Add",this.tag=new Fd,this.route.params.forEach(e=>{t=e.id}),t)this.modeType="Edit",this.id=t,this.showTenantToggle=!1;else{this.modeType="Add",this.showTenantToggle=this.isAccessAcrossSubTenants;const t=localStorage.getItem("loggedInUserAssignedTenants");this.tag.tenantId=t.split(",")[0]}}saveTag(){if(null==this.tag.tenantId||null==this.tag.tenantId)return this._notificationsService.error("Tag","Please choose a sub tenant."),void(this.showSubtenantChooseError=!0);this.tagValidations={emptyName:!1,emptyEntities:!1},this.tag.name&&""!=this.tag.name&&0!==this.tag.name.length||(this.tagValidations.emptyName=!0),this.tag.appliesTo&&null!==this.tag.appliesTo&&0!==this.tag.appliesTo.length||(this.tagValidations.emptyEntities=!0),this.tagValidations.emptyName||this.tagValidations.emptyEntities||("Add"===this.modeType?this.createTag():this.updateTag())}onSubTenantChange(t){(t||null!=t)&&(this.showSubtenantChooseError=!0),this.tag.tenantId=t}createTag(){this.tagService.create(this.tag).subscribe(()=>{this.translateService.get("ERROR.TAGSUCCESS").subscribe(t=>{this._notificationsService.success("Success",t)}),this._router.navigate(["tags"])},t=>{var e;this._notificationsService.error("Tags",null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.message)})}updateTag(){this.tagService.update(this.tag).subscribe(()=>{this.translateService.get("ERROR.TAGUPDATESUCCESS").subscribe(t=>{this._notificationsService.success("Success",t)}),this._router.navigate(["tags"])},t=>{var e;this._notificationsService.error("Tags",null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.message)})}cancel(t){this._router.navigate([t])}goBack(){this._location.back()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(Nd.a),c.Rb(d.g),c.Rb(Lt.a),c.Rb(V.b),c.Rb(d.a),c.Rb(h.l))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-tagopr"]],features:[c.Cb([Nd.a,As.a]),c.Ab],decls:8,vars:12,consts:[["title","addTags",3,"defaultTitle","isSearchEnabled","actionTitle","action"],[1,"container"],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","6","nzOffset","18"],["mode","SINGLE",3,"onSubTenantSelected"],[3,"mode","selectedItems","tag","id","tagValidations","selectedItemsChange","tagChange","idChange","tagValidationsChange"]],template:function(t,e){1&t&&(c.Xb(0,"app-header",0),c.ec("action",function(){return e.saveTag()}),c.jc(1,"translate"),c.jc(2,"translate"),c.Wb(),c.Xb(3,"div",1),c.Xb(4,"div",2),c.Xb(5,"div",3),c.Xb(6,"sub-tenant-select",4),c.ec("onSubTenantSelected",function(t){return e.onSubTenantChange(t)}),c.Wb(),c.Wb(),c.Wb(),c.Xb(7,"tag-form",5),c.ec("selectedItemsChange",function(t){return e.selectedItems=t})("tagChange",function(t){return e.tag=t})("idChange",function(t){return e.id=t})("tagValidationsChange",function(t){return e.tagValidations=t}),c.Wb(),c.Wb()),2&t&&(c.sc("defaultTitle",c.kc(1,8,"FORM.TAG")),c.tc("actionTitle"," ",c.kc(2,10,"TABLEHEADER.SAVE")," "),c.rc("isSearchEnabled",!1),c.Db(7),c.rc("mode",e.modeType)("selectedItems",e.selectedItems)("tag",e.tag)("id",e.id)("tagValidations",e.tagValidations))},directives:[Hd.a,F.c,F.a,Sn.a,qd],pipes:[Z.a],styles:[""]}),t})(),Qd=(()=>{class t{constructor(t){this._http=t,this.rootUrl=st.g.url}authorizePCC(t){let e="";const n=new Headers;return n.append("Content-Type","application/json"),n.append("Accept","application/json"),e=localStorage.getItem("loggedInTenant"),n.append("X-Auth-Token",localStorage.getItem("sessionToken")),this._http.get(this.rootUrl+"/v2/pcc/authorizePCC/"+e+"?code="+t,{responseType:"text"})}}return t.\u0275fac=function(e){return new(e||t)(c.bc(p.c))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac}),t})();function Kd(t,e){1&t&&c.Sb(0,"nz-spin",4),2&t&&c.rc("nzSize","large")}function Jd(t,e){1&t&&c.Sb(0,"nz-alert",5)}function tu(t,e){if(1&t&&c.Sb(0,"nz-alert",6),2&t){const t=c.ic();c.rc("nzDescription",t.message)}}let eu=(()=>{class t{constructor(t,e){this.callbackService=t,this.activatedRoute=e,this.message="Please wait, Integration with PCC in progress",this.progress=!1,this.successful=!1}ngOnInit(){this.activatedRoute.queryParams.subscribe(t=>{const e=t.code;this.progress=!0;try{this.callbackService.authorizePCC(e).subscribe(()=>{this.progress=!1,this.successful=!0,this.message="Integration Completed"},()=>{this.progress=!1,this.successful=!1,this.message="Problem occured, please try agian"})}catch(n){this.progress=!1,this.successful=!1,this.message="Problem occured, please try agian"}})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(Qd),c.Rb(d.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-callback"]],features:[c.Cb([Qd])],decls:4,vars:3,consts:[[2,"display","flex","justify-content","center","align-items","center","height","100vh"],["nzSimple","",3,"nzSize",4,"ngIf"],["nzType","success","nzMessage","Integration Successful","nzDescription","Point Click Care Sync takes 10-15 minutes, please wait.","nzShowIcon","",4,"ngIf"],["nzType","error","nzMessage","Error","nzShowIcon","",3,"nzDescription",4,"ngIf"],["nzSimple","",3,"nzSize"],["nzType","success","nzMessage","Integration Successful","nzDescription","Point Click Care Sync takes 10-15 minutes, please wait.","nzShowIcon",""],["nzType","error","nzMessage","Error","nzShowIcon","",3,"nzDescription"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Vc(1,Kd,1,1,"nz-spin",1),c.Vc(2,Jd,1,0,"nz-alert",2),c.Vc(3,tu,1,1,"nz-alert",3),c.Wb()),2&t&&(c.Db(1),c.rc("ngIf",e.progress),c.Db(1),c.rc("ngIf",!e.progress&&e.successful),c.Db(1),c.rc("ngIf",!e.progress&&!e.successful))},directives:[h.q,ye.a,tr.a],styles:[""]}),t})(),nu=(()=>{class t{constructor(t){this._http=t,this.rootUrl=st.g.url}getAllCareplans(){return this._http.get(this.rootUrl+"/v2/careplanview/patients/"+localStorage.getItem("loggedInTenant"))}}return t.\u0275fac=function(e){return new(e||t)(c.bc(p.c))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac}),t})();function iu(t,e){1&t&&(c.Xb(0,"th"),c.Xc(1," Sub Tenant "),c.Wb())}function au(t,e){if(1&t&&(c.Xb(0,"td"),c.Xc(1),c.jc(2,"tenantName"),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(1),c.Zc(" ",c.kc(2,1,t.tenantId)," ")}}function ou(t,e){if(1&t){const t=c.Yb();c.Xb(0,"tr",5),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic().showCareplan(n)}),c.Xb(1,"td"),c.Xc(2),c.Wb(),c.Vc(3,au,3,3,"td",3),c.Xb(4,"td"),c.Xc(5),c.Wb(),c.Wb()}if(2&t){const t=e.$implicit;c.Db(2),c.Yc(t.careplanName),c.Db(3),c.Yc(t.numOfPatients)}}let su=(()=>{class t extends zs.a{constructor(t,e,n){super(),this._careplanService=t,this.router=e,this._dataSharingService=n,this.filterVisible=!1,this.searchKey="",this.totalCount=0,this.pageSize=st.g.pageSize,this.careplans=[],this.loading=!1}ngOnInit(){this.init(),this._dataSharingService.onSubTenantChange().pipe(Object(Ze.a)(this.unsubscribed)).subscribe(t=>{this.onSubTenantChange(t)})}init(){this.loading=!0,this._careplanService.getAllCareplans().subscribe(t=>{this.careplans=t,this.totalCount=this.careplans.length,this.loading=!1})}showCareplan(t){this._dataSharingService.careplanDetails.next(t),this.router.navigate(["careplans/details"])}onSubTenantChange(t){"object"!=typeof t||""==t||null==t||null==t||(this.requestTenantIds=t.join()),this.init()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(nu),c.Rb(d.g),c.Rb(C.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-cplan-assigments"]],features:[c.Cb([nu,gd.a]),c.Ab],decls:14,vars:10,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzLoading"],["careplanTable",""],[4,"isAccessAcrossTenantEnabled"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,e){if(1&t&&(c.Xb(0,"div",0),c.Xb(1,"nz-table",1,2),c.Xb(3,"thead"),c.Xb(4,"tr"),c.Xb(5,"th"),c.Xc(6),c.jc(7,"translate"),c.Wb(),c.Vc(8,iu,2,0,"th",3),c.Xb(9,"th"),c.Xc(10),c.jc(11,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(12,"tbody"),c.Vc(13,ou,6,2,"tr",4),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.Ic(2);c.Db(1),c.rc("nzData",e.careplans)("nzShowPagination",!0)("nzLoading",e.loading),c.Db(5),c.Yc(c.kc(7,6,"TABLEHEADER.PLANS")),c.Db(4),c.Yc(c.kc(11,8,"TABLEHEADER.NUMOFPATIENT")),c.Db(3),c.rc("ngForOf",t.data)}},directives:[$.f,$.n,$.o,$.e,$.l,dn.a,$.i,h.p],pipes:[Z.a,Xl.a],styles:[".mdl-data-table[_ngcontent-%COMP%]{width:100%;margin-top:40px}.collapse[_ngcontent-%COMP%]   .collapse-section[_ngcontent-%COMP%], .collapseZone[_ngcontent-%COMP%]   .collapseZone-section[_ngcontent-%COMP%]{display:none}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar{width:.3em}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.mdl-dialog[_ngcontent-%COMP%]{max-height:500px}.errorMsg[_ngcontent-%COMP%]{color:red;font-size:8px}.errorMsgOverall[_ngcontent-%COMP%]{color:red;font-size:10px;font-weight:700}.contentpadding[_ngcontent-%COMP%]{padding:30px}.parent[_ngcontent-%COMP%]{margin:auto;display:flex;height:80%;width:80%}.child[_ngcontent-%COMP%]{margin:auto;max-width:100%;padding:40px;max-height:100%}div[_ngcontent-%COMP%]::-webkit-scrollbar{width:.3em}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.toolbar[_ngcontent-%COMP%]{width:80%;margin:0 auto}.toolbar[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{font-family:Lato}table[_ngcontent-%COMP%]{width:100%;margin:auto}td[_ngcontent-%COMP%]{color:grey}.headers[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#7e87a0;font-size:12px;font-weight:bolder}.paginator[_ngcontent-%COMP%]{margin:0 auto 2%}.name[_ngcontent-%COMP%]{color:#000;font-weight:400}.actions[_ngcontent-%COMP%]{font-weight:bolder;color:var(--primary-color)}"]}),t})();var ru=n("bA60"),cu=n("cauy"),lu=n("ZFQP"),du=n("WvvJ");function uu(t,e){if(1&t&&(c.Xb(0,"tr"),c.Xb(1,"td"),c.Xc(2),c.Wb(),c.Xb(3,"td"),c.Xc(4),c.Wb(),c.Wb()),2&t){const t=e.$implicit,n=c.ic();c.Db(2),c.Yc(t),c.Db(2),c.Yc(n.parameters[t])}}let pu=(()=>{class t{constructor(t,e,n,i){this._notificationsService=t,this._route=e,this._modalService=n,this._modalRef=i}ngOnInit(){try{this.parameters=JSON.parse(this.actionItem.vitalContext.parameters)}catch(t){this._notificationsService.error("Vitals","Invalid Data Encountered!"),this.closeDialog()}this.parameters||(this._notificationsService.error("Vitals","No Data Available!"),this.closeDialog()),this.parameterKeys=Object.keys(this.parameters),this.careplanId=this._route.snapshot.queryParams.careplanId}viewGraph(){this.closeDialog(),this._modalService.create({nzContent:du.a,nzComponentParams:{vitalType:this.actionItem.vitalContext.vitalType,patientId:this.patientId,patientName:this.patientName},nzBodyStyle:{background:"#EFF2F0 0% 0% no-repeat padding-box"},nzWidth:window.innerWidth-.2*window.innerWidth,nzClosable:!1,nzFooter:null})}closeDialog(){this._modalRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(V.b),c.Rb(d.a),c.Rb(k.f),c.Rb(k.e))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-vital-parameters"]],inputs:{actionItem:"actionItem",patientId:"patientId",patientName:"patientName"},decls:16,vars:10,consts:[["nzTemplateMode","true"],["id","head"],["id","value"],[4,"ngFor","ngForOf"],[1,"right-aligner"],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){1&t&&(c.Xb(0,"nz-table",0),c.Xb(1,"thead"),c.Xb(2,"tr"),c.Xb(3,"th",1),c.Xc(4),c.jc(5,"translate"),c.Wb(),c.Xb(6,"th",2),c.Xc(7),c.jc(8,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"tbody"),c.Vc(10,uu,5,2,"tr",3),c.Wb(),c.Wb(),c.Sb(11,"br"),c.Xb(12,"div",4),c.Xb(13,"button",5),c.ec("click",function(){return e.viewGraph()}),c.Xc(14),c.jc(15,"translate"),c.Wb(),c.Wb()),2&t&&(c.Db(4),c.Zc("",c.kc(5,4,"VITAL")," "),c.Db(3),c.Yc(c.kc(8,6,"COMMON.VALUE")),c.Db(3),c.rc("ngForOf",e.parameterKeys),c.Db(4),c.Zc(" ",c.kc(15,8,"COMMON.VITAL_HISTORY_GRAPH")," "))},directives:[$.f,$.n,$.o,$.e,$.l,$.i,h.p,B.a,j.a,G.a],pipes:[Z.a],styles:[".right-aligner[_ngcontent-%COMP%]{text-align:right}"]}),t})();function hu(t,e){if(1&t&&(c.Xb(0,"nz-table",4),c.Xb(1,"thead"),c.Xb(2,"tr"),c.Xb(3,"th"),c.Xc(4),c.jc(5,"translate"),c.Wb(),c.Xb(6,"th"),c.Xc(7),c.jc(8,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"tbody"),c.Xb(10,"tr"),c.Xb(11,"td"),c.Xc(12),c.Wb(),c.Xb(13,"td"),c.Xc(14),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.ic();c.Db(4),c.Zc("",c.kc(5,4,"SCORE")," "),c.Db(3),c.Yc(c.kc(8,6,"COMMON.RISK")),c.Db(5),c.Yc(t.score),c.Db(2),c.Yc(t.risk||"NONE")}}let bu=(()=>{class t{constructor(t,e,n,i){this._notificationsService=t,this._modalRef=e,this.translationService=n,this.router=i}ngOnInit(){this.score||this.risk||this.formId||this.title||(this.translationService.get("ERROR.NO_DATA_AVAILABLE").subscribe(t=>{this._notificationsService.error("Form",t)}),this.closeDialog())}viewForms(){this.closeDialog(),this.router.navigateByUrl("/form/evalforms/view/"+this.formId)}closeDialog(){this._modalRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(V.b),c.Rb(k.e),c.Rb(Lt.a),c.Rb(d.g))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-form-popup"]],inputs:{score:"score",risk:"risk",formId:"formId",title:"title"},decls:9,vars:5,consts:[[1,"right-aligner"],[2,"float","left"],["nzTemplateMode","true",4,"ngIf"],["nz-button","","nzType","primary",3,"click"],["nzTemplateMode","true"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"label",1),c.Xc(2),c.Wb(),c.Wb(),c.Vc(3,hu,15,8,"nz-table",2),c.Sb(4,"br"),c.Xb(5,"div",0),c.Xb(6,"button",3),c.ec("click",function(){return e.viewForms()}),c.Xc(7),c.jc(8,"translate"),c.Wb(),c.Wb()),2&t&&(c.Db(2),c.Yc(e.title),c.Db(1),c.rc("ngIf",null!==e.score),c.Db(4),c.Zc(" ",c.kc(8,3,"COMMON.VIEW_FORM"),""))},directives:[h.q,B.a,j.a,G.a,$.f,$.n,$.o,$.e,$.l,$.i],pipes:[Z.a],styles:[".right-aligner[_ngcontent-%COMP%]{text-align:right}"]}),t})();var gu=n("PScX");const mu=["*"];let fu=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["app-card-table"]],ngContentSelectors:mu,decls:3,vars:0,template:function(t,e){1&t&&(c.qc(),c.Xb(0,"nz-card"),c.Xb(1,"table"),c.pc(2),c.Wb(),c.Wb())},directives:[lt.a],styles:["table[_ngcontent-%COMP%]{table-layout:fixed;width:100%;border-collapse:collapse}[_nghost-%COMP%]     thead td{font-family:Lato,sans-serif;font-weight:700;font-size:12px;padding-top:14px;padding-bottom:14px;color:#999}[_nghost-%COMP%]     td{width:50%;padding-bottom:10px;padding-top:10px}[_nghost-%COMP%]     tr{border-bottom:1px solid #ddd}[_nghost-%COMP%]     tbody tr:last-child{border-bottom:none}"]}),t})();function vu(t,e){if(1&t&&c.Sb(0,"app-header",7),2&t){const t=c.ic();c.uc("prefix","",null==t.user?null:t.user.firstName," ",null==t.user?null:t.user.lastName,"'s"),c.rc("isSearchEnabled",!1)("isActionEnabled",!1)}}function Su(t,e){1&t&&(c.Xb(0,"div",8),c.Sb(1,"nz-spin",9),c.Wb()),2&t&&(c.Db(1),c.rc("nzSize","large"))}function Tu(t,e){1&t&&c.Sb(0,"nz-empty",10)}function Cu(t,e){if(1&t&&(c.Xb(0,"div"),c.Xb(1,"div"),c.Xc(2),c.Wb(),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(2),c.Yc(t.title.length>18?t.title.substring(0,18).concat("..."):t.title)}}function Eu(t,e){if(1&t&&(c.Xb(0,"div"),c.Xc(1),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(1),c.Zc(" ",t.title.length>18?t.title.substring(0,18).concat("..."):t.title," ")}}function Iu(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-icons",21),c.ec("click",function(){c.Lc(t);const e=c.ic(2).$implicit;return c.ic(3).showVitalParameters(e)}),c.jc(1,"translate"),c.Wb()}2&t&&c.sc("nzTitle",c.kc(1,1,"ACTION_ITEM.VIEW_VITAL_PARAMETERS"))}function Mu(t,e){if(1&t){const t=c.Yb();c.Xb(0,"app-icons",21),c.ec("click",function(){c.Lc(t);const e=c.ic(2).$implicit,n=c.ic(3),i=c.Ic(5);return n.showFormModal(e,i)}),c.jc(1,"translate"),c.Wb()}2&t&&c.sc("nzTitle",c.kc(1,1,"ACTION_ITEM.FORM_SUBMISSION"))}function yu(t,e){if(1&t&&(c.Xb(0,"div"),c.Xb(1,"span",19),c.Xc(2,"Yes"),c.Wb(),c.Xc(3," \xa0\xa0 "),c.Vc(4,Iu,2,3,"app-icons",20),c.Vc(5,Mu,2,3,"app-icons",20),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(4),c.rc("ngIf","VITAL"===t.contextType),c.Db(1),c.rc("ngIf","SCORED_ASSESSMENT"===t.entityType&&("FORM"===t.type||"WEB_FORM"===t.type))}}function Au(t,e){1&t&&(c.Xb(0,"span",22),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Yc(c.kc(2,1,"COMMON.NO")))}function _u(t,e){if(1&t){const t=c.Yb();c.Xb(0,"tr"),c.Xb(1,"td",14),c.Vc(2,Cu,3,1,"div",15),c.Vc(3,Eu,2,1,"div",15),c.Wb(),c.Xb(4,"td"),c.Xc(5),c.jc(6,"translate"),c.Wb(),c.Xb(7,"td"),c.Vc(8,yu,6,2,"div",16),c.Vc(9,Au,3,3,"ng-template",null,17,c.Wc),c.Wb(),c.Xb(11,"td"),c.Xb(12,"app-icons",18),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic(3).showFeedback(n)}),c.Wb(),c.Wb(),c.Xb(13,"td"),c.Xc(14),c.Wb(),c.Xb(15,"td"),c.Xc(16),c.jc(17,"date"),c.jc(18,"date"),c.Wb(),c.Wb()}if(2&t){const t=e.$implicit,n=c.Ic(10);c.Db(1),c.sc("title",t.title),c.Db(1),c.rc("ngIf","FORM"==t.type||"WEB_FORM"==t.type),c.Db(1),c.rc("ngIf","FORM"!=t.type&&"WEB_FORM"!==t.type),c.Db(2),c.Yc(c.kc(6,8,t.type)),c.Db(3),c.rc("ngIf",t.completed)("ngIfElse",n),c.Db(6),c.Yc(t.timeSlot||"N/A"),c.Db(2),c.Zc(" ",null!=t&&t.completedAt?c.lc(17,10,(null==t?null:t.completedAt)+"Z","medium"):null!=t&&t.completedOn?c.lc(18,13,null==t?null:t.completedOn,"medium"):"N/A"," ")}}function Du(t,e){if(1&t&&(c.Xb(0,"tbody"),c.Xb(1,"tr",13),c.Xb(2,"td"),c.Xc(3),c.Wb(),c.Sb(4,"td"),c.Sb(5,"td"),c.Sb(6,"td"),c.Sb(7,"td"),c.Sb(8,"td"),c.Wb(),c.Vc(9,_u,19,16,"tr",6),c.Wb()),2&t){const t=e.$implicit,n=c.ic(2);c.Db(3),c.Yc(t),c.Db(6),c.rc("ngForOf",n.getActionItemByDate(t))}}function zu(t,e){if(1&t&&(c.Xb(0,"div",11),c.Xb(1,"app-card-table",12),c.Xb(2,"thead"),c.Xb(3,"tr"),c.Xb(4,"th"),c.Xc(5),c.jc(6,"translate"),c.Wb(),c.Xb(7,"th"),c.Xc(8),c.jc(9,"translate"),c.Wb(),c.Xb(10,"th"),c.Xc(11),c.jc(12,"translate"),c.Wb(),c.Xb(13,"th"),c.Xc(14),c.jc(15,"translate"),c.Wb(),c.Xb(16,"th"),c.Xc(17),c.jc(18,"translate"),c.Wb(),c.Xb(19,"th"),c.Xc(20),c.jc(21,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Vc(22,Du,10,2,"tbody",6),c.Wb(),c.Wb()),2&t){const t=c.ic();c.Db(5),c.Yc(c.kc(6,7,"TABLEHEADER.NAME")),c.Db(3),c.Yc(c.kc(9,9,"TABLEHEADER.TYPE")),c.Db(3),c.Yc(c.kc(12,11,"TABLEHEADER.COMPLETED")),c.Db(3),c.Yc(c.kc(15,13,"TABLEHEADER.FEEDBACK")),c.Db(3),c.Yc(c.kc(18,15,"ACTION_ITEM.TIME_SLOT")),c.Db(3),c.Yc(c.kc(21,17,"ACTION_ITEM.COMPLETED_AT")),c.Db(2),c.rc("ngForOf",t.dateList)}}function Ou(t,e){if(1&t&&(c.Xb(0,"p"),c.Xc(1),c.Wb(),c.Xb(2,"div",23),c.Xb(3,"div",24),c.Xb(4,"p"),c.Xc(5),c.jc(6,"translate"),c.Wb(),c.Xb(7,"p"),c.Xc(8),c.Wb(),c.Wb(),c.Xb(9,"div",24),c.Xb(10,"p"),c.Xc(11,"Risk Category"),c.Wb(),c.Xb(12,"p"),c.Xc(13),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.ic();c.Db(1),c.Yc(t.formType),c.Db(4),c.Zc(" ",c.kc(6,4,"SCORE")," "),c.Db(3),c.Yc(t.score),c.Db(5),c.Yc(t.risk)}}function Nu(t,e){if(1&t&&(c.Xb(0,"div"),c.Xb(1,"div",25),c.Xc(2),c.Wb(),c.Wb()),2&t){const t=e.$implicit,n=e.index;c.Db(2),c.bd("",n+1,") ",t.label," - ",t.value,"")}}let Pu=(()=>{class t{constructor(t,e,n,i,a,o,s,r){this._actionItemsService=t,this.datePipe=e,this.route=n,this.translateService=i,this._usersService=a,this._modalService=o,this._message=s,this.formService=r,this.actionItems=[],this.dateList=[],this.user=new cu.a,this.feedbackList=[],this.showLoading=!0,this.userId="",this.patientId=null,this.episodeCareplanId=null,this.isActionItemsExists=!0,this.formModal=!1}ngOnInit(){let t;t=null==this.patientId?this.route.snapshot.params.id:this.patientId,this.careplanId=null==this.episodeCareplanId?this.route.snapshot.queryParams.careplanId:this.episodeCareplanId,this._usersService.getUser(t).subscribe(t=>{this.user=t});const e=this.datePipe.transform(Date.now(),"yyyy-MM-dd");this._actionItemsService.getAllActionItemsWithVitalObject(t,this.careplanId,e).subscribe(t=>{this.actionItemMap=new Map,this.actionItems=t,this.actionItems.forEach(t=>{if(this.actionItemMap.get(this.datePipe.transform(t.scheduledAt,"MMM d, y"))){const e=this.actionItemMap.get(this.datePipe.transform(t.scheduledAt,"MMM d, y"));e.push(t),this.actionItemMap.set(this.datePipe.transform(t.scheduledAt,"MMM d, y"),e)}else{const e=[];e.push(t),this.dateList.push(this.datePipe.transform(t.scheduledAt,"MMM d, y")),this.actionItemMap.set(this.datePipe.transform(t.scheduledAt,"MMM d, y"),e)}}),this.showLoading=!1,0<this.actionItems.length&&(this.isActionItemsExists=!0)})}getActionItemByDate(t){return this.actionItemMap.get(t)}showFeedback(t){if(!t.completed)return void this.translateService.get("ERROR.NOFEEDBACK").subscribe(t=>{this._message.info(t)});let e=null,n=!1;if(e=JSON.parse(JSON.stringify(t.parameters)),this.feedbackList=JSON.parse(e).feedBackInput,this.feedbackList||(this.feedbackList=[]),"REVIEW_AND_ADVISE"===t.type&&t.parameters){const e=JSON.parse(t.parameters);Object.keys(e).forEach(t=>{const n=new lu.a;n.label=t,n.value=e[t],this.feedbackList.push(n)})}void 0!==this.feedbackList?(this.feedbackList instanceof Array&&this.feedbackList.forEach(t=>{t.value&&null!=t.value&&(n=!0)}),n?null===this.feedbackList||this.feedbackList.length<=0?this.translateService.get("ERROR.NOFEEDBACK").subscribe(t=>{this._message.info(t)}):this.showModal():this.translateService.get("ERROR.NOFEEDBACK").subscribe(t=>{this._message.info(t)})):this.translateService.get("ERROR.NOFEEDBACK").subscribe(t=>{this._message.info(t)})}showVitalParameters(t){this._modalService.create({nzContent:pu,nzComponentParams:{actionItem:t,patientId:this.user.id,patientName:this.user.firstName+" "+this.user.lastName},nzWidth:"500px",nzFooter:null})}showModal(){this.isVisible=!0}handleOk(){this.isVisible=!1}handleCancel(){this.isVisible=!1}cancelFormModal(){this.formModal=!1}okFormModal(){this.formModal=!1}showFormModal(t,e){this.formService.getSingleEvalFormByActionItemId(t.id).subscribe(t=>{this.score=t.data.evaluatedScore,this.risk=t.data.identifiedRisk,this._modalService.create({nzContent:bu,nzComponentParams:{score:t.data.evaluatedScore,risk:t.data.identifiedRisk,formId:t.data._id,title:t.data.schema.title},nzWidth:"500px",nzFooter:null})})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(ru.a),c.Rb(h.e),c.Rb(d.a),c.Rb(Lt.a),c.Rb(mo.a),c.Rb(k.f),c.Rb(gu.e),c.Rb(On.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-action-items"]],inputs:{patientId:"patientId",episodeCareplanId:"episodeCareplanId"},features:[c.Cb([h.e])],decls:9,vars:9,consts:[["title","action-Items","defaultTitle","Action Items",3,"prefix","isSearchEnabled","isActionEnabled",4,"ngIf"],["class","loader",4,"ngIf"],["style","margin-top: 100px;",4,"ngIf"],["style","padding:20px;",4,"ngIf"],["formContent",""],[3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"ngFor","ngForOf"],["title","action-Items","defaultTitle","Action Items",3,"prefix","isSearchEnabled","isActionEnabled"],[1,"loader"],["nzSimple","","nzTip","Fetching careplan details ...",3,"nzSize"],[2,"margin-top","100px"],[2,"padding","20px"],["id","groups-table",2,"text-align","center"],[2,"background","#e8e8e8"],[3,"title"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["other_content",""],["name","infoCircle",3,"click"],[2,"color","green","font-weight","700"],["nz-tooltip","","name","infoCircle",3,"nzTitle","click",4,"ngIf"],["nz-tooltip","","name","infoCircle",3,"nzTitle","click"],[2,"color","red","font-weight","700"],[2,"width","100%"],[2,"width","50%","float","left"],[2,"display","inline-flex","padding","5px"]],template:function(t,e){1&t&&(c.Vc(0,vu,1,4,"app-header",0),c.Vc(1,Su,2,1,"div",1),c.Vc(2,Tu,1,0,"nz-empty",2),c.Vc(3,zu,23,19,"div",3),c.Vc(4,Ou,14,6,"ng-template",null,4,c.Wc),c.Xb(6,"nz-modal",5),c.ec("nzVisibleChange",function(t){return e.isVisible=t})("nzOnCancel",function(){return e.handleCancel()})("nzOnOk",function(){return e.handleOk()}),c.jc(7,"translate"),c.Vc(8,Nu,3,3,"div",6),c.Wb()),2&t&&(c.rc("ngIf",null==e.patientId&&null==e.episodeCareplanId),c.Db(1),c.rc("ngIf",e.showLoading),c.Db(1),c.rc("ngIf",!e.isActionItemsExists),c.Db(1),c.rc("ngIf",e.isActionItemsExists&&!e.showLoading),c.Db(3),c.sc("nzTitle",c.kc(7,7,"COMMON.FEEDBACKS")),c.rc("nzVisible",e.isVisible),c.Db(2),c.rc("ngForOf",e.feedbackList))},directives:[h.q,k.a,h.p,Hd.a,ye.a,q.b,fu,$.n,$.o,$.e,$.l,$.i,dt.a,Oe.d],pipes:[Z.a,h.e],styles:[".mdl-data-table[_ngcontent-%COMP%]{width:100%;margin-top:40px}.collapse[_ngcontent-%COMP%]   .collapse-section[_ngcontent-%COMP%], .collapseZone[_ngcontent-%COMP%]   .collapseZone-section[_ngcontent-%COMP%]{display:none}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar{width:.3em}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.mdl-dialog[_ngcontent-%COMP%]{max-height:500px}.errorMsg[_ngcontent-%COMP%]{color:red;font-size:8px}.errorMsgOverall[_ngcontent-%COMP%]{color:red;font-size:10px;font-weight:700}.contentpadding[_ngcontent-%COMP%]{padding:30px}.parent[_ngcontent-%COMP%]{margin:auto;display:flex;height:80%;width:80%}.child[_ngcontent-%COMP%]{margin:auto;max-width:100%;padding:40px;max-height:100%}div[_ngcontent-%COMP%]::-webkit-scrollbar{width:.3em}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}  .vertical-center-modal{display:flex;align-items:center;justify-content:center}  .vertical-center-modal .ant-modal{top:0}"]}),t})();class Ru{constructor(){}}function Xu(t,e){if(1&t&&(c.Xb(0,"nz-tag"),c.Xc(1),c.Wb()),2&t){const t=e.$implicit;c.Db(1),c.Yc(t)}}function Lu(t,e){if(1&t){const t=c.Yb();c.Xb(0,"tr"),c.Xb(1,"td"),c.Sb(2,"app-full-name",3),c.Wb(),c.Xb(3,"td"),c.Vc(4,Xu,2,1,"nz-tag",2),c.Wb(),c.Xb(5,"td"),c.Xb(6,"app-icons",4),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic().assignCaretaker(null==n?null:n.id)}),c.jc(7,"translate"),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=e.$implicit;c.Db(2),c.sc("firstName",null==t?null:t.firstName),c.sc("lastName",null==t?null:t.lastName),c.Db(2),c.rc("ngForOf",null==t?null:t.profileTags),c.Db(2),c.sc("nzTooltipTitle",c.kc(7,4,"COMMON.ASSIGNCARETAKER"))}}let wu=(()=>{class t{constructor(t,e,n,i,a){this._modalRef=t,this._usersService=e,this.translationService=n,this._partnerService=i,this._notificationsService=a,this.pageSize=5,this.dataSourceLength=0}ngOnInit(){this._usersService.getUsersTypeLimit("CARE_TAKER",this.pageSize,0).subscribe(t=>{this.caretakers=t.body,this.totalCount=this._partnerService.getTotalCount(t.headers)})}getCaretakerData(t){this._usersService.getUsersTypeLimit("CARE_TAKER",this.pageSize,this.pageSize*t).subscribe(t=>{this.caretakers=t.body})}getCaretakers(t){this.getCaretakerData(t-1)}assignCaretaker(t){const e=new Ru;e.caretakerId=t,e.userId=this.patientId,e.createdOn=(new Date).getTime(),this._usersService.assignCareTaker(e).subscribe(t=>{this.translationService.get("CARETAKERS.ASSIGN_CARETAKER_SUCCESSFUL").subscribe(t=>{this._notificationsService.success("Success",t)}),this.closeDialog(!0)},()=>{this.translationService.get("COMMON.SOMETHING_WENT_WRONG").subscribe(t=>{this._notificationsService.error("Error",t)})})}closeDialog(t){this._modalRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(k.e),c.Rb(mo.a),c.Rb(Lt.a),c.Rb(As.a),c.Rb(V.b))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-assign-caretakers"]],inputs:{patientId:"patientId"},decls:15,vars:14,consts:[[3,"nzData","nzShowPagination","nzFrontPagination","nzTotal","nzPageIndexChange"],["caretakersTable",""],[4,"ngFor","ngForOf"],[3,"firstName","lastName"],["nz-tooltip","","name","check",3,"nzTooltipTitle","click"]],template:function(t,e){if(1&t&&(c.Xb(0,"nz-table",0,1),c.ec("nzPageIndexChange",function(t){return e.getCaretakers(t)}),c.Xb(2,"thead"),c.Xb(3,"tr"),c.Xb(4,"th"),c.Xc(5),c.jc(6,"translate"),c.Wb(),c.Xb(7,"th"),c.Xc(8),c.jc(9,"translate"),c.Wb(),c.Xb(10,"th"),c.Xc(11),c.jc(12,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(13,"tbody"),c.Vc(14,Lu,8,6,"tr",2),c.Wb(),c.Wb()),2&t){const t=c.Ic(1);c.rc("nzData",e.caretakers)("nzShowPagination",!0)("nzFrontPagination",!1)("nzTotal",e.totalCount),c.Db(5),c.Yc(c.kc(6,8,"TITLE.CARETAKERS")),c.Db(3),c.Yc(c.kc(9,10,"COMMON.PROFILETAG")),c.Db(3),c.Yc(c.kc(12,12,"TABLEHEADER.ACTIONS")),c.Db(3),c.rc("ngForOf",null==t?null:t.data)}},directives:[$.f,$.n,$.o,$.e,$.l,$.i,h.p,Bt.a,dt.a,Oe.d,Wn.a],pipes:[Z.a],styles:[".close[_ngcontent-%COMP%]{float:right}"]}),t})();function Wu(t,e){if(1&t&&(c.Xb(0,"nz-tag"),c.Xc(1),c.Wb()),2&t){const t=e.$implicit;c.Db(1),c.Yc(t)}}function ku(t,e){if(1&t){const t=c.Yb();c.Xb(0,"tr"),c.Xb(1,"td"),c.Sb(2,"app-full-name",5),c.Wb(),c.Xb(3,"td"),c.Vc(4,Wu,2,1,"nz-tag",4),c.Wb(),c.Xb(5,"td"),c.Xb(6,"app-icons",6),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic().assignCaretakers(n.id)}),c.jc(7,"translate"),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=e.$implicit;c.Db(2),c.sc("firstName",t.firstName),c.sc("lastName",t.lastName),c.Db(2),c.rc("ngForOf",t.profileTags),c.Db(2),c.sc("nzTooltipTitle",c.kc(7,4,"CARETAKERS.VIEWALL"))}}let Vu=(()=>{class t extends zs.a{constructor(t,e,n){super(),this._location=t,this._patientsService=e,this._modalService=n,this.patients=[],this.pageSize=st.g.pageSize}ngOnInit(){this.getPatientsWithoutCaretakers()}getPatientsWithoutCaretakers(){this._patientsService.fetchPatientsWithoutCaretakers().subscribe(t=>{this.patients=t})}assignCaretakers(t){this._modalService.create({nzContent:wu,nzComponentParams:{patientId:t},nzWidth:"900px"}).afterClose.subscribe(t=>{null!=t&&this.ngOnInit()})}goBack(){this._location.back()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(h.l),c.Rb(W.a),c.Rb(k.f))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-patients-without-caretakers"]],features:[c.Ab],decls:18,vars:16,consts:[["title","patients",3,"defaultTitle","isSearchEnabled","isActionEnabled"],[1,"container"],[3,"nzData"],["patientsWithoutCaretakersTable",""],[4,"ngFor","ngForOf"],[3,"firstName","lastName"],["nz-tooltip","","name","logout",3,"nzTooltipTitle","click"]],template:function(t,e){if(1&t&&(c.Sb(0,"app-header",0),c.jc(1,"translate"),c.Xb(2,"div",1),c.Xb(3,"nz-table",2,3),c.Xb(5,"thead"),c.Xb(6,"tr"),c.Xb(7,"th"),c.Xc(8),c.jc(9,"translate"),c.Wb(),c.Xb(10,"th"),c.Xc(11),c.jc(12,"translate"),c.Wb(),c.Xb(13,"th"),c.Xc(14),c.jc(15,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(16,"tbody"),c.Vc(17,ku,8,6,"tr",4),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.Ic(4);c.sc("defaultTitle",c.kc(1,8,"COMMON.RESIDENTSWITHOUTCARETAKERS")),c.rc("isSearchEnabled",!1)("isActionEnabled",!1),c.Db(3),c.rc("nzData",e.patients),c.Db(5),c.Yc(c.kc(9,10,"HEADER.PATIENTS")),c.Db(3),c.Yc(c.kc(12,12,"COMMON.PROFILETAG")),c.Db(3),c.Yc(c.kc(15,14,"TABLEHEADER.ACTIONS")),c.Db(3),c.rc("ngForOf",t.data)}},directives:[Hd.a,$.f,$.n,$.o,$.e,$.l,$.i,h.p,Bt.a,dt.a,Oe.d,Wn.a],pipes:[Z.a],styles:[""]}),t})();class xu{constructor(){}}class Uu{constructor(){}}function Fu(t,e){if(1&t){const t=c.Yb();c.Xb(0,"tr"),c.Xb(1,"td",3),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic().showActionItems(null==n?null:n.id)}),c.Xc(2),c.Wb(),c.Xb(3,"td",4),c.Xc(4),c.jc(5,"translate"),c.Wb(),c.Xb(6,"td",4),c.Xc(7),c.jc(8,"lowercase"),c.Wb(),c.Xb(9,"td",5),c.Xb(10,"app-icons",6),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic().showActionItems(null==n?null:n.id)}),c.Wb(),c.Sb(11,"nz-divider",7),c.Xb(12,"span",8),c.ec("nzOnConfirm",function(){c.Lc(t);const n=e.$implicit,i=c.ic();return i.confirmDelete(i.careplan.careplanMap[null==n?null:n.id],null==n?null:n.id)}),c.jc(13,"translate"),c.Sb(14,"app-icons",9),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=e.$implicit;c.Db(2),c.ad("",null==t?null:t.firstName," ",null==t?null:t.lastName,""),c.Db(2),c.ad("",null==t?null:t.age," ",c.kc(5,6,"COMMON.YEARS"),""),c.Db(3),c.Yc(c.kc(8,8,null==t?null:t.gender)),c.Db(5),c.sc("nzPopconfirmTitle",c.kc(13,10,"MESSAGE.DELETEMSG"))}}let Hu=(()=>{class t{constructor(t,e,n,i){this._regimeService=t,this._router=e,this.dataSharingService=n,this._notificationsService=i}ngOnInit(){this.dataSharingService.careplanDetails.subscribe(t=>{this.careplan=t;const e=new xu;e.fieldInputs=new Uu,e.fieldInputs.fieldComponent=[]})}showActionItems(t){this._router.navigate(["careplanassignments/patient/"+t+"/actionitems"],{queryParams:{careplanId:this.careplan.careplanMap[t]}})}deleteCareplanUser(t,e){this._regimeService.deleteCareplan(t,e).subscribe(()=>{this._notificationsService.success("Careplan user","User Removed Successfully!"),this.careplan.users.length||this.goBack()})}confirmDelete(t,e){this.careplan.users.forEach((t,n)=>{t.id===e&&this.careplan.users.splice(n,1)}),this.deleteCareplanUser(t,e)}goBack(){this._router.navigate(["cplanassignments"])}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(gd.a),c.Rb(d.g),c.Rb(C.a),c.Rb(V.b))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-cplan-details"]],decls:17,vars:16,consts:[["title","courses",3,"defaultTitle","isSearchEnabled","isActionEnabled"],[2,"padding","20px"],[4,"ngFor","ngForOf"],[1,"name","data",3,"click"],[1,"data"],[1,"actions","data"],["name","infoCircle",3,"click"],["nzType","vertical"],["nz-popconfirm","",3,"nzPopconfirmTitle","nzOnConfirm"],["name","delete",1,"clickable"]],template:function(t,e){1&t&&(c.Sb(0,"app-header",0),c.Xb(1,"div",1),c.Xb(2,"app-card-table"),c.Xb(3,"tr"),c.Xb(4,"th"),c.Xc(5),c.jc(6,"translate"),c.Wb(),c.Xb(7,"th"),c.Xc(8),c.jc(9,"translate"),c.Wb(),c.Xb(10,"th"),c.Xc(11),c.jc(12,"translate"),c.Wb(),c.Xb(13,"th"),c.Xc(14),c.jc(15,"translate"),c.Wb(),c.Wb(),c.Vc(16,Fu,15,12,"tr",2),c.Wb(),c.Wb()),2&t&&(c.sc("defaultTitle",null==e.careplan?null:e.careplan.careplanName),c.rc("isSearchEnabled",!1)("isActionEnabled",!1),c.Db(5),c.Yc(c.kc(6,8,"TABLEHEADER.NAME")),c.Db(3),c.Yc(c.kc(9,10,"TABLEHEADER.AGE")),c.Db(3),c.Yc(c.kc(12,12,"TABLEHEADER.GENDER")),c.Db(3),c.Yc(c.kc(15,14,"TABLEHEADER.ACTIONS")),c.Db(2),c.rc("ngForOf",null==e.careplan?null:e.careplan.users))},directives:[Hd.a,fu,$.o,$.e,$.l,h.p,dt.a,U.a,vd.a],pipes:[Z.a,h.n],styles:[""]}),t})();var Bu=n("bA1+"),ju=n("WIjQ"),Gu=n("G6Tw"),Yu=n("kRoH");class $u{}var qu=n("ds6q");n("DfQf");const Zu=["appointmentDetails"],Qu=["modalContent"];function Ku(t,e){if(1&t){const t=c.Yb();c.Xb(0,"mwl-calendar-month-view",13),c.ec("dayClicked",function(e){return c.Lc(t),c.ic().dayClicked(e.day)})("eventClicked",function(e){return c.Lc(t),c.ic().eventClicked(e)})("eventTimesChanged",function(e){return c.Lc(t),c.ic().eventTimesChanged(e)}),c.Wb()}if(2&t){const t=c.ic();c.rc("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("activeDayIsOpen",t.activeDayIsOpen)}}function Ju(t,e){if(1&t){const t=c.Yb();c.Xb(0,"mwl-calendar-week-view",14),c.ec("eventClicked",function(e){return c.Lc(t),c.ic().eventClicked(e)})("eventTimesChanged",function(e){return c.Lc(t),c.ic().eventTimesChanged(e)}),c.Wb()}if(2&t){const t=c.ic();c.rc("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)}}function tp(t,e){if(1&t){const t=c.Yb();c.Xb(0,"mwl-calendar-day-view",14),c.ec("eventClicked",function(e){return c.Lc(t),c.ic().eventClicked(e)})("eventTimesChanged",function(e){return c.Lc(t),c.ic().eventTimesChanged(e)}),c.Wb()}if(2&t){const t=c.ic();c.rc("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)}}const ep={red:{primary:"#F02311",secondary:"#FF6B6B"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"},green:{primary:"#CCFF00",secondary:"#C3FF68"}};let np=(()=>{class t{constructor(t,e,n,i,a,o){this.appointmentService=t,this._chatService=e,this.dataSharingService=n,this.chatService=i,this.message=a,this._router=o,this.upcomingAppointments=new Array,this.completedAppointments=new Array,this.unattendedAppointments=new Array,this.visible=!1,this.view=Yu.d.Month,this.CalendarView=Yu.d,this.viewDate=new Date,this.actions=[{label:" Chat",onClick:({event:t})=>{this.launchChatWindow(t)}}],this.refresh=new qu.Subject,this.events=[],this.activeDayIsOpen=!1}ngOnInit(){this.getCompletedAppointments(),this.getUnattendedAppointments(),this.getUpcomingAppointments()}launchChatWindow(t){const e=this.message.loading("Loading chat....",{nzDuration:0}).messageId;this.appointmentService.fetchAppointmentDetailsById(t.id).subscribe(t=>{this.chatService.getChatSession(t.appointment.chatSessionId).subscribe(t=>{this.dataSharingService.chatTrigger.next(t),this.message.remove(e)})})}dayClicked({date:t,events:e}){Object(ju.a)(t,this.viewDate)&&(this.viewDate=t,this.activeDayIsOpen=!(Object(Gu.a)(this.viewDate,t)&&!0===this.activeDayIsOpen||0===e.length))}eventClicked(t){this.visible=!0,this._router.navigate(["appointments/details/",t.event.id])}eventTimesChanged({event:t,newStart:e,newEnd:n}){t.start=e,t.end=n,this.handleEvent("Dropped or resized",t),this.refresh.next()}handleEvent(t,e){"Chat"===t&&new $u,this.modalData={event:e,action:t}}addEvent(){this.events.push({title:"New event",start:Object(y.a)(new Date),end:Object(A.a)(new Date),color:ep.red,draggable:!0,resizable:{beforeStart:!0,afterEnd:!0}}),this.refresh.next()}getUpcomingAppointments(){this.appointmentService.fetchUpcomingAppointments(0).subscribe(t=>{this.upcomingAppointments=t.result,this.upcomingAppointments.forEach(t=>{this.events.push({id:t.id,start:new Date(t.schedule.startDate),end:new Date(t.schedule.startDate+36e5),title:t.attendeeName+" with "+t.attenderName,color:ep.green,actions:this.actions,allDay:!1,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0,meta:{name:t.attendeeName}})}),this.refresh.next()})}getCompletedAppointments(){this.appointmentService.fetchCompletedAppointments(0).subscribe(t=>{this.completedAppointments=t.result,this.completedAppointments.forEach(t=>{this.events.push({id:t.id,start:new Date(t.schedule.startDate),end:new Date(t.schedule.startDate+36e5),title:t.attendeeName+" with "+t.attenderName,color:ep.yellow,actions:this.actions,allDay:!1,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0,meta:{name:t.attendeeName}})}),this.refresh.next()})}getUnattendedAppointments(){this.appointmentService.fetchUnattendedAppointments(0).subscribe(t=>{this.unattendedAppointments=t.result,this.unattendedAppointments.forEach(t=>{this.events.push({id:t.id,start:new Date(t.schedule.startDate),end:new Date(t.schedule.startDate+36e5),title:t.attendeeName+" with "+t.attenderName,color:ep.red,actions:this.actions,allDay:!1,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0,meta:{name:t.attendeeName}})}),this.refresh.next()})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(M.a),c.Rb(fo),c.Rb(C.a),c.Rb(fo),c.Rb(gu.e),c.Rb(d.g))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-calendar"]],viewQuery:function(t,e){if(1&t&&(c.ed(Zu,1),c.ed(Qu,1)),2&t){let t;c.Hc(t=c.fc())&&(e.appointmentComponent=t.first),c.Hc(t=c.fc())&&(e.modalContent=t.first)}},features:[c.Cb([M.a,fo])],decls:28,vars:19,consts:[[3,"defaultTitle","isSearchEnabled","isActionEnabled"],[2,"display","flex","align-items","center","padding","12px","margin-bottom","12px"],[1,"btn-group"],["nz-button","","nzType","primary","mwlCalendarPreviousView","",3,"view","viewDate","viewDateChange"],["nz-button","","nzType","primary","mwlCalendarToday","",3,"viewDate","viewDateChange"],["nz-button","","nzType","primary","mwlCalendarNextView","",3,"view","viewDate","viewDateChange"],[1,"spacer"],["nz-button","","nzType","primary","value","month",3,"click"],["nz-button","","nzType","primary","value","week",3,"click"],["nz-button","","nzType","primary","value","day",3,"click"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged"],[3,"viewDate","events","refresh","eventClicked","eventTimesChanged"]],template:function(t,e){1&t&&(c.Sb(0,"app-header",0),c.jc(1,"translate"),c.Xb(2,"div",1),c.Xb(3,"div",2),c.Xb(4,"nz-button-group"),c.Xb(5,"button",3),c.ec("viewDateChange",function(t){return e.viewDate=t})("viewDateChange",function(){return e.activeDayIsOpen=!1}),c.Xc(6," Previous "),c.Wb(),c.Xb(7,"button",4),c.ec("viewDateChange",function(t){return e.viewDate=t}),c.Xc(8," Today "),c.Wb(),c.Xb(9,"button",5),c.ec("viewDateChange",function(t){return e.viewDate=t})("viewDateChange",function(){return e.activeDayIsOpen=!1}),c.Xc(10," Next "),c.Wb(),c.Wb(),c.Wb(),c.Sb(11,"div",6),c.Xb(12,"h3"),c.Xc(13),c.jc(14,"calendarDate"),c.Wb(),c.Sb(15,"div",6),c.Xb(16,"div"),c.Xb(17,"nz-button-group"),c.Xb(18,"button",7),c.ec("click",function(){return e.view=e.CalendarView.Month}),c.Xc(19," Month "),c.Wb(),c.Xb(20,"button",8),c.ec("click",function(){return e.view=e.CalendarView.Week}),c.Xc(21," Week "),c.Wb(),c.Xb(22,"button",9),c.ec("click",function(){return e.view=e.CalendarView.Day}),c.Xc(23," Day "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(24,"div",10),c.Vc(25,Ku,1,4,"mwl-calendar-month-view",11),c.Vc(26,Ju,1,3,"mwl-calendar-week-view",12),c.Vc(27,tp,1,3,"mwl-calendar-day-view",12),c.Wb()),2&t&&(c.sc("defaultTitle",c.kc(1,13,"COMMON.CALENDER")),c.rc("isSearchEnabled",!1)("isActionEnabled",!1),c.Db(5),c.rc("view",e.view)("viewDate",e.viewDate),c.Db(2),c.rc("viewDate",e.viewDate),c.Db(2),c.rc("view",e.view)("viewDate",e.viewDate),c.Db(4),c.Yc(c.mc(14,15,e.viewDate,e.view+"ViewTitle","en")),c.Db(11),c.rc("ngSwitch",e.view),c.Db(1),c.rc("ngSwitchCase",e.CalendarView.Month),c.Db(1),c.rc("ngSwitchCase",e.CalendarView.Week),c.Db(1),c.rc("ngSwitchCase",e.CalendarView.Day))},directives:[Hd.a,B.b,G.a,B.a,j.a,Yu.g,Yu.i,Yu.h,h.s,h.t,Yu.c,Yu.e,Yu.a],pipes:[Z.a,Yu.j],styles:["[_nghost-%COMP%]{background-color:var(--neutral-color)}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})();var ip=n("mrSG"),ap=n("3h4Y"),op=n("FH+g"),sp=n("1yiY");class rp{}class cp{constructor(){this.audioEnabled=!0,this.videoEnabled=!0,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!1}}var lp=function(t){return t.CALL_CONNECTED="CALL_CONNECTED",t.CALL_REJECTED="CALL_REJECTED",t.PARTICIPANT_ADDED="PARTICIPANT_ADDED",t.PARTICIPANT_WAITING="PARTICIPANT_WAITING",t.PARTICIPANT_JOINED="PARTICIPANT_JOINED",t.CALL_ENDED="CALL_ENDED",t.AUDIO_MUTED="AUDIO_MUTED",t.AUDIO_UNMUTED="AUDIO_UNMUTED",t.VIDEO_PAUSED="VIDEO_PAUSED",t.VIDEO_PLAYED="VIDEO_PLAYED",t.CALL_EXITED="CALL_EXITED",t.MEASURING_VITAL="MEASURING_VITAL",t.VITAL_MEASURED="VITAL_MEASURED",t.SHARE_PARTICIPANT_STATE="SHARE_PARTICIPANT_STATE",t.VITAL_MEASURING_CANCELLED="VITAL_MEASURING_CANCELLED",t.VITAL_MEASURING_ERROR="VITAL_MEASURING_ERROR",t.RINGING="RINGING",t.SHARE_LOCATION="SHARE_LOCATION",t.SHARE_LOCATION_ERROR="SHARE_LOCATION_ERROR",t.OPENED="OPENED",t.CLOSED="CLOSED",t.ERROR="ERROR",t.NETWORK_QUALITY_LOW="NETWORK_QUALITY_LOW",t.NETWORK_QUALITY_MEDIUM="NETWORK_QUALITY_MEDIUM",t.NETWORK_QUALITY_HIGH="NETWORK_QUALITY_HIGH",t.RECONNECTING="RECONNECTING",t.RECONNECTED="RECONNECTED",t}({}),dp=function(t){return t.MUTE="MUTE",t.UNMUTE="UNMUTE",t.ERROR="ERROR",t}({}),up=function(t){return t.PAUSE="PAUSE",t.PLAY="PLAY",t.ERROR="ERROR",t}({});class pp{}class hp{constructor(t,e,n){this.webSocketConnector=new Oo,this.retryCount=0,this.videoUrl=null,this.ws=null,this.showProfile=!1,this.participantStates=new Map,this.observers=[],this.endCall=!1,this.videoCallSession=t,this.userId=e,this.videoUrl=st.g.videoURL+t.id+"/user/"+e,n&&(this.videoUrl=st.g.videoURL+"appointment/"+n+"/user/"+e),console.log("Socket url  :  ",this.videoUrl),this.initVideocallEvent()}registerObserver(t){this.observers.push(t)}removeObserver(t){const e=this.observers.indexOf(t);this.observers.splice(e,1)}initVideocallEvent(){this.videocallEvent=new cp,this.videocallEvent.audioEnabled=!0,this.videocallEvent.videoEnabled=!0,this.videocallEvent.event=lp.PARTICIPANT_JOINED,this.videocallEvent.participantId=this.userId,this.videocallEvent.videocallSessionId=this.videoCallSession.id,this.videocallEvent.startTime=Date.now(),this.videocallEvent.endTime=0}initVideocallSocket(){this.ws=this.webSocketConnector.connect(this.videoUrl),this.ws.onopen=()=>{console.log("Video Connection opened"),this.retryCount=0,this.notifySocketEventObserver(lp.OPENED,"Socket Opened")},this.ws.onmessage=t=>{console.log("on Message received : ",t.data);const e=JSON.parse(t.data);this.handle(e)},this.ws.onclose=()=>{console.log("Videocall Socket Closed"),this.ws=null,this.retryCount<5&&!this.endCall&&(this.retryCount+=1,this.initVideocallSocket(),this.notifySocketEventObserver(lp.RECONNECTED,null)),this.notifySocketEventObserver(lp.CLOSED,"Socket Closed")},this.ws.onerror=t=>{console.log("Videocall Socket Connection Error  : ",t),console.log("Retry count : ",this.retryCount),this.retryCount<5&&(this.retryCount+=1,this.notifySocketEventObserver(lp.CLOSED,"Socket Closed"),this.initVideocallSocket(),this.notifySocketEventObserver(lp.RECONNECTED,null)),this.notifySocketEventObserver(lp.ERROR,"Socket Closed")},this.socketTimerId=setInterval(()=>{null==this.ws||2==this.ws.readyState||3==this.ws.readyState?this.ws=this.webSocketConnector.connect(this.videoUrl):console.log("Socket OK.")},4e3)}notifySocketEventObserver(t,e){for(const n of this.observers)switch(t){case lp.OPENED:n.onSocketConnectionOpened(e);break;case lp.CLOSED:n.onSocketConnectionClosed(e);break;case lp.ERROR:n.onSocketConnectionError(e);break;case lp.RECONNECTED:n.onParticipantReconnected(e)}}closeSocket(){this.webSocketConnector.disconnect()}handle(t){switch(t.event){case lp.AUDIO_MUTED:case lp.AUDIO_UNMUTED:case lp.VIDEO_PAUSED:case lp.VIDEO_PLAYED:case lp.SHARE_PARTICIPANT_STATE:case lp.CALL_REJECTED:case lp.CALL_ENDED:case lp.CALL_EXITED:case lp.RINGING:case lp.RECONNECTING:case lp.CALL_CONNECTED:case lp.PARTICIPANT_WAITING:this.notifyObservers(t.event,t.participantId);break;case lp.MEASURING_VITAL:case lp.VITAL_MEASURING_CANCELLED:case lp.VITAL_MEASURING_ERROR:this.notifyVitalObserver(t.event,t.participantId,null);break;case lp.VITAL_MEASURED:this.notifyVitalObserver(t.event,t.participantId,t.vitalData)}}notifyObservers(t,e){for(const n of this.observers)switch(t){case lp.AUDIO_UNMUTED:n.onUnMute(e);break;case lp.AUDIO_MUTED:n.onMute(e);break;case lp.VIDEO_PAUSED:n.onVideoPaused(e);break;case lp.VIDEO_PLAYED:n.onVideoPlayed(e);break;case lp.RINGING:n.onRinging(e);break;case lp.CALL_ENDED:this.endCall=!0,n.onParticipantCallEnd(e);break;case lp.CALL_EXITED:this.endCall=!0,n.onCallExit(e);break;case lp.PARTICIPANT_ADDED:n.onParticipantAdded(e);break;case lp.PARTICIPANT_WAITING:n.onParticipantWaiting(e);break;case lp.CALL_REJECTED:this.endCall=!0,n.onCallReject(e);break;case lp.RECONNECTED:n.onParticipantReconnected(e);break;default:n.onOther(t,e)}}notifyVitalObserver(t,e,n){for(const i of this.observers)switch(t){case lp.MEASURING_VITAL:i.onMeasuringVital(e);break;case lp.VITAL_MEASURED:i.onVitalMeasuringComplete(n,e);break;case lp.VITAL_MEASURING_CANCELLED:i.onVitalMeasuringCancelled(e);break;case lp.VITAL_MEASURING_ERROR:i.onVitalMeasuringError(e)}}notifyShareObserver(t,e,n){for(const i of this.observers)switch(t){case lp.SHARE_PARTICIPANT_STATE:i.onParticipantShareState(e,n)}}onJoining(){const t=new rp;t.event=lp.PARTICIPANT_JOINED.toString(),this.sendSocketMessage(JSON.stringify(t))}onAudioMute(){this.audioStatusChange(lp.AUDIO_MUTED,dp.MUTE,!1),console.log("Audio Mute : ",this.videocallEvent),this.sendSocketMessage(JSON.stringify(this.videocallEvent))}onVideoPaused(){this.videoStatusChange(lp.VIDEO_PAUSED,up.PAUSE,!1),this.sendSocketMessage(JSON.stringify(this.videocallEvent))}onAudioUnMute(){this.audioStatusChange(lp.AUDIO_UNMUTED,dp.UNMUTE,!0),this.videocallEvent.event=lp.AUDIO_UNMUTED,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}onVideoPlayed(){this.videoStatusChange(lp.VIDEO_PLAYED,up.PLAY,!0),this.sendSocketMessage(JSON.stringify(this.videocallEvent))}onReconnected(){this.videocallEvent.event=lp.SHARE_PARTICIPANT_STATE,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}onReconnecting(){this.videocallEvent.event=lp.RECONNECTING,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}sentParticipantCurrentStatus(){this.videocallEvent.event=lp.SHARE_PARTICIPANT_STATE,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}audioStatusChange(t,e,n){this.videocallEvent.event=t,this.videocallEvent.audioEnabled=n}videoStatusChange(t,e,n){this.videocallEvent.event=t,this.videocallEvent.videoEnabled=n}onVideoCallDisconnect(){this.videocallEvent.event=lp.CALL_EXITED,this.videocallEvent.endTime=Date.now(),this.videocallEvent.message="MESSAGE FROM PORTAL",console.log("HERE INSODE ONDISCONNECT."),console.log("Videocall Event :  ",this.videocallEvent),this.sendSocketMessage(JSON.stringify(this.videocallEvent)),clearTimeout(this.socketTimerId)}onLocationShare(t){const e=new pp;e.latitude=t.latitude,e.longitude=t.longitude,e.accuracy=t.accuracy,this.videocallEvent.event=lp.SHARE_LOCATION,this.videocallEvent.geoLocation=e,this.sendSocketMessage(JSON.stringify(this.videocallEvent)),console.log("Location Shared : - ",e)}onLocationShareError(t){this.videocallEvent.event=lp.SHARE_LOCATION_ERROR;const e=new pp;e.comment=t,this.videocallEvent.geoLocation=e,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}onNetworkQualityChange(t){this.videocallEvent.event=t<2?lp.NETWORK_QUALITY_LOW:2==t||3==t?lp.NETWORK_QUALITY_MEDIUM:lp.NETWORK_QUALITY_HIGH,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}sendSocketMessage(t){null!=this.ws?(console.log("WS : ",this.ws.readyState),1==this.ws.readyState&&this.ws.send(t)):(this.ws=this.webSocketConnector.connect(this.videoUrl),null!=this.ws&&this.ws.send(t))}}class bp{static onNetworkQualityChange(t,e){console.log({1:"\u2583",2:"\u2583\u2584",3:"\u2583\u2584\u2585",4:"\u2583\u2584\u2585\u2586",5:"\u2583\u2584\u2585\u2586\u2587"}[t]||""),e&&console.log("Network Quality statistics:",e);let n="ONE";switch(console.log("Quality Level  :  ",t),t){case 1:n="ONE";break;case 2:n="TWO";break;case 3:n="THREE";break;case 4:n="FOUR";break;case 5:n="FIVE"}return n}static openFullscreen(t,e,n){return t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen(),!0}static closeFullscreen(t,e,n){return n.exitFullscreen?n.exitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.msExitFullscreen&&n.msExitFullscreen(),!1}static playAudio(t){return Object(ip.a)(this,void 0,void 0,function*(){t.src="../../../assets/audio/tunes.mp3",t.load(),t.play(),t.loop=!0,t.volume=.3})}static playReconnectingTone(t){return Object(ip.a)(this,void 0,void 0,function*(){t.src="../../../assets/audio/1614.aac",t.load(),t.play(),t.loop=!0})}static stopAudio(t){t.pause()}}let gp=(()=>{class t{constructor(){this.onlineEvent=Object(ft.a)(window,"online"),this.offlineEvent=Object(ft.a)(window,"offline"),this.refreshEvent=Object(ft.a)(window,"beforeunload")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["app-base"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();var mp=n("xB20");function fp(t,e){if(1&t&&(c.Xb(0,"nz-card"),c.Xb(1,"div",1),c.Xb(2,"strong",9),c.Xc(3),c.jc(4,"translate"),c.Wb(),c.Xb(5,"div",9),c.Xc(6),c.jc(7,"date"),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.ic();c.Db(3),c.Zc(" ",c.kc(4,2,"TABLEHEADER.DOB"),":"),c.Db(3),c.Yc(c.lc(7,4,null==t.patientDetails?null:t.patientDetails.dateOfBirth,"mediumDate")||"N/A")}}function vp(t,e){if(1&t&&(c.Xb(0,"nz-tag",13),c.Xc(1),c.Wb()),2&t){const t=e.$implicit;c.rc("nzColor","green"),c.Db(1),c.Yc(t)}}function Sp(t,e){if(1&t&&(c.Xb(0,"nz-card"),c.Xb(1,"div",1),c.Xb(2,"strong",11),c.Xc(3),c.jc(4,"translate"),c.Wb(),c.Wb(),c.Xb(5,"div",1),c.Xb(6,"div",11),c.Vc(7,vp,2,2,"nz-tag",12),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.ic();c.Db(3),c.Zc("",c.kc(4,2,"COMMON.PROFILETAG"),":"),c.Db(4),c.rc("ngForOf",null==t.patientDetails?null:t.patientDetails.profileTags)}}let Tp=(()=>{class t{constructor(t){this._usersService=t}ngOnInit(){this.getPatientInfo()}getPatientInfo(){this._usersService.getUser(this.patientId).subscribe(t=>{this.patientDetails=t})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(mo.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-user-info"]],inputs:{patientId:"patientId"},decls:67,vars:35,consts:[["id","header"],["nz-row",""],["nz-col","","nzSpan","6"],["id","avatar",3,"nzSize","nzText","nzSrc"],["nz-col","","nzSpan","18"],[3,"nzColumn"],["nz-typography","",1,"font-color"],[1,"font-color"],["nzType","vertical"],["nz-col","","nzSpan","12",1,"font-color"],[4,"ngIf"],["nz-col","","nzSpan","24",1,"font-color"],[3,"nzColor",4,"ngFor","ngForOf"],[3,"nzColor"]],template:function(t,e){1&t&&(c.Xb(0,"nz-card",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Sb(3,"nz-avatar",3),c.jc(4,"uppercase"),c.Wb(),c.Xb(5,"div",4),c.Xb(6,"nz-descriptions",5),c.Xb(7,"nz-descriptions-item"),c.Xb(8,"h2",6),c.Xc(9),c.Wb(),c.Wb(),c.Xb(10,"nz-descriptions-item",7),c.Xb(11,"span",7),c.Xc(12),c.Wb(),c.Sb(13,"nz-divider",8),c.Xb(14,"span",7),c.Xc(15),c.Wb(),c.Wb(),c.Xb(16,"nz-descriptions-item",7),c.Xb(17,"strong",7),c.Xc(18,"D.O.B:"),c.Wb(),c.Xb(19,"span",7),c.Xc(20),c.jc(21,"date"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(22,"br"),c.Xb(23,"nz-card"),c.Xb(24,"div",1),c.Xb(25,"strong",9),c.Xc(26),c.jc(27,"translate"),c.Wb(),c.Xb(28,"div",9),c.Xc(29),c.Wb(),c.Wb(),c.Wb(),c.Sb(30,"br"),c.Xb(31,"nz-card"),c.Xb(32,"div",1),c.Xb(33,"strong",9),c.Xc(34),c.jc(35,"translate"),c.Wb(),c.Xb(36,"div",9),c.Xc(37),c.Wb(),c.Wb(),c.Wb(),c.Sb(38,"br"),c.Xb(39,"nz-card"),c.Xb(40,"div",1),c.Xb(41,"strong",9),c.Xc(42),c.jc(43,"translate"),c.Wb(),c.Xb(44,"div",9),c.Xc(45),c.Wb(),c.Wb(),c.Wb(),c.Sb(46,"br"),c.Vc(47,fp,8,7,"nz-card",10),c.Sb(48,"br"),c.Xb(49,"nz-card"),c.Xb(50,"div",1),c.Xb(51,"strong",9),c.Xc(52),c.jc(53,"translate"),c.Wb(),c.Xb(54,"div",9),c.Xc(55),c.Wb(),c.Wb(),c.Wb(),c.Sb(56,"br"),c.Vc(57,Sp,8,4,"nz-card",10),c.Sb(58,"br"),c.Xb(59,"nz-card"),c.Xb(60,"div",1),c.Xb(61,"strong",11),c.Xc(62),c.jc(63,"translate"),c.Wb(),c.Wb(),c.Xb(64,"div",1),c.Xb(65,"div",11),c.Xc(66),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Db(3),c.sc("nzText",c.kc(4,20,null==e.patientDetails||null==e.patientDetails.fullName?null:e.patientDetails.fullName.charAt(0))),c.rc("nzSize",64)("nzSrc",null==e.patientDetails?null:e.patientDetails.profilePhotoURL),c.Db(3),c.rc("nzColumn",1),c.Db(3),c.Yc(null==e.patientDetails?null:e.patientDetails.fullName),c.Db(3),c.Zc("",null==e.patientDetails?null:e.patientDetails.age," Yrs "),c.Db(3),c.Yc(null==e.patientDetails?null:e.patientDetails.gender),c.Db(5),c.Zc(" ",c.lc(21,22,null==e.patientDetails?null:e.patientDetails.dateOfBirth,"mediumDate"),""),c.Db(6),c.Zc("",c.kc(27,25,"COMMON.E-MAIL"),":"),c.Db(3),c.Yc((null==e.patientDetails?null:e.patientDetails.email)||"N/A"),c.Db(5),c.Zc(" ",c.kc(35,27,"COMMON.USERNAME")," :"),c.Db(3),c.Yc((null==e.patientDetails?null:e.patientDetails.username)||"N/A"),c.Db(5),c.Zc("",c.kc(43,29,"TABLEHEADER.MOBILE"),":"),c.Db(3),c.Yc((null==e.patientDetails?null:e.patientDetails.mobile)||"N/A"),c.Db(2),c.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.dateOfBirth)>0),c.Db(5),c.Zc("",c.kc(53,31,"TABLEHEADER.GENDER"),":"),c.Db(3),c.Yc((null==e.patientDetails?null:e.patientDetails.gender)||"N/A"),c.Db(2),c.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.profileTags)&&(null==e.patientDetails||null==e.patientDetails.profileTags?null:e.patientDetails.profileTags.length)),c.Db(5),c.Zc("",c.kc(63,33,"COMMON.ADDRESS"),":"),c.Db(4),c.Zc(" ",(null==e.patientDetails||null==e.patientDetails.address?null:e.patientDetails.address.line1)||"N/A"," "))},directives:[lt.a,F.c,F.a,tn.a,mp.a,mp.b,x.a,U.a,h.q,h.p,Wn.a],pipes:[h.C,h.e,Z.a],styles:["#header[_ngcontent-%COMP%]{text-align:center;font-family:serif}nz-card[_ngcontent-%COMP%]{border-radius:5px!important}.font-color[_ngcontent-%COMP%]{color:#000}#avatar[_ngcontent-%COMP%]{color:#f56a00;background-color:#fde3cf}[_nghost-%COMP%]     .ant-descriptions-item-label{color:var(--neutral-color)!important}[_nghost-%COMP%]     .ant-descriptions-row>td{padding:0!important}h2[_ngcontent-%COMP%]{margin-bottom:0!important}[_nghost-%COMP%]     .ant-card{background:none}"]}),t})(),Cp=(()=>{class t{}return t.STRINGS=new Array("VIDEOCALL.PATIENT_PROFILE","COMMON.PATIENTINFO","TITLE.VITALS"),t})(),Ep=(()=>{class t{constructor(t,e,n){this._viewContainerRef=t,this._templateRef=e,this._cdRef=n,this.videocallVitals=new Array("Systolic","SYSTOLIC","Diastolic","DIASTOLIC","SPO2","Oxygen Saturation","HEARTRATE","Heart Rate","RESPIRATION","Respiration","Pulse Pressure","PULSE_PRESSURE")}ngAfterViewInit(){const t=this.videocallVitals.find(t=>this.isVitalPresent==t);console.log("isPresent  :  ",t),null==t?this.disableFeature():this.enableFeature()}enableFeature(){this._viewContainerRef.createEmbeddedView(this._templateRef),this._cdRef.detectChanges()}disableFeature(){this._viewContainerRef.clear(),this._cdRef.detectChanges()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(c.R),c.Rb(c.N),c.Rb(c.h))},t.\u0275dir=c.Mb({type:t,selectors:[["","isVitalPresent",""]],inputs:{isVitalPresent:"isVitalPresent"}}),t})();const Ip=["localVideo"],Mp=["remoteVideo"];function yp(t,e){if(1&t&&(c.Xb(0,"span",43),c.Xb(1,"p"),c.Xc(2),c.jc(3,"translate"),c.Wb(),c.Wb()),2&t){const t=c.ic();c.Db(2),c.ad(" ",t.participantNameString," ",c.kc(3,2,"VIDEOCALL.NOT_ANSWERING_THE_CALL")," ")}}function Ap(t,e){1&t&&c.Sb(0,"em",44)}function _p(t,e){1&t&&(c.Xb(0,"p",45),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Yc(c.kc(2,1,"VIDEOCALL.CALLING")))}function Dp(t,e){1&t&&(c.Xb(0,"p",45),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"VIDEOCALL.RINGING"),""))}function zp(t,e){if(1&t&&(c.Xb(0,"p",45),c.Xc(1),c.Wb()),2&t){const t=c.ic();c.Db(1),c.Zc(" Please wait while we connect you to ",t.participantNameString," ")}}function Op(t,e){1&t&&(c.Xb(0,"p",46),c.Sb(1,"nz-spin",47),c.Xc(2),c.jc(3,"translate"),c.Wb()),2&t&&(c.Db(1),c.rc("nzSize","large"),c.Db(1),c.Zc(" ",c.kc(3,2,"VIDEOCALL.RECONNECTING")," "))}function Np(t,e){if(1&t&&(c.Xb(0,"p",46),c.Sb(1,"nz-spin",47),c.Xc(2),c.jc(3,"translate"),c.jc(4,"translate"),c.Wb()),2&t){const t=c.ic();c.Db(1),c.rc("nzSize","large"),c.Db(1),c.bd(" ",c.kc(3,4,"VIDEOCALL.PLEASE_WAIT_WHILE")," ",t.participantNameString," ",c.kc(4,6,"VIDEOCALL.RECONNECT_TO_CALL")," ")}}function Pp(t,e){1&t&&(c.Xb(0,"p",48),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"VIDEOCALL.CALL_RECONNECTED")," "))}function Rp(t,e){if(1&t&&(c.Xb(0,"p",48),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t){const t=c.ic();c.Db(1),c.ad(" ",t.participantNameString," ",c.kc(2,2,"VIDEOCALL.RECONNECTED")," ")}}function Xp(t,e){1&t&&(c.Xb(0,"p",49),c.Sb(1,"app-icons",50),c.Xc(2),c.jc(3,"translate"),c.Wb()),2&t&&(c.Db(2),c.Zc(" ",c.kc(3,1,"VIDEOCALL.CONNECTION_INTERRUPTED")," "))}function Lp(t,e){if(1&t&&(c.Xb(0,"span"),c.Xc(1),c.Wb()),2&t){const t=c.ic();c.Db(1),c.Zc(" ",t.participantNameString," ")}}function wp(t,e){1&t&&(c.Xb(0,"div",51),c.Sb(1,"div",52),c.Sb(2,"div",53),c.Sb(3,"div",54),c.Sb(4,"div",55),c.Sb(5,"div",56),c.Wb())}function Wp(t,e){1&t&&(c.Xb(0,"div",57),c.Sb(1,"div",52),c.Sb(2,"div",53),c.Sb(3,"div",54),c.Sb(4,"div",55),c.Sb(5,"div",56),c.Wb())}function kp(t,e){1&t&&(c.Xb(0,"div",58),c.Sb(1,"div",52),c.Sb(2,"div",53),c.Sb(3,"div",54),c.Sb(4,"div",55),c.Sb(5,"div",56),c.Wb())}function Vp(t,e){1&t&&(c.Xb(0,"div",59),c.Sb(1,"div",52),c.Sb(2,"div",53),c.Sb(3,"div",54),c.Sb(4,"div",55),c.Sb(5,"div",56),c.Wb())}function xp(t,e){1&t&&(c.Xb(0,"div",60),c.Sb(1,"div",52),c.Sb(2,"div",53),c.Sb(3,"div",54),c.Sb(4,"div",55),c.Sb(5,"div",56),c.Wb())}function Up(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",61),c.ec("click",function(){return c.Lc(t),c.ic().show("PATIENT_PROFILE",null)}),c.Xb(1,"a"),c.Xc(2),c.jc(3,"translate"),c.Sb(4,"app-icons",62),c.Wb(),c.Wb()}2&t&&(c.Db(2),c.Zc("",c.kc(3,1,"VIDEOCALL.PATIENT_PROFILE")," \xa0 "))}function Fp(t,e){if(1&t){const t=c.Yb();c.Xb(0,"li",61),c.ec("click",function(){c.Lc(t);const e=c.ic();return e.show("VITALS",e.vitalData)}),c.Xb(1,"a"),c.Xc(2),c.jc(3,"translate"),c.Sb(4,"app-icons",62),c.Wb(),c.Wb()}2&t&&(c.Db(2),c.Zc("",c.kc(3,1,"VIDEOCALL.VITAL_REPORT")," \xa0 "))}function Hp(t,e){if(1&t&&(c.Xb(0,"div",63),c.Sb(1,"em",64),c.Xb(2,"p",65),c.Xc(3),c.jc(4,"translate"),c.Wb(),c.Wb()),2&t){const t=c.ic();c.Db(3),c.ad("",t.participantNameString," ",c.kc(4,2,"VIDEOCALL.CURRENTLY_MEASURING_VITALS"),"")}}function Bp(t,e){if(1&t&&(c.Xb(0,"span",69),c.Xb(1,"em"),c.hc(),c.Xb(2,"svg",70),c.Sb(3,"path",71),c.Wb(),c.Wb(),c.Xc(4),c.jc(5,"translate"),c.Wb()),2&t){const t=c.ic(2);c.Db(4),c.ad(" ",t.participantNameString," ",c.kc(5,2,"VIDEOCALL.VIDEO_PAUSED")," ")}}function jp(t,e){if(1&t&&(c.Xb(0,"span",72),c.Xb(1,"em"),c.hc(),c.Xb(2,"svg",73),c.Sb(3,"path",74),c.Wb(),c.Wb(),c.Xc(4),c.jc(5,"translate"),c.Wb()),2&t){const t=c.ic(2);c.Db(4),c.ad(" ",t.participantNameString," ",c.kc(5,2,"VIDEOCALL.AUDIO_MUTED")," ")}}function Gp(t,e){1&t&&(c.Xb(0,"span",75),c.Sb(1,"app-icons",50),c.Xc(2),c.jc(3,"translate"),c.Wb()),2&t&&(c.Db(2),c.Zc(" ",c.kc(3,1,"VIDEOCALL.SLOW_NETWORK_MESSAGE")," "))}function Yp(t,e){if(1&t&&(c.Xb(0,"div",32),c.Vc(1,Bp,6,4,"span",66),c.Vc(2,jp,6,4,"span",67),c.Vc(3,Gp,4,3,"span",68),c.Wb()),2&t){const t=c.ic();c.Db(1),c.rc("ngIf",!t.isRemoteVideoEnabled),c.Db(1),c.rc("ngIf",!t.isRemoteAudioEnabled),c.Db(1),c.rc("ngIf",t.showBadNetworkMessage)}}function $p(t,e){1&t&&(c.Xb(0,"span",78),c.Xb(1,"em",78),c.hc(),c.Xb(2,"svg",70),c.Sb(3,"path",71),c.Wb(),c.Wb(),c.Xc(4),c.jc(5,"translate"),c.Wb()),2&t&&(c.Db(4),c.Zc(" ",c.kc(5,1,"VIDEOCALL.VIDEO_PAUSED")," "))}function qp(t,e){1&t&&(c.Xb(0,"span",78),c.Xb(1,"em",78),c.hc(),c.Xb(2,"svg",73),c.Sb(3,"path",74),c.Wb(),c.Wb(),c.Xc(4),c.jc(5,"translate"),c.Wb()),2&t&&(c.Db(4),c.Zc(" ",c.kc(5,1,"VIDEOCALL.AUDIO_MUTED")," "))}function Zp(t,e){if(1&t&&(c.Xb(0,"div",23),c.Xb(1,"div",76),c.Vc(2,$p,6,3,"span",77),c.Vc(3,qp,6,3,"span",77),c.Wb(),c.Wb()),2&t){const t=c.ic();c.Db(2),c.rc("ngIf",t.btnCamera),c.Db(1),c.rc("ngIf",t.btnMic)}}function Qp(t,e){1&t&&(c.Xb(0,"em"),c.hc(),c.Xb(1,"svg",70),c.Sb(2,"path",71),c.Wb(),c.Wb())}function Kp(t,e){1&t&&(c.Xb(0,"em"),c.hc(),c.Xb(1,"svg",80),c.Sb(2,"path",81),c.Wb(),c.Wb())}function Jp(t,e){if(1&t){const t=c.Yb();c.Xb(0,"button",79),c.ec("click",function(e){return c.Lc(t),c.ic().pause(e,"video")}),c.Vc(1,Qp,3,0,"em",16),c.Vc(2,Kp,3,0,"em",16),c.Wb()}if(2&t){const t=c.ic();c.Db(1),c.rc("ngIf",t.btnCamera),c.Db(1),c.rc("ngIf",!t.btnCamera)}}function th(t,e){1&t&&(c.Xb(0,"em"),c.hc(),c.Xb(1,"svg",73),c.Sb(2,"path",74),c.Wb(),c.Wb())}function eh(t,e){1&t&&(c.Xb(0,"em"),c.hc(),c.Xb(1,"svg",82),c.Sb(2,"path",83),c.Wb(),c.Wb())}function nh(t,e){if(1&t){const t=c.Yb();c.Xb(0,"button",79),c.ec("click",function(e){return c.Lc(t),c.ic().pause(e,"audio")}),c.Vc(1,th,3,0,"em",16),c.Vc(2,eh,3,0,"em",16),c.Wb()}if(2&t){const t=c.ic();c.Db(1),c.rc("ngIf",t.btnMic),c.Db(1),c.rc("ngIf",!t.btnMic)}}function ih(t,e){1&t&&c.Sb(0,"app-icons",84)}function ah(t,e){1&t&&c.Sb(0,"app-icons",85)}function oh(t,e){if(1&t&&(c.Xb(0,"div"),c.Sb(1,"nz-alert",87),c.jc(2,"translate"),c.jc(3,"translate"),c.Wb()),2&t){const t=c.ic(3);c.Db(1),c.sc("nzMessage",c.kc(2,3,"VIDEOCALL.VITAL_CANCELED")),c.uc("nzDescription","",t.participantNameString," ",c.kc(3,5,"VIDEOCALL.CANCELLED_VITAL_MEASUREMENT"),"")}}function sh(t,e){1&t&&(c.Xb(0,"div"),c.Sb(1,"nz-alert",88),c.jc(2,"translate"),c.jc(3,"translate"),c.Wb()),2&t&&(c.Db(1),c.sc("nzMessage",c.kc(2,2,"COMMON.ERROR")),c.sc("nzDescription",c.kc(3,4,"VIDEOCALL.ERROR_WHILE_MESASURING_VITAL")))}function rh(t,e){1&t&&(c.Xb(0,"p",103),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"VIDEOCALL.LOW_STRESS")," "))}function ch(t,e){1&t&&(c.Xb(0,"p",104),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"VIDEOCALL.NORMAL_STRESS")," "))}function lh(t,e){1&t&&(c.Xb(0,"p",105),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"VIDEOCALL.MILD_STRESS")," "))}function dh(t,e){1&t&&(c.Xb(0,"p",106),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"VIDEOCALL.HIGH_STRESS")," "))}function uh(t,e){1&t&&(c.Xb(0,"p",107),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"VIDEOCALL.VERY_HIGH_STRESS")," "))}function ph(t,e){if(1&t&&(c.Xb(0,"div"),c.Vc(1,rh,3,3,"p",98),c.Vc(2,ch,3,3,"p",99),c.Vc(3,lh,3,3,"p",100),c.Vc(4,dh,3,3,"p",101),c.Vc(5,uh,3,3,"p",102),c.Wb()),2&t){const t=c.ic(3).$implicit,e=c.ic(4);c.Db(1),c.rc("ngIf",e.getNumber(t.value)>=0&&e.getNumber(t.value)<=80),c.Db(1),c.rc("ngIf",e.getNumber(t.value)>80&&e.getNumber(t.value)<=150),c.Db(1),c.rc("ngIf",e.getNumber(t.value)>150&&e.getNumber(t.value)<=400),c.Db(1),c.rc("ngIf",e.getNumber(t.value)>400&&e.getNumber(t.value)<=800),c.Db(1),c.rc("ngIf",e.getNumber(t.value)>800)}}function hh(t,e){if(1&t&&(c.Xb(0,"p",108),c.Xc(1),c.Wb()),2&t){const t=c.ic(3).$implicit;c.Db(1),c.ad("",t.value," ",t.unit,"")}}function bh(t,e){if(1&t&&(c.Vc(0,ph,6,5,"div",16),c.Vc(1,hh,2,2,"p",97)),2&t){const t=c.ic(2).$implicit;c.rc("ngIf","Stress Index"==t.title),c.Db(1),c.rc("ngIf","Stress Index"!=t.title)}}function gh(t,e){if(1&t&&(c.Xb(0,"p",109),c.Xc(1),c.Wb()),2&t){const t=c.ic(2).$implicit;c.Db(1),c.Yc(t.title)}}function mh(t,e){1&t&&(c.Xb(0,"em",112),c.hc(),c.Xb(1,"svg"),c.Xb(2,"g"),c.Xb(3,"g",113),c.Sb(4,"path",114),c.Sb(5,"path",115),c.Sb(6,"path",116),c.Sb(7,"path",117),c.Wb(),c.Wb(),c.Wb(),c.Wb())}function fh(t,e){1&t&&(c.Xb(0,"em",118),c.hc(),c.Xb(1,"svg",119),c.Sb(2,"path",120),c.Wb(),c.Wb())}function vh(t,e){1&t&&(c.Xb(0,"em",118),c.hc(),c.Xb(1,"svg",119),c.Sb(2,"path",121),c.Wb(),c.Wb())}function Sh(t,e){1&t&&(c.Xb(0,"em",118),c.hc(),c.Xb(1,"svg",119),c.Sb(2,"path",122),c.Wb(),c.Wb())}function Th(t,e){if(1&t&&(c.Vc(0,mh,8,0,"em",110),c.Vc(1,fh,3,0,"em",111),c.Vc(2,vh,3,0,"em",111),c.Vc(3,Sh,3,0,"em",111)),2&t){const t=c.ic(2).$implicit;c.rc("ngIf","Stress Index"==t.title),c.Db(1),c.rc("ngIf","Oxygen Saturation"==t.title),c.Db(1),c.rc("ngIf","Heart Rate"==t.title),c.Db(1),c.rc("ngIf","Respiration"==t.title)}}function Ch(t,e){if(1&t&&(c.Xb(0,"div"),c.Xb(1,"nz-card",92),c.Sb(2,"nz-card-meta",93),c.Vc(3,bh,2,2,"ng-template",null,94,c.Wc),c.Vc(5,gh,2,1,"ng-template",null,95,c.Wc),c.Vc(7,Th,4,4,"ng-template",null,96,c.Wc),c.Wb(),c.Wb()),2&t){const t=c.Ic(4),e=c.Ic(6),n=c.Ic(8),i=c.ic(5);c.Db(1),c.rc("nzBordered",!1)("nzHoverable",!0)("nzBodyStyle",i.cardBody),c.Db(1),c.rc("nzAvatar",n)("nzTitle",e)("nzDescription",t)}}function Eh(t,e){if(1&t&&(c.Xb(0,"div"),c.Vc(1,Ch,9,6,"div",91),c.Wb()),2&t){const t=e.$implicit;c.Db(1),c.rc("isVitalPresent",t.title)}}function Ih(t,e){if(1&t&&(c.Xb(0,"div",89),c.Vc(1,Eh,2,1,"div",90),c.Wb()),2&t){const t=c.ic(3);c.Db(1),c.rc("ngForOf",t.vitalData)}}function Mh(t,e){if(1&t&&(c.Xb(0,"div"),c.Vc(1,oh,4,7,"div",16),c.Vc(2,sh,4,6,"div",16),c.Vc(3,Ih,2,1,"div",86),c.Wb()),2&t){const t=c.ic(2);c.Db(1),c.rc("ngIf",t.isVitalMeasuringCancelled),c.Db(1),c.rc("ngIf",t.isVitalMeasuringError),c.Db(1),c.rc("ngIf",t.isVitalMeasuringCompleted)}}function yh(t,e){if(1&t&&c.Vc(0,Mh,4,3,"div",16),2&t){const t=c.ic();c.rc("ngIf","VITALS"==t.type)}}let Ah=(()=>{class t extends gp{constructor(t,e,n,i,a,o,s,r){super(),this.videoCallService=t,this._route=e,this.translationService=n,this.applicationInsightsService=i,this._drawerService=a,this.networkMonitorService=o,this._globalEventsService=s,this.document=r,this.videoCallState="video-call-closed",this.btnActive=!1,this.active=!0,this.participants=new Array,this.audio=new Audio,this.notAnswering=!1,this.answered=!1,this.btnCamera=!1,this.btnMic=!1,this.declined=!1,this.continue=!0,this.videoActive=!1,this.env="prod",this.isVisible=!1,this.type="VITALS",this.isOpen=!0,this.isHeaderVisible=!1,this.visible=!1,this.drawerWidth=400,this.drawerHeight="100%",this.backgroundColor={"background-color":"#fff"},this.cardBody={"background-color":"#33333d","border-radius":"20px",color:"#fff"},this.drawerTitle="Vitals",this.participantNameString="Patient",this.isFullScreen=!1,this.isRemoteVideoEnabled=!0,this.isRemoteAudioEnabled=!0,this.isVitalMeasuringError=!1,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringCancelled=!1,this.vitalData=new Array,this.calling=!0,this.ringing=!1,this.patientAlreadyInRoom=!1,this.showBadNetworkMessage=!1,this.retryCount=0,this.averageQuality=3,this.qualityArray=new Array,this.participantIdMap=new Map,this.reconnected=!1,this.reconnecting=!1,this.participantReconnecting=!1,this.participantReconnected=!1,this.isOffline=!1,this.userVideoPaused=!1,this.properties=new Map,this.clickedEndBtn=!1}beforeunload(t){this.clickedEndBtn?this.disconnect():(t.returnValue=!1,t.preventDefault())}ngOnInit(){this.initTranslation(),this.elem=document.documentElement,this.getDataFromURL(),this.init(),this.qualityTimer(),this.networkState$=this.networkMonitorService.monitor()}initTranslation(){this.translationService.getMultiple(...Cp.STRINGS).subscribe(t=>this.translatedStrings=t)}init(){this.refreshEvent.subscribe(t=>{})}handleAppointmentEvent(){this.appointmentId&&this._globalEventsService.postParentWindowMessage({appointmentId:this.appointmentId,callSessionId:this.videoCallSession.id},"VIDEO_APPOINTMENT")}qualityTimer(){this.timerId=setInterval(()=>{this.qualityArray.length>0&&(this.averageQuality=this.qualityArray.reduce((t,e)=>t+e,0)/this.qualityArray.length,this.trackEnableDisable(this.averageQuality<2));const t=this.qualityArray[this.qualityArray.length-1];this.qualityArray=[],this.qualityArray.push(t)},15e3)}onOnline(){return Object(ip.a)(this,void 0,void 0,function*(){yield this.timeout(3e3),this.connectionStatus="ONLINE"})}ngOnDestroy(){}toggleFullScreen(){this.isFullScreen=this.isFullScreen?bp.closeFullscreen(this.elem,this.isFullScreen,this.document):bp.openFullscreen(this.elem,this.isFullScreen,this.document)}getDataFromURL(){this._route.params.forEach(t=>{this.patientId=t.patientId}),this.properties.set("CALEE",this.patientId),this._route.queryParams.forEach(t=>{this.appointmentId=t.appointmentId,this.appointmentSessionId=t.appointmentSessionId,this.env=t.env,this.region=t.region,"debug"==this.env&&(this.debugEnabled=!0)}),null==this.patientId&&console.error("No patients found"),this.appointmentSessionId?this.initiateAppointment():this.call()}openPatientProfile(){this.drawerWidth=1e3,this.drawerTitle=this.translatedStrings.get("VIDEOCALL.PATIENT_PROFILE"),this.backgroundColor={"background-color":"#00000052"}}open(){this.visible=!0}close(){this.visible=!1}initiateAppointment(){this.userId=localStorage.getItem("loggedInUser"),this.properties.set("CALLER",this.userId),this.videoCallService.getVideoCallSession(this.appointmentSessionId).subscribe(t=>{this.videoCallService.checkVideoSessionStatus(t.id,this.appointmentId).subscribe(e=>{e&&(this.patientAlreadyInRoom=!0),this.initateVideoCall(t),console.log(e)})})}call(){this.userId=localStorage.getItem("loggedInUser"),this.properties.set("CALLER",this.userId);const t=new sp.a;t.createdById=this.userId,t.tenantId=localStorage.getItem("loggedInTenant"),t.participantIds=[this.patientId,this.userId],t.env=this.env,t.region=this.region,this.videoCallService.createVideoCallSessions(t).subscribe(t=>{null==t?this.disconnect():this.initateVideoCall(t)},t=>{this.clickedEndBtn=!0,this.disconnect()})}getLocation(){this.applicationInsightsService.logEvent("Get Location! Insights from Portal!",null,null),navigator.geolocation.getCurrentPosition(t=>{this.videocallSocket.onLocationShare(t.coords)},t=>(this.videocallSocket.onLocationShareError(t.message),console.error("Error fetching geolocation.",t),null),{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})}initateVideoCall(t){this.videoCallState="video-call-full-screen",this.videocallSocket=new hp(t,this.userId,this.appointmentId),this.videocall=this.videocallSocket,this.videocall.registerObserver(this),this.videocallSocket.initVideocallSocket(),this.videoCallSession=t,this.getParticipants(),null!=t&&this.connectToSession(t)}connectToSession(t){const e=localStorage.getItem("loggedInUser");this.videoCallService.getTwilioVideoCallToken(t.id,e).subscribe(e=>{Object(ap.createLocalTracks)({audio:!0,mode:"grid",video:{width:352,frameRate:24},networkQuality:{local:1,remote:2}}).then(n=>(this.videocallSocket.onJoining(),this.localTracks=n,bp.playAudio(this.audio),console.log("Local Tracks : ",n),n.forEach(t=>{this.localVideo.nativeElement.appendChild(t.attach());const e=this.localVideo.nativeElement.getElementsByTagName("VIDEO");for(let n=0;n<e.length;n++)"VIDEO"===e[n].tagName&&(e[n].style.width="240px")}),Object(ap.connect)(e.token,{name:t.id,bandwidthProfile:{video:{mode:"grid",trackSwitchOffMode:"detected",maxSubscriptionBitrate:24e5,dominantSpeakerPriority:"standard",maxTracks:3,renderDimensions:{high:{width:1280,height:720},standard:{width:352,height:288},low:{width:176,height:144}}}},dominantSpeaker:!0,enableTurn:!0,tracks:n,networkQuality:!0}))).then((t,e)=>{this.room=t,this.getLocalTrack("video"),this.patientAlreadyInRoom||this.sleep(),t.localParticipant.setNetworkQualityConfiguration({local:2,remote:1}),t.participants.forEach(t=>{console.log(`Participant "${t.identity}" is connected to the Room`),this.onParticipantConnected(t,e)}),t.localParticipant.on("networkQualityLevelChanged",(t,e)=>this.onNetworkQualityChange(t,e)),t.on("participantConnected",t=>this.onParticipantConnected(t,e)),t.on("participantDisconnected",t=>this.onParticipantDisconnected(t)),t.on("disconnected",(t,e)=>this.onDisconnected(t,e)),t.on("reconnecting",t=>this.onReconnecting(t)),t.on("reconnected",()=>this.onReconnected()),t.on("participantReconnecting",t=>this.onRemoteParticipantReconnecting(t)),t.on("participantReconnected",t=>this.onRemotedParticipantReconnected(t))})})}getLocalTrack(t){let e;return this.localTracks.forEach(n=>{n.kind==t&&(e=n)}),e}onRemoteParticipantReconnecting(t){if(this.answered){try{bp.playReconnectingTone(this.audio)}catch(e){console.error("Play Reconnecting audio error : ",e)}this.participantReconnecting=!0,this.participantReconnected=!1}}onRemotedParticipantReconnected(t){return Object(ip.a)(this,void 0,void 0,function*(){if(this.answered){try{bp.stopAudio(this.audio)}catch(t){console.error("Stop Reconnecting audio error : ",t)}this.participantReconnecting=!1,this.participantReconnected=!0,yield this.timeout(3e3),this.participantReconnected=!1,this.videocallSocket.sentParticipantCurrentStatus()}})}onReconnecting(t){if(this.answered){try{bp.playReconnectingTone(this.audio)}catch(e){console.error("Play Reconnecting audio : ",e)}this.reconnected=!1,this.reconnecting=!0}53001===t.code?console.log("Reconnecting your signaling connection!",t.message):53405===t.code&&console.log("Reconnecting your media connection!",t.message)}onReconnected(){return Object(ip.a)(this,void 0,void 0,function*(){if(this.answered){try{bp.stopAudio(this.audio)}catch(t){console.error("Stop Reconnecting audio : ",t)}this.reconnecting=!1,this.reconnected=!0,this.videocallSocket.sentParticipantCurrentStatus(),yield this.timeout(3e3),this.reconnected=!1}})}onNetworkQualityChange(t,e){console.log("Track Priority level : ",this.room),null!=t&&this.qualityArray.push(t),this.videocallSocket.onNetworkQualityChange(t),this.networkQuality=bp.onNetworkQualityChange(t,e),this.showBadNetworkMessage=t<=2}timeout(t){return new Promise(e=>setTimeout(e,t))}onSocketConnectionOpened(t){this.getLocation(),this.networkState$.subscribe(t=>{console.log("Network State  :  ",t),t.hasNetworkConnection&&this.videocallSocket.sentParticipantCurrentStatus()})}onSocketConnectionClosed(t){console.log("Video call socket closed")}onSocketConnectionError(t){this.applicationInsightsService.handleError(t),console.error("Videocall socket error : ",t)}onImageError(){console.log("HERE")}show(t,e){switch(this.type=t,t){case"VITALS":this.open(),this.showVitals();break;case"PATIENT_PROFILE":this.showUserInfo()}}showUserInfo(){this._drawerService.create({nzTitle:this.translatedStrings.get("COMMON.PATIENTINFO"),nzContent:Tp,nzContentParams:{patientId:this.patientId},nzPlacement:"left",nzWidth:450})}showVitals(){this.drawerWidth=400,this.drawerHeight="500",this.backgroundColor={"background-color":"#080707","text-align":"-webkit-center",height:"100%","padding-left":"0px"},this.cardBody={"background-color":"#33333d","border-radius":"12px",color:"#fff"},this.drawerTitle=this.translatedStrings.get("TITLE.VITALS"),this.type="VITALS"}sleep(){return Object(ip.a)(this,void 0,void 0,function*(){yield this.timeout(3e4),this.notAnswering=!0,yield this.timeout(1e4),this.answered||(this.clickedEndBtn=!0,this.disconnect())})}onParticipantConnected(t,e){this.videocallSocket.sentParticipantCurrentStatus(),this.calling=!1,this.ringing=!1,this.answered=!0,t.on("trackSubscribed",e=>this.trackSubscribed(t,e)),t.on("trackUnsubscribed",t=>this.trackUnsubscribed(t)),t.on("subscriptionFailed",n=>this.subscriptionFailed(e,t)),this.notAnswering=!1,bp.stopAudio(this.audio),this.addParticipant(t),this.btnActive=!0}subscriptionFailed(t,e){console.log("Failed to subscribe to RemoteTrack ${publication.trackSid}:",t)}trackEnableDisable(t){null!=this.localTracks&&0!=this.localTracks.length&&this.localTracks.forEach(e=>{"video"==e.kind&&t?(this.btnCamera=!0,this.videocallSocket.onVideoPaused(),e.disable()):"video"!=e.kind||t||this.userVideoPaused||(this.btnCamera=!1,this.videocallSocket.onVideoPlayed(),e.enable())})}onParticipantDisconnected(t){this.clickedEndBtn=!0,console.log("On Participant Disconnected callback from Twilio!!!"),this.detachParticipantTracks(t),this.disconnect()}onDisconnected(t,e){this.clickedEndBtn=!0,null!=e&&(20104===e.code?console.warn("Signaling reconnection failed due to expired AccessToken!"):53e3===e.code?console.warn("Signaling reconnection attempts exhausted!"):53204===e.code&&console.warn("Signaling reconnection took too long!")),console.log("Disconnect callback from Twilio!!!"),this.localTracks.forEach(t=>{t.stop()}),this.detachParticipantTracks(t.localParticipant),t.participants.forEach(t=>{this.detachParticipantTracks(t)}),this.room=null,this.videoCallState="video-call-closed",this.disconnect()}detachParticipantTracks(t){this.getTracks(t).forEach(t=>{t.detach().forEach(function(t){t.remove()})})}getTracks(t){return Array.from(t.tracks.values()).filter(t=>t.track).map(function(t){return t.track})}addParticipant(t){t.tracks.forEach(t=>{t.isSubscribed&&this.addRemoteTrack(t.track)}),t.on("trackSubscribed",t=>{console.log("Participant track Subscribed!"),this.addRemoteTrack(t)})}trackSubscribed(t,e){t.on("trackUnpublished",t=>this.trackUnpublished(e)),t.on("trackPublished",t=>this.trackPublished(e)),e.on("switchedOff",()=>{console.log(`The RemoteTrack ${e.name} was switched off`)}),e.on("switchedOn",()=>{console.log(`The RemoteTrack ${e.name} was switched on`)})}trackUnsubscribed(t){console.log("Track Unsubscribed!!!",t);const e=document.getElementById("remoteVideo");e.childNodes.forEach(n=>{n.nodeName==t.kind.toUpperCase()&&(console.log("Node Removing : ",n.nodeName),console.log("Track Type : ",t.kind),e.removeChild(n))}),this.videoActive=!1,this.updateRemoteVideosLayout()}trackUnpublished(t){console.log("Track Unpublished!!!",t);const e=document.getElementById("remoteVideo");e.childNodes.forEach(n=>{n.nodeName==t.kind.toUpperCase()&&(console.log("Node Removing : ",n.nodeName),console.log("Track Type : ",t.kind),e.removeChild(n))}),this.videoActive=!1,this.updateRemoteVideosLayout()}trackPublished(t){document.getElementById("remoteVideo"),console.log("Participant track Published!!!!",t),this.isVitalMeasuringInProgress&&(this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!1,this.trackEnableDisable(!1),this.qualityTimer()),this.remoteVideo.nativeElement.appendChild(t.attach()),this.videoActive=!1,this.updateRemoteVideosLayout()}addRemoteTrack(t){t.dimensionsChanged=()=>{},this.remoteVideo.nativeElement.appendChild(t.attach()),this.updateRemoteVideosLayout()}onResize(t){this.updateRemoteVideosLayout()}updateRemoteVideosLayout(){const t=window.innerWidth,e=window.innerHeight,n=this.remoteVideo.nativeElement.getElementsByTagName("VIDEO");if(1===n.length)n[0].style.height=e+"px",n[0].style.width=t+"px";else for(let i=0;i<n.length;i++)2!==n[i].videoHeight?n[i].style.height=e+"px":n[i].style.display="none"}trackEndHandler(t){}disconnect(){this.clickedEndBtn=!0,clearTimeout(this.timerId);try{this.videocallSocket.onVideoCallDisconnect(),this.onCallExit(this.userId)}catch(t){console.error(t),this.onCallExit(this.userId)}}pause(t,e){this.localTracks.forEach(n=>{n.kind==e&&(n.isEnabled?("audio"==e?(this.btnMic=!0,this.videocallSocket.onAudioMute()):(this.userVideoPaused=!0,this.btnCamera=!0,this.videocallSocket.onVideoPaused()),n.disable(),t.target.classList.remove("active"),t.target.classList.add("paused")):("audio"==e?(this.btnMic=!1,this.videocallSocket.onAudioUnMute()):(this.userVideoPaused=!1,this.videocallSocket.onVideoPlayed(),this.btnCamera=!1),n.enable(),t.target.classList.remove("paused"),t.target.classList.add("active")))})}getParticipants(){this.videoCallService.getParticipantDetails(this.videoCallSession.id).subscribe(t=>{this.participants=t.filter(t=>t.id!=this.userId),console.log("Participants : ",this.participants);const e=new Array;this.participants.forEach(t=>{e.push(t.fullName),this.participantIdMap.set(t.id,t)}),console.log("Participants : ",e),this.participantNameString=e.join(", "),console.log("Participants : ",this.participantNameString)})}getNumber(t){return Number(t)}update(t,e){throw new Error("Method not implemented.")}onVideoPlayed(t){this.isRemoteVideoEnabled=!0}onVideoPaused(t){this.isRemoteVideoEnabled=!1}onRinging(t){this.answered||(this.calling=!1,this.ringing=!0)}onMeasuringVital(t){this.isVitalMeasuringInProgress=!0,this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!1,clearTimeout(this.timerId),this.trackEnableDisable(!0),this.close()}onVitalMeasuringComplete(t,e){this.isVitalMeasuringCompleted=!0,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!1,this.vitalData=t,this.trackEnableDisable(!1),this.qualityTimer(),this.show("VITALS",t)}onVitalMeasuringCancelled(t){this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!0,this.isVitalMeasuringError=!1,this.trackEnableDisable(!1),this.qualityTimer(),this.close(),this.show("VITALS",null)}onVitalMeasuringError(t){this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!0,this.close(),this.show("VITALS",null)}onParticipantReconnected(t){this.videocallSocket.onReconnected()}onMute(t){this.isRemoteAudioEnabled=!1}onUnMute(t){this.isRemoteAudioEnabled=!0}onCallReject(t){this.clickedEndBtn=!0,this.close(),console.log("Videocall Event changed(On Call Reject) : ",t),this.disconnect()}onParticipantAdded(t){throw new Error("Method not implemented.")}onParticipantWaiting(t){console.log("waiting"),this.videocallSocket.onJoining()}onCallExit(t){this.clickedEndBtn=!0,null!=this.room&&this.room.disconnect(),this.continue=!1,this.close(),bp.stopAudio(this.audio);try{this.videocallSocket.closeSocket()}catch(e){console.log(e)}this.handleAppointmentEvent(),this.debugEnabled||window.top.close()}onParticipantShareState(t,e){this.close(),this.isRemoteVideoEnabled=e.videoEnabled,this.isRemoteAudioEnabled=e.audioEnabled,null!=e.vitalData&&0!=e.vitalData.length?(this.isVitalMeasuringCompleted=!0,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!1,null!=this.vitalData&&0==this.vitalData.length&&null!=e.vitalData&&e.vitalData.length>0?(this.vitalData=e.vitalData,this.show("VITALS",this.vitalData)):this.vitalData=e.vitalData):null!=e.isVitalMeasuringCancelled&&e.isVitalMeasuringCancelled?(this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!0,this.isVitalMeasuringError=!1):null!=e.isVitalMeasuringError&&e.isVitalMeasuringError&&(this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!0)}onParticipantCallEnd(t){}onOther(t,e){}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(op.a),c.Rb(d.a),c.Rb(Lt.a),c.Rb(Ot.a),c.Rb(cn.d),c.Rb(yt),c.Rb(Ht),c.Rb(h.d))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-twilio-video-call"]],viewQuery:function(t,e){if(1&t&&(c.ed(Ip,1),c.ed(Mp,1)),2&t){let t;c.Hc(t=c.fc())&&(e.localVideo=t.first),c.Hc(t=c.fc())&&(e.remoteVideo=t.first)}},hostBindings:function(t,e){1&t&&c.ec("beforeunload",function(t){return e.beforeunload(t)},!1,c.Kc)("resize",function(t){return e.onResize(t)},!1,c.Kc)},features:[c.Ab],decls:56,vars:35,consts:[[2,"position","fixed",3,"ngClass"],["videoCallContainer",""],["id","remoteVideo",2,"display","flex","flex-grow","1","flex-direction","row","align-items","center","justify-content","center"],["remoteVideo",""],["class","notAnswering",4,"ngIf"],["id","camera-icon","class","Phone is-animating camera-icon scale-up-center",4,"ngIf"],["class","camera-icon calling-text",4,"ngIf"],["class","camera-icon calling-text reconnect-class",4,"ngIf"],["id","reconnected-msg","class","camera-icon calling-text reconnect-class",4,"ngIf"],["style","color: red; font-size: 14px; top: 100px;","class","camera-icon calling-text reconnect-class",4,"ngIf"],[1,"local-video","localVideoContainer"],["localVideo",""],["nz-row","",1,"header"],["nz-col","","nzSpan","2",2,"padding","10px"],["nz-col","","nzSpan","20"],[2,"text-align","center"],[4,"ngIf"],[1,"signal-strength-feedback"],["class","signal-bars mt1 sizing-box good five-bars",4,"ngIf"],["class","signal-bars mt1 sizing-box good four-bars",4,"ngIf"],["class","signal-bars mt1 sizing-box ok three-bars",4,"ngIf"],["class","signal-bars mt1 sizing-box bad two-bars",4,"ngIf"],["class","signal-bars mt1 sizing-box bad one-bar",4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","24",2,"position","absolute"],[1,"social"],[3,"click",4,"ngIf"],["nz-col","","nzSpan","24",2,"position","absolute","top","0px","bottom","0px","width","100%"],["style","height:100%; background-color: #222;",4,"ngIf"],["nz-col","","nzSpan","24",4,"ngIf"],["nz-row","",4,"ngIf"],["nz-row","",1,"controls"],["nz-col","","nzSpan","24"],["nz-button","","nzType","default","class","active","nzShape","circle",3,"click",4,"ngIf"],["nz-button","","nzType","danger","nzShape","circle",1,"btn-disconnect",3,"click"],["color","#ffffff","name","phone"],["nz-row","",2,"position","fixed","bottom","0","right","5%"],["nz-col","","nzSpan","2","nzOffset","22"],["nz-button","","nzType","default","nzShape","circle",1,"btn-fullscreen",3,"click"],["name","fullscreen",4,"ngIf"],["name","fullscreenExit",4,"ngIf"],["nzKeyboard","true","nzPlacement","left",3,"nzClosable","nzContent","nzWidth","nzHeight","nzBodyStyle","nzVisible","nzOnClose"],["contentTemplate",""],[1,"notAnswering"],["id","camera-icon",1,"Phone","is-animating","camera-icon","scale-up-center"],[1,"camera-icon","calling-text"],[1,"camera-icon","calling-text","reconnect-class"],["nzSimple","",3,"nzSize"],["id","reconnected-msg",1,"camera-icon","calling-text","reconnect-class"],[1,"camera-icon","calling-text","reconnect-class",2,"color","red","font-size","14px","top","100px"],["name","wifi"],[1,"signal-bars","mt1","sizing-box","good","five-bars"],[1,"first-bar","bar"],[1,"second-bar","bar"],[1,"third-bar","bar"],[1,"fourth-bar","bar"],[1,"fifth-bar","bar"],[1,"signal-bars","mt1","sizing-box","good","four-bars"],[1,"signal-bars","mt1","sizing-box","ok","three-bars"],[1,"signal-bars","mt1","sizing-box","bad","two-bars"],[1,"signal-bars","mt1","sizing-box","bad","one-bar"],[3,"click"],["size","15px","color","#ffffff","name","file"],[2,"height","100%","background-color","#222"],["alt","Vital Measuring","src","https://portal.uborahealth.com/assets/Gif/scan-face.gif",1,"vital-measuring-animation"],[1,"wait-animation"],["class","on-video-pause",4,"ngIf"],["class","on-mute",4,"ngIf"],["class","on-bad-network",4,"ngIf"],[1,"on-video-pause"],["t","1588538610664","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","7563","width","200","height","200",1,"icon"],["d","M908.373333 630.186667V404.48c0-37.973333-46.08-57.173333-72.96-30.293333l-97.706666 98.133333v-149.333333c0-23.466667-19.2-42.666667-42.666667-42.666667h-239.36l380.16 380.16c26.453333 26.88 72.533333 7.68 72.533333-30.293333zM128 133.546667a42.496 42.496 0 0 0 0 60.16l86.186667 86.613333h-31.146667c-23.466667 0-42.666667 19.2-42.666667 42.666667v426.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h512c8.96 0 16.64-3.413333 23.466667-7.68l105.813333 105.813333a42.496 42.496 0 1 0 60.16-60.16L188.16 133.546667c-8.106667-8.106667-18.773333-12.373333-29.866667-12.373334s-22.186667 4.266667-30.293333 12.373334z","p-id","7564","fill","#d81e06"],[1,"on-mute"],["t","1588538224734","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","6004","width","200","height","200",1,"icon"],["d","M264.557738 540.013761l-57.709709 57.709709q-23.990855-58.879994-23.990855-122.294845l0-73.14285q0-14.847999 10.825142-25.746283t25.746283-10.825142 25.746283 10.825142 10.825142 25.746283l0 73.14285q0 30.28114 8.557713 64.585137zM901.119962 196.022937l-206.262837 206.262837 0 73.14285q0 75.410278-53.686852 129.170273t-129.170273 53.686852q-31.451426 0-62.317708-10.825142l-54.857138 54.857138q55.44228 29.110854 117.174846 29.110854 105.691418 0 180.882268-75.117707t75.117707-180.882268l0-73.14285q0-14.847999 10.825142-25.746283t25.746283-10.825142 25.746283 10.825142 10.825142 25.746283l0 73.14285q0 126.317702-84.260563 219.721122t-208.310837 107.154275l0 75.410278 146.2857 0q14.847999 0 25.746283 10.825142t10.825142 25.746283-10.825142 25.746283-25.746283 10.825142l-365.71425 0q-14.847999 0-25.746283-10.825142t-10.825142-25.746283 10.825142-25.746283 25.746283-10.825142l146.2857 0 0-75.410278q-71.460564-7.460571-134.290273-46.299424l-145.115414 145.115414q-5.705142 5.705142-13.165713 5.705142t-13.165713-5.705142l-46.884567-46.884567q-5.705142-5.705142-5.705142-13.165713t5.705142-13.165713l705.170217-705.170217q5.705142-5.705142 13.165713-5.705142t13.165713 5.705142l46.884567 46.884567q5.705142 5.705142 5.705142 13.165713t-5.705142 13.165713zM684.031983 120.539516l-354.889108 354.889108 0-292.5714q0-75.410278 53.686852-129.170273t129.170273-53.686852q58.294851 0 105.398847 33.718854t66.559994 86.820563z","p-id","6005","fill","#d81e06"],[1,"on-bad-network"],["nz-col","","nzSpan","24",1,"controls-feedback"],["class","paused",4,"ngIf"],[1,"paused"],["nz-button","","nzType","default","nzShape","circle",1,"active",3,"click"],["t","1588538567171","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","7397","width","200","height","200",1,"icon"],["d","M725.333333 448V298.666667c0-23.466667-19.2-42.666667-42.666666-42.666667H170.666667c-23.466667 0-42.666667 19.2-42.666667 42.666667v426.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h512c23.466667 0 42.666667-19.2 42.666666-42.666667v-149.333333l97.706667 97.706667c26.88 26.88 72.96 7.68 72.96-30.293334V380.16c0-37.973333-46.08-57.173333-72.96-30.293333L725.333333 448z","p-id","7398","fill","#1afa29"],["t","1588538052639","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","4494","width","200","height","200",1,"icon"],["d","M841.142857 402.285714v73.142857q0 126.285714-84.285714 219.714286T548.571429 802.285714v75.428572h146.285714q14.857143 0 25.714286 10.857143t10.857142 25.714285-10.857142 25.714286-25.714286 10.857143H329.142857q-14.857143 0-25.714286-10.857143t-10.857142-25.714286 10.857142-25.714285 25.714286-10.857143h146.285714v-75.428572q-124-13.714286-208.285714-107.142857T182.857143 475.428571V402.285714q0-14.857143 10.857143-25.714285t25.714285-10.857143 25.714286 10.857143 10.857143 25.714285v73.142857q0 105.714286 75.142857 180.857143T512 731.428571t180.857143-75.142857T768 475.428571V402.285714q0-14.857143 10.857143-25.714285t25.714286-10.857143 25.714285 10.857143 10.857143 25.714285z m-146.285714-219.428571v292.571428q0 75.428571-53.714286 129.142858t-129.142857 53.714285-129.142857-53.714285-53.714286-129.142858V182.857143q0-75.428571 53.714286-129.142857T512 0t129.142857 53.714286 53.714286 129.142857z","p-id","4495","fill","#1afa29"],["name","fullscreen"],["name","fullscreenExit"],["style","margin: 20px; margin-top: 40px",4,"ngIf"],["nzType","warning","nzShowIcon","",3,"nzMessage","nzDescription"],["nzType","error","nzShowIcon","",3,"nzMessage","nzDescription"],[2,"margin","20px","margin-top","40px"],[4,"ngFor","ngForOf"],[4,"isVitalPresent"],[1,"card-scale-up-center",2,"width","360px","margin-bottom","20px",3,"nzBordered","nzHoverable","nzBodyStyle"],[3,"nzAvatar","nzTitle","nzDescription"],["descriptionTemplate",""],["titleTemplate",""],["avatarTemplate",""],["class","ant-card-meta-description",4,"ngIf"],["class","ant-card-meta-description low",4,"ngIf"],["class","ant-card-meta-description normal",4,"ngIf"],["class","ant-card-meta-description mild",4,"ngIf"],["class","ant-card-meta-description high",4,"ngIf"],["class","ant-card-meta-description very-high",4,"ngIf"],[1,"ant-card-meta-description","low"],[1,"ant-card-meta-description","normal"],[1,"ant-card-meta-description","mild"],[1,"ant-card-meta-description","high"],[1,"ant-card-meta-description","very-high"],[1,"ant-card-meta-description"],[1,"ant-card-meta-title"],["class","vital-icon","style","fill: #16ca22;",4,"ngIf"],["class","vital-icon",4,"ngIf"],[1,"vital-icon",2,"fill","#16ca22"],["transform","translate(0.000000,511.000000) scale(0.100000,-0.100000)"],["d","M3772.4,4970c-48-22-92-44-98-48c-6-8,124-176,274-354.1c26-32,22-38-64-74c-50-22-92-46-92-50c0-6,128-108,284-224c312-236,306-240,104,72l-84,130l78,34l78,34l-186,260c-100,142-188,260-194,260C3866.4,5010,3822.4,4992,3772.4,4970z"],["d","M6022.7,4847.9c-66-92-148-208-186-260l-68-96l72-34c40-18,72-38,72-44c0-6-54-92-118-192c-66-98-116-182-112-186c12-12,550.1,400.1,540.1,414.1c-4,8-44,26-88,42c-46,14-82,34-82,42s68,98,152,200l152,188l-96,44c-54,24-104,44-110,44C6144.7,5012,6086.7,4937.9,6022.7,4847.9z"],["d","M4758.5,4121.8c-206-64-408.1-242-502.1-446.1c-46-100-54-140-54-314.1c0-194,4-208,76-354.1c244-496.1,886.2-602.1,1270.2-208c504.1,512.1,144,1358.2-574.1,1350.2C4902.6,4149.8,4804.5,4137.8,4758.5,4121.8z"],["d","M3542.3,3513.7c-44-20-100-60-126-86c-24-28-218-428.1-428.1-888.1c-330.1-726.1-382.1-852.1-384.1-938.1c-2-218,180-390.1,384.1-364.1c52,8,334.1,80,628.1,164c294,82,538.1,150,544.1,150c8,0,12-560.1,12-1246.2V-941l-462.1-1628.3c-444.1-1570.3-460.1-1636.3-454.1-1784.3c6-132,14-164,66-240c188-270,642.1-260,830.1,20c38,58,146,440.1,448.1,1600.3c220,838.1,402.1,1520.2,404.1,1518.3c4-4,182-680.1,398.1-1504.2c296-1128.2,406.1-1522.2,446.1-1590.3c152-250,544.1-258,784.1-16c84,82,120,170,120,288c0,62-156,622.1-470.1,1694.3L5812.7-979V287.2c0,694.1,4,1264.2,10,1264.2s170-44,366.1-98c880.1-246,872.1-244,990.2-194c78,32,164,122,192,198c58,150,42,198-352.1,1062.2c-204,452.1-394.1,852.1-422.1,890.1c-58,78-184,142-284.1,142c-212,0-404.1-216-372.1-418.1c6-40,98-264,204-498.1c106-234,190-430.1,184-434.1c-4-6-224,54-488.1,130c-784.1,228-896.1,228-1686.3-2c-268-76-490.1-138-492.1-134c-4,4,82,200,190,436.1c108,236,202,458.1,206,494.1c24,148-72,324-214,388.1C3740.4,3561.7,3644.4,3561.7,3542.3,3513.7z M5164.6,2363.5c6-16,4-78-6-136l-16-106l-128-6c-70-4-136,2-144,10c-10,10-24,74-30,142l-14,124h164C5114.6,2391.6,5156.6,2385.6,5164.6,2363.5z M5120.6,2047.5c6-26,32-418.1,60-874.1l50-830.1l-104-110c-58-62-114-114-126-118c-12-4-68,48-126,114l-104,118l54,848.1c28,464.1,56,858.1,60,872.1c4,16,46,24,116,24C5100.6,2091.5,5112.6,2087.5,5120.6,2047.5z"],[1,"vital-icon"],["viewBox","0 0 24 24"],["fill","currentColor","d","M12,20A6,6 0 0,1 6,14C6,10 12,3.25 12,3.25C12,3.25 18,10 18,14A6,6 0 0,1 12,20Z"],["fill","currentColor","d","M7.5,4A5.5,5.5 0 0,0 2,9.5C2,10 2.09,10.5 2.22,11H6.3L7.57,7.63C7.87,6.83 9.05,6.75 9.43,7.63L11.5,13L12.09,11.58C12.22,11.25 12.57,11 13,11H21.78C21.91,10.5 22,10 22,9.5A5.5,5.5 0 0,0 16.5,4C14.64,4 13,4.93 12,6.34C11,4.93 9.36,4 7.5,4V4M3,12.5A1,1 0 0,0 2,13.5A1,1 0 0,0 3,14.5H5.44L11,20C12,20.9 12,20.9 13,20L18.56,14.5H21A1,1 0 0,0 22,13.5A1,1 0 0,0 21,12.5H13.4L12.47,14.8C12.07,15.81 10.92,15.67 10.55,14.83L8.5,9.5L7.54,11.83C7.39,12.21 7.05,12.5 6.6,12.5H3Z"],["fill","currentColor","d","M15.47 3.11C15 2.85 14.37 3.05 14.11 3.54C14.04 3.68 14 3.84 14 4V6.59L13.29 5.88C13.1 5.69 13 5.44 13 5.18V1H11V5.17C11 5.44 10.9 5.69 10.71 5.88L10 6.59V4C10 3.44 9.54 3 9 3C8.83 3 8.67 3.04 8.53 3.11C4.72 5 2 9.97 2 15.77C2 17.67 2.33 19.55 3 21.32C3.19 21.85 3.76 22.13 4.29 21.94C4.34 21.92 4.39 21.9 4.44 21.87L9.5 19.07C9.81 18.9 10 18.56 10 18.19V9.41L11.3 8.12C11.69 7.73 12.32 7.73 12.71 8.12L14 9.42V18.2C14 18.56 14.21 18.9 14.5 19.08L19.58 21.88C20.07 22.14 20.68 21.96 20.94 21.46C20.96 21.42 21 21.37 21 21.32C21.67 19.55 22 17.67 22 15.77C22 9.97 19.29 5 15.47 3.11Z"]],template:function(t,e){if(1&t&&(c.Xb(0,"div",0,1),c.Xb(2,"div",2,3),c.Vc(4,yp,4,4,"span",4),c.Vc(5,Ap,1,0,"em",5),c.Vc(6,_p,3,3,"p",6),c.Vc(7,Dp,3,3,"p",6),c.Vc(8,zp,2,1,"p",6),c.Vc(9,Op,4,4,"p",7),c.Vc(10,Np,5,8,"p",7),c.Vc(11,Pp,3,3,"p",8),c.Vc(12,Rp,3,4,"p",8),c.Vc(13,Xp,4,3,"p",9),c.Wb(),c.Sb(14,"div",10,11),c.Xb(16,"div",12),c.Sb(17,"div",13),c.Xb(18,"div",14),c.Xb(19,"p",15),c.Xc(20),c.jc(21,"translate"),c.Vc(22,Lp,2,1,"span",16),c.Wb(),c.Wb(),c.Xb(23,"div",13),c.Xb(24,"div",17),c.Vc(25,wp,6,0,"div",18),c.Vc(26,Wp,6,0,"div",19),c.Vc(27,kp,6,0,"div",20),c.Vc(28,Vp,6,0,"div",21),c.Vc(29,xp,6,0,"div",22),c.Wb(),c.Wb(),c.Wb(),c.Xb(30,"div",23),c.Xb(31,"div",24),c.Xb(32,"nav",25),c.Xb(33,"ul"),c.Vc(34,Up,5,3,"li",26),c.Vc(35,Fp,5,3,"li",26),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(36,"div",23),c.Xb(37,"div",27),c.Vc(38,Hp,5,4,"div",28),c.Wb(),c.Wb(),c.Xb(39,"div",23),c.Vc(40,Yp,4,3,"div",29),c.Wb(),c.Vc(41,Zp,4,2,"div",30),c.Xb(42,"div",31),c.Xb(43,"div",32),c.Vc(44,Jp,3,2,"button",33),c.Xb(45,"button",34),c.ec("click",function(){return e.disconnect()}),c.Sb(46,"app-icons",35),c.Wb(),c.Vc(47,nh,3,2,"button",33),c.Wb(),c.Wb(),c.Xb(48,"div",36),c.Xb(49,"div",37),c.Xb(50,"button",38),c.ec("click",function(){return e.toggleFullScreen()}),c.Vc(51,ih,1,0,"app-icons",39),c.Vc(52,ah,1,0,"app-icons",40),c.Wb(),c.Wb(),c.Wb(),c.Xb(53,"nz-drawer",41),c.ec("nzOnClose",function(){return e.close()}),c.Wb(),c.Vc(54,yh,1,1,"ng-template",null,42,c.Wc),c.Wb()),2&t){const t=c.Ic(55);c.rc("ngClass",e.videoCallState),c.Db(4),c.rc("ngIf",e.notAnswering&&!e.answered),c.Db(1),c.rc("ngIf",!e.btnActive&&!e.patientAlreadyInRoom),c.Db(1),c.rc("ngIf",e.calling&&!e.patientAlreadyInRoom),c.Db(1),c.rc("ngIf",e.ringing&&!e.patientAlreadyInRoom),c.Db(1),c.rc("ngIf",(e.ringing||e.calling)&&e.patientAlreadyInRoom),c.Db(1),c.rc("ngIf",e.reconnecting),c.Db(1),c.rc("ngIf",e.participantReconnecting),c.Db(1),c.rc("ngIf",e.reconnected),c.Db(1),c.rc("ngIf",e.participantReconnected),c.Db(1),c.rc("ngIf","OFFLINE"==e.connectionStatus),c.Db(7),c.Zc(" ",c.kc(21,33,"VIDEOCALL.PARTICIPANTS")," : "),c.Db(2),c.rc("ngIf","Patient"!=e.participantNameString),c.Db(3),c.rc("ngIf","FIVE"==e.networkQuality),c.Db(1),c.rc("ngIf","FOUR"==e.networkQuality),c.Db(1),c.rc("ngIf","THREE"==e.networkQuality),c.Db(1),c.rc("ngIf","TWO"==e.networkQuality),c.Db(1),c.rc("ngIf","ONE"==e.networkQuality),c.Db(5),c.rc("ngIf",e.btnActive),c.Db(1),c.rc("ngIf",e.isVitalMeasuringCompleted||e.isVitalMeasuringCancelled||e.isVitalMeasuringError),c.Db(3),c.rc("ngIf",e.isVitalMeasuringInProgress),c.Db(2),c.rc("ngIf",e.answered),c.Db(1),c.rc("ngIf",e.btnActive&&(e.btnMic||e.btnCamera)),c.Db(3),c.rc("ngIf",e.btnActive),c.Db(3),c.rc("ngIf",e.btnActive),c.Db(4),c.rc("ngIf",!e.isFullScreen),c.Db(1),c.rc("ngIf",e.isFullScreen),c.Db(1),c.rc("nzClosable",!0)("nzContent",t)("nzWidth",e.drawerWidth)("nzHeight",e.drawerHeight)("nzBodyStyle",e.backgroundColor)("nzVisible",e.visible)}},directives:[h.o,h.q,F.c,F.a,B.a,j.a,G.a,dt.a,cn.a,ye.a,tr.a,h.p,Ep,lt.a,lt.c],pipes:[Z.a],styles:['.request-loader[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;justify-content:center;align-items:center;height:150px;width:150px;border-radius:100%}.request-loader[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;font-size:72px;top:300px;left:-5px}.request-loader[_ngcontent-%COMP%]:after{border:8px solid rgba(151,231,135,.781);border-radius:100%;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(.65,0,.34,1);animation-timing-function:cubic-bezier(.65,0,.34,1)}.request-loader[_ngcontent-%COMP%]:after, .request-loader[_ngcontent-%COMP%]:before{opacity:0;display:flex;flex-direction:row;justify-content:center;align-items:center;position:absolute;right:0;bottom:0;content:"";height:100%;width:100%;-webkit-animation-name:ripple;animation-name:ripple;-webkit-animation-duration:3s;animation-duration:3s;z-index:-1}.request-loader[_ngcontent-%COMP%]:before{border:8px solid rgba(106,219,121,.2);border-radius:100%;-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(.65,0,.34,1);animation-timing-function:cubic-bezier(.65,0,.34,1)}@-webkit-keyframes ripple{0%{opacity:1;transform:scale3d(.75,.75,1)}to{opacity:0;transform:scale3d(1.5,1.5,1)}}@keyframes ripple{0%{opacity:1;transform:scale3d(.75,.75,1)}to{opacity:0;transform:scale3d(1.5,1.5,1)}}video[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover}.video-call-full-screen[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0;position:absolute;background:#344855;z-index:1}.video-call-minimized[_ngcontent-%COMP%]{height:150px;width:200px;bottom:50px;right:50px;position:absolute;background:#3d3d3d;z-index:9999}.video-call-closed[_ngcontent-%COMP%]{display:none;background:#3d3d3d}.ant-btn-circle[_ngcontent-%COMP%], .ant-btn-circle-outline[_ngcontent-%COMP%]{width:50px;height:50px;padding:0;margin:15px;font-size:20px;border-radius:50%}.btn-fullscreen[_ngcontent-%COMP%]{right:20px;color:var(--neutral-color);border:none!important;background:transparent}.ant-card-meta-description[_ngcontent-%COMP%]{color:#ff5917!important;font-size:16px!important;text-align:left}.ant-card-meta-title[_ngcontent-%COMP%]{color:#fff!important;text-align:left}.ant-avatar[_ngcontent-%COMP%]{margin-top:10px;width:50px;height:50px}.stress-icons[_ngcontent-%COMP%]{width:32px;height:32px}.low[_ngcontent-%COMP%]{color:#0f0!important}.normal[_ngcontent-%COMP%]{color:green!important}.mild[_ngcontent-%COMP%]{color:#ff0!important}.high[_ngcontent-%COMP%]{color:#ff5634!important}.very-high[_ngcontent-%COMP%]{color:#c7003a!important}.vital-icon[_ngcontent-%COMP%]{font-size:30px;margin-top:25px;color:#16ca22}.on-mute[_ngcontent-%COMP%]{top:50px}.on-mute[_ngcontent-%COMP%], .on-video-pause[_ngcontent-%COMP%]{padding:15px;border-radius:25px;color:red;background-color:#00000078;position:fixed;right:5px;margin:5px;width:auto;text-align:center;z-index:20}.on-video-pause[_ngcontent-%COMP%]{top:115px}.on-bad-network[_ngcontent-%COMP%]{padding:15px;border-radius:25px;color:#ff8f00;background-color:#00000078;position:fixed;text-align:justify;top:180px;margin:5px;right:5px;width:240px;z-index:20}.reconnect-class[_ngcontent-%COMP%]{z-index:2}svg.icon[_ngcontent-%COMP%]{height:24px;width:24px}.notAnswering[_ngcontent-%COMP%]{padding:15px;border-radius:5px;color:#fd9726;background-color:#000;position:absolute;top:200px;z-index:20}.camera-icon[_ngcontent-%COMP%]{font-size:4em;position:absolute;text-align:center;vertical-align:middle;top:300px}.calling-text[_ngcontent-%COMP%]{font-size:2em;color:var(--neutral-color);top:450px}.camera-icon-layout[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#3d3d3d}.btn-disconnect[_ngcontent-%COMP%]{background-color:#d32f2f!important;color:var(--neutral-color);border:none!important}.controls[_ngcontent-%COMP%]{position:fixed;bottom:0;text-align:center;background:rgba(0,0,0,.59);width:100%}.controls-feedback[_ngcontent-%COMP%]{position:absolute;bottom:100px;text-align:center;width:100%}.signal-strength-feedback[_ngcontent-%COMP%]{position:absolute;text-align:right}.header[_ngcontent-%COMP%]{position:absolute;top:0;text-align:center;height:50px;color:var(--neutral-color);z-index:3;background:rgba(0,0,0,.12);width:100%}.ant-btn-danger[_ngcontent-%COMP%], .ant-btn-default[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.68);border:.5px solid}.paused[_ngcontent-%COMP%]{color:red;margin:5px}.active[_ngcontent-%COMP%], .paused[_ngcontent-%COMP%]{border:none;color:var(--neutral-color)}.local-video[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:90px;z-index:9999}.vital-measuring-animation[_ngcontent-%COMP%]{height:100%;width:100%;max-height:900px;max-width:1500px}[_nghost-%COMP%]     .ant-drawer-header{background:#170b0b36!important}[_nghost-%COMP%]     .ant-drawer-body{padding:0;background-color:#0000!important}[_nghost-%COMP%]     .ant-drawer-content-wrapper{height:500px!important;top:20%!important}[_nghost-%COMP%]     .ant-card{background:none}[_nghost-%COMP%]     .ant-drawer-title{color:var(--neutral-color)!important}[_nghost-%COMP%]     .ant-drawer .ant-drawer-content{background-color:#0000!important}[_nghost-%COMP%]     .ant-drawer-wrapper-body{overflow:hidden}[_nghost-%COMP%]     .ant-card-body{background:linear-gradient(45deg,#051525,#901d1d00)}[_ngcontent-%COMP%]:root, body[_ngcontent-%COMP%]{color:var(--neutral-color);height:100%;overflow:hidden;background:#333641}.wait-animation[_ngcontent-%COMP%]{position:absolute;top:80px;left:34%;margin-top:15px;text-align:center;background:50% 100%/50% 50% no-repeat radial-gradient(ellipse at bottom,#fff,transparent,transparent);-webkit-background-clip:text;background-clip:text;color:transparent;font-size:30px;-webkit-animation:reveal 3s ease-in-out .2s forwards,glow 2.5s linear 2s infinite;animation:reveal 3s ease-in-out .2s forwards,glow 2.5s linear 2s infinite}@-webkit-keyframes reveal{80%{letter-spacing:2px}to{background-size:300% 300%}}@keyframes reveal{80%{letter-spacing:2px}to{background-size:300% 300%}}@-webkit-keyframes glow{40%{text-shadow:0 0 8px var(--neutral-color)}}@keyframes glow{40%{text-shadow:0 0 8px var(--neutral-color)}}.scale-up-center[_ngcontent-%COMP%]{-webkit-animation:scale-up-center 1s ease-in-out 5s infinite alternate-reverse both;animation:scale-up-center 1s ease-in-out 5s infinite alternate-reverse both}.card-scale-up-center[_ngcontent-%COMP%]{-webkit-animation:scale-up-center .4s cubic-bezier(.39,.575,.565,1) both;animation:scale-up-center .4s cubic-bezier(.39,.575,.565,1) both}.sizing-box[_ngcontent-%COMP%]{height:30px;width:50px}.signal-bars[_ngcontent-%COMP%], .signal-bars[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{display:inline-block}.signal-bars[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:14%;margin-left:1%;min-height:20%;border-radius:10px}.signal-bars[_ngcontent-%COMP%]   .bar.first-bar[_ngcontent-%COMP%]{height:20%}.signal-bars[_ngcontent-%COMP%]   .bar.second-bar[_ngcontent-%COMP%]{height:40%}.signal-bars[_ngcontent-%COMP%]   .bar.third-bar[_ngcontent-%COMP%]{height:60%}.signal-bars[_ngcontent-%COMP%]   .bar.fourth-bar[_ngcontent-%COMP%]{height:80%}.signal-bars[_ngcontent-%COMP%]   .bar.fifth-bar[_ngcontent-%COMP%]{height:99%}.good[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background-color:#16a085;border:thin solid #12816b}.bad[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background-color:#e74c3c;border:thin solid #a82315}.ok[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background-color:#f1c40f;border:thin solid #d0a90c}.four-bars[_ngcontent-%COMP%]   .bar.fifth-bar[_ngcontent-%COMP%], .one-bar[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:not(.first-bar), .three-bars[_ngcontent-%COMP%]   .bar.fifth-bar[_ngcontent-%COMP%], .three-bars[_ngcontent-%COMP%]   .bar.fourth-bar[_ngcontent-%COMP%], .two-bars[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:not(.first-bar):not(.second-bar){background-color:#fafafa;border:thin solid #f3f3f3}a[_ngcontent-%COMP%]{color:var(--neutral-color);text-decoration:none}.me[_ngcontent-%COMP%]{width:400px;margin:90px auto}.me[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .me[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:3px;text-align:center}.me[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:200}.me[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.social[_ngcontent-%COMP%]{position:fixed;top:40px;z-index:3}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;transform:translate(-270px)}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;margin:5px;background:var(--neutral-color) 5c;width:325px;text-align:right;padding:10px;border-radius:0 30px 30px 0;transition:all 1s}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translate(110px);background:hsla(0,0%,100%,.4);width:350px}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:var(--neutral-color)}.profile-li[_ngcontent-%COMP%]{background:#3700b3!important}.profile-li[_ngcontent-%COMP%], .vital-li[_ngcontent-%COMP%]{color:var(--neutral-color)!important;height:40px;padding:12px;width:40px;border-radius:50%;margin-left:6px}.vital-li[_ngcontent-%COMP%]{background:#b00020!important}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--neutral-color);background:#3700b3;transform:rotate(1turn);transition:all 1s}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px;color:#000;background:#3700b3;padding:10px;border-radius:50%;width:40px;height:40px;font-size:20px;background:var(--neutral-color);transform:rotate(0deg)}body[_ngcontent-%COMP%]{background:#25343f;color:var(--neutral-color)}.patient-view[_ngcontent-%COMP%], .patient-view[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{text-align:left;font-size:14px}.patient-view[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{width:1200px}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:0;width:100vw;height:100vh;background-color:#ecf0f1}.Phone[_ngcontent-%COMP%]{position:relative;display:block;margin:0;width:1em;height:1em;font-size:15vmin;background-color:var(--primary-color);border-radius:.5em;box-shadow:0 0 0 0 rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2);transform:translateZ(0) scale(1);z-index:10}.Phone[_ngcontent-%COMP%]:after, .Phone[_ngcontent-%COMP%]:before{position:absolute;content:""}.Phone[_ngcontent-%COMP%]:before{top:0;left:0;width:1em;height:1em;background-color:hsla(0,0%,100%,.1);border-radius:100%;opacity:1;transform:translateZ(0) scale(0)}.Phone[_ngcontent-%COMP%]:after{top:.25em;left:.25em;width:.5em;height:.5em;background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTYuNiAxMC44YzEuNCAyLjggMy44IDUuMSA2LjYgNi42bDIuMi0yLjJjLjMtLjMuNy0uNCAxLS4yIDEuMS40IDIuMy42IDMuNi42LjUgMCAxIC40IDEgMVYyMGMwIC41LS41IDEtMSAxLTkuNCAwLTE3LTcuNi0xNy0xNyAwLS42LjQtMSAxLTFoMy41Yy41IDAgMSAuNCAxIDEgMCAxLjIuMiAyLjUuNiAzLjYuMS40IDAgLjctLjIgMWwtMi4zIDIuMnoiIGZpbGw9IiNmZmZmZmYiLz48L3N2Zz4=);background-position:50% 50%;background-repeat:no-repeat;background-size:cover;transform:translateZ(0)}.Phone.is-animating[_ngcontent-%COMP%]{-webkit-animation:phone-outer 3s infinite;animation:phone-outer 3s infinite}.Phone.is-animating[_ngcontent-%COMP%]:before{-webkit-animation:phone-inner 3s infinite;animation:phone-inner 3s infinite}.Phone.is-animating[_ngcontent-%COMP%]:after{-webkit-animation:phone-icon 3s infinite;animation:phone-icon 3s infinite}@-webkit-keyframes phone-outer{0%{transform:translateZ(0) scale(1);box-shadow:0 0 0 0 rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}33.3333%{transform:translateZ(0) scale(1.1);box-shadow:0 0 0 0 rgba(var(--primary-color),.1),0 .05em .1em rgba(0,0,0,.5)}66.6666%{transform:translateZ(0) scale(1);box-shadow:0 0 0 .5em rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}to{transform:translateZ(0) scale(1);box-shadow:0 0 0 0 rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}}@keyframes phone-outer{0%{transform:translateZ(0) scale(1);box-shadow:0 0 0 0 rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}33.3333%{transform:translateZ(0) scale(1.1);box-shadow:0 0 0 0 rgba(var(--primary-color),.1),0 .05em .1em rgba(0,0,0,.5)}66.6666%{transform:translateZ(0) scale(1);box-shadow:0 0 0 .5em rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}to{transform:translateZ(0) scale(1);box-shadow:0 0 0 0 rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}}@-webkit-keyframes phone-inner{0%{opacity:1;transform:translateZ(0) scale(0)}33.3333%{opacity:1;transform:translateZ(0) scale(.9)}66.6666%{opacity:0;transform:translateZ(0) scale(0)}to{opacity:0;transform:translateZ(0) scale(0)}}@keyframes phone-inner{0%{opacity:1;transform:translateZ(0) scale(0)}33.3333%{opacity:1;transform:translateZ(0) scale(.9)}66.6666%{opacity:0;transform:translateZ(0) scale(0)}to{opacity:0;transform:translateZ(0) scale(0)}}@-webkit-keyframes phone-icon{0%{transform:translateZ(0)}2%{transform:translate3d(.01em,0,0)}4%{transform:translate3d(-.01em,0,0)}6%{transform:translate3d(.01em,0,0)}8%{transform:translate3d(-.01em,0,0)}10%{transform:translate3d(.01em,0,0)}12%{transform:translate3d(-.01em,0,0)}14%{transform:translate3d(.01em,0,0)}16%{transform:translate3d(-.01em,0,0)}18%{transform:translate3d(.01em,0,0)}20%{transform:translate3d(-.01em,0,0)}22%{transform:translate3d(.01em,0,0)}24%{transform:translate3d(-.01em,0,0)}26%{transform:translate3d(.01em,0,0)}28%{transform:translate3d(-.01em,0,0)}30%{transform:translate3d(.01em,0,0)}32%{transform:translate3d(-.01em,0,0)}34%{transform:translate3d(.01em,0,0)}36%{transform:translate3d(-.01em,0,0)}38%{transform:translate3d(.01em,0,0)}40%{transform:translate3d(-.01em,0,0)}42%{transform:translate3d(.01em,0,0)}44%{transform:translate3d(-.01em,0,0)}46%{transform:translateZ(0)}}@keyframes phone-icon{0%{transform:translateZ(0)}2%{transform:translate3d(.01em,0,0)}4%{transform:translate3d(-.01em,0,0)}6%{transform:translate3d(.01em,0,0)}8%{transform:translate3d(-.01em,0,0)}10%{transform:translate3d(.01em,0,0)}12%{transform:translate3d(-.01em,0,0)}14%{transform:translate3d(.01em,0,0)}16%{transform:translate3d(-.01em,0,0)}18%{transform:translate3d(.01em,0,0)}20%{transform:translate3d(-.01em,0,0)}22%{transform:translate3d(.01em,0,0)}24%{transform:translate3d(-.01em,0,0)}26%{transform:translate3d(.01em,0,0)}28%{transform:translate3d(-.01em,0,0)}30%{transform:translate3d(.01em,0,0)}32%{transform:translate3d(-.01em,0,0)}34%{transform:translate3d(.01em,0,0)}36%{transform:translate3d(-.01em,0,0)}38%{transform:translate3d(.01em,0,0)}40%{transform:translate3d(-.01em,0,0)}42%{transform:translate3d(.01em,0,0)}44%{transform:translate3d(-.01em,0,0)}46%{transform:translateZ(0)}}@-webkit-keyframes scale-up-center{0%{transform:scale(.5)}to{transform:scale(1)}}@keyframes scale-up-center{0%{transform:scale(.5)}to{transform:scale(1)}}']}),t})(),_h=(()=>{class t{constructor(t){this.http=t,this.host=st.g.url+st.g.baseUrl}getVideoCallInsights(t,e,n){return this.http.post(this.host+st.g.api.getInsights+"/"+t+"/"+e,n)}getVideoCallCount(){return this.http.get(this.host+st.g.api.getCount)}}return t.\u0275fac=function(e){return new(e||t)(c.bc(p.c))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Dh=n("0lU3"),zh=n("3/1E");function Oh(t,e){if(1&t&&(c.Xb(0,"tr"),c.Xb(1,"td",12),c.Xc(2),c.Wb(),c.Xb(3,"td",12),c.Xc(4),c.Wb(),c.Xb(5,"td",12),c.Xc(6),c.jc(7,"date"),c.Wb(),c.Xb(8,"td",12),c.Xc(9),c.jc(10,"date"),c.Wb(),c.Xb(11,"td",12),c.Xc(12),c.Wb(),c.Wb()),2&t){const t=e.$implicit,n=e.index;c.Db(1),c.tc("id","insight-tenant-",n,""),c.Db(1),c.Yc(t.participants),c.Db(1),c.tc("id","insight-created-by-",n,""),c.Db(1),c.Yc(t.creatorObj),c.Db(1),c.tc("id","insight-start-date-",n,""),c.Db(1),c.Yc(c.lc(7,10,t.startTime,"medium")),c.Db(2),c.tc("id","insight-end-date-",n,""),c.Db(1),c.Yc(c.lc(10,13,t.endTime,"medium")),c.Db(2),c.tc("id","insight-duration-",n,""),c.Db(1),c.Yc(t.duration)}}let Nh=(()=>{class t{constructor(t){this.videoCallService=t,this.count=30,this.page=1,this.noResult="No records found.",this.disabledDate=t=>t.valueOf()-this.today.valueOf()>0,this.list=[]}ngOnInit(){this.body={},this.today=new Date,this.fetchCallRecords(0)}fetchCallRecords(t){this.videoCallService.getVideoCallInsights(!0,t,this.body).subscribe(t=>{this.list=t.data.list,this.count=t.data.count,this.list&&this.list.map(t=>(t.participantIds&&(t.participants=t.participantIds.join(",")),t.createdById&&(t.creatorObj=t.createdById),t))})}filter(){this.page=1,this.fetchCallRecords(0)}getData(t){this.page=t,this.fetchCallRecords(t-1)}onStartDateChange(t){this.body.startedOn=new Date(t).getTime()}onEndDateChange(t){this.body.endedOn=new Date(t).getTime()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(_h))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-video-call-insights"]],decls:37,vars:40,consts:[["id","list-insights-container",1,"container"],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","24"],[3,"nzTitle"],["nz-col","",3,"ngModel","nzDisabledDate","nzPlaceHolder","ngModelChange"],["nz-button","","nzType","primary",3,"click"],["name","search"],[3,"nzData","nzFrontPagination","nzShowPagination","nzTotal","nzNoResult"],["listInsightsTable",""],[4,"ngFor","ngForOf"],[2,"float","right","margin-top","2%"],[3,"nzPageSize","nzPageIndex","nzTotal","nzPageIndexChange"],[3,"id"]],template:function(t,e){if(1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"nz-card",3),c.jc(4,"translate"),c.Xb(5,"nz-date-picker",4),c.ec("ngModelChange",function(t){return e.startDate=t})("ngModelChange",function(t){return e.onStartDateChange(t)}),c.jc(6,"translate"),c.Wb(),c.Xb(7,"nz-date-picker",4),c.ec("ngModelChange",function(t){return e.endDate=t})("ngModelChange",function(t){return e.onEndDateChange(t)}),c.jc(8,"translate"),c.Wb(),c.Xb(9,"button",5),c.ec("click",function(){return e.filter()}),c.Sb(10,"app-icons",6),c.Xc(11),c.jc(12,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(13,"div",2),c.Xb(14,"nz-table",7,8),c.Xb(16,"thead"),c.Xb(17,"tr"),c.Xb(18,"th"),c.Xc(19),c.jc(20,"translate"),c.Wb(),c.Xb(21,"th"),c.Xc(22),c.jc(23,"translate"),c.Wb(),c.Xb(24,"th"),c.Xc(25),c.jc(26,"translate"),c.Wb(),c.Xb(27,"th"),c.Xc(28),c.jc(29,"translate"),c.Wb(),c.Xb(30,"th"),c.Xc(31),c.jc(32,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(33,"tbody"),c.Vc(34,Oh,13,16,"tr",9),c.Wb(),c.Wb(),c.Xb(35,"div",10),c.Xb(36,"nz-pagination",11),c.ec("nzPageIndexChange",function(t){return e.getData(t)}),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.Ic(15);c.Db(3),c.sc("nzTitle",c.kc(4,22,"PORTAL.FILTERBY")),c.Db(2),c.sc("nzPlaceHolder",c.kc(6,24,"COMMON.STARTDATE")),c.rc("ngModel",e.startDate)("nzDisabledDate",e.disabledDate),c.Db(2),c.sc("nzPlaceHolder",c.kc(8,26,"COMMON.ENDDATE")),c.rc("ngModel",e.endDate)("nzDisabledDate",e.disabledDate),c.Db(4),c.Yc(c.kc(12,28,"PATIENT.FILTERS")),c.Db(3),c.rc("nzData",e.list)("nzFrontPagination",!1)("nzShowPagination",!1)("nzTotal",e.count)("nzNoResult",e.noResult),c.Db(5),c.Yc(c.kc(20,30,"VIDEOCALL.PARTICIPANTS")),c.Db(3),c.Yc(c.kc(23,32,"VIDEOCALL.INITIATED_BY")),c.Db(3),c.Yc(c.kc(26,34,"COMMON.STARTDATE")),c.Db(3),c.Yc(c.kc(29,36,"COMMON.ENDDATE")),c.Db(3),c.Yc(c.kc(32,38,"COMMON.DURATION")),c.Db(3),c.rc("ngForOf",t.data),c.Db(2),c.rc("nzPageSize",30)("nzPageIndex",e.page)("nzTotal",e.count)}},directives:[F.c,F.a,lt.a,Dh.a,b.u,b.x,B.a,j.a,G.a,dt.a,$.f,$.n,$.o,$.e,$.l,$.i,h.p,zh.a],pipes:[Z.a,h.e],styles:[""]}),t})();var Ph=n("V1/G"),Rh=n("IOC6");const Xh=["inputElement"];function Lh(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",16),c.Xb(1,"sub-tenant-select",17),c.ec("onSubTenantSelected",function(e){return c.Lc(t),c.ic().onSubTenantChange(e)}),c.Wb(),c.Wb()}if(2&t){const t=c.ic();c.Db(1),c.rc("showError",t.showTenantToggleError)("disabled","ADD"!=t.mode)("persist",!1)("selectedSubTenant",t.selectedSubTenant)}}function wh(t,e){1&t&&(c.Xb(0,"div",18),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"COMMON.REQUIRED")," "))}function Wh(t,e){1&t&&(c.Xb(0,"div",18),c.Xc(1),c.jc(2,"translate"),c.Wb()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"COMMON.REQUIRED")," "))}function kh(t,e){if(1&t&&c.Sb(0,"nz-option",19),2&t){const t=e.$implicit;c.rc("nzLabel",t.value)("nzValue",t.key)}}function Vh(t,e){1&t&&c.Xc(0),2&t&&c.Zc("and ",e.$implicit.length," more selected")}let xh=(()=>{class t{constructor(t,e,n,i){this.smsTemplateService=t,this._modelRef=e,this.notificationService=n,this.translationService=i,this.mode="ADD",this.tags=Ph.b.TAGS,this.inputVisible=!1,this.saveBtnLoading=!1,this.strings=["SMS.SMS_TEMPLATE","SMS.PLEASE_ENTER_TEXT","SMS.TEMPLATE_ALREADY_PRESENT"],this.validated=!1,this.selectedSubTenant=null,this.showTenantToggleError=!1,this.$translationSubscription=this.translationService.getMultiple(...this.strings).subscribe(t=>this.translatedStrings=t)}ngOnDestroy(){this.$translationSubscription.unsubscribe()}ngOnInit(){const t=localStorage.getItem("loggedInUserBoundary");this.isAccessAcrossSubTenants=t==Dl.a.ACROSS_SUB_TENANTS,null==this.smsTemplate||null==this.smsTemplate?this.smsTemplate=new Ph.a:this.selectedSubTenant=this.smsTemplate.tenantId,this.selectedSubTenant=this.isAccessAcrossSubTenants?localStorage.getItem(Zs.a.REQUEST_TENANT_IDS).split(",")[0]:localStorage.getItem("loggedInTenantName"),this.smsTemplate.tenantId=this.selectedSubTenant}onSubTenantChange(t){"object"==typeof t&&""!=t&&null!=t&&null!=t?(this.showTenantToggleError=!1,this.smsTemplate.tenantId=t):this.showTenantToggleError=!0}handleClose(t){this.smsTemplate.tags=this.smsTemplate.tags.filter(e=>e!==t)}sliceTagName(t){return t.length>20?`${t.slice(0,20)}...`:t}showInput(){this.inputVisible=!0,setTimeout(()=>{this.inputElement.nativeElement.focus()},10)}handleInputConfirm(){this.inputValue&&-1===this.smsTemplate.tags.indexOf(this.inputValue)&&(this.smsTemplate.tags=[...this.smsTemplate.tags,this.inputValue]),this.inputValue="",this.inputVisible=!1}saveTemplate(){this.saveBtnLoading=!0,"ADD"==this.mode?this.smsTemplateService.saveTemplate(this.smsTemplate).subscribe(t=>{this.saveBtnLoading=!1,this.closeDialog()}):this.smsTemplateService.updateTemplate(this.smsTemplate).subscribe(t=>{this.saveBtnLoading=!1,this.closeDialog()})}closeDialog(){this._modelRef.close()}validateSmsAndSend(){null!=this.smsTemplate.tenantId&&null!=this.smsTemplate.tenantId?(this.validated=!0,0!=this.smsTemplate.title.length&&0!=this.smsTemplate.template.length&&("ADD"==this.mode?(this.smsTemplate.tenantId=this.selectedSubTenant,this.checkForDuplicateTemplate()):this.saveTemplate())):this.showTenantToggleError=!0}checkForDuplicateTemplate(){this.smsTemplateService.validateTemplate(this.smsTemplate).subscribe(t=>{this.saveTemplate()},t=>this.notificationService.error(this.translatedStrings.get("SMS.SMS_TEMPLATE"),this.translatedStrings.get("SMS.TEMPLATE_ALREADY_PRESENT")))}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(Rh.a),c.Rb(k.e),c.Rb(V.b),c.Rb(Lt.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-add-sms-template"]],viewQuery:function(t,e){if(1&t&&c.ed(Xh,1),2&t){let t;c.Hc(t=c.fc())&&(e.inputElement=t.first)}},inputs:{smsTemplate:"smsTemplate",mode:"mode"},decls:40,vars:30,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],["id","heading","cdkDragHandle",""],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","24","style","margin-bottom: 20px;",4,"isAccessAcrossTenantEnabled"],["nz-col","","nzSpan","24"],["id","title","nz-input","","required","",3,"ngModel","placeholder","ngClass","ngModelChange"],["title","ngModel"],["class","error-text",4,"ngIf"],["id","template","rows","4","nz-input","","required","",3,"ngModel","placeholder","ngClass","ngModelChange"],["description","ngModel"],[1,"letter-count"],["nzMode","multiple","nzPlaceHolder","Please select",3,"nzMaxTagCount","nzMaxTagPlaceholder","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["tagPlaceHolder",""],["nz-row","","nzGutter","16",1,"centerize"],["nz-button","","nzType","primary","nzShape","round",1,"template-actions",3,"nzSize","nzLoading","click"],["nz-col","","nzSpan","24",2,"margin-bottom","20px"],["mode","SINGLE",3,"showError","disabled","persist","selectedSubTenant","onSubTenantSelected"],[1,"error-text"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t&&(c.Xb(0,"div",0),c.Xb(1,"strong",1),c.Xc(2),c.jc(3,"translate"),c.Wb(),c.Sb(4,"br"),c.Sb(5,"br"),c.Xb(6,"div",2),c.Vc(7,Lh,2,4,"div",3),c.Xb(8,"div",4),c.Xb(9,"input",5,6),c.ec("ngModelChange",function(t){return e.smsTemplate.title=t}),c.jc(11,"translate"),c.Wb(),c.Vc(12,wh,3,3,"div",7),c.Wb(),c.Wb(),c.Sb(13,"br"),c.Xb(14,"div",2),c.Xb(15,"div",4),c.Xb(16,"textarea",8,9),c.ec("ngModelChange",function(t){return e.smsTemplate.template=t}),c.jc(18,"translate"),c.Wb(),c.Vc(19,Wh,3,3,"div",7),c.Wb(),c.Wb(),c.Xb(20,"div",2),c.Xb(21,"div",4),c.Xb(22,"p",10),c.Xb(23,"i"),c.Xc(24),c.jc(25,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(26,"div",2),c.Xb(27,"div",4),c.Xb(28,"nz-select",11),c.ec("ngModelChange",function(t){return e.smsTemplate.tags=t}),c.Vc(29,kh,1,2,"nz-option",12),c.jc(30,"keyvalue"),c.Wb(),c.Vc(31,Vh,1,1,"ng-template",null,13,c.Wc),c.Wb(),c.Wb(),c.Sb(33,"br"),c.Sb(34,"br"),c.Xb(35,"div",14),c.Xb(36,"div",4),c.Xb(37,"button",15),c.ec("click",function(){return e.validateSmsAndSend()}),c.Xc(38),c.jc(39,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.Ic(10),n=c.Ic(17),i=c.Ic(32);c.Db(2),c.Zc(" ",c.kc(3,18,"SMS.NEW_SMS_TEMPLATE")," "),c.Db(7),c.tc("placeholder","",c.kc(11,20,"SMS.ADD_SMS_TEMPLATE_TITLE"),".."),c.rc("ngModel",e.smsTemplate.title)("ngClass",e.validated?"submitted":null),c.Db(3),c.rc("ngIf",t.invalid&&(t.dirty||t.touched||e.validated)),c.Db(4),c.tc("placeholder","",c.kc(18,22,"SMS.ADD_SMS_TEMPLATE"),".."),c.rc("ngModel",e.smsTemplate.template)("ngClass",e.validated?"submitted":null),c.Db(3),c.rc("ngIf",n.invalid&&(n.dirty||n.touched||e.validated)),c.Db(5),c.ad("",e.smsTemplate.template.length," ",c.kc(25,24,"SMS.CHARACTERS"),""),c.Db(4),c.rc("nzMaxTagCount",3)("nzMaxTagPlaceholder",i)("ngModel",e.smsTemplate.tags),c.Db(1),c.rc("ngForOf",c.kc(30,26,e.tags)),c.Db(8),c.rc("nzSize","medium")("nzLoading",e.saveBtnLoading),c.Db(1),c.Zc(" ",c.kc(39,28,"SMS.SAVE_TEMPLATE")," ")}},directives:[ct.a,ct.b,F.c,dn.a,F.a,qa.b,b.d,b.C,b.u,b.x,h.o,h.q,Y.d,h.p,B.a,j.a,G.a,Sn.a,Y.a],pipes:[Z.a,h.j],styles:["#wrapper[_ngcontent-%COMP%]{font-size:12px;font:normal normal normal 14px/21px Nunito}#heading[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color);font:normal normal normal 14px/21px Nunito}strong[_ngcontent-%COMP%]{font-size:12px;font:normal normal normal 14px/21px Nunito}[_nghost-%COMP%]     .ant-calendar-picker-input.ant-input-sm{border:none;font-size:12px;font:normal normal normal 14px/21px Nunito}[_nghost-%COMP%]     .ant-calendar-picker-icon{color:var(--primary-color)}.tms-button[_ngcontent-%COMP%]{font-size:10px;background-color:#f6f6f6;color:var(--light-black);font:normal normal normal 14px/21px Nunito}#tms-activity[_ngcontent-%COMP%]{min-height:140px;background:#f6f6f6 0 0 no-repeat padding-box;border-radius:4px;padding:5%!important;font-size:12px;font:normal normal normal 14px/21px Nunito}#activity[_ngcontent-%COMP%]{float:right;width:20px;height:20px;font-size:10px;font:normal normal normal 14px/21px Nunito}#tms-time[_ngcontent-%COMP%]{min-height:140px;border-radius:4px;padding:5%!important;font-size:12px;font:normal normal normal 14px/21px Nunito}#tms-minutes[_ngcontent-%COMP%]{font-size:36px;color:var(--light-black);font:normal normal normal 14px/21px Nunito}#tms-notes[_ngcontent-%COMP%]{background:#f6f6f6 0 0 no-repeat padding-box;padding:2%;resize:none}.tms-actions[_ngcontent-%COMP%]{font-size:12px;width:75%;font:normal normal normal 14px/21px Nunito}.centerize[_ngcontent-%COMP%]{text-align:center}.letter-count[_ngcontent-%COMP%]{text-align:right}.error-text[_ngcontent-%COMP%]{text-align:end;width:100%;color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.ng-touched{border-color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.submitted{border-color:#c81c1c}"]}),t})();class Uh{constructor(){this.offset=0,this.totalCount=0,this.totalPages=0,this.result=[]}}function Fh(t,e){1&t&&(c.Xb(0,"th"),c.Xc(1," Sub Tenant "),c.Wb())}function Hh(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"nz-tag",12),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=e.$implicit,n=c.ic(3);c.Db(2),c.Zc(" ",n.tags.get(t)," ")}}function Bh(t,e){if(1&t&&(c.Xb(0,"td"),c.Xc(1),c.jc(2,"tenantName"),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(1),c.Zc(" ",c.kc(2,1,t.tenantId)," ")}}function jh(t,e){if(1&t){const t=c.Yb();c.Xb(0,"span",13),c.Xb(1,"app-icons",14),c.ec("click",function(){c.Lc(t);const e=c.ic().$implicit;return c.ic(2).editTemplate(e)}),c.Wb(),c.Wb()}}function Gh(t,e){if(1&t){const t=c.Yb();c.Xb(0,"span",13),c.Xb(1,"app-icons",15),c.ec("nzOnConfirm",function(){c.Lc(t);const e=c.ic().$implicit;return c.ic(2).removeTemplate(e)}),c.Wb(),c.Wb()}}const Yh=function(){return["EDIT_SMS_TEMPLATE"]},$h=function(){return["DELETE_SMS_TEMPLATE"]};function qh(t,e){if(1&t&&(c.Xb(0,"tr"),c.Xb(1,"td",8),c.Xb(2,"span",9),c.Xc(3),c.Wb(),c.Wb(),c.Xb(4,"td",8),c.Xb(5,"span",9),c.Vc(6,Hh,3,1,"ng-container",7),c.Wb(),c.Wb(),c.Vc(7,Bh,3,3,"td",6),c.Xb(8,"td",8),c.Xb(9,"div",10),c.Vc(10,jh,2,0,"span",11),c.Vc(11,Gh,2,0,"span",11),c.Wb(),c.Wb(),c.Wb()),2&t){const t=e.$implicit,n=e.index;c.Db(1),c.tc("id","sms-template-",n,""),c.Db(2),c.Yc(t.title||"NA"),c.Db(1),c.tc("id","sms-template-",n,""),c.Db(2),c.rc("ngForOf",null==t?null:t.tags),c.Db(2),c.tc("id","insight-duration-",n,""),c.Db(2),c.rc("isFeaturePermitted",c.xc(7,Yh)),c.Db(1),c.rc("isFeaturePermitted",c.xc(8,$h))}}function Zh(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",3),c.Xb(1,"nz-table",4,5),c.ec("nzPageIndexChange",function(e){return c.Lc(t),c.ic().index=e})("nzPageIndexChange",function(e){return c.Lc(t),c.ic().getAllTemplates(e)}),c.jc(3,"translate"),c.Xb(4,"thead"),c.Xb(5,"tr"),c.Xb(6,"th"),c.Xc(7),c.jc(8,"translate"),c.Wb(),c.Xb(9,"th"),c.Xc(10),c.jc(11,"translate"),c.Wb(),c.Vc(12,Fh,2,0,"th",6),c.Xb(13,"th"),c.Xc(14),c.jc(15,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(16,"tbody"),c.Vc(17,qh,12,9,"tr",7),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.Ic(2),e=c.ic();c.Db(1),c.sc("nzNoResult",c.kc(3,12,"COMMON.NODATA")),c.rc("nzData",null==e.smsTemplates?null:e.smsTemplates.result)("nzFrontPagination",!1)("nzShowPagination",!0)("nzTotal",null==e.smsTemplates?null:e.smsTemplates.totalCount)("nzPageIndex",e.index)("nzWidthConfig",e.widthConfig)("nzLoading",e.loading),c.Db(6),c.Yc(c.kc(8,14,"SMS.SMS_TEMPLATES")),c.Db(3),c.Yc(c.kc(11,16,"TITLE.TAG")),c.Db(4),c.Yc(c.kc(15,18,"TABLEHEADER.ACTIONS")),c.Db(3),c.rc("ngForOf",null==t?null:t.data)}}let Qh=(()=>{class t extends zs.a{constructor(t,e,n,i,a){super(),this.modalService=t,this.smsTemplateService=e,this.translationService=n,this._dataSharingService=i,this._notificationsService=a,this.smsTemplates=new Uh,this.smsTemplate=new Ph.a,this.smsTemplateListLoading=!1,this.loading=!1,this.limit=10,this.strings=["COMMON.YES","COMMON.NO","SMS.CONFIRM_DELETE_TEMPLATE"],this.index=1,this.tags=Ph.b.TAGS,this.widthConfig=["20%","60%","20%"],this._routeHelperService.isPrimaryActionTriggered().pipe(Object(fd.a)(t=>!!t),Object(Ze.a)(this.unsubscribed)).subscribe(()=>this.addTemplate()),this.isAccessAcrossSubTenants&&(this.widthConfig=["20%","40%","20%","20%"])}ngOnInit(){this._dataSharingService.onSubTenantChange().subscribe(t=>{this.onSubTenantChange(t)}),this.getAllTemplates(1),this.initTranslationStrings()}initTranslationStrings(){this.translationService.getMultiple(...this.strings).pipe(Object(Ze.a)(this.unsubscribed)).subscribe(t=>{this.translatedStrings=t})}getAllTemplates(t){this.loading=!0,this.smsTemplateService.getSMSTemplates(this.limit,t-1).subscribe(t=>{this.smsTemplates=t,this.loading=!1})}onSubTenantChange(t){this.getAllTemplates(1)}addSMSTemplate(){this.smsTemplateModal=this.modalService.create({nzTitle:null,nzContent:xh,nzComponentParams:{smsTemplate:this.smsTemplate,mode:this.mode},nzWidth:500,nzKeyboard:!1,nzClosable:!0,nzFooter:null,nzMaskClosable:!0}),this.smsTemplateModal.afterClose.subscribe(()=>{this.index=1,this.isAccessAcrossSubTenants&&localStorage.getItem(Zs.a.REQUEST_TENANT_TEMP_IDS)&&localStorage.removeItem(Zs.a.REQUEST_TENANT_TEMP_IDS),this.getAllTemplates(this.index)})}addTemplate(){this.smsTemplate=new Ph.a,this.mode="ADD",this.addSMSTemplate()}editTemplate(t){this.smsTemplate=t,this.mode="EDIT",this.addSMSTemplate()}showDeleteConfirm(t){this.modalService.confirm({nzTitle:this.translatedStrings.get("SMS.CONFIRM_DELETE_TEMPLATE"),nzOkText:this.translatedStrings.get("COMMON.YES"),nzOkType:"danger",nzOnOk:()=>this.removeTemplate(t),nzCancelText:this.translatedStrings.get("COMMON.NO"),nzOnCancel:()=>console.log("Cancel")})}removeTemplate(t){this.loading=!0,this.smsTemplateService.deleteTemplate(t.id).subscribe(()=>{this._notificationsService.success("SMS Templates","SMS template deleted successfully!"),this.index=1,this.getAllTemplates(this.index)},()=>{this._notificationsService.error("SMS Templates","Error white deleting SMS template!")})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(k.f),c.Rb(Rh.a),c.Rb(Lt.a),c.Rb(C.a),c.Rb(V.b))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-sms-template-list"]],features:[c.Ab],decls:3,vars:1,consts:[["id","list-sms-templates",1,"container"],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","24",4,"ngIf"],["nz-col","","nzSpan","24"],[3,"nzData","nzFrontPagination","nzShowPagination","nzTotal","nzPageIndex","nzNoResult","nzWidthConfig","nzLoading","nzPageIndexChange"],["listTemplatesTable",""],[4,"isAccessAcrossTenantEnabled"],[4,"ngFor","ngForOf"],[3,"id"],[1,"ele"],[1,"icon"],["class","action-span",4,"isFeaturePermitted"],["nzColor","var(--primary-color-light)"],[1,"action-span"],["name","edit",3,"click"],["nz-popconfirm","","nzPopconfirmTitle","Are you sure you want to delete this SMS template?","nzPopconfirmPlacement","top","name","delete",3,"nzOnConfirm"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Vc(2,Zh,18,20,"div",2),c.Wb(),c.Wb()),2&t&&(c.Db(2),c.rc("ngIf",!e.smsTemplateListLoading))},directives:[F.c,h.q,F.a,$.f,$.n,$.o,$.e,$.l,dn.a,$.i,h.p,mn.a,Wn.a,dt.a,vd.a],pipes:[Z.a,Xl.a],styles:[".action-span[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.btn-create-template[_ngcontent-%COMP%]{border-radius:5px;font-size:12px;font:normal normal normal Nunito}"]}),t})();var Kh=n("GSAy");const Jh={header:!0,title:"Active Care Plans",searchEnabled:!1,primaryAction:{},secondaryAction:{},multiAction:{},privileges:[Ds.a.VIEW_CAREPLAN],showTenantToggle:!0},tb={header:!0,title:"TITLE.CARETEMPLATE",searchEnabled:!0,primaryAction:{title:"Add Care Plan",permissions:[Ds.a.ADD_CARE_PLAN_TEMPLATE],enabled:!0},secondaryAction:{},multiAction:{},privileges:[Ds.a.VIEW_CARE_PLAN_TEMPLATE],showTenantToggle:!0},eb={header:!0,title:"SMS.SMS_TEMPLATES",searchEnabled:!1,primaryAction:{title:"+ Create SMS Template",permissions:[Ds.a.ADD_SMS_TEMPLATE],enabled:!0},secondaryAction:{},multiAction:{},privileges:[Ds.a.VIEW_SMS_TEMPLATE]},nb={Listing:{header:!0,title:"TITLE.TAG",searchEnabled:!1,primaryAction:{title:"Add Tag",permissions:[Ds.a.ADD_EDIT_TAG],enabled:!0},secondaryAction:{},multiAction:{},privileges:[Ds.a.VIEW_TAG],showTenantToggle:!0,subTenantToggleMode:"MULTI"}};var ib=n("N+jK");let ab=(()=>{class t extends gp{constructor(t,e,n,i){super(),this._http=t,this._notificationsService=e,this._router=n,this._devicesService=i,this.handleUpload=t=>{const e=new p.g({bypass:"yes"});this._http.post(this.uploadURL,t.file,{headers:e,observe:"response",responseType:"text"}).subscribe(t=>{200==t.status?(this.uploadedFileName=t.body,this.processUploadedFile()):this._notificationsService.error("Bulk Assign","Something went wrong, please try again!")},()=>{this._notificationsService.error("Bulk Assign","Something went wrong, please try again!")})}}ngOnInit(){this.uploadURL=st.g.url+"/v2/media/upload/"+Math.random().toString(10).substring(7)+".xlsx"}processUploadedFile(){this._devicesService.bulkAssignDevices(this.uploadedFileName).subscribe(()=>{},t=>{200==t.status?(this._notificationsService.success("Bulk Assign",t.error.text),this._router.navigateByUrl("analytics/reports?tab=devices")):this._notificationsService.error("Bulk Assign","Something went wrong, please try again!")})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(p.c),c.Rb(V.b),c.Rb(d.g),c.Rb(ib.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-bulk-assign"]],features:[c.Ab],decls:9,vars:6,consts:[["title","bulk-assign-devices","defaultTitle","Bulk Assign Devices",3,"isSearchEnabled","isActionEnabled"],["id","upload-container",1,"container"],["nzType","drag","nzAccept",".xlsx",3,"nzCustomRequest"],[1,"ant-upload-drag-icon"],["name","inbox"],[1,"ant-upload-text"]],template:function(t,e){1&t&&(c.Sb(0,"app-header",0),c.Xb(1,"nz-card",1),c.Xb(2,"nz-card"),c.Xb(3,"nz-upload",2),c.Xb(4,"p",3),c.Sb(5,"app-icons",4),c.Wb(),c.Xb(6,"p",5),c.Xc(7),c.jc(8,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.rc("isSearchEnabled",!1)("isActionEnabled",!1),c.Db(3),c.rc("nzCustomRequest",e.handleUpload),c.Db(4),c.Yc(c.kc(8,4,"COMMON.DRAG_AND_UPLOAD")))},directives:[Hd.a,lt.a,xo.a,dt.a],pipes:[Z.a],styles:["#upload-container[_ngcontent-%COMP%]{text-align:center;width:100%;height:95vh}"]}),t})(),ob=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["app-forbidden"]],decls:8,vars:0,consts:[[1,"container"],[1,"container-forbidden"],["nz-icon","","nzType","lock","nzTheme","fill",1,"lock"],[1,"message"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Sb(2,"em",2),c.Xb(3,"div",3),c.Xb(4,"h1"),c.Xc(5,"Access to this page is restricted"),c.Wb(),c.Xb(6,"p"),c.Xc(7,"Please check with the site admin if you believe this is a mistake."),c.Wb(),c.Wb(),c.Wb(),c.Wb())},directives:[G.a,ut.a],styles:[".container-forbidden[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:230px}h1[_ngcontent-%COMP%]{margin:40px 0 20px}.lock[_ngcontent-%COMP%]{font-size:64px}"]}),t})();var sb=n("2lmJ");class rb{}var cb=n("UpsY");function lb(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"li"),c.Xc(2),c.jc(3,"userLocation"),c.Wb(),c.Ub()),2&t){const t=e.$implicit;c.Db(2),c.Yc(c.kc(3,1,t))}}function db(t,e){if(1&t&&(c.Xb(0,"div",5),c.Xb(1,"h4"),c.Xc(2," Sites"),c.Wb(),c.Vc(3,lb,4,3,"ng-container",6),c.Wb()),2&t){const t=c.ic();c.rc("nzSpan",12),c.Db(3),c.rc("ngForOf",t.sites)}}function ub(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"li"),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=e.$implicit;c.Db(2),c.Yc(t)}}function pb(t,e){if(1&t&&(c.Xb(0,"div",5),c.Xb(1,"h4"),c.Xc(2," Physicians"),c.Wb(),c.Vc(3,ub,3,1,"ng-container",6),c.Wb()),2&t){const t=c.ic();c.rc("nzSpan",12),c.Db(3),c.rc("ngForOf",t.physicianNames)}}const hb=function(){return[16,16]};let bb=(()=>{class t{constructor(t,e){this._staffService=t,this._modalRef=e,this.dataMismatch=!0,this.physicianNames=[],this.loadingAssign=!1}ngOnInit(){this.monitoringStaffName=this.monitoringStaffName,this._staffService.fetchNameByIds(this.physicians.join(",")).subscribe(t=>{this.physicianNames=this.physicians.map(e=>e?t[e]:"Undefined")})}cancel(){this._modalRef.destroy(!1)}assign(){if(null==this.monitoringStaffId)return;this.loadingAssign=!0;let t=new rb;t.assignedFrom=this.assignedFrom,t.assignedTo=this.monitoringStaffId,t.assignedToRole=zn.a.MONITORING_STAFF,t.assignedUserIds=this.assignedUserIds,t.requestFromDisableStaff=this.requestFromDisableStaff,t.assignedStaffType=this.assignedStaffType?"PRIMARY":"OTHER",t.dataMismatch=this.dataMismatch,t.mismatchedSites=this.sites,t.mismatchedPhysicians=this.physicians,this._staffService.bulkAssignPatientsToMonitoringStaff(t).subscribe(t=>{this._modalRef.destroy({isAssigned:!0,selectedMonitoringStaff:this.monitoringStaffId,selectedMonitoringStaffName:this.monitoringStaffName})})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(sb.a),c.Rb(k.e))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-bulk-staff-patient-mismatch-modal"]],inputs:{sites:"sites",physicians:"physicians",monitoringStaffId:"monitoringStaffId",monitoringStaffName:"monitoringStaffName",assignedFrom:"assignedFrom",assignedUserIds:"assignedUserIds",assignedStaffType:"assignedStaffType",requestFromDisableStaff:"requestFromDisableStaff"},decls:14,vars:7,consts:[["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan",4,"ngIf"],[1,"btn-container"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",2,"margin-left","10px",3,"nzLoading","click"],["nz-col","",3,"nzSpan"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(c.Vb(0),c.Xb(1,"h3"),c.Xc(2,"Assign Additional Sites and Physicians"),c.Wb(),c.Xb(3,"p"),c.Xc(4),c.Wb(),c.Xb(5,"div",0),c.Vc(6,db,4,2,"div",1),c.Vc(7,pb,4,2,"div",1),c.Wb(),c.Xb(8,"div"),c.Xb(9,"div",2),c.Xb(10,"button",3),c.ec("click",function(){return e.cancel()}),c.Xc(11,"Cancel "),c.Wb(),c.Xb(12,"button",4),c.ec("click",function(){return e.assign()}),c.Xc(13,"Assign "),c.Wb(),c.Wb(),c.Wb(),c.Ub()),2&t&&(c.Db(4),c.ad("",e.monitoringStaffName," is not currently assigned to these sites and physicians. Assigning these patients will assign ",e.monitoringStaffName," to these sites and physicians."),c.Db(1),c.rc("nzGutter",c.xc(6,hb)),c.Db(1),c.rc("ngIf",null==e.sites?null:e.sites.length),c.Db(1),c.rc("ngIf",null==e.physicians?null:e.physicians.length),c.Db(5),c.rc("nzLoading",e.loadingAssign))},directives:[F.c,h.q,B.a,j.a,G.a,F.a,h.p],pipes:[cb.a],styles:[".btn-container[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:flex-end}"]}),t})();var gb=n("idJI"),mb=n("Km6r");function fb(t,e){1&t&&(c.Xb(0,"strong"),c.Xc(1," Choose Monitoring Staff to be assigned. "),c.Wb())}function vb(t,e){1&t&&(c.Xb(0,"strong"),c.Xc(1," Choose Monitoring Staff to be assigned as primary staff. "),c.Wb())}function Sb(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"nz-option",13),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=e.$implicit;c.Db(1),c.rc("nzValue",t)("nzLabel",null==t?null:t.label),c.Db(1),c.Zc(" ",t.label," ")}}function Tb(t,e){1&t&&(c.Xb(0,"nz-option",14),c.Xb(1,"div",15),c.Sb(2,"i",16),c.Wb(),c.Wb())}function Cb(t,e){1&t&&c.Sb(0,"span",22)}function Eb(t,e){1&t&&c.Sb(0,"span",23)}function Ib(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",17),c.Xb(1,"p",18),c.Xc(2," Assign as primary staff? "),c.Wb(),c.Xb(3,"nz-switch",19),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().isPrimary=e}),c.Wb(),c.Vc(4,Cb,1,0,"ng-template",null,20,c.Wc),c.Vc(6,Eb,1,0,"ng-template",null,21,c.Wc),c.Wb()}if(2&t){const t=c.Ic(5),e=c.Ic(7),n=c.ic();c.rc("nzSpan",24),c.Db(3),c.rc("ngModel",n.isPrimary)("nzCheckedChildren",t)("nzUnCheckedChildren",e)}}function Mb(t,e){if(1&t&&(c.Xb(0,"div",17),c.Xb(1,"strong"),c.Xc(2),c.Wb(),c.Wb()),2&t){const t=c.ic();c.rc("nzSpan",24),c.Db(2),c.Zc(" ",t.selectedMonitoringStaffName," will be assigned as the primary monitoring staff for the selected patients. ")}}let yb=(()=>{class t{constructor(t,e,n,i){this._staffService=t,this._notificationsService=e,this._modalRef=n,this._modalService=i,this.selectedPatients=new Set,this.patientSites=new Set,this.selectedPatientList=new Set,this.isRequestFromDisableStaff=!1,this.isAssignPrimary=!1,this.selectedMonitoringStaffId=null,this.selectedMonitoringStaffName=null,this.loading=!1,this.selectedStaff=null,this.isPrimary=!1,this.listOfSelectedPatientSites=new Set,this.listOfSelectedPatientPhysicians=new Set,this.loadingMismatchedSites=!1,this.mismatchedSites=[],this.mismatchedPhysicians=[],this.dataMismatch=!1,this.cancel=()=>this._modalRef.destroy(!1)}ngOnInit(){this.getMonitoringStaff(),this.isAssignPrimary&&(this.isPrimary=!0),"UNASSIGNED"==this.previouslySelectedMonitoringStaffId&&(this.isPrimary=!0),this.selectedPatientList.forEach(t=>{this.listOfSelectedPatientSites.add(t.sites[0].id)}),this.selectedPatientList.forEach(t=>{var e,n;let i=null===(e=t.assignedStaffs)||void 0===e?void 0:e.filter(t=>"PHYSICIAN"===t.roleType);this.listOfSelectedPatientPhysicians.add(null===(n=i[0])||void 0===n?void 0:n.staffId)})}getMonitoringStaff(){this.listOfAllMonitoringStaffs=[],this.loadingMonitoringStaff=!0,this.selectedMonitoringStaffId=null,null!=this.selectedphysicianId&&this._staffService.fetchAllMonitoringStaffBySiteIdAndPhysicianId(this.selectedSiteId,this.selectedphysicianId).subscribe(t=>{let e=null==t?void 0:t.result;this.loadingMonitoringStaff=!1,null!=e&&0!=e.length&&(this.listOfAllMonitoringStaffs=e.filter(t=>this.isAssignPrimary||t.user.id!=this.previouslySelectedMonitoringStaffId).map(t=>t.user).map(t=>({label:t.fullName,value:t.id,checked:!1})))},t=>{this.loadingMonitoringStaff=!1,this._notificationsService.error("Monitoring staff","Loading monitoring staffs failed")})}onSelectedMonitoringStaffChange(t){null==t&&(this.selectedMonitoringStaffId=null,this.selectedMonitoringStaffName=null),this.selectedMonitoringStaffId=t.value,this.selectedMonitoringStaffName=t.label}validateAndAssign(){if(null==this.selectedMonitoringStaffId)return;this.loading=!0,this.loadingMismatchedSites=!0;let t=new rb;t.assignedFrom=this.previouslySelectedMonitoringStaffId,t.assignedTo=this.selectedMonitoringStaffId,t.assignedToRole=zn.a.MONITORING_STAFF,t.assignedUserIds=Array.from(this.selectedPatients),t.requestFromDisableStaff=this.isRequestFromDisableStaff,t.assignedStaffType=this.isPrimary?"PRIMARY":"OTHER",t.dataMismatch=this.dataMismatch,t.mismatchedSites=this.mismatchedSites,t.mismatchedPhysicians=this.mismatchedPhysicians,this._staffService.bulkAssignPatientsToMonitoringStaffValidation(t).subscribe(e=>{if(0==e.dataMismatch)this._staffService.bulkAssignPatientsToMonitoringStaff(t).subscribe(t=>{var e={isAssigned:!0,selectedMonitoringStaff:this.selectedMonitoringStaffId,selectedMonitoringStaffName:this.selectedMonitoringStaffName};this.loadingMismatchedSites=!1,this.loading=!1,this._modalRef.destroy(e)});else{this.mismatchedSites=e.mismatchedSites,this.mismatchedPhysicians=e.mismatchedPhysicians,this.loadingMismatchedSites=!1;const t=this._modalService.create({nzContent:bb,nzComponentParams:{sites:this.mismatchedSites,physicians:this.mismatchedPhysicians,monitoringStaffId:this.selectedMonitoringStaffId,monitoringStaffName:this.selectedMonitoringStaffName,assignedFrom:this.previouslySelectedMonitoringStaffId,assignedUserIds:Array.from(this.selectedPatients),requestFromDisableStaff:this.isRequestFromDisableStaff,assignedStaffType:this.isPrimary},nzWidth:350,nzWrapClassName:"vertical-center-modal",nzMaskClosable:!0,nzClosable:!0,nzOkText:null,nzFooter:null});this._modalRef.close(),t.afterClose.subscribe(t=>{(null==t?void 0:t.isAssigned)&&this._modalService.create({nzContent:gb.a,nzComponentParams:{selectedMonitoringStaffName:t.selectedMonitoringStaffName},nzWrapClassName:"vertical-center-modal",nzTitle:null,nzFooter:null,nzClosable:!1,nzMaskClosable:!1,nzOkText:null,nzCancelText:null}).afterClose.subscribe(()=>{null!=this._bulkListComponent&&this._bulkListComponent.clearPatientSelection()})})}})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(sb.a),c.Rb(V.b),c.Rb(k.e),c.Rb(k.f))},t.\u0275cmp=c.Lb({type:t,selectors:[["bulk-monitoring-staff-assign-modal"]],viewQuery:function(t,e){if(1&t&&c.ed(mb.a,1),2&t){let t;c.Hc(t=c.fc())&&(e._bulkListComponent=t.first)}},inputs:{selectedSiteId:"selectedSiteId",selectedphysicianId:"selectedphysicianId",previouslySelectedMonitoringStaffId:"previouslySelectedMonitoringStaffId",selectedPatients:"selectedPatients",patientSites:"patientSites",selectedPatientList:"selectedPatientList",isRequestFromDisableStaff:"isRequestFromDisableStaff",isAssignPrimary:"isAssignPrimary"},decls:17,vars:14,consts:[["nzTip","Checking for data mismatch...",3,"nzSpinning"],[1,"container",2,"padding","24px"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[2,"text-align","center"],[4,"ngIf"],["nzPlaceHolder","Search Monitoring Staff","nzShowSearch","","nzAllowClear","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nz-col","","style","text-align: center; margin-top: 10px;",3,"nzSpan",4,"ngIf"],["nz-row","",1,"space-vertical",3,"nzGutter"],["nz-col","","nzSpan","24",2,"text-align","center"],["nz-button","","nzType","primary",2,"width","150px",3,"nzLoading","disabled","click"],[3,"nzValue","nzLabel"],["nzDisabled","","nzCustomContent",""],[1,"loading-option"],["nz-icon","","nzType","loading",2,"font-size","20px","color","#8BC34A"],["nz-col","",2,"text-align","center","margin-top","10px",3,"nzSpan"],["nz-typography","","nzType","secondary"],[3,"ngModel","nzCheckedChildren","nzUnCheckedChildren","ngModelChange"],["checkedTemplate",""],["unCheckedTemplate",""],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"]],template:function(t,e){1&t&&(c.Xb(0,"nz-spin",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"div",3),c.Xb(4,"p",4),c.Vc(5,fb,2,0,"strong",5),c.Vc(6,vb,2,0,"strong",5),c.Wb(),c.Wb(),c.Xb(7,"div",3),c.Xb(8,"nz-select",6),c.ec("ngModelChange",function(t){return e.selectedStaff=t})("ngModelChange",function(t){return e.onSelectedMonitoringStaffChange(t)}),c.Vc(9,Sb,3,3,"ng-container",7),c.Vc(10,Tb,3,0,"nz-option",8),c.Wb(),c.Wb(),c.Vc(11,Ib,8,4,"div",9),c.Vc(12,Mb,3,2,"div",9),c.Wb(),c.Xb(13,"div",10),c.Xb(14,"div",11),c.Xb(15,"button",12),c.ec("click",function(){return e.validateAndAssign()}),c.Xc(16," Confirm "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.rc("nzSpinning",e.loadingMismatchedSites),c.Db(2),c.rc("nzGutter",24),c.Db(1),c.rc("nzSpan",24),c.Db(2),c.rc("ngIf",!e.isAssignPrimary),c.Db(1),c.rc("ngIf",e.isAssignPrimary),c.Db(1),c.rc("nzSpan",24),c.Db(1),c.rc("ngModel",e.selectedStaff),c.Db(1),c.rc("ngForOf",e.listOfAllMonitoringStaffs),c.Db(1),c.rc("ngIf",e.loadingMonitoringStaff),c.Db(1),c.rc("ngIf",!e.isAssignPrimary&&"UNASSIGNED"!=e.previouslySelectedMonitoringStaffId),c.Db(1),c.rc("ngIf","UNASSIGNED"==e.previouslySelectedMonitoringStaffId&&e.selectedMonitoringStaffName&&null!=e.selectedMonitoringStaffName),c.Db(1),c.rc("nzGutter",24),c.Db(2),c.rc("nzLoading",e.loading)("disabled",null==e.selectedMonitoringStaffId))},directives:[ye.a,F.c,F.a,h.q,Y.d,b.u,b.x,h.p,B.a,j.a,G.a,Y.a,ut.a,x.a,H.a],styles:[".space-vertical[_ngcontent-%COMP%]{margin-top:18px}.overall-container[_ngcontent-%COMP%]{margin:12px;text-align:-webkit-center}[_nghost-%COMP%]     .ant-modal{top:35%}  .vertical-center-modal{display:flex;align-items:center;justify-content:center}  .vertical-center-modal .ant-modal{top:0}"]}),t})();var Ab=n("MXg9"),_b=n("BoNt"),Db=n("ALyH");function zb(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"nz-option",27),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=e.$implicit;c.Db(1),c.rc("nzValue",t.value)("nzLabel",t.label),c.Db(1),c.Zc(" ",t.label," ")}}function Ob(t,e){1&t&&(c.Xb(0,"nz-option",28),c.Xb(1,"div",29),c.Sb(2,"em",30),c.Wb(),c.Wb())}function Nb(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"span",35),c.Xb(2,"span",36),c.Xc(3),c.jc(4,"tenantName"),c.Wb(),c.Wb(),c.Ub()),2&t){const t=c.ic().$implicit;c.Db(3),c.Yc(c.kc(4,1,null==t?null:t.tenantId))}}function Pb(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"nz-option",31),c.jc(2,"userLocation"),c.jc(3,"userLocation"),c.Xb(4,"span",32),c.Xb(5,"span",33),c.Xc(6),c.Wb(),c.Vc(7,Nb,5,3,"ng-container",34),c.Wb(),c.Wb(),c.Ub()),2&t){const t=e.$implicit;c.Db(1),c.rc("nzLabel","N/A"==c.kc(2,3,null==t?null:t.id)?"All":c.kc(3,5,null==t?null:t.id))("nzValue",null==t?null:t.id),c.Db(5),c.Zc(" ",null==t?null:t.name," ")}}function Rb(t,e){1&t&&(c.Xb(0,"nz-option",28),c.Xb(1,"div",29),c.Sb(2,"em",30),c.Wb(),c.Wb())}function Xb(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"nz-option",37),c.Ub()),2&t){const t=e.$implicit;c.Db(1),c.rc("nzLabel",null==t?null:t.fullName)("nzValue",null==t?null:t.id)}}function Lb(t,e){1&t&&(c.Xb(0,"nz-option",28),c.Xb(1,"div",29),c.Sb(2,"em",30),c.Wb(),c.Wb())}function wb(t,e){1&t&&(c.Vb(0),c.Sb(1,"nz-option",38),c.Sb(2,"nz-option",39),c.Sb(3,"nz-option",40),c.Ub())}function Wb(t,e){if(1&t&&c.Sb(0,"app-staff-sub-tenants",43),2&t){const t=c.ic(4);c.rc("staffName",t.selectedStaffDetail.fullName)("assignedTenantIds",t.selectedStaffDetail.assignedTenantIds)}}function kb(t,e){if(1&t&&(c.Vb(0),c.Vc(1,Wb,1,2,"app-staff-sub-tenants",42),c.Ub()),2&t){const t=c.ic(3);c.Db(1),c.rc("ngIf",t.selectedStaffDetail)}}function Vb(t,e){1&t&&(c.Vb(0),c.Vc(1,kb,2,1,"ng-container",34),c.Ub())}function xb(t,e){if(1&t&&(c.Xb(0,"div",2),c.Xb(1,"div",41),c.Vc(2,Vb,2,0,"ng-container",14),c.Wb(),c.Wb()),2&t){const t=c.ic();c.rc("nzGutter",64),c.Db(2),c.rc("ngIf",!t.loadingMonitoringStaff)}}function Ub(t,e){1&t&&(c.Xb(0,"span"),c.Xc(1," No assigned monitoring staff "),c.Wb())}function Fb(t,e){1&t&&(c.Xb(0,"span"),c.Xc(1," No assigned physician "),c.Wb())}function Hb(t,e){1&t&&(c.Xb(0,"span"),c.Xc(1," Select a monitoring staff "),c.Wb())}function Bb(t,e){if(1&t){const t=c.Yb();c.Xb(0,"span",44),c.ec("click",function(e){c.Lc(t);const n=c.ic();return n.showSelectedMonitoringStaffs(e,n.selectedMonitoringStaffs)}),c.Xc(1),c.Wb()}if(2&t){const t=e.$implicit;c.Db(1),c.Zc("+ ",t.length," more \xa0\xa0")}}const jb=function(){return[24,24]};let Gb=(()=>{class t extends zs.a{constructor(t,e,n,i,a){super(),this._staffService=t,this._dataSharingService=e,this._notificationsService=n,this._modalService=i,this._siteService=a,this.loadingSite=!1,this.loadingPhysician=!1,this.loadingMonitoringStaff=!1,this.listOfAllMonitoringStaffs=[],this.setOfSelectedPatients=new Set,this.selectedSiteId=null,this.selectedPhysicianId=null,this.setOfCheckedId=new Set,this.indeterminate=!1,this.checked=!1,this.patientRequests$=new qe.a,this.patientStatuses=Array.of(Ab.a.ACTIVE,Ab.a.REGISTERED),this.primaryActionText="Assign to...",this.title="Assign Monitoring Staff",this.selectedPatientType="ALL",this.staffIdMap=new Map}ngOnInit(){this.activatedRoute.queryParams.pipe(Object(Ze.a)(this.unsubscribed)).subscribe(t=>{this.assignAs=t.assign,"PRIMARY"==this.assignAs&&(this.primaryActionText="Assign primary...",this.title="Assign Primary Monitoring Staff")}),this.fetchMonitoringStaff(),this._dataSharingService.onSubTenantChange().subscribe(t=>{this._bulkListComponent&&(this._bulkListComponent.clearAll(),this.selectedPhysicianId=null,this.selectedMonitoringStaffId=null,this.selectedSiteId=null,this.loadingSite=!0,this.listOfAllSites=[],this.listOfAllPhysicians=[],this.listOfAllMonitoringStaffs=[],this.fetchMonitoringStaff())})}fetchMonitoringStaff(){this.loadingMonitoringStaff=!0,this._staffService.fetchAllMonitoringStaffs().subscribe(t=>{let e=null==t?void 0:t.result;if(this.loadingMonitoringStaff=!1,null==e||0==e.length)return;this.listOfAllMonitoringStaffs.push({label:"No assigned monitoring staff",value:"UNASSIGNED",checked:!1});let n=e.map(t=>{var e;return this.staffIdMap.set(null===(e=null==t?void 0:t.user)||void 0===e?void 0:e.id,null==t?void 0:t.user),null==t?void 0:t.user}).map(t=>({label:t.fullName,value:t.id,checked:!1}));this.listOfAllMonitoringStaffs.push(...n)},t=>{this.loadingMonitoringStaff=!1,this._notificationsService.error("Monitoring staff","Loading monitoring staffs failed")})}onMonitoringStaffChange(){this.selectedStaffDetail=this.selectedMonitoringStaffId?this.staffIdMap.get(this.selectedMonitoringStaffId):void 0,this._bulkListComponent.clearAll(),this.selectedPhysicianId=null,this.selectedSiteId=null,this.loadingSite=!0,this.listOfAllSites=[],this.listOfAllPhysicians=null,this.selectedPatientType=this.selectedMonitoringStaffId?"ALL":null,this._siteService.getAllSites().subscribe(t=>{let e,n=new Map;e=t.result.forEach(t=>n.set(t.id,t)),"UNASSIGNED"==this.selectedMonitoringStaffId?(this.listOfAllSites.push({id:"",name:"All"}),this.listOfAllSites.push(...Array.from(n.values())),this.selectedSiteId="",this.loadingSite=!1,this.onSelectedSiteChange(this.selectedSiteId)):this._staffService.getStaffById(this.selectedMonitoringStaffId).subscribe(t=>{this.listOfAllSites.push({id:"",name:"All"}),t.user.locations.forEach(t=>this.listOfAllSites.push(n.get(t.id))),this.selectedSiteId="",this.loadingSite=!1,this.onSelectedSiteChange(this.selectedSiteId)},t=>{this._notificationsService.error("Site","Loading sites failed")})},t=>{this._notificationsService.error("Site","Loading sites failed"),this.loadingSite=!1})}onSelectedSiteChange(t){this.listOfAllPhysicians=[],this.selectedPhysicianId=null,this.loadingPhysician=!0,this.totalCount=0,this._bulkListComponent.clearAll(),null!=t&&(this.selectedSiteId=t,this._staffService.fetchAllPhysiciansBySiteId(t).subscribe(t=>{if(this.loadingPhysician=!1,null==t||0===t.totalCount)this.noPhysiciansAvailable=!0;else{if(this.listOfAllPhysicians=[],this.listOfAllPhysicians.push({id:"",fullName:"All"}),"UNASSIGNED"==this.selectedMonitoringStaffId)this.listOfAllPhysicians.push(...t.result.map(t=>t.user));else{let e=t.result.filter(t=>t.user.assignedStaffIds.some(t=>t===this.selectedMonitoringStaffId)).map(t=>t.user);this.listOfAllPhysicians.push(...e)}this.loadingPhysician=!1,this.selectedPhysicianId="",this.getPatients()}},t=>{this.loadingPhysician=!1,this._notificationsService.error("Physicians","Loading physicians failed"),this.noPhysiciansAvailable=!0}))}onSelectedPhysicianChange(t){this._bulkListComponent.clearAll(),null!=t&&this.getPatients()}onPatientTypeChange(){null!=this.selectedSiteId&&null!=this.selectedPhysicianId&&this.getPatients()}onPatientStatusChange(){var t;null!=this.selectedSiteId&&null!=this.selectedPhysicianId&&(null!=this.patientStatuses&&(null===(t=this.patientStatuses)||void 0===t?void 0:t.length)||(this.patientStatuses=Array.of(Ab.a.ACTIVE,Ab.a.REGISTERED)),this.getPatients())}search(t){null!=this.selectedSiteId&&null!=this.selectedPhysicianId&&this.getPatients(t)}getPatients(t){this._bulkListComponent.getPatientsList({staffId:this.selectedMonitoringStaffId,physicians:this.selectedPhysicianId,siteId:this.selectedSiteId,patientStatus:this.patientStatuses.join(),searchKey:t,assignedStaffType:this.selectedPatientType||"ALL"})}updateSelectedPatients(t){this.setOfCheckedId=t}onPatientSelection(t){this.setOfSelectedPatients=t}assign(){0!=this.setOfCheckedId.size?this._modalService.create({nzTitle:null,nzContent:yb,nzComponentParams:{selectedSiteId:this.selectedSiteId,selectedphysicianId:this.selectedPhysicianId,previouslySelectedMonitoringStaffId:this.selectedMonitoringStaffId,selectedPatients:this.setOfCheckedId,isAssignPrimary:"PRIMARY"==this.assignAs,selectedPatientList:this.setOfSelectedPatients},nzWidth:350,nzWrapClassName:"vertical-center-modal",nzMaskClosable:!0,nzClosable:!0,nzOkText:null,nzFooter:null}).afterClose.subscribe(t=>{(null==t?void 0:t.isAssigned)&&this._modalService.create({nzContent:gb.a,nzComponentParams:{selectedMonitoringStaffName:t.selectedMonitoringStaffName,isAssignPrimary:"PRIMARY"==this.assignAs},nzWrapClassName:"vertical-center-modal",nzTitle:null,nzFooter:null,nzClosable:!1,nzMaskClosable:!1,nzOkText:null,nzCancelText:null}).afterClose.subscribe(()=>{this._bulkListComponent.clearPatientSelection(),this.getPatients()})}):this._notificationsService.warning("Assign Monitoring Staff","Please choose atleast 1 patient.")}assignPrimary(){this.assign()}onPrimaryAction(t){"PRIMARY"==this.assignAs?this.assignPrimary():this.assign()}onSecondaryAction(t){null!=this._bulkListComponent&&this._bulkListComponent.clearPatientSelection(),this.setOfCheckedId.clear()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(sb.a),c.Rb(C.a),c.Rb(V.b),c.Rb(k.f),c.Rb(_b.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-bulk-monitoring-staff-assign"]],viewQuery:function(t,e){if(1&t&&c.ed(mb.a,1),2&t){let t;c.Hc(t=c.fc())&&(e._bulkListComponent=t.first)}},features:[c.Ab],decls:53,vars:25,consts:[[3,"title","defaultTitle","isActionEnabled","search"],[1,"container"],["nz-row","",1,"label-1",3,"nzGutter"],["nz-col","","nzXXl","2","nzXs","3","nzMd","4","nzLg","3","nzXl","2",1,"label"],["nz-col","","nzXXl","3","nzXs","9","nzMd","8","nzLg","5","nzXl","5",1,"staff-slect-box"],["nzPlaceHolder","Search Monitoring Staff","nzShowSearch","","nzAllowClear","",3,"ngModel","nzNotFoundContent","ngModelChange"],[4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nz-col","","nzXXl","2","nzXs","3","nzMd","4","nzLg","3","nzXl","3",1,"label"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a site",3,"ngModel","ngModelChange"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Physician",3,"ngModel","nzNotFoundContent","ngModelChange"],["nz-col","","nzXXl","1","nzXs","3","nzMd","4","nzLg","3","nzXl","2",1,"label"],["nz-col","","nzXXl","2","nzXs","9","nzMd","8","nzLg","5","nzXl","5",1,"staff-slect-box"],["nzPlaceHolder","Select patient type","nzAllowClear","",3,"ngModel","nzNotFoundContent","ngModelChange"],[4,"ngIf"],["nz-col","","nzXXl","4","nzXs","9","nzMd","8","nzLg","5","nzXl","5",1,"staff-slect-box"],["nzMode","multiple","nzPlaceHolder","Select Status",3,"ngModel","ngModelChange"],["nzCustomContent","","nzLabel","All","nzValue","ACTIVE,REGISTERED"],["nzCustomContent","","nzLabel","Registered","nzValue","REGISTERED"],["nzCustomContent","","nzLabel","Active","nzValue","ACTIVE"],["nz-row","","class","label-1",3,"nzGutter",4,"ngIf"],["nz-col","",3,"nzSpan"],["tableActionHint","BULK_ACTION.ASSIGN_STAFF_ACTION_HINT","defaultHint","BULK_ACTION.ASSIGN_STAFF_DEFAULT_TEXT","secondaryActionText","Clear Selection",3,"hideActionItems","primaryActionText","onUserSelectionChange","onPrimaryAction","onSecondaryAction","onPatientSelection"],["noMonitoringStaffData",""],["noPhysicianData",""],["emptyMonitoringStaffData",""],["selectedStaffsTagPlaceHolder",""],[3,"nzValue","nzLabel"],["nzDisabled","","nzCustomContent",""],[1,"loading-option"],["nz-icon","","nzType","loading",2,"font-size","20px","color","#8BC34A"],["nzCustomContent","",3,"nzLabel","nzValue"],[2,"display","flex"],[2,"width","70%"],[4,"isAccessAcrossTenantEnabled"],[2,"width","30%"],["nz-typography","","nzType","secondary",2,"color","var(--primary-color)"],[3,"nzLabel","nzValue"],["nzValue","ALL","nzLabel","All"],["nzValue","PRIMARY","nzLabel","Primary"],["nzValue","OTHER","nzLabel","Secondary"],["nz-col","","nzSpan","14",2,"padding-left","10px !important"],[3,"staffName","assignedTenantIds",4,"ngIf"],[3,"staffName","assignedTenantIds"],[1,"max-tag-placeholder",3,"click"]],template:function(t,e){if(1&t&&(c.Xb(0,"app-header",0),c.ec("search",function(t){return e.search(t)}),c.Wb(),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"div",3),c.Xb(4,"span"),c.Xc(5,"Monitoring Staff"),c.Wb(),c.Wb(),c.Xb(6,"div",4),c.Xb(7,"nz-select",5),c.ec("ngModelChange",function(t){return e.selectedMonitoringStaffId=t})("ngModelChange",function(){return e.onMonitoringStaffChange()}),c.Vc(8,zb,3,3,"ng-container",6),c.Vc(9,Ob,3,0,"nz-option",7),c.Wb(),c.Wb(),c.Xb(10,"div",8),c.Xb(11,"span"),c.Xc(12,"Site"),c.Wb(),c.Wb(),c.Xb(13,"div",4),c.Xb(14,"nz-select",9),c.ec("ngModelChange",function(t){return e.selectedSiteId=t})("ngModelChange",function(t){return e.onSelectedSiteChange(t)}),c.Vc(15,Pb,8,7,"ng-container",6),c.Vc(16,Rb,3,0,"nz-option",7),c.Wb(),c.Wb(),c.Xb(17,"div",8),c.Xb(18,"span"),c.Xc(19,"Physician"),c.Wb(),c.Wb(),c.Xb(20,"div",4),c.Xb(21,"nz-select",10),c.ec("ngModelChange",function(t){return e.selectedPhysicianId=t})("ngModelChange",function(t){return e.onSelectedPhysicianChange(t)}),c.Vc(22,Xb,2,2,"ng-container",6),c.Vc(23,Lb,3,0,"nz-option",7),c.Wb(),c.Wb(),c.Xb(24,"div",11),c.Xb(25,"span"),c.Xc(26,"Type"),c.Wb(),c.Wb(),c.Xb(27,"div",12),c.Xb(28,"nz-select",13),c.ec("ngModelChange",function(t){return e.selectedPatientType=t})("ngModelChange",function(){return e.onPatientTypeChange()}),c.Vc(29,wb,4,0,"ng-container",14),c.Wb(),c.Wb(),c.Xb(30,"div",8),c.Xb(31,"span"),c.Xc(32,"Patient Status"),c.Wb(),c.Wb(),c.Xb(33,"div",15),c.Xb(34,"nz-select",16),c.ec("ngModelChange",function(t){return e.patientStatuses=t})("ngModelChange",function(){return e.onPatientStatusChange()}),c.Xb(35,"nz-option",17),c.Xc(36,"All"),c.Wb(),c.Xb(37,"nz-option",18),c.Xc(38,"Registered"),c.Wb(),c.Xb(39,"nz-option",19),c.Xc(40,"Active"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Vc(41,xb,3,2,"div",20),c.Xb(42,"div",2),c.Xb(43,"div",21),c.Xb(44,"app-bulk-patient-list",22),c.ec("onUserSelectionChange",function(t){return e.updateSelectedPatients(t)})("onPrimaryAction",function(t){return e.onPrimaryAction(t)})("onSecondaryAction",function(t){return e.onSecondaryAction(t)})("onPatientSelection",function(t){return e.onPatientSelection(t)}),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Vc(45,Ub,2,0,"ng-template",null,23,c.Wc),c.Vc(47,Fb,2,0,"ng-template",null,24,c.Wc),c.Vc(49,Hb,2,0,"ng-template",null,25,c.Wc),c.Vc(51,Bb,2,1,"ng-template",null,26,c.Wc)),2&t){const t=c.Ic(46),n=c.Ic(48),i=c.Ic(50);c.rc("title",e.title)("defaultTitle",e.title)("isActionEnabled",!1),c.Db(2),c.rc("nzGutter",c.xc(24,jb)),c.Db(5),c.rc("ngModel",e.selectedMonitoringStaffId)("nzNotFoundContent",t),c.Db(1),c.rc("ngForOf",e.listOfAllMonitoringStaffs),c.Db(1),c.rc("ngIf",e.loadingMonitoringStaff),c.Db(5),c.rc("ngModel",e.selectedSiteId),c.Db(1),c.rc("ngForOf",e.listOfAllSites),c.Db(1),c.rc("ngIf",e.loadingSite),c.Db(5),c.rc("ngModel",e.selectedPhysicianId)("nzNotFoundContent",n),c.Db(1),c.rc("ngForOf",e.listOfAllPhysicians),c.Db(1),c.rc("ngIf",e.loadingPhysician),c.Db(5),c.rc("ngModel",e.selectedPatientType)("nzNotFoundContent",i),c.Db(1),c.rc("ngIf",e.selectedMonitoringStaffId),c.Db(5),c.rc("ngModel",e.patientStatuses),c.Db(7),c.rc("ngIf",e.selectedStaffDetail),c.Db(1),c.rc("nzGutter",64),c.Db(1),c.rc("nzSpan",24),c.Db(1),c.rc("hideActionItems",!0)("primaryActionText",e.primaryActionText)}},directives:[Hd.a,F.c,F.a,Y.d,b.u,b.x,h.p,h.q,Y.a,mb.a,G.a,ut.a,dn.a,x.a,Db.a],pipes:[cb.a,Xl.a],styles:[".label[_ngcontent-%COMP%]{text-align:right;margin-top:8px}.label-1[_ngcontent-%COMP%]{margin-top:10px}.container-bulk[_ngcontent-%COMP%]{padding-top:20px 20px!important}.align-left[_ngcontent-%COMP%]{text-align:left!important}.align-center[_ngcontent-%COMP%]{text-align:center!important}.staff-slect-box[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}#status-select[_ngcontent-%COMP%]{margin-top:-10px}[_nghost-%COMP%]     .ant-select-selection-placeholder{right:unset}"]}),t})();var Yb=n("cp0P"),$b=n("eq8A"),qb=n("m3lz");function Zb(t,e){1&t&&(c.Xb(0,"span",13),c.Xc(1," Completed "),c.Sb(2,"i",14),c.Wb())}function Qb(t,e){1&t&&(c.Xb(0,"div",15),c.Sb(1,"i",16),c.Wb()),2&t&&c.rc("nzSpan",6)}function Kb(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",5),c.ec("click",function(){c.Lc(t);const e=c.ic().$implicit;return c.ic().onClick(e)}),c.Xb(1,"div",6),c.Xb(2,"div",7),c.Xb(3,"p",8),c.Xb(4,"strong"),c.Xc(5),c.Wb(),c.Wb(),c.Wb(),c.Xb(6,"div",7),c.Vc(7,Zb,3,0,"span",9),c.Vc(8,Qb,2,1,"div",10),c.Wb(),c.Wb(),c.Xb(9,"div",6),c.Xb(10,"div",7),c.Xb(11,"p",11),c.Xc(12),c.jc(13,"titlecase"),c.jc(14,"userLocations"),c.Wb(),c.Wb(),c.Wb(),c.Xb(15,"div",6),c.Xb(16,"div",7),c.Xb(17,"p",12),c.Xc(18),c.Wb(),c.Wb(),c.Xb(19,"div",7),c.Xb(20,"p",12),c.Xc(21),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.ic().$implicit;c.Db(2),c.rc("nzSpan",18),c.Db(1),c.sc("nzTooltipTitle",null==t?null:t.staffName),c.Db(2),c.Zc(" ",null==t?null:t.staffName," "),c.Db(1),c.rc("nzSpan",6),c.Db(1),c.rc("ngIf",null==t?null:t.completed),c.Db(1),c.rc("ngIf",null==t?null:t.disabled),c.Db(2),c.rc("nzSpan",12),c.Db(2),c.Zc(" ",c.kc(13,12,c.kc(14,14,null==t?null:t.siteId))," "),c.Db(4),c.rc("nzSpan",16),c.Db(2),c.Zc(" Patients Reassigned: ",null==t?null:t.reassigned,""),c.Db(1),c.rc("nzSpan",8),c.Db(2),c.Zc(" Pending: ",null==t?null:t.pendingReassigning,"")}}function Jb(t,e){if(1&t&&(c.Vb(0),c.Sb(1,"nz-tab",3),c.Vc(2,Kb,22,16,"ng-template",null,4,c.Wc),c.Ub()),2&t){const t=c.Ic(3);c.Db(1),c.rc("nzTitle",t)}}function tg(t,e){1&t&&c.Sb(0,"i",17)}let eg=(()=>{class t{constructor(t){this._staffService=t,this.onPhysicianSelected=new c.n,this.sitePhysicianMap=new Map,this.styleClass="staff-detail-card",this.style={height:"100px"}}ngOnInit(){}onClick(t){this.onPhysicianSelected.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(sb.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["staff-detail-card"]],inputs:{physicians:"physicians",staffId:"staffId"},outputs:{onPhysicianSelected:"onPhysicianSelected"},decls:4,vars:3,consts:[[3,"nzTabBarStyle","nzTabBarGutter"],[4,"ngFor","ngForOf"],["loading",""],[3,"nzTitle"],["staffData",""],[1,"tab-card-container",3,"click"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-tooltip","",1,"physician-name",3,"nzTooltipTitle"],["class","completed-tag",4,"ngIf"],["nz-col","","nz-tooltip","","nzTooltipTitle","No monitoring staff available to reassign.",3,"nzSpan",4,"ngIf"],[1,"location-name"],[1,"pending-count"],[1,"completed-tag"],["nz-icon","","nzType","check-circle","nzTheme","outline"],["nz-col","","nz-tooltip","","nzTooltipTitle","No monitoring staff available to reassign.",3,"nzSpan"],["nz-icon","","nzType","warning","nzTheme","outline"],["nz-icon","","nzType","loading","nzTheme","outline"]],template:function(t,e){1&t&&(c.Xb(0,"nz-tabset",0),c.Vc(1,Jb,4,1,"ng-container",1),c.Wb(),c.Vc(2,tg,1,0,"ng-template",null,2,c.Wc)),2&t&&(c.rc("nzTabBarStyle",e.style)("nzTabBarGutter",0),c.Db(1),c.rc("ngForOf",e.physicians))},directives:[$s.d,h.p,$s.a,F.c,F.a,Oe.d,h.q,G.a,ut.a],pipes:[h.A,qb.a],styles:["[_nghost-%COMP%]     .ant-tabs-tab{margin-left:10px}[_nghost-%COMP%]     .ant-tabs-ink-bar{background:transparent}[_nghost-%COMP%]     .ant-card-body{background:transparent}.staff-detail-card[_ngcontent-%COMP%]{width:300px;height:120px;margin-top:110px;border:1px solid #eae7e7}.staff-detail-card-click-focus[_ngcontent-%COMP%], .staff-detail-card[_ngcontent-%COMP%]:hover{border:1px solid var(--primary-color)}[_nghost-%COMP%]     .ant-tabs-tab{background:var(--neutral-color);border-radius:10px;height:100px;border:1px solid #eae7e7;padding:0 12px;margin-left:0;margin-right:10px!important}[_nghost-%COMP%]     .ant-tabs-nav{padding:0!important}[_nghost-%COMP%]     .ant-tabs-tab-active{border:1px solid var(--primary-color)}.tab-card-container[_ngcontent-%COMP%]{background:var(--neutral-color);width:300px}.tab-card-container[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.physician-name[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0;white-space:nowrap;width:200px;overflow:hidden;text-overflow:ellipsis}.physician-name[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.location-name[_ngcontent-%COMP%]{font-size:14px}.location-name[_ngcontent-%COMP%], .pending-count[_ngcontent-%COMP%]{margin-bottom:0}.completed-tag[_ngcontent-%COMP%]{font-size:11px;background:var(--primary-color);margin:0;padding:3px;border-radius:5px 0 0 5px;color:var(--neutral-color)}"]}),t})();function ng(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"staff-detail-card",12),c.ec("onPhysicianSelected",function(e){return c.Lc(t),c.ic().onPhysicianSelected(e)}),c.Wb(),c.Ub()}if(2&t){const t=c.ic();c.Db(1),c.rc("physicians",t.results)("staffId",t.staffId)}}const ig=function(){return{size:"large"}};function ag(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"nz-card",13),c.Xb(2,"nz-skeleton",14),c.Sb(3,"nz-card-meta",15),c.Wb(),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(2),c.rc("nzActive",!0)("nzLoading",t.loading)("nzAvatar",c.xc(4,ig)),c.Db(1),c.rc("nzAvatar",t.avatarTemplate)}}function og(t,e){1&t&&(c.Xb(0,"div",1),c.Xb(1,"div",2),c.Sb(2,"img",16),c.Wb(),c.Wb()),2&t&&(c.rc("nzGutter",64),c.Db(1),c.rc("nzSpan",24))}function sg(t,e){1&t&&(c.Xb(0,"div",1),c.Xb(1,"div",2),c.Sb(2,"img",17),c.Wb(),c.Wb()),2&t&&(c.rc("nzGutter",64),c.Db(1),c.rc("nzSpan",24))}let rg=(()=>{class t extends zs.a{constructor(t,e,n,i,a,o){super(),this._staffService=t,this._route=e,this._location=n,this._router=i,this._notificationService=a,this._modalService=o,this.loading=!1,this.results=new Array,this.patientStatuses=Array.of(Ab.a.ACTIVE,Ab.a.REGISTERED),this.assignedStaffMap=new Map,this.staffNameMap=new Map,this.sitePhysicianStaffPresentMap=new Map,this.hoverImgStyle={maxWidth:"none"},this.onPrimaryAction=t=>this.assignTo(),this._routeHelperService.isPrimaryActionTriggered().pipe(Object(fd.a)(t=>!!t),Object(Ze.a)(this.unsubscribed)).subscribe(t=>{this.disableStaff()})}ngOnInit(){this.getDataFromURL(),this.initSubscribers(),this.init({caretakers:this.$getAllCaretakersObservable,patients:this.$patientListForDisabledStaffObservable})}init(t){this.loading=!0,Object(Yb.a)(t).subscribe(t=>{t.caretakers&&this.initCaretakerData(t.caretakers),this.initPatientCards(t.patients)})}initPatientCards(t){this.isAllCompleted=!0,this.assignedList=t.reassignedList,this.results=[...t.patientDetails],this.results.forEach(t=>this.isAllCompleted=t.completed&&this.isAllCompleted),this.isAllCompleted?this._routeHelperService.setPrimaryEnableAction(!1):this.getCaretakersData(),this.onPhysicianSelected(t.patientDetails[0]),this.loading=!1,this.processReAssignList()}initCaretakerData(t){t.result.forEach(t=>this.staffNameMap.set(t.user.id,t.user.fullName))}processReAssignList(){this.assignedStaffMap.clear(),this.results.forEach(t=>{t.patients.forEach(t=>{t.assignedStaffIds.filter(t=>t!=this.staffId).forEach(e=>{this.staffNameMap.has(e)&&(this.assignedStaffMap.has(t.id)?this.assignedStaffMap.set(t.id,this.assignedStaffMap.get(t.id)+", "+this.staffNameMap.get(e)):this.assignedStaffMap.set(t.id,this.staffNameMap.get(e)))})})})}initSubscribers(){this.$getAllCaretakersObservable=this._staffService.fetchAllMonitoringStaffBySiteIdAndPhysicianId(),this.$patientListForDisabledStaffObservable=this._staffService.getPatientListForDisabledStaff(this.staffId)}getDataFromURL(){this._route.params.forEach(t=>{this.staffId=t.staffId}),this._route.queryParams.forEach(t=>{this.staffName=t.staffName})}onPhysicianSelected(t){this.selectedPhysician=t,null!=this._bulkListComponent&&this._bulkListComponent.clearAll(),this._bulkListComponent.getPatientsList({staffId:this.staffId,physicians:t.staffId,siteId:t.siteId})}updateSelectedPatients(t){this.setOfCheckedId=t}assignTo(){this.sitePhysicianStaffPresentMap.get(this.selectedPhysician.staffId+"_"+this.selectedPhysician.siteId)?this._modalService.create({nzTitle:null,nzContent:yb,nzComponentParams:{selectedSiteId:this.selectedPhysician.siteId,selectedphysicianId:this.selectedPhysician.staffId,previouslySelectedMonitoringStaffId:this.staffId,selectedPatients:this.setOfCheckedId,isRequestFromDisableStaff:!0},nzWrapClassName:"vertical-center-modal",nzWidth:350,nzMaskClosable:!0,nzClosable:!0,nzOkText:null,nzFooter:null}).afterClose.subscribe(t=>{t.isAssigned&&this._modalService.create({nzContent:gb.a,nzComponentParams:{selectedMonitoringStaffName:t.selectedMonitoringStaffName},nzWrapClassName:"vertical-center-modal",nzTitle:null,nzFooter:null,nzClosable:!1,nzMaskClosable:!1,nzOkText:null,nzCancelText:null}).afterClose.subscribe(()=>{this._bulkListComponent.clearPatientSelection(),this._bulkListComponent.setOfCheckedId.clear(),this.setOfCheckedId.clear(),this.init({patients:this.$patientListForDisabledStaffObservable})})}):this._notificationService.info("Assign Staff","There are no other staff members assigned to this physician under this site. You can proceed to disable this staff member.")}disableStaff(){this._modalService.create({nzContent:$b.a,nzMaskClosable:!1,nzClosable:!1,nzFooter:null,nzTitle:"Are you sure you want to disable the staff?",nzCancelText:null,nzOkText:null,nzWrapClassName:"vertical-center-modal",nzBodyStyle:{paddingTop:"0px"}}).afterClose.subscribe(t=>{t.isConfirmed&&this._staffService.disableMonitoringStaff(this.staffId,t.reason).subscribe(e=>{this.generateAndDownloadReport(),this._modalService.create({nzContent:gb.a,nzComponentParams:{selectedMonitoringStaffName:t.selectedMonitoringStaffName,referer:"DISABLE_MONITORING_STAFF"},nzTitle:null,nzFooter:null,nzClosable:!1,nzMaskClosable:!1,nzOkText:null,nzWrapClassName:"vertical-center-modal",nzCancelText:null}).afterClose.subscribe(()=>{this._location.back()})})})}generateAndDownloadReport(){this._staffService.generateAndDownloadReport(this.staffId).subscribe(t=>{null!=t.fileName&&window.open(`${st.g.url}/v2/media/${t.fileName}`)})}onSecondaryAction(t){null!=this._bulkListComponent&&this._bulkListComponent.clearPatientSelection(),this.setOfCheckedId.clear()}getCaretakersData(){let t={};this.results.forEach(e=>{t[e.staffId+"_"+e.siteId]=this._staffService.fetchAllMonitoringStaffBySiteIdAndPhysicianId(e.siteId,e.staffId)}),this.getCaretakers(t)}getCaretakers(t){Object(Yb.a)(t).subscribe(t=>{let e=!0;Object.keys(t).forEach(n=>{let i=t[n].result.filter(t=>t.user.id!=this.staffId).length>0;this.sitePhysicianStaffPresentMap.set(n,i),e=e&&i}),this._routeHelperService.setPrimaryEnableAction(e)})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(sb.a),c.Rb(d.a),c.Rb(h.l),c.Rb(d.g),c.Rb(V.b),c.Rb(k.f))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-disable-monitoring-staff"]],viewQuery:function(t,e){if(1&t&&c.ed(mb.a,1),2&t){let t;c.Hc(t=c.fc())&&(e._bulkListComponent=t.first)}},features:[c.Ab],decls:31,vars:18,consts:[[1,"container"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-col","",2,"padding-left","0px !important",3,"nzSpan"],[4,"ngIf"],["defaultHint","BULK_ACTION.ASSIGN_STAFF_DEFAULT_TEXT","primaryActionText","Assign to...","secondaryActionText","Clear Selection",3,"hideActionItems","showAssignedStatus","assignedStaffMap","onUserSelectionChange","onPrimaryAction","onSecondaryAction"],[2,"font","normal normal 600 13px/24px Nunito"],["nz-icon","","nzType","info-circle","nzTheme","fill",2,"color","var(--primary-color)"],["nzType","link","nz-tooltip","","nzTooltipColor","white","nzTooltipArrowPointAtCenter","false","nzTooltipPlacement","top","nz-button","",1,"link-btn",3,"nzTooltipTitle","nzTooltipOverlayStyle"],[2,"text-decoration","underline","font","normal normal 600 13px/24px Nunito"],["filterImg",""],["widgetImg",""],[3,"physicians","staffId","onPhysicianSelected"],[2,"width","300px","height","150px","margin-top","16px"],[3,"nzActive","nzLoading","nzAvatar"],["nzTitle","Card title","nzDescription","This is the description",3,"nzAvatar"],["src","../../../../assets/images/help-guides/filterImg.svg","alt","Monitoring Staff Filter",1,"filter-img"],["src","../../../../assets/images/help-guides/widgetImg.svg","alt","Monitoring Staff Widget",1,"widget-img"]],template:function(t,e){if(1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"p"),c.Xb(4,"strong"),c.Xc(5),c.Wb(),c.Xc(6," is assigned to multiple patients under the following physicians. We will be able to disable their profile once we ensure all their patients have/ or are assigned to at least one other monitoring staff."),c.Wb(),c.Wb(),c.Wb(),c.Xb(7,"div",1),c.Xb(8,"div",3),c.Vc(9,ng,2,2,"ng-container",4),c.Vc(10,ag,4,5,"ng-container",4),c.Wb(),c.Wb(),c.Xb(11,"div",1),c.Xb(12,"div",2),c.Xb(13,"app-bulk-patient-list",5),c.ec("onUserSelectionChange",function(t){return e.updateSelectedPatients(t)})("onPrimaryAction",function(t){return e.onPrimaryAction(t)})("onSecondaryAction",function(t){return e.onSecondaryAction(t)}),c.Wb(),c.Wb(),c.Wb(),c.Xb(14,"div",1),c.Xb(15,"div",2),c.Xb(16,"p",6),c.Sb(17,"i",7),c.Xc(18," The list of patients without any assigned staff can be obtained by "),c.Xb(19,"button",8),c.Xb(20,"p",9),c.Xc(21,"filtering the patients"),c.Wb(),c.Wb(),c.Xc(22," or by using the same widget from your "),c.Xb(23,"button",8),c.Xb(24,"p",9),c.Xc(25,"dashboard"),c.Wb(),c.Wb(),c.Xc(26,". "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Vc(27,og,3,2,"ng-template",null,10,c.Wc),c.Vc(29,sg,3,2,"ng-template",null,11,c.Wc)),2&t){const t=c.Ic(28),n=c.Ic(30);c.Db(1),c.rc("nzGutter",24),c.Db(1),c.rc("nzSpan",24),c.Db(3),c.Zc(" ",e.staffName," "),c.Db(2),c.rc("nzGutter",24),c.Db(1),c.rc("nzSpan",24),c.Db(1),c.rc("ngIf",!e.loading),c.Db(1),c.rc("ngIf",e.loading),c.Db(1),c.rc("nzGutter",64),c.Db(1),c.rc("nzSpan",24),c.Db(1),c.rc("hideActionItems",!0)("showAssignedStatus",!0)("assignedStaffMap",e.assignedStaffMap),c.Db(1),c.rc("nzGutter",64),c.Db(1),c.rc("nzSpan",24),c.Db(4),c.rc("nzTooltipTitle",t)("nzTooltipOverlayStyle",e.hoverImgStyle),c.Db(4),c.rc("nzTooltipTitle",n)("nzTooltipOverlayStyle",e.hoverImgStyle)}},directives:[F.c,F.a,h.q,mb.a,G.a,ut.a,B.a,Oe.d,eg,lt.a,Js.a,lt.c],styles:["[nz-carousel-content][_ngcontent-%COMP%]{text-align:center;height:160px;line-height:160px;background:#364d79;overflow:hidden}[nz-carousel-content][_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:var(--neutral-color)}h3[_ngcontent-%COMP%]{margin-bottom:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.filter-img[_ngcontent-%COMP%]{width:592px;height:336px}.filter-text[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover, .widget-img[_ngcontent-%COMP%]{width:320px;height:195px}.filter-text[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{top:677px;left:1050px;opacity:1}.ant-btn.link-btn[_ngcontent-%COMP%]{padding:4.8px 0}"]}),t})(),cg=(()=>{class t{constructor(t){this.router=t}canActivate(t,e){const n=localStorage.getItem("loggedInUserAccountType"),i="true"==localStorage.getItem("tenantDeviceOrderEnabled");let a="TENANT_ADMIN"===n&&i;return a||this.router.navigate(["/forbidden"]),a}}return t.\u0275fac=function(e){return new(e||t)(c.bc(d.g))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var lg=n("q7YW");function dg(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"div",7),c.Xb(2,"div",8),c.Xb(3,"div",9),c.Xb(4,"label",10),c.Xc(5,"Patient Type"),c.Wb(),c.Wb(),c.Xb(6,"div",11),c.Xb(7,"nz-select",12),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic(2).patientType=e})("ngModelChange",function(){return c.Lc(t),c.ic(2).onAssignedStaffChange()}),c.Sb(8,"nz-option",13),c.Sb(9,"nz-option",14),c.Sb(10,"nz-option",15),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ub()}if(2&t){const t=c.ic(2);c.Db(7),c.rc("ngModel",t.patientType)}}function ug(t,e){if(1&t&&c.Vc(0,dg,11,1,"ng-container",6),2&t){const t=c.ic();c.rc("ngIf",!("TENANT_ADMIN"==t.activeRoleType||"PHYSICIAN"==t.activeRoleType))}}const pg=function(t){return{left:t}};let hg=(()=>{class t{constructor(t){this._routeHelperService=t,this.patientType="ALL",this.patientTypeChange=new c.n,this.onTabChange=new c.n,this.refresh=new c.n,this.tabIndex=new Map([[0,Al.a.OPEN],[1,Al.a.CLOSED]]),this.onSelectedTabIndexChange=t=>this.onTabChange.emit(this.tabIndex.get(t))}ngOnInit(){this.activeRoleType=localStorage.getItem("loggedInUserRole"),this.selectedTabIndex="OPEN"==this.status?0:1,this._routeHelperService.isSidebarCollapsed().subscribe(t=>{this.sidebarCollapsed=t,this.resizeHeader()}),Object(lg.fromEvent)(window,"sidebar").pipe(Object(Et.a)(50)).subscribe(t=>{var e;this.sidebarCollapsed=null===(e=null==t?void 0:t.detail)||void 0===e?void 0:e.state,this.resizeHeader()})}resizeHeader(){this.headerLeft=this.sidebarCollapsed?"0":"150px"}onAssignedStaffChange(){sessionStorage.setItem("patientType",this.patientType),this.patientTypeChange.emit(this.patientType),this.refresh.emit()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(se.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-alert-header"]],inputs:{status:"status",patientType:"patientType"},outputs:{patientTypeChange:"patientTypeChange",onTabChange:"onTabChange",refresh:"refresh"},decls:10,vars:11,consts:[["ngTour","patientListHeaders",3,"nzSelectedIndex","ngStyle","nzTabBarExtraContent","nzSelectedIndexChange"],[3,"nzTitle"],["openAlertTab",""],["closedAlertTab",""],["patientTypeTemplate",""],[1,"header-spacer"],[4,"ngIf"],[2,"display","inline-block","min-width","230px"],["nz-row","","nzAlign","middle","nzGutter","12"],["nz-col",""],["nz-typography","","nzType","secondary"],["nz-col","","nzFlex","150px"],["nzPlaceHolder","Select patient type",3,"ngModel","ngModelChange"],["nzValue","ALL","nzLabel","All"],["nzValue","PRIMARY","nzLabel","Primary"],["nzValue","OTHER","nzLabel","Secondary"]],template:function(t,e){if(1&t&&(c.Xb(0,"nz-tabset",0),c.ec("nzSelectedIndexChange",function(t){return e.onSelectedTabIndexChange(t)}),c.Sb(1,"nz-tab",1,2),c.jc(3,"translate"),c.Sb(4,"nz-tab",1,3),c.jc(6,"translate"),c.Wb(),c.Vc(7,ug,1,1,"ng-template",null,4,c.Wc),c.Sb(9,"div",5)),2&t){const t=c.Ic(8);c.rc("nzSelectedIndex",e.selectedTabIndex)("ngStyle",c.yc(9,pg,e.headerLeft))("nzTabBarExtraContent",t),c.Db(1),c.sc("nzTitle",c.kc(3,5,"ALERTS.OPEN")),c.Db(3),c.sc("nzTitle",c.kc(6,7,"ALERTS.CLOSED"))}},directives:[$s.d,ze.e,h.r,$s.a,h.q,F.c,F.a,x.a,Y.d,b.u,b.x,Y.a],pipes:[Z.a],styles:[".search[_ngcontent-%COMP%]{background:#393939;color:var(--neutral-color);border:none;height:30px;outline:none}[_nghost-%COMP%]     .ant-tabs-nav{background:var(--light-black)}[_nghost-%COMP%]     .ant-input-group-addon{background-color:transparent}[_nghost-%COMP%]     .ant-input-search>.ant-input-group>.ant-input-group-addon .ant-input-search-button{padding:5px 10px;border-radius:5px;height:30px}[_nghost-%COMP%]     .ant-tabs-tab{height:unset}[_nghost-%COMP%]     .ant-tabs-tab-active{border-bottom:4px solid var(--primary-color)!important}[_nghost-%COMP%]     .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn{color:var(--neutral-color)}[_nghost-%COMP%]     .ant-input-group-wrapper{width:inherit}[_nghost-%COMP%]     .ant-tabs{z-index:998;position:fixed;right:0;display:contents}.header-spacer[_ngcontent-%COMP%]{height:0}a[_ngcontent-%COMP%]{float:right;color:var(--neutral-color);font-weight:700;height:30px;margin:0 15px}#username[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:3}app-icons[_ngcontent-%COMP%]{vertical-align:middle}.ant-tabs-bottom[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], .ant-tabs-bottom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], .ant-tabs-top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-tabs-top>.ant-tabs-nav{margin:0}.ant-tabs[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%]   .ant-tabs-nav-list[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-tabs>.ant-tabs-nav .ant-tabs-nav-list{color:var(--neutral-color)}.ant-btn-circle-outline[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-btn-circle{border:none}"]}),t})();var bg=n("bE2y"),gg=n("OkQO");function mg(t,e){1&t&&(c.Vb(0),c.Xc(1," Stage 3 - "),c.Ub())}function fg(t,e){if(1&t){const t=c.Yb();c.Xb(0,"nz-tag",26),c.ec("click",function(){return c.Lc(t),c.ic().startTimer()}),c.Xc(1),c.Wb()}if(2&t){const t=c.ic();c.Db(1),c.Zc(" ",t.timerRunning?"End Timer":"Start Timer"," ")}}function vg(t,e){1&t&&(c.Xb(0,"nz-tag",27),c.Xc(1," Reopened "),c.Wb())}function Sg(t,e){if(1&t){const t=c.Yb();c.Xb(0,"span",28),c.ec("click",function(){c.Lc(t);const e=c.ic();return e.markAsClosed(null==e.alert?null:e.alert.id)}),c.Wb()}}function Tg(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"span",29),c.Xc(2),c.jc(3,"tenantName"),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(2),c.Zc(" | ",c.kc(3,1,null==t.alert||null==t.alert.patient?null:t.alert.patient.tenantId)," ")}}function Cg(t,e){1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"translate"),c.Ub()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"COMMON_SELECT_VITAL_SIGN")," "))}function Eg(t,e){1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"translate"),c.Ub()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"COMMON.SURVEYFORM")," "))}function Ig(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"span",19),c.jc(2,"alertValue"),c.Xc(3),c.jc(4,"alertValue"),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.sc("nzTooltipTitle",c.mc(2,2,null==t.alert?null:t.alert.type,"VITAL_SIGN",null==t.alert?null:t.alert.alertMessageParameters)),c.Db(2),c.Zc(" ",c.mc(4,6,null==t.alert?null:t.alert.type,"VITAL_SIGN",null==t.alert?null:t.alert.alertMessageParameters)," ")}}function Mg(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"span",19),c.jc(2,"alertValue"),c.Xc(3),c.jc(4,"alertValue"),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.sc("nzTooltipTitle",c.mc(2,2,null==t.alert||null==t.alert.linkedAlerts[0]?null:t.alert.linkedAlerts[0].type,"VITAL_SIGN",null==t.alert||null==t.alert.linkedAlerts[0]?null:t.alert.linkedAlerts[0].alertMessageParameters)),c.Db(2),c.Zc(" ",c.mc(4,6,null==t.alert||null==t.alert.linkedAlerts[0]?null:t.alert.linkedAlerts[0].type,"VITAL_SIGN",null==t.alert||null==t.alert.linkedAlerts[0]?null:t.alert.linkedAlerts[0].alertMessageParameters)," ")}}function yg(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"span",19),c.Xc(2),c.Wb(),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.rc("nzTooltipTitle",null==t.alert||null==t.alert.alertMessageParameters?null:t.alert.alertMessageParameters.FORM_NAME),c.Db(1),c.Zc(" ",null==t.alert||null==t.alert.alertMessageParameters?null:t.alert.alertMessageParameters.FORM_NAME," ")}}function Ag(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",30),c.Xb(2,"div",15),c.Xb(3,"div",16),c.Xb(4,"span",18),c.Vc(5,Cg,3,3,"ng-container",5),c.Vc(6,Eg,3,3,"ng-container",5),c.Wb(),c.Wb(),c.Xb(7,"div",16),c.Vc(8,Ig,5,10,"ng-container",5),c.Vc(9,Mg,5,10,"ng-container",5),c.Vc(10,yg,3,2,"ng-container",5),c.Wb(),c.Wb(),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(5),c.rc("ngIf","VITAL_LIMIT_CROSSED"==t.alert.type||"PRIORITISED"==t.alert.type&&"VITAL_LIMIT_CROSSED"==t.alert.alertMessageParameters.LINKED_ALERT_TYPE),c.Db(1),c.rc("ngIf","FORM_ALERT"==t.alert.type),c.Db(2),c.rc("ngIf","VITAL_LIMIT_CROSSED"==t.alert.type),c.Db(1),c.rc("ngIf","PRIORITISED"==t.alert.type),c.Db(1),c.rc("ngIf","FORM_ALERT"==t.alert.type)}}function _g(t,e){1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"translate"),c.Ub()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"VITAL.LAST_MEASURED_READING")," "))}function Dg(t,e){1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"translate"),c.Ub()),2&t&&(c.Db(1),c.Zc(" ",c.kc(2,1,"ALERT.LAST_SCORES_RISK")," "))}function zg(t,e){if(1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"alertValue"),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",c.nc(2,1,null==t.alert?null:t.alert.type,"VALUE",null==t.alert?null:t.alert.alertMessageParameters,null==t.alert||null==t.alert.alertMessageParameters?null:t.alert.alertMessageParameters.RAISED_FOR)," ")}}function Og(t,e){if(1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"alertValue"),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",c.mc(2,1,null==t.alert?null:t.alert.type,"VALUE",null==t.alert?null:t.alert.alertMessageParameters)," ")}}function Ng(t,e){if(1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"titlecase"),c.jc(3,"translate"),c.jc(4,"alertValue"),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",c.kc(2,1,c.kc(3,3,c.nc(4,5,null==t.alert?null:t.alert.type,"ALERT_TYPE",null==t.alert?null:t.alert.alertMessageParameters,null==t.alert||null==t.alert.alertMessageParameters?null:t.alert.alertMessageParameters.RAISED_FOR)))," ")}}function Pg(t,e){if(1&t&&(c.Vb(0),c.Xc(1),c.jc(2,"titlecase"),c.jc(3,"alertValue"),c.Ub()),2&t){const t=c.ic(2);c.Db(1),c.Zc(" ",c.kc(2,1,c.mc(3,3,null==t.alert?null:t.alert.type,"ALERT_TYPE",null==t.alert?null:t.alert.alertMessageParameters))," ")}}function Rg(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",9),c.Xb(2,"div",15),c.Xb(3,"div",16),c.Xb(4,"span",18),c.Vc(5,_g,3,3,"ng-container",5),c.Vc(6,Dg,3,3,"ng-container",5),c.Wb(),c.Wb(),c.Xb(7,"div",16),c.Xb(8,"span",31),c.Xb(9,"span",32),c.Vc(10,zg,3,6,"ng-container",5),c.Vc(11,Og,3,5,"ng-container",5),c.Wb(),c.Xb(12,"span",33),c.Sb(13,"nz-divider",34),c.Vc(14,Ng,5,10,"ng-container",5),c.Vc(15,Pg,4,7,"ng-container",5),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(5),c.rc("ngIf","VITAL_LIMIT_CROSSED"==t.alert.type),c.Db(1),c.rc("ngIf","FORM_ALERT"==t.alert.type),c.Db(4),c.rc("ngIf","VITAL_LIMIT_CROSSED"==t.alert.type),c.Db(1),c.rc("ngIf","FORM_ALERT"==t.alert.type),c.Db(3),c.rc("ngIf","VITAL_LIMIT_CROSSED"==t.alert.type),c.Db(1),c.rc("ngIf","FORM_ALERT"==t.alert.type)}}function Xg(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",35),c.Xb(2,"span",36),c.Xc(3),c.jc(4,"alertMessage"),c.Wb(),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(3),c.Zc(" ",c.mc(4,1,null==t.alert?null:t.alert.type,null==t.alert?null:t.alert.alertMessageParameters,null==t.alert?null:t.alert.message)," ")}}function Lg(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",37),c.Sb(2,"span",38),c.jc(3,"alertMessage"),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(2),c.sc("innerHtml",c.nc(3,1,null==t.alert?null:t.alert.type,null==t.alert?null:t.alert.alertMessageParameters,null==t.alert?null:t.alert.message,t.alert),c.Mc)}}function wg(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"div",39),c.Xb(2,"span",36),c.Xc(3),c.jc(4,"alertMessage"),c.Wb(),c.Wb(),c.Ub()),2&t){const t=c.ic();c.Db(3),c.Zc(" ",c.mc(4,1,null==t.alert?null:t.alert.type,null==t.alert?null:t.alert.alertMessageParameters,null==t.alert?null:t.alert.message)," ")}}function Wg(t,e){if(1&t&&(c.Xb(0,"span",48),c.Xb(1,"p",49),c.Xc(2," Closed On "),c.Wb(),c.Xb(3,"p",50),c.Xb(4,"span",33),c.Xc(5),c.jc(6,"date"),c.Wb(),c.Wb(),c.Wb()),2&t){const t=c.ic().$implicit;c.Db(5),c.Zc(" ",c.lc(6,1,null==t?null:t.closedOn,"dd MMM | h:mm:ss a")," ")}}function kg(t,e){if(1&t&&(c.Xb(0,"nz-timeline-item",46),c.Xb(1,"span",47),c.Xb(2,"span",48),c.Xb(3,"p",49),c.Xc(4," Measured On "),c.Wb(),c.Xb(5,"p",50),c.Xc(6),c.jc(7,"date"),c.Wb(),c.Wb(),c.Xb(8,"span",48),c.Xb(9,"p",49),c.Xc(10," Value "),c.Wb(),c.Xb(11,"p",50),c.Xb(12,"span",32),c.Xc(13),c.jc(14,"alertValue"),c.Wb(),c.Sb(15,"nz-divider",34),c.Xb(16,"span",33),c.Xc(17),c.jc(18,"titlecase"),c.jc(19,"translate"),c.jc(20,"alertValue"),c.Wb(),c.Wb(),c.Wb(),c.Vc(21,Wg,7,4,"span",51),c.Wb(),c.Wb()),2&t){const t=e.$implicit;c.ic();const n=c.Ic(7);c.rc("nzDot",n),c.Db(6),c.Zc(" ",c.lc(7,5,null==t?null:t.createdOn,"medium")," "),c.Db(7),c.Zc(" ",c.nc(14,8,null==t?null:t.type,"VALUE",null==t?null:t.alertMessageParameters,null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.RAISED_FOR)," "),c.Db(4),c.Zc(" ",c.kc(18,13,c.kc(19,15,c.nc(20,17,null==t?null:t.type,"ALERT_TYPE",null==t?null:t.alertMessageParameters,null==t||null==t.alertMessageParameters?null:t.alertMessageParameters.RAISED_FOR)))," "),c.Db(4),c.rc("ngIf",t.closed)}}function Vg(t,e){1&t&&c.Sb(0,"nz-badge",52),2&t&&c.rc("nzColor","#a7c853")}function xg(t,e){if(1&t&&(c.Sb(0,"i",55),c.Xc(1," Associated Alerts ")),2&t){c.ic(2);const t=c.Ic(3);c.rc("nzRotate",t.nzActive?90:0)}}function Ug(t,e){if(1&t&&(c.Sb(0,"nz-divider",53),c.Vc(1,xg,2,1,"ng-template",null,54,c.Wc)),2&t){const t=c.Ic(2);c.rc("nzText",t)}}function Fg(t,e){if(1&t&&(c.Vb(0),c.Xb(1,"nz-collapse",40),c.Xb(2,"nz-collapse-panel",41,42),c.Xb(4,"nz-timeline"),c.Vc(5,kg,22,22,"nz-timeline-item",43),c.Vc(6,Vg,1,1,"ng-template",null,44,c.Wc),c.Wb(),c.Wb(),c.Vc(8,Ug,3,1,"ng-template",null,45,c.Wc),c.Wb(),c.Ub()),2&t){const t=c.Ic(9),e=c.ic();c.Db(2),c.rc("nzHeader",t)("nzActive",!1)("nzShowArrow",!1),c.Db(3),c.rc("ngForOf",e.alert.linkedAlerts)}}let Hg=(()=>{class t{constructor(t,e,n,i){this._router=t,this._patientsEventLogger=e,this._alertService=n,this._dataSharingService=i,this.isOnHoldForPrioritisation=!1,this.refreshAlert=new c.n,this.removeAlert=new c.n,this.linkedAlertVitals=[],this.isReOpened=!1,this.isClosable=!1;const a=localStorage.getItem("loggedInUserBoundary");this.isAccessAcrossSubTenants=a==Dl.a.ACROSS_SUB_TENANTS}ngOnInit(){const t=localStorage.getItem("loggedInUserBoundary");this.isAccessAcrossSubTenants=t==Dl.a.ACROSS_SUB_TENANTS,this.alert.type==_l.a.PRIORITISED.toString()&&(this.isReOpened=this.alert.linkedAlerts.filter(t=>t.closed).length>0),this.isClosable="VERY_LOW"==this.alert.priority}view(t){let e,n=!1,i=null;switch(t.type==_l.a.PRIORITISED.toString()?(e=t.id,i=t.status,this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers,this.alert.linkedAlerts.forEach((t,e)=>this.linkedAlertVitals[e]=t.alertContext.id),t=t.linkedAlerts[0],n=!0):(this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers),this.alertId=t.id,this._patientsEventLogger.patientAlertEvent(t.patientId,"view_alert"),t.type){case"TODO_TASK_SKIPPED":this.viewSkippedTaskAlert(t);break;case"VITAL_LIMIT_CROSSED":this.viewVitalLimitAlert(t,e,i,n);break;case"FORM_ALERT":this.viewFormAlert(t);break;case"CAREPLAN_ASSIGNED":case"CONSENT_SUBMITTED":this.viewEpisode(t)}}markAsClosed(t){this._alertService.closeAlert(t).subscribe(e=>{this.removeAlert.emit(t),this.refreshAlert.emit(!0)})}viewEpisode(t){this._router.navigate([`episodes/details/${t.patientId}/${t.alertMessageParameters.EPISODE_ID}`],{queryParams:{blueprintId:t.alertMessageParameters.EPISODE_BLUEPRINT_ID}})}viewFormAlert(t){var e,n,i,a;const o=null===(i=null===(n=null===(e=null==t?void 0:t.patient)||void 0===e?void 0:e.patientState)||void 0===n?void 0:n.assessmentScores)||void 0===i?void 0:i.filter(e=>e.name==t.raisedFor);this._router.navigate(["patient/assessment-trend",t.patientId],{queryParams:{patientId:t.patientId,alert:t.id,blueprintId:null===(a=null==o?void 0:o[0])||void 0===a?void 0:a.parentFormId}})}viewVitalLimitAlert(t,e,n,i=!1){this._router.navigate(["patient/vital-trend",t.patientId],{queryParams:{patientId:t.patientId,patientName:this.patientName,dob:this.dob,isPrioritisedAlert:i,alertId:this.alertId,prioritisedAlertId:e,prioritisedAlertStatus:n,linkedVitals:JSON.stringify(this.linkedAlertVitals),phoneNumbers:JSON.stringify(this.phoneNumbers)}})}viewSkippedTaskAlert(t){var e,n,i;this._router.navigate(["patient/vital-trend",t.patientId],{queryParams:{patientId:t.patientId,patientName:null===(e=null==t?void 0:t.patient)||void 0===e?void 0:e.fullName,dob:null===(n=null==t?void 0:t.patient)||void 0===n?void 0:n.dateOfBirth,alert:JSON.stringify(t),phoneNumbers:JSON.stringify(null===(i=null==t?void 0:t.patient)||void 0===i?void 0:i.phoneNumbers)}})}startTimer(){var t,e,n;this.timerRunning=!0,this.timedPatient=this.alert;const i=localStorage.getItem("loggedInUserAccountType"),a=localStorage.getItem("loggedInUser"),o={attendeeId:null===(t=this.alert)||void 0===t?void 0:t.patientId,attendeeName:null===(n=null===(e=this.alert)||void 0===e?void 0:e.patient)||void 0===n?void 0:n.fullName,attenderId:"CARE_TAKER"===i?a:null};this._dataSharingService.setTimer({state:"START",data:o,showStickyNote:!0}),this.view(this.alert)}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(d.g),c.Rb(El.a),c.Rb(Qe.a),c.Rb(C.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["alert-list-card"]],inputs:{alert:"alert",patientName:"patientName",isOnHoldForPrioritisation:"isOnHoldForPrioritisation"},outputs:{refreshAlert:"refreshAlert",removeAlert:"removeAlert"},decls:48,vars:52,consts:[[3,"nzHoverable"],[1,"alert-card-priority-tag"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","8",1,"priority-container"],[1,"priority-tag",3,"nzColor"],[4,"ngIf"],[3,"click",4,"ngIf"],["nz-col","","nzSpan","8",1,"priority-container","prioritised-alert-tag-container"],["class","reopened-alert-tag","style.color","#2F4F4F","nzColor","#8bc34a33",4,"ngIf"],["nz-col","","nzSpan","4"],["nz-col","","nzSpan","4",1,"date-container"],[1,"alert-date"],["class","alert-close-btn",3,"click",4,"ngIf"],["nz-row","",1,"main-detail-container",3,"nzGutter"],["nz-col","","nzSpan","4",1,"ellipsis-text","char-limit"],[1,"detail-container"],["nz-row",""],["nz-col","","nzSpan","24"],[1,"detail-title"],["nz-tooltip","",1,"detail-value",3,"nzTooltipTitle"],[4,"isAccessAcrossTenantEnabled"],["nz-col","","nzSpan","4",1,"view-btn-container"],["nz-button","","nzType","primary",1,"view-btn",3,"click"],[1,"btn-text"],[1,"view-btn-icon"],["nz-icon","","nzType","right-circle","nzTheme","fill"],[3,"click"],["style.color","#2F4F4F","nzColor","#8bc34a33",1,"reopened-alert-tag"],[1,"alert-close-btn",3,"click"],[2,"color","var(--primary-color)"],["nz-col","","nzSpan","5"],[1,"detail-value"],[1,"alert-value"],[1,"alert-type"],["nzType","vertical",1,"alert-value-divider"],["nz-col","","nzSpan","16"],[1,"alert-message"],["nz-col","","nzSpan","11"],[1,"alert-message",3,"innerHtml"],["nz-col","","nzSpan","7"],["nzGhost",""],[3,"nzHeader","nzActive","nzShowArrow"],["p",""],["nzColor","green",3,"nzDot",4,"ngFor","ngForOf"],["customDot",""],["linkedAlertsTemplate",""],["nzColor","green",3,"nzDot"],[2,"width","100%","display","flex","flex-direction","row"],[2,"width","33.3%"],["nz-typography","","type","secondary",1,"detail-title","linked-detail-title"],["nz-typography","","type","primary",1,"detail-value","linked-detail-value"],["style","width: 33.3%;",4,"ngIf"],["nzStatus","processing",3,"nzColor"],["nzOrientation","left",3,"nzText"],["expandedIcon",""],["nz-icon","","nzType","right-circle","nzTheme","fill",2,"font-size","18px","color","var(--primary-color)",3,"nzRotate"]],template:function(t,e){1&t&&(c.Xb(0,"nz-card",0),c.Sb(1,"span",1),c.jc(2,"alertPriorityColor"),c.Xb(3,"div",2),c.Xb(4,"div",3),c.Xb(5,"nz-tag",4),c.jc(6,"alertPriorityColor"),c.jc(7,"alertPriorityColor"),c.Vc(8,mg,2,0,"ng-container",5),c.Xc(9),c.jc(10,"translate"),c.jc(11,"alertPriorityColor"),c.Wb(),c.Vb(12),c.Vc(13,fg,2,1,"nz-tag",6),c.Ub(),c.Wb(),c.Xb(14,"div",7),c.Vc(15,vg,2,0,"nz-tag",8),c.Wb(),c.Sb(16,"div",9),c.Xb(17,"div",10),c.Xb(18,"span",11),c.Xc(19),c.jc(20,"date"),c.Wb(),c.Vc(21,Sg,1,0,"span",12),c.Wb(),c.Wb(),c.Xb(22,"div",13),c.Xb(23,"div",14),c.Xb(24,"div",15),c.Xb(25,"div",16),c.Xb(26,"div",17),c.Xb(27,"span",18),c.Xc(28),c.jc(29,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(30,"div",16),c.Xb(31,"div",17),c.Xb(32,"span",19),c.Xc(33),c.Vc(34,Tg,4,3,"ng-container",20),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Vc(35,Ag,11,5,"ng-container",5),c.Vc(36,Rg,16,6,"ng-container",5),c.Vc(37,Xg,5,5,"ng-container",5),c.Vc(38,Lg,4,6,"ng-container",5),c.Vc(39,wg,5,5,"ng-container",5),c.Xb(40,"div",21),c.Xb(41,"button",22),c.ec("click",function(){return e.view(e.alert)}),c.Xb(42,"span",23),c.Xc(43),c.jc(44,"translate"),c.Wb(),c.Xb(45,"span",24),c.Sb(46,"i",25),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Vc(47,Fg,10,4,"ng-container",5),c.Wb()),2&t&&(c.Sc("margin",e.isOnHoldForPrioritisation?"5px":"0px"),c.rc("nzHoverable",!0),c.Db(1),c.Sc("background",c.mc(2,28,null==e.alert?null:e.alert.priority,"COLOR",null==e.alert||null==e.alert.alertMessageParameters?null:e.alert.alertMessageParameters.VITAL_STAGE)),c.Db(2),c.rc("nzGutter",64),c.Db(2),c.Sc("color",c.mc(6,32,null==e.alert?null:e.alert.priority,"TEXT_COLOR",null==e.alert||null==e.alert.alertMessageParameters?null:e.alert.alertMessageParameters.VITAL_STAGE)),c.sc("nzColor",c.mc(7,36,null==e.alert?null:e.alert.priority,"TAG_BG",null==e.alert||null==e.alert.alertMessageParameters?null:e.alert.alertMessageParameters.VITAL_STAGE)),c.Db(3),c.rc("ngIf","Stage 3"==(null==e.alert||null==e.alert.alertMessageParameters?null:e.alert.alertMessageParameters.VITAL_STAGE)),c.Db(1),c.Zc(" ",c.kc(10,40,c.lc(11,42,null==e.alert?null:e.alert.priority,"TEXT"))," "),c.Db(4),c.rc("ngIf",!(null!=e.alert&&e.alert.closed||e.timerRunning||null!=e.timedPatient&&e.timedPatient.patientId)),c.Db(2),c.rc("ngIf",e.isReOpened),c.Db(4),c.Zc(" ",c.lc(20,45,null==e.alert?null:e.alert.createdOn,"medium")," "),c.Db(2),c.rc("ngIf","OPEN"==(null==e.alert?null:e.alert.status)&&"VERY_LOW"==(null==e.alert?null:e.alert.priority)),c.Db(1),c.rc("nzGutter",64),c.Db(6),c.Zc(" ",c.kc(29,48,"PATIENT.NAME")," "),c.Db(4),c.rc("nzTooltipTitle",null==e.alert||null==e.alert.patient?null:e.alert.patient.fullName),c.Db(1),c.Zc(" ",null==e.alert||null==e.alert.patient?null:e.alert.patient.fullName," "),c.Db(2),c.rc("ngIf","VITAL_LIMIT_CROSSED"==e.alert.type||"FORM_ALERT"==e.alert.type||"PRIORITISED"==e.alert.type),c.Db(1),c.rc("ngIf","CAREPLAN_ASSIGNED"!=e.alert.type&&"CONSENT_SUBMITTED"!=e.alert.type&&"PRIORITISED"!=e.alert.type),c.Db(1),c.rc("ngIf","CAREPLAN_ASSIGNED"==e.alert.type||"CONSENT_SUBMITTED"==e.alert.type),c.Db(1),c.rc("ngIf","PRIORITISED"==e.alert.type),c.Db(1),c.rc("ngIf","CAREPLAN_ASSIGNED"!=e.alert.type&&"CONSENT_SUBMITTED"!=e.alert.type&&"PRIORITISED"!=e.alert.type),c.Db(4),c.Zc(" ",c.kc(44,50,"COMMON.VIEW")," "),c.Db(4),c.rc("ngIf","PRIORITISED"==(null==e.alert?null:e.alert.type)))},directives:[lt.a,F.c,F.a,Wn.a,h.q,Oe.d,dn.a,B.a,j.a,G.a,ut.a,U.a,Nl.a,Nl.c,Pl.a,h.p,Pl.b,x.a,gn.a],pipes:[Rl.a,Z.a,h.e,Xl.a,Ll,h.A,gg.a],styles:[".priority-container[_ngcontent-%COMP%]{text-align:left;padding-left:40px!important}.prioritised-alert-tag-container[_ngcontent-%COMP%]{padding-left:0!important}.date-container[_ngcontent-%COMP%]{text-align:center;padding-left:24px!important}.priority-indicator[_ngcontent-%COMP%]{width:5px;height:43px;background:#ff5151 0 0 no-repeat padding-box;border-radius:3px;opacity:1;position:absolute;padding:0}.priority-tag[_ngcontent-%COMP%]{color:#814646}.prioritised-alert-tag[_ngcontent-%COMP%]{color:var(--neutral-color)}.detail-container[_ngcontent-%COMP%]{margin-left:12px}nz-card[_ngcontent-%COMP%]{border-radius:0;border-radius:10px 10px 10px 10px;border-bottom:0}.view-btn[_ngcontent-%COMP%]{opacity:1}.view-btn-icon[_ngcontent-%COMP%]{opacity:1;margin-left:6px}.btn-text[_ngcontent-%COMP%]{opacity:1}.detail-title[_ngcontent-%COMP%]{height:19px;text-align:left;font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px;color:#888;opacity:1;display:inline-block;vertical-align:top;line-height:normal}.linked-detail-title[_ngcontent-%COMP%]{margin-bottom:1px}.detail-value[_ngcontent-%COMP%]{height:24px;text-align:left;font:normal normal 700 14px/23px Nunito;letter-spacing:-.36px;color:var(--light-black);opacity:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.linked-detail-value[_ngcontent-%COMP%]{margin-bottom:1px}.main-detail-container[_ngcontent-%COMP%]{margin-top:14px}.alert-date[_ngcontent-%COMP%]{width:165px;text-align:left;font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px;color:#888;opacity:1}.view-btn-container[_ngcontent-%COMP%]{text-align:center}.alert-message[_ngcontent-%COMP%]{opacity:1}.alert-message[_ngcontent-%COMP%], .alert-value[_ngcontent-%COMP%]{text-align:left;letter-spacing:-.36px}.alert-value[_ngcontent-%COMP%]{color:#eb5858}.alert-type[_ngcontent-%COMP%]{text-align:left;letter-spacing:-.36px;color:var(--light-black)}.alert-value-divider[_ngcontent-%COMP%]{height:20px;width:2px;background:var(--light-black);border-radius:10px}[_nghost-%COMP%]     .ant-card-hoverable:hover{box-shadow:3px 5px 5px #00000036;background:#f1f1f1 0 0 no-repeat padding-box}.alert-close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:20px;width:20px;padding:2px;height:20px;background:transparent url(/assets/icons/close-btn.svg) 0 0 no-repeat padding-box}.alert-card-priority-tag[_ngcontent-%COMP%]{position:absolute;height:100%;width:8px;left:0;top:0;border-radius:10px 0 0 10px}[_nghost-%COMP%]     .ant-card-body{padding:15px}.alert-card-communication[_ngcontent-%COMP%]{background:#ff5151;height:100%;width:45px;top:0;border-radius:0 5px 5px 0}[_nghost-%COMP%]     .ant-card-actions{right:-1px;margin:0;padding:0;list-style:none;background:#5f5f5f;position:absolute;top:-2px;display:flex;flex-direction:column;height:102%;border-radius:0 10px 10px 0}.alert-card-communication[_ngcontent-%COMP%]{right:-1px;margin:0;padding:0;list-style:none;background:#3f3f3f;position:absolute;top:-2px;display:flex;flex-direction:column;height:102%;border-radius:0 10px 10px 0}.divider[_ngcontent-%COMP%]{width:10px;color:var(--neutral-color);background:var(--neutral-color);margin:5px 5px 5px 0!important}.withMargin[_ngcontent-%COMP%]{margin:1px}[_nghost-%COMP%]     .ant-timeline-item-head-custom{background:transparent;left:9px}[_nghost-%COMP%]     .ant-timeline-item-tail{border-left:2px solid #a6c853}[_nghost-%COMP%]     .ant-badge-status-dot{width:10px;height:10px}[_nghost-%COMP%]     .ant-collapse-ghost>.ant-collapse-item>.ant-collapse-content>.ant-collapse-content-box{padding-bottom:0}[_nghost-%COMP%]     .ant-badge-status-processing:after{border:1px solid #a6c853}.reopened-alert-tag[_ngcontent-%COMP%]{color:var(--tertiary-color)}.ellipsis-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.char-limit[_ngcontent-%COMP%]{max-width:50ch}"]}),t})();function Bg(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"div",8),c.Vb(2),c.Xb(3,"div",9),c.Xb(4,"nz-radio-group",10),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().priority=e})("ngModelChange",function(e){return c.Lc(t),c.ic().onPriorityChange(e)}),c.Xb(5,"label",11),c.Xc(6),c.jc(7,"translate"),c.Xb(8,"nz-tag"),c.Xc(9),c.Wb(),c.Wb(),c.Xb(10,"label",12),c.Xc(11),c.jc(12,"translate"),c.Xb(13,"nz-tag"),c.Xc(14),c.Wb(),c.Wb(),c.Xb(15,"label",13),c.Xc(16),c.jc(17,"translate"),c.Xb(18,"nz-tag"),c.Xc(19),c.Wb(),c.Wb(),c.Xb(20,"label",14),c.Xc(21),c.jc(22,"translate"),c.Xb(23,"nz-tag"),c.Xc(24),c.Wb(),c.Wb(),c.Xb(25,"label",15),c.Xc(26),c.jc(27,"translate"),c.Xb(28,"nz-tag"),c.Xc(29),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(30,"div",16),c.Xb(31,"span",17),c.Xc(32),c.jc(33,"translate"),c.jc(34,"date"),c.Wb(),c.Xb(35,"span",18),c.Xb(36,"button",19),c.ec("click",function(){return c.Lc(t),c.ic().refresh()}),c.Sb(37,"app-icons",20),c.Wb(),c.Wb(),c.Xb(38,"span"),c.Xb(39,"nz-button-group"),c.Xb(40,"button",21),c.Sb(41,"span",22),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ub(),c.Wb(),c.Ub()}if(2&t){const t=c.ic(),e=c.Ic(3);c.Db(4),c.rc("ngModel",t.priority),c.Db(2),c.Zc(" ",c.kc(7,15,"HEADER.ALL")," "),c.Db(3),c.Yc(t.priorityCount.ALL),c.Db(2),c.Zc(" ",c.kc(12,17,"PRIORITY.NEED_IMMEDIATE_ATTENTION")," "),c.Db(3),c.Yc(t.priorityCount.VERY_HIGH),c.Db(2),c.Zc(" ",c.kc(17,19,"PRIORITY.IMPORTANT")," "),c.Db(3),c.Yc(t.priorityCount.HIGH),c.Db(2),c.Zc(" ",c.kc(22,21,"PRIORITY.LOW")," "),c.Db(3),c.Yc(t.priorityCount.LOW),c.Db(2),c.Zc(" ",c.kc(27,23,"PRIORITY.INFORMATIONAL_ALERT")," "),c.Db(3),c.Yc(t.priorityCount.VERY_LOW),c.Db(3),c.ad(" ",c.kc(33,25,"COMMON.LASTUPDATED"),": ",c.lc(34,27,null==t.ds?null:t.ds.lastUpdatedTime,"medium")," "),c.Db(5),c.rc("originalStyle",!0),c.Db(3),c.rc("nzDropdownMenu",e)}}const jg=function(){return{rows:1}};function Gg(t,e){1&t&&c.Sb(0,"nz-skeleton",26),2&t&&c.rc("nzParagraph",c.xc(1,jg))}function Yg(t,e){if(1&t&&c.Sb(0,"nz-list-item-meta",27),2&t){c.ic();const t=c.Ic(4);c.rc("nzDescription",t)}}function $g(t,e){if(1&t){const t=c.Yb();c.Xb(0,"alert-list-card",28),c.ec("refreshAlert",function(e){return c.Lc(t),c.ic(2).onAlertChange(e)})("removeAlert",function(e){return c.Lc(t),c.ic(2).onAlertRemoved(e)}),c.Wb()}if(2&t){const t=c.ic().$implicit;c.rc("alert",t)}}function qg(t,e){if(1&t&&(c.Xb(0,"nz-list-item"),c.Vc(1,Gg,1,2,"nz-skeleton",23),c.Vc(2,Yg,1,1,"nz-list-item-meta",24),c.Vc(3,$g,1,1,"ng-template",null,25,c.Wc),c.Wb()),2&t){const t=e.$implicit;c.Db(1),c.rc("ngIf",!t),c.Db(1),c.rc("ngIf",t)}}function Zg(t,e){1&t&&c.Sb(0,"nz-list-empty")}let Qg=(()=>{class t extends zs.a{constructor(t,e,n,i){super(),this._alertService=t,this._activatedRoute=e,this._router=n,this._dataSharingService=i,this.priorityCount=[],this.priority="ALL",this.loading=!1,this.destroy$=new qe.a,this.status=Al.a.OPEN,this.ds=new yl(this._alertService),this.patientType="ALL"}ngOnInit(){this.patientType=sessionStorage.getItem("patientType"),this.getDataFromURL(),this.priorityCount.ALL=0,this._dataSharingService.onSubTenantChange().subscribe(t=>{this.refresh()}),this.fetchAlert()}getDataFromURL(){this._activatedRoute.queryParams.forEach(t=>{t.status&&(this.ds.alertFetchRequest.status=t.status,this.status=t.status),t.priority&&(this.ds.alertFetchRequest.priorities=t.priority,this.priority=t.priority),t.assignedStaffType&&(this.patientType=t.assignedStaffType),this.ds.alertFetchRequest.patientType=this.patientType})}onAlertChange(t){this.refresh(),this.ngOnInit()}onAlertRemoved(t){this.ds.removeAlert(t),this.ngOnInit()}fetchAlert(){this.loading=!0,this.dsCountSubscribtion=this.ds.completedCount().subscribe(t=>{Object.keys(t.priorityCount).map(e=>this.priorityCount[e]=t.priorityCount[e]),this.priorityCount.ALL=t.totalCount,this.loading=!1}),this.getPriorityCount()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.ds.disconnect(),this.dsCountSubscribtion.unsubscribe()}onTabChange(t){this.ds=new yl(this._alertService,this.patientType),this.ds.alertFetchRequest.status=Al.a[t],this._router.navigate([],{queryParams:{status:Al.a[t]},queryParamsHandling:"merge",relativeTo:this._activatedRoute,replaceUrl:!0}),this.refresh()}onPriorityChange(t){this.ds.alertFetchRequest.priorities="ALL"==t?null:t,this.refresh()}refresh(){this.dsSubscribed&&this.dsSubscribed.unsubscribe(),this.dsCountSubscribtion&&this.dsCountSubscribtion.unsubscribe(),this.ds.alertFetchRequest.patientType=this.patientType,this.ds.alertFetchRequest.offset=0,this.ds.fetchAlert(!0),this.getPriorityCount(),this._dataSharingService.triggerAlertRefresh()}markAllClosed(){this._alertService.closeAllAlerts().subscribe(t=>{this.refresh()})}getPriorityCount(){this.ds.alertFetchRequest.countType="PRIORITY",this._alertService.fetchAlerts(this.ds.alertFetchRequest,!0).subscribe(t=>{let e=0;t.forEach(t=>{this.priorityCount[t.priority]=t.count,e+=t.count}),this.priorityCount.ALL=e,0==e&&this.reset()})}reset(){this.priorityCount.ALL=0,this.priorityCount.VERY_HIGH=0,this.priorityCount.HIGH=0,this.priorityCount.MEDIUM=0,this.priorityCount.LOW=0,this.priorityCount.VERY_LOW=0}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(Qe.a),c.Rb(d.a),c.Rb(d.g),c.Rb(C.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["alert-list"]],features:[c.Ab],decls:11,vars:6,consts:[[3,"status","patientType","onTabChange","patientTypeChange","refresh"],[4,"ngIf"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["autosize","","itemSize","1",1,"demo-infinite-container",2,"height","100vh"],[3,"nzLoading"],[4,"cdkVirtualFor","cdkVirtualForOf"],["nz-row","",1,"filter-container"],["nz-col","","nzSpan","17",2,"padding","10px","padding-left","0px"],["nzButtonStyle","solid",3,"ngModel","ngModelChange"],["nz-radio-button","","nzValue","ALL",1,"view-btn"],["nz-radio-button","","nzValue","VERY_HIGH",1,"view-btn"],["nz-radio-button","","nzValue","HIGH",1,"view-btn"],["nz-radio-button","","nzValue","LOW",1,"view-btn"],["nz-radio-button","","nzValue","VERY_LOW",1,"view-btn"],["nz-col","","nzSpan","7",2,"padding","10px","padding-right","0px","text-align","right"],["id","last-updated-time"],["id","refresh-btn"],["nz-button","","nzShape","circle",3,"click"],["size","14px","color","#a7c853","name","reload",3,"originalStyle"],["nz-button","","nz-dropdown","","nzPlacement","bottomRight",2,"border","none","font-size","18px",3,"nzDropdownMenu"],["nz-icon","","nzType","more"],[3,"nzParagraph",4,"ngIf"],[3,"nzDescription",4,"ngIf"],["card",""],[3,"nzParagraph"],[3,"nzDescription"],[3,"alert","refreshAlert","removeAlert"]],template:function(t,e){1&t&&(c.Xb(0,"app-alert-header",0),c.ec("onTabChange",function(t){return e.onTabChange(t)})("patientTypeChange",function(t){return e.patientType=t})("refresh",function(){return e.refresh()}),c.Wb(),c.Vc(1,Bg,42,30,"ng-container",1),c.Xb(2,"nz-dropdown-menu",null,2),c.Xb(4,"ul",3),c.Xb(5,"li",4),c.ec("click",function(){return e.markAllClosed()}),c.Xc(6," Mark all Informational Alerts as read "),c.Wb(),c.Wb(),c.Wb(),c.Xb(7,"cdk-virtual-scroll-viewport",5),c.Xb(8,"nz-list",6),c.Vc(9,qg,5,2,"nz-list-item",7),c.Vc(10,Zg,1,0,"nz-list-empty",1),c.Wb(),c.Wb()),2&t&&(c.rc("status",e.status)("patientType",e.patientType),c.Db(1),c.rc("ngIf","OPEN"===e.status),c.Db(7),c.rc("nzLoading",null==e.ds?null:e.ds.loading),c.Db(1),c.rc("cdkVirtualForOf",e.ds),c.Db(1),c.rc("ngIf",0===e.priorityCount.ALL))},directives:[hg,h.q,fn.e,vn.c,G.a,vn.e,zl.d,zl.a,Ol.a,zl.c,F.c,F.a,bg.c,b.u,b.x,bg.b,bg.a,Wn.a,B.a,j.a,dt.a,B.b,fn.d,fn.b,ut.a,Ol.e,Js.a,Ol.f,Hg,Ol.b],pipes:[Z.a,h.e],styles:['.demo-infinite-container[_ngcontent-%COMP%]{height:100%;border:1px solid var(--grey);border-radius:4px}nz-list[_ngcontent-%COMP%]{padding:5px;height:100%}[_nghost-%COMP%]     .ant-list-item{padding:4px}.view-btn[_ngcontent-%COMP%]{background:#efefef 0 0 no-repeat padding-box;border-radius:25px;opacity:1;border:0 solid #efefef;margin:6px}.btn-text[_ngcontent-%COMP%]{font:normal normal normal 14px/26px Nunito;letter-spacing:-.32px;color:var(--light-black);opacity:1}.filter-container[_ngcontent-%COMP%]{padding:12px 40px;text-align:left;background-color:var(--neutral-color)}.view-btn[_ngcontent-xyg-c420][_ngcontent-%COMP%]{background:#efefef 0 0 no-repeat padding-box;border-radius:25px;opacity:1;border:0 solid #efefef;margin:6px}.ant-radio-button-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;height:32px;margin:0;padding:0 15px;color:var(--light-black);font-size:13px;line-height:30px;cursor:pointer;transition:color .3s,background .3s,border-color .3s,box-shadow .3s}.ant-layout[_ngcontent-%COMP%], .ant-layout[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, [class*=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before, [class^=ant-][_ngcontent-%COMP%], [class^=ant-][_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class^=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, [class^=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{box-sizing:border-box}[role=button][_ngcontent-%COMP%], a[_ngcontent-%COMP%], area[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:not([type=range]), label[_ngcontent-%COMP%], select[_ngcontent-%COMP%], summary[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{touch-action:manipulation}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}user[_ngcontent-%COMP%]   agent[_ngcontent-%COMP%]   stylesheet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:default}.ant-radio-group[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;color:rgba(15,32,21,.85);font-size:13px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum";display:inline-block;font-size:0;line-height:unset}.filter-container[_ngcontent-xyg-c420][_ngcontent-%COMP%]{padding:12px;text-align:center;background-color:var(--neutral-color)}body[_ngcontent-%COMP%]{margin:0;color:rgba(15,32,21,.85);font-size:13px;font-family:Nunito;font-variant:tabular-nums;line-height:1.5715;background-color:var(--light-grey);font-feature-settings:"tnum"}html[_ngcontent-%COMP%]{--antd-wave-shadow-color:var(--primary-color);--scroll-bar:0;font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:rgba(15,32,21,0)}.ant-radio-button-wrapper[_ngcontent-%COMP%]:not(:first-child):before{width:0}[_nghost-%COMP%]     .ant-radio-button-wrapper{margin:4px;border-top-width:1px;border-left-width:1px}[_nghost-%COMP%]     .ant-tag{background:#c6c6c6;margin:4px}[_nghost-%COMP%]     .ant-radio-group-solid .ant-radio-button-wrapper-checked:not(.ant-radio-button-wrapper-disabled){color:var(--primary-color);background:var(--neutral-color);border:1px solid}#last-updated-time[_ngcontent-%COMP%]{text-align:right;padding:10px;font:normal normal normal 11px/22px Nunito;letter-spacing:0;color:#959595;opacity:1}[_nghost-%COMP%]     .ant-btn-circle{border:none}[_nghost-%COMP%]     .ant-collapse>.ant-collapse-item>.ant-collapse-header{padding:0}[_nghost-%COMP%]     .ant-collapse{border-radius:10px}[_nghost-%COMP%]     .ant-collapse-content>.ant-collapse-content-box{padding-top:5px;padding-right:5px;padding-left:24px}.ant-collapse[_ngcontent-%COMP%] > .ant-collapse-item[_ngcontent-%COMP%]:last-child > .ant-collapse-header[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-collapse>.ant-collapse-item:last-child{border-radius:0 0 10px 10px}[_nghost-%COMP%]     nz-spin{min-height:200px}'],changeDetection:0}),t})();var Kg=n("i7mu"),Jg=n("FYUs"),tm=n("zgU5"),em=n("s/pX"),nm=(n("tkii"),n("IZEq")),im=n("TaO5"),am=n("nJQN");let om=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Lb({type:t,selectors:[["alert-config-info"]],decls:20,vars:0,consts:[[1,"config-info-container"],["nz-typography","","nzType","primary"]],template:function(t,e){1&t&&(c.Xb(0,"nz-card",0),c.Xb(1,"h4",1),c.Xc(2," How Alert Settings Work? "),c.Wb(),c.Xb(3,"p",1),c.Xc(4," To help your staff tend to the most crucial alerts, we allow you to define "),c.Wb(),c.Xb(5,"ol"),c.Xb(6,"li"),c.Xc(7," Only 2 alert categories with a priority of 'Needs Immediate attention' "),c.Wb(),c.Xb(8,"li"),c.Xc(9," Only 2 alert categories with a priority of 'Critical' "),c.Wb(),c.Xb(10,"li"),c.Xc(11," Only 2 alert categories with a priority of 'Important' "),c.Wb(),c.Xb(12,"li"),c.Xc(13,"All other alerts are tagged as 'Informational alerts' by default. "),c.Wb(),c.Wb(),c.Xb(14,"p",1),c.Xc(15," It is assumed that informational alerts are good to know but do not require any action from your monitoring staff, thus saving their focus only for the crucial alerts "),c.Wb(),c.Xb(16,"p",1),c.Xb(17,"strong"),c.Xc(18,"Note:"),c.Wb(),c.Xc(19," The informational alerts will still be visible should the monitoring staff choose to see them "),c.Wb(),c.Wb())},directives:[lt.a,x.a],styles:[".config-info-container[_ngcontent-%COMP%]{width:90%;height:440px;background:var(--grey);color:#0f2015;right:-10%;border-radius:5px}"]}),t})();function sm(t,e){1&t&&(c.Xb(0,"div",11),c.Xb(1,"h5",12),c.Xc(2),c.jc(3,"translate"),c.Wb(),c.Wb()),2&t&&(c.Db(2),c.Zc(" ",c.kc(3,1,"NOTI.OPTIONS.VITAL_ALERTS")," "))}function rm(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",9),c.Xb(1,"div",13),c.Xb(2,"div",14),c.Xb(3,"span",15),c.Xb(4,"label",16),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().vitalOutsideLimit.enabled=e})("ngModelChange",function(){c.Lc(t);const e=c.ic();return e.onConfigChange("VITAL_LIMIT_CROSSED",e.vitalOutsideLimit)}),c.Xb(5,"span",17),c.Xc(6),c.jc(7,"translate"),c.Xb(8,"p",27),c.Xc(9),c.jc(10,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(11,"span",18),c.Xb(12,"p",19),c.Xc(13),c.jc(14,"translate"),c.Wb(),c.Xb(15,"app-alert-priority-dropdown",28),c.ec("onPriorityChange",function(e){c.Lc(t);const n=c.ic();return n.onPriorityChange(e,"VITAL_LIMIT_CROSSED",n.vitalOutsideLimit)}),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(16,"div",13),c.Wb()}if(2&t){const t=c.ic();c.Db(4),c.rc("ngModel",t.vitalOutsideLimit.enabled),c.Db(1),c.rc("nzDisabled",!(null!=t.vitalOutsideLimit&&t.vitalOutsideLimit.enabled)),c.Db(1),c.Zc(" ",c.kc(7,7,"ALERT.ALERT_SETTINGS.VITAL_OUT_OF_LIMIT")," "),c.Db(3),c.Yc(c.kc(10,9,"ALERT.ALERT_SETTINGS.VITAL_OUT_OF_LIMIT.SUB_TEXT")),c.Db(4),c.Yc(c.kc(14,11,"ALERT.ALERT_SETTINGS.PRIORITY_LABEL")),c.Db(2),c.rc("priority",null==t.vitalOutsideLimit?null:t.vitalOutsideLimit.priority)("disabled",!(null!=t.vitalOutsideLimit&&t.vitalOutsideLimit.enabled))}}function cm(t,e){1&t&&(c.Xb(0,"div",9),c.Xb(1,"div",10),c.Xb(2,"div"),c.Sb(3,"nz-divider"),c.Wb(),c.Xb(4,"div",10),c.Xb(5,"div",11),c.Xb(6,"h5",12),c.Xc(7),c.jc(8,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Db(7),c.Zc(" ",c.kc(8,1,"TITLE.SURVEY")," "))}function lm(t,e){if(1&t){const t=c.Yb();c.Xb(0,"div",9),c.Xb(1,"div",13),c.Xb(2,"div",14),c.Xb(3,"span",23),c.Xb(4,"label",16),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().formsOutsideLimit.enabled=e})("ngModelChange",function(){c.Lc(t);const e=c.ic();return e.onConfigChange("FORM_ALERT",e.formsOutsideLimit)}),c.Xb(5,"span",17),c.Xc(6," When the patient\u2019s assessment score crosses the limit "),c.Xb(7,"p",27),c.Xc(8,"(Note: The score ranges for which an alert is triggered is specific to each form. For more details, go to Configure > Forms)"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"span",18),c.Xb(10,"p",19),c.Xc(11),c.jc(12,"translate"),c.Wb(),c.Xb(13,"app-alert-priority-dropdown",28),c.ec("onPriorityChange",function(e){c.Lc(t);const n=c.ic();return n.onPriorityChange(e,"FORM_ALERT",n.formsOutsideLimit)}),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=c.ic();c.Db(4),c.rc("ngModel",t.formsOutsideLimit.enabled),c.Db(1),c.rc("nzDisabled",!(null!=t.formsOutsideLimit&&t.formsOutsideLimit.enabled)),c.Db(6),c.Yc(c.kc(12,5,"ALERT.ALERT_SETTINGS.PRIORITY_LABEL")),c.Db(2),c.rc("priority",null==t.formsOutsideLimit?null:t.formsOutsideLimit.priority)("disabled",!(null!=t.formsOutsideLimit&&t.formsOutsideLimit.enabled))}}function dm(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"div",29),c.Xb(2,"div",30),c.Xb(3,"span",31),c.ec("click",function(){return c.Lc(t),c.ic().createAlert()}),c.Xb(4,"span",32),c.Xb(5,"app-icons",33),c.ec("click",function(){c.Lc(t);const e=c.ic();return e.createAlert(e.item)}),c.Wb(),c.Wb(),c.Xc(6," Create an Alert "),c.Sb(7,"span",34),c.Wb(),c.Wb(),c.Wb(),c.Ub()}}let um=(()=>{class t{constructor(t,e,n,i){this._alertService=t,this.message=e,this._dataSharingService=n,this._alertModalService=i,this.alertConfigs=new Map,this.refresh=new c.n,this.isTenantAdmin=!1,this.vitalOutsideLimit={enabled:!0,active:!0,priority:Jg.a.HIGH,updatedOn:(new Date).getTime()},this.vitalSkipped={enabled:!1,active:!1,priority:Jg.a.MEDIUM,updatedOn:(new Date).getTime()},this.formsOutsideLimit={enabled:!0,active:!0,priority:Jg.a.HIGH,updatedOn:(new Date).getTime()},this.formsSubmitted={enabled:!0,active:!1,priority:Jg.a.MEDIUM,updatedOn:(new Date).getTime()},this.consentFormSubmitted={enabled:!0,active:!0,priority:Jg.a.MEDIUM,updatedOn:(new Date).getTime()},this.careplanAssigned={enabled:!0,active:!0,priority:Jg.a.VERY_LOW,updatedOn:(new Date).getTime()},this.configChanged=!1,this.infoContainerWidth=(window.innerWidth-150)/3+"px !important",this.disabledPriorities=new Array("VERY_HIGH","HIGH"),this.changesPending=!1,this.loggedInUserRole=localStorage.getItem("loggedInUserRole"),this.isTenantAdmin=this.loggedInUserRole==zn.a.TENANT_ADMIN}ngAfterViewInit(){this.loadingComplete=!0,this.width="100% !important"}ngOnInit(){Object(ft.a)(window,"resize").pipe(Object(Et.a)(100)).subscribe(t=>{this.infoContainerWidth=(window.innerWidth-150)/3+"px !important"}),this.getConfigs()}createAlert(){this._alertModalService.showAlertRuleCreateModal().afterClose.subscribe(t=>{this.refresh.emit(!0)})}getConfigs(){this._alertService.getAlertConfig().subscribe(t=>{for(let e in t.configs)this.alertConfigs.set(_l.a[e],t.configs[e]);this.initConfigs()})}initConfigs(){this.alertConfigs.has(_l.a.VITAL_LIMIT_CROSSED)&&(this.vitalOutsideLimit=this.alertConfigs.get(_l.a.VITAL_LIMIT_CROSSED)),this.alertConfigs.has(_l.a.FORM_ALERT)&&(this.formsOutsideLimit=this.alertConfigs.get(_l.a.FORM_ALERT)),this.alertConfigs.has(_l.a.CONSENT_SUBMITTED)&&(this.consentFormSubmitted=this.alertConfigs.get(_l.a.CONSENT_SUBMITTED)),this.alertConfigs.has(_l.a.CAREPLAN_ASSIGNED)&&(this.careplanAssigned=this.alertConfigs.get(_l.a.CAREPLAN_ASSIGNED))}onPriorityChange(t,e,n){this.changesPending=!0,n.priority=t,this.onConfigChange(_l.a[e],n)}onConfigChange(t,e){this.changesPending=!0,this.configChanged=!0,this.alertConfigs.set(_l.a[t],e),this.saveConfig(_l.a[t])}saveConfig(t){let e=new Map;this.alertConfigs.forEach((t,n)=>{e[n]=t}),this._alertService.saveAlertConfigs({updatedConfig:t,configs:e,tenantId:this.tenantConfig.tenantId}).subscribe(t=>{this.refresh.emit(!0),null!=this.messageId&&this.message.remove(this.messageId);const e=this.message.success("Config Updated",{nzDuration:3e3,nzAnimate:!0});this.messageId=e,this.messageId.onClose.subscribe(t=>this.messageId=null)})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(Qe.a),c.Rb(gu.e),c.Rb(C.a),c.Rb(nm.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["alert-general-settings"]],inputs:{tenantConfig:"tenantConfig"},outputs:{refresh:"refresh"},decls:50,vars:24,consts:[[1,"container","scrollable-container"],["target",""],["nz-row","","nzGutter","32"],["nz-col","","nzSpan","24",1,"main-title-container"],["nz-typography","","nzType","primary",1,"main-title"],["nz-col","","nzSpan","16",2,"padding-bottom","100px"],[1,"all-config-container"],["class","sub-header",4,"ngIf"],["class","config-container",4,"ngIf"],[1,"config-container"],[2,"width","100%"],[1,"sub-header"],["nz-typography","","nzType","primary",1,"sub-title"],[2,"width","50%"],[2,"display","flex"],[1,"config-text-container-left"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nz-typography","",3,"nzDisabled"],[2,"width","40%"],["nz-typography","","nzType","secondary",1,"priority-label"],[3,"priority","disabled","disabledPriorities","onPriorityChange"],[2,"width","5%"],["nzType","vertical",2,"height","100%"],[1,"config-text-container-right"],["nz-col","","nzSpan","8",1,"config"],[2,"position","fixed","top","25%","right","20px","width","30%"],[4,"ngIf"],[1,"subtext"],[3,"priority","disabled","onPriorityChange"],[2,"position","fixed","bottom","0","width","100%"],[1,"quick-action"],[1,"create-alert-span",3,"click"],[1,"icon-btn"],["color","#a7c853","strokeColor","#a7c853","fill","#a7c853","size","20","name","bell",1,"app-icon",3,"click"],["nz-icon","","nzType","right-circle","nzTheme","fill",1,"right-btn"]],template:function(t,e){1&t&&(c.Xb(0,"div",0,1),c.Xb(2,"div",2),c.Xb(3,"div",3),c.Xb(4,"h4",4),c.Xc(5),c.jc(6,"translate"),c.Wb(),c.Wb(),c.Xb(7,"div",5),c.Xb(8,"div",6),c.Vc(9,sm,4,3,"div",7),c.Vc(10,rm,17,13,"div",8),c.Vc(11,cm,9,3,"div",8),c.Vc(12,lm,14,7,"div",8),c.Xb(13,"div",9),c.Xb(14,"div",10),c.Xb(15,"div"),c.Sb(16,"nz-divider"),c.Wb(),c.Xb(17,"div",10),c.Xb(18,"div",11),c.Xb(19,"h5",12),c.Xc(20," Monitoring "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(21,"div",9),c.Xb(22,"div",13),c.Xb(23,"div",14),c.Xb(24,"span",15),c.Xb(25,"label",16),c.ec("ngModelChange",function(t){return e.consentFormSubmitted.enabled=t})("ngModelChange",function(){return e.onConfigChange("CONSENT_SUBMITTED",e.consentFormSubmitted)}),c.Xb(26,"span",17),c.Xc(27," When a consent form has been submitted by a patient for any episode "),c.Wb(),c.Wb(),c.Wb(),c.Xb(28,"span",18),c.Xb(29,"p",19),c.Xc(30),c.jc(31,"translate"),c.Wb(),c.Xb(32,"app-alert-priority-dropdown",20),c.ec("onPriorityChange",function(t){return e.onPriorityChange(t,"CONSENT_SUBMITTED",e.consentFormSubmitted)}),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(33,"div",13),c.Xb(34,"div",14),c.Xb(35,"span",21),c.Sb(36,"nz-divider",22),c.Wb(),c.Xb(37,"span",23),c.Xb(38,"label",16),c.ec("ngModelChange",function(t){return e.careplanAssigned.enabled=t})("ngModelChange",function(){return e.onConfigChange("CAREPLAN_ASSIGNED",e.careplanAssigned)}),c.Xb(39,"span",17),c.Xc(40," When a care plan has been assigned to the patient as part of any episode "),c.Wb(),c.Wb(),c.Wb(),c.Xb(41,"span",18),c.Xb(42,"p",19),c.Xc(43),c.jc(44,"translate"),c.Wb(),c.Xb(45,"app-alert-priority-dropdown",20),c.ec("onPriorityChange",function(t){return e.onPriorityChange(t,"CAREPLAN_ASSIGNED",e.careplanAssigned)}),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(46,"div",24),c.Xb(47,"div",25),c.Sb(48,"alert-config-info"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Vc(49,dm,8,0,"ng-container",26)),2&t&&(c.Db(5),c.Zc(" ",c.kc(6,18,"ALERT.ALERT_SETTINGS.HEADER")," "),c.Db(4),c.rc("ngIf",null==e.tenantConfig||null==e.tenantConfig.vitalConfig?null:e.tenantConfig.vitalConfig.enabled),c.Db(1),c.rc("ngIf",null==e.tenantConfig||null==e.tenantConfig.vitalConfig?null:e.tenantConfig.vitalConfig.enabled),c.Db(1),c.rc("ngIf",null==e.tenantConfig||null==e.tenantConfig.featureConfigs?null:e.tenantConfig.featureConfigs.formsEnabled),c.Db(1),c.rc("ngIf",null==e.tenantConfig||null==e.tenantConfig.featureConfigs?null:e.tenantConfig.featureConfigs.formsEnabled),c.Db(13),c.rc("ngModel",e.consentFormSubmitted.enabled),c.Db(1),c.rc("nzDisabled",!(null!=e.consentFormSubmitted&&e.consentFormSubmitted.enabled)),c.Db(4),c.Yc(c.kc(31,20,"ALERT.ALERT_SETTINGS.PRIORITY_LABEL")),c.Db(2),c.rc("priority",null==e.consentFormSubmitted?null:e.consentFormSubmitted.priority)("disabled",!(null!=e.consentFormSubmitted&&e.consentFormSubmitted.enabled))("disabledPriorities",e.disabledPriorities),c.Db(6),c.rc("ngModel",e.careplanAssigned.enabled),c.Db(1),c.rc("nzDisabled",!(null!=e.careplanAssigned&&e.careplanAssigned.enabled)),c.Db(4),c.Yc(c.kc(44,22,"ALERT.ALERT_SETTINGS.PRIORITY_LABEL")),c.Db(2),c.rc("priority",null==e.careplanAssigned?null:e.careplanAssigned.priority)("disabled",!(null!=e.careplanAssigned&&e.careplanAssigned.enabled))("disabledPriorities",e.disabledPriorities),c.Db(4),c.rc("ngIf",e.isTenantAdmin&&e.loadingComplete))},directives:[F.c,F.a,x.a,h.q,U.a,im.a,b.u,b.x,am.a,om,dt.a,G.a,ut.a],pipes:[Z.a],styles:[".title-container[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.main-title-container[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:0!important}.main-title[_ngcontent-%COMP%]{margin-bottom:.8em;margin-top:.8em;font-weight:700;font-size:16px}.sub-title[_ngcontent-%COMP%]{margin-bottom:.9em;margin-top:.8em}.priority-label[_ngcontent-%COMP%]{font-size:12px!important}.config-container[_ngcontent-%COMP%]{display:flex}.all-config-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subtext[_ngcontent-%COMP%]{margin-top:15px}.config-text-container-left[_ngcontent-%COMP%]{width:60%;padding-right:10px}.config-text-container-right[_ngcontent-%COMP%]{width:55%;padding-right:10px}.scrollable-container[_ngcontent-%COMP%]{overflow-y:scroll}.container[_ngcontent-%COMP%]{padding-bottom:40px!important;padding-top:40px!important}[_nghost-%COMP%]     .ant-affix{bottom:0!important;width:auto}[_nghost-%COMP%]     #footer-affix-container-target>.ant-affix{left:150px!important}.quick-action[_ngcontent-%COMP%]{padding:20px;height:100px;background:var(--neutral-color);width:100%;bottom:0;cursor:pointer}.icon-btn[_ngcontent-%COMP%], .quick-action[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-btn[_ngcontent-%COMP%]{width:50px;height:50px;background:#e9e9e9;border-radius:50%;flex-direction:column;margin:10px}.app-icon[_ngcontent-%COMP%]{margin-top:30%;margin-right:0}.right-btn[_ngcontent-%COMP%]{font-size:12px;margin-left:6px;color:var(--primary-color)}.create-alert-span[_ngcontent-%COMP%]{width:200px;display:flex;align-items:center}"]}),t})();function pm(t,e){if(1&t&&(c.Xb(0,"span",8),c.Xc(1," Last edited by: "),c.Vb(2),c.Xc(3),c.Sb(4,"nz-divider",9),c.Xc(5),c.jc(6,"date"),c.Ub(),c.Wb()),2&t){const t=c.ic();c.Db(3),c.Zc(" ",t.updatedBy," "),c.Db(2),c.Zc(" ",c.lc(6,2,t.updatedOn,"dd MMMM YYY, hh:mm:ss a")," ")}}const hm=function(t){return{left:t}};let bm=(()=>{class t{constructor(t,e,n,i,a,o){this._routeHelperService=t,this._activatedRoute=e,this._router=n,this._dataSharingService=i,this._subTenantToggleHelper=a,this._alertService=o,this.tab="GENERAL_SETTINGS",this.onTabChange=new c.n,this.tabIndex=new Map([[0,"SUMMARY"],[1,"GENERAL_SETTINGS"]]),this.width=window.innerWidth,this.level=Kg.c.TENANT_LEVEL,this.style={width:this.width},this.rules=new Array,this.page=0,this.onSelectedTabIndexChange=t=>{this._router.navigate([],{queryParams:{tab:this.tabIndex.get(t.index)},queryParamsHandling:"merge",relativeTo:this._activatedRoute,replaceUrl:!0}),this.onTabChange.emit(this.tabIndex.get(t.index)),this.init(),this.saveBtnVisible="GENERAL_SETTINGS"==this.tabIndex.get(t.index)},this.fetchRules=()=>this._alertService.getAlertRule(Kg.c.TENANT_LEVEL,this.page),this.fetchPatientRules=()=>this._alertService.getAlertRule(Kg.c.PATIENT_LEVEL,this.page,this.patientId),this.loggedInUserRole=localStorage.getItem("loggedInUserRole"),this.isTenantAdmin=this.loggedInUserRole==zn.a.TENANT_ADMIN}ngOnInit(){this._subTenantToggleHelper.setRequestTenantId(),this._dataSharingService.assignedTenantSettings.subscribe(t=>this.tenantConfigMap=t),this._activatedRoute.queryParams.forEach(t=>{t.tab&&(this.tab=t.tab)}),this.selectedTabIndex="GENERAL_SETTINGS"==this.tab?1:0,this.saveBtnVisible="GENERAL_SETTINGS"==this.tab,this.init(),this._routeHelperService.isSidebarCollapsed().subscribe(t=>{this.sidebarCollapsed=t,this.resizeHeader()}),Object(lg.fromEvent)(window,"sidebar").pipe(Object(Et.a)(50)).subscribe(t=>{var e;this.sidebarCollapsed=null===(e=null==t?void 0:t.detail)||void 0===e?void 0:e.state,this.width=window.innerWidth,this.resizeHeader()}),this._dataSharingService.onSubTenantChange().subscribe(t=>{this.tenantConfig=this.tenantConfigMap.get(t),this.onRefresh(1)})}resizeHeader(){this.headerLeft=this.sidebarCollapsed?"0":"150px"}onRefresh(t){this.init()}init(){this.loading=!0;let t=this.level==Kg.c.PATIENT_LEVEL?this.fetchPatientRules():this.fetchRules(),e=this._alertService.getAlertConfig();Object(Yb.a)([t,e]).subscribe(t=>{this.updatedOn=t[1].updatedOn>t[0].lastUpdatedOn?t[1].updatedOn:t[0].lastUpdatedOn,this.updatedBy=t[1].updatedOn>t[0].lastUpdatedOn?t[1].lastUpdatedBy:t[0].lastUpdatedBy;let e=this.processGeneralRules(t[1]);e.push(...t[0].result),this.processRules(e),this.loading=!1})}processGeneralRules(t){let e=new Array;for(let i in t.configs)if(t.configs[i].enabled){var n=new Kg.a;if(n.active=!0,n.level=Kg.c.TENANT_LEVEL,n.summaryType=Kg.e.GENERAL,i==_l.a.VITAL_LIMIT_CROSSED||i==_l.a.TODO_TASK_SKIPPED)n.type=Kg.b.VITALS,n.text=i==_l.a.VITAL_LIMIT_CROSSED?"When a patient\u2019s recorded vital sign is above or below the limit.":"When a patient skip a vital sign reading.";else if(i==_l.a.CAREPLAN_ASSIGNED||i==_l.a.CONSENT_SUBMITTED)n.type=Kg.b.MONITORING,n.text=i==_l.a.CAREPLAN_ASSIGNED?"When a care plan has been assigned to the patient as part of any episode.":"When a consent form has been submitted by a patient for any episode.";else{if(i!=_l.a.FORM_ALERT)continue;n.type=Kg.b.FORMS,n.text="When the patient\u2019s assessment score crosses the limit."}n.updatedOn=0==t.configs[i].updatedOn?t.updatedOn:t.configs[i].updatedOn,n.summaryType=Kg.e.GENERAL,n.priority=t.configs[i].priority,e.push(n)}return e}processRules(t){let e=t.filter(t=>t.active);this.rules=this.sortByPriority(e);let n=t.filter(t=>!t.active),i=this.sortByPriority(n);i.length>0&&this.rules.push(...i)}sortByPriority(t){let e=new Array;return new Array(Jg.a.VERY_HIGH,Jg.a.HIGH,Jg.a.MEDIUM,Jg.a.LOW,Jg.a.VERY_LOW).forEach(n=>{let i=t.filter(t=>t.priority==n);null!=i&&i.length>0&&e.push(...i)}),e}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(se.a),c.Rb(d.a),c.Rb(d.g),c.Rb(C.a),c.Rb(tm.a),c.Rb(Qe.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-alert-configurations"]],inputs:{tab:"tab"},outputs:{onTabChange:"onTabChange"},decls:10,vars:13,consts:[["ngTour","patientListHeaders",3,"nzSelectedIndex","ngStyle","nzTabBarStyle","nzTabBarExtraContent","nzSelectChange"],["nzTitle","Summary"],["summary",""],[3,"level","allRules","loading","refresh"],[3,"nzTitle"],["generalAlertSettingsTab",""],[3,"tenantConfig"],["extraTemplate",""],[2,"color","white"],["nzType","vertical",2,"border-color","white"]],template:function(t,e){if(1&t&&(c.Xb(0,"nz-tabset",0),c.ec("nzSelectChange",function(t){return e.onSelectedTabIndexChange(t)}),c.Xb(1,"nz-tab",1,2),c.Xb(3,"alert-summary",3),c.ec("refresh",function(t){return e.onRefresh(t)}),c.Wb(),c.Wb(),c.Xb(4,"nz-tab",4,5),c.jc(6,"translate"),c.Sb(7,"alert-general-settings",6),c.Wb(),c.Wb(),c.Vc(8,pm,7,5,"ng-template",null,7,c.Wc)),2&t){const t=c.Ic(9);c.rc("nzSelectedIndex",e.selectedTabIndex)("ngStyle",c.yc(11,hm,e.headerLeft))("nzTabBarStyle",e.style)("nzTabBarExtraContent",t),c.Db(3),c.rc("level",e.level)("allRules",e.rules)("loading",e.loading),c.Db(1),c.sc("nzTitle",c.kc(6,9,"ALERT.ALERT_SETTINGS")),c.Db(3),c.rc("tenantConfig",e.tenantConfig)}},directives:[$s.d,ze.e,h.r,$s.a,em.a,um,U.a],pipes:[Z.a,h.e],styles:[".search[_ngcontent-%COMP%]{background:#393939;color:var(--neutral-color);border:none;height:30px;outline:none}[_nghost-%COMP%]     .ant-tabs-nav{background:var(--light-black);position:fixed;width:100%;z-index:999}[_nghost-%COMP%]     .ant-input-group-addon{background-color:transparent}[_nghost-%COMP%]     .ant-input-search>.ant-input-group>.ant-input-group-addon .ant-input-search-button{padding:5px 10px;border-radius:5px;height:30px}[_nghost-%COMP%]     .ant-tabs-tab{height:unset}[_nghost-%COMP%]     .ant-tabs-tab-active{border-bottom:4px solid var(--primary-color)!important}[_nghost-%COMP%]     .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn{color:var(--neutral-color)}[_nghost-%COMP%]     .ant-input-group-wrapper{width:inherit}[_nghost-%COMP%]     .ant-tabs{z-index:998;position:fixed;right:0;display:contents}.header-spacer[_ngcontent-%COMP%]{height:0}a[_ngcontent-%COMP%]{float:right;color:var(--neutral-color);font-weight:700;height:30px;margin:0 15px}#username[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:3}app-icons[_ngcontent-%COMP%]{vertical-align:middle}.ant-tabs-bottom[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], .ant-tabs-bottom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], .ant-tabs-top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-tabs-top>.ant-tabs-nav{margin:0;width:-webkit-fill-available}.ant-tabs[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%]   .ant-tabs-nav-list[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-tabs>.ant-tabs-nav .ant-tabs-nav-list{color:var(--neutral-color)}.ant-btn-circle-outline[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-btn-circle{border:none}"]}),t})();var gm=n("50vb"),mm=n("ua0i");class fm{constructor(){this.active=!0,this.campaignSchedule=new Sm,this.contactLists=new Array}}var vm=function(t){return t.ENROLLMENT="ENROLLMENT",t.GENERAL="GENERAL",t}({});class Sm{constructor(){this.pushAfter=8,this.scheduleType=Tm.DAY}}var Tm=function(t){return t.HOURS="HOURS",t.DAY="DAY",t.WEEK="WEEK",t}({});function Cm(t,e){if(1&t&&c.Sb(0,"nz-option",13),2&t){const t=e.$implicit;c.rc("nzLabel",t)("nzValue",t)}}function Em(t,e){if(1&t&&c.Sb(0,"nz-option",13),2&t){const t=e.$implicit;c.rc("nzLabel",t)("nzValue",t)}}function Im(t,e){if(1&t&&c.Sb(0,"nz-option",13),2&t){const t=e.$implicit;c.rc("nzLabel",t.value.name)("nzValue",t.key)}}function Mm(t,e){1&t&&(c.Xb(0,"nz-option",14),c.Xb(1,"div",15),c.Sb(2,"em",16),c.Xc(3," Loading... "),c.Wb(),c.Wb())}function ym(t,e){if(1&t&&c.Sb(0,"nz-option",13),2&t){const t=e.$implicit;c.rc("nzLabel",t.value.name)("nzValue",t.key)}}function Am(t,e){1&t&&(c.Xb(0,"nz-option",14),c.Xb(1,"div",15),c.Sb(2,"em",16),c.Xc(3," Loading... "),c.Wb(),c.Wb())}let _m=(()=>{class t{constructor(t){this._genesysService=t,this.onCampaignLinked=new c.n,this.episodeTypes=Object.keys(mm.a),this.campaignTypes=Object.keys(vm),this.divisionMap=new Map,this.campaignMap=new Map,this.saveBtnLoading=!1}ngOnInit(){this.fetchDivision()}fetchDivision(){this.loadingDivision=!0,this._genesysService.fetchDivisions().subscribe(t=>{t&&t.entities.forEach(t=>this.divisionMap.set(t.id,t)),this.loadingDivision=!1})}onDivisionChange(t){this.campaignMap=new Map,this.division=this.divisionMap.get(t),this.fetchCampaigns(t)}fetchCampaigns(t){this.loadingCampaign=!0,this._genesysService.fetchCampaigns(t).subscribe(t=>{t&&t.entity.forEach(t=>this.campaignMap.set(t.id,t)),this.loadingCampaign=!1})}onCampaignChange(t){this.campaign=this.campaignMap.get(t)}onChange(t,e){}submit(){this.linkBtnLoading=!0,this.request={campaignId:this.campaign.id,campaignName:this.campaign.name,campaignType:this.selectedCampaignType,episodeType:this.selectedEpisodeType,campaignSchedule:{pushAfter:8,scheduleType:"DAY"},contactList:this.campaign.contactList},this._genesysService.attachCampaign(this.request).subscribe(t=>{this.linkBtnLoading=!0,this.onCampaignLinked.emit(!0)})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(gm.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["campaign-selector"]],outputs:{onCampaignLinked:"onCampaignLinked"},decls:34,vars:16,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],["nz-typography","","nzType","secondary"],["nzPlaceHolder","Please select episode Type",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","Please select campaign type",3,"ngModel","ngModelChange"],["nzPlaceHolder","Please select division",3,"ngModel","ngModelChange"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nzPlaceHolder","Please select a campaign",3,"ngModel","ngModelChange"],["nz-row","","nzGutter","16",1,"centerize"],["nz-col","","nzSpan","24"],["nz-button","","nzType","primary",1,"template-actions",3,"nzSize","nzLoading","click"],[3,"nzLabel","nzValue"],["nzDisabled","","nzCustomContent",""],[1,"loading-option"],["nz-icon","","nzType","loading",2,"font-size","20px","color","#8BC34A"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"p",3),c.Xc(4,"Episode Type"),c.Wb(),c.Xb(5,"nz-select",4),c.ec("ngModelChange",function(t){return e.selectedEpisodeType=t})("ngModelChange",function(t){return e.onChange(t,"EPISODE_TYPE")}),c.Vc(6,Cm,1,2,"nz-option",5),c.Wb(),c.Wb(),c.Xb(7,"div",2),c.Xb(8,"p",3),c.Xc(9,"Campaign Type"),c.Wb(),c.Xb(10,"nz-select",6),c.ec("ngModelChange",function(t){return e.selectedCampaignType=t})("ngModelChange",function(t){return e.onChange(t,"CAMPAIGN_TYPE")}),c.Vc(11,Em,1,2,"nz-option",5),c.Wb(),c.Wb(),c.Wb(),c.Sb(12,"br"),c.Xb(13,"div",1),c.Xb(14,"div",2),c.Xb(15,"p",3),c.Xc(16,"Division"),c.Wb(),c.Xb(17,"nz-select",7),c.ec("ngModelChange",function(t){return e.selectedDivision=t})("ngModelChange",function(t){return e.onDivisionChange(t)}),c.Vc(18,Im,1,2,"nz-option",5),c.jc(19,"keyvalue"),c.Vc(20,Mm,4,0,"nz-option",8),c.Wb(),c.Wb(),c.Xb(21,"div",2),c.Xb(22,"p",3),c.Xc(23,"Campaign"),c.Wb(),c.Xb(24,"nz-select",9),c.ec("ngModelChange",function(t){return e.selectedCampaign=t})("ngModelChange",function(t){return e.onCampaignChange(t)}),c.Vc(25,ym,1,2,"nz-option",5),c.jc(26,"keyvalue"),c.Vc(27,Am,4,0,"nz-option",8),c.Wb(),c.Wb(),c.Wb(),c.Sb(28,"br"),c.Sb(29,"br"),c.Xb(30,"div",10),c.Xb(31,"div",11),c.Xb(32,"button",12),c.ec("click",function(){return e.submit()}),c.Xc(33," Link Campaign "),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Db(5),c.rc("ngModel",e.selectedEpisodeType),c.Db(1),c.rc("ngForOf",e.episodeTypes),c.Db(4),c.rc("ngModel",e.selectedCampaignType),c.Db(1),c.rc("ngForOf",e.campaignTypes),c.Db(6),c.rc("ngModel",e.selectedDivision),c.Db(1),c.rc("ngForOf",c.kc(19,12,e.divisionMap)),c.Db(2),c.rc("ngIf",e.loadingDivision),c.Db(4),c.rc("ngModel",e.selectedCampaign),c.Db(1),c.rc("ngForOf",c.kc(26,14,e.campaignMap)),c.Db(2),c.rc("ngIf",e.loadingCampaign),c.Db(5),c.rc("nzSize","medium")("nzLoading",e.saveBtnLoading))},directives:[F.c,F.a,x.a,Y.d,b.u,b.x,h.p,h.q,B.a,j.a,G.a,Y.a,ut.a],pipes:[h.j],styles:[""]}),t})();class Dm{}var zm=n("z4wI");function Om(t,e){if(1&t&&c.Sb(0,"nz-option",19),2&t){const t=e.$implicit;c.rc("nzLabel",t)("nzValue",t)}}function Nm(t,e){if(1&t&&c.Sb(0,"nz-option",19),2&t){const t=e.$implicit;c.rc("nzLabel",t)("nzValue",t)}}function Pm(t,e){if(1&t&&c.Sb(0,"nz-option",19),2&t){const t=e.$implicit;c.rc("nzLabel",t)("nzValue",t)}}function Rm(t,e){if(1&t&&c.Sb(0,"nz-option",19),2&t){const t=e.$implicit;c.rc("nzLabel",t.value.name)("nzValue",t.key)}}function Xm(t,e){1&t&&(c.Xb(0,"nz-option",20),c.Xb(1,"div",21),c.Sb(2,"em",22),c.Xc(3," Loading... "),c.Wb(),c.Wb())}function Lm(t,e){if(1&t&&c.Sb(0,"nz-option",19),2&t){const t=e.$implicit;c.rc("nzLabel",t.value.name)("nzValue",t.key)}}function wm(t,e){1&t&&(c.Xb(0,"nz-option",20),c.Xb(1,"div",21),c.Sb(2,"em",22),c.Xc(3," Loading... "),c.Wb(),c.Wb())}function Wm(t,e){1&t&&(c.Xb(0,"span",23),c.Xb(1,"sup"),c.Xc(2,"*"),c.Wb(),c.Xc(3," Required "),c.Wb())}let km=(()=>{class t{constructor(t,e){this._notificationService=t,this._genesysService=e,this.alreadyAvailableCampaigns=new Set,this.onContactListDivisionChange=new c.n,this.onContactListCreated=new c.n,this.campaign=new fm,this.division=new Dm,this.attemptLimit=new Dm,this.episodeTypes=Object.keys(mm.a),this.campaignTypes=Object.keys(vm),this.scheduleTypes=Object.keys(Tm),this.attemptLimitMap=new Map,this.attemptLimits=new Array,this.divisionMap=new Map,this.divisions=new Array}ngOnInit(){this.init()}init(){this.loadingDivision=!0,this.loadingAttemptLimits=!0,this._genesysService.fetchAttemptLimits().subscribe(t=>{t&&(this.attemptLimits=t.entities,this.attemptLimits.forEach(t=>this.attemptLimitMap.set(t.id,t))),this.loadingAttemptLimits=!1}),this._genesysService.fetchDivisions().subscribe(t=>{t&&(this.divisions=t.entities,this.divisions.forEach(t=>this.divisionMap.set(t.id,t))),this.loadingDivision=!1})}onChange(t){this.isValidName()?(this.campaign.campaignName="DT_"+this.tenantName+"_"+this.campaign.episodeType+"_"+this.campaign.campaignType,this.campaign.episodeType&&this.campaign.campaignType&&(this.isCampaignValid=!0)):(this._notificationService.warning("Campaign","Campaign with the same name already present"),this.isCampaignValid=!1)}onAttemptLimitChange(t){this.attemptLimit=this.attemptLimitMap.get(t)}onDivisionChange(t){this.division=this.divisionMap.get(t),this.onContactListDivisionChange.emit(this.division)}isValidName(){return!this.alreadyAvailableCampaigns.has(this.campaign.episodeType+"_"+this.campaign.campaignType)}isValidAttemptLimit(){return this.attemptLimit&&null!=this.attemptLimit}create(){this._genesysService.createContactList(this.campaign.campaignName,this.attemptLimit,this.division).subscribe(t=>{this.onContactListCreated.emit(t)},t=>{console.log("Error : ",t),this._notificationService.error("Contact List",t.error.errorEntity.message)})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(V.b),c.Rb(gm.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-create-contact-list"]],inputs:{tenantId:"tenantId",tenantName:"tenantName",alreadyAvailableCampaigns:"alreadyAvailableCampaigns"},outputs:{onContactListDivisionChange:"onContactListDivisionChange",onContactListCreated:"onContactListCreated"},decls:54,vars:24,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","24"],["nz-typography","","nzType","secondary"],["id","title","nz-input","","required","","placeholder","Contactlist Name","disabled","",3,"ngModel","ngModelChange"],["title","ngModel"],["nz-col","","nzSpan","12"],["nzPlaceHolder","Please select episode Type",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","Please select contactlist type",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","12",2,"width","100%"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelChange"],["nzPlaceHolder","Please select campaign type","nzDisabled","",3,"ngModel","ngModelChange"],["nzPlaceHolder","Please select attempt limits",3,"ngModel","ngModelChange"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nzPlaceHolder","Please select division",3,"ngModel","ngModelChange"],["nz-typography","","nzType","danger",4,"ngIf"],["nz-row","","nzGutter","16",1,"centerize"],["nz-button","","nzType","primary",1,"template-actions",3,"nzSize","nzLoading","disabled","click"],[3,"nzLabel","nzValue"],["nzDisabled","","nzCustomContent",""],[1,"loading-option"],["nz-icon","","nzType","loading",2,"font-size","20px","color","#8BC34A"],["nz-typography","","nzType","danger"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"p",3),c.Xc(4,"Contactlist Name"),c.Wb(),c.Xb(5,"input",4,5),c.ec("ngModelChange",function(t){return e.campaign.campaignName=t}),c.Wb(),c.Wb(),c.Wb(),c.Sb(7,"br"),c.Xb(8,"div",1),c.Xb(9,"div",6),c.Xb(10,"p",3),c.Xc(11,"Episode Type"),c.Wb(),c.Xb(12,"nz-select",7),c.ec("ngModelChange",function(t){return e.campaign.episodeType=t})("ngModelChange",function(t){return e.onChange(t)}),c.Vc(13,Om,1,2,"nz-option",8),c.Wb(),c.Wb(),c.Xb(14,"div",6),c.Xb(15,"p",3),c.Xc(16,"Contactlist Type"),c.Wb(),c.Xb(17,"nz-select",9),c.ec("ngModelChange",function(t){return e.campaign.campaignType=t})("ngModelChange",function(t){return e.onChange(t)}),c.Vc(18,Nm,1,2,"nz-option",8),c.Wb(),c.Wb(),c.Wb(),c.Sb(19,"br"),c.Xb(20,"div",1),c.Xb(21,"div",10),c.Xb(22,"p",3),c.Xc(23," Push contact after "),c.Wb(),c.Xb(24,"nz-input-number",11),c.ec("ngModelChange",function(t){return e.campaign.campaignSchedule.pushAfter=t}),c.Wb(),c.Wb(),c.Xb(25,"div",6),c.Xb(26,"p",3),c.Xc(27," Contact schedule type "),c.Wb(),c.Xb(28,"nz-select",12),c.ec("ngModelChange",function(t){return e.campaign.campaignSchedule.scheduleType=t})("ngModelChange",function(t){return e.onChange(t)}),c.Vc(29,Pm,1,2,"nz-option",8),c.Wb(),c.Wb(),c.Wb(),c.Sb(30,"br"),c.Xb(31,"div",1),c.Xb(32,"div",6),c.Xb(33,"p",3),c.Xc(34," Attempt Limit "),c.Wb(),c.Xb(35,"nz-select",13),c.ec("ngModelChange",function(t){return e.attemptLimit=t})("ngModelChange",function(t){return e.onAttemptLimitChange(t)}),c.Vc(36,Rm,1,2,"nz-option",8),c.jc(37,"keyvalue"),c.Vc(38,Xm,4,0,"nz-option",14),c.Wb(),c.Wb(),c.Xb(39,"div",6),c.Xb(40,"p",3),c.Xc(41," Division "),c.Wb(),c.Xb(42,"nz-select",15),c.ec("ngModelChange",function(t){return e.selectedDivision=t})("ngModelChange",function(t){return e.onDivisionChange(t)}),c.Vc(43,Lm,1,2,"nz-option",8),c.jc(44,"keyvalue"),c.Vc(45,wm,4,0,"nz-option",14),c.Wb(),c.Vc(46,Wm,4,0,"span",16),c.Wb(),c.Wb(),c.Sb(47,"br"),c.Sb(48,"br"),c.Sb(49,"br"),c.Xb(50,"div",17),c.Xb(51,"div",2),c.Xb(52,"button",18),c.ec("click",function(){return e.create()}),c.Xc(53," Create "),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Db(5),c.rc("ngModel",e.campaign.campaignName),c.Db(7),c.rc("ngModel",e.campaign.episodeType),c.Db(1),c.rc("ngForOf",e.episodeTypes),c.Db(4),c.rc("ngModel",e.campaign.campaignType),c.Db(1),c.rc("ngForOf",e.campaignTypes),c.Db(6),c.rc("ngModel",e.campaign.campaignSchedule.pushAfter)("nzMin",1)("nzMax",30)("nzStep",1),c.Db(4),c.rc("ngModel",e.campaign.campaignSchedule.scheduleType),c.Db(1),c.rc("ngForOf",e.scheduleTypes),c.Db(6),c.rc("ngModel",e.attemptLimit),c.Db(1),c.rc("ngForOf",c.kc(37,20,e.attemptLimitMap)),c.Db(2),c.rc("ngIf",e.loadingAttemptLimits),c.Db(4),c.rc("ngModel",e.selectedDivision),c.Db(1),c.rc("ngForOf",c.kc(44,22,e.divisionMap)),c.Db(2),c.rc("ngIf",e.loadingDivision),c.Db(7),c.rc("nzSize","medium")("nzLoading",e.saveBtnLoading)("disabled",!e.isCampaignValid))},directives:[F.c,F.a,x.a,qa.b,b.d,b.C,b.u,b.x,Y.d,h.p,zm.a,h.q,B.a,j.a,G.a,Y.a,ut.a],pipes:[h.j],styles:[".centerize[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     .ant-input-number{width:100%}p[_ngcontent-%COMP%]{margin-bottom:5px}"]}),t})();class Vm{constructor(){this.dialingMode="preview",this.noAnswerTimeout=30,this.priority=5}}function xm(t,e){if(1&t&&c.Sb(0,"nz-option",21),2&t){const t=e.$implicit;c.rc("nzLabel",t.value)("nzValue",t.key)}}function Um(t,e){if(1&t&&c.Sb(0,"nz-option",21),2&t){const t=e.$implicit;c.rc("nzLabel",t.value.name)("nzValue",t.key)}}function Fm(t,e){1&t&&(c.Xb(0,"nz-option",22),c.Xb(1,"div",23),c.Sb(2,"em",24),c.Xc(3," Loading... "),c.Wb(),c.Wb())}function Hm(t,e){if(1&t&&c.Sb(0,"nz-option",21),2&t){const t=e.$implicit;c.rc("nzLabel",t.value.name)("nzValue",t.key)}}function Bm(t,e){1&t&&(c.Xb(0,"nz-option",22),c.Xb(1,"div",23),c.Sb(2,"em",24),c.Xc(3," Loading... "),c.Wb(),c.Wb())}function jm(t,e){if(1&t&&c.Sb(0,"nz-option",21),2&t){const t=e.$implicit;c.rc("nzLabel",t.value.name)("nzValue",t.key)}}function Gm(t,e){1&t&&(c.Xb(0,"nz-option",22),c.Xb(1,"div",23),c.Sb(2,"em",24),c.Xc(3," Loading... "),c.Wb(),c.Wb())}function Ym(t,e){if(1&t&&c.Sb(0,"nz-option",21),2&t){const t=e.$implicit;c.rc("nzLabel",t.value.name)("nzValue",t.key)}}function $m(t,e){1&t&&(c.Xb(0,"nz-option",22),c.Xb(1,"div",23),c.Sb(2,"em",24),c.Xc(3," Loading... "),c.Wb(),c.Wb())}function qm(t,e){if(1&t&&c.Sb(0,"nz-option",21),2&t){const t=e.$implicit;c.uc("nzLabel","",t.value.name," (",t.value.size," contacts)"),c.rc("nzValue",t.key)}}function Zm(t,e){1&t&&(c.Xb(0,"nz-option",22),c.Xb(1,"div",23),c.Sb(2,"em",24),c.Xc(3," Loading... "),c.Wb(),c.Wb())}function Qm(t,e){if(1&t&&c.Sb(0,"nz-option",21),2&t){const t=e.$implicit;c.sc("nzLabel",t.value.name),c.rc("nzValue",t.key)}}function Km(t,e){1&t&&(c.Xb(0,"nz-option",22),c.Xb(1,"div",23),c.Sb(2,"em",24),c.Xc(3," Loading... "),c.Wb(),c.Wb())}let Jm=(()=>{class t{constructor(t,e,n){this._genesysService=t,this._modalRef=e,this._notificationService=n,this.saveBtnLoading=!1,this.attemptLimitMap=new Map,this.divisionMap=new Map,this.scriptsMap=new Map,this.noAnswerTimeout=30,this.queueMap=new Map,this.contactListMap=new Map,this.ruleSetMap=new Map,this.dailingModes=new Map([["OutdatedSdkVersion","Outdated SDK Version"],["agentless","Agentless"],["preview","Preview"],["power","Power"],["predictive","Predictive"],["progressive","Progressive"],["external","External"]]),this.errors={nameError:!1,scriptError:!1,queueError:!1,divisionError:!1,attemptLimit:!1},this.queues=new Array,this.getContactListsSubscribe=()=>this._genesysService.fetchContactList(this.createCampaignRequest.division.id)}set division(t){null!=this.createCampaignRequest&&null!=this.createCampaignRequest||(this.createCampaignRequest=new Vm),this.createCampaignRequest.division=t,this.selectedDivision=t.id,this.onDivisionChange(t.id)}set contactList(t){this.loadingContactLists=!0,this.getContactListsSubscribe().subscribe(e=>{e&&e.entities.forEach(t=>this.contactListMap.set(t.id,t)),this.loadingContactLists=!1,null!=this.createCampaignRequest&&null!=this.createCampaignRequest||(this.createCampaignRequest=new Vm);let n=new Dm;n.id=t.id,n.name=t.name,n.selfUri=t.selfUri,this.createCampaignRequest.contactList=n,this.selectedContactList=n.id,this.onContactListChange(n.id)})}ngOnInit(){this.init()}init(){null!=this.createCampaignRequest&&null!=this.createCampaignRequest||(this.createCampaignRequest=new Vm),this.loadingDivision=!0,this.loadingAttemptLimits=!0,this._genesysService.fetchAttemptLimits().subscribe(t=>{t&&t.entities.forEach(t=>this.attemptLimitMap.set(t.id,t)),this.loadingAttemptLimits=!1}),this._genesysService.fetchDivisions().subscribe(t=>{t&&t.entities.forEach(t=>this.divisionMap.set(t.id,t)),this.loadingDivision=!1})}getScripts(){this.loadingScripts=!0,this._genesysService.fetchScripts(this.createCampaignRequest.division.id).subscribe(t=>{t&&t.entities.forEach(t=>this.scriptsMap.set(t.id,t)),this.loadingScripts=!1})}getQueues(){this.loadingQueues=!0,this._genesysService.fetchQueues(this.createCampaignRequest.division.id).subscribe(t=>{t&&t.entities.forEach(t=>this.queueMap.set(t.id,t)),this.loadingQueues=!1})}getContactLists(){this.loadingContactLists=!0,this.getContactListsSubscribe().subscribe(t=>{t&&t.entities.forEach(t=>this.contactListMap.set(t.id,t)),this.loadingContactLists=!1})}getRuleSets(){this.loadingRuleSet=!0,this._genesysService.fetchRuleSets(this.createCampaignRequest.division.id).subscribe(t=>{t&&t.entities.forEach(t=>this.ruleSetMap.set(t.id,t)),this.loadingRuleSet=!1})}onAttemptLimitChange(t){let e=this.attemptLimitMap.get(t);this.createCampaignRequest.attemptLimit=e,this.errors.attemptLimit=!1}onDivisionChange(t){this.createCampaignRequest.division=this.divisionMap.get(t),this.errors.divisionError=!1,this.getScripts(),this.getQueues(),this.getContactLists(),this.getRuleSets()}onScriptChange(t){this.createCampaignRequest.script=this.scriptsMap.get(t),this.errors.scriptError=!1}onQueueChange(t){this.createCampaignRequest.queue=this.queueMap.get(t),this.errors.queueError=!1}onContactListChange(t){this.createCampaignRequest.contactList=this.contactListMap.get(t),this.errors.contactListError=!1}onRuleSetChange(t){let e=new Array;t.forEach(t=>e.push(this.ruleSetMap.get(t))),this.createCampaignRequest.ruleSets=e}create(){this.validateRequest(),this._genesysService.createCampaign(this.createCampaignRequest).subscribe(t=>{this._modalRef.close()},t=>{this._notificationService.error("Contact List",t.error.errorEntity.message),this._modalRef.close()})}validateRequest(){for(let t in this.errors)console.log("Error : ",t)}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(gm.a),c.Rb(k.e),c.Rb(V.b))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-create-campaign"]],inputs:{tenantId:"tenantId",tenantName:"tenantName",division:"division",contactList:"contactList"},decls:85,vars:43,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],["nz-typography","","nzType","secondary"],["id","title","nz-input","","required","","placeholder","Campaign Name",3,"ngModel","ngModelChange"],["title","ngModel"],["id","caller-name","nz-input","","required","","placeholder","Caller Name",3,"ngModel","ngModelChange"],["id","caller-address","nz-input","","required","","placeholder","Caller Address",3,"ngModel","ngModelChange"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelChange"],["nzPlaceHolder","Please select dailing mode",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","Please select division",3,"ngModel","ngModelChange"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nzPlaceHolder","Please select attempt limits",3,"ngModel","ngModelChange"],["nzPlaceHolder","Please select script",3,"ngModel","ngModelChange"],["nzPlaceHolder","Please select queue",3,"ngModel","ngModelChange"],["nzShowSearch","","nzPlaceHolder","Select Contact List",3,"ngModel","ngModelChange"],["nzMode","multiple","nzShowSearch","","nzPlaceHolder","Select Rule Set",3,"ngModel","ngModelChange"],["nz-row","","nzGutter","16",1,"centerize"],["nz-col","","nzSpan","24"],["nz-button","","nzType","primary",1,"template-actions",3,"nzSize","nzLoading","click"],[3,"nzLabel","nzValue"],["nzDisabled","","nzCustomContent",""],[1,"loading-option"],["nz-icon","","nzType","loading",2,"font-size","20px","color","#8BC34A"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"p",3),c.Xc(4,"Campaign Name"),c.Wb(),c.Xb(5,"input",4,5),c.ec("ngModelChange",function(t){return e.createCampaignRequest.name=t}),c.Wb(),c.Wb(),c.Xb(7,"div",2),c.Xb(8,"p",3),c.Xc(9,"Caller Name"),c.Wb(),c.Xb(10,"input",6,5),c.ec("ngModelChange",function(t){return e.createCampaignRequest.callerName=t}),c.Wb(),c.Wb(),c.Wb(),c.Sb(12,"br"),c.Xb(13,"div",1),c.Xb(14,"div",2),c.Xb(15,"p",3),c.Xc(16,"Caller Address"),c.Wb(),c.Xb(17,"input",7,5),c.ec("ngModelChange",function(t){return e.createCampaignRequest.callerAddress=t}),c.Wb(),c.Wb(),c.Xb(19,"div",2),c.Xb(20,"p",3),c.Xc(21,"No answer time-out"),c.Wb(),c.Xb(22,"nz-input-number",8),c.ec("ngModelChange",function(t){return e.createCampaignRequest.noAnswerTimeout=t}),c.Wb(),c.Wb(),c.Wb(),c.Sb(23,"br"),c.Xb(24,"div",1),c.Xb(25,"div",2),c.Xb(26,"p",3),c.Xc(27,"Dailing Mode"),c.Wb(),c.Xb(28,"nz-select",9),c.ec("ngModelChange",function(t){return e.createCampaignRequest.dialingMode=t}),c.Vc(29,xm,1,2,"nz-option",10),c.jc(30,"keyvalue"),c.Wb(),c.Wb(),c.Xb(31,"div",2),c.Xb(32,"p",3),c.Xc(33,"Division"),c.Wb(),c.Xb(34,"nz-select",11),c.ec("ngModelChange",function(t){return e.selectedDivision=t})("ngModelChange",function(t){return e.onDivisionChange(t)}),c.Vc(35,Um,1,2,"nz-option",10),c.jc(36,"keyvalue"),c.Vc(37,Fm,4,0,"nz-option",12),c.Wb(),c.Wb(),c.Wb(),c.Sb(38,"br"),c.Xb(39,"div",1),c.Xb(40,"div",2),c.Xb(41,"p",3),c.Xc(42,"Attempt Limit"),c.Wb(),c.Xb(43,"nz-select",13),c.ec("ngModelChange",function(t){return e.selectedAttemptLimit=t})("ngModelChange",function(t){return e.onAttemptLimitChange(t)}),c.Vc(44,Hm,1,2,"nz-option",10),c.jc(45,"keyvalue"),c.Vc(46,Bm,4,0,"nz-option",12),c.Wb(),c.Wb(),c.Xb(47,"div",2),c.Xb(48,"p",3),c.Xc(49,"Script"),c.Wb(),c.Xb(50,"nz-select",14),c.ec("ngModelChange",function(t){return e.selectedScript=t})("ngModelChange",function(t){return e.onScriptChange(t)}),c.Vc(51,jm,1,2,"nz-option",10),c.jc(52,"keyvalue"),c.Vc(53,Gm,4,0,"nz-option",12),c.Wb(),c.Wb(),c.Wb(),c.Sb(54,"br"),c.Xb(55,"div",1),c.Xb(56,"div",2),c.Xb(57,"p",3),c.Xc(58,"Queue"),c.Wb(),c.Xb(59,"nz-select",15),c.ec("ngModelChange",function(t){return e.selectedQueue=t})("ngModelChange",function(t){return e.onQueueChange(t)}),c.Vc(60,Ym,1,2,"nz-option",10),c.jc(61,"keyvalue"),c.Vc(62,$m,4,0,"nz-option",12),c.Wb(),c.Wb(),c.Xb(63,"div",2),c.Xb(64,"p",3),c.Xc(65,"Contact list"),c.Wb(),c.Xb(66,"nz-select",16),c.ec("ngModelChange",function(t){return e.selectedContactList=t})("ngModelChange",function(t){return e.onContactListChange(t)}),c.Vc(67,qm,1,3,"nz-option",10),c.jc(68,"keyvalue"),c.Vc(69,Zm,4,0,"nz-option",12),c.Wb(),c.Wb(),c.Wb(),c.Sb(70,"br"),c.Xb(71,"div",1),c.Xb(72,"div",2),c.Xb(73,"p",3),c.Xc(74,"Rule Set"),c.Wb(),c.Xb(75,"nz-select",17),c.ec("ngModelChange",function(t){return e.selectedRuleSet=t})("ngModelChange",function(t){return e.onRuleSetChange(t)}),c.Vc(76,Qm,1,2,"nz-option",10),c.jc(77,"keyvalue"),c.Vc(78,Km,4,0,"nz-option",12),c.Wb(),c.Wb(),c.Wb(),c.Sb(79,"br"),c.Sb(80,"br"),c.Xb(81,"div",18),c.Xb(82,"div",19),c.Xb(83,"button",20),c.ec("click",function(){return e.create()}),c.Xc(84," Create "),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Db(5),c.rc("ngModel",e.createCampaignRequest.name),c.Db(5),c.rc("ngModel",e.createCampaignRequest.callerName),c.Db(7),c.rc("ngModel",e.createCampaignRequest.callerAddress),c.Db(5),c.rc("ngModel",e.createCampaignRequest.noAnswerTimeout)("nzMin",1)("nzMax",300)("nzStep",1),c.Db(6),c.rc("ngModel",e.createCampaignRequest.dialingMode),c.Db(1),c.rc("ngForOf",c.kc(30,29,e.dailingModes)),c.Db(5),c.rc("ngModel",e.selectedDivision),c.Db(1),c.rc("ngForOf",c.kc(36,31,e.divisionMap)),c.Db(2),c.rc("ngIf",e.loadingDivision),c.Db(6),c.rc("ngModel",e.selectedAttemptLimit),c.Db(1),c.rc("ngForOf",c.kc(45,33,e.attemptLimitMap)),c.Db(2),c.rc("ngIf",e.loadingAttemptLimits),c.Db(4),c.rc("ngModel",e.selectedScript),c.Db(1),c.rc("ngForOf",c.kc(52,35,e.scriptsMap)),c.Db(2),c.rc("ngIf",e.loadingScripts),c.Db(6),c.rc("ngModel",e.selectedQueue),c.Db(1),c.rc("ngForOf",c.kc(61,37,e.queueMap)),c.Db(2),c.rc("ngIf",e.loadingQueues),c.Db(4),c.rc("ngModel",e.selectedContactList),c.Db(1),c.rc("ngForOf",c.kc(68,39,e.contactListMap)),c.Db(2),c.rc("ngIf",e.loadingContactLists),c.Db(6),c.rc("ngModel",e.selectedRuleSet),c.Db(1),c.rc("ngForOf",c.kc(77,41,e.ruleSetMap)),c.Db(2),c.rc("ngIf",e.loadingRuleSet),c.Db(5),c.rc("nzSize","medium")("nzLoading",e.saveBtnLoading))},directives:[F.c,F.a,x.a,qa.b,b.d,b.C,b.u,b.x,zm.a,Y.d,h.p,h.q,B.a,j.a,G.a,Y.a,ut.a],pipes:[h.j],styles:["p[_ngcontent-%COMP%]{margin-bottom:5px}[_nghost-%COMP%]     .ant-input-number{width:100%}"]}),t})();function tf(t,e){if(1&t){const t=c.Yb();c.Xb(0,"button",13),c.ec("click",function(){return c.Lc(t),c.ic(2).createNewContactList()}),c.Xc(1,"Create new contact list"),c.Wb()}}function ef(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"div",5),c.Xb(2,"app-create-contact-list",14),c.ec("onContactListDivisionChange",function(e){return c.Lc(t),c.ic(2).onContactListDivisionChange(e)})("onContactListCreated",function(e){return c.Lc(t),c.ic(2).onContactListCreated(e)}),c.Wb(),c.Wb(),c.Ub()}if(2&t){const t=c.ic(2);c.Db(2),c.rc("tenantId",t.tenantId)("tenantName",t.tenantName)("alreadyAvailableCampaigns",t.alreadyAvailableCampaigns)}}function nf(t,e){if(1&t&&(c.Xb(0,"nz-timeline-item",1),c.Xb(1,"nz-card",2),c.Xb(2,"h4",3),c.Xb(3,"strong"),c.Xc(4,"Step 2 - "),c.Wb(),c.Xc(5,"Create Contact List "),c.Wb(),c.Xb(6,"p",3),c.Xc(7," You have to create a new contactlist first to create a campaign. "),c.Wb(),c.Vb(8),c.Xb(9,"div",10),c.Xb(10,"div",7),c.Vc(11,tf,2,0,"button",11),c.Wb(),c.Vc(12,ef,3,3,"ng-container",12),c.Xb(13,"div",5),c.Sb(14,"nz-divider",6),c.Wb(),c.Xb(15,"div",7),c.Xb(16,"p",3),c.Xc(17," You can choose an existing contactlist while creating a campaign. "),c.Wb(),c.Wb(),c.Wb(),c.Ub(),c.Wb(),c.Wb()),2&t){const t=c.ic();c.Db(11),c.rc("ngIf",!t.createFreshContactList),c.Db(1),c.rc("ngIf",t.createFreshContactList)}}function af(t,e){if(1&t&&(c.Xb(0,"nz-timeline-item",1),c.Xb(1,"nz-card",2),c.Xb(2,"h4",3),c.Xb(3,"strong"),c.Xc(4,"Step 3 - "),c.Wb(),c.Xc(5," Create Campaign "),c.Wb(),c.Xb(6,"p",3),c.Xc(7," You can create campaign here. "),c.Wb(),c.Sb(8,"app-create-campaign",15),c.Wb(),c.Wb()),2&t){const t=c.ic();c.Db(8),c.rc("tenantId",t.tenantId)("tenantName",t.tenantName)("division",t.division)("contactList",t.contactList)}}let of=(()=>{class t{constructor(t,e){this._genesysService=t,this._modalRef=e,this.alreadyAvailableCampaigns=new Set,this.index=0,this.disable=!1,this.contactListMap=new Map,this.divisionMap=new Map,this.useOldContactList=!1,this.saveBtnLoading=!1}ngOnInit(){this.loadingDivision=!0,this._genesysService.fetchDivisions().subscribe(t=>{t&&t.entities.forEach(t=>this.divisionMap.set(t.id,t)),this.loadingDivision=!1})}onIndexChange(t){this.index=t}getContactLists(){this.loadingContactLists=!0,this._genesysService.fetchContactList(this.division.id).subscribe(t=>{t&&t.entities.forEach(t=>this.contactListMap.set(t.id,t)),this.loadingContactLists=!1})}onDivisionChange(t){this.division=this.divisionMap.get(t),this.getContactLists()}onContactListChange(t){this.contactList=this.contactListMap.get(t)}chooseFromExistingContactList(){this.useOldContactList=!0,this.createFreshContactList=!1}createNewContactList(){this.createFreshContactList=!0,this.useOldContactList=!1}onContactListDivisionChange(t){this.onDivisionChange(t.id)}onContactListCreated(t){this.loadingContactLists=!0,this._genesysService.fetchContactList(this.division.id).subscribe(e=>{e&&e.entities.forEach(t=>this.contactListMap.set(t.id,t)),this.loadingContactLists=!1,this.contactList=t.entity})}chooseCampaign(){this.createNewCampaignFlag=!0}onCampaignLinked(t){this._modalRef.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(gm.a),c.Rb(k.e))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-create-contact-list-campaign-wizard"]],inputs:{tenantId:"tenantId",tenantName:"tenantName",alreadyAvailableCampaigns:"alreadyAvailableCampaigns"},decls:19,vars:4,consts:[[1,"container"],["nzColor","green"],[2,"width","100%"],["nz-typography","","nzType","primary"],[3,"onCampaignLinked"],["nz-col","","nzSpan","24"],["nzText","Or"],["nz-col","","nzSpan","24",2,"text-align","center"],["nz-button","","nzType","primary",1,"template-actions",3,"nzSize","nzLoading","click"],["nzColor","green",4,"ngIf"],["nz-row","","nzGutter","64",2,"margin-bottom","20px"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[4,"ngIf"],["nz-button","","nzType","primary",3,"click"],[3,"tenantId","tenantName","alreadyAvailableCampaigns","onContactListDivisionChange","onContactListCreated"],[3,"tenantId","tenantName","division","contactList"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"nz-timeline"),c.Xb(2,"nz-timeline-item",1),c.Xb(3,"nz-card",2),c.Xb(4,"h4",3),c.Xb(5,"strong"),c.Xc(6,"Step 1 - "),c.Wb(),c.Xc(7,"Choose Campaign "),c.Wb(),c.Xb(8,"p",3),c.Xc(9," You can choose an existing campaign. "),c.Wb(),c.Vb(10),c.Xb(11,"campaign-selector",4),c.ec("onCampaignLinked",function(t){return e.onCampaignLinked(t)}),c.Wb(),c.Ub(),c.Xb(12,"div",5),c.Sb(13,"nz-divider",6),c.Wb(),c.Xb(14,"div",7),c.Xb(15,"button",8),c.ec("click",function(){return e.chooseCampaign()}),c.Xc(16," Create new Campaign "),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Vc(17,nf,18,2,"nz-timeline-item",9),c.Vc(18,af,9,4,"nz-timeline-item",9),c.Wb(),c.Wb()),2&t&&(c.Db(15),c.rc("nzSize","medium")("nzLoading",e.saveBtnLoading),c.Db(2),c.rc("ngIf",e.createNewCampaignFlag),c.Db(1),c.rc("ngIf",e.createNewCampaignFlag))},directives:[Pl.a,Pl.b,lt.a,x.a,_m,F.a,U.a,B.a,j.a,G.a,h.q,F.c,km,Jm],styles:[""]}),t})();function sf(t,e){if(1&t){const t=c.Yb();c.Xb(0,"button",15),c.ec("click",function(){return c.Lc(t),c.ic().createCampaign()}),c.Xc(1," Create Campaign "),c.Wb()}}function rf(t,e){if(1&t&&(c.Xb(0,"p"),c.Xb(1,"span",17),c.Xc(2," Contacts Called : "),c.Wb(),c.Xb(3,"span",7),c.Xc(4),c.Wb(),c.Wb()),2&t){const t=c.ic().$implicit,e=c.ic();let n=null;c.Db(4),c.Zc(" ",null==(n=e.campaignProgressMap.get(null==t?null:t.campaignId))?null:n.numberOfContactsCalled," ")}}function cf(t,e){if(1&t&&(c.Xb(0,"p"),c.Xb(1,"span",17),c.Xc(2," Contacts Messaged : "),c.Wb(),c.Xb(3,"span",7),c.Xc(4),c.Wb(),c.Wb()),2&t){const t=c.ic().$implicit,e=c.ic();let n=null;c.Db(4),c.Zc(" ",null==(n=e.campaignProgressMap.get(null==t?null:t.campaignId))?null:n.numberOfContactsMessaged," ")}}function lf(t,e){if(1&t&&(c.Xb(0,"p"),c.Xb(1,"span",17),c.Xc(2," Total Contacts : "),c.Wb(),c.Xb(3,"span",7),c.Xc(4),c.Wb(),c.Wb()),2&t){const t=c.ic().$implicit,e=c.ic();let n=null;c.Db(4),c.Zc(" ",null==(n=e.campaignProgressMap.get(null==t?null:t.campaignId))?null:n.totalNumberOfContacts," ")}}function df(t,e){if(1&t&&c.Sb(0,"nz-progress",21),2&t){const t=c.ic().$implicit,e=c.ic();c.rc("nzPercent",e.campaignProgressMap.get(null==t?null:t.campaignId).percentage)}}function uf(t,e){if(1&t&&(c.Xb(0,"div",3),c.Xb(1,"nz-card",16),c.Xb(2,"div",2),c.Xb(3,"div",3),c.Xb(4,"h5",17),c.Xc(5," Campaign Name : "),c.Wb(),c.Xb(6,"h5",7),c.Xc(7),c.Wb(),c.Wb(),c.Sb(8,"br"),c.Xb(9,"div",18),c.Vc(10,rf,5,1,"p",19),c.Vc(11,cf,5,1,"p",19),c.Vc(12,lf,5,1,"p",19),c.Wb(),c.Xb(13,"div",4),c.Vc(14,df,1,1,"nz-progress",20),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t){const t=e.$implicit,n=c.ic();let i=null;c.rc("nzSpan",8),c.Db(1),c.rc("nzHoverable",!0)("nzLoading",n.loadingDetails&&n.loadingProgress),c.Db(1),c.rc("nzGutter",64),c.Db(1),c.rc("nzSpan",24),c.Db(4),c.Zc(" ",null==(i=n.campaignDetailMap.get(null==t?null:t.campaignId))?null:i.name," "),c.Db(2),c.rc("nzSpan",12),c.Db(1),c.rc("ngIf",!n.loadingProgress),c.Db(1),c.rc("ngIf",!n.loadingProgress),c.Db(1),c.rc("ngIf",!n.loadingProgress),c.Db(1),c.rc("nzSpan",12),c.Db(1),c.rc("ngIf",!n.loadingProgress)}}function pf(t,e){if(1&t){const t=c.Yb();c.Xb(0,"tr"),c.Xb(1,"td"),c.Xc(2),c.Wb(),c.Xb(3,"td"),c.Xc(4),c.Wb(),c.Xb(5,"td"),c.Xc(6),c.Wb(),c.Xb(7,"td"),c.Xc(8),c.Wb(),c.Xb(9,"td"),c.Xc(10),c.Wb(),c.Xb(11,"td"),c.Xb(12,"app-icons",22),c.ec("click",function(){c.Lc(t);const n=e.$implicit;return c.ic().editCampaignSchedule(n)}),c.Wb(),c.Wb(),c.Wb()}if(2&t){const t=e.$implicit,n=c.ic();let i=null,a=null;c.Db(2),c.Yc(null==(i=n.campaignDetailMap.get(null==t?null:t.campaignId))||null==i.contactList?null:i.contactList.name),c.Db(2),c.Yc(null==(a=n.campaignDetailMap.get(null==t?null:t.campaignId))?null:a.name),c.Db(2),c.Yc(t.campaignType),c.Db(2),c.Yc(t.episodeType),c.Db(2),c.Zc("",t.campaignSchedule.pushAfter," Days")}}function hf(t,e){if(1&t&&c.Sb(0,"nz-option",29),2&t){const t=e.$implicit;c.rc("nzLabel",t)("nzValue",t)}}function bf(t,e){if(1&t){const t=c.Yb();c.Vb(0),c.Xb(1,"div",0),c.Xb(2,"div",23),c.Xb(3,"div",24),c.Xb(4,"p",17),c.Xc(5," Push contact after "),c.Wb(),c.Xb(6,"nz-input-number",25),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().campaignSchedule.pushAfter=e}),c.Wb(),c.Wb(),c.Xb(7,"div",26),c.Xb(8,"p",17),c.Xc(9," Contact schedule type "),c.Wb(),c.Xb(10,"nz-select",27),c.ec("ngModelChange",function(e){return c.Lc(t),c.ic().campaignSchedule.scheduleType=e})("ngModelChange",function(e){return c.Lc(t),c.ic().onChange(e)}),c.Vc(11,hf,1,2,"nz-option",28),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Ub()}if(2&t){const t=c.ic();c.Db(6),c.rc("ngModel",t.campaignSchedule.pushAfter)("nzMin",1)("nzMax",30)("nzStep",1),c.Db(4),c.rc("ngModel",t.campaignSchedule.scheduleType),c.Db(1),c.rc("ngForOf",t.scheduleTypes)}}const gf=function(){return["CREATE_GENESYS_CAMPAIGN"]};function mf(t,e){if(1&t&&(c.Xb(0,"tr"),c.Xb(1,"td"),c.Xc(2),c.Wb(),c.Xb(3,"td",5),c.Xc(4),c.Wb(),c.Wb()),2&t){const t=e.$implicit;c.Db(2),c.Yc((null==t?null:t.code)||"N/A"),c.Db(2),c.Yc((null==t?null:t.name)||"N/A")}}const ff=[{path:"",pathMatch:"full",redirectTo:"/dashboard"},{path:"authorization",loadChildren:()=>Promise.all([n.e(3),n.e(13)]).then(n.bind(null,"jfod")).then(t=>t.AuthorizationModule)},{path:"analytics",loadChildren:()=>Promise.all([n.e(2),n.e(1),n.e(5),n.e(8),n.e(11)]).then(n.bind(null,"MN0s")).then(t=>t.AnalyticsModule)},{path:"billing",loadChildren:()=>Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"p6Zg")).then(t=>t.BillingModule)},{path:"compliance",loadChildren:()=>Promise.all([n.e(2),n.e(1),n.e(4),n.e(6),n.e(17)]).then(n.bind(null,"5bRv")).then(t=>t.ComplianceModule)},{path:"insurance-payers",loadChildren:()=>n.e(23).then(n.bind(null,"hsp1")).then(t=>t.InsuranceModule)},{path:"diagnosis-codes",loadChildren:()=>n.e(20).then(n.bind(null,"bCUR")).then(t=>t.DiagnosisCodesModule)},{path:"dashboard",component:bd,data:{header:!1,title:"TITLE.HOME",searchEnabled:!1,primaryAction:{},secondaryAction:{},multiAction:{},enabled:!1,showTenantToggle:!0},canActivate:[ys.a]},{path:"video-call/:patientId",component:Ah,data:{privileges:[Ds.a.VIDEO_CALL]},canActivate:[ys.a,Bu.a]},{path:"video-call/:id",component:bd,canActivate:[ys.a]},{path:"sites",loadChildren:()=>n.e(29).then(n.bind(null,"QKQc")).then(t=>t.SiteModule)},{path:"patient",loadChildren:()=>Promise.all([n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(8),n.e(9),n.e(10)]).then(n.bind(null,"AMsP")).then(t=>t.PatientModule)},{path:"course",loadChildren:()=>Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"CDsc")).then(t=>t.CareplanModule)},{path:"crm-settings",component:(()=>{class t extends zs.a{constructor(t,e,n,i,a){super(),this._dataSharingService=t,this._genesysService=e,this.router=n,this._maodalService=i,this._subTenantToggleHelper=a,this.campaigns=[],this.alreadyAvailableCampaigns=new Set,this.campaignProgressMap=new Map,this.campaignDetailMap=new Map,this.campaignSchedule=new Sm,this.scheduleTypes=Object.keys(Tm),this.fetchCampaignProgress=t=>this._genesysService.fetchCampaignProgress(t)}ngOnInit(){this.requestTenantId=this._subTenantToggleHelper.setRequestTenantId(),this.init(),this._dataSharingService.onSubTenantChange().pipe(Object(Ze.a)(this.unsubscribed)).subscribe(t=>{null!=t&&this.onSubTenantChange(t)})}init(){this.loadingProgress=!0,this.loadingDetails=!0,this.isTenantCrmConfigLoading=!0,this._dataSharingService.assignedTenantSettings.pipe(Object(Ze.a)(this.unsubscribed)).subscribe(t=>{t&&0!=t.size&&(this.tenantConfig=t.get(this.requestTenantId),this.fetchCampaignDetails())})}fetchCampaignDetails(){var t,e,n,i,a;let o=new Array,s=new Array;this.isTenantCrmConfigLoading=!1,this.tenantConfig&&null!=this.tenantConfig.crmConfig&&null!=this.tenantConfig.crmConfig.campaigns&&null!=(null===(t=this.tenantConfig.crmConfig.campaigns[0])||void 0===t?void 0:t.contactLists)&&this.tenantConfig.crmConfig.campaigns.forEach(t=>{o.push(this.fetchCampaignProgress(t.campaignId)),s.push(this._genesysService.fetchCampaignById(t.campaignId))}),null===(n=null===(e=this.tenantConfig)||void 0===e?void 0:e.crmConfig)||void 0===n||n.campaigns.forEach(t=>{o.push(this.fetchCampaignProgress(t.campaignId))}),this.campaigns=null===(a=null===(i=this.tenantConfig)||void 0===i?void 0:i.crmConfig)||void 0===a?void 0:a.campaigns,Object(Yb.a)(o).subscribe(t=>{t.forEach(t=>{this.campaignProgressMap.set(t.campaign.id,t),this.loadingProgress=!1})},t=>{console.log("Error fork join",t)}),Object(Yb.a)(s).subscribe(t=>{t.forEach(t=>{this.campaignDetailMap.set(t.id,t),this.loadingDetails=!1})})}updateWrapUpCodeMapping(){this.wrapUpCodeListUpdating=!0,this._genesysService.updateWrapUpCodeMapping().subscribe(t=>{this.wrapUpCodeListUpdating=!1})}onSubTenantChange(t){"object"!=typeof t||""==t||null==t||null==t||(this.requestTenantId=t),this.init()}createCampaign(){var t,e;this._maodalService.create({nzContent:of,nzMaskClosable:!0,nzClosable:!0,nzFooter:null,nzTitle:"Create new campign",nzComponentParams:{tenantId:null===(t=this.tenantConfig)||void 0===t?void 0:t.tenantId,tenantName:null===(e=this.tenantConfig)||void 0===e?void 0:e.tenantName,alreadyAvailableCampaigns:new Set},nzWidth:900}).afterClose.subscribe(()=>{this.ngOnInit()})}editCampaignSchedule(t){this.campaignSchedule=t.campaignSchedule,this.scheduleEditCampaignId=t.campaignId,this.showScheduleEditModal=!0}handleOk(){this._genesysService.updateCampaignSchedule(this.campaignSchedule,this.scheduleEditCampaignId).subscribe(t=>{this.showScheduleEditModal=!1})}handleCancel(){this.showScheduleEditModal=!1}uploadExistingContactList(){this.router.navigate(["leads/lead-contact-bulk-upload"])}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(C.a),c.Rb(gm.a),c.Rb(d.g),c.Rb(k.f),c.Rb(tm.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-genesys"]],features:[c.Ab],decls:50,vars:26,consts:[[1,"container"],["title","Genesys","defaultTitle","Genesys",3,"isSearchEnabled","isSecondaryActionEnabled","isActionEnabled"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-col","",2,"text-align","center",3,"nzSpan"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-col","",2,"text-align","right",3,"nzSpan"],["nz-typography","","nzType","primary"],["nz-button","","nzType","primary",3,"click",4,"isFeaturePermitted"],["nz-col","",3,"nzSpan",4,"ngFor","ngForOf"],[3,"nzData"],["basicTable",""],[4,"ngFor","ngForOf"],["nzTitle","Campaign Schedule",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nz-button","","nzType","primary",3,"click"],[2,"width","100%","margin-top","20px","margin-bottom","20px",3,"nzHoverable","nzLoading"],["nz-typography","","nzType","secondary"],["nz-col","",2,"display","flex","flex-direction","column","margin-top","20px",3,"nzSpan"],[4,"ngIf"],["nzType","circle",3,"nzPercent",4,"ngIf"],["nzType","circle",3,"nzPercent"],["name","edit","size","22px",3,"click"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12",2,"width","100%"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelChange"],["nz-col","","nzSpan","12"],["nzPlaceHolder","Please select campaign type","nzDisabled","",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t&&(c.Xb(0,"div",0),c.Sb(1,"app-header",1),c.Xb(2,"div",0),c.Xb(3,"div",2),c.Xb(4,"div",3),c.Xc(5," Upload existing contact list "),c.Wb(),c.Xb(6,"div",4),c.Xb(7,"button",5),c.ec("click",function(){return e.uploadExistingContactList()}),c.Xc(8," Upload existing contact list "),c.Wb(),c.Wb(),c.Xb(9,"div",3),c.Xc(10," Update Wrap-up code List "),c.Wb(),c.Xb(11,"div",6),c.Xb(12,"button",5),c.ec("click",function(){return e.updateWrapUpCodeMapping()}),c.Xc(13," Update Wrap-up code List "),c.Wb(),c.Wb(),c.Sb(14,"nz-divider"),c.Wb(),c.Wb(),c.Xb(15,"div",2),c.Xb(16,"div",3),c.Xb(17,"h3",7),c.Xc(18,"Campaigns"),c.Wb(),c.Wb(),c.Xb(19,"div",6),c.Vc(20,sf,2,0,"button",8),c.Wb(),c.Wb(),c.Xb(21,"div",2),c.Vc(22,uf,15,12,"div",9),c.Wb(),c.Xb(23,"div",2),c.Xb(24,"div",3),c.Xb(25,"h3",7),c.Xc(26,"Contact Lists"),c.Wb(),c.Wb(),c.Xb(27,"div",3),c.Xb(28,"nz-table",10,11),c.Xb(30,"thead"),c.Xb(31,"tr"),c.Xb(32,"th"),c.Xc(33,"Name"),c.Wb(),c.Xb(34,"th"),c.Xc(35,"Campaign Name"),c.Wb(),c.Xb(36,"th"),c.Xc(37,"Campaign Type"),c.Wb(),c.Xb(38,"th"),c.Xc(39,"Episode Type"),c.Wb(),c.Xb(40,"th"),c.Xc(41,"Push Contact after"),c.Wb(),c.Xb(42,"th"),c.Xc(43),c.jc(44,"translate"),c.Wb(),c.Wb(),c.Wb(),c.Xb(45,"tbody"),c.Vc(46,pf,13,5,"tr",12),c.Wb(),c.Wb(),c.Wb(),c.Sb(47,"nz-divider"),c.Wb(),c.Wb(),c.Xb(48,"nz-modal",13),c.ec("nzVisibleChange",function(t){return e.showScheduleEditModal=t})("nzOnCancel",function(){return e.handleCancel()})("nzOnOk",function(){return e.handleOk()}),c.Vc(49,bf,12,6,"ng-container",14),c.Wb()),2&t){const t=c.Ic(29);c.Db(1),c.rc("isSearchEnabled",!1)("isSecondaryActionEnabled",!1)("isActionEnabled",!1),c.Db(2),c.rc("nzGutter",64),c.Db(1),c.rc("nzSpan",8),c.Db(2),c.rc("nzSpan",4),c.Db(1),c.rc("nzLoading",e.contactListUpdating),c.Db(2),c.rc("nzSpan",8),c.Db(2),c.rc("nzSpan",4),c.Db(1),c.rc("nzLoading",e.wrapUpCodeListUpdating),c.Db(3),c.rc("nzGutter",64),c.Db(1),c.rc("nzSpan",18),c.Db(3),c.rc("nzSpan",6),c.Db(1),c.rc("isFeaturePermitted",c.xc(25,gf)),c.Db(1),c.rc("nzGutter",32),c.Db(1),c.rc("ngForOf",null==e.tenantConfig||null==e.tenantConfig.crmConfig?null:e.tenantConfig.crmConfig.campaigns),c.Db(1),c.rc("nzGutter",64),c.Db(1),c.rc("nzSpan",18),c.Db(3),c.rc("nzSpan",24),c.Db(1),c.rc("nzData",e.campaigns),c.Db(15),c.Yc(c.kc(44,23,"TABLEHEADER.ACTIONS")),c.Db(3),c.rc("ngForOf",null==t?null:t.data),c.Db(2),c.rc("nzVisible",e.showScheduleEditModal)}},directives:[Hd.a,F.c,F.a,B.a,j.a,G.a,U.a,x.a,mn.a,h.p,$.f,$.n,$.o,$.e,$.l,$.i,k.a,k.b,lt.a,h.q,Ks.a,dt.a,zm.a,b.u,b.x,Y.d,Y.a],pipes:[Z.a],styles:[""]}),t})(),data:{showTenantToggle:!0,subTenantToggleMode:"SINGLE"},canActivate:[ys.a,Bu.a]},{path:"crm/genesys/wrap-up-code",component:(()=>{class t{constructor(t){this._genessysService=t,this.pageIndex=1}ngOnInit(){this.loadingCodes=!0,this._genessysService.getWrapUpCodes().subscribe({next:t=>{this.wrapUpCodes=t,this.loadingCodes=!1}})}}return t.\u0275fac=function(e){return new(e||t)(c.Rb(gm.a))},t.\u0275cmp=c.Lb({type:t,selectors:[["app-wrap-up-code-mapping"]],decls:12,vars:8,consts:[[1,"container"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[3,"nzFrontPagination","nzPageSize","nzPageIndex","nzData","nzLoading"],[4,"ngFor","ngForOf"],[1,"char-bound-field"]],template:function(t,e){1&t&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"nz-table",3),c.Xb(4,"thead"),c.Xb(5,"tr"),c.Xb(6,"th"),c.Xc(7,"Code"),c.Wb(),c.Xb(8,"th"),c.Xc(9,"Message"),c.Wb(),c.Wb(),c.Wb(),c.Xb(10,"tbody"),c.Vc(11,mf,5,2,"tr",4),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&t&&(c.Db(1),c.rc("nzGutter",64),c.Db(1),c.rc("nzSpan",24),c.Db(1),c.rc("nzFrontPagination",!0)("nzPageSize",10)("nzPageIndex",e.pageIndex)("nzData",e.wrapUpCodes)("nzLoading",e.loadingCodes),c.Db(8),c.rc("ngForOf",e.wrapUpCodes))},directives:[F.c,F.a,$.f,$.n,$.o,$.e,$.l,$.i,h.p],styles:[""]}),t})(),canActivate:[ys.a,Bu.a]},{path:"careplan-templates",component:Od,data:tb,canActivate:[ys.a,Bu.a]},{path:"portalSetting",loadChildren:()=>Promise.all([n.e(3),n.e(0),n.e(28)]).then(n.bind(null,"7wo0")).then(t=>t.SettingsModule)},{path:"course-contents",loadChildren:()=>Promise.all([n.e(0),n.e(18)]).then(n.bind(null,"Is6J")).then(t=>t.CourseContentModule)},{path:"vital-blueprints",loadChildren:()=>n.e(33).then(n.bind(null,"ANCJ")).then(t=>t.VitalBlueprintsModule)},{path:"tags",component:Ud,data:nb.Listing,canActivate:[ys.a,Bu.a]},{path:"tags/edit/:id",component:Zd,data:{privileges:[Ds.a.VIEW_TAG,Ds.a.ADD_EDIT_TAG]},canActivate:[ys.a,Bu.a]},{path:"tags/add",component:Zd,data:{privileges:[Ds.a.ADD_EDIT_TAG]},canActivate:[ys.a,Bu.a]},{path:"forms",loadChildren:()=>Promise.all([n.e(1),n.e(22)]).then(n.bind(null,"TGKT")).then(t=>t.FormNewModule),data:{privileges:[Ds.a.VIEW_FORM]},canActivate:[ys.a,Bu.a]},{path:"staff",loadChildren:()=>Promise.all([n.e(3),n.e(4),n.e(5),n.e(9),n.e(0),n.e(30)]).then(n.bind(null,"kanD")).then(t=>t.StaffModule),canActivate:[ys.a,Bu.a]},{path:"cplanassignments",component:su,data:Jh,canActivate:[ys.a,Bu.a]},{path:"careplans/details",component:Hu,data:{privileges:[Ds.a.VIEW_CAREPLAN]},canActivate:[ys.a,Bu.a]},{path:"careplanassignments/patient/:id/actionitems",component:Pu,canActivate:[ys.a],data:{privileges:[Ds.a.ASSIGN_CARE_PLAN]}},{path:"pcc/callback",component:eu,canActivate:[ys.a,Bu.a]},{path:"leads",loadChildren:()=>Promise.all([n.e(2),n.e(1),n.e(3),n.e(4),n.e(6),n.e(5),n.e(8),n.e(9),n.e(10),n.e(0),n.e(24)]).then(n.bind(null,"D4zX")).then(t=>t.LeadsModule)},{path:"support",loadChildren:()=>Promise.resolve().then(n.bind(null,"ZlwT")).then(t=>t.SupportModule),canActivate:[ys.a]},{path:"appointments/calendar",component:np,canActivate:[ys.a,Bu.a]},{path:"appointments",loadChildren:()=>Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"MCT3")).then(t=>t.AppointmentsModule)},{path:"settings",loadChildren:()=>Promise.all([n.e(3),n.e(0),n.e(28)]).then(n.bind(null,"7wo0")).then(t=>t.SettingsModule)},{path:"patients-without-caretakers",component:Vu,data:{privileges:[Ds.a.VIEW_PATIENT]},canActivate:[ys.a,Bu.a]},{path:"episodes",loadChildren:()=>Promise.all([n.e(2),n.e(1),n.e(4),n.e(6)]).then(n.bind(null,"ttvE")).then(t=>t.EpisodesModule)},{path:"insights",component:Nh,canActivate:[ys.a,Bu.a]},{path:"form",loadChildren:()=>Promise.all([n.e(1),n.e(22)]).then(n.bind(null,"TGKT")).then(t=>t.FormNewModule),canActivate:[ys.a,Bu.a]},{path:"templates",loadChildren:()=>Promise.resolve().then(n.bind(null,"Y+n1")).then(t=>t.TemplatesModule),canActivate:[ys.a,Bu.a]},{path:"sms-templates",component:Qh,data:eb,canActivate:[ys.a,Bu.a]},{path:"send-sms",component:Kh.a,canActivate:[ys.a,Bu.a]},{path:"devices/bulk-assign",component:ab,canActivate:[ys.a,Bu.a]},{path:"forbidden",component:ob},{path:"bulk/assign/monitoring-staff",component:Gb,data:{showTenantToggle:!0,subTenantToggleMode:"MULTI"},canActivate:[ys.a,Bu.a]},{path:"disable/staff/:roleType/:staffId",component:rg,data:{header:!0,title:"Disable Monitoring Staff",searchEnabled:!1,primaryAction:{title:"Disable Profile",permissions:[],enabled:!0},multiAction:{},privileges:[]},canActivate:[ys.a,Bu.a]},{path:"device-order",loadChildren:()=>n.e(19).then(n.bind(null,"IYBh")).then(t=>t.DeviceOrderModule),canActivate:[ys.a,Bu.a,cg]},{path:"alerts",component:Qg,data:{showTenantToggle:!0,subTenantToggleMode:"MULTI"},canActivate:[ys.a,Bu.a]},{path:"alerts/configuration",component:bm,data:{showTenantToggle:!0,subTenantToggleMode:"SINGLE"},canActivate:[ys.a,Bu.a]}];let vf=(()=>{class t{}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(e){return new(e||t)},imports:[[d.k.forRoot(ff,{relativeLinkResolution:"legacy",scrollPositionRestoration:"top",anchorScrolling:"enabled"})],d.k]}),t})();var Sf=n("R1ws");let Tf=(()=>{class t{constructor(t){this._http=t,this.rootUrl=st.g.url}getAllServices(){const t=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/services/tenants/"+t)}getServiceCategoriesForTenant(){const t=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/services/categories/tenant/"+t)}getAllServiceCategories(){const t=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/services/categiories/tenants/"+t)}getServicesForCategory(t){return this._http.get(this.rootUrl+"/v2/services/categories/"+t)}createServiceCategory(t){return this._http.post(this.rootUrl+"/v2/services/categories",JSON.stringify(t))}createService(t){return this._http.post(this.rootUrl+"/v2/services",JSON.stringify(t))}removeServiceById(t){return this._http.delete(this.rootUrl+"/v2/services/"+t)}}return t.\u0275fac=function(e){return new(e||t)(c.bc(p.c))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac}),t})();var Cf=n("FbN+");let Ef=(()=>{class t{constructor(t){this.http=t,this.rootUrl=st.g.url}uploadFile(t){const e=new p.g({bypass:"yes"}),n=new FormData;return n.append(t.name,t.file),this.http.post(this.rootUrl+"/v2/media/upload/"+t.file.name,n,{headers:e})}}return t.\u0275fac=function(e){return new(e||t)(c.bc(p.c))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),If=(()=>{class t{constructor(t){this._notificationService=t}handle(t){null==t||t.forEach(t=>{this._notificationService.error("Validation Error",t.reason)})}}return t.\u0275fac=function(e){return new(e||t)(c.bc(V.b))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Mf=(()=>{class t extends c.m{constructor(t,e,n){super(),this._applicationInsightsService=t,this._ngProgress=e,this._validationErrorHandler=n}handleError(t){var e,n,i;"VALIDATION_PROBLEM"===(null===(e=null==t?void 0:t.error)||void 0===e?void 0:e.type)&&this._validationErrorHandler.handle(null===(n=null==t?void 0:t.error)||void 0===n?void 0:n.invalidParams),this._applicationInsightsService.handleError(t),null===(i=this._ngProgress.ref())||void 0===i||i.complete(),super.handleError(t)}}return t.\u0275fac=function(e){return new(e||t)(c.bc(Ot.a),c.bc(Ie.a),c.bc(If))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yf=(()=>{class t{intercept(t,e){var n,i;const a=localStorage.getItem("sessionToken"),o=localStorage.getItem("loggedInTenant"),s=localStorage.getItem("loggedInUser"),r=localStorage.getItem("language"),c=null===(i=null===(n=null===Intl||void 0===Intl?void 0:Intl.DateTimeFormat())||void 0===n?void 0:n.resolvedOptions())||void 0===i?void 0:i.timeZone;let l=localStorage.getItem(Zs.a.REQUEST_TENANT_TEMP_IDS);if(null!=l&&null!=l&&"undefined"!=l&&"null"!=l||(l=localStorage.getItem(Zs.a.REQUEST_TENANT_IDS)),!t.headers.has("bypass")){"PATCH"==(t=t.clone({headers:t.headers.set("Accept","application/json")})).method&&t.headers.has("patch_json")&&(t=t.clone({headers:t.headers.set("Content-Type","application/json-patch+json")})),a&&(t=t.clone({headers:t.headers.set("x-timezone-id",c)})),a&&(t=t.clone({headers:t.headers.set("x-auth-token",a)})),o&&(t=t.clone({headers:t.headers.set("tenant-id",o)})),s&&(t=t.clone({headers:t.headers.set("user-id",s)})),r&&(t=t.clone({headers:t.headers.set("Accept-Language",r)}));var d=t.params.get(Zs.a.REQUEST_TENANT_IDS);null!=d&&null!=d&&"undefined"!=d&&"null"!=d||l&&(t=t.clone({params:t.params.set(Zs.a.REQUEST_TENANT_IDS,l)})),(t=(t=(t=t.clone({headers:t.headers.set("platform","WEB")})).clone({headers:t.headers.set("Entity-Type","WEB")})).clone({headers:t.headers.set("Entity-Name","PARTNER-PORTAL-WEB")})).headers.has("Content-Type")||(t=t.clone({headers:t.headers.set("Content-Type","application/json")}))}return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac}),t})(),Af=(()=>{class t{constructor(t){this.translationService=t,t.setLanguage()}}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(e){return new(e||t)(c.bc(Lt.a))},providers:[Z.a],imports:[[h.c,f.a,g.a,m.a.forRoot()]]}),t})();var _f=n("L/mj"),Df=n("0wl5"),zf=n("+H4W"),Of=n("vLqr"),Nf=n("rNzc"),Pf=n("6aLS"),Rf=n("Dxa7"),Xf=n("jYVc");let Lf=(()=>{class t{constructor(t,e,n){this._authorizationService=t,this._router=e,this._progress=n,this.isRefreshing=!1,this.refreshTokenSubject=new _e.BehaviorSubject(null),this.loginURL=st.g.url+"/v3/auth/grant-type/user-credentials",this.appInsightsURL="https://dc.services.visualstudio.com/v2/track"}intercept(t,e){if(t.headers.has("bypass"))return t=t.clone({headers:t.headers.delete("bypass")}),e.handle(t);const n=localStorage.getItem("accessToken");return this.appInsightsURL===t.url?e.handle(t):(n&&(t=this.addTokenToRequest(t,n)),e.handle(t).pipe(Object(Nf.catchError)(n=>n instanceof p.e&&401===n.status&&t.url!==this.loginURL?this.handle401Error(t,e):(this._progress.ref().complete(),Object(Of.throwError)(n)))))}addTokenToRequest(t,e){return t.clone({setHeaders:{Authorization:`Bearer ${e}`}})}handle401Error(t,e){return this.isRefreshing?this.refreshTokenSubject.pipe(Object(Pd.filter)(t=>null!=t),Object(Rf.take)(1),Object(Pf.switchMap)(n=>e.handle(this.addTokenToRequest(t,n)))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this._authorizationService.refreshAccessToken().pipe(Object(Pf.switchMap)(n=>(this.persistNewTokensData(n),this.isRefreshing=!1,this.refreshTokenSubject.next(null==n?void 0:n.accessToken),e.handle(this.addTokenToRequest(t,null==n?void 0:n.accessToken)))),Object(Nf.catchError)(t=>(localStorage.getItem("accessToken")&&this._router.navigate(["authorization/logout"]),this._progress.ref().complete(),Object(Of.throwError)(t)))))}persistNewTokensData({accessToken:t,refreshToken:e}){localStorage.setItem("accessToken",t),localStorage.setItem("refreshToken",e)}}return t.\u0275fac=function(e){return new(e||t)(c.bc(Xf.a),c.bc(d.g),c.bc(Ie.a))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac}),t})();var wf=n("29Mf"),Wf=n("Dm2S"),kf=n("q+jA"),Vf=n("yob6"),xf=n("0aW0"),Uf=n("74vj"),Ff=n("oYoK");let Hf=(()=>{class t{}return t.SOURCE="source",t.SEARCH_KEY="search_key",t.STAFF_USER_ID="staff_user_id",t.PARAMETER="parameter",t.ACTION_NAME="action_name",t.PATIENT_ID="patient_id",t.STAFF_ACTION="STAFF_ACTION",t.STAFF_ADD="STAFF_ADD",t.STAFF_SEARCH="STAFF_SEARCH",t.STAFF_PATIENT_ACTION="STAFF_PATIENT_ACTION",t})(),Bf=(()=>{class t extends Ot.a{constructor(){super(),this.SOURCE="staff"}staffActionEvent(t,e){let n=this.getCommonProperties();n[Hf.SOURCE]=this.SOURCE,n[Hf.STAFF_USER_ID]=t,n[Hf.ACTION_NAME]=e,this.logEvent(Hf.STAFF_ACTION,n)}staffPatientActionEvent(t,e,n){let i=this.getCommonProperties();i[Hf.SOURCE]=this.SOURCE,i[Hf.STAFF_USER_ID]=t,i[Hf.ACTION_NAME]=n,i[Hf.PATIENT_ID]=e,this.logEvent(Hf.STAFF_PATIENT_ACTION,i)}staffSearchEvent(t){let e=this.getCommonProperties();e[Hf.SEARCH_KEY]=t,e[Hf.SOURCE]=this.SOURCE,this.logEvent(Hf.STAFF_SEARCH,e)}staffAddEvent(t){let e=this.getCommonProperties();e[Hf.SOURCE]=this.SOURCE,e[Hf.PARAMETER]=t,this.logEvent(Hf.STAFF_ADD,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var jf=n("a6m8"),Gf=n("ubvD"),Yf=n("dh1a"),$f=n("2Suw");const qf={notification:{nzPlacement:"bottomRight"}};let Zf=(()=>{class t{constructor(t){this.injector=t}ngDoBootstrap(t){Gf.a.setInjector(this.injector),t.bootstrap(vs)}}return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(e){return new(e||t)(c.bc(c.s))},providers:[{provide:c.m,useClass:Mf},{provide:p.a,useClass:yf,multi:!0},{provide:p.a,useClass:Lf,multi:!0},{provide:d.f,useClass:l},{provide:$f.a,useValue:qf},u.a,Ms.a,gd.a,mo.a,ys.a,zt.a,ru.a,As.a,Nd.a,Tf,Cf.a,Ef,wf.a,Uf.a,Ff.a,md.a,Wf.a,kf.a,Vf.a,El.a,xf.a,Bf,jf.a,h.e],imports:[[m.a,f.a,d.k,Ts.a,Sf.b,Is,i.a,b.o,b.B,_s.a.forRoot({apiKey:"AIzaSyCkujBUnFmDto5Ui2EKj4AcpWXMrizEDRc",libraries:["places"]}),p.d,vf,Ie.c,zf.a.withConfig({silentApis:[`${s}/v3/auth/grant-type/refresh-token`,`${s}/v3/auth/security-token/invalidate`,`${s}/v3/auth/grant-type/user-credentials`,`${s}/v3/staff-sessions`,`${s}/v3/staff-sessions/update-state`,"https://dc.services.visualstudio.com/v2/track"]}),g.a,Dt.d.forRoot(),v,Ss.a,Af,Yu.b.forRoot({provide:Yu.f,useFactory:_f.a}),g.a,zl.f,Df.a,o.SupportModule,a.TemplatesModule,ze.a.forRoot()],d.k,b.o,b.B,m.a,Yf.a]}),t})();st.g.production&&Object(c.V)(),i.d().bootstrapModule(Zf).catch(t=>console.log(t))},zgU5:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("igu/"),a=n("4RGM"),o=n("fXoL");let s=(()=>{class t{constructor(t){this._dataSharingService=t}getRequestTenantId(){var t,e;return null!=localStorage.getItem(a.a.REQUEST_TENANT_IDS)&&null!=localStorage.getItem(a.a.REQUEST_TENANT_IDS)&&""!=localStorage.getItem(a.a.REQUEST_TENANT_IDS)?null===(t=localStorage.getItem(a.a.REQUEST_TENANT_IDS))||void 0===t?void 0:t.split(",")[0]:null===(e=localStorage.getItem(a.a.LOGGED_IN_USER_ASSIGNED_TENANTS))||void 0===e?void 0:e.split(",")[0]}setRequestTenantId(){const t=this.getRequestTenantId();return this._dataSharingService.setSubTenant(t),t}}return t.\u0275fac=function(e){return new(e||t)(o.bc(i.a))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,7,32]]]);