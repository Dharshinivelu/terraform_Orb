!function(){function t(e,n,i){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(n):a.value}})(e,n,i||e)}function e(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,r=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw r}}}}function n(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||i(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,i=l(t);if(e){var a=l(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+gyu":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("AytR"),a=n("4RGM"),o=n("fXoL"),r=n("tk/3"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=i.g.url}return p(t,[{key:"create",value:function(t){return this._http.post("".concat(this.rootUrl,"/v3/note-templates/"),t)}},{key:"update",value:function(t){return this._http.put("".concat(this.rootUrl,"/v3/note-templates/"),t)}},{key:"delete",value:function(t){return this._http.delete("".concat(this.rootUrl,"/v3/note-templates/").concat(t))}},{key:"fetchNoteTemplates",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o="".concat(this.rootUrl,"/v3/note-templates?pageNumber=").concat(t,"&limit=").concat(e);return n&&(o=o+"&searchKey="+n),i&&(console.log("Tenant Id ",i),o=o+"&"+a.a.REQUEST_TENANT_IDS+"="+i),this._http.get(o)}},{key:"fetchNoteTemplateById",value:function(t){return this._http.get("".concat(this.rootUrl,"/v3/note-templates/").concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(r.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"/5ms":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.SCHEDULED_ON_BOARDINGS="SCHEDULED_ON_BOARDINGS",t.PENDING_ON_BOARDINGS="PENDING_ON_BOARDINGS",t.SUCCESSFUL_ON_BOARDINGS_FOR_DAY="SUCCESSFUL_ON_BOARDINGS_FOR_DAY",t.SUCCESSFUL_ON_BOARDINGS_FOR_MONTH="SUCCESSFUL_ON_BOARDINGS_FOR_MONTH",t}({})},"/XTn":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.ALL="ALL",t.COMPLETED="COMPLETED",t.SUSPENDED="SUSPENDED",t.PAUSED="PAUSED",t.IN_PROGRESS="IN_PROGRESS",t.PENDING_START="PENDING_START",t.SCHEDULED="SCHEDULED",t}({})},0:function(t,e,n){t.exports=n("zUnb")},"0+cO":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("bnsq"),a=n("fXoL"),o=function(){var t=function(){function t(e){u(this,t),this._permissionsService=e}return p(t,[{key:"getAllPermissionStrings",value:function(){var t=new Map,e=new Map;this._permissionsService.getAllPermissionStrings().subscribe(function(n){n.privilegeResponses.forEach(function(e){return t.set(e.name,e.label)}),n.privilegeGroupResponses.forEach(function(t){return e.set(t.name,t.label)}),localStorage.setItem("permissions",JSON.stringify(Array.from(t.entries()))),localStorage.setItem("permissionGroups",JSON.stringify(Array.from(e.entries())))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(i.a))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"0W7X":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.ADD_PATIENT="ADD_PATIENT",t.EDIT_PATIENT="EDIT_PATIENT",t.VIEW_PATIENT="VIEW_PATIENT",t.DELETE_PATIENT="DELETE_PATIENT",t.VIEW_ASSIGNED_STAFF="VIEW_ASSIGNED_STAFF",t.VIEW_UNASSIGNED_PATIENTS="VIEW_UNASSIGNED_PATIENTS",t.ASSIGN_MONITORING_STAFF_TO_PATIENT="ASSIGN_MONITORING_STAFF_TO_PATIENT",t.ASSIGN_PHYSICIAN_TO_PATIENT="ASSIGN_PHYSICIAN_TO_PATIENT",t.VIEW_ASSESSMENT="VIEW_ASSESSMENT",t.ADD_ROLE="ADD_ROLE",t.EDIT_ROLE="EDIT_ROLE",t.VIEW_ROLE="VIEW_ROLE",t.DELETE_ROLE="DELETE_ROLE",t.ASSIGN_ROLE="ASSIGN_ROLE",t.VIEW_USER_PERMISSIONS="VIEW_USER_PERMISSIONS",t.EDIT_USER_PERMISSIONS="EDIT_USER_PERMISSIONS",t.ADD_STAFF="ADD_STAFF",t.EDIT_STAFF="EDIT_STAFF",t.VIEW_STAFF="VIEW_STAFF",t.DELETE_STAFF="DELETE_STAFF",t.ASSIGN_STAFF="ASSIGN_STAFF",t.ASSIGN_PATIENT="ASSIGN_PATIENT",t.VIEW_PHYSICIANS="VIEW_PHYSICIANS",t.VIEW_MONITORING_STAFF="VIEW_MONITORING_STAFF",t.ADD_PHYSICIAN="ADD_PHYSICIAN",t.ADD_MONITORING_STAFF="ADD_MONITORING_STAFF",t.EDIT_PHYSICIANS="EDIT_PHYSICIANS",t.EDIT_MONITORING_STAFF="EDIT_MONITORING_STAFF",t.DELETE_PHYSICIANS="DELETE_PHYSICIANS",t.DELETE_MONITORING_STAFF="DELETE_MONITORING_STAFF",t.ASSIGN_PHYSICIANS="ASSIGN_PHYSICIANS",t.ADD_ENROLMENT_STAFF="ADD_ENROLMENT_STAFF",t.MARK_AS_PRIMARY_MONITORING_STAFF="MARK_AS_PRIMARY_MONITORING_STAFF",t.VIEW_MANAGER_STAFF="VIEW_MANAGER_STAFF",t.ADD_MANAGER_STAFF="ADD_MANAGER_STAFF",t.EDIT_MANAGER_STAFF="EDIT_MANAGER_STAFF",t.DELETE_MANAGER_STAFF="DELETE_MANAGER_STAFF",t.VIEW_PATIENT_ALERT="VIEW_PATIENT_ALERT",t.CLOSE_PATIENT_ALERT="CLOSE_PATIENT_ALERT",t.ADD_CARE_PLAN_TEMPLATE="ADD_CARE_PLAN_TEMPLATE",t.EDIT_CARE_PLAN_TEMPLATE="EDIT_CARE_PLAN_TEMPLATE",t.VIEW_CARE_PLAN_TEMPLATE="VIEW_CARE_PLAN_TEMPLATE",t.DELETE_CARE_PLAN_TEMPLATE="DELETE_CARE_PLAN_TEMPLATE",t.VIEW_CAREPLAN="VIEW_CAREPLAN",t.ASSIGN_CARE_PLAN="ASSIGN_CARE_PLAN",t.REASSIGN_CARE_PLAN="REASSIGN_CARE_PLAN",t.EDIT_CARE_PLAN="EDIT_CARE_PLAN",t.SUSPEND_CARE_PLAN="SUSPEND_CARE_PLAN",t.CREATE_BASELINE_CAREPLAN="CREATE_BASELINE_CAREPLAN",t.ADD_EDIT_TAG="ADD_EDIT_TAG",t.VIEW_TAG="VIEW_TAG",t.DELETE_TAG="DELETE_TAG",t.ADD_FORM="ADD_FORM",t.EDIT_FORM="EDIT_FORM",t.VIEW_FORM="VIEW_FORM",t.CLONE_FORM="CLONE_FORM",t.DELETE_FORM="DELETE_FORM",t.ADD_VITAL_BLUEPRINT="ADD_VITAL_BLUEPRINT",t.EDIT_VITAL_BLUEPRINT="EDIT_VITAL_BLUEPRINT",t.VIEW_VITAL_BLUEPRINT="VIEW_VITAL_BLUEPRINT",t.DELETE_VITAL_BLUEPRINT="DELETE_VITAL_BLUEPRINT",t.VIEW_RANDOM_VITALS="VIEW_RANDOM_VITALS",t.ADD_COURSE="ADD_COURSE",t.EDIT_COURSE="EDIT_COURSE",t.VIEW_COURSE="VIEW_COURSE",t.DELETE_COURSE="DELETE_COURSE",t.PATIENT_REPORTS="PATIENT_REPORTS",t.RPM_EPISODE="RPM_EPISODE",t.CCM_EPISODE="CCM_EPISODE",t.HEALTH_SCORE_EPISODE="HEALTH_SCORE_EPISODE",t.GENERAL_EPISODE="GENERAL_EPISODE",t.ADD_EPISODE="ADD_EPISODE",t.EDIT_EPISODE="EDIT_EPISODE",t.VIEW_EPISODE="VIEW_EPISODE",t.DELETE_EPISODE="DELETE_EPISODE",t.SUSPEND_EPISODE="SUSPEND_EPISODE",t.REPEAT_EPISODE="REPEAT_EPISODE",t.VIEW_EPISODE_TIMELINE="VIEW_EPISODE_TIMELINE",t.ADD_CONSENT_FORM="ADD_CONSENT_FORM",t.EDIT_CONSENT_FORM="EDIT_CONSENT_FORM",t.VIEW_CONSENT_FORM="VIEW_CONSENT_FORM",t.DELETE_CONSENT_FORM="DELETE_CONSENT_FORM",t.ADD_DST="ADD_DST",t.RESCHEDULE_DST="RESCHEDULE_DST",t.ADD_TMS="ADD_TMS",t.ADD_ADDITIONAL_TMS="ADD_ADDITIONAL_TMS",t.ADD_ADDITIONAL_TMS_B="ADD_ADDITIONAL_TMS B",t.ADD_GROUP="ADD_GROUP",t.EDIT_GROUP="EDIT_GROUP",t.VIEW_GROUP="VIEW_GROUP",t.DELETE_GROUP="DELETE_GROUP",t.ADD_LEAD="ADD_LEAD",t.EDIT_LEAD="EDIT_LEAD",t.VIEW_LEAD="VIEW_LEAD",t.DELETE_LEAD="DELETE_LEAD",t.ADD_LEAD_NOTES="ADD_LEAD_NOTES",t.ADD_LEAD_FOLLOW_UPS="ADD_LEAD_FOLLOW_UPS",t.VIEW_LEAD_FOLLOW_UPS="VIEW_LEAD_FOLLOW_UPS",t.CONVERT_LEAD="CONVERT_LEAD",t.START_LEAD_ENROLMENT_FLOW="START_LEAD_ENROLMENT_FLOW",t.LEAD_ENROLMENT_CHECKLIST="LEAD_ENROLMENT_CHECKLIST",t.ADD_FOLLOW_UP="ADD_FOLLOW_UP",t.VIEW_WORK_LIST="VIEW_WORK_LIST",t.RESOLVE_WORK_LIST_ITEM="RESOLVE_WORK_LIST_ITEM",t.VIEW_CRM_CONFIG="VIEW_CRM_CONFIG",t.CREATE_GENESYS_CAMPAIGN="CREATE_GENESYS_CAMPAIGN",t.PUSH_CONTACT_TO_CAMPAIGN_MANUAL="PUSH_CONTACT_TO_CAMPAIGN_MANUAL",t.MARK_LEAD_AS_LOST="MARK_LEAD_AS_LOST",t.ADD_APPOINTMENT="ADD_APPOINTMENT",t.EDIT_APPOINTMENT="EDIT_APPOINTMENT",t.VIEW_APPOINTMENT="VIEW_APPOINTMENT",t.DELETE_APPOINTMENT="DELETE_APPOINTMENT",t.RESCHEDULE_APPOINTMENT="RESCHEDULE_APPOINTMENT",t.CLEAR_UNATTENDED_APPOINTMENT="CLEAR_UNATTENDED_APPOINTMENT",t.CHAT="CHAT",t.AUDIO_CALL="AUDIO_CALL",t.VIDEO_CALL="VIDEO_CALL",t.VIEW_DASHBOARD="VIEW_DASHBOARD",t.ADD_PATIENT_NOTES="ADD_PATIENT_NOTES",t.VIEW_PATIENT_NOTES="VIEW_PATIENT_NOTES",t.VIEW_PATIENT_LISTING_SCREEN="VIEW_PATIENT_LISTING_SCREEN",t.ADD_APP_HOME_SCREEN_CONFIG="ADD_APP_HOME_SCREEN_CONFIG",t.EDIT_APP_HOME_SCREEN_CONFIG="EDIT_APP_HOME_SCREEN_CONFIG",t.DELETE_APP_HOME_SCREEN_CONFIG="DELETE_APP_HOME_SCREEN_CONFIG",t.CHECKIN_PERMISSION="CHECKIN_PERMISSION",t.VIEW_SMS_TEMPLATE="VIEW_SMS_TEMPLATE",t.ADD_SMS_TEMPLATE="ADD_SMS_TEMPLATE",t.EDIT_SMS_TEMPLATE="EDIT_SMS_TEMPLATE",t.DELETE_SMS_TEMPLATE="DELETE_SMS_TEMPLATE",t.SENT_MESSAGE="SENT_MESSAGE",t.VIEW_CONVERSATION="VIEW_CONVERSATION",t.MARK_CONVERSATION_READ="MARK_CONVERSATION_READ",t.ADD_DEVICES="ADD_DEVICES",t.REMOVE_DEVICES="REMOVE_DEVICES",t.ADD_LOCATION="ADD_LOCATION",t.VIEW_LOCATIONS="VIEW_LOCATIONS",t.EDIT_LOCATION="EDIT_LOCATION",t.DELETE_LOCATION="DELETE_LOCATION",t.ADD_SITE="ADD_SITE",t.EDIT_SITE="EDIT_SITE",t.VIEW_SITE="VIEW_SITE",t.DELETE_SITE="DELETE_SITE",t.MARK_AS_DEFAULT_SITE="MARK_AS_DEFAULT_SITE",t.MEASURE_HEALTH_SCORE="MEASURE_HEALTH_SCORE",t.PATIENT_HEALTH_SCORE_MANAGEMENT="PATIENT_HEALTH_SCORE_MANAGEMENT",t.ADD_PHYSICIAN_ORDER="ADD_PHYSICIAN_ORDER",t.EDIT_PHYSICIAN_ORDER="EDIT_PHYSICIAN_ORDER",t.VIEW_PHYSICIAN_ORDER="VIEW_PHYSICIAN_ORDER",t.DELETE_PHYSICIAN_ORDER="DELETE_PHYSICIAN_ORDER",t.ADD_NON_COMPLEX_TMS="ADD_NON_COMPLEX_TMS",t.ADD_COMPLEX_TMS="ADD_COMPLEX_TMS",t.VIEW_REPORT="VIEW_REPORT",t.DOWNLOAD_PATIENT_REPORT="DOWNLOAD_PATIENT_REPORT",t.VIEW_COMPLIANCE="VIEW_COMPLIANCE",t.APPROVE_COMPLIANCE="APPROVE_COMPLIANCE",t.REJECT_ALL_COMPLIANCE="REJECT_ALL_COMPLIANCE",t.APPROVE_ALL_COMPLIANCE="APPROVE_ALL_COMPLIANCE",t}({})},"0aW0":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i,a=n("7Xlp"),r=function(){var t=function t(){u(this,t)};return t.SOURCE="source",t.MODE="mode",t.ROLE_NAME="role_name",t.ROLE_ID="role_id",t.PARENT_ID="parent_id",t.SETTINGS_SAVE="SETTINGS_SAVE",t.SETTINGS_ADD_ROLE="SETTINGS_ADD_ROLE",t.SETTINGS_PERMISSION_SAVE="SETTINGS_PERMISSION_SAVE",t}(),s=n("fXoL"),l=((i=function(t){o(n,t);var e=c(n);function n(){return u(this,n),e.call(this)}return p(n,[{key:"saveSettingsEvent",value:function(t){var e=this.getCommonProperties();e[r.MODE]=t,e[r.SOURCE]="settings",this.logEvent(r.SETTINGS_SAVE,e)}},{key:"addRoleEvent",value:function(t,e){var n=this.getCommonProperties();n[r.PARENT_ID]=t,n[r.ROLE_NAME]=e,n[r.SOURCE]="settings",this.logEvent(r.SETTINGS_ADD_ROLE,n)}},{key:"savePermissionEvent",value:function(t){var e=this.getCommonProperties();e[r.ROLE_ID]=t,e[r.SOURCE]="settings",this.logEvent(r.SETTINGS_PERMISSION_SAVE,e)}}]),n}(a.a)).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Nb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},"0rTH":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(e){return t.LANGUAGE_MAP.has(e)?t.LANGUAGE_MAP.get(e):e}}]),t}();return t.LANGUAGE_MAP=new Map([["en_US","English (US)"],["en_UK","English (UK)"],["es-US","Spanish (US)"],["es_US","Spanish (US)"],["es","Spanish"],["ja_JP","Japanese (JP)"]]),t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"language",type:t,pure:!0}),t}()},"0wl5":function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("UFn0"),a=n("KZX/"),o=n("ofXK"),r=n("OzZK"),c=n("Q8cG"),s=n("Nqz0"),l=n("3Pt+"),d=n("WoUL"),p=n("SHZf"),b=n("fXoL"),h=function(){var t=function t(e){u(this,t),this.translationService=e,e.setLanguage()};return t.\u0275mod=b.Pb({type:t}),t.\u0275inj=b.Ob({factory:function(e){return new(e||t)(b.bc(d.a))},imports:[[o.c,i.a,r.c,c.f,s.c,l.o,a.a,p.a.forRoot()]]}),t}()},"0zwC":function(t,e,n){"use strict";n.d(e,"a",function(){return I}),n("tbdY"),n("MXg9");var i=n("fXoL"),a=n("ofXK"),o=n("ZyQt"),r=n("nJia"),c=n("dRHE");function s(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){var n=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.ACTIVE")),i.rc("nzColor","#26c6da")("nzTooltipVisible",n.isTooltipEnabled),i.Db(2),i.Zc(" ",n.isFullName?"ACTIVE":"AC"," ")}}function l(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){var n=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.REGISTERED")),i.rc("nzColor","#ffb300")("nzTooltipVisible",n.isTooltipEnabled),i.Db(2),i.Zc(" ",n.isFullName?"REGISTERED":"RG"," ")}}function d(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){var n=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.NOT_ONBOARDED")),i.rc("nzColor","#5e35b0")("nzTooltipVisible",n.isTooltipEnabled),i.Db(2),i.Zc(" ",n.isFullName?"NOT ONBOARDED":"NO"," ")}}function b(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){var n=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.SUSPENDED")),i.rc("nzColor","#c81c1c")("nzTooltipVisible",n.isTooltipEnabled),i.Db(2),i.Zc(" ",n.isFullName?"SUSPENDED":"SD"," ")}}function h(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){var n=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.FLAGGED_FOR_DISQUALIFICATION")),i.rc("nzColor","#c81c1c")("nzTooltipVisible",n.isTooltipEnabled),i.Db(2),i.Zc(" ",n.isFullName?"Flagged For Disqualification":"FL"," ")}}function g(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){var n=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.DISCHARGED")),i.rc("nzColor","#778f9c")("nzTooltipVisible",n.isTooltipEnabled),i.Db(2),i.Zc(" ",n.isFullName?"DISCHARGED":"DG"," ")}}function f(t,e){if(1&t&&(i.Vb(0),i.Vc(1,s,3,6,"nz-tag",1),i.Vc(2,l,3,6,"nz-tag",1),i.Vc(3,d,3,6,"nz-tag",1),i.Vc(4,b,3,6,"nz-tag",1),i.Vc(5,h,3,6,"nz-tag",1),i.Vc(6,g,3,6,"nz-tag",1),i.Ub()),2&t){var n=i.ic();i.Db(1),i.rc("ngIf","ACTIVE"===n.patientStatus),i.Db(1),i.rc("ngIf","REGISTERED"===n.patientStatus),i.Db(1),i.rc("ngIf","NOT_ONBOARDED"===n.patientStatus),i.Db(1),i.rc("ngIf","SUSPENDED"===n.patientStatus),i.Db(1),i.rc("ngIf","FLAGGED_FOR_DISQUALIFICATION"===n.patientStatus),i.Db(1),i.rc("ngIf","DISCHARGED"===n.patientStatus)}}function v(t,e){if(1&t&&(i.Xb(0,"nz-tag",2),i.jc(1,"translate"),i.Xc(2),i.Wb()),2&t){var n=i.ic(2);i.sc("nzTooltipTitle",i.kc(1,4,"FILTER.PATIENT_STATUS.ACTIVE")),i.rc("nzColor","#26c6da")("nzTooltipVisible",n.isTooltipEnabled),i.Db(2),i.Zc(" ",n.isFullName?"ACTIVE":"AC"," ")}}function m(t,e){if(1&t&&(i.Xb(0,"nz-tag",8),i.Xc(1),i.Wb()),2&t){var n=i.ic(2);i.rc("nzColor","#ffb300")("nzTooltipVisible",n.isTooltipEnabled),i.Db(1),i.Zc(" ",n.isFullName?"NEW":"NW"," ")}}function S(t,e){if(1&t&&(i.Xb(0,"nz-tag",9),i.Xc(1),i.Wb()),2&t){var n=i.ic(2);i.rc("nzColor","#5e35b0")("nzTooltipVisible",n.isTooltipEnabled),i.Db(1),i.Zc(" ",n.isFullName?"ELIGIBLE":"EL"," ")}}function y(t,e){if(1&t&&(i.Xb(0,"nz-tag",10),i.Xc(1),i.Wb()),2&t){var n=i.ic(2);i.rc("nzColor","#778f9c")("nzTooltipVisible",n.isTooltipEnabled),i.Db(1),i.Zc(" ",n.isFullName?"NOT ELIGIBLE":"NE"," ")}}function T(t,e){if(1&t&&(i.Xb(0,"nz-tag",11),i.Xc(1),i.Wb()),2&t){var n=i.ic(2);i.rc("nzColor","#26c6da")("nzTooltipVisible",n.isTooltipEnabled),i.Db(1),i.Zc(" ",n.isFullName?"CONVERTED":"CO"," ")}}function C(t,e){if(1&t&&(i.Xb(0,"nz-tag",12),i.Xc(1),i.Wb()),2&t){var n=i.ic(2);i.rc("nzColor","#ffb300")("nzTooltipVisible",n.isTooltipEnabled),i.Db(1),i.Zc(" ",n.isFullName?"LOST":"LO"," ")}}function E(t,e){if(1&t&&(i.Vb(0),i.Vc(1,v,3,6,"nz-tag",1),i.Vc(2,m,2,3,"nz-tag",3),i.Vc(3,S,2,3,"nz-tag",4),i.Vc(4,y,2,3,"nz-tag",5),i.Vc(5,T,2,3,"nz-tag",6),i.Vc(6,C,2,3,"nz-tag",7),i.Ub()),2&t){var n=i.ic();i.Db(1),i.rc("ngIf","ACTIVE"===n.leadStatus),i.Db(1),i.rc("ngIf","NEW"===n.leadStatus),i.Db(1),i.rc("ngIf","ELIGIBLE"===n.leadStatus),i.Db(1),i.rc("ngIf","NOT_ELIGIBLE"===n.leadStatus),i.Db(1),i.rc("ngIf","CONVERTED"===n.leadStatus),i.Db(1),i.rc("ngIf","LOST"===n.leadStatus)}}var I=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-patient-status-tag"]],inputs:{patientStatus:"patientStatus",leadStatus:"leadStatus",isFullName:"isFullName",isTooltipEnabled:"isTooltipEnabled"},decls:2,vars:2,consts:[[4,"ngIf"],["nz-tooltip","","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipTitle","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipTitle","nzTooltipVisible"],["nz-tooltip","","nzTooltipTitle","New","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","Eligible","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","Not Eligible","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","Converted","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","Lost","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","New","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible"],["nz-tooltip","","nzTooltipTitle","Eligible","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible"],["nz-tooltip","","nzTooltipTitle","Not Eligible","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible"],["nz-tooltip","","nzTooltipTitle","Converted","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible"],["nz-tooltip","","nzTooltipTitle","Lost","nzTooltipPlacement","bottom",3,"nzColor","nzTooltipVisible"]],template:function(t,e){1&t&&(i.Vc(0,f,7,6,"ng-container",0),i.Vc(1,E,7,6,"ng-container",0)),2&t&&(i.rc("ngIf",e.patientStatus),i.Db(1),i.rc("ngIf",e.leadStatus))},directives:[a.q,o.a,r.d],pipes:[c.a],styles:["nz-tag[_ngcontent-%COMP%]{padding:2px 2px 0;font-size:10px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;border-radius:2px;font-weight:700;line-height:15px;margin-right:0}"]}),t}()},"1yiY":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function t(){u(this,t),this.participantCallLogs=[]}},"29Mf":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i,a=n("7Xlp"),r=function(){var t=function t(){u(this,t)};return t.PORTAL_LOGIN="PORTAL_LOGIN",t.PORTAL_LOGOUT="PORTAL_LOGOUT",t}(),s=n("fXoL"),l=((i=function(t){o(n,t);var e=c(n);function n(){return u(this,n),e.call(this)}return p(n,[{key:"portalLoginEvent",value:function(){var t=this.getCommonProperties();this.logEvent(r.PORTAL_LOGIN,t)}},{key:"portalLogoutEvent",value:function(){var t=this.getCommonProperties();this.logEvent(r.PORTAL_LOGOUT,t)}}]),n}(a.a)).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Nb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},"2hFh":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"getTimeZone",value:function(){var t=(new Date).toString().match(/\((.+)\)/)[1];return t.includes(" ")?t.split(" ").map(function(t){return t.charAt(0)}).join(""):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"2lmJ":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("nLCl"),a=n("AytR"),o=n("fXoL"),r=n("tk/3"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootURL=a.g.url}return p(t,[{key:"createStaffMember",value:function(t){return this._http.post("".concat(this.rootURL,"/v3/staff/"),JSON.stringify(t))}},{key:"updateStaffMember",value:function(t){return this._http.put("".concat(this.rootURL,"/v3/staff/"),JSON.stringify(t))}},{key:"fetchStaffMembersWithoutPagination",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a.MONITORING_STAFF,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o="".concat(this.rootURL,"/v3/staff?role=").concat(t,"&limit=-1");return e&&(o=o+"&search="+e),n&&(o=o+"&siteId="+n),a&&(o=o+"&staffId="+a),this._http.get(o)}},{key:"fetchStaffMembers",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a.MONITORING_STAFF,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"ACTIVE",r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"ALL",c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u="".concat(this.rootURL,"/v3/staff?role=").concat(t,"&offset=").concat(e,"&limit=").concat(n,"&status=").concat(o,"&patientStatus=").concat(r,"&overRideStaffBoundary=").concat(l);return a&&(u=u+"&search="+a),t===i.a.MONITORING_STAFF&&(u=u+"&showNoStaff="+c),s&&null!=s&&(u=u+"&siteId="+s),this._http.get(u)}},{key:"fetchPINStaffMembers",value:function(){return this._http.get("".concat(this.rootURL,"/v3/staff/list?role=MANAGER_STAFF&status=ACTIVE&privilege=VIEW_COMPLIANCE"))}},{key:"fetchAllPhysiciansBySiteId",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a.PHYSICIAN;return this._http.get("".concat(this.rootURL,"/v3/staff?siteId=").concat(t,"&role=").concat(e))}},{key:"fetchAllMonitoringStaffs",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a.MONITORING_STAFF;return this._http.get("".concat(this.rootURL,"/v3/staff?role=").concat(t))}},{key:"fetchAllPhysicians",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a.PHYSICIAN;return this._http.get("".concat(this.rootURL,"/v3/staff?role=").concat(t))}},{key:"fetchAllMonitoringStaffBySiteIdAndPhysicianId",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a.MONITORING_STAFF;return this._http.get("".concat(this.rootURL,"/v3/staff?siteId=").concat(t,"&staffId=").concat(e,"&role=").concat(n))}},{key:"disableMonitoringStaff",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a.MONITORING_STAFF;return this._http.put("".concat(this.rootURL,"/v3/staff/").concat(t,"?role=").concat(n),{reason:e})}},{key:"fetchStaffMemberById",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ACTIVE",i="".concat(this.rootURL,"/v3/staff/").concat(t,"?status=").concat(n);return e&&(i="".concat(i,"&filterByStaff=").concat(e)),this._http.get(i)}},{key:"fetchStaffByPatientId",value:function(t){return this._http.get("".concat(this.rootURL,"/v3/staff/patient/").concat(t))}},{key:"fetchAssignableStaffMembersById",value:function(t,e,n){var i="".concat(this.rootURL,"/v3/staff/assignable/").concat(t);return e&&(i="".concat(i,"?role=").concat(e)),n&&(i="".concat(i,"&filterByStaff=").concat(n)),this._http.get(i)}},{key:"fetchPatientForStaff",value:function(t){return this._http.get(this.rootURL+"/v2/users/"+t+"/wards/")}},{key:"fetchSitesForStaff",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="".concat(this.rootURL,"/v3/staff/sites");return e+="?staffFilter=".concat(t),this._http.get(e)}},{key:"assignStaffMembers",value:function(t){return this._http.put("".concat(this.rootURL,"/v3/staff/assign"),JSON.stringify(t))}},{key:"delete",value:function(t){return this._http.delete("".concat(this.rootURL,"/v2/users/").concat(t,"/removeCareTaker/"))}},{key:"bulkAssignPatientsToMonitoringStaff",value:function(t){return this._http.put("".concat(this.rootURL,"/v2/users/bulk/assign/monitoring-staff"),JSON.stringify(t))}},{key:"bulkAssignPatientsToMonitoringStaffValidation",value:function(t){return this._http.post("".concat(this.rootURL,"/v2/users/bulk/assign/monitoring-staff/validation"),JSON.stringify(t))}},{key:"getPatientListForDisabledStaff",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MONITORING_STAFF";return this._http.get("".concat(this.rootURL,"/v3/staff/disable/staff/").concat(e,"/").concat(t))}},{key:"enabledStaff",value:function(t){return this._http.put("".concat(this.rootURL,"/v3/staff/enable/").concat(t),null)}},{key:"generateAndDownloadReport",value:function(t){return this._http.get("".concat(this.rootURL,"/v2/reports/staff-disable-report/").concat(t))}},{key:"getStaffByUserId",value:function(t){return this._http.get("".concat(this.rootURL,"/v3/staff/byId/").concat(t))}},{key:"validateUploadPhysician",value:function(t){return this._http.post("".concat(this.rootURL,"/v2/bulk-upload/validate-staff/physician"),JSON.stringify(t))}},{key:"bulkUploadPhysician",value:function(t){return this._http.post("".concat(this.rootURL,"/v2/bulk-upload/staff/physician"),JSON.stringify(t))}},{key:"fetchNameByIds",value:function(t){return this._http.get("".concat(this.rootURL,"/v3/staff/nameByIds?userIds=").concat(t))}},{key:"fetchStaffList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a.MONITORING_STAFF,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ACTIVE",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o="".concat(this.rootURL,"/v3/staff/list?role=").concat(t,"&status=").concat(n);return e&&(o=o+"&search="+e),a&&(o=o+"&siteId="+a),this._http.get(o)}},{key:"getStaffById",value:function(t){return this._http.get("".concat(this.rootURL,"/v3/staff/").concat(t))}},{key:"fetchAssignedTenants",value:function(t){var e="".concat(this.rootURL,"/v3/staff/available/sub-tenants");return t&&(e=e+"?search="+t),this._http.get(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(r.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"3lfR":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.CMT_RECORDED="CMT_RECORDED",t.CMT_NOT_RECORDED="CMT_NOT_RECORDED",t}({})},"3pGX":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("q3Kh"),a=n("AytR"),o=n("fXoL"),r=n("tk/3"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=a.g.url}return p(t,[{key:"getFeature",value:function(t){return this._http.get(this.rootUrl+"/v2/feature/all/"+t)}},{key:"getCourse",value:function(t,e,n,i){var a=this.rootUrl+"/v2/careplans/blueprints/?tenantId="+localStorage.getItem("loggedInTenant")+"&limit="+t+"&offset="+e+"&requestTenantIds="+n;return i&&(a+="&type="+i),this._http.get(a,{observe:"response"})}},{key:"searchCourse",value:function(t,e,n){return this._http.get(this.rootUrl+"/v2/careplans/blueprints/search/?query="+t+"&limit="+e+"&offset="+n)}},{key:"getCourseById",value:function(t){return this._http.get(this.rootUrl+"/v2/careplans/blueprints/"+t+"/")}},{key:"getActionItem",value:function(t,e,n){return this._http.get(this.rootUrl+"/v2/actions/caretakers/"+t+"/?beginTime="+e+"&endTime="+n)}},{key:"getActionItemForPatient",value:function(t,e,n){return this._http.get(this.rootUrl+"/v2/actions/patients/"+t+"/?beginTime="+e+"&endTime="+n)}},{key:"getInterventionBlueprint",value:function(){return this._http.get(this.rootUrl+"/v2/careplans/intervention-blueprints/",{observe:"response"})}},{key:"deleteFeature",value:function(t){return this._http.delete(this.rootUrl+"/v2/feature/"+t+"/",{observe:"response"}).pipe(Object(i.map)(function(t){return 200==t.status?"VALID":t}))}},{key:"deleteBlueprint",value:function(t){return this._http.delete(this.rootUrl+"/v2/careplans/blueprints/"+t+"/")}},{key:"deleteCareplan",value:function(t,e){return this._http.delete(this.rootUrl+"/v2/careplans/"+t+"/"+e+"/",{observe:"response"}).pipe(Object(i.map)(function(t){return 200==t.status?"VALID":t}))}},{key:"createCourse",value:function(t){return delete t.id,delete t.noOfDays,this._http.post(this.rootUrl+"/v2/careplans/blueprints/",t)}},{key:"createIntervention",value:function(t){return delete t.id,delete t.timingMap,delete t.paramName,delete t.originalId,delete t.childrens,delete t.accessPermission,delete t.isTemplateCreated,this._http.post(this.rootUrl+"/v2/careplans/intervention-blueprints/",t)}},{key:"updateIntervention",value:function(t){return delete t.timingMap,delete t.paramName,delete t.originalId,delete t.childrens,delete t.isTemplateCreated,delete t.accessPermission,this._http.put(this.rootUrl+"/v2/careplans/intervention-blueprints/",t)}},{key:"updateCourse",value:function(t){return this._http.put(this.rootUrl+"/v2/careplans/blueprints/",t)}},{key:"assignCareplanToEpisode",value:function(t,e){return this._http.post(this.rootUrl+"/v2/episodes/"+e+"/careplans/"+t,{})}},{key:"createUserPlan",value:function(t){return delete t.id,this._http.post(this.rootUrl+"/v2/course/assign/",t)}},{key:"getAssignedCourses",value:function(t,e){return this._http.get(this.rootUrl+"/v2/course/owner/?type="+t+"&id="+e)}},{key:"getCareplanById",value:function(t){return this._http.get(this.rootUrl+"/v2/careplans/"+t)}},{key:"getActionLogForCaretaker",value:function(t,e,n){return this._http.get(this.rootUrl+"/v2/actions/logs/"+t+"/?limit="+e+"&offset="+n,{observe:"response"})}},{key:"createBulkInterventionsForNewCareplanBlueprint",value:function(t){return this._http.post(this.rootUrl+"/v2/careplans/multi/intervention-blueprints",t)}},{key:"updateBulkInterventionsForCareplanBlueprint",value:function(t){return this._http.put(this.rootUrl+"/v2/careplans/multi/intervention-blueprints",t)}},{key:"assignCareplanToPatient",value:function(t){return this._http.post(this.rootUrl+"/v2/careplans/assignements",t)}},{key:"autoAssignCareplan",value:function(t,e){return this._http.post(this.rootUrl+"/v2/careplans/auto-assign/".concat(t),e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(r.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac}),t}()},"4Ign":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t),this.storedRoutes=new Map}return p(t,[{key:"getStoredRoutes",value:function(){return this.storedRoutes}},{key:"storeRoute",value:function(t,e){this.storedRoutes.set(t,e)}},{key:"clearAllStoredRoutes",value:function(){this.storedRoutes=new Map}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"4RGM":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){var t=function t(){u(this,t)};return t.REQUEST_TENANT_IDS="requestTenantIds",t.REQUEST_TENANT_TEMP_IDS="requestTenantTempIds",t.LOGGED_IN_USER_ASSIGNED_TENANTS="loggedInUserAssignedTenants",t}()},"4iVq":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("BrXI"),a=function t(){u(this,t),this.direction=o.DESC,this.sortBy=r.PRIORITY,this.status=i.a.OPEN,this.offset=0,this.limit=200,this.countType="TOTAL",this.patientType="ALL"},o=function(t){return t.ASC="ASC",t.DESC="DESC",t}({}),r=function(t){return t.PRIORITY="PRIORITY",t.RAISED_DATE="RAISED_DATE",t.CLOSED_DATE="CLOSED_DATE",t.ALERT_STATUS="ALERT_STATUS",t}({})},"50vb":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("AytR"),a=n("SxV6"),o=n("fXoL"),r=n("tk/3"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=i.g.url}return p(t,[{key:"updateCampaigns",value:function(){return this._http.get(this.rootUrl+"/v1/genesys/update/tenant/campaigns/").pipe(Object(a.a)())}},{key:"addLeadToCampaign",value:function(t){return this._http.post(this.rootUrl+"/v2/leads/push-lead-to-campaign",t)}},{key:"updateLeadContact",value:function(t){return this._http.get(this.rootUrl+"/v2/leads/fetch-contact/"+t+"/contact-list")}},{key:"updateWrapUpCodeMapping",value:function(){return this._http.get(this.rootUrl+"/v1/genesys/wrap-up-code-mapping")}},{key:"getWrapUpCodes",value:function(){return this._http.get(this.rootUrl+"/v1/genesys/fetch/wrap-up-code-mapping")}},{key:"getWrapUpCodeDetail",value:function(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/wrap-up-code/"+t)}},{key:"updateLeadContactRequest",value:function(t){return this._http.get(this.rootUrl+"/fetch-contact/".concat(t,"/contact-list"))}},{key:"createContactList",value:function(t,e,n){return this._http.post(this.rootUrl+"/v1/genesys/create/contact-list",{name:t,attemptLimits:e,division:n})}},{key:"fetchAttemptLimits",value:function(){return this._http.get(this.rootUrl+"/v1/genesys/fetch/attempt-limits")}},{key:"fetchDivisions",value:function(){return this._http.get(this.rootUrl+"/v1/genesys/fetch/divisions")}},{key:"fetchScripts",value:function(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/scripts?divisionIds="+t)}},{key:"fetchQueues",value:function(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/queues?divisionIds="+t)}},{key:"fetchContactList",value:function(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch-contact-lists?divisionIds="+t)}},{key:"fetchRuleSets",value:function(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/rule-sets?divisionIds="+t)}},{key:"createCampaign",value:function(t){return this._http.post(this.rootUrl+"/v1/genesys/create/campaign",t)}},{key:"fetchCampaignProgress",value:function(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/campaign/".concat(t,"/progress"))}},{key:"fetchCampaignById",value:function(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/campaign/".concat(t))}},{key:"fetchCampaigns",value:function(t){return this._http.get(this.rootUrl+"/v1/genesys/fetch/all/campaigns/"+t)}},{key:"attachCampaign",value:function(t){return this._http.post(this.rootUrl+"/v1/genesys/attach/campaign/",t)}},{key:"updateCampaignSchedule",value:function(t,e){return this._http.put(this.rootUrl+"/v1/genesys/update/campaign/schedule/"+e,t)}},{key:"bulkUploadGenesysContact",value:function(t,e){return this._http.post(this.rootUrl+"/v2/bulk-upload/leads/bulk/upload/"+t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(r.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"5P38":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("yWgs"),a=n("fXoL"),o=function(){var t=function(){function t(e){u(this,t),this._securityTokenHelperService=e}return p(t,[{key:"setDashboardConfig",value:function(t){this.dashboardConfig=t}},{key:"getDashboardConfig",value:function(){return this.dashboardConfig}},{key:"setWidgetPermissions",value:function(t){this.widgetPermissions=t}},{key:"getWidgetPermissions",value:function(){return this.widgetPermissions}},{key:"isWidgetEnabled",value:function(t,e){var n,i;return e?(null===(i=this.dashboardConfig)||void 0===i?void 0:i.config[t].subWidgets[e])&&this.validateWidgetPermissions(e):(null===(n=this.dashboardConfig)||void 0===n?void 0:n.config[t].enabled)&&this.validateWidgetPermissions(t)}},{key:"isWidgetsEnabled",value:function(t,e){var n=this,i=!1;return null==e||e.forEach(function(e){var a;(null===(a=n.dashboardConfig)||void 0===a?void 0:a.config[t].subWidgets[e])&&n.validatePermissionForSections(e)&&(i=!0)}),i}},{key:"isSectionsEnabled",value:function(t){var e=this,n=!1;return null==t||t.forEach(function(t){var i;(null===(i=e.dashboardConfig)||void 0===i?void 0:i.config[t].enabled)&&e.validatePermissionForSections(t)&&(n=!0)}),n}},{key:"isWidgetEnabledForStaff",value:function(t,e){var n,i,a,o=this,r=!1;return"ALERTS"===t?(null===(i=null===(n=this.dashboardConfig)||void 0===n?void 0:n.config.ALERTS)||void 0===i?void 0:i.enabled)&&this.validateWidgetPermissionsForStaffProfile(t,e):(Object.keys(null===(a=this.dashboardConfig)||void 0===a?void 0:a.config).forEach(function(e){var n,i,a,c;(null===(i=null===(n=o.dashboardConfig)||void 0===n?void 0:n.config[e])||void 0===i?void 0:i.subWidgets)&&-1!==Object.keys(null===(c=null===(a=o.dashboardConfig)||void 0===a?void 0:a.config[e])||void 0===c?void 0:c.subWidgets).indexOf(t)&&(r=!0)}),r&&this.validateWidgetPermissionsForStaffProfile(t,e))}},{key:"validateWidgetPermissions",value:function(t){var e=localStorage.getItem("accessToken");if("TENANT_ADMIN"===this._securityTokenHelperService.parseJwt(e).accountType)return!0;var n=localStorage.getItem("permissionToken"),i=this._securityTokenHelperService.parseJwt(n),a=null==i?void 0:i.permissions;return this.widgetPermissions[t].every(function(t){return 0<=a.indexOf(t)})}},{key:"validatePermissionForSections",value:function(t){var e=localStorage.getItem("accessToken");if("TENANT_ADMIN"===this._securityTokenHelperService.parseJwt(e).accountType)return!0;var n=localStorage.getItem("permissionToken"),i=this._securityTokenHelperService.parseJwt(n),a=null==i?void 0:i.permissions,o=[];return this.widgetPermissions[t]&&(o=this.widgetPermissions[t]),o.some(function(t){return 0<=a.indexOf(t)})}},{key:"validateWidgetPermissionsForStaffProfile",value:function(t,e){return this.widgetPermissions[t].every(function(t){return 0<=e.indexOf(t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(i.a))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"6En5":function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});var i=[{name:"Video Call",type:"VIDEO_CALL",icon:"videoCall"},{name:"Audio Call",type:"CALL",icon:"phone"},{name:"Home Visit",type:"HOME_VISIT",icon:"home"},{name:"In Clinic",type:"CLINIC_VISIT"},{name:"Other",type:"OTHER"}],a=[{name:"Video Call",type:"VIDEO_CALL",icon:"videoCall"},{name:"Inbound Call",type:"INBOUND_CALL",icon:"phone"},{name:"Outbound Call",type:"OUTBOUND_CALL",icon:"phone"},{name:"In Clinic",type:"CLINIC_VISIT"},{name:"Other",type:"OTHER"}]},"6i1W":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o});var i=function(t){return t.MOBILE="MOBILE",t.LANDLINE="LANDLINE",t.OTHER="OTHER",t}({}),a=function(t){return t.REMINDER_SMS="REMINDER_SMS",t.SMS="SMS",t.CALL="CALL",t.VIDEO_CALL="VIDEO_CALL",t}({}),o=function(t){return t.CHRONIC="CHRONIC",t.NON_CHRONIC="NON_CHRONIC",t.UNDETERMINED="UNDETERMINED",t}({})},"74vj":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7Xlp"),a=n("gssi"),r=n("fXoL"),s=function(){var t=function(t){o(n,t);var e=c(n);function n(){return u(this,n),e.call(this)}return p(n,[{key:"appointmentsTabSelectedEvent",value:function(t){var e=this.getCommonProperties();e[a.a.TAB_NAME]=t,this.logEvent(a.a.APPOINTMENT_TAB,e)}},{key:"appointmentActionEvent",value:function(t,e){var n=this.getCommonProperties();n[a.a.APPOINTMENT_ID]=t,n[a.a.APPOINTMENT_ACTION_NAME]=e,this.logEvent(a.a.APPOINTMENT_ACTION,n)}},{key:"appointmentCreateEvent",value:function(t,e){var n=this.getCommonProperties();n[a.a.APPOINTMENT_TYPE]=t,n[a.a.APPOINTMENT_PARAMETERS]=e,this.logEvent(a.a.APPOINTMENT_ACTION,n)}},{key:"appointmentUnattendedReason",value:function(t,e){var n=this.getCommonProperties();n[a.a.UNATTENDED_REASON]=t,n[a.a.APPOINTMENT_ID]=e,this.logEvent(a.a.APPOINTMENT_UNATTENDED_REASON,n)}}]),n}(i.a);return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"7Xlp":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"setUserId",value:function(t){}},{key:"clearUserId",value:function(){}},{key:"logPageView",value:function(t,e){}},{key:"handleError",value:function(t){}},{key:"logEvent",value:function(t,e,n){}},{key:"getCommonProperties",value:function(){return{}}},{key:"pageViewEvent",value:function(t,e){}},{key:"pageDestroyEvent",value:function(t,e){}},{key:"drawerEvent",value:function(t){}},{key:"tabEvent",value:function(t,e){}},{key:"pictureUploadEvent",value:function(t){}},{key:"downloadStartReportEvent",value:function(t,e,n,i){}},{key:"downloadFailReportEvent",value:function(t,e,n,i,a){}},{key:"downloadSuccessReportEvent",value:function(t,e,n,i){}},{key:"shareReportEvent",value:function(t,e,n,i){}},{key:"buttonEvent",value:function(t,e,n){}},{key:"listSelectedEvent",value:function(t,e,n){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"7t9/":function(t,e,i){"use strict";i.d(e,"a",function(){return R});var a=i("igu/"),o=i("ofXK"),r=i("9ig3"),c=i("jKzE"),s=i("ighe"),l=i("fXoL"),d=i("B+r4"),b=i("zAKX"),h=i("3Pt+"),g=i("0lU3"),f=i("5vDB"),v=i("ncdi"),m=i("eHCX");function S(t,e){if(1&t&&(l.Vb(0),l.Xb(1,"strong",12),l.Xc(2),l.Wb(),l.Sb(3,"nz-divider",13),l.Ub()),2&t){var n=l.ic().$implicit,i=l.ic(2);l.Db(2),l.ad(" ",null==n?null:n.value,": ",null==i.durationMap?null:i.durationMap.get(null==n?null:n.key)," minutes ")}}function y(t,e){if(1&t&&(l.Vb(0),l.Vc(1,S,4,2,"ng-container",1),l.Ub()),2&t){var n=e.$implicit,i=l.ic(2);l.Db(1),l.rc("ngIf",0<(null==i.durationMap?null:i.durationMap.get(null==n?null:n.key)))}}function T(t,e){1&t&&(l.Vb(0),l.Sb(1,"br"),l.Ub())}function C(t,e){if(1&t&&(l.Vb(0),l.Vc(1,y,2,1,"ng-container",11),l.jc(2,"keyvalue"),l.Vc(3,T,2,0,"ng-container",1),l.Ub()),2&t){var n=l.ic();l.Db(1),l.rc("ngForOf",l.lc(2,2,n.serviceCodeCountMap,n.asIsOrder)),l.Db(2),l.rc("ngIf",0<(null==n.durationMap?null:n.durationMap.size))}}function E(t,e){if(1&t&&l.Sb(0,"nz-option",14),2&t){var n=e.$implicit;l.rc("nzLabel",null==n?null:n.value)("nzValue",null==n?null:n.key)}}function I(t,e){1&t&&l.Xc(0),2&t&&l.Zc(" and ",e.$implicit.length," more selected ")}function M(t,e){1&t&&(l.Xb(0,"strong",15),l.Xc(1," No patient communications notes are available for this date range! "),l.Wb())}function A(t,e){1&t&&(l.Xb(0,"strong",26),l.Xc(1," Billable "),l.Wb())}function _(t,e){1&t&&(l.Xb(0,"strong",27),l.Xc(1," Non-Billable "),l.Wb())}function D(t,e){if(1&t&&(l.Xb(0,"p",28),l.Sb(1,"nz-divider"),l.Xb(2,"span"),l.Xb(3,"strong"),l.Xc(4,"Reason why the time was updated for this patient?:"),l.Wb(),l.Sb(5,"br"),l.Xb(6,"em"),l.Xc(7),l.Wb(),l.Wb(),l.Wb()),2&t){var n=l.ic().$implicit;l.Db(7),l.Yc(null==n?null:n.noteUpdateReason)}}function z(t,e){if(1&t&&(l.Vb(0),l.Xc(1),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.ad(" ",null==n?null:n.code," ",null==n?null:n.description,",\xa0 ")}}function O(t,e){if(1&t&&(l.Xb(0,"p",28),l.Sb(1,"nz-divider"),l.Xb(2,"strong"),l.Xc(3,"Dx Codes -"),l.Wb(),l.Vc(4,z,2,2,"ng-container",11),l.Wb()),2&t){var n=l.ic().$implicit;l.Db(4),l.rc("ngForOf",null==n?null:n.dxCodes)}}function k(t,e){if(1&t&&(l.Xb(0,"div",29),l.Xb(1,"h6"),l.Xb(2,"strong"),l.Xc(3),l.jc(4,"number"),l.Wb(),l.Wb(),l.Xb(5,"h6"),l.Xc(6,"mins"),l.Wb(),l.Wb()),2&t){var n=l.ic().$implicit;l.Db(3),l.Yc(l.lc(4,1,(null==n?null:n.durationInMilliSeconds)/6e4,"1.0-0"))}}function N(t,e){if(1&t&&(l.Vb(0),l.Xb(1,"nz-timeline-item",16),l.Xb(2,"strong",17),l.Xc(3),l.jc(4,"date"),l.Wb(),l.Sb(5,"nz-divider",13),l.Xb(6,"strong",17),l.Xc(7),l.Wb(),l.Sb(8,"nz-divider",13),l.Vc(9,A,2,0,"strong",18),l.Vc(10,_,2,0,"strong",19),l.Vb(11),l.Sb(12,"nz-divider",13),l.Xb(13,"strong",20),l.Xc(14),l.Wb(),l.Ub(),l.Xb(15,"p"),l.Xb(16,"span",21),l.Xc(17),l.Wb(),l.Sb(18,"br"),l.Sb(19,"span",22),l.Wb(),l.Vc(20,D,8,1,"p",23),l.Vc(21,O,5,1,"p",23),l.Xb(22,"label",24),l.Xc(23),l.Wb(),l.Wb(),l.Vc(24,k,7,4,"ng-template",null,25,l.Wc),l.Ub()),2&t){var n=e.$implicit,i=l.Ic(25),a=l.ic(2);l.Db(1),l.rc("nzDot",i),l.Db(2),l.Yc(l.lc(4,11,null==n?null:n.date,"mediumDate")),l.Db(4),l.Yc(a.mode.get(n.mode)),l.Db(2),l.rc("ngIf",null==n||null==n.compliance?null:n.compliance.billable),l.Db(1),l.rc("ngIf",(null==n?null:n.compliance)&&!(null!=n&&null!=n.compliance&&n.compliance.billable)),l.Db(4),l.Zc(" ",a.serviceCodeMap.get(null==n?null:n.cptCode)," "),l.Db(3),l.Yc(null==n?null:n.activity),l.Db(2),l.rc("innerHTML",null==n?null:n.notes,l.Mc),l.Db(1),l.rc("ngIf",null==n?null:n.noteUpdateReason),l.Db(1),l.rc("ngIf",null==n||null==n.dxCodes?null:n.dxCodes.length),l.Db(2),l.Yc(null==n?null:n.caretakerName)}}function P(t,e){if(1&t&&(l.Xb(0,"nz-timeline"),l.Vc(1,N,26,14,"ng-container",11),l.Wb()),2&t){var n=l.ic();l.Db(1),l.rc("ngForOf",n.cmtDetails)}}var R=function(){var t=function(){function t(e,n,i){var a=this;u(this,t),this._episodesService=e,this._datePipe=n,this._dataSharingService=i,this.cmtDetails=[],this.cmtMap=new Map,this.durationMap=new Map,this.date=[Object(r.a)(Date.now()),Object(c.a)(Date.now())],this._dataSharingService.tenantSettings.subscribe(function(t){var e,n;t&&(null===(n=null===(e=null==t?void 0:t.episodeBlueprints)||void 0===e?void 0:e.filter(function(t){return!(null==t?void 0:t.archived)}))||void 0===n||n.forEach(function(t){a.serviceCodeMap=new Map,"CCM"===(null==t?void 0:t.type)&&(a.serviceCodeMap.set("NON_COMPLEX_TMS","Non Complex CMT"),a.serviceCodeMap.set("COMPLEX_TMS","Complex CMT")),"RPM"===(null==t?void 0:t.type)&&(a.serviceCodeMap.set("TREATMENT_MANAGEMENT_SERVICE","Treatment Management Service"),a.serviceCodeMap.set("ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE","Additional Treatment Management Service"),a.serviceCodeMap.set("ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B","Additional Treatment Management Service - B")),"BHI"!==(null==t?void 0:t.type)&&"GENERAL"!==(null==t?void 0:t.type)||a.serviceCodeMap.set("CARE_MANAGEMENT_TIME","Care Management Time")}))}),this.mode=new Map([["VIDEO_CALL","Video Call"],["CALL","Audio Call"],["HOME_VISIT","Home Visit"],["CLINIC_VISIT","In Clinic"],["OTHER","Other"]]),this.serviceCodeCountMap=new Map([["TREATMENT_MANAGEMENT_SERVICE","TMS-20"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE","TMS-40"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B","TMS-60"],["NON_COMPLEX_TMS","Non-complex CMT"],["COMPLEX_TMS","Complex CMT"],["CARE_MANAGEMENT_TIME","CMT"]])}return p(t,[{key:"asIsOrder",value:function(t,e){return 1}},{key:"ngOnInit",value:function(){this.getCMTDetails()}},{key:"getCMTDetails",value:function(){var t=this,e=this._datePipe.transform(this.date[0],"yyyy-MM-dd"),i=this._datePipe.transform(this.date[1],"yyyy-MM-dd");this.loading=!0,this.cmtMap=new Map,this.durationMap=new Map,this.cmtDetails=[],this._episodesService.fetchAllPatientCommunications(this.patientId,e,i,this.selectedServiceCodes).subscribe(function(e){var i;t.loading=!1,t.cmtDetails=e,null==e||e.forEach(function(e){var i,a;(null===(i=t.cmtMap)||void 0===i?void 0:i.get(null==e?void 0:e.cptCode))?t.cmtMap.set(null==e?void 0:e.cptCode,[].concat(n(null===(a=t.cmtMap)||void 0===a?void 0:a.get(null==e?void 0:e.cptCode)),[e])):t.cmtMap.set(null==e?void 0:e.cptCode,[e])}),null===(i=t.cmtMap)||void 0===i||i.forEach(function(e,n){var i,a=null==e?void 0:e.map(function(t){return t.durationInMilliSeconds}).reduce(function(t,e){return t+e},0);null===(i=t.durationMap)||void 0===i||i.set(n,a/6e4)})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Rb(s.a),l.Rb(o.e),l.Rb(a.a))},t.\u0275cmp=l.Lb({type:t,selectors:[["app-patient-communication-history"]],inputs:{patientName:"patientName",patientId:"patientId"},features:[l.Cb([o.e])],decls:18,vars:12,consts:[["id","heading"],[4,"ngIf"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","16"],["nzMode","multiple","nzPlaceHolder","Service Codes",3,"nzMaxTagCount","nzMaxTagPlaceholder","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["tagPlaceHolder",""],["nz-col","","nzSpan","8"],[3,"ngModel","ngModelChange"],[1,"container"],["id","no-data",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"primary","sub-heading"],["nzType","vertical"],[3,"nzLabel","nzValue"],["id","no-data"],[3,"nzDot"],[1,"history-heading"],["nz-typography","","nzType","success",4,"ngIf"],["nz-typography","","nzType","danger",4,"ngIf"],["nz-typography","","nzType","secondary"],[1,"activity"],[3,"innerHTML"],["class","history",4,"ngIf"],[1,"primary"],["dotTemplate",""],["nz-typography","","nzType","success"],["nz-typography","","nzType","danger"],[1,"history"],[1,"dot-template"]],template:function(t,e){if(1&t&&(l.Xb(0,"h4",0),l.Xc(1),l.Wb(),l.Vc(2,C,4,5,"ng-container",1),l.Sb(3,"br"),l.Xb(4,"div",2),l.Xb(5,"div",3),l.Xb(6,"nz-select",4),l.ec("ngModelChange",function(t){return e.selectedServiceCodes=t})("ngModelChange",function(){return e.getCMTDetails()}),l.Vc(7,E,1,2,"nz-option",5),l.jc(8,"keyvalue"),l.Wb(),l.Vc(9,I,1,1,"ng-template",null,6,l.Wc),l.Wb(),l.Xb(11,"div",7),l.Xb(12,"nz-range-picker",8),l.ec("ngModelChange",function(t){return e.date=t})("ngModelChange",function(){return e.getCMTDetails()}),l.Wb(),l.Wb(),l.Wb(),l.Sb(13,"br"),l.Sb(14,"br"),l.Xb(15,"div",9),l.Vc(16,M,2,0,"strong",10),l.Vc(17,P,2,1,"nz-timeline",1),l.Wb()),2&t){var n=l.Ic(10);l.Db(1),l.Zc("Patient Communication History: ",e.patientName||"",""),l.Db(1),l.rc("ngIf",(null==e.serviceCodeCountMap?null:e.serviceCodeCountMap.size)>0),l.Db(4),l.rc("nzMaxTagCount",1)("nzMaxTagPlaceholder",n)("ngModel",e.selectedServiceCodes),l.Db(1),l.rc("ngForOf",l.lc(8,9,e.serviceCodeMap,e.asIsOrder)),l.Db(5),l.rc("ngModel",e.date),l.Db(4),l.rc("ngIf",!(e.loading||null!=e.cmtDetails&&e.cmtDetails.length)),l.Db(1),l.rc("ngIf",!e.loading&&(null==e.cmtDetails?null:e.cmtDetails.length))}},directives:[o.q,d.c,d.a,b.d,h.u,h.x,o.p,g.a,g.c,f.a,b.a,v.a,v.b,m.a],pipes:[o.j,o.e,o.f],styles:["#heading[_ngcontent-%COMP%]{padding-left:1%;border-left:3px solid var(--primary-color)}.dot-template[_ngcontent-%COMP%]{width:36px;height:36px;padding-top:7px;border-radius:50%;background-color:var(--primary-color)}.sub-heading[_ngcontent-%COMP%]{font-size:10px;color:#949494}h6[_ngcontent-%COMP%]{color:var(--neutral-color);font-weight:700}.history-heading[_ngcontent-%COMP%]{color:#949494;font-weight:500}[_nghost-%COMP%]     .ant-timeline-item{padding-left:3%}.activity[_ngcontent-%COMP%]{color:var(--tertiary-color)}.primary[_ngcontent-%COMP%]{color:var(--primary-color)!important}#no-data[_ngcontent-%COMP%]{display:block;text-align:center}"]}),t}()},"8yaK":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("2Vo4"),a=n("fXoL"),o=function(){var t=function(){function t(){u(this,t),this.ping$=new i.a(null)}return p(t,[{key:"getLatestClockTime",value:function(){return this.ping$}},{key:"setLatestClockTime",value:function(t,e){var n={hours:parseInt(t/60),minutes:parseInt(t%60),seconds:parseInt(e%60)},i=new Date;i.setHours(null==n?void 0:n.hours,null==n?void 0:n.minutes,(null==n?void 0:n.seconds)+1),this.ping$.next(i)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"9xQM":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t,e){if(!(null==t?void 0:t.length)||!e)return"N/A";var n=null==t?void 0:t.find(function(t){return t.source===e});return(null==n?void 0:n.sourceId)||"N/A"}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"externalSources",type:t,pure:!0}),t}()},ALyH:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL"),a=n("ofXK"),o=n("t2pg");function r(t,e){if(1&t&&(i.Vb(0),i.Xc(1),i.Ub()),2&t){var n=i.ic(2);i.Db(1),i.Zc("",n.delimitter," ")}}function c(t,e){if(1&t&&(i.Xb(0,"strong"),i.Xc(1),i.jc(2,"tenantName"),i.Vc(3,r,2,1,"ng-container",1),i.Wb()),2&t){var n=e.$implicit,a=e.index,o=i.ic();i.Db(1),i.Zc(" ",i.kc(2,2,n),""),i.Db(2),i.rc("ngIf",a<o.assignedTenantIds.length-1)}}var s=function(){var t=function(){function t(){u(this,t),this.assignedTenantIds=new Array,this.delimitter=","}return p(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-staff-sub-tenants"]],inputs:{staffName:"staffName",assignedTenantIds:"assignedTenantIds",delimitter:"delimitter"},decls:4,vars:2,consts:[[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,e){1&t&&(i.Xb(0,"strong"),i.Xc(1),i.Wb(),i.Xc(2," is assigned to "),i.Vc(3,c,4,4,"strong",0)),2&t&&(i.Db(1),i.Zc("",e.staffName," "),i.Db(2),i.rc("ngForOf",e.assignedTenantIds))},directives:[a.p,a.q],pipes:[o.a],styles:[""]}),t}()},AytR:function(t,e,n){"use strict";n.d(e,"g",function(){return i}),n.d(e,"r",function(){return a}),n.d(e,"o",function(){return o}),n.d(e,"m",function(){return r}),n.d(e,"k",function(){return c}),n.d(e,"l",function(){return s}),n.d(e,"j",function(){return l}),n.d(e,"p",function(){return u}),n.d(e,"n",function(){return d}),n.d(e,"v",function(){return p}),n.d(e,"e",function(){return b}),n.d(e,"d",function(){return h}),n.d(e,"q",function(){return g}),n.d(e,"u",function(){return f}),n.d(e,"f",function(){return v}),n.d(e,"c",function(){return m}),n.d(e,"s",function(){return S}),n.d(e,"t",function(){return y}),n.d(e,"b",function(){return T}),n.d(e,"h",function(){return C}),n.d(e,"i",function(){return E}),n.d(e,"a",function(){return I});var i={production:!1,baseUrl:"/v1",VERSION:n("kiQV").a,api:{getInsights:"/insight",getCount:"/insight/count",getBlueprints:"/vital-blueprints",getForms:"/forms",getForm:"/forms",saveForm:"/forms",updateForm:"/forms",getEvalForms:"/evalform",getEvalForm:"/evalform"},url:"https://stage.cooeyhealth.com",webFormRootURL:"https://development.form.cooeyhealth.com/",chatURL:"wss://stage.communications.cooeyhealth.com/chat/users/",videoURL:"wss://stage.communications.cooeyhealth.com/video-call/",pageSize:10,envName:"qa",instrumentationKey:"5db01987-7977-47f1-957d-2f3e65fe054d",youtubeAPIKey:"AIzaSyBZ1xQKe5w70Z5outufqqw2tXHZRbxXCbs",pccURL:"https://connect.pointclickcare.com/auth/login?client_id=HQ5mk1UEkBrNrDcgEL4wqJ7Te0YrjcxA&response_type=code&redirect_uri=https://portal.cooeyhealth.com/pcc/callback",callerNumber:"+13252080644"},a=function(){return i.url+i.baseUrl+"/forms"},o=function(t,e,n){return i.url+i.baseUrl+"/forms/draft/".concat(t,"/").concat(e,"?searchParam=").concat(n)},r=function(t,e,n){return i.url+i.baseUrl+"/forms/".concat(t,"/").concat(e,"?searchParam=").concat(n)},c=function(t,e){return i.url+i.baseUrl+"/evalform/".concat(t,"/").concat(e)},s=function(t,e){return i.url+i.baseUrl+"/evalforms/patient/".concat(t,"/").concat(e)},l=function(t,e){return i.url+i.baseUrl+"/evalDirectform/patient/".concat(t,"/").concat(e)},u=function(){return i.url+i.baseUrl+"/evalform"},d=function(){return i.url+i.baseUrl+"/directevalform"},p=function(){return i.url+i.baseUrl+"/forms/updatecriteria"},b=function(){return i.url+i.baseUrl+"/forms"},h=function(){return i.url+i.baseUrl+"/forms/savedraft"},g=function(){return i.url+i.baseUrl+"/evalform/actionitem"},f=function(t){return i.url+i.baseUrl+"/forms/".concat(t)},v=function(){return i.url+i.baseUrl+"/forms"},m=function(){return i.url+i.baseUrl+"/forms/local/clone"},S=function(t){return i.url+i.baseUrl+"/form/draft/".concat(t)},y=function(t){return i.url+i.baseUrl+"/forms/draft/".concat(t)},T=function(t){return i.url+i.baseUrl+"/forms/assigned/".concat(t)},C=function(t){return i.url+"/v2/actions/forms/".concat(t,"?source=ALL")},E=function(t){return i.url+"/v1/last-submitted-forms/".concat(t)},I=function(t,e){return i.url+"/v1/forms/assign-on-demand/".concat(t,"/").concat(e)}},BZRL:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("2Vo4"),a=n("SxV6"),o=n("AytR"),r=n("fXoL"),c=n("tk/3"),s=n("tyNb"),l=function(){var t=function(){function t(e,n){u(this,t),this._http=e,this.router=n,this.rootUrl=o.g.url+"/ehealth/v2/consent-form"}return p(t,[{key:"saveConsentDetails",value:function(t){return this._http.post(this.rootUrl,t).pipe(Object(a.a)())}},{key:"getConsentDetails",value:function(t){return this._http.get("".concat(this.rootUrl,"/").concat(t)).pipe(Object(a.a)())}},{key:"createConsentCallSubject",value:function(){this.consentCallSubject$=new i.a(null)}},{key:"onConsentCallDisconnect",value:function(){return this.consentCallSubject$.asObservable()}},{key:"setConsentCallDisconnect",value:function(t){this.consentCallSubject$.next(t)}},{key:"unsubscribeFromConsentCallSubject",value:function(){this.consentCallSubject$&&this.consentCallSubject$.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(c.c),r.bc(s.g))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},BcC3:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});var i=function t(){u(this,t)},a=function(t){return t.GROUP="GROUP",t.LOCATION="LOCATION",t.TENANT="TENANT",t.ACROSS_SUB_TENANTS="ACROSS_SUB_TENANTS",t}({})},Beax:function(t,e,n){"use strict";n.d(e,"a",function(){return q});var i,a=n("fEa1"),o=n("igu/"),r=n("fXoL"),c=n("gTqA"),s=n("bOdf"),l=n("3E0/"),d=n("I65S"),b=n("o3v3"),h=n("vj4F"),g=n("0rTH"),f=n("tyNb"),v=n("ofXK"),m=n("ZyQt"),S=n("pSeI"),y=n("dRHE"),T=n("/5ms"),C=n("3lfR"),E=n("Pp+U"),I=n("WoUL"),M=((i=function(){function t(e,n){u(this,t),this.episodeStatusNamePipe=e,this._translationService=n}return p(t,[{key:"transform",value:function(t,e,n,i,a,o,r,c,s,l,u,d,p,b,h,g,f){var v="",m="",S="";switch(t[0]){case"EPISODES":var y=n.get(e);v=y?"Episodes/".concat(y):e&&"RPM"===e?"Episodes/RPM":e&&"GENERAL"===e?"Episodes/General":e&&"CCM"===e?"Episodes/CCM":e&&"HEALTH_SCORE"===e?"Episodes/Health Score":"Episodes";break;case"CARE_PLANS":v=c&&"DEFAULT"===c?"Care Plans/General":c&&"REMOTE_PATIENT_MONITORING"===c?"Care Plans/Remote Monitoring":"Care Plans";break;case"NO_ACTIVE_EPISODES":if(v="Episodes/No Active Episodes",null!=e){var E=n.get(e);v+="/".concat(E)}if(null!=g&&(v+="/".concat(this.episodeStatusNamePipe.transform(g))),i&&i.length){var I=new Date(i[0]).setHours(0,0,0,0),M=new Date(i[1]).setHours(23,59,59,999);m="Between ".concat(new Date(I).toDateString()," - ").concat(new Date(M).toDateString()),v+="/".concat(m)}break;case"NO_ACTIVE_CARE_PLANS":v="No Active Care Plans";break;case"DST":switch(v="DST: ",l){case T.a.PENDING_ON_BOARDINGS:return v+"Remaining for the day";case T.a.SCHEDULED_ON_BOARDINGS:return v+"Scheduled for the month";case T.a.SUCCESSFUL_ON_BOARDINGS_FOR_DAY:return v+"Successful onboardings for the day";case T.a.SUCCESSFUL_ON_BOARDINGS_FOR_MONTH:return v+"Successful onboardings for the month"}break;case"VITAL_DAYS_REMAINING":S=this.getOperationType(r),v="BETWEEN"===r?"Vital Days Remaining ".concat(S," ").concat(a," and ").concat(o):"Vital Days Remaining ".concat(S," ").concat(a);break;case"TMS_REMAINING":if(S=this.getOperationType(r),u&&"TMS_RECORDED"!==u?"TMS_NOT_RECORDED"===u?v="TMS Not Recorded":"ADDITIONAL_TMS_RECORDED"===u?v="Additional TMS - A Recorded":"ADDITIONAL_TMS_NOT_RECORDED"===u?v="Additional TMS - A Not Recorded":"ADDITIONAL_TMS_B_RECORDED"===u?v="Additional TMS - B Recorded":"ADDITIONAL_TMS_B_NOT_RECORDED"===u&&(v="Additional TMS - B Not Recorded"):v="TMS Recorded","TMS_NOT_RECORDED"===u||"ADDITIONAL_TMS_NOT_RECORDED"===u||"ADDITIONAL_TMS_B_NOT_RECORDED"===u)break;v="BETWEEN"===r?"".concat(v," ").concat(S," ").concat(a," and ").concat(o," mins"):"".concat(v," ").concat(S," ").concat(a);break;case"CCM_CMT_REMAINING":S=this.getOperationType(r),p&&"NON_COMPLEX_CMT_RECORDED"!==p?"NON_COMPLEX_CMT_NOT_RECORDED"===p?v="NON_COMPLEX_CMT_NOT_RECORDED":"COMPLEX_CMT_RECORDED"===p?v="COMPLEX_CMT_RECORDED":"COMPLEX_CMT_NOT_RECORDED"===p?v="COMPLEX_CMT_NOT_RECORDED":"NON_COMPLEX_ADDITIONAL_CMT_RECORDED"===p?v="PATIENT.NON_COMPLEX_ADDITIONAL_CMT_RECORDED":"NON_COMPLEX_ADDITIONAL_CMT_NOT_RECORDED"===p?v="PATIENT.NON_COMPLEX_ADDITIONAL_CMT_NOT_RECORDED":"COMPLEX_ADDITIONAL_CMT_RECORDED"===p?v="PATIENT.COMPLEX_ADDITIONAL_CMT_RECORDED":"COMPLEX_ADDITIONAL_CMT_NOT_RECORDED"===p?v="PATIENT.COMPLEX_ADDITIONAL_CMT_NOT_RECORDED":"NON_COMPLEX_PHYSICIAN_CMT_RECORDED"===p?v="NON_COMPLEX_PHYSICIAN_CMT_RECORDED":"NON_COMPLEX_PHYSICIAN_CMT_NOT_RECORDED"===p?v="PATIENT.NON_COMPLEX_PHYSICIAN_CMT_NOT_RECORDED":"NON_COMPLEX_ADDITIONAL_CMT_B_RECORDED"===p?v="PATIENT.NON_COMPLEX_ADDITIONAL_CMT_B_RECORDED":"NON_COMPLEX_ADDITIONAL_CMT_B_NOT_RECORDED"===p&&(v="PATIENT.NON_COMPLEX_ADDITIONAL_CMT_B_NOT_RECORDED"):v="NON_COMPLEX_CMT_RECORDED",this._translationService.get(v).subscribe(function(t){v=t,"NON_COMPLEX_CMT_NOT_RECORDED"!==p&&"COMPLEX_CMT_NOT_RECORDED"!==p&&"NON_COMPLEX_ADDITIONAL_CMT_NOT_RECORDED"!==p&&"NON_COMPLEX_PHYSICIAN_CMT_NOT_RECORDED"!==p&&"COMPLEX_ADDITIONAL_CMT_NOT_RECORDED"!==p&&"NON_COMPLEX_ADDITIONAL_CMT_B_NOT_RECORDED"!==p&&(v="BETWEEN"===r?"".concat(v," ").concat(S," ").concat(a," and ").concat(o," mins"):"".concat(v," ").concat(S," ").concat(a))});break;case"PATIENT_NOT_SERVICED":S=this.getOperationType(r),v="PATIENT_NOT_SERVICED",this._translationService.get(v).subscribe(function(t){v="".concat(v=t," ").concat(S," ").concat(a," days")});break;case"CMT":S=this.getOperationType(r),v=d===C.a.CMT_NOT_RECORDED?"CMT Not Recorded":"BETWEEN"===r?"CMT Recorded ".concat(S," ").concat(a," and ").concat(o," mins"):"CMT Recorded ".concat(S," ").concat(a);break;case"INACTIVE_PATIENTS":if(i&&i.length){var A=new Date(i[0]).setHours(0,0,0,0),_=new Date(i[1]).setHours(23,59,59,999);v="Inactive Patients Between ".concat(new Date(A).toDateString()," - ").concat(new Date(_).toDateString())}else v="Inactive Patients - During Current Month";break;case"CONSENT_FORM":switch(b){case"TO_BE_OBTAINED":v="Consent Form to be obtained";break;case"EXPIRING_THIS_MONTH":v="Consent Form expiring this month";break;case"EXPIRED_LAST_MONTH":v="Consent Form expired last month"}case"PHYSICIAN_ORDER":switch(h){case"TO_BE_OBTAINED":v="Physician order to be obtained";break;case"EXPIRING_THIS_MONTH":v="Physician order expiring this month";break;case"EXPIRED_LAST_MONTH":v="Physician order expired last month"}break;case"PATIENTS_WITH_IN_COMPLETE_DST":v="Pending DST Tasks";break;case"RPM_VITAL_COMPLIANCE":v="RPM Vital Compliance";break;case"ASSESSMENT_COMPLIANCE":v="ASSESSMENT_RECORDED"===f?"Completed Assessment":"Pending Assessment";break;case"ON_BOARDING":v="Not On Boarded Last Month"}return v}},{key:"getOperationType",value:function(t){return"GREATER_THAN"===t?"Greater Than":"EQUAL_TO"===t?"Equal To":"BETWEEN"===t?"Between":"Less Than"}}]),t}()).\u0275fac=function(t){return new(t||i)(r.Rb(E.a),r.Rb(I.a))},i.\u0275pipe=r.Qb({name:"filterDesc",type:i,pure:!0}),i),A=n("CRwX"),_=n("osXl");function D(t,e){1&t&&(r.Xb(0,"span",4),r.Xc(1),r.jc(2,"translate"),r.Wb()),2&t&&(r.Db(1),r.Zc(" ",r.kc(2,1,"PATIENT.VIEWING_PATIENTS"),": \xa0 "))}var z=function(){return["EPISODES"]};function O(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",7),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearAllFilters()}),r.Xc(1),r.jc(2,"translate"),r.jc(3,"filterDesc"),r.Wb()}if(2&t){var i=r.ic(3);r.sc("nzMode",i.isCustomFilter?"default":"closeable"),r.Db(1),r.Zc(" ",r.kc(2,2,r.mc(3,4,r.xc(8,z),i.episodeType,i.blueprintNamesMap))," ")}}var k=function(t,e,n,i,a,o,r,c,s,l,u,d,p,b,h,g,f){return[t,e,n,i,a,o,r,c,s,l,u,d,p,b,h,g,f]};function N(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",7),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearAllFilters()}),r.Xc(1),r.jc(2,"translate"),r.jc(3,"filterDesc"),r.Wb()}if(2&t){var i=r.ic(3);r.sc("nzMode",i.isCustomFilter||i.smsScreen?"default":"closeable"),r.Db(1),r.Zc(" ",r.kc(2,2,r.oc(3,4,r.Gc(22,k,[i.selectedFilter,i.episodeType,i.blueprintNamesMap,i.dateRange,i.firstValue,i.secondValue,i.operation,i.careplanType,i.alertType,i.dstFilterType,i.tmsFilterType,i.cmtFilterType,i.ccmCMTFilterType,i.consentFormStatus,i.physicianOrderStatus,i.selectedEpisodeStatus,i.assessmentFilterType])))," ")}}function P(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",7),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearCaretakerFilter()}),r.Xc(1),r.jc(2,"translate"),r.Wb()}if(2&t){var i=r.ic(3);r.sc("nzMode",i.isCustomFilter||i.smsScreen?"default":"closeable"),r.Db(1),r.ad(" ",r.kc(2,3,"COMMON.MONITORED_BY"),": ",i.staffName," ")}}function R(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",7),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearPhysicianFilter()}),r.Xc(1),r.jc(2,"translate"),r.Wb()}if(2&t){var i=r.ic(3);r.sc("nzMode",i.isCustomFilter||i.smsScreen?"default":"closeable"),r.Db(1),r.ad(" ",r.kc(2,3,"COMMON.PHYSICIAN"),": ",i.physicianName," ")}}function X(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",7),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearSiteFilter()}),r.Xc(1),r.jc(2,"translate"),r.Wb()}if(2&t){var i=r.ic(3);r.sc("nzMode",i.isCustomFilter||i.smsScreen?"default":"closeable"),r.Db(1),r.ad(" ",r.kc(2,3,"SITE"),": ",i.siteName," ")}}function L(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",8),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearCareplanFilter()}),r.Sb(1,"app-nomenclature",9),r.jc(2,"translate"),r.Xc(3),r.jc(4,"careplanName"),r.Wb()}if(2&t){var i=r.ic(3);r.Db(1),r.sc("default",r.kc(2,2,"CARE_PLAN")),r.Db(2),r.Zc(" : ",r.kc(4,4,i.selectedCareplanId)," ")}}function w(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",8),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearEpisodeStatusFilter()}),r.Xc(1),r.jc(2,"translate"),r.jc(3,"episodeStatusName"),r.Wb()}if(2&t){var i=r.ic(3);r.Db(1),r.ad(" ",r.kc(2,2,"FILTER.EPISODE_STATUS"),": ",r.kc(3,4,i.selectedEpisodeStatus)," ")}}function W(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",8),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearPatientStatusFilter()}),r.Xc(1),r.jc(2,"translate"),r.jc(3,"patientStatusName"),r.Wb()}if(2&t){var i=r.ic(3);r.Db(1),r.ad(" ",r.kc(2,2,"FILTER.PATIENT_STATUS"),": ",r.kc(3,4,i.selectedPatientStatus)," ")}}function V(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",8),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearPendingDSTFilter()}),r.Xc(1),r.jc(2,"translate"),r.Wb()}2&t&&(r.Db(1),r.Zc(" ",r.kc(2,1,"FILTER.RPM_ACTIONS.PATIENTS_WITH_IN_COMPLETE_DST")," "))}function x(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",8),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearLanguagesFilter()}),r.Xc(1),r.Wb()}if(2&t){var i=r.ic(3);r.Db(1),r.Zc(" Language: ",i.languages," ")}}function U(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",8),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearSMSSentFilter()}),r.Xc(1),r.Wb()}if(2&t){var i=r.ic(3);r.Db(1),r.Zc(" Initial SMS Sent: ",i.smsSent?"Yes":"No"," ")}}function F(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",8),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearTotalContactAttemptsFilter()}),r.Xc(1),r.Wb()}if(2&t){var i=r.ic(3);r.Db(1),r.Zc(" Contact Attempt: ",i.totalContactAttempts," ")}}function H(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",8),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearAssignedStaffTypeFilter()}),r.Xc(1),r.Wb()}if(2&t){var i=r.ic(3);r.Db(1),r.Zc(" Patient Type: ","OTHER"===i.assignedStaffType?"Secondary":"Primary"," ")}}function B(t,e){if(1&t){var n=r.Yb();r.Xb(0,"nz-tag",8),r.ec("nzOnClose",function(){return r.Lc(n),r.ic(3).clearPatientCreationDateFilter()}),r.Xc(1),r.Wb()}if(2&t){var i=r.ic(3);r.Db(1),r.ad(" Patient Creation Date: ",i.patientCreationStartDate," - ",i.patientCreationEndDate," ")}}function j(t,e){if(1&t&&(r.Vb(0),r.Vc(1,O,4,9,"nz-tag",5),r.Vc(2,N,4,40,"nz-tag",5),r.Vc(3,P,3,5,"nz-tag",5),r.Vc(4,R,3,5,"nz-tag",5),r.Vc(5,X,3,5,"nz-tag",5),r.Vc(6,L,5,6,"nz-tag",6),r.Vc(7,w,4,6,"nz-tag",6),r.Vc(8,W,4,6,"nz-tag",6),r.Vc(9,V,3,3,"nz-tag",6),r.Vc(10,x,2,1,"nz-tag",6),r.Vc(11,U,2,1,"nz-tag",6),r.Vc(12,F,2,1,"nz-tag",6),r.Vc(13,H,2,1,"nz-tag",6),r.Vc(14,B,2,2,"nz-tag",6),r.Ub()),2&t){var n=r.ic(2);r.Db(1),r.rc("ngIf",n.selectedFilter&&(null==n.selectedFilter?null:n.selectedFilter.length)&&"ALL_PATIENTS"!==n.selectedFilter[0]&&("DST"===n.selectedFilter[0]||"VITAL_DAYS_REMAINING"===n.selectedFilter[0]||"TMS_REMAINING"===n.selectedFilter[0]||"ALERTS"===n.selectedFilter[0]||"INACTIVE_PATIENTS"===n.selectedFilter[0]||"CMT"===n.selectedFilter[0]||"CCM_CMT_REMAINING"===n.selectedFilter[0]||"PATIENT_NOT_SERVICED"===n.selectedFilter[0])),r.Db(1),r.rc("ngIf",n.selectedFilter&&(null==n.selectedFilter?null:n.selectedFilter.length)&&(!("ALL_PATIENTS"===n.selectedFilter[0]||"PATIENTS_WITH_IN_COMPLETE_DST"===n.selectedFilter[0]||"CONSENT_FORM"===n.selectedFilter[0]||"PHYSICIAN_ORDER"===n.selectedFilter[0])||"CONSENT_FORM"===n.selectedFilter[0]&&n.consentFormStatus||"PHYSICIAN_ORDER"===n.selectedFilter[0]&&n.physicianOrderStatus)),r.Db(1),r.rc("ngIf",n.staffName),r.Db(1),r.rc("ngIf",n.physicianName),r.Db(1),r.rc("ngIf",n.siteName),r.Db(1),r.rc("ngIf",n.selectedCareplanId),r.Db(1),r.rc("ngIf",n.selectedEpisodeStatus&&"ALL"!==n.selectedEpisodeStatus),r.Db(1),r.rc("ngIf",n.selectedPatientStatus&&"ALL"!==n.selectedPatientStatus),r.Db(1),r.rc("ngIf",n.selectedFilter&&"PATIENTS_WITH_IN_COMPLETE_DST"===n.selectedFilter[0]),r.Db(1),r.rc("ngIf",n.languages&&0!==(null==n.languages?null:n.languages.length)),r.Db(1),r.rc("ngIf",void 0!==n.smsSent),r.Db(1),r.rc("ngIf",void 0!==n.totalContactAttempts),r.Db(1),r.rc("ngIf",n.isAdmin&&"ALL"!==n.assignedStaffType),r.Db(1),r.rc("ngIf",n.patientCreationStartDate&&n.patientCreationEndDate)}}function G(t,e){if(1&t&&(r.Xb(0,"div",1),r.Vc(1,D,3,3,"span",2),r.Vc(2,j,15,14,"ng-container",3),r.jc(3,"async"),r.Wb()),2&t){var n=r.ic();r.Db(1),r.rc("ngIf",!n.smsScreen&&(n.staffName||n.siteName||n.physicianName||n.selectedPatientStatus&&"ALL"!=n.selectedPatientStatus||n.selectedFilter&&n.selectedFilter[0]&&"ALL_PATIENTS"!=n.selectedFilter[0]||n.patientCreationEndDate&&n.patientCreationStartDate||n.languages&&0!==(null==n.languages?null:n.languages.length))),r.Db(1),r.rc("ngIf",r.kc(3,2,n.reload))}}var Y,q=((Y=function(){function t(e,n,i,a,o,p){var b=this;u(this,t),this._dataSharingService=e,this._patientUrlService=n,this._patientStatusFilterHelperService=i,this._episodeStatusFilterHelperService=a,this._activatedRoute=o,this._languagePipe=p,this.dateRange=[],this.clear=new r.n,this.blueprintNamesMap=new Map,this._activatedRoute.queryParams.subscribe(function(t){var e;b.firstValue=b._patientUrlService.getParameterValue("v1"),b.secondValue=b._patientUrlService.getParameterValue("v2"),b.operation=b._patientUrlService.getParameterValue("op"),b.alertType=b._patientUrlService.getParameterValue("alert"),b.episodeType=b._patientUrlService.getParameterValue("sub-filter"),b.dstFilterType=b._patientUrlService.getParameterValue("dstFilterType"),b.tmsFilterType=b._patientUrlService.getParameterValue("tms"),b.cmtFilterType=b._patientUrlService.getParameterValue("cmt"),b.ccmCMTFilterType=b._patientUrlService.getParameterValue("ccmCmt"),b.assessmentFilterType=b._patientUrlService.getParameterValue("assessment"),b.siteId=b._patientUrlService.getParameterValue("siteId"),b.siteName=b._patientUrlService.getParameterValue("siteName"),b.selectedCareplanId=b._patientUrlService.getParameterValue("carePlanId"),b.staffName=b._patientUrlService.getParameterValue("staffName"),b.physicianName=b._patientUrlService.getParameterValue("physiciansName"),b.consentFormStatus=b._patientUrlService.getParameterValue("consentFormStatus"),b.physicianOrderStatus=b._patientUrlService.getParameterValue("physicianOrderStatus"),b.episodeStatus=b._patientUrlService.getParameterValue("episodeStatus"),b.patientStatuses=b._patientUrlService.getParameterValue("patientStatus"),b.assignedStaffType=b._patientUrlService.getParameterValue("assignedStaffType"),b.patientCreationStartDate=b._patientUrlService.getParameterValue("patientCreationStartDate"),b.patientCreationEndDate=b._patientUrlService.getParameterValue("patientCreationEndDate");var n=b._patientUrlService.getParameterValue("smsSent");b.smsSent=(null==n?void 0:n.length)?JSON.parse(n):void 0;var i=b._patientUrlService.getParameterValue("totalContactAttempts");b.totalContactAttempts=(null==i?void 0:i.length)?JSON.parse(i):void 0,b.selectedPatientStatus=b.patientStatuses?b._patientStatusFilterHelperService.getSelectedPatientStatus(b.patientStatuses):null,b.selectedEpisodeStatus=b.episodeStatus?b._episodeStatusFilterHelperService.getSelectedEpisodeStatus(b.episodeStatus):null,b.isCustomFilter=!!b._patientUrlService.getParameterValue("savedFilter");var a=b._patientUrlService.getParameterValue("filter"),o=b._patientUrlService.getParameterValue("sub-filter");(a||o)&&(b.selectedFilter=[a,o]);var r=null===(e=b._patientUrlService.getParameterValue("languages"))||void 0===e?void 0:e.split(",");b.languages=r&&r.length>0?r.map(function(t){return b._languagePipe.transform(t)}):null;var u=b._patientUrlService.getParameterValue("d1"),p=b._patientUrlService.getParameterValue("d2");u&&p&&(b.dateRange=[u,p]),b.reload=Object(c.from)([!1,!0]).pipe(Object(s.a)(function(t){return Object(d.of)(t).pipe(Object(l.a)(1))}))})}return p(t,[{key:"ngOnInit",value:function(){this.isAdmin="TENANT_ADMIN"===localStorage.getItem("loggedInUserRole"),this.getEpisodeBlueprints()}},{key:"ngOnDestroy",value:function(){this.$tenantSettinsObserver.unsubscribe()}},{key:"getEpisodeBlueprints",value:function(){var t=this;this.$tenantSettinsObserver=this._dataSharingService.tenantSettings.subscribe(function(e){var n;e&&(null===(n=null==e?void 0:e.episodeBlueprints)||void 0===n||n.forEach(function(e){t.blueprintNamesMap.set(null==e?void 0:e.type,null==e?void 0:e.name)}))})}},{key:"clearAllFilters",value:function(){var t=this,e=this._patientUrlService.getParameterValue("filter");"ALL_PATIENTS"!==e&&"VITAL_DAYS_REMAINING"===e||"DST"===e||"TMS_REMAINING"===e||"CCM_CMT_REMAINING"===e||"PATIENT_NOT_SERVICED"===e||"ALERTS"===e||"INACTIVE_PATIENTS"===e||"RPM_VITAL_COMPLIANCE"===e||"ON_BOARDING"===e||"CMT"===e||"ASSESSMENT_COMPLIANCE"===e||"ASSESSMENT_ACTIVITY"===e?this.clearAllFiltersForEpisodes():"CONSENT_FORM"===e?(this._patientUrlService.setParameter({filter:null,consentFormStatus:null}),setTimeout(function(){return t.clear.emit()},10)):"PHYSICIAN_ORDER"===e?(this._patientUrlService.setParameter({filter:null,physicianOrderStatus:null}),setTimeout(function(){return t.clear.emit()},10)):"PATIENTS_WITH_IN_COMPLETE_DST"===e?(this._patientUrlService.setParameter({filter:null}),setTimeout(function(){return t.clear.emit()},10)):"PATIENT_NOT_SERVICED"===e?this._patientUrlService.setParameter({filter:null,v1:null}):(this._patientUrlService.setParameter({alert:null,d1:null,d2:null,op:null,v1:null,v2:null,tms:null,cmt:null,ccmCmt:null,groupId:null,staffId:null,staffName:null,physicians:null,physiciansName:null,siteId:null,siteName:null,carePlanId:null,filter:null,consentFormStatus:null,physicianOrderStatus:null,languages:null,"sub-filter":null,patientCreationStartDate:null,patientCreationEndDate:null,patientCreationDateRange:null}),setTimeout(function(){return t.clear.emit()},10))}},{key:"clearAllFiltersForEpisodes",value:function(){var t=this,e={alert:null,d1:null,d2:null,op:null,v1:null,v2:null,tms:null,cmt:null,ccmCmt:null,languages:null};switch(this._patientUrlService.getParameterValue("filter")){case"EPISODES":case"NO_ACTIVE_EPISODES":case"NO_ACTIVE_CARE_PLANS":case"VITAL_DAYS_REMAINING":case"DST":case"TMS_REMAINING":case"ALERTS":case"INACTIVE_PATIENTS":case"RPM_VITAL_COMPLIANCE":case"ON_BOARDING":this.selectedFilter=["EPISODES","RPM"],this._patientUrlService.setParameter(Object.assign(Object.assign({},e),{filter:"EPISODES","sub-filter":"RPM"}));break;case"CARE_PLANS":this.selectedFilter=["CARE_PLANS","DEFAULT"],this._patientUrlService.setParameter(Object.assign(Object.assign({},e),{filter:"CARE_PLANS","sub-filter":"DEFAULT"}));break;case"CMT":case"ASSESSMENT_COMPLIANCE":case"ASSESSMENT_ACTIVITY":this.selectedFilter=["EPISODES","GENERAL"],this._patientUrlService.setParameter(Object.assign(Object.assign({},e),{filter:"EPISODES","sub-filter":"GENERAL"}));break;case"CCM_CMT_REMAINING":case"PATIENT_NOT_SERVICED":var n=this._patientUrlService.getParameterValue("sub-filter");this.selectedFilter=["EPISODES",n],this._patientUrlService.setParameter(Object.assign(Object.assign({},e),{filter:"EPISODES","sub-filter":n}))}setTimeout(function(){return t.clear.emit()},10)}},{key:"clearCaretakerFilter",value:function(){this._patientUrlService.setParameter({staffId:null,staffName:null,assignedStaffType:"ALL"})}},{key:"clearPhysicianFilter",value:function(){this._patientUrlService.setParameter({physicians:null,physiciansName:null})}},{key:"clearSiteFilter",value:function(){this._patientUrlService.setParameter({siteId:null,siteName:null})}},{key:"clearGroupFilter",value:function(){this._patientUrlService.setParameter({groupId:null})}},{key:"clearCareplanFilter",value:function(){this._patientUrlService.setParameter({carePlanId:null})}},{key:"clearEpisodeStatusFilter",value:function(){this._patientUrlService.setParameter({episodeStatus:null})}},{key:"clearPendingDSTFilter",value:function(){this._patientUrlService.setParameter({filter:"ALL_PATIENTS"})}},{key:"clearPatientStatusFilter",value:function(){this._patientUrlService.setParameter({patientStatus:null})}},{key:"clearLanguagesFilter",value:function(){this._patientUrlService.setParameter({languages:null})}},{key:"clearSMSSentFilter",value:function(){this._patientUrlService.setParameter({smsSent:void 0})}},{key:"clearTotalContactAttemptsFilter",value:function(){this._patientUrlService.setParameter({totalContactAttempts:void 0})}},{key:"clearAssignedStaffTypeFilter",value:function(){this._patientUrlService.setParameter({assignedStaffType:"ALL"})}},{key:"clearPatientCreationDateFilter",value:function(){this._patientUrlService.setParameter({patientCreationStartDate:null,patientCreationEndDate:null,patientCreationDateRange:null})}}]),t}()).\u0275fac=function(t){return new(t||Y)(r.Rb(o.a),r.Rb(a.a),r.Rb(b.a),r.Rb(h.a),r.Rb(f.a),r.Rb(g.a))},Y.\u0275cmp=r.Lb({type:Y,selectors:[["app-filter-desc"]],inputs:{smsScreen:"smsScreen"},outputs:{clear:"clear"},features:[r.Cb([g.a])],decls:1,vars:1,consts:[["id","filters",4,"ngIf"],["id","filters"],["id","filter-desc",4,"ngIf"],[4,"ngIf"],["id","filter-desc"],[3,"nzMode","nzOnClose",4,"ngIf"],["nzMode","closeable",3,"nzOnClose",4,"ngIf"],[3,"nzMode","nzOnClose"],["nzMode","closeable",3,"nzOnClose"],["nomenclature","careplans",3,"default"]],template:function(t,e){1&t&&r.Vc(0,G,4,4,"div",0),2&t&&r.rc("ngIf",e.staffName||e.siteName||e.physicianName||e.selectedPatientStatus&&"ALL"!=e.selectedPatientStatus||e.selectedFilter&&e.selectedFilter[0]&&("ALL_PATIENTS"!=e.selectedFilter[0]||"CONSENT_FORM"==e.selectedFilter[0]||"PHYSICIAN_ORDER"==e.selectedFilter[0]||"PATIENTS_WITH_IN_COMPLETE_DST"==e.selectedFilter[0])||e.patientCreationEndDate&&e.patientCreationStartDate||e.languages&&0!==(null==e.languages?null:e.languages.length))},directives:[v.q,m.a,S.a],pipes:[v.b,y.a,M,A.a,E.a,_.a],styles:["#filters[_ngcontent-%COMP%]{padding:1%}#filter-desc[_ngcontent-%COMP%]{font-size:12px!important;font-weight:700;color:#2f4f4f!important}.ant-page-header[_ngcontent-%COMP%]{background:transparent}nz-tag[_ngcontent-%COMP%]{margin-top:8px;background-color:var(--primary-color);color:var(--neutral-color)}[_nghost-%COMP%]     .ant-tag-close-icon{color:var(--neutral-color)}"]}),Y)},BoNt:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("SxV6"),a=n("AytR"),o=n("fXoL"),r=n("tk/3"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=a.g.url+"/v3/sites"}return p(t,[{key:"getAllSites",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0,r="".concat(this.rootUrl,"?offset=").concat(t,"&limit=").concat(e);return n&&(r+="&searchTerm=".concat(n)),o&&(r+="&requestTenantId=".concat(o)),r+="&staffFilter=".concat(a),this._http.get(r).pipe(Object(i.a)())}},{key:"getSiteById",value:function(t){return this._http.get("".concat(this.rootUrl,"/").concat(t))}},{key:"saveSite",value:function(t){return this._http.post("".concat(this.rootUrl),JSON.stringify(t))}},{key:"updateSite",value:function(t){return this._http.put("".concat(this.rootUrl),t)}},{key:"makeDefault",value:function(t){return this._http.put("".concat(this.rootUrl,"/switch-to-primary/").concat(t),null)}},{key:"getDefaultSite",value:function(){return this._http.get("".concat(this.rootUrl,"/default"))}},{key:"deleteSite",value:function(t){return this._http.delete("".concat(this.rootUrl,"/").concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(r.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},BrXI:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.OPEN="OPEN",t.CLOSED="CLOSED",t}({})},CLv8:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function t(){u(this,t),this.carrierName="",this.insuranceId="",this.effectiveDate="",this.expirationDate="",this.planId=void 0}},CRwX:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("bp6e"),a=n("isHH"),o=n("UXun"),r=n("fXoL"),c=function(){var t=function(){function t(e,n){u(this,t),this._careplansService=e,this._storeService=n,this.careplanMap=new Map,this.initializeCareplanNameMap()}return p(t,[{key:"transform",value:function(t){if(t)return"UNASSIGNED"===t?"Patients without care plan":this.careplanMap.get(t)||""}},{key:"initializeCareplanNameMap",value:function(){var t,e=this;this.createCarePlanMap(this._storeService.getCarePlanTemplates()),(null===(t=this.careplanMap)||void 0===t?void 0:t.size)||(this.careplans$=this._careplansService.getAllCourses(0,-1).pipe(Object(o.a)()),this.careplans$.subscribe(function(t){e.createCarePlanMap(t),e._storeService.setCarePlanTemplates(t)}))}},{key:"createCarePlanMap",value:function(t){var e=this;t&&(null==t||t.forEach(function(t){return e.careplanMap.set(t.id,t.name)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Rb(a.a),r.Rb(i.a))},t.\u0275pipe=r.Qb({name:"careplanName",type:t,pure:!1}),t}()},"D+TJ":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("fXoL"),o=n("tk/3"),r=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=i.g.url}return p(t,[{key:"fetchWidgetPermissions",value:function(){return this._http.get("".concat(this.rootUrl,"/v2/dashboard-config/widgets"))}},{key:"fetchEnabledWidgets",value:function(){return this._http.get("".concat(this.rootUrl,"/v2/dashboard-config"))}},{key:"fetchOverviewWidget",value:function(){return this._http.get("".concat(this.rootUrl,"/v2/dashboard/overview"))}},{key:"fetchQuickProgressWidgets",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return this._http.get("".concat(this.rootUrl,"/v2/dashboard/quick-progress?patientType=").concat(t))}},{key:"fetchCareTakerCommunicationSummary",value:function(){return this._http.get("".concat(this.rootUrl,"/v2/dashboard/caretaker-summary"))}},{key:"fetchMonitoringWidget",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return this._http.get("".concat(this.rootUrl,"/v2/dashboard/monitoring?patientType=").concat(t))}},{key:"fetchOnBoardingWidget",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return this._http.get("".concat(this.rootUrl,"/v2/dashboard/on-boarding?patientType=").concat(t))}},{key:"fetchQuickViewWidgets",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return this._http.get("".concat(this.rootUrl,"/v2/dashboard/quick-view?patientType=").concat(t))}},{key:"refreshCache",value:function(){return this._http.get("".concat(this.rootUrl,"/v1/cache-manager/clear/dashboard"))}},{key:"fetchCommonWidgets",value:function(){return this._http.get("".concat(this.rootUrl,"/v1/dashboard/common-widgets"))}},{key:"fetchQuickLinkWidgets",value:function(){return this._http.get("".concat(this.rootUrl,"/v1/dashboard/quick-link-widgets"))}},{key:"fetchMonitoringWidgets",value:function(){return this._http.get("".concat(this.rootUrl,"/v1/dashboard/monitoring-widgets"))}},{key:"fetchRPMWidgets",value:function(){return this._http.get("".concat(this.rootUrl,"/v1/dashboard/rpm-progress-widgets"))}},{key:"fetchBHIWidgets",value:function(){return this._http.get("".concat(this.rootUrl,"/v1/dashboard/bhi-progress-widgets"))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},DEH1:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.BLOOD_PRESSURE="BLOOD_PRESSURE",t.HEART_RATE="HEART_RATE",t.BLOOD_GLUCOSE="BLOOD_GLUCOSE",t.SPO2="SPO2",t.RESPIRATION="RESPIRATION",t.WEIGHT="WEIGHT",t.STRESS="STRESS",t.HEART_RATE_VARIABILITY="HEART_RATE_VARIABILITY",t.WELLNESS_SCORE="WELLNESS_SCORE",t.IRREGULAR_HEARTBEAT="IRREGULAR_HEARTBEAT",t}({})},DfQf:function(t,e,i){"use strict";i.d(e,"a",function(){return q});var a=i("bA60"),o=i("SP7D"),r=i("OE57"),c=i("FH+g"),s=i("pe0G"),l=i("igu/"),d=i("AytR"),b=i("pLZG"),h=i("7t9/"),g=i("geco"),f=i("OS4Q"),v=i("fXoL"),m=i("tyNb"),S=i("jhN1"),y=i("dEAy"),T=i("B+r4"),C=i("eHCX"),E=i("5vDB"),I=i("ofXK"),M=i("C2AL"),A=i("PTRe"),_=i("zAKX"),D=i("3Pt+"),z=i("OzZK"),O=i("RwU8"),k=i("ncdi"),N=i("xYn2"),P=i("dRHE"),R=i("fhRi");function X(t,e){if(1&t&&(v.Xb(0,"div",2),v.Xb(1,"nz-input-group",7),v.jc(2,"translate"),v.Sb(3,"input",8),v.jc(4,"date"),v.Wb(),v.Wb()),2&t){var n=v.ic(2);v.Db(1),v.sc("nzAddOnBefore",v.kc(2,2,"TABLEHEADER.STARTTIME")),v.Db(2),v.rc("value",v.lc(4,4,null==n.videoCallSession?null:n.videoCallSession.startTime,"mediumTime"))}}function L(t,e){if(1&t&&(v.Xb(0,"div",2),v.Xb(1,"nz-input-group",7),v.jc(2,"translate"),v.Sb(3,"input",8),v.jc(4,"date"),v.Wb(),v.Wb()),2&t){var n=v.ic(2);v.Db(1),v.tc("nzAddOnBefore"," ",v.kc(2,2,"TABLEHEADER.ENDTIME")," "),v.Db(2),v.rc("value",v.lc(4,4,null==n.videoCallSession?null:n.videoCallSession.endTime,"mediumTime"))}}function w(t,e){if(1&t&&(v.Xb(0,"div",2),v.Xb(1,"nz-input-group",7),v.jc(2,"translate"),v.Sb(3,"input",8),v.Wb(),v.Wb()),2&t){var n=v.ic(2);v.Db(1),v.tc("nzAddOnBefore"," ",v.kc(2,2,"COMMON.DURATION")," "),v.Db(2),v.rc("value",n.duration)}}function W(t,e){if(1&t&&(v.Xb(0,"div",1),v.Vc(1,X,5,7,"div",6),v.Vc(2,L,5,7,"div",6),v.Vc(3,w,4,4,"div",6),v.Sb(4,"br"),v.Sb(5,"br"),v.Wb()),2&t){var n=v.ic();v.rc("nzGutter",24),v.Db(1),v.rc("ngIf",null==n.videoCallSession?null:n.videoCallSession.endTime),v.Db(1),v.rc("ngIf",null==n.videoCallSession?null:n.videoCallSession.endTime),v.Db(1),v.rc("ngIf",n.duration)}}function V(t,e){if(1&t&&(v.Xb(0,"nz-option",15),v.Xb(1,"strong",3),v.Xc(2),v.Wb(),v.Sb(3,"br"),v.Xb(4,"p",16),v.Xc(5),v.Wb(),v.Wb()),2&t){var n=e.$implicit,i=v.ic(2);v.rc("nzLabel",null==n?null:n.title)("nzValue",n),v.Db(2),v.Yc(null==n?null:n.title),v.Db(2),v.rc("nzType",(null==i.appointmentDetails||null==i.appointmentDetails.appointment||null==i.appointmentDetails.appointment.schedule?null:i.appointmentDetails.appointment.schedule.startDate)<i.currentDate?"danger":"primary"),v.Db(1),v.Zc(" ",(null==i.appointmentDetails||null==i.appointmentDetails.appointment||null==i.appointmentDetails.appointment.schedule?null:i.appointmentDetails.appointment.schedule.startDate)<i.currentDate?"Overdue":"Due Later"," ")}}function x(t,e){if(1&t){var n=v.Yb();v.Vb(0),v.Xb(1,"h3",9),v.Xc(2,"Assigned Assessments"),v.Wb(),v.Xb(3,"div",10),v.Xb(4,"div",2),v.Xb(5,"nz-select",11),v.ec("ngModelChange",function(t){return v.Lc(n),v.ic().selectedForm=t}),v.Vc(6,V,6,5,"nz-option",12),v.Wb(),v.Wb(),v.Xb(7,"div",13),v.Xb(8,"button",14),v.ec("click",function(){v.Lc(n);var t=v.ic();return t.showFormFiller(t.form)}),v.Xc(9," Assess "),v.Wb(),v.Wb(),v.Wb(),v.Sb(10,"nz-divider"),v.Ub()}if(2&t){var i=v.ic();v.Db(5),v.rc("ngModel",i.selectedForm)("nzOptionHeightPx",60),v.Db(1),v.rc("ngForOf",i.forms),v.Db(2),v.rc("disabled",!i.selectedForm&&(null==i.appointmentDetails||null==i.appointmentDetails.appointment||null==i.appointmentDetails.appointment.schedule?null:i.appointmentDetails.appointment.schedule.startDate)>i.currentDate)}}function U(t,e){if(1&t&&(v.Xb(0,"nz-option",15),v.Xb(1,"strong",3),v.Xc(2),v.Wb(),v.Wb()),2&t){var n=e.$implicit;v.rc("nzLabel",null==n?null:n.title)("nzValue",n),v.Db(2),v.Yc(null==n?null:n.title)}}function F(t,e){if(1&t){var n=v.Yb();v.Vb(0),v.Xb(1,"h3",9),v.Xc(2,"On-Demand Assessments"),v.Wb(),v.Xb(3,"div",10),v.Xb(4,"div",2),v.Xb(5,"nz-select",17),v.ec("ngModelChange",function(t){return v.Lc(n),v.ic().selectedFormBlueprint=t}),v.Vc(6,U,3,3,"nz-option",12),v.Wb(),v.Wb(),v.Xb(7,"div",13),v.Xb(8,"button",14),v.ec("click",function(){return v.Lc(n),v.ic().assignOnDemandForm()}),v.Xc(9," Assess "),v.Wb(),v.Wb(),v.Wb(),v.Sb(10,"nz-divider"),v.Ub()}if(2&t){var i=v.ic();v.Db(5),v.rc("ngModel",i.selectedFormBlueprint),v.Db(1),v.rc("ngForOf",i.formBlueprints),v.Db(2),v.rc("disabled",(null==i.appointmentDetails||null==i.appointmentDetails.appointment||null==i.appointmentDetails.appointment.schedule?null:i.appointmentDetails.appointment.schedule.startDate)>i.currentDate)}}function H(t,e){if(1&t){var n=v.Yb();v.Vb(0),v.Xb(1,"div",19),v.Xb(2,"div",20),v.Xb(3,"h4",9),v.Xc(4),v.Wb(),v.Xb(5,"p",3),v.Xc(6),v.jc(7,"utcToLocalTime"),v.Wb(),v.Wb(),v.Xb(8,"div",21),v.Xb(9,"button",22),v.ec("click",function(){v.Lc(n);var t=e.$implicit;return v.ic(2).viewForm(t)}),v.Xc(10," View Assessment "),v.Wb(),v.Wb(),v.Wb(),v.Sb(11,"br"),v.Ub()}if(2&t){var i=e.$implicit;v.Db(4),v.Yc(null==i?null:i.title),v.Db(2),v.Yc(v.kc(7,2,null==i?null:i.completedAt))}}function B(t,e){if(1&t&&(v.Vb(0),v.Xb(1,"h3",9),v.Xc(2,"Completed Assessments"),v.Wb(),v.Sb(3,"br"),v.Vc(4,H,12,4,"ng-container",18),v.Ub()),2&t){var n=v.ic();v.Db(4),v.rc("ngForOf",n.actions)}}function j(t,e){if(1&t&&(v.Xb(0,"nz-timeline-item"),v.Sb(1,"app-note-timeline-item",24),v.Wb()),2&t){var n=e.$implicit;v.Db(1),v.rc("note",n)}}function G(t,e){if(1&t&&(v.Vb(0),v.Sb(1,"br"),v.Xb(2,"div",19),v.Xb(3,"div",23),v.Xb(4,"h3",9),v.Xc(5,"Notes"),v.Wb(),v.Wb(),v.Wb(),v.Sb(6,"br"),v.Xb(7,"div",19),v.Xb(8,"div",23),v.Xb(9,"nz-timeline"),v.Vc(10,j,2,1,"nz-timeline-item",18),v.Wb(),v.Wb(),v.Wb(),v.Ub()),2&t){var n=v.ic();v.Db(10),v.rc("ngForOf",n.appointmentNotes)}}var Y=function(){return[32,8]},q=function(){var t=function(){function t(e,n,i,a,o,r,c,s,l,p,h){var g=this;u(this,t),this._router=e,this._route=n,this._appointmentsService=i,this._patientsService=a,this._videoCallService=o,this._formService=r,this._domSanitizer=c,this._modalService=s,this._actionItemsService=l,this._dataSharingService=p,this._routeHelperService=h,this.status="",this.rootURL=d.g.webFormRootURL,this.currentDate=Date.now(),this.primaryTrigger$=this._routeHelperService.isPrimaryActionTriggered().pipe(Object(b.a)(function(t){return!!t})).subscribe(function(){g.viewPlanOfCare()}),this.secondaryTrigger$=this._routeHelperService.isSecondaryActionTriggered().pipe(Object(b.a)(function(t){return!!t})).subscribe(function(){g.showCMTHistory()})}return p(t,[{key:"appointmentId",get:function(){return this._appointmentId},set:function(t){this._appointmentId=t,this.getAppointmentDetails()}},{key:"onMessage",value:function(t){var e,n;(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.canClose)&&(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.success)&&this.closeWebForm()}},{key:"ngOnInit",value:function(){this._routeHelperService.setPrimaryAction(!1),this.getAppointmentIdFromURL(),this.getAppointmentDetails(),this.getActionItemsForAppointment()}},{key:"ngOnDestroy",value:function(){var t,e;null===(t=this.primaryTrigger$)||void 0===t||t.unsubscribe(),null===(e=this.secondaryTrigger$)||void 0===e||e.unsubscribe()}},{key:"getAppointmentIdFromURL",value:function(){var t=this;this._route.params.forEach(function(e){t.appointmentId=e.id})}},{key:"setAppointmentId",value:function(t){this.appointmentId=t,this.getAppointmentDetails()}},{key:"getAppointmentDetails",value:function(){var t=this;this._appointmentsService.fetchAppointmentDetailsById(this.appointmentId).subscribe(function(e){var n,i;t.appointmentDetails=e,t._routeHelperService.setTitleForRoute((null===(i=null===(n=t.appointmentDetails)||void 0===n?void 0:n.appointment)||void 0===i?void 0:i.attendeeName)+" | Appointment Details"),t.getPatientForAppointment(),t.getStatus(),t.getVideoCallSession(),t.getAppointmentNotes(),t.fetchFormBlueprints(),t.fetchFormActionItems()})}},{key:"getPatientForAppointment",value:function(){var t,e,n=this;this._appointmentsService.fetchPatientForAppointment(null===(e=null===(t=this.appointmentDetails)||void 0===t?void 0:t.appointment)||void 0===e?void 0:e.attendeeId).subscribe(function(t){var e,i,a,o;n.patient=t;var r=null===(o=null===(a=null===(i=null===(e=n.patient)||void 0===e?void 0:e.patientState)||void 0===i?void 0:i.episodeState)||void 0===a?void 0:a.activeEpisodes)||void 0===o?void 0:o.filter(function(t){var e,i;return"CCM"===(null==t?void 0:t.episodeType)&&(null==t?void 0:t.id)===(null===(i=null===(e=n.appointmentDetails)||void 0===e?void 0:e.appointment)||void 0===i?void 0:i.episodeId)});n._routeHelperService.setPrimaryAction((null==r?void 0:r.length)&&"APPROVED"==n.appointmentDetails.appointment.overallStatus?f.a.Detail.primaryAction:{})})}},{key:"getActionItemsForAppointment",value:function(){var t=this;this._appointmentsService.fetchActionItemsForAppointments(this.appointmentId).subscribe(function(e){t.actions=null==e?void 0:e.filter(function(t){return null==t?void 0:t.completed})})}},{key:"getAppointmentNotes",value:function(){var t,e,i=this;this._patientsService.fetchPatientsAllNotes(null===(e=null===(t=this.appointmentDetails)||void 0===t?void 0:t.appointment)||void 0===e?void 0:e.attendeeId).subscribe(function(t){var e,a,o,r,c,s,l=[];(null===(a=null===(e=i.appointmentDetails)||void 0===e?void 0:e.appointment)||void 0===a?void 0:a.notesHistory)&&l.push.apply(l,n(null===(r=null===(o=i.appointmentDetails)||void 0===o?void 0:o.appointment)||void 0===r?void 0:r.notesHistory.filter(function(t){return null!=t}))),l.push(null===(s=null===(c=i.appointmentDetails)||void 0===c?void 0:c.appointment)||void 0===s?void 0:s.noteId),i.appointmentNotes=null==t?void 0:t.filter(function(t){return l.includes(t.id)})})}},{key:"getVideoCallSession",value:function(){var t=this;this.appointmentDetails.appointment.videoCallSessionId&&this._videoCallService.getVideoCallSession(this.appointmentDetails.appointment.videoCallSessionId).subscribe(function(e){if(t.videoCallSession=e,e.endTime){var n=e.endTime-e.startTime,i=Math.floor(n/1e3/60<<0),a=Math.floor(n/1e3%60);t.duration=i+":"+a+" mins"}})}},{key:"getStatus",value:function(){return"FINISHED"===this.appointmentDetails.appointment.overallStatus?(this.status="Completed",this.status):"APPROVED"===this.appointmentDetails.appointment.overallStatus?(new Date).getTime()-36e5>this.appointmentDetails.appointment.schedule.startDate?(this.status="Unattended",this.status):(this.status="Upcoming",this.status):void 0}},{key:"fetchFormBlueprints",value:function(){var t=this;this._formService.getFormsWithBody({phq9:!0,gad7:!0},0,9999999,"").subscribe(function(e){var n,i,a;(null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.forms)&&(t.formBlueprints=null===(a=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.forms)||void 0===a?void 0:a.obj)})}},{key:"fetchFormActionItems",value:function(){var t,e,n=this;this._formService.fetchFormActionItemsForPatient(null===(e=null===(t=this.appointmentDetails)||void 0===t?void 0:t.appointment)||void 0===e?void 0:e.attendeeId).subscribe(function(t){(null==t?void 0:t.length)&&(null==t||t.forEach(function(t){t.parameters=JSON.parse(null==t?void 0:t.parameters),(null==t?void 0:t.scheduledOn)||(t.scheduledOn=new Date(null==t?void 0:t.scheduledAt).setHours(23))}),n.forms=t)})}},{key:"showFormFiller",value:function(){var t,e,n,i,a,o,r,c,s,l;if(this.selectedForm){var u=localStorage.getItem("sessionToken"),d="".concat(this.rootURL,"web-form/").concat(null===(e=null===(t=this.selectedForm)||void 0===t?void 0:t.parameters)||void 0===e?void 0:e.formBlueprintId,"/").concat(u,"/").concat(null===(n=this.selectedForm)||void 0===n?void 0:n.patientId,"/").concat(null===(i=this.selectedForm)||void 0===i?void 0:i.id,"?source=portal&sourceType=").concat(null===(o=null===(a=this.selectedForm)||void 0===a?void 0:a.parentType)||void 0===o?void 0:o.toLowerCase()),p=this._domSanitizer.bypassSecurityTrustResourceUrl(d);this._dataSharingService.initiatePatientTrigger({patientId:null===(c=null===(r=this.appointmentDetails)||void 0===r?void 0:r.appointment)||void 0===c?void 0:c.attendeeId,patientName:null===(l=null===(s=this.appointmentDetails)||void 0===s?void 0:s.appointment)||void 0===l?void 0:l.attendeeName,url:p})}}},{key:"closeWebForm",value:function(){var t=this;this.forms=[],setTimeout(function(){t.fetchFormActionItems(),t.getActionItemsForAppointment(),t.selectedForm=void 0,t.selectedFormBlueprint=void 0},2e3)}},{key:"assignOnDemandForm",value:function(){var t,e,n,i=this;this.selectedFormBlueprint&&this._formService.assignOnDemandForm(null===(t=this.selectedFormBlueprint)||void 0===t?void 0:t._id,null===(n=null===(e=this.appointmentDetails)||void 0===e?void 0:e.appointment)||void 0===n?void 0:n.attendeeId,this.appointmentId).subscribe(function(t){var e,n,a,o;i.selectedForm=null==t?void 0:t.data,i.selectedForm.parameters=JSON.parse(null===(e=i.selectedForm)||void 0===e?void 0:e.parameters),(null===(n=i.selectedForm)||void 0===n?void 0:n.scheduledOn)||(i.selectedForm.scheduledOn=new Date(null===(a=i.selectedForm)||void 0===a?void 0:a.scheduledAt).setHours(23)),i._actionItemsService.archiveActionItem(null===(o=i.selectedForm)||void 0===o?void 0:o.id).subscribe(),i.showFormFiller()})}},{key:"viewPlanOfCare",value:function(){var t,e,n,i,a,o,r,c,s,l,u,d,p,b=null===(i=null===(n=null===(e=null===(t=this.patient)||void 0===t?void 0:t.patientState)||void 0===e?void 0:e.episodeState)||void 0===n?void 0:n.activeEpisodes)||void 0===i?void 0:i.filter(function(t){return"CCM"===(null==t?void 0:t.episodeType)});if((null==b?void 0:b.length)||(null===(o=null===(a=this.appointmentDetails)||void 0===a?void 0:a.appointment)||void 0===o?void 0:o.episodeId)){var h=(null===(c=null===(r=this.appointmentDetails)||void 0===r?void 0:r.appointment)||void 0===c?void 0:c.episodeId)||(null===(s=b[0])||void 0===s?void 0:s.id);this._router.navigate(["episodes/plan-of-care/details/".concat(null===(u=null===(l=this.appointmentDetails)||void 0===l?void 0:l.appointment)||void 0===u?void 0:u.attendeeId,"/").concat(h)],{queryParams:{tab:"history",patientName:null===(p=null===(d=this.appointmentDetails)||void 0===d?void 0:d.appointment)||void 0===p?void 0:p.attendeeName}})}}},{key:"viewForm",value:function(t){var e=this;this._formService.getSingleEvalFormByActionItemId(t.id).subscribe(function(t){var n,i;t&&(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n._id)&&e._router.navigate(["form/evalforms/view/".concat(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i._id)])})}},{key:"showCMTHistory",value:function(){var t,e,n,i;this._modalService.create({nzContent:h.a,nzComponentParams:{patientId:null===(e=null===(t=this.appointmentDetails)||void 0===t?void 0:t.appointment)||void 0===e?void 0:e.attendeeId,patientName:null===(i=null===(n=this.appointmentDetails)||void 0===n?void 0:n.appointment)||void 0===i?void 0:i.attendeeName},nzWidth:800,nzStyle:{top:"50px"},nzBodyStyle:{height:"700px",overflowY:"scroll"},nzFooter:null})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(v.Rb(m.g),v.Rb(m.a),v.Rb(r.a),v.Rb(g.a),v.Rb(c.a),v.Rb(s.a),v.Rb(S.b),v.Rb(y.f),v.Rb(a.a),v.Rb(l.a),v.Rb(o.a))},t.\u0275cmp=v.Lb({type:t,selectors:[["app-appointment-details"]],hostBindings:function(t,e){1&t&&v.ec("message",function(t){return e.onMessage(t)},!1,v.Kc)},inputs:{appointmentId:"appointmentId"},decls:31,vars:24,consts:[[1,"container"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","8"],["nz-typography","","nzType","secondary"],["nz-row","",3,"nzGutter",4,"ngIf"],[4,"ngIf"],["nz-col","","nzSpan","8",4,"ngIf"],[3,"nzAddOnBefore"],["nz-input","","nzSize","large","readonly","",3,"value"],["nz-typography",""],["nz-row","","nzGutter","32"],["nzPlaceHolder","Select an assessment form","nzAllowClear","",3,"ngModel","nzOptionHeightPx","ngModelChange"],["nzCustomContent","",3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-col","","nzSpan","2"],["nz-button","","nzType","primary",3,"disabled","click"],["nzCustomContent","",3,"nzLabel","nzValue"],["nz-typography","",3,"nzType"],["nzPlaceHolder","Select an assessment form","nzAllowClear","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","20"],["nz-col","","nzSpan","4"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzSpan","24"],["hideEdit","",3,"note"]],template:function(t,e){1&t&&(v.Xb(0,"div",0),v.Xb(1,"div",1),v.Xb(2,"div",2),v.Xb(3,"label",3),v.Xc(4),v.jc(5,"translate"),v.Wb(),v.Wb(),v.Xb(6,"div",2),v.Xb(7,"label",3),v.Xc(8),v.jc(9,"translate"),v.Wb(),v.Wb(),v.Xb(10,"div",2),v.Xb(11,"label",3),v.Xc(12),v.jc(13,"translate"),v.Wb(),v.Wb(),v.Wb(),v.Xb(14,"div",1),v.Xb(15,"div",2),v.Xb(16,"strong"),v.Xc(17),v.Wb(),v.Wb(),v.Xb(18,"div",2),v.Xb(19,"strong"),v.Xc(20),v.Wb(),v.Wb(),v.Xb(21,"div",2),v.Xb(22,"strong"),v.Xc(23),v.jc(24,"date"),v.Wb(),v.Wb(),v.Wb(),v.Sb(25,"nz-divider"),v.Vc(26,W,6,4,"div",4),v.Vc(27,x,11,4,"ng-container",5),v.Vc(28,F,11,3,"ng-container",5),v.Vc(29,B,5,1,"ng-container",5),v.Vc(30,G,11,1,"ng-container",5),v.Wb()),2&t&&(v.Db(1),v.rc("nzGutter",v.xc(22,Y)),v.Db(3),v.Yc(v.kc(5,13,"TABLEHEADER.ASSIGNEDTO")),v.Db(4),v.Yc(v.kc(9,15,"TABLEHEADER.TITLE")),v.Db(4),v.Yc(v.kc(13,17,"TABLEHEADER.SCHEDULEDON")),v.Db(2),v.rc("nzGutter",v.xc(23,Y)),v.Db(3),v.Yc(null==e.appointmentDetails||null==e.appointmentDetails.appointment?null:e.appointmentDetails.appointment.attenderName),v.Db(3),v.Yc(e.status),v.Db(3),v.Yc(v.lc(24,19,null==e.appointmentDetails||null==e.appointmentDetails.appointment||null==e.appointmentDetails.appointment.schedule?null:e.appointmentDetails.appointment.schedule.startDate,"medium")),v.Db(3),v.rc("ngIf",e.videoCallSession),v.Db(1),v.rc("ngIf","APPROVED"===(null==e.appointmentDetails||null==e.appointmentDetails.appointment?null:e.appointmentDetails.appointment.overallStatus)),v.Db(1),v.rc("ngIf","APPROVED"===(null==e.appointmentDetails||null==e.appointmentDetails.appointment?null:e.appointmentDetails.appointment.overallStatus)),v.Db(1),v.rc("ngIf",null==e.actions?null:e.actions.length),v.Db(1),v.rc("ngIf",e.appointmentNotes))},directives:[T.c,T.a,C.a,E.a,I.q,M.a,A.c,A.b,_.d,D.u,D.x,I.p,z.a,O.a,_.a,k.a,k.b,N.a],pipes:[P.a,I.e,R.a],styles:[".container[_ngcontent-%COMP%]{padding:35px!important}h3[_ngcontent-%COMP%]{font-size:18px}input[_ngcontent-%COMP%]{cursor:default}.actions-container[_ngcontent-%COMP%]{display:inline-flex;width:100%;margin-bottom:25px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.actions[_ngcontent-%COMP%]{font-size:20px;cursor:pointer;margin:0 10px}textarea[_ngcontent-%COMP%]{resize:none}p[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]     .ant-divider-horizontal{margin:35px 0}pre[_ngcontent-%COMP%]{font-size:14px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;font-family:Nunito}.note-footer[_ngcontent-%COMP%]{font-size:13px}"]}),t}()},Dm2S:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("7Xlp"),a=n("fXoL"),r=function(){var t=function(t){o(n,t);var e=c(n);function n(){return u(this,n),e.apply(this,arguments)}return p(n,[{key:"episodeActionEvent",value:function(t,e,n){}},{key:"episodeActionEventAddAndSuspendEpisode",value:function(t,e,n,i){}},{key:"episodeAppointmentsEvent",value:function(t,e,n,i){}},{key:"episodeConsentActionEvent",value:function(t,e,n,i,a){}},{key:"episodeCareplanActionEvent",value:function(t,e,n){}},{key:"episodeCMTActionEvent",value:function(t,e,n){}},{key:"episodeTMSActionEvent",value:function(t,e,n){}}]),n}(i.a);return t.\u0275fac=function(e){return s(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),s=a.Zb(r)},Dwgb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t),this.pattern=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.contactValidate=/^0|[0-9]\d*$/}return p(t,[{key:"getPartnerName",value:function(){return"Any Care"}},{key:"getLocalDate",value:function(t){return new Date(t).toLocaleDateString(window.navigator.language)}},{key:"getTotalCount",value:function(t){return null===t.get("X-Total-Count")||void 0===t.get("X-Total-Count")?t.get("total-count"):t.get("X-Total-Count")}},{key:"checkEmailValaidation",value:function(t){var e=!1;return t.length>0&&this.pattern.test(t)&&(e=!0),e}},{key:"checkContact",value:function(t){var e=!1;return t.length>0&&this.contactValidate.test(t)&&(e=!0),e}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t}()},"FH+g":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("q3Kh"),a=n("AytR"),o=n("fXoL"),r=n("tk/3"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=a.g.url}return p(t,[{key:"createVideoCallSessions",value:function(t){return this._http.post(this.rootUrl+"/v2/video-calls/sessions",JSON.stringify(t),{observe:"response"}).pipe(Object(i.map)(function(t){return 200==t.status?t.body:null}))}},{key:"getIceServers",value:function(t){return this._http.get(this.rootUrl+"/v2/video-calls/sessions/"+t.id+"/ice-candidates")}},{key:"getVideoCallSession",value:function(t){return this._http.get(this.rootUrl+"/v2/video-calls/sessions/"+t)}},{key:"checkVideoSessionStatus",value:function(t,e){return this._http.get(this.rootUrl+"/v2/video-calls/sessions/appointment/"+e+"/status/"+t)}},{key:"getTwilioVideoCallToken",value:function(t,e){return this._http.get(this.rootUrl+"/v2/video-calls/sessions/"+t+"/users/"+e+"/capability-token")}},{key:"disconnectVideoCall",value:function(t){return this._http.put(this.rootUrl+"/v2/video-calls/disconnect/"+t,null)}},{key:"getParticipantDetails",value:function(t){return this._http.get(this.rootUrl+"/v2/video-calls/getParticipants/"+t)}},{key:"getCurrentCallStatus",value:function(t,e,n){return this._http.get(this.rootUrl+"/v2/video-calls/getCurrentCallStatus/"+t+"/caller/"+e+"?callStatus="+n)}},{key:"videocallSessionCheck",value:function(t){return this._http.get(this.rootUrl+"/v2/video-calls/session/check/"+t,{observe:"response"}).pipe(Object(i.map)(function(t){return 200==t.status?200:400}))}},{key:"updateNotification",value:function(t,e,n,a){return this._http.get(this.rootUrl+"/v2/video-calls/update/notification/"+t+"/"+e+"/"+n+"/"+a,{observe:"response"}).pipe(Object(i.map)(function(t){return 200==t.status?200:400}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(r.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"FVa/":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("fXoL"),o=n("tk/3"),r=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=i.g.url}return p(t,[{key:"sendSms",value:function(t){return this.endPoint=this.rootUrl+"/v3/conversation/messages",this._http.post(this.endPoint,t)}},{key:"sendFormSms",value:function(t){return this.endPoint=this.rootUrl+"/v1/forms/send",this._http.post(this.endPoint,t)}},{key:"getConversations",value:function(t,e,n){return this._http.get(this.rootUrl+"/v3/conversation/messages/users/"+t+"?skip="+e+"&limit="+n)}},{key:"markAsRead",value:function(t){return this._http.post(this.rootUrl+"/v3/conversation/messages/read-state",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},FWPb:function(t,e,i){"use strict";i.d(e,"a",function(){return q});var a=i("gXqy"),o=(i("cnAw"),i("OE57")),r=i("Z93s"),c=i("c36b"),s=i("cp0P"),l=i("fXoL"),d=i("dEAy"),b=i("bNXi"),h=i("qAZ0"),g=i("eHCX"),f=i("5vDB"),v=i("B+r4"),m=i("0lU3"),S=i("3Pt+"),y=i("ofXK"),T=i("zAKX"),C=i("mUB+"),E=i("mUTz"),I=i("glKu"),M=i("nJia"),A=i("bE2y"),_=i("OzZK"),D=i("RwU8"),z=i("C2AL"),O=i("ZyQt"),k=i("FwiY"),N=i("dRHE"),P=i("vDSh"),R=i("m3lz"),X=i("ncKW");function L(t,e){1&t&&(l.Xb(0,"nz-tag",22),l.Sb(1,"i",23),l.Xb(2,"span"),l.Xc(3,"Staff is not available at the selected timeslot"),l.Wb(),l.Wb())}function w(t,e){1&t&&(l.Xb(0,"span",29),l.Sb(1,"span",30),l.Xc(2," Primary "),l.Wb())}function W(t,e){if(1&t&&(l.Vb(0),l.Xb(1,"nz-option",25),l.jc(2,"userLocations"),l.Xb(3,"span",26),l.Xb(4,"span",27),l.Xc(5),l.jc(6,"userLocations"),l.Wb(),l.Vc(7,w,3,0,"span",28),l.Wb(),l.Wb(),l.Ub()),2&t){var n=e.$implicit,i=l.ic(2);l.Db(1),l.vc("nzLabel","",null==n?null:n.firstName," ",null==n?null:n.lastName," - ",l.kc(2,8,null==n?null:n.locations),""),l.rc("nzValue",n),l.Db(4),l.bd(" ",null==n?null:n.firstName," ",null==n?null:n.lastName," - ",l.kc(6,10,null==n?null:n.locations)," "),l.Db(2),l.rc("ngIf",i.primaryStaff.has(null==n?null:n.id))}}function V(t,e){if(1&t&&(l.Vb(0),l.Vc(1,W,8,12,"ng-container",24),l.Ub()),2&t){var n=l.ic();l.Db(1),l.rc("ngForOf",n.caretakers)}}function x(t,e){1&t&&(l.Xb(0,"nz-option",31),l.Sb(1,"app-icons",32),l.Xc(2," Loading Data... "),l.Wb())}function U(t,e){if(1&t&&(l.Vb(0),l.Xb(1,"label",34),l.Xc(2),l.Wb(),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.rc("nzValue",null==n?null:n.id),l.Db(1),l.Yc(null==n?null:n.episodeType)}}function F(t,e){if(1&t){var n=l.Yb();l.Xb(0,"div",9),l.Xb(1,"div",10),l.Sb(2,"br"),l.Xb(3,"h4"),l.Xc(4," This patient has following active episode/s, do you want to associate this appointment with any one of them ? "),l.Wb(),l.Xb(5,"p"),l.Xb(6,"nz-radio-group",33),l.ec("ngModelChange",function(t){return l.Lc(n),l.ic().episodeId=t})("ngModelChange",function(){return l.Lc(n),l.ic().episodeIdUpdated()}),l.jc(7,"dateCompare"),l.Vc(8,U,3,2,"ng-container",24),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var i=l.ic();l.rc("nzGutter",24),l.Db(1),l.rc("nzSpan",24),l.Db(5),l.rc("ngModel",i.episodeId)("nzDisabled",!l.lc(7,5,null==i.appointment||null==i.appointment.schedule?null:i.appointment.schedule.startDate,"MONTH")),l.Db(2),l.rc("ngForOf",null==i.patient||null==i.patient.patientState||null==i.patient.patientState.episodeState?null:i.patient.patientState.episodeState.activeEpisodes)}}function H(t,e){if(1&t&&(l.Vb(0),l.Sb(1,"nz-option",37),l.jc(2,"purposeLabel"),l.Ub()),2&t){var n=e.$implicit;l.Db(1),l.sc("nzLabel",l.kc(2,2,n)),l.rc("nzValue",n)}}function B(t,e){1&t&&(l.Xb(0,"nz-option",31),l.Sb(1,"app-icons",32),l.Xc(2," Loading Data... "),l.Wb())}function j(t,e){if(1&t){var n=l.Yb();l.Xb(0,"div",9),l.Xb(1,"div",10),l.Xb(2,"h4"),l.Xc(3," Appointment Type * "),l.Wb(),l.Xb(4,"p"),l.Xb(5,"nz-select",35),l.ec("ngModelChange",function(t){return l.Lc(n),l.ic().appointmentPurpose=t}),l.Vc(6,H,3,4,"ng-container",24),l.Vc(7,B,3,0,"nz-option",36),l.Wb(),l.Wb(),l.Wb(),l.Wb()}if(2&t){var i=l.ic();l.rc("nzGutter",24),l.Db(1),l.rc("nzSpan",8),l.Db(4),l.rc("nzShowSearch",!0)("ngModel",i.appointmentPurpose),l.Db(1),l.rc("ngForOf",i.appointmentPurposeList),l.Db(1),l.rc("ngIf",i.appointmentPurposeLoading)}}var G=function(){return{nzUse12Hours:"false",nzMinuteStep:"5",nzFormat:"h:mm"}},Y=function(t){return{border:t}},q=function(){var t=function(){function t(e,n,i){u(this,t),this._modalRef=e,this._appointmentsService=n,this._notificationsService=i,this.note=new r.a,this.isInputEmpty=!1,this.isInProgress=!1,this.severity="NORMAL",this.appointmentPurposeLoading=!1,this.primaryStaff=new Set,this.loadingCaretakers=!1,this.invalidStaff=!1,this.invalidDate=!1,this.disabledDate=function(t){return Object(a.a)(t,new Date)<0},this.config=c.b}return p(t,[{key:"ngAfterViewInit",value:function(){this.getPatientAndStaffForAppointment(),this.appointment.scheduleHistory=this.appointment.scheduleHistory||[],this.appointment.schedule&&this.appointment.scheduleHistory.push(this.appointment.schedule),this.appointment.notesHistory=this.appointment.notesHistory||[],this.appointment.noteId&&(this.appointment.notesHistory.push(this.appointment.noteId),this.appointment.noteId=null),this.appointmentPurpose=this.appointment.appointmentPurpose,this.originalStartDate=this.appointment.schedule.startDate,this.isLoggedInUserCaretaker="CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")}},{key:"getPatientAndStaffForAppointment",value:function(){var t,e,n=this,i=this._appointmentsService.fetchPatientForAppointment(null===(t=this.appointment)||void 0===t?void 0:t.attendeeId),a=this._appointmentsService.fetchPatientForAppointment(null===(e=this.appointment)||void 0===e?void 0:e.attenderId);Object(s.a)([i,a]).subscribe(function(t){var e=t[0],i=t[1];n.patient=e,e.monitoringStaffs.primaryStaff.forEach(function(t){return n.primaryStaff.add(t)}),e.physicianStaffs.primaryStaff.forEach(function(t){return n.primaryStaff.add(t)}),n.caretakers=[i],n.selectedCaretaker=i,n.originalCaretaker=i,n.searchCaretakers()})}},{key:"onTimeChange",value:function(t){if(this.invalidDate=null==t,!this.invalidDate){var e=new Date(t).getTime();this.appointment.schedule.startDate=e,this.appointment.schedule.endDate=e+18e5,e!=this.originalStartDate&&(this.selectedCaretaker=null),this.searchCaretakers()}}},{key:"validate",value:function(){return!(this.episodeId&&!this.appointmentPurpose&&(this._notificationsService.error("Appointment","Please Select Appointment Type!"),1))}},{key:"rescheduleAppointmentWithNote",value:function(){var t=this;this.validate()&&(this.isInProgress=!0,this.note.content.length>0?(this.note.type="APPOINTMENT",this.note.userId=this.appointment.attendeeId,this.note.caretakerIds=new Array,this.note.caretakerIds.push(this.appointment.attenderId),this.note.priority={level:this.severity},this.note.contextId=this.appointment.id,this.createNoteForAppointment(this.note).subscribe(function(e){t.appointment.noteId=e.id,t.updateAppointmentTime()})):this.updateAppointmentTime())}},{key:"createNoteForAppointment",value:function(t){return this._appointmentsService.createNewNoteForAppointment(t)}},{key:"updateAppointmentTime",value:function(){var t=this;this.appointment.episodeId||(this.appointment.episodeId=this.episodeId,this.appointment.appointmentPurpose=this.appointmentPurpose),this.appointment.overallStatus="APPROVED",this.appointment.attenderId=this.selectedCaretaker.id,this.appointment.attenderName=this.selectedCaretaker.fullName,this._appointmentsService.updateAppointment(this.appointment).subscribe(function(){t._notificationsService.success("Appointment","Appointment Rescheduled Successfully!"),t.isInProgress=!1,t.closeDialog()})}},{key:"onNoteChanged",value:function(t){this.isInputEmpty=0===(null==t?void 0:t.length)}},{key:"setTemplate",value:function(t){this.note.content=t}},{key:"selectLevel",value:function(t){this.severity=t}},{key:"closeDialog",value:function(){this._modalRef.close()}},{key:"episodeIdUpdated",value:function(){var t,e,n,i,a=this;if(this.appointmentPurpose=void 0,null!=this.episodeId){var o=null===(i=null===(n=null===(e=null===(t=this.patient)||void 0===t?void 0:t.patientState)||void 0===e?void 0:e.episodeState)||void 0===n?void 0:n.activeEpisodes)||void 0===i?void 0:i.find(function(t){return t.id===a.episodeId});this.appointmentPurposeLoading=!0,this._appointmentsService.fetchAppointmentPurpose(o.episodeType).subscribe(function(t){a.appointmentPurposeList=t,a.appointmentPurposeLoading=!1})}}},{key:"searchCaretakers",value:function(t){var e,i,a,o,r=this,c=null===(i=null===(e=this.appointment)||void 0===e?void 0:e.schedule)||void 0===i?void 0:i.startDate,s=null===(o=null===(a=this.appointment)||void 0===a?void 0:a.schedule)||void 0===o?void 0:o.endDate;this.loadingCaretakers=!0,this._appointmentsService.fetchAvailableCaretakers(c,s,0,10,t,this.patient.id).subscribe(function(t){var e=-1!=t.findIndex(function(t){return t.id===r.originalCaretaker.id});c!=r.originalStartDate||e||(t=[r.originalCaretaker].concat(n(t))),r.caretakers=t,r.loadingCaretakers=!1,r.invalidStaff=!(e||c==r.originalStartDate),r.isLoggedInUserCaretaker&&(r.selectedCaretaker=t.find(function(t){return t.id===r.originalCaretaker.id}))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(l.Rb(d.e),l.Rb(o.a),l.Rb(b.b))},t.\u0275cmp=l.Lb({type:t,selectors:[["app-rescheduler"]],inputs:{appointment:"appointment"},decls:45,vars:45,consts:[["nzTip","Updating...",3,"nzSpinning"],["nz-typography",""],["nz-row","","nzGutter","16"],["nz-col","","nzFlex","1"],["nzShowTime","true","nzFormat","medium",1,"datetime-picker",3,"ngModel","nzDisabledDate","nzShowTime","nzPlaceHolder","ngModelChange"],["nzColor","error","class","error-tag",4,"ngIf"],["nzSize","large",1,"full-width",3,"nzShowSearch","ngModel","nzServerSearch","nzDisabled","nzPlaceHolder","ngModelChange","nzOnSearch"],[4,"ngIf","ngIfElse"],["staffLoading",""],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[3,"ngModel","ngStyle","placeholder","config","ngModelChange"],["noteEditor",""],["nz-row",""],["nz-col","","nzSpan","8"],[3,"note","onTemplateSelected"],["name","infoCircle","nzTooltipTitle","It is consider as an important note","nzTooltipPlacement","rightBottom","nz-tooltip","",1,"infoCirle"],[3,"ngModel","ngModelChange"],["nz-radio","","nzValue","IMPORTANT"],["nz-radio","","nzValue","NORMAL"],["nz-row","",3,"nzGutter",4,"ngIf"],["nz-button","","nzType","primary",1,"update-button",3,"disabled","click"],["nzColor","error",1,"error-tag"],["nz-icon","","nzType","exclamation-circle"],[4,"ngFor","ngForOf"],["nzCustomContent","",3,"nzLabel","nzValue"],[2,"display","flex"],[2,"width","70%"],["style","width: 30%; text-align: right; color: var(--primary-color);",4,"ngIf"],[2,"width","30%","text-align","right","color","var(--primary-color)"],["nz-icon","","nzType","crown","nzTheme","outline",2,"font-size","14px"],["nzDisabled","","nzCustomContent",""],["name","loading","size","12px"],["nzSize","large",3,"ngModel","nzDisabled","ngModelChange"],["nz-radio","",3,"nzValue"],["xclass","full-width","nzPlaceHolder","Select Type","nzAllowClear","",3,"nzShowSearch","ngModel","ngModelChange"],["nzDisabled","","nzCustomContent","",4,"ngIf"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t&&(l.Xb(0,"nz-spin",0),l.Xb(1,"h4",1),l.Xc(2),l.jc(3,"translate"),l.Wb(),l.Sb(4,"nz-divider"),l.Xb(5,"div",2),l.Xb(6,"div",3),l.Xb(7,"nz-date-picker",4),l.ec("ngModelChange",function(t){return e.appointment.schedule.startDate=t})("ngModelChange",function(t){return e.onTimeChange(t)}),l.jc(8,"translate"),l.Wb(),l.Vc(9,L,4,0,"nz-tag",5),l.Wb(),l.Xb(10,"div",3),l.Xb(11,"nz-select",6),l.ec("ngModelChange",function(t){return e.selectedCaretaker=t})("nzOnSearch",function(t){return e.searchCaretakers(t)}),l.jc(12,"translate"),l.Vc(13,V,2,1,"ng-container",7),l.Vc(14,x,3,0,"ng-template",null,8,l.Wc),l.Wb(),l.Wb(),l.Wb(),l.Sb(16,"br"),l.Xb(17,"div",9),l.Xb(18,"div",10),l.Xb(19,"angular-editor",11,12),l.ec("ngModelChange",function(t){return e.note.content=t})("ngModelChange",function(t){return e.onNoteChanged(t)}),l.jc(21,"translate"),l.Wb(),l.Wb(),l.Wb(),l.Sb(22,"br"),l.Xb(23,"div",13),l.Xb(24,"div",14),l.Xb(25,"app-note-template-picker",15),l.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),l.Wb(),l.Wb(),l.Wb(),l.Sb(26,"br"),l.Xb(27,"p"),l.Xc(28),l.jc(29,"translate"),l.Sb(30,"app-icons",16),l.Wb(),l.Xb(31,"nz-radio-group",17),l.ec("ngModelChange",function(t){return e.severity=t})("ngModelChange",function(t){return e.selectLevel(t)}),l.Xb(32,"label",18),l.Xc(33,"Yes"),l.Wb(),l.Xb(34,"label",19),l.Xc(35,"No"),l.Wb(),l.Wb(),l.Sb(36,"br"),l.Vc(37,F,9,8,"div",20),l.Sb(38,"br"),l.Vc(39,j,8,6,"div",20),l.jc(40,"dateCompare"),l.Sb(41,"br"),l.Xb(42,"button",21),l.ec("click",function(){return e.rescheduleAppointmentWithNote()}),l.Xc(43),l.jc(44,"translate"),l.Wb(),l.Wb()),2&t){var n=l.Ic(15);l.rc("nzSpinning",e.isInProgress),l.Db(2),l.Yc(l.kc(3,27,"APPOINTMENT.RESCHEDULE_HEADER")),l.Db(5),l.sc("nzPlaceHolder",l.kc(8,29,"COMMON.CHOOSE_DATE")),l.rc("ngModel",e.appointment.schedule.startDate)("nzDisabledDate",e.disabledDate)("nzShowTime",l.xc(42,G)),l.Db(2),l.rc("ngIf",e.invalidStaff),l.Db(2),l.tc("nzPlaceHolder"," ",l.kc(12,31,"COMMON.AVAILABLE_CLINICIANS")," "),l.rc("nzShowSearch",!0)("ngModel",e.selectedCaretaker)("nzServerSearch",!0)("nzDisabled",e.isLoggedInUserCaretaker||!(null!=e.appointment&&null!=e.appointment.schedule&&e.appointment.schedule.startDate)),l.Db(2),l.rc("ngIf",!e.loadingCaretakers)("ngIfElse",n),l.Db(4),l.rc("nzGutter",16),l.Db(1),l.rc("nzSpan",24),l.Db(1),l.sc("placeholder",l.kc(21,33,"COMMON.ENTER_NOTES")),l.rc("ngModel",e.note.content)("ngStyle",l.yc(43,Y,e.isInputEmpty?"1px solid red":""))("config",e.config),l.Db(6),l.rc("note",e.note.content),l.Db(3),l.Zc(" ",l.kc(29,35,"MAKE_IMPORTANT_NOTES")," "),l.Db(3),l.rc("ngModel",e.severity),l.Db(6),l.rc("ngIf",!(null!=e.appointment&&e.appointment.episodeId)&&(null==e.patient||null==e.patient.patientState||null==e.patient.patientState.episodeState?null:e.patient.patientState.episodeState.activeEpisodes)),l.Db(2),l.rc("ngIf",l.lc(40,37,e.episodeId&&(null==e.appointment||null==e.appointment.schedule?null:e.appointment.schedule.startDate),"MONTH")),l.Db(3),l.rc("disabled",e.invalidStaff||!e.selectedCaretaker||e.invalidDate),l.Db(1),l.Zc(" ",l.kc(44,40,"COMMON.UPDATE"),"")}},directives:[h.a,g.a,f.a,v.c,v.a,m.a,S.u,S.x,y.q,T.d,C.a,y.r,E.a,I.a,M.d,A.c,A.b,_.a,D.a,z.a,O.a,k.a,y.p,T.a],pipes:[N.a,P.a,R.a,X.a],styles:[".update-button[_ngcontent-%COMP%]{margin-left:90%;width:10%}.datetime-picker[_ngcontent-%COMP%]{border:1px solid #5bbd71;border-radius:5px;height:40px}.infoCirle[_ngcontent-%COMP%]{position:relative;vertical-align:text-top;left:14px}.notes-container[_ngcontent-%COMP%]{margin:1%;padding:2%;border-radius:5px;border:1px solid #d3d3d3}#add-note-container[_ngcontent-%COMP%]{width:95%}.error-tag[_ngcontent-%COMP%]{width:100%;margin:8px 0}"]}),t}()},FYUs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.VERY_HIGH="VERY_HIGH",t.HIGH="HIGH",t.MEDIUM="MEDIUM",t.LOW="LOW",t.VERY_LOW="VERY_LOW",t}({})},FrsH:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.FORM_ALERT="FORM_ALERT",t.VITAL_LIMIT_CROSSED="VITAL_LIMIT_CROSSED",t.TODO_TASK_SKIPPED="TODO_TASK_SKIPPED",t.CAREPLAN_ASSIGNED="CAREPLAN_ASSIGNED",t.CONSENT_SUBMITTED="CONSENT_SUBMITTED",t.PRIORITISED="PRIORITISED",t.FORM_SUBMITTED="FORM_SUBMITTED",t.VITAL_LIMIT_LOW="VITAL_LIMIT_LOW",t.PENDING_PATIENT_COMMUNICATION="PENDING_PATIENT_COMMUNICATION",t.HEALTH_SCORE_DECREASED="HEALTH_SCORE_DECREASED",t.EPISODE_COMPLETED="EPISODE_COMPLETED",t.RESPONSE_REQUIRED="RESPONSE_REQUIRED",t.ACKNOWLEDGEMENT_RECEIVED="ACKNOWLEDGEMENT_RECEIVED",t.VITAL_ADDED="VITAL_ADDED",t.HEALTH_SCORE_BASE_VALUE="HEALTH_SCORE_BASE_VALUE",t.VITAL_LIMIT_HIGH="VITAL_LIMIT_HIGH",t.NA="NA",t}({})},GKSl:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("fXoL"),a=n("B+r4"),o=n("OzZK"),r=n("RwU8"),c=n("C2AL"),s=n("dRHE"),l=function(){var t=function(){function t(){u(this,t),this.showHistory=new i.n,this.save=new i.n}return p(t,[{key:"emitShowHistoryEvent",value:function(){this.showHistory.emit()}},{key:"emitSaveEvent",value:function(){this.save.emit()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-footer-actions"]],inputs:{loading:["loadingState","loading"],validated:["validationState","validated"],compact:"compact",roundedButtons:"roundedButtons"},outputs:{showHistory:"showHistory",save:"save"},decls:9,vars:17,consts:[["nz-row","","nzGutter","16"],["nz-col","",3,"nzSpan","nzOffset"],["nz-button","","nzType","default","nzShape","round",3,"nzSize","click"],["nz-col","",3,"nzSpan"],["nz-button","","nzType","primary","nzShape","round",3,"nzLoading","nzSize","disabled","click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"button",2),i.ec("click",function(){return e.emitShowHistoryEvent()}),i.Xc(3),i.jc(4,"translate"),i.Wb(),i.Wb(),i.Xb(5,"div",3),i.Xb(6,"button",4),i.ec("click",function(){return e.emitSaveEvent()}),i.Xc(7),i.jc(8,"translate"),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Db(1),i.rc("nzSpan",e.compact?8:12)("nzOffset",e.compact?4:0),i.Db(1),i.Jb("button-rounded-corner",e.roundedButtons),i.rc("nzSize","large"),i.Db(1),i.Zc(" ",i.kc(4,13,"TMS.VIEW_HISTORY")," "),i.Db(2),i.rc("nzSpan",e.compact?8:12),i.Db(1),i.Jb("button-rounded-corner",e.roundedButtons),i.rc("nzLoading",e.loading)("nzSize","large")("disabled",!e.validated),i.Db(1),i.Zc(" ",i.kc(8,15,"TMS.SAVE")," "))},directives:[a.c,a.a,o.a,r.a,c.a],pipes:[s.a],styles:["button[_ngcontent-%COMP%]{width:100%;font-size:12px!important}.button-rounded-corner[_ngcontent-%COMP%]{border-radius:8px!important}"]}),t}()},GMnC:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.RPM="RPM",t.CCM="CCM",t.TOC="TOC",t.HHA="HHA",t.GENERAL="GENERAL",t.BHI="BHI",t}({})},GSAy:function(t,e,i){"use strict";i.d(e,"a",function(){return st});var a=i("WoUL"),r=i("V1/G"),s=i("IOC6"),l=i("xnfs"),d=i("0EQZ"),b=i("7RJT"),h=i("zB/H"),g=i("AytR"),f=function(t){o(i,t);var e=c(i);function i(t){var n;return u(this,i),(n=e.call(this)).http=t,n.length=10,n.pageSize=7,n.cachedData=Array.from({length:n.length}),n.fetchedPages=new Set,n.dataStream=new b.BehaviorSubject(n.cachedData),n.subscription=new h.Subscription,n.rootUrl=g.g.url,n.tags=null,n}return p(i,[{key:"connect",value:function(t){var e=this;return this.subscription.add(t.viewChange.subscribe(function(t){for(var n=e.getPageForIndex(t.start),i=e.getPageForIndex(t.end-1),a=n;a<=i;a++)e.fetchPage(a)})),this.dataStream}},{key:"disconnect",value:function(){this.dataStream.unsubscribe(),this.subscription.unsubscribe()}},{key:"getPageForIndex",value:function(t){return Math.ceil(t/this.pageSize)}},{key:"fetchPage",value:function(t){var e=this;this.fetchedPages.has(t)||(this.fetchedPages.add(t),this.endPoint=this.rootUrl+"/v3/sms-template/?limit="+this.pageSize+"&offset="+t+"&tags="+this.tags,this.http.get(this.endPoint).subscribe(function(i){var a;(a=e.cachedData).splice.apply(a,[t*e.pageSize,e.pageSize].concat(n(i.result))),e.cachedData=e.cachedData.filter(function(t){return null!=t}),e.length=i.totalCount,e.dataStream.next(e.cachedData)}))}}]),i}(d.b),v=i("FVa/"),m=i("pe0G"),S=i("KCkQ"),y=i("igu/"),T=i("6i1W"),C=i("fXoL"),E=i("tk/3"),I=i("dEAy"),M=i("bNXi"),A=i("5+WD"),_=i("ofXK"),D=i("JA5x"),z=i("B+r4"),O=i("bE2y"),k=i("3Pt+"),N=i("zAKX"),P=i("PTRe"),R=i("vxfF"),X=i("Ff2k"),L=i("OzZK"),w=i("RwU8"),W=i("C2AL"),V=i("glKu"),x=i("Beax"),U=i("qAZ0"),F=i("OtHt"),H=i("dRHE");function B(t,e){1&t&&(C.Xb(0,"p"),C.Xc(1),C.jc(2,"translate"),C.Wb()),2&t&&(C.Db(1),C.Zc(" ",C.kc(2,1,"NO_FILTERS_APPLIED")," "))}function j(t,e){if(1&t&&(C.Xb(0,"div",3),C.Xb(1,"div",20),C.Xb(2,"nz-card",21),C.Xb(3,"div",20),C.Xb(4,"span",22),C.Sb(5,"app-icons",23),C.Wb(),C.Xb(6,"span",24),C.Xb(7,"strong"),C.Xc(8),C.jc(9,"translate"),C.Wb(),C.Wb(),C.Sb(10,"br"),C.Wb(),C.Xb(11,"div",25),C.Sb(12,"app-filter-desc",26),C.Vc(13,B,3,3,"p",14),C.Wb(),C.Wb(),C.Wb(),C.Wb()),2&t){var n=C.ic();C.Db(8),C.Yc(C.kc(9,3,"SMS.APPLIED_FILTERS")),C.Db(4),C.rc("smsScreen",n.smsScreen),C.Db(1),C.rc("ngIf",0===n.noOfFiltersApplied)}}function G(t,e){if(1&t&&C.Sb(0,"nz-option",27),2&t){var n=e.$implicit;C.rc("nzLabel",n.label)("nzValue",n.value)}}function Y(t,e){1&t&&C.Xc(0),2&t&&C.Zc(" and ",e.$implicit.length," more selected ")}function q(t,e){1&t&&C.Sb(0,"nz-spin",31)}function Z(t,e){if(1&t&&C.Sb(0,"nz-option",27),2&t){var n=e.$implicit;C.rc("nzLabel",n.title)("nzValue",n)}}function Q(t,e){if(1&t){var n=C.Yb();C.Xb(0,"div",32),C.Xb(1,"nz-select",33),C.ec("ngModelChange",function(t){return C.Lc(n),C.ic(2).selectedForm=t})("ngModelChange",function(t){return C.Lc(n),C.ic(2).selectForm(t)}),C.jc(2,"translate"),C.Vc(3,Z,1,2,"nz-option",10),C.Wb(),C.Wb()}if(2&t){var i=C.ic(2),a=C.Ic(31);C.Db(1),C.sc("nzPlaceHolder",C.kc(2,5,"FORM.SELECT_FORM")),C.rc("nzMaxTagCount",1)("nzMaxTagPlaceholder",a)("ngModel",i.selectedForm),C.Db(2),C.rc("ngForOf",i.forms)}}function K(t,e){if(1&t&&(C.Xb(0,"div",28),C.Xb(1,"strong",5),C.Xc(2),C.jc(3,"translate"),C.Wb(),C.Sb(4,"br"),C.Sb(5,"br"),C.Vc(6,q,1,0,"nz-spin",29),C.Vc(7,Q,4,7,"div",30),C.Wb()),2&t){var n=C.ic();C.Db(2),C.Yc(C.kc(3,3,"FORM.SELECT_FORM")),C.Db(4),C.rc("ngIf",n.loading),C.Db(1),C.rc("ngIf",!n.loading)}}function J(t,e){1&t&&(C.Xb(0,"div"),C.Xb(1,"div",34),C.Xc(2),C.jc(3,"translate"),C.Wb(),C.Wb()),2&t&&(C.Db(2),C.Zc("*",C.kc(3,1,"COMMON.REQUIRED"),""))}var $=function(){return{rows:1}};function tt(t,e){1&t&&C.Sb(0,"nz-skeleton",37),2&t&&C.rc("nzParagraph",C.xc(1,$))}function et(t,e){if(1&t){var n=C.Yb();C.Xb(0,"a",41),C.ec("click",function(){C.Lc(n);var t=C.ic(3).$implicit;return C.ic().selectTemplate(t.template)}),C.Xc(1),C.Wb()}if(2&t){var i=C.ic(3).$implicit;C.Db(1),C.Zc(" ",i.template," ")}}function nt(t,e){if(1&t){var n=C.Yb();C.Xb(0,"a",41),C.ec("click",function(){C.Lc(n);var t=C.ic(3).$implicit;return C.ic().selectTemplate(t.template)}),C.Xc(1),C.Wb()}if(2&t){var i=C.ic(3).$implicit;C.Db(1),C.Zc(" ",i.title," ")}}function it(t,e){if(1&t&&(C.Vc(0,et,2,1,"a",40),C.Vc(1,nt,2,1,"a",40)),2&t){var n=C.ic(2).$implicit;C.rc("ngIf",null==n.title),C.Db(1),C.rc("ngIf",null!=n.title)}}function at(t,e){if(1&t&&(C.Xb(0,"nz-list-item-meta",38),C.Vc(1,it,2,2,"ng-template",null,39,C.Wc),C.Wb()),2&t){var n=C.Ic(2);C.rc("nzTitle",n)}}function ot(t,e){if(1&t&&(C.Xb(0,"nz-list-item"),C.Vc(1,tt,1,2,"nz-skeleton",35),C.Vc(2,at,3,1,"nz-list-item-meta",36),C.Wb()),2&t){var n=e.$implicit;C.Db(1),C.rc("ngIf",!n),C.Db(1),C.rc("ngIf",n)}}var rt,ct=function(t){return{border:t}},st=((rt=function(){function t(e,i,a,o,r,c,s,l){var d,p=this;u(this,t),this.http=e,this.smsService=i,this._formsService=a,this._dataSharingService=o,this._modalRef=r,this.smsTemplateService=c,this.notificationService=s,this.translationService=l,this.dateRange=[],this.smsLink="",this.showFilter=!0,this.showForms=!1,this.noOfFiltersApplied=0,this.usePrimaryNumber=!0,this.smsScreen=!0,this.message="",this.isValidMessage=!0,this.listOfOption=[],this.listOfSelectedValue=[],this.saveTemplateBtnLoading=!1,this.sendMessageBtnLoading=!1,this.allPatientIds=new Array,this.strings=["SMS.SMS_TEMPLATE","SMS.MESSAGE","SMS.MESSAGE_SENT","SMS.PLEASE_ENTER_TEXT","SMS.TEMPLATE_ALREADY_PRESENT","SMS.SMS_TEMPLATE_SAVED","SMS.MESSAGE_SENT_SUCCESSFULLY","TABLEHEADER.RESIDENT","SMS.PLEASE_ADD_RECEPIENT","SMS.MESSAGE_SENT_SUCCESSFULLY_TO_MULTIPLE","FORM.SELECT_FORM"],this.featureConfigs=new S.a,this.smsSent=!1,this.$translationSubscription=(d=this.translationService).getMultiple.apply(d,n(this.strings)).subscribe(function(t){p.translatedStrings=t})}return p(t,[{key:"ngOnDestroy",value:function(){this.$translationSubscription.unsubscribe(),this.templates.disconnect()}},{key:"ngOnInit",value:function(){this.radioValue="ALL",this.initFeatureConfigs(),this.initTemplates(),this.initPatients(),this.initAllPatientsAsRecepients()}},{key:"initFeatureConfigs",value:function(){var t=this;this.$featureConfigsObserver=this._dataSharingService.featureConfigs.subscribe(function(e){e&&(t.featureConfigs=e,t.showForms=e.formsEnabled,t.showForms&&t.getForms())})}},{key:"initAllPatientsAsRecepients",value:function(){this.listOfSelectedValue=this.allPatientIds}},{key:"initTemplates",value:function(){this.templates=new f(this.http)}},{key:"initPatients",value:function(){var t,e,n=this,i=[];null===(e=null===(t=this.patientList)||void 0===t?void 0:t.filter(function(t){var e,n;return!!(null===(n=null===(e=null==t?void 0:t.phoneNumbers)||void 0===e?void 0:e.filter(function(t){var e;return(null==t?void 0:t.preferred)&&(null===(e=null==t?void 0:t.notificationConfig[T.b.SMS])||void 0===e?void 0:e.enabled)}))||void 0===n?void 0:n.length)}))||void 0===e||e.forEach(function(t){i.push({label:t.name,value:t.id}),n.allPatientIds.push(t.id)}),this.listOfOption=[].concat(i)}},{key:"getForms",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this._formsService.getFormsWithBody({phq9:this.featureConfigs.phq9,gad7:this.featureConfigs.gad7,ri:this.featureConfigs.ri,covid:this.featureConfigs.covid,feveriq:this.featureConfigs.feverIq},e-1,10,"").subscribe(function(e){t.forms=e.data.forms.obj,t.loading=!1})}},{key:"selectForm",value:function(t){this.selectedForm=t}},{key:"selectTemplate",value:function(t){this.saveTemplateBtnLoading=!1,this.sendMessageBtnLoading=!1,this.message=t+"\n"+this.smsLink}},{key:"validateSms",value:function(){var t=!0;return 0===this.message.length&&(t=!1),0==this.listOfSelectedValue.length&&(t=!1),this.isValidMessage=t,t}},{key:"sendSms",value:function(){if(this.sendMessageBtnLoading=!0,this.validateSms()){var t=new l.a;t.message=this.message,t.toUsers=this.listOfSelectedValue,t.fromUser=localStorage.getItem("loggedInUser"),t.usePrimaryNumber=this.usePrimaryNumber,null!=this.selectedForm?this.sendFormSMS(t):this.sendSMS(t),this.smsResponse={smsSent:!0,message:this.message,createdOn:new Date,status:"SENT",read:!0}}else this.sendMessageBtnLoading=!1}},{key:"sendFormSMS",value:function(t){var e=this,n=new Map;n.formBlueprintId=this.selectedForm._id,n.formType=this.selectedForm.type,t.messageParameters=n,t.usePrimaryNumber=this.usePrimaryNumber,this.smsService.sendFormSms(t).subscribe(function(t){var n;e.sendMessageBtnLoading=!1,n=1==e.listOfSelectedValue.length?e.translatedStrings.get("SMS.MESSAGE_SENT_SUCCESSFULLY"):e.translatedStrings.get("SMS.MESSAGE_SENT_SUCCESSFULLY_TO_MULTIPLE").replace("{COUNT}",e.listOfSelectedValue.length.toString()),e.notificationService.success(e.translatedStrings.get("SMS.MESSAGE_SENT"),n),e._modalRef.close(e.smsResponse)})}},{key:"sendSMS",value:function(t){var e=this;this.smsService.sendSms(t).subscribe(function(t){var n;e.sendMessageBtnLoading=!1,n=1==e.listOfSelectedValue.length?e.translatedStrings.get("SMS.MESSAGE_SENT_SUCCESSFULLY"):e.translatedStrings.get("SMS.MESSAGE_SENT_SUCCESSFULLY_TO_MULTIPLE").replace("{COUNT}",e.listOfSelectedValue.length.toString()),e.notificationService.success(e.translatedStrings.get("SMS.MESSAGE_SENT"),n),e._modalRef.close(e.smsResponse)})}},{key:"saveTemplate",value:function(){var t=this;this.saveTemplateBtnLoading=!0;var e=new r.a;e.template=this.message,this.smsTemplateService.validateTemplate(e).subscribe(function(n){t.smsTemplateService.saveTemplate(e).subscribe(function(){t.initTemplates(),t.saveTemplateBtnLoading=!1,t.notificationService.success(t.translatedStrings.get("SMS.SMS_TEMPLATE"),t.translatedStrings.get("SMS.SMS_TEMPLATE_SAVED"))})},function(e){return t.notificationService.error(t.translatedStrings.get("SMS.SMS_TEMPLATE"),t.translatedStrings.get("SMS.TEMPLATE_ALREADY_PRESENT"))})}},{key:"onRadioChange",value:function(t){"ALL"==t?this.initAllPatientsAsRecepients():this.listOfSelectedValue=[]}},{key:"onChange",value:function(){this.saveTemplateBtnLoading=!1,this.sendMessageBtnLoading=!1}}]),t}()).\u0275fac=function(t){return new(t||rt)(C.Rb(E.c),C.Rb(v.a),C.Rb(m.a),C.Rb(y.a),C.Rb(I.e),C.Rb(s.a),C.Rb(M.b),C.Rb(a.a))},rt.\u0275cmp=C.Lb({type:rt,selectors:[["app-sms"]],inputs:{episodeType:"episodeType",dateRange:"dateRange",smsLink:"smsLink",patientList:"patientList",showFilter:"showFilter",showForms:"showForms",noOfFiltersApplied:"noOfFiltersApplied",usePrimaryNumber:"usePrimaryNumber"},decls:62,vars:44,consts:[["cdkDrag","","cdkDragRootElement",".ant-modal-content"],["id","title","cdkDragHandle",""],["nz-row","","nzGutter","16",4,"ngIf"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],[1,"header"],[3,"ngModel","ngModelChange"],["nz-radio","","nzValue","ALL"],["nz-radio","","nzValue","CUSTOM"],["id","patient-select","nzMode","multiple",3,"nzMaxTagCount","nzMaxTagPlaceholder","nzPlaceHolder","nzDisabled","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["tagPlaceHolder",""],["nzSpan","12",4,"ngIf"],["rows","2","nz-input","","placeholder","Type here...","required","",1,"message-textarea",3,"ngStyle","ngModel","ngModelChange"],[4,"ngIf"],[1,"message-count"],["itemSize","73",1,"demo-infinite-container"],[4,"cdkVirtualFor","cdkVirtualForOf"],["nz-col","","nzSpan","24",1,"centerize"],["nz-button","","nzType","primary",3,"nzSize","disabled","click"],["nz-col","","nzSpan","24"],[1,"filter-card"],[1,"info-icon-applied-filter"],["name","infoCircle"],[1,"filter-header"],["nz-col","","nzSpan","24",1,"filter-tag-div"],[3,"smsScreen"],[3,"nzLabel","nzValue"],["nzSpan","12"],["class","spinner","nzSimple","",4,"ngIf"],["class","form-list",4,"ngIf"],["nzSimple","",1,"spinner"],[1,"form-list"],["id","patient-select",3,"nzMaxTagCount","nzMaxTagPlaceholder","nzPlaceHolder","ngModel","ngModelChange"],[1,"required-text"],[3,"nzParagraph",4,"ngIf"],[3,"nzTitle",4,"ngIf"],[3,"nzParagraph"],[3,"nzTitle"],["nzTitle",""],["class","template",3,"click",4,"ngIf"],[1,"template",3,"click"]],template:function(t,e){if(1&t&&(C.Xb(0,"div",0),C.Xb(1,"strong",1),C.Xc(2),C.jc(3,"translate"),C.Wb(),C.Sb(4,"br"),C.Sb(5,"br"),C.Xb(6,"strong"),C.Xc(7," Patients who have opted out of receiving communication via SMS and who haven\u2019t provided a mobile number as their preferred number are excluded in all of the filters below. "),C.Wb(),C.Vc(8,j,14,5,"div",2),C.Sb(9,"br"),C.Xb(10,"nz-card"),C.Xb(11,"div",3),C.Xb(12,"div",4),C.Xb(13,"strong",5),C.Xc(14),C.jc(15,"translate"),C.Wb(),C.Sb(16,"br"),C.Sb(17,"br"),C.Xb(18,"nz-radio-group",6),C.ec("ngModelChange",function(t){return e.radioValue=t})("ngModelChange",function(t){return e.onRadioChange(t)}),C.Xb(19,"label",7),C.Xc(20),C.jc(21,"translate"),C.Wb(),C.Xb(22,"label",8),C.Xc(23),C.jc(24,"translate"),C.Wb(),C.Wb(),C.Sb(25,"br"),C.Sb(26,"br"),C.Xb(27,"nz-select",9),C.ec("ngModelChange",function(t){return e.listOfSelectedValue=t}),C.jc(28,"translate"),C.Vc(29,G,1,2,"nz-option",10),C.Wb(),C.Vc(30,Y,1,1,"ng-template",null,11,C.Wc),C.Sb(32,"br"),C.Sb(33,"br"),C.Vc(34,K,8,5,"div",12),C.Sb(35,"br"),C.Sb(36,"br"),C.Xb(37,"strong",5),C.Xc(38),C.jc(39,"translate"),C.Wb(),C.Sb(40,"br"),C.Xb(41,"textarea",13),C.ec("ngModelChange",function(t){return e.message=t})("ngModelChange",function(){return e.onChange()}),C.Wb(),C.Vc(42,J,4,3,"div",14),C.Xb(43,"label",15),C.Xb(44,"em"),C.Xc(45),C.jc(46,"translate"),C.Wb(),C.Wb(),C.Wb(),C.Xb(47,"div",4),C.Xb(48,"strong",5),C.Xc(49),C.jc(50,"translate"),C.Wb(),C.Sb(51,"br"),C.Sb(52,"br"),C.Xb(53,"cdk-virtual-scroll-viewport",16),C.Xb(54,"nz-list"),C.Vc(55,ot,3,2,"nz-list-item",17),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Wb(),C.Sb(56,"br"),C.Xb(57,"div",3),C.Xb(58,"div",18),C.Xb(59,"button",19),C.ec("click",function(){return e.sendSms()}),C.Xc(60),C.jc(61,"translate"),C.Wb(),C.Wb(),C.Wb(),C.Wb()),2&t){var n=C.Ic(31);C.Db(2),C.Zc(" ",C.kc(3,24,"SMS.SEND_SMS")," "),C.Db(6),C.rc("ngIf",e.showFilter),C.Db(6),C.Yc(C.kc(15,26,"SMS.SELECT_PATIENTS")),C.Db(4),C.rc("ngModel",e.radioValue),C.Db(2),C.Zc(" ",C.kc(21,28,"HEADER.ALL")," "),C.Db(3),C.Zc(" ",C.kc(24,30,"CUSTOM")," "),C.Db(4),C.sc("nzPlaceHolder",C.kc(28,32,"SMS.SELECT_PATIENTS")),C.rc("nzMaxTagCount",3)("nzMaxTagPlaceholder",n)("nzDisabled","ALL"==e.radioValue)("ngModel",e.listOfSelectedValue),C.Db(2),C.rc("ngForOf",e.listOfOption),C.Db(5),C.rc("ngIf",e.showForms),C.Db(4),C.Yc(C.kc(39,34,"COMMON.MESSAGE")),C.Db(3),C.rc("ngStyle",C.yc(42,ct,e.isValidMessage||0!==(null==e.message?null:e.message.length)?"":"1px solid red"))("ngModel",e.message),C.Db(1),C.rc("ngIf",!e.isValidMessage&&0==(null==e.message?null:e.message.length)),C.Db(3),C.ad("",e.message.length," ",C.kc(46,36,"SMS.CHARACTERS"),""),C.Db(4),C.Zc(" ",C.kc(50,38,"SMS.CHOOSE_FROM_TEMPLATE")," "),C.Db(6),C.rc("cdkVirtualForOf",e.templates),C.Db(4),C.rc("nzSize","medium")("disabled",0==(null==e.listOfSelectedValue?null:e.listOfSelectedValue.length)||e.sendMessageBtnLoading),C.Db(1),C.Zc(" ",C.kc(61,40,"SMS.SEND_SMS")," ")}},directives:[A.a,A.b,_.q,D.a,z.c,z.a,O.c,k.u,k.x,O.b,N.d,_.p,P.b,k.d,k.C,_.r,R.d,R.a,X.a,R.c,L.a,w.a,W.a,V.a,x.a,N.a,U.a,X.e,F.a,X.f],pipes:[H.a],styles:["[_nghost-%COMP%]     .ant-modal-content{background-color:#eff2f0 0 0 no-repeat padding-box}#title[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color);cursor:move}.centerize[_ngcontent-%COMP%]{text-align:center}.filter-card[_ngcontent-%COMP%]{margin:15px;border-radius:10px;vertical-align:bottom}.required-text[_ngcontent-%COMP%]{color:#ff2e2e;float:left;position:absolute}.ant-tag[_ngcontent-%COMP%]{font-size:10px}.filter-tag-div[_ngcontent-%COMP%], .forms-tag-div[_ngcontent-%COMP%]{margin-top:10px}.filter-header[_ngcontent-%COMP%]{font:normal normal normal 12px/21px Nunito;letter-spacing:0;color:var(--primary-color);opacity:1;vertical-align:top}.message-textarea[_ngcontent-%COMP%]{background:#fbfbfb 0 0 no-repeat padding-box;border:1px solid var(--grey);border-radius:5px;opacity:1;width:100%;min-height:132px;max-height:132px;padding:10px;resize:none}.demo-infinite-container[_ngcontent-%COMP%]{height:300px;border:1px solid var(--grey);border-radius:4px}nz-list[_ngcontent-%COMP%]{padding:14px 20px}.template[_ngcontent-%COMP%]{text-align:justify;font:normal normal normal 11px/15px Nunito;letter-spacing:0;color:var(--light-black);opacity:1}.message-count[_ngcontent-%COMP%]{float:right;margin-top:4px}.header[_ngcontent-%COMP%]{color:var(--primary-color);font:normal normal normal 12px/21px Nunito}#patient-select[_ngcontent-%COMP%]{width:100%;background:#fbfbfb 0 0 no-repeat padding-box;border:1px solid var(--grey);border-radius:5px;opacity:1}[_nghost-%COMP%]     .cdk-virtual-scroll-spacer{height:-webkit-fit-content!important;height:-moz-fit-content!important;height:fit-content!important}"]}),rt)},Gskk:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("tk/3"),a=n("lJxs"),o=n("SxV6"),r=n("AytR"),c=n("fXoL"),s=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=r.g.url}return p(t,[{key:"getEpisodes",value:function(t,e,n,i,a){return this.endPoint=this.rootUrl+"/v2/episodes/active/patients/"+t+"?offset="+n+"&limit="+e,i&&(this.endPoint=this.endPoint+"&blueprintId="+i),a&&(this.endPoint=this.endPoint+"&episodeStatus="+a.join()),this._http.get(this.endPoint)}},{key:"saveEpisode",value:function(t){return this.endPoint=this.rootUrl+"/v2/episodes",this._http.post(this.endPoint,t)}},{key:"triggerFormActionItem",value:function(t,e){return this.endPoint=this.rootUrl+"/v2/actions/generate/patient-consent/actionitem/"+t+"?episodeType="+e,this._http.get(this.endPoint,{observe:"response"}).pipe(Object(a.a)(function(t){return 200==t.status?{status:t.status,consentUrl:t.body.url}:{status:t.status,consentUrl:null}}))}},{key:"updateEpisode",value:function(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/edit",this._http.put(this.endPoint,e)}},{key:"saveCallDetails",value:function(t){return this.endPoint=this.rootUrl+"/v2/episodes/patient-communications",this._http.post(this.endPoint,t,{observe:"response"})}},{key:"savePatientCommunication",value:function(t){return this.endPoint=this.rootUrl+"/v3/episodes/patient-communications",this._http.post(this.endPoint,t)}},{key:"updatePatientCommunication",value:function(t){return this.endPoint=this.rootUrl+"/v3/episodes/patient-communications",this._http.put(this.endPoint,t)}},{key:"archivePatientCommunication",value:function(t){return this.endPoint="".concat(this.rootUrl,"/v3/episodes/patient-communications/").concat(t),this._http.delete(this.endPoint)}},{key:"validateStartEndTime",value:function(t,e,n,i){return this.endPoint=this.rootUrl+"/v2/episodes/patientCommunication/validate/datetime/"+t+"?startTime="+e+"&endTime="+n,i&&(this.endPoint=this.endPoint+"&id="+i),this._http.get(this.endPoint)}},{key:"getCallDetails",value:function(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/"+e+"/patient-communications/"+t,this._http.get(this.endPoint)}},{key:"getPatientCommunications",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"TMS";return this.endPoint=this.rootUrl+"/v2/episodes/patient-communications/"+t+"?communicationType="+i,e&&n&&(this.endPoint=this.endPoint+"&startDate="+e+"&endDate="+n),this._http.get(this.endPoint)}},{key:"getEpisodeById",value:function(t){return this.endPoint=this.rootUrl+"/v2/episodes/"+t,this._http.get(this.endPoint)}},{key:"getEpisodeHistory",value:function(t){return this.endPoint=this.rootUrl+"/v2/episodes/patients/"+t+"/timeline",this._http.get(this.endPoint)}},{key:"deleteEpisode",value:function(t){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/delete",this._http.delete(this.endPoint)}},{key:"suspendEpisode",value:function(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/"+t,this._http.post(this.endPoint,e)}},{key:"repeatEpisode",value:function(t){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/repeat-episode",this._http.post(this.endPoint,{})}},{key:"bulkRepeatEpisodes",value:function(t){return this.endPoint=this.rootUrl+"/v2/episodes/repeat-episode-bulk?episodeType="+t,this._http.get(this.endPoint)}},{key:"saveEducationTask",value:function(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/education-tasks",this._http.post(this.endPoint,e)}},{key:"getDevices",value:function(){return this.endPoint=this.rootUrl+"/v3/device-specifications",this._http.get(this.endPoint)}},{key:"getTMSPercentage",value:function(t,e,n){return this.endPoint=this.rootUrl+"/v2/episodes/patient/"+e+"/episode/"+t+"/progress?type="+n,this._http.get(this.endPoint)}},{key:"getActiveEpisode",value:function(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/patient/"+t+"/episode/"+e+"/active",this._http.get(this.endPoint)}},{key:"getEpisodePrefill",value:function(t){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/episode/prefill",this._http.get(this.endPoint)}},{key:"rescheduleAppointment",value:function(t,e,n){return this.endPoint=this.rootUrl+"/v2/episodes/reschedule-dst/".concat(t,"/").concat(e),this._http.put(this.endPoint,n)}},{key:"saveConsentDetails",value:function(t){return this._http.post(r.g.url+"/ehealth/v2/consent-form",t).pipe(Object(o.a)())}},{key:"updateActionItem",value:function(t){return this.endPoint=this.rootUrl+"/v2/actions/".concat(null==t?void 0:t.id),this._http.put(this.endPoint,t)}},{key:"fetchEpisodeVitalProgress",value:function(t){return this.endPoint=this.rootUrl+"/v2/episodes/"+t+"/vital-progress",this._http.get(this.endPoint)}},{key:"getEpisodeByIds",value:function(t){this.endPoint=this.rootUrl+"/v3/episodes";var e=new i.h({fromObject:{ids:t}});return this._http.get(this.endPoint,{params:e})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.bc(i.c))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},HZ0a:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("7Xlp"),a=n("QwIf"),r=n("fXoL"),s=function(){var t=function(t){o(n,t);var e=c(n);function n(){var t;return u(this,n),(t=e.call(this)).SOURCE="patient_listing",t}return p(n,[{key:"patientFilterActionEvent",value:function(t,e){var n=this.getCommonProperties();n[a.a.SOURCE]=this.SOURCE,n[a.a.ACTION_NAME]=e,n[a.a.FILTER_INFO]=t,this.logEvent(a.a.PATIENT_FILTER_ACTION,n)}},{key:"patientSearchEvent",value:function(t){var e=this.getCommonProperties();e[a.a.SEARCH_KEY]=t,e[a.a.SOURCE]=this.SOURCE,this.logEvent(a.a.PATIENT_SEARCH,e)}},{key:"patientActionEvent",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.a.PATIENT_LISTING_SCREEN,i=this.getCommonProperties();i[a.a.SOURCE]=n,i[a.a.ACTION_NAME]=e,i[a.a.PATIENT_ID]=t,this.logEvent(a.a.PATIENT_ACTION,i)}},{key:"patientAddActionEvent",value:function(t,e,n){var i=this.getCommonProperties();i[a.a.SOURCE]=this.SOURCE,i[a.a.ACTION_NAME]=n,i[a.a.PATIENT_ID]=t,i[a.a.PATIENT_NAME]=e,this.logEvent(a.a.PATIENT_ACTION,i)}},{key:"patientDetailsDisableActionEvent",value:function(t,e,n){var i=this.getCommonProperties();i[a.a.SOURCE]=this.SOURCE,i[a.a.ACTION_NAME]=n,i[a.a.PATIENT_ID]=t,i[a.a.PATIENT_NAME]=e,this.logEvent(a.a.PATIENT_DETAILS_ACTION,i)}},{key:"staffAssignEvent",value:function(t,e,n,i){var o=this.getCommonProperties();o[a.a.SOURCE]=this.SOURCE,o[a.a.ACTION_NAME]=i,o[a.a.PATIENT_ID]=t,o[a.a.PATIENT_NAME]=e,o[a.a.STAFF_NAME]=n,this.logEvent(a.a.PATIENT_STAFF_ASSIGN,o)}},{key:"patientAlertEvent",value:function(t,e){var n=this.getCommonProperties();n[a.a.SOURCE]=this.SOURCE,n[a.a.ACTION_NAME]=e,n[a.a.PATIENT_ID]=t,this.logEvent(a.a.PATIENT_ALERT_ACTION,n)}},{key:"patientDetailsActionEvent",value:function(t,e){var n=this.getCommonProperties();n[a.a.SOURCE]=this.SOURCE,n[a.a.ACTION_NAME]=e,n[a.a.PATIENT_ID]=t,this.logEvent(a.a.PATIENT_DETAILS_ACTION,n)}}]),n}(i.a);return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},IEkc:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i,a=n("igu/"),o=function(t){return t.NONE="NONE",t.INITIATED="INITIATED",t.ALIVE="ALIVE",t.CLOSED="CLOSED",t.TERMINATED="TERMINATED",t}({}),r=function(t){return t.ACTIVE="ACTIVE",t.INACTIVE="INACTIVE",t}({}),c=n("Jlwr"),s=n("2Vo4"),l=n("ofXK"),d=n("8yaK"),b=n("fXoL"),h=n("tyNb"),g=((i=function(){function t(e,n,i,a,o){var r=this;u(this,t),this._router=e,this._staffSessionService=n,this._dataSharingService=i,this._sessionTimerService=a,this.document=o,this.ping$=new s.a(null),this.visibilityListener(),this.ping$.subscribe(function(t){return r.update(t)})}return p(t,[{key:"getStaffSessionObjectFromLocalStorage",value:function(){var t=localStorage.getItem("staffSession");return(null==t?void 0:t.length)?JSON.parse(t):null}},{key:"inititalize",value:function(){var t,e,n=this;null===(e=null===(t=this._dataSharingService)||void 0===t?void 0:t.tenantSettings)||void 0===e||e.subscribe(function(t){var e;if(t){var i=null===(e=null==t?void 0:t.staffSessionConfig)||void 0===e?void 0:e.logoutInterval;n.logoutIntervalinMS=60*i*60*1e3,n.validateStaffSession(),n.staffSessionPolling(!0)}})}},{key:"validateStaffSession",value:function(){var t=this.getStaffSessionObjectFromLocalStorage();if(t){var e=new Date(null==t?void 0:t.endTime).getTime(),n=Date.now();return this.logoutIntervalinMS<n-e&&"CLOSED"!==(null==t?void 0:t.state)&&"TERMINATED"!==(null==t?void 0:t.state)?(console.log("This session was timed out, please login again if you wish to continue!"),void this._router.navigate(["authorization/logout"])):void 0}}},{key:"staffSessionPolling",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=localStorage.getItem("accessToken"),n=this.getStaffSessionObjectFromLocalStorage();(n||e)&&(n||!e?n&&e&&this.updateStaffSession(void 0,t):this._staffSessionService.initiateStaffSession().subscribe(function(t){(null==t?void 0:t.olderSessionsTerminated)&&console.log("You had an active session already which has now been terminated!");var e=Date.now().toString();console.log("Setting new sessionTimerId during initial load",e),sessionStorage.setItem("sessionTimerId",e),localStorage.setItem("sessionTimerId",e),localStorage.setItem("staffSession",JSON.stringify(t))}))}},{key:"visibilityListener",value:function(){var t=this;this.document.addEventListener("visibilitychange",function(){if("visible"===t.document.visibilityState){var e=Date.now().toString();console.log("Setting new sessionTimerId while the tab is visible",e),sessionStorage.setItem("sessionTimerId",e),localStorage.setItem("sessionTimerId",e)}t.updateStaffSession()})}},{key:"updateStaffSession",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getStaffSessionObjectFromLocalStorage(),i={staffSessionId:null==n?void 0:n.id,state:o.ALIVE,navigationState:(null===document||void 0===document?void 0:document.hidden)?r.INACTIVE:r.ACTIVE,context:t,initial:e},a=JSON.parse(sessionStorage.getItem("sessionTimerId")),c=JSON.parse(localStorage.getItem("sessionTimerId"));a&&a>=c&&this.ping$.next(i)}},{key:"update",value:function(t){var e,n=this;(null===(e=null==t?void 0:t.staffSessionId)||void 0===e?void 0:e.length)&&this._staffSessionService.updateStaffSession(t).subscribe(function(e){if(o.INITIATED===(null==e?void 0:e.state)||o.ALIVE===(null==e?void 0:e.state)){var i=JSON.stringify(e);return localStorage.setItem("staffSession",i),void n._sessionTimerService.setLatestClockTime(null==e?void 0:e.additionalData.totalPingServiceMinutes,null==e?void 0:e.additionalData.totalPingServiceSeconds)}r.ACTIVE===(null==t?void 0:t.navigationState)&&console.log("This session was terminated or closed, please login again if you wish to continue!"),n._router.navigate(["authorization/logout"])})}}]),t}()).\u0275fac=function(t){return new(t||i)(b.bc(h.g),b.bc(c.a),b.bc(a.a),b.bc(d.a),b.bc(l.d))},i.\u0275prov=b.Nb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},IIEM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t),this.deviceMap=new Map([["VISUAL_AI_RECOGNITION","Selfie Vitals"],["VISUAL_RECOGNITION","Visual Vital Recognition"],["ANURA_AI_BP","Selfie Vitals - Blood Pressure"],["ANURA_AI","Anura AI"],["ABPM50","Ambulatory Blood Pressure Monitor"],["CT-300","Five in One Device"],["GA1C_EX_1.0_BT","Biosense HBA1C Analyser"],["CardioCheck_PA","Cardio Check Lipid Devices"],["UT-201BLE-A","Thermometer"],["UA-651BLE","A&D Blood Pressure Monitor"],["UC-352BLE","A&D Weighing Scale"],["UC-411PBT-C","A&D Body Composition Analyzer"],["WHT1-808-B","Cooey Blood Pressure Monitor"],["WHT1-B06T","Cooey Voice Blood Pressure Monitor"],["WBT1-357-B","Cooey Body Analyzer"],["SDM","Cooey Glucometer"],["IHealth-KN550BT","IHealth Blood Pressure Monitor"],["IHealth-BP3L","IHealth Blood Pressure Monitor"],["BP3L","IHealth Blood Pressure Monitor"],["IHealth-BP5","IHealth Blood Pressure Monitor"],["IHealth-BG5","IHealth Blood Glucometer"],["IHealth-BG5S","IHealth Blood Glucometer"],["IHealth-PO3","IHealth Pulse Oximeter"],["BT105","Body Trace BP Monitor - BT105"],["BT005","Body Trace Weight Scale - BT005"],["PY802LTE","Pylo BP Monitor - PY802LTE"],["PY300LTE","Pylo Weighing Scale - PY300LTE"],["BGMD1","Biotel BG Monitor - BGMD1"],["SMCLBS","SmartMeter Weight Scale - SMCLBS"],["SM5000IB","SmartMeter BP Monitor - SM5000IB"],["SMCOX","SmartMeter SPO2 - SMCOX"],["GM291V","SmartMeter BG - GM291V"],["MANUAL","Manually logged"]])}return p(t,[{key:"transform",value:function(t){return t?this.deviceMap.get(t)||"N/A":"Manually Logged"}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"deviceName",type:t,pure:!0}),t}()},IKCb:function(t,n,i){"use strict";i.d(n,"a",function(){return it});var a=i("IEkc"),o=i("gXqy"),r=i("V5Ok"),c=i("6En5"),s=i("ZPfs"),l=i("k9Ba"),d=i("geco"),b=i("nLCl"),h=i("awHO"),g=(i("c/Vb"),i("Gskk")),f=i("c36b"),v=i("wb4W"),m=i("fXoL"),S=i("dEAy"),y=i("bNXi"),T=i("5+WD"),C=i("B+r4"),E=i("0lU3"),I=i("3Pt+"),M=i("ofXK"),A=i("zAKX"),_=i("ZyQt"),D=i("aPTj"),z=i("TaO5"),O=i("bE2y"),k=i("mUB+"),N=i("mUTz"),P=i("GKSl"),R=i("PTRe"),X=i("OzZK"),L=i("RwU8"),w=i("C2AL"),W=i("eHCX"),V=i("sIYb"),x=i("glKu"),U=i("dRHE");function F(t,e){if(1&t&&m.Sb(0,"nz-option",43),2&t){var n=e.$implicit;m.uc("nzLabel","",null==n?null:n.firstName," ",null==n?null:n.lastName,""),m.rc("nzValue",n)}}function H(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"nz-option",45),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.rc("nzValue",n)("nzLabel",null==n?null:n.name)}}function B(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",17),m.Xb(1,"nz-select",44),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().activity=t}),m.Vc(2,H,2,2,"ng-container",19),m.Wb(),m.Wb()}if(2&t){var i=m.ic();m.Db(1),m.rc("ngModel",i.activity),m.Db(1),m.rc("ngForOf",i.activities)}}function j(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",17),m.Xb(1,"input",46),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().setCustomActivity(t)}),m.Wb(),m.Wb()}}function G(t,e){if(1&t&&m.Sb(0,"nz-option",45),2&t){var n=m.ic().$implicit;m.uc("nzLabel","",null==n?null:n.code,", ",null==n?null:n.description,""),m.rc("nzValue",n)}}function Y(t,e){if(1&t&&(m.Vb(0),m.Vc(1,G,1,3,"nz-option",47),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.rc("ngIf","Active"===(null==n?null:n.status)&&"CHRONIC"===(null==n?null:n.type))}}function q(t,e){1&t&&(m.Xb(0,"div",14),m.Xb(1,"div",48),m.Xb(2,"label",49),m.Xc(3,"Required"),m.Wb(),m.Wb(),m.Wb())}function Z(t,e){if(1&t&&m.Sb(0,"app-icons",53),2&t){var n=m.ic().$implicit;m.sc("name",null==n?null:n.icon)}}function Q(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",50),m.Xb(1,"app-communication-action",51),m.ec("labelChange",function(t){return e.$implicit.name=t})("typeChange",function(t){return e.$implicit.type=t})("selectedTypeChange",function(t){return m.Lc(n),m.ic().communicationMode=t})("select",function(t){return m.Lc(n),m.ic().setCommunicationMode(null==t?null:t.type)}),m.Vc(2,Z,1,1,"app-icons",52),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit,a=m.ic();m.Db(1),m.rc("label",i.name)("type",i.type)("selectedType",a.communicationMode),m.Db(1),m.rc("ngIf",null==i?null:i.icon)}}function K(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",54),m.Xc(2,"Required"),m.Wb(),m.Ub())}function J(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",54),m.Xc(2,"Required"),m.Wb(),m.Ub())}function $(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",54),m.Xc(2,"Required"),m.Wb(),m.Ub())}function tt(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",54),m.Xc(2,"Required"),m.Wb(),m.Ub())}var et=function(){return{nzMinuteStep:"10",nzFormat:"hh:mm"}},nt=function(){return{width:"unset"}},it=function(){var t=function(){function t(e,n,i,a,r,s,d,p){var b=this;u(this,t),this._patientCommunicationValidator=e,this._patientsService=n,this._modalRef=i,this._notificationsService=a,this._modalService=r,this._episodesService=s,this._staffSessionPingService=d,this.draftHelper=p,this.isUpdateTimeModalVisible=!1,this.isCMTTimeUpdatedManually=!1,this.isUpdateBillableModalVisible=!1,this.primaryMDM=null,this.primaryEncounter=null,this.isUpdateActivityModalVisible=!1,this.isUpdateTmsNoteModalVisible=!1,this.isUpdateModeModalVisible=!1,this.noteUpdateReason="",this.timeUpdateReason="",this.billableUpdateReason="",this.activityUpdateReason="",this.tmsNoteUpdateReason="",this.modeUpdateReason="",this.communicationModes=c.a,this.billable=!0,this.mdm=!1,this.encounter=!1,this.activities=l.a,this.updateHistory={},this.disabledDate=function(t){var e,n;return Object(o.a)(new Date(null===(n=null===(e=b.patient)||void 0===e?void 0:e.episode)||void 0===n?void 0:n.startDate),t)>0||Object(o.a)(new Date((new Date).setHours(23,59,59,99)),t)<0},this.config=f.e}return p(t,[{key:"editCMT",set:function(t){var e,n,i,a,o,r,c,s,l,u,d,p,b,h,g,f,v,m,S,y,T,C,E,I=this;if(t){this.patientCommunicationId=null==t?void 0:t.id,this.activities.forEach(function(e){(null==t?void 0:t.context)===e.type&&(I.activity=e,I.type=e.type)}),this.communicationModes.forEach(function(e){(null==t?void 0:t.mode)===e.type&&(I.communicationMode=e,I.setCommunicationMode(null==t?void 0:t.mode))}),this.startDate=new Date(null==t?void 0:t.startTime);var M=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4;this.duration=M<1?0:+(null==M?void 0:M.toFixed(0)),this.billable=null===(e=null==t?void 0:t.compliance)||void 0===e?void 0:e.billable,this.mdm=null==t?void 0:t.mdmOccurred,this.encounter=null==t?void 0:t.encounterOccurred,this.tmsNote=null==t?void 0:t.notes,this.noteUpdateReason=null==t?void 0:t.noteUpdateReason;var A=null===(n=null==t?void 0:t.dxCodes)||void 0===n?void 0:n.map(function(t){return null==t?void 0:t.code});(null==A?void 0:A.length)&&(this.selectedDxCodes=null===(a=null===(i=this.patient)||void 0===i?void 0:i.dxCodes)||void 0===a?void 0:a.filter(function(t){return-1!=(null==A?void 0:A.findIndex(function(e){return e===(null==t?void 0:t.code)}))})),this.primaryDuration=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4,this.primaryBillable=this.billable,this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryMDM=this.mdm,this.primaryEncounter=this.encounter,this.primaryMode=this.communicationMode,null!=(null==t?void 0:t.updateHistory)&&(this.timeUpdateReason=null==(null===(r=null===(o=null==t?void 0:t.updateHistory)||void 0===o?void 0:o.timeUpdateHistory)||void 0===r?void 0:r.reason)?"":null===(s=null===(c=null==t?void 0:t.updateHistory)||void 0===c?void 0:c.timeUpdateHistory)||void 0===s?void 0:s.reason,this.activityUpdateReason=null==(null===(u=null===(l=null==t?void 0:t.updateHistory)||void 0===l?void 0:l.activityUpdateHistory)||void 0===u?void 0:u.reason)?"":null===(p=null===(d=null==t?void 0:t.updateHistory)||void 0===d?void 0:d.activityUpdateHistory)||void 0===p?void 0:p.reason,this.tmsNoteUpdateReason=null==(null===(h=null===(b=null==t?void 0:t.updateHistory)||void 0===b?void 0:b.noteUpdateHistory)||void 0===h?void 0:h.reason)?"":null===(f=null===(g=null==t?void 0:t.updateHistory)||void 0===g?void 0:g.noteUpdateHistory)||void 0===f?void 0:f.reason,this.billableUpdateReason=null==(null===(m=null===(v=null==t?void 0:t.updateHistory)||void 0===v?void 0:v.billableUpdateHistory)||void 0===m?void 0:m.reason)?"":null===(y=null===(S=null==t?void 0:t.updateHistory)||void 0===S?void 0:S.billableUpdateHistory)||void 0===y?void 0:y.reason,this.modeUpdateReason=null==(null===(C=null===(T=null==t?void 0:t.updateHistory)||void 0===T?void 0:T.communicationModeUpdateHistory)||void 0===C?void 0:C.reason)?"":null===(E=null==t?void 0:t.updateHistory.communicationModeUpdateHistory)||void 0===E?void 0:E.reason)}}},{key:"autoCMTOverRide",set:function(t){t&&(this.autoCMT=!1)}},{key:"stickyNote",set:function(t){t&&(this.tmsNote=t,this.stickyNoteText=t)}},{key:"appointmentTime",set:function(t){var e;if(null==t?void 0:t.length){this.autoCMTOverRide||(this.autoCMT=!0),this.setActivity("CARE_COORDINATION","OUTBOUND_CALL",!!this.tmsNote);var n="string"==typeof t[1]?new Date(t[1]).getTime():null===(e=t[1])||void 0===e?void 0:e.getTime();this.startDate="string"==typeof t[0]?new Date(t[0]):t[0];var i=(n-this.startDate.getTime())/6e4;this.duration=i<1?0:+(null==i?void 0:i.toFixed(0)),this.primaryDuration=this.duration}else this.setDefaultDateAndTime()}},{key:"ngOnInit",value:function(){this.fetchCaretakersForPatient()}},{key:"setDefaultDateAndTime",value:function(){this.startDate=new Date(Date.now()-18e5)}},{key:"validateTMSData",value:function(t){var e;t&&(this.duration=t);var n=this._patientCommunicationValidator.validate(this.selectedCaretaker,this.startDate,this.communicationMode,this.activity,this.duration,this.tmsNote);return this.billable&&(!this.selectedDxCodes||(null===(e=this.selectedDxCodes)||void 0===e?void 0:e.length)<2)&&(null==n||n.push("Please select at least 2 diagnosis codes before proceeding!")),this.updatedDuration=this.duration,this.validated=!n.length,n}},{key:"fetchCaretakersForPatient",value:function(){var t=this;this._patientsService.fetchCaretakersForPatient(this.patient.id).subscribe(function(e){var n,i;if(e&&e.length){t.caretakers=e;var a=localStorage.getItem("loggedInUserRole");if(b.a.MONITORING_STAFF===a){var o=localStorage.getItem("loggedInUser");t.caretakers=t.caretakers.filter(function(t){return o===t.id}),(null===(n=t.caretakers)||void 0===n?void 0:n.length)&&(t.selectedCaretaker=t.caretakers[0])}else t.staff?(t.caretakers=t.caretakers.filter(function(e){return t.staff===e.id}),(null===(i=t.caretakers)||void 0===i?void 0:i.length)&&(t.selectedCaretaker=t.caretakers[0])):t.selectedCaretaker=t.caretakers[0];t.validateTMSData()}else t._notificationsService.error("CMT","".concat(t.patient.name," does not have a clinician assigned!"))})}},{key:"setCommunicationMode",value:function(t){this.communicationMode=s.a[t],this.setActivityDetails(),this.validateTMSData()}},{key:"setActivityDetails",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.activity&&this.communicationMode&&this.activity.configs[this.communicationMode]&&(null==this.primaryDuration&&(this.duration=this.activity.configs[this.communicationMode].duration),e||(this.stickyNoteText?this._modalService.create({nzTitle:"Confirm",nzContent:"Changing the selected values will replace the note entered with a default note, do you want to proceed without replacing the note with the default one?",nzClosable:!1,nzCloseIcon:null,nzMaskClosable:!1,nzKeyboard:!1,nzOkText:"Yes",nzCancelText:"No",nzOnCancel:function(){t.tmsNote=t.activity.configs[t.communicationMode].note,t.stickyNoteText=void 0}}):this.tmsNote=this.activity.configs[this.communicationMode].note),this.context=this.activity.configs[this.communicationMode].context)}},{key:"setActivity",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&(this.type=t,this.communicationMode=e,this.activity=this.activities.find(function(e){return e.type===t}),this.setActivityDetails(n),this.validateTMSData())}},{key:"setCustomActivity",value:function(t){this.activity={name:t}}},{key:"showTMSHistory",value:function(){this._modalService.create({nzContent:h.a,nzComponentParams:{patientId:this.patient.id,patientName:this.patient.name,episodeId:this.patient.episode.id,tmsType:this.serviceCode},nzWidth:725,nzBodyStyle:{height:"675px",overflowY:"scroll"},nzFooter:null})}},{key:"generateTMSRequestObject",value:function(){var t,e;return{id:this.patientCommunicationId,patientId:this.patient.id,episodeId:this.patient.episode.id,staffId:this.selectedCaretaker.id,startTime:null===(t=this.startDate)||void 0===t?void 0:t.getTime(),endTime:(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,notes:this.tmsNote,mode:this.communicationMode,activity:this.activity.name,dxCodes:this.selectedDxCodes,context:this.context,billable:this.billable,serviceCode:this.serviceCode,mdmOccurred:this.mdm,encounterOccurred:this.encounter,timerId:this.timerId,noteUpdateReason:this.noteUpdateReason,updateHistory:this.updateHistory}}},{key:"save",value:function(){this.primaryDuration!=this.duration&&null!=this.primaryDuration||1!=this.primaryBillable||null!=this.primaryMDM||null!=this.primaryEncounter||null!=this.primaryActivity||null!=this.primaryTmsNote||null!=this.primaryMode?this.primaryDuration!=this.duration||this.billable!=this.primaryBillable||this.primaryMDM!=this.mdm||this.primaryEncounter!=this.encounter||this.activity.name!=this.primaryActivity||this.tmsNote!=this.primaryTmsNote||this.communicationMode!=this.primaryMode?(this.primaryDuration!=this.duration&&null!=this.primaryDuration&&(this.isUpdateTimeModalVisible=!0,this.isCMTTimeUpdatedManually=!0),this.activity.name!=this.primaryActivity&&null!=this.primaryActivity&&(this.isUpdateActivityModalVisible=!0),this.tmsNote!=this.primaryTmsNote&&null!=this.primaryTmsNote&&(this.isUpdateTmsNoteModalVisible=!0),this.primaryMode!=this.communicationMode&&null!=this.primaryMode&&(this.isUpdateModeModalVisible=!0),this.billable==this.primaryBillable&&this.mdm==this.primaryMDM&&this.encounter==this.primaryEncounter||this.submitUpdateBillableReason()):(this.isCMTTimeUpdatedManually=!1,this.proceedToSave()):this.proceedToSave()}},{key:"saveUpdatedReasons",value:function(){var t={reason:this.billableUpdateReason},e={reason:this.activityUpdateReason},n={reason:this.tmsNoteUpdateReason},i={reason:this.modeUpdateReason};this.updateHistory.timeUpdateHistory={reason:this.timeUpdateReason},this.updateHistory.billableUpdateHistory=t,this.updateHistory.activityUpdateHistory=e,this.updateHistory.noteUpdateHistory=n,this.updateHistory.communicationModeUpdateHistory=i,this.isUpdateTimeModalVisible||this.isUpdateActivityModalVisible||this.isUpdateTmsNoteModalVisible||this.isUpdateModeModalVisible||this.proceedToSave()}},{key:"submitUpdateReason",value:function(){this.reasonForChange?(this.isNoteRequired=!1,this.isUpdateTimeModalVisible=!1,this.reasonUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.timeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryDuration+" to "+this.duration+" minutes </strong> on <strong>"+this.reasonUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForChange+"</br></br>",this.saveUpdatedReasons()):this.isNoteRequired=!0}},{key:"closeUpdateModal",value:function(){this.timeUpdateReason="",this.duration=this.primaryDuration,this.isUpdateTimeModalVisible=!1}},{key:"submitUpdateBillableReason",value:function(){this.billableUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.primaryBillable!=this.billable&&null!=this.primaryBillable&&(this.primaryBillable?(this.primaryBillableNote="Billable",this.updatedBillableNote="Non-Billable"):(this.primaryBillableNote="Non-Billable",this.updatedBillableNote="Billable"),this.billableUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryBillableNote+" to "+this.updatedBillableNote+"</strong> on <strong>"+this.billableUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong></br></br>"),this.primaryMDM!=this.mdm&&null!=this.primaryMDM&&(this.primaryMDM?(this.primaryBillableNote="MDM",this.updatedBillableNote="Non-MDM"):(this.primaryBillableNote="Non-MDM",this.updatedBillableNote="MDM"),this.billableUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryBillableNote+" to "+this.updatedBillableNote+"</strong> on <strong>"+this.billableUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong></br></br>"),this.primaryEncounter!=this.encounter&&null!=this.primaryEncounter&&(this.primaryEncounter?(this.primaryBillableNote="Encounter",this.updatedBillableNote="Non-Encounter"):(this.primaryBillableNote="Non-Encounter",this.updatedBillableNote="Encounter"),this.billableUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryBillableNote+" to "+this.updatedBillableNote+"</strong> on <strong>"+this.billableUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong></br></br>"),this.saveUpdatedReasons()}},{key:"closeBillableModal",value:function(){this.billableUpdateReason="",this.billable=this.primaryBillable,this.isUpdateBillableModalVisible=!1}},{key:"submitUpdateActivityReason",value:function(){this.reasonForActivityUpdate?(this.isActivityNoteRequired=!1,this.isUpdateActivityModalVisible=!1,this.activityUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.activityUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryActivity+" to "+this.activity.name+"</strong> on <strong>"+this.activityUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForActivityUpdate+"</br></br>",this.saveUpdatedReasons()):this.isActivityNoteRequired=!0}},{key:"closeActivityModal",value:function(){this.activityUpdateReason="",this.activity.name=this.primaryActivity,this.setActivity(this.primaryActivity,this.communicationMode,!0),this.isUpdateActivityModalVisible=!1}},{key:"submitTmsUpdateReason",value:function(){this.reasonForTmsNoteUpdate?(this.isTmsNoteRequired=!1,this.isUpdateTmsNoteModalVisible=!1,this.tmsNoteUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.tmsNoteUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryTmsNote+" to "+this.tmsNote+"</strong> on <strong>"+this.tmsNoteUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForTmsNoteUpdate+"</br></br>",this.saveUpdatedReasons()):this.isTmsNoteRequired=!0}},{key:"closeTmsUpdateModal",value:function(){this.tmsNoteUpdateReason="",this.tmsNote=this.primaryTmsNote,this.isUpdateTmsNoteModalVisible=!1}},{key:"submitModeUpdateReason",value:function(){if(this.reasonForModeUpdate){var t,n;this.isModeNoteRequired=!1,this.isUpdateModeModalVisible=!1,this.modeUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"});var i,a=e(this.communicationModes);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o.type==this.primaryMode&&(t=o.name),o.type==this.communicationMode&&(n=o.name),t&&n)break}}catch(r){a.e(r)}finally{a.f()}this.modeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+t+" to "+n+"</strong> on <strong>"+this.modeUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForModeUpdate+"</br></br>",this.saveUpdatedReasons()}else this.isModeNoteRequired=!0}},{key:"closeModeUpdateModal",value:function(){this.modeUpdateReason="",this.communicationMode=this.primaryMode,this.isUpdateModeModalVisible=!1}},{key:"proceedToSave",value:function(){var t,e,n=this;this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryBillable=this.billable,this.primaryMDM=this.mdm,this.primaryEncounter=this.encounter,this.primaryMode=this.communicationMode;var i=this.validateTMSData();this._patientCommunicationValidator.showErrors(i),this.loading=!0,this._episodesService.validateStartEndTime(this.patient.id,null===(t=this.startDate)||void 0===t?void 0:t.getTime(),(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,this.patientCommunicationId).subscribe(function(t){if(t&&t.length)return n._notificationsService.error("CMT","Start time or End time overlap previous CMT record"),void(n.loading=!1);var e=n.generateTMSRequestObject();(null==e?void 0:e.id)?n._episodesService.updatePatientCommunication(e).subscribe(function(t){n._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_UPDATED",value:e}),n._notificationsService.success("CMT Updated",null==t?void 0:t.message),"GLOBAL_TIMER"==n.referrer?n.closeModalObject({mode:n.communicationMode,billable:n.billable}):n.closeModal(!0),n.loading=!1}):n._episodesService.savePatientCommunication(e).subscribe(function(t){n._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e}),n._notificationsService.success("CMT Recorded",null==t?void 0:t.message),"GLOBAL_TIMER"==n.referrer?n.closeModalObject({mode:n.communicationMode,billable:n.billable}):n.closeModal(!0),n.loading=!1,n.draftHelper.removeTimeTrackingNotes(n.patient.id)})})}},{key:"closeModal",value:function(t){this._modalRef.close(t)}},{key:"closeModalObject",value:function(t){this._modalRef.close(t)}},{key:"setTemplate",value:function(t){this.tmsNote=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m.Rb(r.a),m.Rb(d.a),m.Rb(S.e),m.Rb(y.b),m.Rb(S.f),m.Rb(g.a),m.Rb(a.a),m.Rb(v.a))},t.\u0275cmp=m.Lb({type:t,selectors:[["app-ccm-tms"]],inputs:{patient:"patient",blueprint:"blueprint",serviceCode:"serviceCode",staff:"staff",timerId:"timerId",draftId:"draftId",referrer:"referrer",editCMT:"editCMT",autoCMTOverRide:"autoCMTOverRide",stickyNote:"stickyNote",appointmentTime:"appointmentTime"},features:[m.Cb([r.a])],decls:140,vars:92,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],[1,"body-container"],["cdkDragHandle",""],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],[1,"label"],["nzFormat","dd-MMM-yyyy HH:mm","nzSize","small",3,"nzShowTime","nzPlaceHolder","ngModel","nzDisabledDate","ngStyle","ngModelChange"],["id","caretakers",3,"ngModel","nzSize","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-row","","nzGutter","2"],["nz-col","","nzSpan","24"],["id","activity-label"],["nz-row","","nzGutter","2",1,"centerize"],[3,"nzColor","nzMode","click"],["nz-row",""],["nz-col","","nzSpan","2"],["nz-col","","nzSpan","22",4,"ngIf"],["nz-col","","nzSpan","22"],["id","dxCodes","nzPlaceHolder","Select at least 2 diagnosis codes","nzMode","multiple","nzMaxMultipleCount","4",3,"ngModel","nzDisabled","ngModelChange"],[4,"ngFor","ngForOf"],["nz-row","",4,"ngIf"],["nz-row","","nzGutter","8","nzAlign","middle"],["nz-col","","nzSpan","4",2,"padding-bottom","8px"],["nz-col","","nzSpan","4",4,"ngFor","ngForOf"],[3,"duration","durationChange"],["nz-col","","nzSpan","8",1,"centerize"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nzSize","small",3,"ngModel","ngModelChange"],["nz-radio","",3,"nzValue"],["nz-col","","nzSpan","24","id","tms-notes-label"],["placeholder","Add a note..",3,"ngModel","config","ngModelChange"],["note",""],[3,"note","onTemplateSelected"],[3,"loadingState","validationState","compact","roundedButtons","showHistory","save"],["nzTitle","Please enter the reason for updating CMT minutes",3,"nzVisible","nzFooter","nzVisibleChange"],["nz-input","","placeholder","Enter your reason for updating here",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"reason-update-btn-div"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",1,"reason-update-btn",3,"click"],["nzTitle","Please enter the reason for updating CMT Activity",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Note",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Communication Mode",3,"nzVisible","nzFooter","nzVisibleChange"],[3,"nzLabel","nzValue"],["id","activities","nzPlaceHolder","Select Activity",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel"],["id","activities","ngModel","","placeholder","Enter custom activity...","nz-input","",3,"ngModelChange"],[3,"nzValue","nzLabel",4,"ngIf"],["nz-col","","nzSpan","22","nzOffset","2"],["nz-typography","","nzType","danger"],["nz-col","","nzSpan","4"],[3,"label","type","selectedType","labelChange","typeChange","selectedTypeChange","select"],["size","16px",3,"name",4,"ngIf"],["size","16px",3,"name"],[1,"reason-update-error",2,"color","red"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Xb(4,"div",4),m.Xb(5,"strong",5),m.Xc(6,"Start Time: "),m.Wb(),m.Xc(7," \xa0\xa0 "),m.Xb(8,"nz-date-picker",6),m.ec("ngModelChange",function(t){return e.startDate=t})("ngModelChange",function(){return e.validateTMSData()}),m.jc(9,"translate"),m.Wb(),m.Wb(),m.Xb(10,"div",4),m.Xb(11,"strong",5),m.Xc(12),m.jc(13,"translate"),m.Wb(),m.Xc(14," \xa0\xa0 "),m.Xb(15,"nz-select",7),m.ec("ngModelChange",function(t){return e.selectedCaretaker=t}),m.Vc(16,F,1,3,"nz-option",8),m.Wb(),m.Wb(),m.Wb(),m.Sb(17,"br"),m.Xb(18,"div",9),m.Xb(19,"div",10),m.Xb(20,"strong",11),m.Xc(21,"Choose a CMT Activity"),m.Wb(),m.Wb(),m.Wb(),m.Xb(22,"div",12),m.Xb(23,"div",10),m.Xb(24,"nz-tag",13),m.ec("click",function(){return e.setActivity("ONBOARDING","OTHER")}),m.Xc(25),m.jc(26,"translate"),m.Wb(),m.Xb(27,"nz-tag",13),m.ec("click",function(){return e.setActivity("DATA_REVIEW_EHR","OTHER")}),m.Xc(28),m.jc(29,"translate"),m.Wb(),m.Xb(30,"nz-tag",13),m.ec("click",function(){return e.setActivity("DATA_REVIEW_MD","OTHER")}),m.Xc(31),m.jc(32,"translate"),m.Wb(),m.Xb(33,"nz-tag",13),m.ec("click",function(){return e.setActivity("ALERT_MANAGEMENT","CALL")}),m.Xc(34),m.jc(35,"translate"),m.Wb(),m.Xb(36,"nz-tag",13),m.ec("click",function(){return e.setActivity("ESCALATION","OTHER")}),m.Xc(37),m.jc(38,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(39,"div",12),m.Xb(40,"div",10),m.Xb(41,"nz-tag",13),m.ec("click",function(){return e.setActivity("CARE_PLAN_MODIFICATION","OTHER")}),m.Xc(42," PoC Modification"),m.Wb(),m.Xb(43,"nz-tag",13),m.ec("click",function(){return e.setActivity("CARE_COORDINATION","OTHER")}),m.Xc(44," Care Coordination"),m.Wb(),m.Xb(45,"nz-tag",13),m.ec("click",function(){return e.setActivity("MEDICATION_REVIEW","OTHER")}),m.Xc(46," Medication Review"),m.Wb(),m.Xb(47,"nz-tag",13),m.ec("click",function(){return e.setActivity("ASSESSMENT_REVIEW","CALL")}),m.Xc(48," Assessment Forms"),m.Wb(),m.Xb(49,"nz-tag",13),m.ec("click",function(){return e.setActivity("OTHERS","CALL")}),m.Xc(50," Others"),m.Wb(),m.Wb(),m.Wb(),m.Sb(51,"br"),m.Xb(52,"div",14),m.Xb(53,"div",15),m.Xb(54,"strong",11),m.Xc(55),m.jc(56,"translate"),m.Wb(),m.Wb(),m.Vc(57,B,3,2,"div",16),m.Vc(58,j,2,0,"div",16),m.Wb(),m.Sb(59,"br"),m.Xb(60,"div",14),m.Xb(61,"div",15),m.Xb(62,"strong",11),m.Xc(63,"Dx"),m.Xb(64,"sup"),m.Xc(65,"*"),m.Wb(),m.Wb(),m.Wb(),m.Xb(66,"div",17),m.Xb(67,"nz-select",18),m.ec("ngModelChange",function(t){return e.selectedDxCodes=t})("ngModelChange",function(){return e.validateTMSData()}),m.Vc(68,Y,2,1,"ng-container",19),m.Wb(),m.Wb(),m.Wb(),m.Vc(69,q,4,0,"div",20),m.Sb(70,"br"),m.Xb(71,"div",14),m.Xb(72,"div",10),m.Xb(73,"div",21),m.Xb(74,"div",22),m.Xb(75,"strong",5),m.Xc(76),m.jc(77,"translate"),m.Wb(),m.Wb(),m.Vc(78,Q,3,4,"div",23),m.Wb(),m.Wb(),m.Xb(79,"div",10),m.Xb(80,"app-time-selector",24),m.ec("durationChange",function(t){return e.validateTMSData(t)}),m.Wb(),m.Wb(),m.Wb(),m.Sb(81,"br"),m.Xb(82,"div",3),m.Xb(83,"div",25),m.Xb(84,"label",26),m.ec("ngModelChange",function(t){return e.mdm=t}),m.Xc(85,"MDM"),m.Wb(),m.Wb(),m.Xb(86,"div",25),m.Xb(87,"nz-radio-group",27),m.ec("ngModelChange",function(t){return e.billable=t})("ngModelChange",function(){return e.validateTMSData()}),m.Xb(88,"label",28),m.Xc(89,"Billable"),m.Wb(),m.Xb(90,"label",28),m.Xc(91,"Non-Billable"),m.Wb(),m.Wb(),m.Wb(),m.Xb(92,"div",25),m.Xb(93,"label",26),m.ec("ngModelChange",function(t){return e.encounter=t}),m.Xc(94,"Encounter"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(95,"div",3),m.Xb(96,"div",29),m.Xc(97," Add notes: "),m.Wb(),m.Xb(98,"div",10),m.Xb(99,"angular-editor",30,31),m.ec("ngModelChange",function(t){return e.tmsNote=t})("ngModelChange",function(){return e.validateTMSData()}),m.Wb(),m.Wb(),m.Wb(),m.Sb(101,"br"),m.Xb(102,"div",3),m.Xb(103,"div",4),m.Xb(104,"app-note-template-picker",32),m.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),m.Wb(),m.Wb(),m.Wb(),m.Sb(105,"br"),m.Sb(106,"br"),m.Xb(107,"app-footer-actions",33),m.ec("showHistory",function(){return e.showTMSHistory()})("save",function(){return e.save()}),m.Wb(),m.Wb(),m.Wb(),m.Xb(108,"nz-modal",34),m.ec("nzVisibleChange",function(t){return e.isUpdateTimeModalVisible=t}),m.Xb(109,"input",35),m.ec("ngModelChange",function(t){return e.reasonForChange=t}),m.Wb(),m.Vc(110,K,3,0,"ng-container",36),m.Xb(111,"div",37),m.Xb(112,"button",38),m.ec("click",function(){return e.closeUpdateModal()}),m.Xc(113,"Cancel"),m.Wb(),m.Xb(114,"button",39),m.ec("click",function(){return e.submitUpdateReason()}),m.Xc(115,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(116,"nz-modal",40),m.ec("nzVisibleChange",function(t){return e.isUpdateActivityModalVisible=t}),m.Xb(117,"input",35),m.ec("ngModelChange",function(t){return e.reasonForActivityUpdate=t}),m.Wb(),m.Vc(118,J,3,0,"ng-container",36),m.Xb(119,"div",37),m.Xb(120,"button",38),m.ec("click",function(){return e.closeActivityModal()}),m.Xc(121,"Cancel"),m.Wb(),m.Xb(122,"button",39),m.ec("click",function(){return e.submitUpdateActivityReason()}),m.Xc(123,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(124,"nz-modal",41),m.ec("nzVisibleChange",function(t){return e.isUpdateTmsNoteModalVisible=t}),m.Xb(125,"input",35),m.ec("ngModelChange",function(t){return e.reasonForTmsNoteUpdate=t}),m.Wb(),m.Vc(126,$,3,0,"ng-container",36),m.Xb(127,"div",37),m.Xb(128,"button",38),m.ec("click",function(){return e.closeTmsUpdateModal()}),m.Xc(129,"Cancel"),m.Wb(),m.Xb(130,"button",39),m.ec("click",function(){return e.submitTmsUpdateReason()}),m.Xc(131,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(132,"nz-modal",42),m.ec("nzVisibleChange",function(t){return e.isUpdateModeModalVisible=t}),m.Xb(133,"input",35),m.ec("ngModelChange",function(t){return e.reasonForModeUpdate=t}),m.Wb(),m.Vc(134,tt,3,0,"ng-container",36),m.Xb(135,"div",37),m.Xb(136,"button",38),m.ec("click",function(){return e.closeModeUpdateModal()}),m.Xc(137,"Cancel"),m.Wb(),m.Xb(138,"button",39),m.ec("click",function(){return e.submitModeUpdateReason()}),m.Xc(139,"Save"),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(8),m.sc("nzPlaceHolder",m.kc(9,72,"TABLEHEADER.STARTTIME")),m.rc("nzShowTime",m.xc(90,et))("ngModel",e.startDate)("nzDisabledDate",e.disabledDate)("ngStyle",m.xc(91,nt)),m.Db(4),m.Zc("",m.kc(13,74,"PATIENT.MONITORING_STAFF"),": "),m.Db(3),m.rc("ngModel",e.selectedCaretaker)("nzSize","small"),m.Db(1),m.rc("ngForOf",e.caretakers),m.Db(8),m.rc("nzColor","ONBOARDING"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Yc(m.kc(26,76,"TMS.ONBOARDING")),m.Db(2),m.rc("nzColor","DATA_REVIEW_EHR"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Zc(" ",m.kc(29,78,"TMS.DATA_REVIEW_EHR"),""),m.Db(2),m.rc("nzColor","DATA_REVIEW_MD"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Zc(" ",m.kc(32,80,"TMS.DATA_REVIEW_MD"),""),m.Db(2),m.rc("nzColor","ALERT_MANAGEMENT"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Zc(" ",m.kc(35,82,"TMS.MANAGING_ALERTS"),""),m.Db(2),m.rc("nzColor","ESCALATION"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Yc(m.kc(38,84,"TMS.ESCALATION")),m.Db(4),m.rc("nzColor","CARE_PLAN_MODIFICATION"===e.type?"green":null)("nzMode","default"),m.Db(2),m.rc("nzColor","CARE_COORDINATION"===e.type?"green":null)("nzMode","default"),m.Db(2),m.rc("nzColor","MEDICATION_REVIEW"===e.type?"green":null)("nzMode","default"),m.Db(2),m.rc("nzColor","ASSESSMENT_REVIEW"===e.type?"green":null)("nzMode","default"),m.Db(2),m.rc("nzColor","OTHERS"===e.type?"green":null)("nzMode","default"),m.Db(6),m.Zc("",m.kc(56,86,"TMS.OTHER"),": "),m.Db(2),m.rc("ngIf","OTHERS"!==e.type),m.Db(1),m.rc("ngIf","OTHERS"===e.type),m.Db(9),m.rc("ngModel",e.selectedDxCodes)("nzDisabled",!e.billable),m.Db(1),m.rc("ngForOf",null==e.patient?null:e.patient.dxCodes),m.Db(1),m.rc("ngIf",e.billable&&2>(null==e.selectedDxCodes?null:e.selectedDxCodes.length)),m.Db(7),m.Zc("",m.kc(77,88,"TMS.COMMUNICATION_MODE"),": "),m.Db(2),m.rc("ngForOf",e.communicationModes),m.Db(2),m.rc("duration",e.duration),m.Db(4),m.rc("ngModel",e.mdm),m.Db(3),m.rc("ngModel",e.billable),m.Db(1),m.rc("nzValue",!0),m.Db(2),m.rc("nzValue",!1),m.Db(3),m.rc("ngModel",e.encounter),m.Db(6),m.rc("ngModel",e.tmsNote)("config",e.config),m.Db(5),m.rc("note",e.tmsNote),m.Db(3),m.rc("loadingState",e.loading)("validationState",e.validated)("compact",!0)("roundedButtons",!0),m.Db(1),m.rc("nzVisible",e.isUpdateTimeModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForChange),m.Db(1),m.rc("ngIf",e.isNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateActivityModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForActivityUpdate),m.Db(1),m.rc("ngIf",e.isActivityNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateTmsNoteModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForTmsNoteUpdate),m.Db(1),m.rc("ngIf",e.isTmsNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateModeModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForModeUpdate),m.Db(1),m.rc("ngIf",e.isModeNoteRequired))},directives:[T.a,T.b,C.c,C.a,E.a,I.u,I.x,M.r,A.d,M.p,_.a,M.q,D.a,z.a,O.c,O.b,k.a,N.a,P.a,S.a,R.b,I.d,X.a,L.a,w.a,A.a,W.a,V.a,x.a],pipes:[U.a],styles:["#wrapper[_ngcontent-%COMP%]{font-size:12px}#heading[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color)}[_nghost-%COMP%]     .ant-modal-body{padding-top:0}.reason-update-error[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;height:10px;max-height:10px}.reason-update-btn-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:20px}.reason-update-btn[_ngcontent-%COMP%]{margin-left:10px}strong[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-input.ant-input-sm{border:none;font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-icon{color:var(--primary-color)}.label[_ngcontent-%COMP%]{color:var(--tertiary-color);font-size:11px}#activity[_ngcontent-%COMP%]{float:right;width:20px;height:20px;font-size:10px}#tms-notes[_ngcontent-%COMP%]{background:#fff 0 0 no-repeat padding-box;padding:2%;resize:none;font-size:12px}.centerize[_ngcontent-%COMP%]{text-align:center}#caretakers[_ngcontent-%COMP%]{width:200px;font-size:12px;color:var(--light-black)}[_nghost-%COMP%]     .ant-select-selection{border:none}[_nghost-%COMP%]     .ant-select-arrow{color:var(--primary-color)}[_nghost-%COMP%]     .ant-tag{height:30px;width:120px;border:1px solid var(--grey);border-radius:3px;font-size:10px;line-height:3;overflow-x:hidden;overflow-y:hidden;color:#000}.ant-tag-green[_ngcontent-%COMP%]{color:var(--neutral-color);background:var(--primary-color);border:1px solid var(--primary-color)}#activity-label[_ngcontent-%COMP%]{line-height:3}#activities[_ngcontent-%COMP%]{width:100%;background:#fbfbfb 0 0 no-repeat padding-box;border-radius:5px;font-size:12px}app-icons[_ngcontent-%COMP%]{vertical-align:sub}.body-container[_ngcontent-%COMP%]{margin-top:25px}#tms-notes-label[_ngcontent-%COMP%]{padding-top:8px}"]}),t}()},IOC6:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i,a,o=n("AytR"),r=((i=function t(){u(this,t)}).rootUrl=o.g.url,i.CHECKIN_URL=(i.CHECKIN_CHECKOUT_BASE_URL=i.rootUrl+"/v3/checkin-checkout/")+"checkin",i.CHECKOUT_URL=i.CHECKIN_CHECKOUT_BASE_URL+"checkout",i.ACTIVE_SESSION_URL=i.CHECKIN_CHECKOUT_BASE_URL+"active-session",i.CONTINUE_SESSION_URL=i.CHECKIN_CHECKOUT_BASE_URL+"continue-session",i.SMS_TEMPLATE_LIST_URL=(i.SMS_TEMPLATE_BASE_URL=i.rootUrl+"/v3/sms-template/")+"?limit=",i.SMS_TEMPLATE_SAVE_URL=i.SMS_TEMPLATE_BASE_URL+"create/",i.SMS_TEMPLATE_UPDATE_URL=i.SMS_TEMPLATE_BASE_URL+"update/",i.SMS_TEMPLATE_DELETE_URL=i.SMS_TEMPLATE_BASE_URL,i.SMS_TEMPLATE_VALIDATE_URL=i.SMS_TEMPLATE_BASE_URL+"validate/duplicate/template",i),c=n("fXoL"),s=n("tk/3"),l=((a=function(){function t(e){u(this,t),this._http=e}return p(t,[{key:"getSMSTemplates",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=r.SMS_TEMPLATE_LIST_URL+t+"&offset="+e;return(null==n?void 0:n.length)&&(i+="&tags="+n),this._http.get(i)}},{key:"saveTemplate",value:function(t){return this._http.post(r.SMS_TEMPLATE_SAVE_URL,t)}},{key:"updateTemplate",value:function(t){return this._http.put(r.SMS_TEMPLATE_UPDATE_URL,t)}},{key:"deleteTemplate",value:function(t){return this._http.delete(r.SMS_TEMPLATE_DELETE_URL+t)}},{key:"validateTemplate",value:function(t){return this._http.post(r.SMS_TEMPLATE_VALIDATE_URL,{template:t.template,title:t.title}).pipe(function(t){return t})}}]),t}()).\u0275fac=function(t){return new(t||a)(c.bc(s.c))},a.\u0275prov=c.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},IQJ1:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.JSON="JSON",t.XLS="XLS",t}({})},IVUT:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("fXoL"),o=n("tk/3"),r=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=i.g.url}return p(t,[{key:"addNewLead",value:function(t){var e=localStorage.getItem("loggedInTenant"),n=localStorage.getItem("loggedInUser");return t.tenantId=e,t.createdBy=n,this._http.post(this.rootUrl+"/v2/leads",JSON.stringify(t))}},{key:"updateLead",value:function(t,e){return this._http.put(this.rootUrl+"/v2/leads/"+e,t)}},{key:"getLeads",value:function(t,e,n,i){var a=localStorage.getItem("loggedInUser"),o=this.rootUrl+"/v2/leads/users/"+a+"?status="+n+"&offset="+i;return 0!=t&&(o=o+"&starttime="+t),0!=e&&(o=o+"&endtime="+e),this._http.get(o)}},{key:"searchLeads",value:function(t){var e=localStorage.getItem("loggedInUser"),n=this.rootUrl+"/v2/leads/search/"+e+"?limit="+t.limit+"&offset="+t.offset+"&order="+t.order;return t.status&&(n=n+"&status="+t.status),t.language&&(n=n+"&language="+t.language),t.physicianId&&(n=n+"&physicianId="+t.physicianId),t.site&&(n=n+"&site="+t.site),t.query&&null!=t.query&&(n=n+"&query="+t.query),t.tier&&null!=t.tier&&(n=n+"&tier="+t.tier),t.requestTenantIds&&null!=t.requestTenantIds&&(n=n+"&requestTenantIds="+t.requestTenantIds),this._http.get(n)}},{key:"getSpecificLeadForUser",value:function(t){return this._http.get(this.rootUrl+"/v2/leads/"+t)}},{key:"getAllNotesForLead",value:function(t){return this._http.get(this.rootUrl+"/v2/leads/"+t+"/notes")}},{key:"markAsLost",value:function(t,e,n){return this._http.put("".concat(this.rootUrl,"/v2/leads/").concat(t,"/").concat(e,"/markAsLost"),{reason:n})}},{key:"addNewNoteForLead",value:function(t){var e=localStorage.getItem("loggedInTenant");return t.tenantId=e,this._http.post(this.rootUrl+"/v2/leads/"+t.leadId+"/notes",JSON.stringify(t))}},{key:"convertLeadToPatient",value:function(t,e){return this._http.put(this.rootUrl+"/v2/leads/"+t+"/convert-to-patient/"+e,{})}},{key:"getAllFollowUpsForLead",value:function(t){return this._http.get(this.rootUrl+"/v2/leads/"+t+"/follow-ups")}},{key:"addNewFollowUp",value:function(t){return this._http.post(this.rootUrl+"/v2/leads/follow-ups",JSON.stringify(t))}},{key:"getAllFollowUpsForUser",value:function(){var t=localStorage.getItem("loggedInUser");return this._http.get(this.rootUrl+"/v2/leads/users/"+t+"/follow-ups")}},{key:"deleteSpecificLead",value:function(t){return this._http.delete(this.rootUrl+"/v2/leads/"+t,{observe:"response",responseType:"text"})}},{key:"getNewRegistrationRequests",value:function(){var t=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/leads/registration-requests/"+t)}},{key:"generateLeadReport",value:function(t,e){var n=this.rootUrl+"/v3/analytics/patient-intake-report?reportType=EXCEL";return null==t&&null==t||(n=n+"&startDate="+t),null==e&&null==e||(n=n+"&endDate="+e),this._http.get(n)}},{key:"validateBulkLeads",value:function(t){return this._http.post(this.rootUrl+"/v2/bulk-upload/validate-leads",JSON.stringify(t))}},{key:"bulkUploadLeads",value:function(t){return this._http.post(this.rootUrl+"/v2/bulk-upload/leads",JSON.stringify(t))}},{key:"updateChecklist",value:function(t){return this._http.post(this.rootUrl+"/v2/checklist",JSON.stringify(t))}},{key:"getChecklist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ENROLMENT",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DRAFT",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this._http.get("".concat(this.rootUrl,"/v2/checklist?userId=").concat(t,"&context=").concat(e,"&status=").concat(n,"&loadFromDraft=").concat(i))}},{key:"getChecklistForPreview",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._http.get("".concat(this.rootUrl,"/v2/checklist?userId=").concat(t,"&preview=").concat(e))}},{key:"getChecklistHistory",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._http.get("".concat(this.rootUrl,"/v2/checklist/user/").concat(t,"?preview=").concat(e))}},{key:"submitChecklist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._http.put(this.rootUrl+"/v2/checklist?checklistId="+t,e)}},{key:"qualifyLeads",value:function(t){return this._http.put(this.rootUrl+"/v3/user-qualification/leads",t)}},{key:"getAllLanguagesForLeads",value:function(){return this._http.get(this.rootUrl+"/v2/leads/available/languages")}},{key:"createChecklistNote",value:function(t){return this._http.post(this.rootUrl+"/v2/checklist/generate-note",JSON.stringify(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},IZEq:function(t,e,i){"use strict";i.d(e,"a",function(){return V});var a=i("WoUL"),o=i("sG7K"),r=i("x6g7"),c=i("i7mu"),s=i("fXoL"),l=i("dEAy"),d=i("bNXi"),b=i("B+r4"),h=i("PTRe"),g=i("3Pt+"),f=i("ofXK"),v=i("EGpF"),m=i("zAKX"),S=i("nJQN"),y=i("5vDB"),T=i("OzZK"),C=i("RwU8"),E=i("C2AL"),I=i("eHCX"),M=i("dRHE");function A(t,e){if(1&t&&(s.Xb(0,"container"),s.Xb(1,"p",27),s.Xc(2),s.Wb(),s.Wb()),2&t){var n=s.ic();s.Db(2),s.Zc(" ",n.nameError," ")}}function _(t,e){if(1&t&&s.Sb(0,"nz-option",28),2&t){var n=e.$implicit;s.rc("nzLabel",n.value)("nzValue",n.key)}}function D(t,e){if(1&t&&(s.Xb(0,"container"),s.Xb(1,"p",27),s.Xc(2),s.Wb(),s.Wb()),2&t){var n=s.ic();s.Db(2),s.Zc(" ",n.paramTypeError," ")}}function z(t,e){if(1&t&&(s.Sb(0,"nz-option",28),s.jc(1,"translate")),2&t){var n=e.$implicit;s.rc("nzLabel",s.kc(1,2,n.value))("nzValue",n.key)}}function O(t,e){if(1&t&&(s.Xb(0,"container"),s.Xb(1,"p",27),s.Xc(2),s.Wb(),s.Wb()),2&t){var n=s.ic();s.Db(2),s.Zc(" ",n.conditionError," ")}}function k(t,e){if(1&t&&s.Sb(0,"nz-option",28),2&t){var n=e.$implicit;s.rc("nzLabel",n.value)("nzValue",n.key)}}function N(t,e){if(1&t&&(s.Xb(0,"container"),s.Xb(1,"p",27),s.Xc(2),s.Wb(),s.Wb()),2&t){var n=s.ic();s.Db(2),s.Zc(" ",n.frequencyOccurenceError," ")}}function P(t,e){if(1&t&&s.Sb(0,"nz-option",28),2&t){var n=e.$implicit;s.rc("nzLabel",n.value)("nzValue",n.key)}}function R(t,e){if(1&t&&(s.Xb(0,"container"),s.Xb(1,"p",27),s.Xc(2),s.Wb(),s.Wb()),2&t){var n=s.ic();s.Db(2),s.Zc(" ",n.frequencyDaysError," ")}}function X(t,e){if(1&t&&(s.Xb(0,"container"),s.Xb(1,"p",27),s.Xc(2),s.Wb(),s.Wb()),2&t){var n=s.ic();s.Db(2),s.Zc(" ",n.priorityError," ")}}var L,w,W=((w=function(){function t(e,n,i,a,o){var r=this;u(this,t),this._vitalBlueprintsService=e,this._translationService=n,this._alertService=i,this._modalRef=a,this._notificationService=o,this.patientId=null,this.level=c.c.TENANT_LEVEL,this.mode="ADD",this.maxOccurenceLimit=5,this.maxDaysimit=5,this.loading=!1,this.occurences=new Map,this.withInDays=new Map,this.conditions=new Map([["LOW","ALERT.BELOW_LIMIT"],["HIGH","ALERT.ABOVE_LIMIT"]]),this.strings=["ALERT.FOR_CONSECUTIVE_READING","ALERT.WITHIN_DAYS"],this.translatedStrings=new Map,this.occurenceLoading=!1,this.vitalLoading=!1,this.vitalParamAndTypeMap=new Map,this.reset=function(){"ADD"==r.mode?(r.alertPrioritisationRule=new c.a,r.initDefaultValues()):r.alertPrioritisationRule=JSON.parse(r.originalValueString)},this.cancel=function(){return r._modalRef.close(!1)}}return p(t,[{key:"ngOnInit",value:function(){var t,e=this;"ADD"==this.mode?this.initDefaultValues():this.originalValueString=JSON.stringify(this.alertPrioritisationRule),this.loading=!0,this.occurenceLoading=!0,this.vitalLoading=!0,(t=this._translationService).getMultiple.apply(t,n(this.strings)).subscribe(function(t){e.translatedStrings=t;for(var n=2;n<=e.maxOccurenceLimit;n++)e.occurences.set(n,e.translatedStrings.get("ALERT.FOR_CONSECUTIVE_READING").replace("{COUNT}",n.toString()));for(var i=1;i<=e.maxOccurenceLimit;i++)e.withInDays.set(i,e.translatedStrings.get("ALERT.WITHIN_DAYS").replace("{COUNT}",i.toString()));e.occurenceLoading=!1}),this.getAllVitalBlueprintsOfPatient()}},{key:"initDefaultValues",value:function(){this.alertPrioritisationRule=new c.a,this.alertPrioritisationRule.level=this.level,null!=this.patientId&&null!=this.patientId&&this.level==c.c.PATIENT_LEVEL&&(this.alertPrioritisationRule.patientId=this.patientId),this.alertPrioritisationRule.criteria=new Array;var t=new c.d;this.alertPrioritisationRule.criteria.push(t)}},{key:"getAllVitalBlueprintsOfPatient",value:function(){var t=this;this._vitalBlueprintsService.fetchVitalBlueprintsForTenant().subscribe(function(e){e&&(t.tenantVitalBlueprints=e.filter(function(t){return null==t?void 0:t.active}),t.vitalAndUnitsMap=new Map,t.tenantVitalBlueprints.forEach(function(e){e.parameters.forEach(function(e){return t.vitalAndUnitsMap.set(e.type,e.label)}),e.parameters.forEach(function(n){return t.vitalParamAndTypeMap.set(n.type,e.type)})}))},function(){},function(){return t.vitalLoading=!1})}},{key:"onChange",value:function(t,e){switch(e){case"VITAL_PARAMETER":this.alertPrioritisationRule.criteria[0].paramType=t,this.alertPrioritisationRule.criteria[0].parentType=this.vitalParamAndTypeMap.get(t);break;case"CONDITION":this.alertPrioritisationRule.criteria[0].condition=t;break;case"OCCURENCE":this.alertPrioritisationRule.criteria[0].frequency.occurrence=t;break;case"WITHIN_DAYS":this.alertPrioritisationRule.criteria[0].frequency.withInDays=t;break;case"PRIORITY":this.alertPrioritisationRule.priority=t}}},{key:"isValid",value:function(){var t=new Map;return null!=this.alertPrioritisationRule&&null!=this.alertPrioritisationRule||t.set("*","Invalid Data"),this.alertPrioritisationRule.name?this.nameError=void 0:(t.set("NAME","Invalid Rule Name"),this.nameError="Invalid Rule Name"),this.alertPrioritisationRule.priority?this.priorityError=void 0:(t.set("PRIORITY","Invalid Priority"),this.priorityError="Invalid Priority"),null==this.alertPrioritisationRule.criteria||null==this.alertPrioritisationRule.criteria||0==this.alertPrioritisationRule.criteria.length||null==this.alertPrioritisationRule.criteria[0]||null==this.alertPrioritisationRule.criteria[0]?(t.set("CRITERIA","Invalid Criteria"),this.criteriaError="Invalid Criteria"):this.criteriaError=void 0,null==this.alertPrioritisationRule.criteria[0].condition||null==this.alertPrioritisationRule.criteria[0].condition?(t.set("CRITERIA.CONDITION","Invalid Criteria Condition"),this.conditionError="Invalid Criteria Condition"):this.conditionError=void 0,null==this.alertPrioritisationRule.criteria[0].operation||null==this.alertPrioritisationRule.criteria[0].operation?(t.set("CRITERIA.OPERATION","Invalid Criteria Operation"),this.operationError="Invalid Criteria Operation"):this.operationError=void 0,null==this.alertPrioritisationRule.criteria[0].frequency||null==this.alertPrioritisationRule.criteria[0].frequency||null==this.alertPrioritisationRule.criteria[0].frequency.occurrence||null==this.alertPrioritisationRule.criteria[0].frequency.occurrence||this.alertPrioritisationRule.criteria[0].frequency.occurrence<=0?(t.set("CRITERIA.FREQUENCY.OCCURENCE","Invalid Criteria Frequency Occurence"),this.frequencyOccurenceError="Invalid Criteria Frequency Occurence"):this.frequencyOccurenceError=void 0,null==this.alertPrioritisationRule.criteria[0].frequency.withInDays||null==this.alertPrioritisationRule.criteria[0].frequency.withInDays||this.alertPrioritisationRule.criteria[0].frequency.withInDays<=0?(t.set("CRITERIA.FREQUENCY.DAYS","Invalid Criteria Frequency Days"),this.frequencyDaysError="Invalid Criteria Frequency Days"):this.frequencyDaysError=void 0,null==this.alertPrioritisationRule.criteria[0].paramType||null==this.alertPrioritisationRule.criteria[0].paramType?(t.set("CRITERIA.PARAM","Invalid Criteria Vital Parameter"),this.paramTypeError="Invalid Criteria Vital Parameter"):this.paramTypeError=void 0,t}},{key:"save",value:function(){var t=this;this.isValid().size>0||(this.savebtnLoading=!0,"ADD"==this.mode?this._alertService.saveAlertRule(this.alertPrioritisationRule).subscribe(function(e){t.savebtnLoading=!1,t._modalRef.close(!0)},function(e){t.savebtnLoading=!1,t._notificationService.error("Alert","ALERT_RULE_PRIORITY_COUNT_CAP"==e.error.type?"Alert priority cap of "+e.error.parameters.CAP_COUNT+" is reached.":"Duplicate Alert")}):this._alertService.updateAlertRule(this.alertPrioritisationRule).subscribe(function(e){t.savebtnLoading=!1,t._modalRef.close(!0)},function(e){t.savebtnLoading=!1,t._notificationService.error("Alert","Duplicate Alert")}))}}]),t}()).\u0275fac=function(t){return new(t||w)(s.Rb(o.a),s.Rb(a.a),s.Rb(r.a),s.Rb(l.e),s.Rb(d.b))},w.\u0275cmp=s.Lb({type:w,selectors:[["alert-escalation-add-edit"]],inputs:{patientId:"patientId",level:"level"},decls:73,vars:56,consts:[[1,"container"],["nz-row","","nzGutter","12",2,"margin-bottom","20px"],["nz-col","","nzSpan","14"],["nz-topography","","nzType","secondary",1,"label"],["nz-input","",3,"placeholder","ngModel","disabled","ngModelChange"],[4,"ngIf"],["nz-col","","nzSpan","7"],["nz-col","","nzSpan","3"],[3,"ngModel","ngModelChange"],["nz-row","","nzGutter","12",1,"alert-rule-container"],["nz-col","","nzSpan","2"],["nz-topography","","nzType","primary"],["nz-col","","nzSpan","10"],["nzShowSearch","",3,"nzPlaceHolder","ngModel","nzLoading","nzDisabled","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzShowSearch","","nzPlaceHolder","Select condition",3,"ngModel","nzDisabled","ngModelChange"],["nz-col","","nzSpan","2",1,"gap"],["nz-col","","nzSpan","10",1,"gap"],["nzShowSearch","","nzPlaceHolder","Select occurence",3,"ngModel","nzLoading","nzDisabled","ngModelChange"],["nzShowSearch","","nzPlaceHolder","within days",3,"ngModel","nzLoading","nzDisabled","ngModelChange"],[3,"priority","disabled","onPriorityChange"],["nz-row","","nzGutter","12"],["nz-button","","nzType","default","nzDanger","",3,"click"],["nz-col","","nzSpan","12"],["nz-col","","nzSpan","4"],["nz-col","","nzSpan","5"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-typography","","nzType","danger",1,"error-msg"],[3,"nzLabel","nzValue"]],template:function(t,e){1&t&&(s.Xb(0,"div",0),s.Xb(1,"div",1),s.Xb(2,"div",2),s.Xb(3,"p",3),s.Xc(4),s.jc(5,"translate"),s.Wb(),s.Xb(6,"input",4),s.ec("ngModelChange",function(t){return e.alertPrioritisationRule.name=t}),s.jc(7,"translate"),s.Wb(),s.Vc(8,A,3,1,"container",5),s.Wb(),s.Sb(9,"div",6),s.Xb(10,"div",7),s.Xb(11,"p",3),s.Xc(12),s.jc(13,"translate"),s.Wb(),s.Xb(14,"nz-switch",8),s.ec("ngModelChange",function(t){return e.alertPrioritisationRule.active=t}),s.Wb(),s.Wb(),s.Wb(),s.Xb(15,"div",9),s.Xb(16,"div",10),s.Xb(17,"p",11),s.Xc(18," If "),s.Wb(),s.Wb(),s.Xb(19,"div",12),s.Xb(20,"span"),s.Xb(21,"nz-select",13),s.ec("ngModelChange",function(t){return e.alertPrioritisationRule.criteria[0].paramType=t})("ngModelChange",function(t){return e.onChange(t,"VITAL_PARAMETER")}),s.jc(22,"translate"),s.Vc(23,_,1,2,"nz-option",14),s.jc(24,"keyvalue"),s.Wb(),s.Vc(25,D,3,1,"container",5),s.Wb(),s.Wb(),s.Xb(26,"div",10),s.Xb(27,"p",11),s.Xc(28," is "),s.Wb(),s.Wb(),s.Xb(29,"div",12),s.Xb(30,"nz-select",15),s.ec("ngModelChange",function(t){return e.alertPrioritisationRule.criteria[0].condition=t})("ngModelChange",function(t){return e.onChange(t,"CONDITION")}),s.Vc(31,z,2,4,"nz-option",14),s.jc(32,"keyvalue"),s.Wb(),s.Vc(33,O,3,1,"container",5),s.Wb(),s.Xb(34,"div",16),s.Xb(35,"p",11),s.Xc(36," For "),s.Wb(),s.Wb(),s.Xb(37,"div",17),s.Xb(38,"nz-select",18),s.ec("ngModelChange",function(t){return e.alertPrioritisationRule.criteria[0].frequency.occurrence=t})("ngModelChange",function(t){return e.onChange(t,"OCCURENCE")}),s.Vc(39,k,1,2,"nz-option",14),s.jc(40,"keyvalue"),s.Wb(),s.Vc(41,N,3,1,"container",5),s.Wb(),s.Xb(42,"div",16),s.Xb(43,"p",11),s.Xc(44," in "),s.Wb(),s.Wb(),s.Xb(45,"div",17),s.Xb(46,"span"),s.Xb(47,"nz-select",19),s.ec("ngModelChange",function(t){return e.alertPrioritisationRule.criteria[0].frequency.withInDays=t})("ngModelChange",function(t){return e.onChange(t,"WITHIN_DAYS")}),s.Vc(48,P,1,2,"nz-option",14),s.jc(49,"keyvalue"),s.Wb(),s.Vc(50,R,3,1,"container",5),s.Wb(),s.Wb(),s.Wb(),s.Xb(51,"div",9),s.Xb(52,"div",2),s.Xb(53,"p",11),s.Xc(54," then raise an alert. This alert\u2019s priority is "),s.Wb(),s.Wb(),s.Xb(55,"div",12),s.Xb(56,"app-alert-priority-dropdown",20),s.ec("onPriorityChange",function(t){return e.onChange(t,"PRIORITY")}),s.Wb(),s.Wb(),s.Vc(57,X,3,1,"container",5),s.Wb(),s.Sb(58,"nz-divider"),s.Xb(59,"div",21),s.Xb(60,"div",7),s.Xb(61,"button",22),s.ec("click",function(){return e.reset()}),s.Xc(62),s.jc(63,"translate"),s.Wb(),s.Wb(),s.Sb(64,"div",23),s.Xb(65,"div",24),s.Xb(66,"a",22),s.ec("click",function(){return e.cancel()}),s.Xc(67),s.jc(68,"translate"),s.Wb(),s.Wb(),s.Xb(69,"div",25),s.Xb(70,"button",26),s.ec("click",function(){return e.save()}),s.Xc(71),s.jc(72,"translate"),s.Wb(),s.Wb(),s.Wb(),s.Wb()),2&t&&(s.Db(4),s.Zc(" ",s.kc(5,34,"ALERT.RULE_NAME")," "),s.Db(2),s.sc("placeholder",s.kc(7,36,"ALERT.RULE_NAME")),s.rc("ngModel",e.alertPrioritisationRule.name)("disabled",!e.alertPrioritisationRule.active),s.Db(2),s.rc("ngIf",e.nameError),s.Db(4),s.Zc(" ",s.kc(13,38,"TABLEHEADER.ENABLED")," "),s.Db(2),s.rc("ngModel",e.alertPrioritisationRule.active),s.Db(7),s.sc("nzPlaceHolder",s.kc(22,40,"VITAL.SELECT_VITAL")),s.rc("ngModel",e.alertPrioritisationRule.criteria[0].paramType)("nzLoading",e.vitalLoading)("nzDisabled","EDIT"==e.mode),s.Db(2),s.rc("ngForOf",s.kc(24,42,e.vitalAndUnitsMap)),s.Db(2),s.rc("ngIf",e.paramTypeError),s.Db(5),s.rc("ngModel",e.alertPrioritisationRule.criteria[0].condition)("nzDisabled",!e.alertPrioritisationRule.active),s.Db(1),s.rc("ngForOf",s.kc(32,44,e.conditions)),s.Db(2),s.rc("ngIf",e.conditionError),s.Db(5),s.rc("ngModel",e.alertPrioritisationRule.criteria[0].frequency.occurrence)("nzLoading",e.occurenceLoading)("nzDisabled",!e.alertPrioritisationRule.active),s.Db(1),s.rc("ngForOf",s.kc(40,46,e.occurences)),s.Db(2),s.rc("ngIf",e.frequencyOccurenceError),s.Db(6),s.rc("ngModel",e.alertPrioritisationRule.criteria[0].frequency.withInDays)("nzLoading",e.vitalLoading)("nzDisabled",!e.alertPrioritisationRule.active),s.Db(1),s.rc("ngForOf",s.kc(49,48,e.withInDays)),s.Db(2),s.rc("ngIf",e.frequencyDaysError),s.Db(6),s.rc("priority",null==e.alertPrioritisationRule?null:e.alertPrioritisationRule.priority)("disabled",!e.alertPrioritisationRule.active),s.Db(1),s.rc("ngIf",e.priorityError),s.Db(5),s.Zc(" ",s.kc(63,50,"RESET")," "),s.Db(5),s.Zc(" ",s.kc(68,52,"COMMON.CANCEL")," "),s.Db(3),s.rc("nzLoading",e.savebtnLoading),s.Db(1),s.Zc(" ",s.kc(72,54,"COMMON.SAVE")," "))},directives:[b.c,b.a,h.b,g.d,g.u,g.x,f.q,v.a,m.d,f.p,S.a,y.a,T.a,C.a,E.a,I.a,m.a],pipes:[M.a,f.j],styles:[".comp-span[_ngcontent-%COMP%]{margin:10px;width:15%}.comp-priority-span[_ngcontent-%COMP%]{width:35%;padding:30px;display:flex;align-items:baseline}.priority-card[_ngcontent-%COMP%]{display:flex;align-items:baseline;padding:30px 15px}.rule-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.gap[_ngcontent-%COMP%]{margin-top:10px}.alert-rule-container[_ngcontent-%COMP%]{padding:15px;display:flex;align-items:baseline;border-radius:5px;margin-bottom:20px}.label[_ngcontent-%COMP%]{color:#888;font-size:12px;margin-bottom:0}  .vertical-center-modal{display:flex;align-items:center;justify-content:center}  .vertical-center-modal .ant-modal{top:0}.container[_ngcontent-%COMP%]{padding:10px 0!important}[_nghost-%COMP%]     .ant-btn{border-width:1px}.error-msg[_ngcontent-%COMP%]{font-size:12px}"]}),w),V=((L=function(){function t(e){u(this,t),this._modalService=e}return p(t,[{key:"showAlertRuleCreateModal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.c.TENANT_LEVEL,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ADD",i=arguments.length>3?arguments[3]:void 0;return this._modalService.create({nzContent:W,nzComponentParams:{level:t,patientId:e,mode:n,alertPrioritisationRule:i},nzMask:!0,nzMaskClosable:!0,nzClosable:!0,nzWidth:500,nzWrapClassName:"vertical-center-modal",nzFooter:null,nzTitle:"ADD"==n?"Create an alert":"Update alert",nzBodyStyle:{paddingTop:"0px"}})}}]),t}()).\u0275fac=function(t){return new(t||L)(s.bc(l.f))},L.\u0275prov=s.Nb({token:L,factory:L.\u0275fac,providedIn:"root"}),L)},Ifg2:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("JcrP"),a=n("fXoL"),o=function(){var t=function t(){u(this,t),this.parse=function(t){var e=i.a(t.result,{type:"binary",cellDates:!0,cellNF:!1,cellText:!1});return e.SheetNames.reduce(function(t,n){return t[n]=i.b.sheet_to_json(e.Sheets[n],{raw:!1}),t},{})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac}),t}()},Jlwr:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("fXoL"),o=n("tk/3"),r=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootURL=i.g.url}return p(t,[{key:"initiateStaffSession",value:function(){return this._http.post("".concat(this.rootURL,"/v3/staff-sessions"),{})}},{key:"closeStaffSession",value:function(t){return this._http.put("".concat(this.rootURL,"/v3/staff-sessions/").concat(t),{})}},{key:"updateStaffSession",value:function(t){return this._http.put("".concat(this.rootURL,"/v3/staff-sessions/update-state"),t)}},{key:"fetchStaffSession",value:function(t,e,n){var i="".concat(this.rootURL,"/v3/staff-sessions/").concat(t,"?");return e&&(i="".concat(i,"startDate=").concat(e)),n&&(i="".concat(i,"&endDate=").concat(n)),this._http.get(i)}},{key:"fetchStaffSessionForTenant",value:function(t,e){var n="".concat(this.rootURL,"/v3/staff-sessions/tenant?");return t&&(n="".concat(n,"startDate=").concat(t)),e&&(n="".concat(n,"&endDate=").concat(e)),this._http.get(n)}},{key:"fetchStaffSessionById",value:function(t){return this._http.get("".concat(this.rootURL,"/v3/staff-sessions/id/").concat(t))}},{key:"fetchStaffSessionsSummary",value:function(t,e,n){var i="".concat(this.rootURL,"/v3/staff-sessions/summary/").concat(t,"?");return e&&(i="".concat(i,"startDate=").concat(e)),n&&(i="".concat(i,"&endDate=").concat(n)),this._http.get(i)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},KC2T:function(t,e,i){"use strict";i.d(e,"a",function(){return it});var a=i("igu/"),o=i("FH+g"),r=i("OE57"),c=i("OTIt"),s=i("c/Vb"),l=i("ZVns"),d=i("fXoL"),b=i("dEAy"),h=i("bNXi"),g=i("ofXK"),f=i("eHCX"),v=i("JA5x"),m=i("B+r4"),S=i("0lU3"),y=i("3Pt+"),T=i("PTRe"),C=i("OzZK"),E=i("RwU8"),I=i("C2AL"),M=i("5vDB"),A=i("dRHE");function _(t,e){1&t&&(d.Xb(0,"div",12),d.Xb(1,"strong"),d.Xc(2),d.jc(3,"translate"),d.Wb(),d.Wb()),2&t&&(d.Db(2),d.Zc(" ",d.kc(3,1,"TABLEHEADER.ENDTIME")," "))}function D(t,e){1&t&&(d.Xb(0,"div",12),d.Xb(1,"strong"),d.Xc(2,"Total Time Spent"),d.Wb(),d.Wb())}function z(t,e){if(1&t&&(d.Xb(0,"div",12),d.Sb(1,"input",14),d.jc(2,"date"),d.Wb()),2&t){var n=d.ic(4);d.Db(1),d.rc("ngModel",d.lc(2,2,n.session.endTime,"mediumTime"))("disabled",!0)}}function O(t,e){if(1&t&&(d.Xb(0,"div",12),d.Sb(1,"input",14),d.Wb()),2&t){var n=d.ic(4);d.Db(1),d.rc("ngModel",n.duration)("disabled",!0)}}function k(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"div",2),d.Xb(2,"div",12),d.Xb(3,"strong"),d.Xc(4),d.jc(5,"translate"),d.Wb(),d.Wb(),d.Vc(6,_,4,3,"div",13),d.Vc(7,D,3,0,"div",13),d.Wb(),d.Xb(8,"div",2),d.Xb(9,"div",12),d.Sb(10,"input",14),d.jc(11,"date"),d.Wb(),d.Vc(12,z,3,5,"div",13),d.Vc(13,O,2,2,"div",13),d.Wb(),d.Sb(14,"br"),d.Sb(15,"br"),d.Ub()),2&t){var n=d.ic(3);d.Db(4),d.Zc(" ",d.kc(5,7,"TABLEHEADER.STARTTIME")," "),d.Db(2),d.rc("ngIf",n.session.endTime),d.Db(1),d.rc("ngIf",n.duration),d.Db(3),d.rc("ngModel",d.lc(11,9,n.session.startTime,"mediumTime"))("disabled",!0),d.Db(2),d.rc("ngIf",n.session.endTime),d.Db(1),d.rc("ngIf",n.duration)}}function N(t,e){if(1&t){var n=d.Yb();d.Xb(0,"nz-card"),d.Xb(1,"div",2),d.Xb(2,"div",3),d.Xb(3,"strong"),d.Xc(4),d.jc(5,"translate"),d.Wb(),d.Wb(),d.Wb(),d.Xb(6,"div",2),d.Xb(7,"div",3),d.Xb(8,"nz-date-picker",4),d.ec("ngModelChange",function(t){return d.Lc(n),d.ic(2).appointment.schedule.startsOn=t}),d.Wb(),d.Wb(),d.Wb(),d.Sb(9,"br"),d.Sb(10,"br"),d.Vc(11,k,16,12,"ng-container",0),d.Xb(12,"div",2),d.Xb(13,"div",3),d.Xb(14,"strong"),d.Xc(15,"Mode Of Communication"),d.Wb(),d.Wb(),d.Wb(),d.Xb(16,"div",2),d.Xb(17,"div",3),d.Xb(18,"input",5),d.ec("ngModelChange",function(t){return d.Lc(n),d.ic(2).appointment.type=t}),d.Wb(),d.Wb(),d.Wb(),d.Sb(19,"br"),d.Sb(20,"br"),d.Xb(21,"div",2),d.Xb(22,"div",3),d.Xb(23,"strong"),d.Xc(24,"Clinician"),d.Wb(),d.Wb(),d.Xb(25,"div",3),d.Xb(26,"strong"),d.Xc(27,"Patient"),d.Wb(),d.Wb(),d.Wb(),d.Xb(28,"div",2),d.Xb(29,"div",3),d.Xb(30,"input",5),d.ec("ngModelChange",function(t){return d.Lc(n),d.ic(2).appointment.attenderName=t}),d.Wb(),d.Wb(),d.Xb(31,"div",3),d.Xb(32,"input",5),d.ec("ngModelChange",function(t){return d.Lc(n),d.ic(2).appointment.attendeeName=t}),d.Wb(),d.Wb(),d.Wb(),d.Sb(33,"br"),d.Sb(34,"br"),d.Xb(35,"div",2),d.Xb(36,"div",6),d.Xb(37,"strong"),d.Xc(38,"Notes"),d.Wb(),d.Wb(),d.Wb(),d.Xb(39,"div",2),d.Xb(40,"div",6),d.Xb(41,"textarea",7),d.ec("ngModelChange",function(t){return d.Lc(n),d.ic(2).note=t}),d.Wb(),d.Wb(),d.Wb(),d.Sb(42,"br"),d.Sb(43,"br"),d.Xb(44,"div",2),d.Xb(45,"div",8),d.Xb(46,"button",9),d.ec("click",function(){return d.Lc(n),d.ic(2).close()}),d.Xc(47,"Close"),d.Wb(),d.Sb(48,"nz-divider",10),d.Xb(49,"button",11),d.ec("click",function(){return d.Lc(n),d.ic(2).close(!0)}),d.Xc(50,"Save"),d.Wb(),d.Wb(),d.Wb(),d.Wb()}if(2&t){var i=d.ic(2);d.Db(4),d.Zc(" ",d.kc(5,11,"COMMON.DATE")," "),d.Db(4),d.rc("nzDisabled",!0)("ngModel",i.appointment.schedule.startsOn),d.Db(3),d.rc("ngIf",i.session),d.Db(7),d.rc("ngModel",i.appointment.type)("disabled",!0),d.Db(12),d.rc("ngModel",i.appointment.attenderName)("disabled",!0),d.Db(2),d.rc("ngModel",i.appointment.attendeeName)("disabled",!0),d.Db(9),d.rc("ngModel",i.note)}}function P(t,e){if(1&t&&(d.Vb(0),d.Xb(1,"h2",1),d.Xc(2,"Appointment Notes"),d.Wb(),d.Sb(3,"br"),d.Vc(4,N,51,13,"nz-card",0),d.Ub()),2&t){var n=d.ic();d.Db(4),d.rc("ngIf",n.appointment)}}var R,X=((R=function(){function t(e,n,i,a,o,r,c){u(this,t),this._appointmentsService=e,this._videoCallService=n,this._modalRef=i,this._notificationsService=a,this._dataSharingService=o,this._voicecallService=r,this._patientCommunicationModalService=c,this.type="VIDEO_APPOINTMENT",this.isCompleted=!1}return p(t,[{key:"ngAfterViewInit",value:function(){var t=this;this.checkIfCMTEnabled(),this._appointmentsService.fetchAppointmentDetailsById(this.appointmentId).subscribe(function(e){return t.appointment=e.appointment}),"VIDEO_APPOINTMENT"==this.type?this._videoCallService.getVideoCallSession(this.callSessionId).subscribe(function(e){var n=0;if(e.participantCallLogs.forEach(function(t){"CALL_JOINED"===t.callStatus&&n++}),n<2)t.close();else{t.videoCallSession=e,t.session=e;var i=e.endTime-e.startTime,a=Math.floor(i/1e3/60<<0),o=Math.floor(i/1e3%60);t.duration=a+":"+o}},function(e){console.log(e),t._notificationsService.error("Video call","Video call session not found !!!")}):"AUDIO_CALL_APPOINTMENT"==this.type&&this._voicecallService.getVoiceCallDetails(this.callSessionId).subscribe(function(e){t.audioCallSession=e,t.session=e;var n=new Date(e.endTime).getTime()-new Date(e.startTime).getTime(),i=Math.floor(n/1e3/60<<0),a=Math.floor(n/1e3%60);t.duration=i+":"+a},function(e){console.log(e),t._notificationsService.error("Audio call","Audio call session not found !!!")})}},{key:"checkIfCMTEnabled",value:function(){var t=this;this.tenantSettings$=this._dataSharingService.tenantSettings.subscribe(function(e){e&&e.episodeBlueprints.forEach(function(e){e.archived||e.enabledServiceCodes.forEach(function(e){"99484"===e&&(t.isCMTEnabled=!0)})})})}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isCompleted=t,this._modalRef.close()}},{key:"ngOnDestroy",value:function(){this.isCompleted&&this.completeAppointment(),this.tenantSettings$&&this.tenantSettings$.unsubscribe()}},{key:"completeAppointment",value:function(){var t=this;this._appointmentsService.completeAppointment({appointmentId:this.appointment.id,patientId:this.appointment.attendeeId,caretakerId:this.appointment.attenderId,appointmentType:this.appointment.type,note:this.note}).subscribe(function(e){t._notificationsService.success("Appointment","Appointment completed!"),t.appointment.episodeId&&t.isCMTEnabled&&t.launchCMTModal()})}},{key:"launchCMTModal",value:function(){this._patientCommunicationModalService.createCMTModal(this.appointment.attendeeName,this.appointment.attendeeId,this.appointment.episodeId,s.a.CARE_MANAGEMENT_TIME,null,this.videoCallSession.startTime,this.videoCallSession.endTime)}}]),t}()).\u0275fac=function(t){return new(t||R)(d.Rb(r.a),d.Rb(o.a),d.Rb(b.e),d.Rb(h.b),d.Rb(a.a),d.Rb(l.a),d.Rb(c.a))},R.\u0275cmp=d.Lb({type:R,selectors:[["app-appointment-notes"]],inputs:{appointmentId:"appointmentId",callSessionId:"callSessionId",type:"type"},decls:1,vars:1,consts:[[4,"ngIf"],["nz-typography",""],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],[3,"nzDisabled","ngModel","ngModelChange"],["nz-input","",3,"ngModel","disabled","ngModelChange"],["nz-col","","nzSpan","24"],["rows","4","nz-input","",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","24",1,"actions"],["nz-button","","nzType","danger",3,"click"],["nzType","vertical"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzSpan","8"],["nz-col","","nzSpan","8",4,"ngIf"],["nz-input","",3,"ngModel","disabled"]],template:function(t,e){1&t&&d.Vc(0,P,5,1,"ng-container",0),2&t&&d.rc("ngIf",e.session)},directives:[g.q,f.a,v.a,m.c,m.a,S.a,y.u,y.x,T.b,y.d,C.a,E.a,I.a,M.a],pipes:[A.a,g.e],styles:["h2[_ngcontent-%COMP%]{text-align:center}.ant-card[_ngcontent-%COMP%]{border-radius:10px}strong[_ngcontent-%COMP%]{font-weight:bolder;font-size:12px;margin-left:5px}textarea[_ngcontent-%COMP%]{resize:none}[_nghost-%COMP%]     .ant-input-disabled, [_nghost-%COMP%]     .ant-time-picker-input[disabled]{border-radius:10px}[_nghost-%COMP%]     .ant-time-picker{width:100%}.actions[_ngcontent-%COMP%]{text-align:right}"]}),R),L=i("geco"),w=(i("QBjw"),i("bDfm")),W=i("oyxB"),V=i("qAZ0"),x=i("ncdi"),U=i("xYn2");function F(t,e){1&t&&d.Sb(0,"nz-spin",8)}function H(t,e){if(1&t){var n=d.Yb();d.Xb(0,"nz-timeline-item"),d.Xb(1,"app-note-timeline-item",10),d.ec("edit",function(){d.Lc(n);var t=e.$implicit;return d.ic(2).editNote(t)}),d.Wb(),d.Wb()}if(2&t){var i=e.$implicit;d.Db(1),d.rc("note",i)}}function B(t,e){if(1&t&&(d.Xb(0,"nz-timeline"),d.Vc(1,H,2,1,"nz-timeline-item",9),d.Wb()),2&t){var n=d.ic();d.Db(1),d.rc("ngForOf",n.appointmentNotes)}}function j(t,e){1&t&&d.Sb(0,"nz-spin",8)}function G(t,e){if(1&t){var n=d.Yb();d.Xb(0,"nz-timeline-item"),d.Xb(1,"app-note-timeline-item",10),d.ec("edit",function(){d.Lc(n);var t=e.$implicit;return d.ic(2).editNote(t)}),d.Wb(),d.Wb()}if(2&t){var i=e.$implicit;d.Db(1),d.rc("note",i)}}function Y(t,e){if(1&t&&(d.Xb(0,"nz-timeline"),d.Vc(1,G,2,1,"nz-timeline-item",9),d.Wb()),2&t){var n=d.ic();d.Db(1),d.rc("ngForOf",n.allNotes)}}function q(t,e){if(1&t){var n=d.Yb();d.Xb(0,"button",11),d.ec("click",function(){return d.Lc(n),d.ic().addNote()}),d.Xc(1,"Add Note"),d.Wb()}}var Z,Q=((Z=function(){function t(e,n,i){u(this,t),this._patientsService=e,this._modalRef=n,this._modalService=i,this.loading=!1}return p(t,[{key:"ngOnInit",value:function(){this.getNotes()}},{key:"getNotes",value:function(){var t=this;this.loading=!0,this._patientsService.fetchPatientsAllNotes(this.patientId).subscribe(function(e){t.allNotes=e,t.updateAppointmentNotes(),t.loading=!1})}},{key:"updateAppointmentNotes",value:function(){var t,e=[];this.appointment.notesHistory&&e.push.apply(e,n(this.appointment.notesHistory.filter(function(t){return null!=t}))),e.push(this.appointment.noteId),this.appointmentNotes=null===(t=this.allNotes)||void 0===t?void 0:t.filter(function(t){return e.includes(t.id)})}},{key:"addNote",value:function(){var t=this;this._modalService.create({nzContent:w.a,nzComponentParams:{appointment:this.appointment,patientId:this.appointment.attendeeId},nzWidth:"50%",nzClosable:!0,nzMaskClosable:!1,nzFooter:null}).afterClose.subscribe(function(e){e&&t._modalRef.close(e)})}},{key:"editNote",value:function(t){var e=this;this._modalService.create({nzContent:w.a,nzComponentParams:{appointment:this.appointment,patientId:this.appointment.attendeeId,noteObject:t},nzWidth:"50%",nzClosable:!0,nzMaskClosable:!1,nzFooter:null}).afterClose.subscribe(function(t){t&&e._modalRef.close(t)})}}]),t}()).\u0275fac=function(t){return new(t||Z)(d.Rb(L.a),d.Rb(b.e),d.Rb(b.f))},Z.\u0275cmp=d.Lb({type:Z,selectors:[["app-appointment-notes-history-dialog"]],inputs:{patientId:"patientId",appointment:"appointment"},decls:12,vars:5,consts:[[1,"container",2,"height","60vh"],[1,"h-100",3,"nzTabBarExtraContent"],["nzTitle","Appointment Notes"],[2,"text-align","center"],["nzSimple","","nzTip","Loading Data...",4,"ngIf"],[4,"ngIf"],["nzTitle","All Notes"],["extraTemplate",""],["nzSimple","","nzTip","Loading Data..."],[4,"ngFor","ngForOf"],[3,"note","edit"],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){if(1&t&&(d.Xb(0,"div",0),d.Xb(1,"nz-tabset",1),d.Xb(2,"nz-tab",2),d.Xb(3,"div",3),d.Vc(4,F,1,0,"nz-spin",4),d.Wb(),d.Vc(5,B,2,1,"nz-timeline",5),d.Wb(),d.Xb(6,"nz-tab",6),d.Xb(7,"div",3),d.Vc(8,j,1,0,"nz-spin",4),d.Wb(),d.Vc(9,Y,2,1,"nz-timeline",5),d.Wb(),d.Wb(),d.Vc(10,q,2,0,"ng-template",null,7,d.Wc),d.Wb()),2&t){var n=d.Ic(11);d.Db(1),d.rc("nzTabBarExtraContent",n),d.Db(3),d.rc("ngIf",e.loading),d.Db(1),d.rc("ngIf",!e.loading),d.Db(3),d.rc("ngIf",e.loading),d.Db(1),d.rc("ngIf",!e.loading)}},directives:[W.d,W.a,g.q,V.a,x.a,g.p,x.b,U.a,C.a,E.a,I.a],styles:["pre[_ngcontent-%COMP%]{font-size:14px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;font-family:Nunito}.note-footer[_ngcontent-%COMP%]{font-size:13px}.h-100[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]     .ant-tabs-content-holder{padding-top:16px;height:100%;overflow-y:scroll}[_nghost-%COMP%]     .ant-tabs-tab{height:48px!important}"]}),Z),K=i("74vj"),J=i("zAKX");function $(t,e){if(1&t&&d.Sb(0,"nz-option",10),2&t){var n=e.$implicit;d.rc("nzValue",null==n?null:n.id)("nzLabel",null==n?null:n.fullName)}}var tt,et,nt=((et=function(){function t(e,n,i,a){u(this,t),this._modalRef=e,this.modalService=n,this._appointmentsService=i,this._appointmentsEventLogger=a,this.loading=!1}return p(t,[{key:"ngOnInit",value:function(){}},{key:"reassign",value:function(){var t=this;this.loading=!0,this._appointmentsService.reassignAppointments({appointmentIds:this.appointmentIds,staffId:this.selectedStaff}).subscribe(function(e){t.showInfo(e.SUCCESS,e.FAILED)},function(e){t.close()})}},{key:"showInfo",value:function(t,e){t&&!e?this.showSuccessModal(t):!t&&e?this.showErrorModal(e):this.showWarningModal(t,e)}},{key:"showSuccessModal",value:function(t){var e=this;this.modalService.success({nzTitle:"Reassigned successful",nzContent:"Successfully reassigned <strong>".concat(t," appointments</strong> to <strong>").concat(this.staffList.find(function(t){return t.id===e.selectedStaff}).fullName,".</strong>")}).afterClose.subscribe(function(){return e.close()})}},{key:"showWarningModal",value:function(t,e){var n=this;this.modalService.warning({nzTitle:"Reassigned partially successful",nzContent:"Successfully reassigned <strong>".concat(t," appointments</strong> but unable to reassign <strong>").concat(e," appointments</strong> to <strong>").concat(this.staffList.find(function(t){return t.id===n.selectedStaff}).fullName,"</strong> due to conflicting appointment scheduled time.")}).afterClose.subscribe(function(){return n.close()})}},{key:"showErrorModal",value:function(t){var e=this;this.modalService.error({nzTitle:"Reassigned unsuccessful",nzContent:"Unable to reassign <strong>".concat(t," appointments</strong> to <strong>").concat(this.staffList.find(function(t){return t.id===e.selectedStaff}).fullName,"</strong> due to conflicting appointment scheduled time.")}).afterClose.subscribe(function(){return e.loading=!1})}},{key:"close",value:function(){this._modalRef.close()}}]),t}()).\u0275fac=function(t){return new(t||et)(d.Rb(b.e),d.Rb(b.f),d.Rb(r.a),d.Rb(K.a))},et.\u0275cmp=d.Lb({type:et,selectors:[["app-appointment-reschedule-dialog"]],inputs:{appointmentIds:"appointmentIds",staffList:"staffList"},decls:16,vars:3,consts:[["id","header"],[1,"container"],["nz-row",""],["nz-col","","id","info-text","nzFlex","1"],["nz-col","","nzSpan","8"],["nzPlaceHolder","Select a staff","nzAllowClear","","nzShowSearch","",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-row","","nzJustify","end"],["nz-col",""],["nz-button","","nzType","primary",3,"disabled","click"],[3,"nzValue","nzLabel"]],template:function(t,e){1&t&&(d.Xb(0,"strong"),d.Xb(1,"p",0),d.Xc(2,"Reassign Appointments"),d.Wb(),d.Wb(),d.Xb(3,"div",1),d.Xb(4,"div",2),d.Xb(5,"div",3),d.Xb(6,"span"),d.Xc(7,"Select the staff to assign the selected appointments "),d.Wb(),d.Wb(),d.Xb(8,"div",4),d.Xb(9,"nz-select",5),d.ec("ngModelChange",function(t){return e.selectedStaff=t}),d.Vc(10,$,1,2,"nz-option",6),d.Wb(),d.Wb(),d.Wb(),d.Sb(11,"br"),d.Xb(12,"div",7),d.Xb(13,"div",8),d.Xb(14,"button",9),d.ec("click",function(){return e.reassign()}),d.Xc(15,"Reassign"),d.Wb(),d.Wb(),d.Wb(),d.Wb()),2&t&&(d.Db(9),d.rc("ngModel",e.selectedStaff),d.Db(1),d.rc("ngForOf",e.staffList),d.Db(4),d.rc("disabled",!e.selectedStaff))},directives:[m.c,m.a,J.d,y.u,y.x,g.p,C.a,E.a,I.a,J.a],styles:["#header[_ngcontent-%COMP%]{border-left:2px solid var(--primary-color);padding-left:10px;font:normal normal 700 16px/19px Nunito}#info-text[_ngcontent-%COMP%]{align-items:center;display:flex}"]}),et),it=((tt=function(){function t(e){u(this,t),this._modalService=e}return p(t,[{key:"showCallAppointmentNotesModal",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"VIDEO_APPOINTMENT";this.videoCallAppointmentNotesModal||(this.videoCallAppointmentNotesModal=this._modalService.create({nzContent:X,nzComponentParams:{appointmentId:t,callSessionId:e,type:i},nzWidth:window.innerWidth-.55*window.innerWidth,nzClosable:!1,nzMaskClosable:!1,nzFooter:null}),this.videoCallAppointmentNotesModal.afterClose.subscribe(function(){return n.videoCallAppointmentNotesModal=null}))}},{key:"showNotesHistory",value:function(t,e){return this._modalService.create({nzContent:Q,nzComponentParams:{appointment:t,patientId:e},nzWidth:"75%",nzClosable:!0,nzMaskClosable:!1,nzFooter:null})}},{key:"showReassignModal",value:function(t,e){return this._modalService.create({nzContent:nt,nzComponentParams:{appointmentIds:t,staffList:e},nzWidth:"50%",nzClosable:!0,nzMaskClosable:!1,nzFooter:null})}}]),t}()).\u0275fac=function(t){return new(t||tt)(d.bc(b.f))},tt.\u0275prov=d.Nb({token:tt,factory:tt.\u0275fac,providedIn:"root"}),tt)},KCkQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function t(){u(this,t)}},"KZX/":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var i=n("ofXK"),a=n("SHZf"),o=n("3Pt+"),r=n("tyNb"),c=n("icpI"),s=n("5+WD"),l=n("vxfF"),d=n("UFn0"),p=n("dh1a"),b=n("Pp+U"),h=n("WoUL"),g=n("cA1j"),f=n("fXoL"),v=function(){var t=function t(e,n){u(this,t),this.translationService=e,this.featureHighlightService=n,e.setLanguage(),n.setFeatureConfigs()};return t.\u0275mod=f.Pb({type:t}),t.\u0275inj=f.Ob({factory:function(e){return new(e||t)(f.bc(h.a),f.bc(g.a))},providers:[b.a],imports:[[i.c,d.a,a.a.forRoot(),p.a.forRoot(),c.b,o.o,r.k,s.c,l.f],l.f]}),t}()},Km6r:function(t,e,i){"use strict";i.d(e,"a",function(){return et});var a=i("fXoL"),r=i("XNiG"),s=i("1G5W"),l=i("igu/"),d=i("S9gE"),b=i("HZ0a"),h=i("fQ3Y"),g=i("geco"),f=i("qQcL"),v=i("QwIf"),m=i("fEa1"),S=i("2lmJ"),y=i("zM63"),T=i("B+r4"),C=i("ofXK"),E=i("rMZv"),I=i("ZKr6"),M=i("nJia"),A=i("0zwC"),_=i("tyNb"),D=i("OzZK"),z=i("RwU8"),O=i("C2AL"),k=i("glKu"),N=i("SKKP"),P=i("ZO2R"),R=i("eHCX"),X=i("dRHE"),L=i("9xQM"),w=i("m3lz");function W(t,e){if(1&t&&(a.Xb(0,"div",14),a.Xb(1,"p"),a.Xc(2),a.jc(3,"translate"),a.Wb(),a.Wb()),2&t){var n=a.ic();a.rc("nzSpan",24),a.Db(2),a.Yc(a.kc(3,2,n.tableActionHint))}}function V(t,e){1&t&&(a.Xb(0,"th",15),a.Xc(1),a.jc(2,"translate"),a.Wb()),2&t&&(a.Db(1),a.Zc(" ",a.kc(2,1,"PATIENT.ASSIGNED_MONITORING_STAFF")," "))}function x(t,e){1&t&&a.Sb(0,"th",17)}var U=function(){return["VIEW_PATIENT_ALERT"]};function F(t,e){1&t&&(a.Vb(0),a.Vc(1,x,1,0,"th",16),a.Ub()),2&t&&(a.Db(1),a.rc("isFeaturePermitted",a.xc(1,U)))}function H(t,e){1&t&&(a.Xb(0,"button",26),a.Xc(1,"Assign Physician"),a.Wb())}function B(t,e){if(1&t&&(a.Xb(0,"td",27),a.Xc(1),a.Wb()),2&t){var n=a.ic().$implicit,i=a.ic();a.rc("ngClass",i.assignedStaffMap.has(n.id)?"":"greyed"),a.Db(1),a.Zc(" ",i.assignedStaffMap.has(n.id)?i.assignedStaffMap.get(n.id):"Unassigned"," ")}}function j(t,e){if(1&t){var n=a.Yb();a.Xb(0,"nz-badge",30),a.ec("click",function(){a.Lc(n);var t=a.ic(2).$implicit;return a.ic().showAlertDrawer(null==t?null:t.id,null==t?null:t.name,!1,null==t||null==t.episode?null:t.episode.id,null==t||null==t.carePlan?null:t.carePlan.id,null==t||null==t.carePlan?null:t.carePlan.startDate,null==t||null==t.episode?null:t.episode.totalTMSCompleted,null==t||null==t.episode?null:t.episode.totalAdditionalTMSCompleted,null==t?null:t.phoneNumbers)}),a.Sb(1,"app-icons",31),a.Wb()}if(2&t){var i=a.ic(2).$implicit;a.rc("nzCount",null==i?null:i.pendingAlertsCount),a.Db(1),a.rc("originalStyle",!0)}}function G(t,e){if(1&t){var n=a.Yb();a.Vb(0),a.Xb(1,"td"),a.Vc(2,j,2,2,"nz-badge",28),a.Xc(3," \xa0\xa0 "),a.Xb(4,"app-icons",29),a.ec("click",function(){a.Lc(n);var t=a.ic().$implicit;return a.ic().showDetails(null==t?null:t.id,"BASIC_DETAILS",null==t||null==t.episode?null:t.episode.id)}),a.Wb(),a.Xc(5," \xa0 "),a.Wb(),a.Ub()}2&t&&(a.Db(2),a.rc("isFeaturePermitted",a.xc(2,U)),a.Db(2),a.rc("originalStyle",!0))}var Y=function(t){return{"background-color":t}};function q(t,e){if(1&t){var n=a.Yb();a.Vb(0),a.Xb(1,"tr",18),a.Xb(2,"td",19),a.ec("nzCheckedChange",function(t){a.Lc(n);var i=e.$implicit;return a.ic().onItemChecked(i.id,t,!0)}),a.Wb(),a.Xb(3,"td"),a.Xb(4,"div",20),a.jc(5,"titlecase"),a.Xc(6),a.jc(7,"titlecase"),a.Wb(),a.Wb(),a.Xb(8,"td"),a.Sb(9,"app-patient-status-tag",21),a.Wb(),a.Xb(10,"td"),a.Xb(11,"div",20),a.Xc(12),a.jc(13,"date"),a.Wb(),a.Wb(),a.Xb(14,"td"),a.Xb(15,"div",22),a.Xc(16),a.jc(17,"externalSources"),a.Wb(),a.Wb(),a.Xb(18,"td"),a.Xc(19),a.jc(20,"userLocations"),a.Wb(),a.Xb(21,"td"),a.Xc(22),a.Xb(23,"span",23),a.Vc(24,H,2,0,"button",24),a.Wb(),a.Wb(),a.Vc(25,B,2,2,"td",25),a.Vc(26,G,6,3,"ng-container",10),a.Wb(),a.Ub()}if(2&t){var i=e.$implicit,o=e.index,r=a.ic();a.Db(1),a.rc("ngStyle",a.yc(30,Y,"No physician assigned"===r.listOfPatientPhysiciansName[o]?"var(--grey)":"white")),a.Db(1),a.rc("nzChecked",r.setOfCheckedId.has(i.id))("nzDisabled","No physician assigned"===r.listOfPatientPhysiciansName[o]),a.Db(2),a.rc("nzTooltipTitle",a.kc(5,18,null==i?null:i.name))("nzTooltipVisible",r.tooltipState),a.Db(2),a.Zc(" ",a.kc(7,20,null==i?null:i.name)," "),a.Db(3),a.rc("patientStatus",null==i?null:i.patientStatus),a.Db(2),a.rc("nzTooltipTitle",null==i?null:i.dateOfBirth)("nzTooltipVisible",r.tooltipState),a.Db(1),a.Zc(" ",a.lc(13,22,null==i?null:i.dateOfBirth,"mediumDate")," "),a.Db(3),a.rc("nzTooltipVisible",r.tooltipState),a.Db(1),a.Zc(" ",a.lc(17,25,null==i?null:i.externalSources,"HOSPITAL_INTERNAL_ID")," "),a.Db(3),a.Zc(" ",a.kc(20,28,null==i?null:i.sites)," "),a.Db(3),a.Zc("",r.listOfPatientPhysiciansName[o]," "),a.Db(1),a.tc("routerLink","/patient/assign/physician/",null==i?null:i.id,""),a.Db(1),a.rc("ngIf","No physician assigned"===r.listOfPatientPhysiciansName[o]),a.Db(1),a.rc("ngIf",r.showAssignedStatus),a.Db(1),a.rc("ngIf",!r.hideActionItems)}}function Z(t,e){if(1&t){var n=a.Yb();a.Vb(0),a.Xb(1,"selected-patient-action",32),a.ec("onPrimaryActionButtonClicked",function(t){return a.Lc(n),a.ic().onPrimaryActionButtonClicked(t)})("onSecondaryActionButtonClicked",function(t){return a.Lc(n),a.ic().onSecondaryActionButtonClicked(t)}),a.Wb(),a.Ub()}if(2&t){var i=a.ic();a.Db(1),a.rc("primaryActionText",i.primaryActionText)("secondaryActionText",i.secondaryActionText)("totalPatientsSelected",i.totalPatientsSelected)("totalCount",i.totalCount)}}function Q(t,e){if(1&t&&(a.Xb(0,"h5",33),a.Xc(1),a.jc(2,"translate"),a.jc(3,"translate"),a.Wb()),2&t){var n=e.range,i=e.$implicit;a.Db(1),a.dd(" ",a.kc(2,5,"COMMON.SHOWING")," ",n[0]," ",a.kc(3,7,"TABLEHEADER.to")," ",n[1]," of ",i," ")}}function K(t,e){if(1&t&&(a.Xb(0,"span"),a.Xc(1),a.jc(2,"translate"),a.Wb()),2&t){var n=a.ic(2);a.Db(1),a.Zc(" ",a.kc(2,1,n.defaultHint)," ")}}function J(t,e){1&t&&(a.Xb(0,"span"),a.Xc(1),a.jc(2,"translate"),a.Wb()),2&t&&(a.Db(1),a.Zc(" ",a.kc(2,1,"PATIENT_LISTING_SCREEN_NO_DATA_MESSAGE")," "))}function $(t,e){if(1&t&&(a.Xb(0,"div",34),a.Xb(1,"div",35),a.Xb(2,"div",36),a.Xb(3,"div"),a.Sb(4,"app-icons",37),a.Wb(),a.Xb(5,"div",38),a.Vc(6,K,3,3,"span",10),a.Vc(7,J,3,3,"span",10),a.Wb(),a.Wb(),a.Wb(),a.Wb()),2&t){var n=a.ic();a.Db(6),a.rc("ngIf",n.showDefaultText),a.Db(1),a.rc("ngIf",!n.showDefaultText)}}var tt=function(){return[50,100,150,200]},et=function(){var t=function(t){o(i,t);var e=c(i);function i(t,n,o,c,s,l,d){var p;return u(this,i),(p=e.call(this))._patientsService=t,p._progress=n,p._patientsDrawerService=o,p._patientUrlService=c,p._patientsEventLogger=s,p._dataSharingService=l,p._staffService=d,p.hideActionItems=!1,p.assignedStaffMap=new Map,p.showAssignedStatus=!1,p.onPrimaryAction=new a.n,p.onSecondaryAction=new a.n,p.onUserSelectionChange=new a.n,p.onPatientListUpdated=new a.n,p.onPatientSelection=new a.n,p.listOfPatientPhysicians=[],p.loading=!1,p.indeterminate=!1,p.checked=!1,p.patientRequests$=new r.a,p.pageSize=50,p.onPrimaryActionButtonClicked=function(t){return p.onPrimaryAction.emit()},p.onSecondaryActionButtonClicked=function(t){return p.onSecondaryAction.emit()},p.initData(),p}return p(i,[{key:"initData",value:function(){this.listOfAllPatients=n(new Array),this.setOfCheckedId=new Set,this.setOfSelectedPatients=new Set,this.totalCount=0,this.totalPatientsSelected=0,this.showDefaultText=!0,this.refreshCheckedStatus()}},{key:"clearPatientSelection",value:function(){this.onAllChecked(!1)}},{key:"clearAll",value:function(){this.initData()}},{key:"getPatientsList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.loading=!0,this._progress.ref().start(),this._patientsService.fetchPatientsList(0,2147483647,(null==e?void 0:e.staffId)||this._patientUrlService.getParameterValue("staffId"),(null==e?void 0:e.physicians)||this._patientUrlService.getParameterValue("physicianId"),"FIRST_NAME","ASC",(null==e?void 0:e.filter)||this._patientUrlService.getParameterValue("filter"),this._patientUrlService.getParameterValue("episodeBlueprint"),this._patientUrlService.getParameterValue("selectedEpisodeType"),(null==e?void 0:e.siteId)||this._patientUrlService.getParameterValue("siteId"),null==e?void 0:e.dateRange,(null==e?void 0:e.searchKey)||this._patientUrlService.getParameterValue("search"),this._patientUrlService.getParameterValue("carePlanId"),this._patientUrlService.getParameterValue("v1"),this._patientUrlService.getParameterValue("v2"),this._patientUrlService.getParameterValue("op"),this._patientUrlService.getParameterValue("dstFilterType"),this._patientUrlService.getParameterValue("tms"),this._patientUrlService.getParameterValue("cmt"),this._patientUrlService.getParameterValue("ccmCmt"),this._patientUrlService.getParameterValue("responseType"),this._patientUrlService.getParameterValue("smsPatientListLoading"),this._patientUrlService.getParameterValue("consentFormStatus"),this._patientUrlService.getParameterValue("physicianOrderStatus"),(null==e?void 0:e.patientStatus)||this._patientUrlService.getParameterValue("patientStatus"),this._patientUrlService.getParameterValue("episodeStatus"),(null==e?void 0:e.vitalFilter)||this._patientUrlService.getParameterValue("vitalFilter"),(null==e?void 0:e.assessmentFilter)||this._patientUrlService.getParameterValue("assessmentFilter"),this._patientUrlService.getParameterValue("assessment"),this._patientUrlService.getParameterValue("rpmVitalCompliance"),this._patientUrlService.getParameterValue("onBoardingFilter"),this._patientUrlService.getParameterValue("languages"),(null==e?void 0:e.assignedStaffType)||this._patientUrlService.getParameterValue("assignedStaffType")).subscribe(function(e){var n;t.totalCount=e.metaData.totalCount,t.listOfAllPatients=e.result,t.listOfPatientPhysicians=[],t.listOfPatientPhysiciansName=[],null===(n=t.listOfAllPatients)||void 0===n||n.forEach(function(e){var n=null;e.assignedStaffs.forEach(function(t){"PHYSICIAN"==t.roleType&&(n=t.staffId)}),t.listOfPatientPhysicians.push(n)}),t.loading=!1,t.showDefaultText=!1,t.setOfCheckedId=new Set,t.totalPatientsSelected=0,t._progress.ref().complete(),t.onPatientListUpdated.emit(t.listOfAllPatients),t.refreshCheckedStatus(),t.getPatientPhysician()},function(e){t._progress.ref().complete()})}},{key:"getPatientPhysician",value:function(){var t=this,e=this.listOfPatientPhysicians.join(",");this._staffService.fetchNameByIds(e).subscribe(function(e){t.listOfPatientPhysiciansName=t.listOfPatientPhysicians.map(function(t){return t?e[t]:"No physician assigned"})})}},{key:"showAlertDrawer",value:function(t,e,n,i,a,o,r,c,l){var u=this;this._patientsEventLogger.patientActionEvent(t,"open_alert_drawer",v.a.BULK_ASSING_PATIENT_TO_MONITORING_STAFF),this._patientsDrawerService.alerts(t,e,n,i,a,o,r,c,l).afterClose.pipe(Object(s.a)(this.unsubscribed)).subscribe(function(t){t||(u.clearInfoDrawerState(),u.getPatientsList())})}},{key:"showDetails",value:function(t,e,n){var i=this;e===d.a.BASIC_DETAILS&&n&&(e=d.a.EPISODE_DETAILS),this._patientsService.fetchPatientDetails(t,e,n).subscribe(function(t){i._dataSharingService.patientDetails.next(t),i.setInfoDrawerState(e,t,n),i.showInfoDrawerBasedOnType(e,t)})}},{key:"clearInfoDrawerState",value:function(){this.drawer=null,sessionStorage.removeItem("infoDrawer")}},{key:"showBasicInfo",value:function(t){var e=this;this.drawer||(this.drawer=this._patientsDrawerService.basicInfo(t),this.drawer.afterClose.pipe(Object(s.a)(this.unsubscribed)).subscribe(function(t){t||e.clearInfoDrawerState()}))}},{key:"updateCheckedSet",value:function(t,e){e?(this.setOfCheckedId.add(t),this.setOfSelectedPatients.add(this.listOfAllPatients.find(function(e){return e.id==t}))):(this.setOfCheckedId.delete(t),this.setOfSelectedPatients.delete(this.listOfAllPatients.find(function(e){return e.id==t}))),this.totalPatientsSelected=this.setOfCheckedId.size}},{key:"refreshCheckedStatus",value:function(){this.checked=this.setOfCheckedId.size>0&&this.listOfAllPatients.length==this.setOfCheckedId.size,this.indeterminate=!this.checked&&this.setOfCheckedId.size>0,this.onUserSelectionChange.emit(this.setOfCheckedId),this.onPatientListUpdated.emit(this.listOfAllPatients),this.onPatientSelection.emit(this.setOfSelectedPatients)}},{key:"onItemChecked",value:function(t,e){this.updateCheckedSet(t,e),this.refreshCheckedStatus()}},{key:"onAllChecked",value:function(t){var e=this;this.listOfAllPatients.forEach(function(n,i){var a=n.id;return"No physician assigned"!==e.listOfPatientPhysiciansName[i]&&e.updateCheckedSet(a,t)}),this.refreshCheckedStatus()}},{key:"setInfoDrawerState",value:function(t,e,n){sessionStorage.setItem("infoDrawer",JSON.stringify({type:t,patientDetails:e,episodeId:n}))}},{key:"checkIfInfoDrawerStateAvailable",value:function(){var t=JSON.parse(sessionStorage.getItem("infoDrawer"));t&&this.showInfoDrawerBasedOnType(t.type,t.patientDetails)}},{key:"showInfoDrawerBasedOnType",value:function(t,e){switch(t){case d.a.BASIC_DETAILS:case d.a.EPISODE_DETAILS:this.showBasicInfo(e)}}},{key:"onChange",value:function(t){}}]),i}(f.a);return t.\u0275fac=function(e){return new(e||t)(a.Rb(g.a),a.Rb(y.a),a.Rb(h.a),a.Rb(m.a),a.Rb(b.a),a.Rb(l.a),a.Rb(S.a))},t.\u0275cmp=a.Lb({type:t,selectors:[["app-bulk-patient-list"]],inputs:{hideActionItems:"hideActionItems",tableActionHint:"tableActionHint",defaultHint:"defaultHint",assignedStaffMap:"assignedStaffMap",showAssignedStatus:"showAssignedStatus",primaryActionText:"primaryActionText",secondaryActionText:"secondaryActionText"},outputs:{onPrimaryAction:"onPrimaryAction",onSecondaryAction:"onSecondaryAction",onUserSelectionChange:"onUserSelectionChange",onPatientListUpdated:"onPatientListUpdated",onPatientSelection:"onPatientSelection"},features:[a.Ab],decls:32,vars:32,consts:[["nz-row","",1,"label-1",3,"nzGutter"],["nz-col","",3,"nzSpan",4,"ngIf"],["nzSize","middle","nzShowSizeChanger","","nzShowPagination","",3,"nzData","nzLoading","nzTotal","nzPageSizeOptions","nzPageSize","nzShowTotal","nzNoResult","nzPageSizeChange"],["patientsTable",""],["nzWidth","30px",3,"nzShowCheckbox","nzChecked","nzIndeterminate","nzCheckedChange"],["nzWidth","15%",1,"column-name"],["nzWidth","70px"],["nzWidth","150px"],["id","patient-id"],["id","patient-assign-status",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["totalPatientsCount",""],["noResultTemplate",""],["nz-col","",3,"nzSpan"],["id","patient-assign-status"],["id","alerts",4,"isFeaturePermitted"],["id","alerts"],[3,"ngStyle"],[3,"nzChecked","nzDisabled","nzCheckedChange"],["nz-tooltip","",1,"ellipsis-text","char-limit",3,"nzTooltipTitle","nzTooltipVisible"],["isToolTipEnabled","true",3,"patientStatus"],["nz-tooltip","",1,"ellipsis-text","char-limit",3,"nzTooltipVisible"],[1,"assign-btn-container",3,"routerLink"],["nz-button","","nzType","primary",4,"ngIf"],[3,"ngClass",4,"ngIf"],["nz-button","","nzType","primary"],[3,"ngClass"],[3,"nzCount","click",4,"isFeaturePermitted"],["name","profile","size","22px",3,"originalStyle","click"],[3,"nzCount","click"],["name","notification","size","20px",3,"originalStyle"],[3,"primaryActionText","secondaryActionText","totalPatientsSelected","totalCount","onPrimaryActionButtonClicked","onSecondaryActionButtonClicked"],["nz-typography",""],["nz-row","","nzJustify","center","nzAlign","middle",1,"no-result"],["nz-col",""],["nz-col","","nzJustify","center","nzAlign","middle"],["name","icBlank","size","80"],[1,"no-results-text"]],template:function(t,e){if(1&t&&(a.Xb(0,"div",0),a.Vc(1,W,4,4,"div",1),a.Wb(),a.Xb(2,"nz-table",2,3),a.ec("nzPageSizeChange",function(t){return e.pageSize=t}),a.Xb(4,"thead"),a.Xb(5,"tr"),a.Xb(6,"th",4),a.ec("nzCheckedChange",function(t){return e.onAllChecked(t)}),a.Wb(),a.Xb(7,"th",5),a.Xc(8),a.jc(9,"translate"),a.Wb(),a.Sb(10,"th",6),a.Xb(11,"th",7),a.Xc(12),a.jc(13,"translate"),a.Wb(),a.Xb(14,"th",8),a.Xc(15),a.jc(16,"translate"),a.Wb(),a.Xb(17,"th"),a.Xc(18),a.jc(19,"translate"),a.Wb(),a.Xb(20,"th"),a.Xc(21),a.jc(22,"translate"),a.Wb(),a.Vc(23,V,3,3,"th",9),a.Vc(24,F,2,2,"ng-container",10),a.Wb(),a.Wb(),a.Xb(25,"tbody"),a.Vc(26,q,27,32,"ng-container",11),a.Wb(),a.Wb(),a.Vc(27,Z,2,4,"ng-container",10),a.Vc(28,Q,4,9,"ng-template",null,12,a.Wc),a.Vc(30,$,8,2,"ng-template",null,13,a.Wc)),2&t){var n=a.Ic(3),i=a.Ic(29),o=a.Ic(31);a.rc("nzGutter",64),a.Db(1),a.rc("ngIf",null!=e.tableActionHint&&!e.showDefaultText),a.Db(1),a.rc("nzData",e.listOfAllPatients)("nzLoading",e.loading)("nzTotal",e.totalCount)("nzPageSizeOptions",a.xc(31,tt))("nzPageSize",e.pageSize)("nzShowTotal",i)("nzNoResult",o),a.Db(4),a.rc("nzShowCheckbox",e.totalCount>0)("nzChecked",e.checked)("nzIndeterminate",e.indeterminate),a.Db(2),a.Zc(" ",a.kc(9,21,"COMMON.NAME")," "),a.Db(4),a.Zc(" ",a.kc(13,23,"COMMON.DOB")," "),a.Db(3),a.Zc(" ",a.kc(16,25,"PATIENT_ID")," "),a.Db(3),a.Zc(" ",a.kc(19,27,"SITE")," "),a.Db(3),a.Zc(" ",a.kc(22,29,"COMMON.PHYSICIAN")," "),a.Db(2),a.rc("ngIf",e.showAssignedStatus),a.Db(1),a.rc("ngIf",!e.hideActionItems),a.Db(2),a.rc("ngForOf",null==n?null:n.data),a.Db(1),a.rc("ngIf",e.totalPatientsSelected>0)}},directives:[T.c,C.q,E.f,E.n,E.o,E.e,E.l,E.m,E.i,C.p,T.a,I.a,C.r,E.j,M.d,A.a,_.h,D.a,z.a,O.a,C.o,k.a,N.a,P.a,R.a],pipes:[X.a,C.A,C.e,L.a,w.a],styles:[".label-1[_ngcontent-%COMP%]{margin-top:10px}.container-bulk[_ngcontent-%COMP%]{padding-top:20px 20px!important}.align-left[_ngcontent-%COMP%]{text-align:left!important}.align-center[_ngcontent-%COMP%]{text-align:center!important}[_nghost-%COMP%]     .ant-checkbox-wrapper{padding-left:16px;padding-right:8px;border-spacing:0!important}[_nghost-%COMP%]     .ant-checkbox-inner:after{border-color:var(--primary-color)}[_nghost-%COMP%]     .ant-checkbox-disabled .ant-checkbox-inner{background:gray 0 0 no-repeat padding-box;opacity:.5}[_nghost-%COMP%]     .ant-checkbox-disabled .ant-checkbox-inner:after{border-color:var(--neutral-color)!important}.selected-info[_ngcontent-%COMP%]{padding-left:16px}p[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:0}.no-result[_ngcontent-%COMP%]{width:100%;height:60vh}.no-results-text[_ngcontent-%COMP%]{margin-top:16px}.column-name[_ngcontent-%COMP%]{min-width:150px}.background[_ngcontent-%COMP%]{position:fixed;height:60px;bottom:20px;color:var(--neutral-color);right:20px;border:1px solid transparent;border-radius:5px;width:35%;background:rgba(0,0,0,.8);padding:5px}.floatable-component-btn[_ngcontent-%COMP%]{text-align:center;margin-top:8px}p.number[_ngcontent-%COMP%]{padding-left:15px}.greyed[_ngcontent-%COMP%]{color:#8a8a8a}.assign-btn-container[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:6px}"]}),t}()},Laz3:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("FYUs"),a=n("fXoL"),o=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t,e,n){var a="",o="",r="",c="";switch(t){case i.a.VERY_HIGH:a="Stage 3"==n?"#cd201f":"#FF5151",r="Stage 3"==n?"#cd201f":"#ff525233",o="PRIORITY.NEED_IMMEDIATE_ATTENTION",c="Stage 3"==n?"#fff":"#814646";break;case i.a.HIGH:a="#FF965F",r="#FF965F33",o="PRIORITY.IMPORTANT",c="#8c7204";break;case i.a.MEDIUM:a="#F8B62B",r="#f8b62b33",o="PRIORITY.MEDIUM",c="#917c24";break;case i.a.LOW:a="#4B87FF",r="#4b87ff33",o="PRIORITY.LOW",c="#4b618f";break;case i.a.VERY_LOW:a="#4B87FF",r="#4b87ff33",o="PRIORITY.INFORMATIONAL_ALERT",c="#4b618f"}switch(e){case"TEXT":return o;case"TEXT_COLOR":return c;case"TAG_BG":return r;case"COLOR":default:return a}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=a.Qb({name:"alertPriorityColor",type:t,pure:!0}),t}()},MXg9:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.ALL="ALL",t.ACTIVE="ACTIVE",t.REGISTERED="REGISTERED",t.NOT_ONBOARDED="NOT_ONBOARDED",t.DISCHARGED="DISCHARGED",t.SUSPENDED="SUSPENDED",t.FLAGGED_FOR_DISQUALIFICATION="FLAGGED_FOR_DISQUALIFICATION",t}({})},MZxW:function(t,e,n){"use strict";n.d(e,"a",function(){return z});var i=n("BcC3"),a=n("4RGM"),o=n("fXoL"),r=n("igu/"),c=n("ofXK"),s=n("eHCX"),l=n("zAKX"),d=n("3Pt+"),b=n("C2AL"),h=n("FwiY");function g(t,e){if(1&t&&(o.Xb(0,"div"),o.Xb(1,"label",2),o.Xc(2),o.Wb(),o.Wb()),2&t){var n=o.ic(3);o.Db(1),o.rc("nzType",n.labelType),o.Db(1),o.Zc(" ",n.label," ")}}function f(t,e){if(1&t&&o.Sb(0,"nz-option",7),2&t){var n=o.ic().$implicit;o.rc("nzValue",n.id)("nzLabel",n.name)}}function v(t,e){if(1&t&&(o.Vb(0),o.Vc(1,f,1,2,"nz-option",6),o.Ub()),2&t){var n=o.ic(4);o.Db(1),o.rc("ngIf",!n.isLoading)}}function m(t,e){1&t&&(o.Xb(0,"nz-option",8),o.Sb(1,"span",9),o.Xc(2," Loading Data... "),o.Wb())}function S(t,e){if(1&t){var n=o.Yb();o.Xb(0,"nz-select",3),o.ec("ngModelChange",function(t){return o.Lc(n),o.ic(3).listSelectedSubTenants=t})("nzOnSearch",function(t){return o.Lc(n),o.ic(3).onSearch(t)})("ngModelChange",function(t){return o.Lc(n),o.ic(3).onSubTenantChange(t)}),o.Vc(1,v,2,1,"ng-container",4),o.Vc(2,m,3,0,"nz-option",5),o.Wb()}if(2&t){var i=o.ic(3);o.Sc("width",i.width),o.rc("nzMaxTagCount",i.nzMaxTagCount)("nzPlaceHolder",i.placeholder)("ngModel",i.listSelectedSubTenants)("nzDisabled",i.disabled)("nzAllowClear",i.allowClear),o.Db(1),o.rc("ngForOf",i.assignedSubTenants),o.Db(1),o.rc("ngIf",i.isLoading)}}function y(t,e){if(1&t&&(o.Vb(0),o.Vc(1,g,3,2,"div",0),o.Vc(2,S,3,9,"nz-select",1),o.Ub()),2&t){var n=o.ic(2);o.Db(1),o.rc("ngIf",n.label&&null!=n.label),o.Db(1),o.rc("ngIf",!n.isLoading)}}function T(t,e){if(1&t&&(o.Xb(0,"div"),o.Xb(1,"label",2),o.Xc(2),o.Wb(),o.Wb()),2&t){var n=o.ic(3);o.Db(1),o.rc("nzType",n.labelType),o.Db(1),o.Zc(" ",n.label," ")}}function C(t,e){if(1&t&&o.Sb(0,"nz-option",7),2&t){var n=o.ic().$implicit;o.rc("nzValue",n.id)("nzLabel",n.name)}}function E(t,e){if(1&t&&(o.Vb(0),o.Vc(1,C,1,2,"nz-option",6),o.Ub()),2&t){var n=o.ic(4);o.Db(1),o.rc("ngIf",!n.isLoading)}}function I(t,e){1&t&&(o.Xb(0,"nz-option",8),o.Sb(1,"span",9),o.Xc(2," Loading Data... "),o.Wb())}function M(t,e){if(1&t){var n=o.Yb();o.Xb(0,"nz-select",11),o.ec("ngModelChange",function(t){return o.Lc(n),o.ic(3).selectedSubTenant=t})("nzOnSearch",function(t){return o.Lc(n),o.ic(3).onSearch(t)})("ngModelChange",function(t){return o.Lc(n),o.ic(3).onSubTenantChange(t)}),o.Vc(1,E,2,1,"ng-container",4),o.Vc(2,I,3,0,"nz-option",5),o.Wb()}if(2&t){var i=o.ic(3);o.Sc("width",i.width),o.rc("nzPlaceHolder",i.placeholder)("nzAllowClear",i.allowClear)("nzAutoClearSearchValue",!0)("ngModel",i.selectedSubTenant)("nzDisabled",i.disabled),o.Db(1),o.rc("ngForOf",i.assignedSubTenants),o.Db(1),o.rc("ngIf",i.isLoading)}}function A(t,e){if(1&t&&(o.Vb(0),o.Vc(1,T,3,2,"div",0),o.Vc(2,M,3,9,"nz-select",10),o.Ub()),2&t){var n=o.ic(2);o.Db(1),o.rc("ngIf",n.label&&null!=n.label),o.Db(1),o.rc("ngIf",!n.isLoading)}}function _(t,e){if(1&t&&(o.Vb(0),o.Vc(1,y,3,2,"ng-container",0),o.Vc(2,A,3,2,"ng-container",0),o.Ub()),2&t){var n=o.ic();o.Db(1),o.rc("ngIf","MULTI"==n.mode),o.Db(1),o.rc("ngIf","SINGLE"==n.mode)}}function D(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"p",12),o.Xc(2),o.Wb(),o.Ub()),2&t){var n=o.ic();o.Db(2),o.Zc(" ",n.errorMessage," ")}}var z=function(){var t=function(){function t(e){u(this,t),this._dataSharingService=e,this.mode="MULTI",this.labelType="secondary",this.placeholder="Select sub-tenant",this.allowClear=!1,this.showError=!1,this.errorMessage="Please select a sub-tenant.",this.persist=!0,this.bypass=Array.from("GET"),this.disabled=!1,this.listSelectedSubTenants=[],this.width="100%",this.nzMaxTagCount=2,this.isLoading=!1,this.assignedSubTenants=new Array,this.showDropDown=!1,this.onSubTenantSelected=new o.n;var n=localStorage.getItem("loggedInUserBoundary");this.showDropDown=n==i.a.ACROSS_SUB_TENANTS,this.init()}return p(t,[{key:"onSearch",value:function(t){this.fetchAssignedSubtenants(t)}},{key:"ngOnInit",value:function(){var t=this;this._dataSharingService.getSubTenant().subscribe(function(e){e&&t.updateRequestTenantIdsInLocalStorage("SET",e),t.init()})}},{key:"init",value:function(){var t=localStorage.getItem("loggedInUserBoundary");this.showDropDown=t==i.a.ACROSS_SUB_TENANTS,this.fetchAssignedSubtenants()}},{key:"fetchAssignedSubtenants",value:function(t){var e=this;this.isLoading=!0,this.assignedSubTenants=new Array,this.assignedSubTenantIds=localStorage.getItem("loggedInUserAssignedTenants").split(","),"MULTI"==this.mode&&this.assignedSubTenants.push({id:"ALL",name:"All"}),this.assignedSubTenantIds.forEach(function(t){var n=localStorage.getItem(t);e.assignedSubTenants.push({id:t,name:n})}),this.populateSelectBox(),this.isLoading=!1}},{key:"populateSelectBox",value:function(){"SINGLE"==this.mode?this.populateSingleSelectBox():this.populateMultiSelectBox()}},{key:"populateMultiSelectBox",value:function(){var t=localStorage.getItem(a.a.REQUEST_TENANT_IDS);if(null==this.listSelectedSubTenants||null==this.listSelectedSubTenants)if(null==t||null==t||"null"==t||"undefined"==t)this.listSelectedSubTenants=this.assignedSubTenantIds;else{var e=t.split(",");this.listSelectedSubTenants=e}else null!=t&&null!=t&&"null"!=t&&"undefined"!=t||(t=localStorage.getItem(a.a.LOGGED_IN_USER_ASSIGNED_TENANTS)),e=t.split(","),this.listSelectedSubTenants=e;this.updateRequestTenantIdsInLocalStorage("SET",this.listSelectedSubTenants.join(","))}},{key:"populateSingleSelectBox",value:function(){var t=localStorage.getItem(a.a.REQUEST_TENANT_IDS);if(null==this.selectedSubTenant||null==this.selectedSubTenant)if(null==t||null==t||"null"==t||"undefined"==t)this.selectedSubTenant=this.assignedSubTenants[0];else{var e=t.split(",");this.selectedSubTenant=e[0]}else null!=t&&null!=t&&"null"!=t&&"undefined"!=t||(t=localStorage.getItem(a.a.LOGGED_IN_USER_ASSIGNED_TENANTS)),e=t.split(","),this.selectedSubTenant=e[0];this.updateRequestTenantIdsInLocalStorage("SET",this.selectedSubTenant),this.onSubTenantChange(this.selectedSubTenant)}},{key:"updateRequestTenantIdsInLocalStorage",value:function(t,e){"SET"==t&&this.persist?localStorage.setItem(a.a.REQUEST_TENANT_IDS,e):(localStorage.setItem(a.a.REQUEST_TENANT_TEMP_IDS,e),localStorage.removeItem(a.a.REQUEST_TENANT_IDS))}},{key:"onSubTenantChange",value:function(t){if("SINGLE"==this.mode)if(this.updateRequestTenantIdsInLocalStorage("SET",t),"ARRAY"==this.returnType){var e=new Array;e.push(t),this._dataSharingService.triggerSubTenantChange(t),this.onSubTenantSelected.emit(e)}else this._dataSharingService.triggerSubTenantChange(t),this.onSubTenantSelected.emit(t);else t.includes("ALL")&&(t=localStorage.getItem(a.a.LOGGED_IN_USER_ASSIGNED_TENANTS).split(",")),0==t.length?this.updateRequestTenantIdsInLocalStorage("DELETE"):this.updateRequestTenantIdsInLocalStorage("SET",t.join(",")),this.listSelectedSubTenants=t,this._dataSharingService.triggerSubTenantChange(t),this.onSubTenantSelected.emit(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Rb(r.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["sub-tenant-select"]],inputs:{mode:"mode",label:"label",labelType:"labelType",placeholder:"placeholder",selectedSubTenant:"selectedSubTenant",allowClear:"allowClear",showError:"showError",errorMessage:"errorMessage",persist:"persist",returnType:"returnType",bypass:"bypass",disabled:"disabled",listSelectedSubTenants:"listSelectedSubTenants",width:"width",nzMaxTagCount:"nzMaxTagCount"},outputs:{onSubTenantSelected:"onSubTenantSelected"},decls:2,vars:2,consts:[[4,"ngIf"],["nzMode","tags","nzShowSearch","","nzServerSearch","",3,"nzMaxTagCount","nzPlaceHolder","ngModel","nzDisabled","width","nzAllowClear","ngModelChange","nzOnSearch",4,"ngIf"],["nz-typography","",2,"margin-left","3px",3,"nzType"],["nzMode","tags","nzShowSearch","","nzServerSearch","",3,"nzMaxTagCount","nzPlaceHolder","ngModel","nzDisabled","nzAllowClear","ngModelChange","nzOnSearch"],[4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],[3,"nzValue","nzLabel",4,"ngIf"],[3,"nzValue","nzLabel"],["nzDisabled","","nzCustomContent",""],["nz-icon","","nzType","loading",1,"loading-icon"],["nzServerSearch","",3,"nzPlaceHolder","nzAllowClear","nzAutoClearSearchValue","ngModel","nzDisabled","width","ngModelChange","nzOnSearch",4,"ngIf"],["nzServerSearch","",3,"nzPlaceHolder","nzAllowClear","nzAutoClearSearchValue","ngModel","nzDisabled","ngModelChange","nzOnSearch"],["nz-typography","","nzType","danger"]],template:function(t,e){1&t&&(o.Vc(0,_,3,2,"ng-container",0),o.Vc(1,D,3,1,"ng-container",0)),2&t&&(o.rc("ngIf",e.showDropDown),o.Db(1),o.rc("ngIf",e.showError))},directives:[c.q,s.a,l.d,d.u,d.x,c.p,l.a,b.a,h.a],styles:[""]}),t}()},"N+jK":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("tk/3"),a=n("AytR"),o=n("TtLB"),r=n("fXoL"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=a.g.url}return p(t,[{key:"getDevicesForUser",value:function(t){return this._http.get(this.rootUrl+"/v3/devices/users/"+t)}},{key:"assignDeviceToPatient",value:function(t,e,n){var i=this.rootUrl+"/v3/devices",a={imei:e,userId:n,parameters:null,tenantId:localStorage.getItem("loggedInTenant"),createdBy:localStorage.getItem("loggedInUser"),type:t};return this._http.post(i,a)}},{key:"removeDevice",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{unAssignedByUserId:localStorage.getItem("loggedInUser"),context:o.a.DEVICE_RE_ASSIGNMENT,note:"Device has been removed"};return e.note&&""!==e.note||(e.note="Device has been removed"),this._http.put(this.rootUrl+"/v3/devices/"+t,e)}},{key:"fetchAssignedDeviceDetails",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n="".concat(this.rootUrl,"/v2/users/assigned/devices?offset=").concat(t,"&limit=10");return e&&(n="".concat(n,"&deviceId=").concat(e)),this._http.get(n)}},{key:"bulkAssignDevices",value:function(t){if(!t)return null;var e=new i.g({bypass:"yes"});return this._http.post("".concat(a.g.url,"/v2/bulk-upload/devices/?fileName=").concat(t),{headers:e,observe:"response",responseType:"text"})}},{key:"getDeviceHistoryForuser",value:function(t){return this._http.get(this.rootUrl+"/v3/devices/history/users/"+t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(i.c))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},Nq9W:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i,a=n("7Xlp"),r=function(){var t=function t(){u(this,t)};return t.SOURCE="source",t.SEARCH_KEY="search_key",t.CAREPLAN_ID="careplan_id",t.EPISODE_ID="episode_id",t.PATIENT_ID="patient_id",t.PARAMETER="parameter",t.ACTION_NAME="action_name",t.CAREPLAN_ACTION="CAREPLAN_ACTION",t.CAREPLAN_TEMPLATE_SEARCH="CAREPLAN_TEMPLATE_SEARCH",t.EPISODE_CAREPLAN_ACTION="EPISODE_CAREPLAN_ACTION",t}(),s=n("fXoL"),l=((i=function(t){o(n,t);var e=c(n);function n(){var t;return u(this,n),(t=e.call(this)).SOURCE="careplan",t}return p(n,[{key:"careplanActionEvent",value:function(t,e){var n=this.getCommonProperties();n[r.SOURCE]=this.SOURCE,n[r.CAREPLAN_ID]=t,n[r.ACTION_NAME]=e,this.logEvent(r.CAREPLAN_ACTION,n)}},{key:"careplanSearchEvent",value:function(t){var e=this.getCommonProperties();e[r.SEARCH_KEY]=t,e[r.SOURCE]=this.SOURCE,this.logEvent(r.CAREPLAN_TEMPLATE_SEARCH,e)}},{key:"episodeCareplanActionEvent",value:function(t,e,n,i){var a=this.getCommonProperties();a[r.SOURCE]=this.SOURCE,a[r.EPISODE_ID]=t,a[r.PATIENT_ID]=e,a[r.CAREPLAN_ID]=n,a[r.ACTION_NAME]=i,this.logEvent(r.EPISODE_CAREPLAN_ACTION,a)}}]),n}(a.a)).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Nb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},OE57:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("tk/3"),a=n("AytR"),o=n("fXoL"),r=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=a.g.url}return p(t,[{key:"fetchAppointmentsForUser",value:function(t,e){return this.endPoint=this.rootUrl+"/v2/appointments/users/"+t+"?type="+e,this._http.get(this.endPoint)}},{key:"fetchPatientForAppointment",value:function(t){return this.endPoint=this.rootUrl+"/v2/users/"+t,"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"?caretakerId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}},{key:"fetchAppointmentsRequests",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,a=localStorage.getItem("loggedInTenant");return this.endPoint=this.rootUrl+"/v2/appointments/requests/tenants/"+a+"?status=PENDING&limit=".concat(e,"&offset=")+t,n&&(this.endPoint="".concat(this.endPoint,"&name=").concat(n)),i&&(this.endPoint="".concat(this.endPoint,"&requestTenantIds=").concat(i)),"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"&careTakerId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}},{key:"getEndPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:10,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"ASC",u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,d=arguments.length>11&&void 0!==arguments[11]&&arguments[11],p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:null,b=arguments.length>13&&void 0!==arguments[13]?arguments[13]:null,h=this.rootUrl+"/v2/appointments?sort="+(l=l||"ASC")+"&status="+t+"&limit="+s+"&offset="+e;return n&&(h="".concat(h,"&startTime=").concat(n)),i&&(h="".concat(h,"&endTime=").concat(i)),r&&(h="".concat(h,"&name=").concat(r)),a&&(h="".concat(h,"&episodeId=").concat(a)),p&&(h="".concat(h,"&requestTenantIds=").concat(p)),b&&null!=b&&(h="".concat(h,"&siteId=").concat(b)),o&&"null"!==o&&(h=h+"&attenderId="+o),null!=c&&(h=h+"&attendeeId="+c),d&&(h="".concat(h,"&primaryStaffOnly=").concat(d)),null==u||u.forEach(function(t){t.value.forEach(function(e){h+="&".concat(t.key,"=").concat(e)})}),h}},{key:"getDeletionEndPoint",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:10,l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"ASC",u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,d=arguments.length>11&&void 0!==arguments[11]&&arguments[11],p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:null,b="?sort="+(l=l||"ASC")+"&status="+t+"&limit="+s+"&offset="+e;return n&&(b="".concat(b,"&startTime=").concat(n)),i&&(b="".concat(b,"&endTime=").concat(i)),r&&(b="".concat(b,"&name=").concat(r)),a&&(b="".concat(b,"&episodeId=").concat(a)),p&&(b="".concat(b,"&requestTenantIds=").concat(p)),"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&"null"!==o?b=b+"&attenderId="+localStorage.getItem("loggedInUser"):o&&"null"!==o&&(b=b+"&attenderId="+o),null!=c&&(b=b+"&attendeeId="+c),d&&(b="".concat(b,"&primaryStaffOnly=").concat(d)),null==u||u.forEach(function(t){t.value.forEach(function(e){b+="&".concat(t.key,"=").concat(e)})}),b}},{key:"fetchUpcomingAppointments",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now()-6e5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:10,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"ASC",l=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,u=arguments.length>10&&void 0!==arguments[10]&&arguments[10],d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null,p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:null;return this.endPoint=this.getEndPoint("APPROVED",t,e,n,i,a,o,r,c,s,l,u,d,p),this._http.get(this.endPoint)}},{key:"fetchCompletedAppointments",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"DESC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;return this.endPoint=this.getEndPoint("FINISHED",t,o,r,n,null,i,null,e,a=a||"DESC",c,s),this._http.get(this.endPoint)}},{key:"fetchUnattendedAppointments",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESC",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,l=(new Date).getTime()-6e5;return this.endPoint=this.getEndPoint("APPROVED",t,a,o||l,n,null,i,null,e,r=r||"DESC",c,s),this._http.get(this.endPoint)}},{key:"fetchRejectedAppointments",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=localStorage.getItem("loggedInTenant");return this.endPoint=this.rootUrl+"/v2/appointments/requests/tenants/"+a+"?status=REJECTED&limit="+e+"&offset="+t,n&&(this.endPoint="".concat(this.endPoint,"&name=").concat(n)),(i||null!=i)&&(this.endPoint="".concat(this.endPoint,"&requestTenantIds=").concat(i)),"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"&attenderId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}},{key:"fetchOnHoldAppointments",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=localStorage.getItem("loggedInTenant");return this.endPoint=this.rootUrl+"/v2/appointments/requests/tenants/"+i+"?status=ON_HOLD&limit="+e+"&offset="+t,n&&(this.endPoint="".concat(this.endPoint,"&name=").concat(n)),"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"&attenderId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}},{key:"fetchAppointmentDetailsById",value:function(t){return this.endPoint=this.rootUrl+"/v2/appointments/"+t,this._http.get(this.endPoint)}},{key:"fetchActionItemsForAppointments",value:function(t){return this.endPoint=this.rootUrl+"/v2/actions/appointments/"+t,this._http.get(this.endPoint)}},{key:"setAppointmentAsApproved",value:function(t,e,n,i){return this.endPoint="".concat(this.rootUrl,"/v2/appointments/requests/").concat(t,"/caretakers/").concat(e,"?status=APPROVED&startTime=").concat(n,"&endTime=").concat(i),this._http.post(this.endPoint,{})}},{key:"setAppointmentAsRejected",value:function(t){return this.endPoint=this.rootUrl+"/v2/appointments/requests",this._http.put(this.endPoint,JSON.stringify(t))}},{key:"setAppointmentAsDeleted",value:function(t){return this.endPoint=this.rootUrl+"/v2/appointments/"+t,this._http.delete(this.endPoint)}},{key:"createNewAppointment",value:function(t){return this.endPoint=this.rootUrl+"/v2/appointments",this._http.post(this.endPoint,JSON.stringify(t))}},{key:"updateAppointment",value:function(t){return this.endPoint=this.rootUrl+"/v2/appointments",this._http.put(this.endPoint,JSON.stringify(t))}},{key:"createNewNoteForAppointment",value:function(t){return this.endPoint=this.rootUrl+"/v2/notes",this._http.post(this.endPoint,JSON.stringify(t))}},{key:"updateNoteForAppointment",value:function(t){return this.endPoint=this.rootUrl+"/v2/notes/"+t.id,this._http.put(this.endPoint,JSON.stringify(t))}},{key:"fetchNoteForAppointment",value:function(t){return this.endPoint=this.rootUrl+"/v2/notes/"+t,this._http.get(this.endPoint)}},{key:"fetchNotesByIds",value:function(t){this.endPoint=this.rootUrl+"/v2/notes";var e=new i.h({fromObject:{noteIds:t}});return this._http.get(this.endPoint,{params:e})}},{key:"fetchAppointmentsBasedOnQuery",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,n=arguments.length>2?arguments[2]:void 0;if(n=n.toString().trim(),this.endPoint=this.rootUrl+"/v2/appointments/?status="+t+"&limit="+e+"&name="+n,"UPCOMING"===t){var i=(new Date).getTime();this.endPoint=this.rootUrl+"/v2/appointments/?sort=ASC&status="+(t="APPROVED")+"&limit="+e+"&name="+n+"&startTime="+i}if("UNATTENDED"===t){var a=(new Date).getTime()-6e5;this.endPoint=this.rootUrl+"/v2/appointments/?status="+(t="APPROVED")+"&limit="+e+"&name="+n+"&endTime="+a}return"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"&attenderId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}},{key:"fetchAppointmentRequestsBasedOnQuery",value:function(t,e){e=e.toString().trim();var n=localStorage.getItem("loggedInTenant");return this.endPoint=this.rootUrl+"/v2/appointments/requests/tenants/"+n+"?status="+t+"&name="+e+"&limit=-1","CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(this.endPoint=this.endPoint+"&careTakerId="+localStorage.getItem("loggedInUser")),this._http.get(this.endPoint)}},{key:"completeAppointment",value:function(t){return this.endPoint=this.rootUrl+"/v2/appointments/complete",this._http.post(this.endPoint,JSON.stringify(t))}},{key:"fetchAvailableCaretakers",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(t&&e)return this.endPoint="".concat(this.rootUrl,"/v2/appointments/caretakers/available\n\t\t\t\t?startDateTime=").concat(t,"&endDateTime=").concat(e,"&offset=").concat(n,"&limit=").concat(i),a&&(this.endPoint="".concat(this.endPoint,"&searchKey=").concat(a)),o&&(this.endPoint="".concat(this.endPoint,"&patientId=").concat(o)),this._http.get(this.endPoint)}},{key:"fetchPDFBlobForRoutesForm",value:function(t){var e=new i.g({bypass:"yes"});return this._http.get(t,{headers:e,responseType:"blob"})}},{key:"fetchAppointmentPurpose",value:function(t){return this.endPoint=this.rootUrl+"/v2/appointments/purpose/"+t,this._http.get(this.endPoint)}},{key:"fetchPatientWihoutAppointment",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;return this.endPoint=this.rootUrl+"/v2/appointments/no-appointment?",e&&(this.endPoint="".concat(this.endPoint,"&searchKey=").concat(e)),t&&(this.endPoint="".concat(this.endPoint,"&staffId=").concat(t)),this._http.get(this.endPoint)}},{key:"bulkUploadAppointments",value:function(t){return this._http.post(this.rootUrl+"/v2/bulk-upload/appointments/".concat(t),{})}},{key:"updateAttemptCount",value:function(t){return this._http.post(this.rootUrl+"/v2/appointments/update-attempt-count",JSON.stringify(t))}},{key:"reassignAppointments",value:function(t){return this._http.post(this.rootUrl+"/v2/appointments/reassign",JSON.stringify(t))}},{key:"deleteAppointments",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"DESC",c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,l=this.rootUrl+"/v2/appointments/delete/bulk-appointments",u=(new Date).getTime()-6e5;return l+=this.getDeletionEndPoint("APPROVED",0,a,o||u,n,null,i,null,e,r=r||"DESC",c,s),this._http.delete(l)}},{key:"validateUploadAppointments",value:function(t,e){var n={appointments:t,mrnAndDobList:e},a=this.rootUrl+"/v2/bulk-upload/validate-appointments/",o=new i.g({"Content-Type":"application/json"});return this._http.post(a,n,{headers:o})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(i.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},OS4Q:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("0W7X"),a={Listing:{header:!0,title:"MENU.APPOINTMENT",searchEnabled:!0,searchPlaceholder:"COMMON.SEARCH_PATIENT_STAFF",primaryAction:{title:"Create Appointment",permissions:[],enabled:!0},secondaryAction:{},multiAction:{title:"Bulk Actions",permissions:[i.a.ADD_PHYSICIAN,i.a.ADD_MONITORING_STAFF,i.a.ADD_ENROLMENT_STAFF],actions:[{title:"Bulk Upload",value:"BULK_UPLOAD",permissions:[]},{title:"Bulk Reassign",value:"BULK_REASSIGN",permissions:[]}],enabled:!0},privileges:[i.a.VIEW_APPOINTMENT],showTenantToggle:!0},Form:{header:!0,title:"APPOINTMENT.CREATE",searchEnabled:!1,primaryAction:{},secondaryAction:{},multiAction:{},privileges:[i.a.ADD_APPOINTMENT,i.a.VIEW_APPOINTMENT],showTenantToggle:!0},Detail:{header:!0,title:"COMMON.APPOINTMENTDETAILS",searchEnabled:!1,primaryAction:{title:"Plan of Care",permissions:[],enabled:!0},secondaryAction:{title:"Patient Communication",permissions:[],enabled:!0},multiAction:{},privileges:[i.a.VIEW_APPOINTMENT],showTenantToggle:!0},BulkUpload:{header:!0,title:"Bulk Upload",searchEnabled:!1,primaryAction:{title:"Upload",permissions:[],enabled:!0},secondaryAction:{title:"Download Template",permissions:[],enabled:!0},multiAction:{},privileges:[i.a.ADD_APPOINTMENT],showTenantToggle:!0},BulkReschedule:{header:!0,title:"Bulk Resassign",searchEnabled:!1,primaryAction:{},secondaryAction:{},multiAction:{},privileges:[i.a.ADD_APPOINTMENT],showTenantToggle:!0}}},OTIt:function(t,i,a){"use strict";a.d(i,"a",function(){return Se});var o=a("c/Vb"),r=a("k9Ba"),c=a("Gskk"),s=a("ZPfs"),l=a("geco"),d=a("gXqy"),b=a("6En5"),h=a("V5Ok"),g=a("awHO"),f=a("GMnC"),v=a("nLCl"),m=a("fXoL"),S=a("ncdi"),y=a("dRHE");function T(t,e){1&t&&(m.Xb(0,"span",6),m.Xb(1,"strong",7),m.Xc(2," TMS "),m.Sb(3,"br"),m.Xc(4," 20 "),m.Wb(),m.Wb())}function C(t,e){1&t&&(m.Xb(0,"span",6),m.Xb(1,"strong",7),m.Xc(2," TMS "),m.Sb(3,"br"),m.Xc(4," 40 "),m.Wb(),m.Wb())}function E(t,e){1&t&&(m.Xb(0,"span",6),m.Xb(1,"strong",7),m.Xc(2," TMS "),m.Sb(3,"br"),m.Xc(4," 60 "),m.Wb(),m.Wb())}var I,M=((I=function(){function t(){u(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||I)},I.\u0275cmp=m.Lb({type:I,selectors:[["app-tms-details"]],decls:26,vars:12,consts:[[1,"tms-details-container"],[3,"nzDot"],[1,"detail-text"],["tms20",""],["tms40",""],["tms60",""],[1,"dot"],[1,"dot-text"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-timeline"),m.Xb(2,"nz-timeline-item",1),m.Xb(3,"p",2),m.Xb(4,"strong"),m.Xc(5,"TMS 20 (CPT-99457)"),m.Wb(),m.Xc(6),m.jc(7,"translate"),m.Wb(),m.Wb(),m.Xb(8,"nz-timeline-item",1),m.Xb(9,"p",2),m.Xb(10,"strong"),m.Xc(11,"TMS 40 (CPT-99458-A)"),m.Wb(),m.Xc(12),m.jc(13,"translate"),m.Wb(),m.Wb(),m.Xb(14,"nz-timeline-item",1),m.Xb(15,"p",2),m.Xb(16,"strong"),m.Xc(17,"TMS 60 (CPT-99458-B)"),m.Wb(),m.Xc(18),m.jc(19,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Vc(20,T,5,0,"ng-template",null,3,m.Wc),m.Vc(22,C,5,0,"ng-template",null,4,m.Wc),m.Vc(24,E,5,0,"ng-template",null,5,m.Wc),m.Wb()),2&t){var n=m.Ic(21),i=m.Ic(23),a=m.Ic(25);m.Db(2),m.rc("nzDot",n),m.Db(4),m.Zc(" ",m.kc(7,6,"TMS.TMS_DETAIL_SCREEN.TMS")," "),m.Db(2),m.rc("nzDot",i),m.Db(4),m.Zc(" ",m.kc(13,8,"TMS.TMS_DETAIL_SCREEN.ADDITIONAL_TMS_A")," "),m.Db(2),m.rc("nzDot",a),m.Db(4),m.Zc(" ",m.kc(19,10,"TMS.TMS_DETAIL_SCREEN.ADDITIONAL_TMS_B")," ")}},directives:[S.a,S.b],pipes:[y.a],styles:[".dot[_ngcontent-%COMP%]{height:50px;width:50px;background-color:var(--primary-color);border-radius:50%;display:inline-block}.dot-text[_ngcontent-%COMP%]{color:var(--neutral-color);position:absolute;top:30%;left:25%}.detail-text[_ngcontent-%COMP%]{padding-left:20px}.tms-details-container[_ngcontent-%COMP%]{margin:0 20px 20px;text-align:justify}[_nghost-%COMP%]     .ant-timeline-item-head-custom{top:24px}"]}),I),A=a("IEkc"),_=a("c36b"),D=a("wb4W"),z=a("dEAy"),O=a("bNXi"),k=a("5+WD"),N=a("wjar"),P=a("glKu"),R=a("B+r4"),X=a("0lU3"),L=a("3Pt+"),w=a("ofXK"),W=a("zAKX"),V=a("ZyQt"),x=a("aPTj"),U=a("bE2y"),F=a("mUB+"),H=a("mUTz"),B=a("GKSl"),j=a("PTRe"),G=a("OzZK"),Y=a("RwU8"),q=a("C2AL"),Z=a("eHCX"),Q=a("sIYb");function K(t,e){if(1&t&&m.Sb(0,"nz-option",48),2&t){var n=e.$implicit;m.uc("nzLabel","",null==n?null:n.firstName," ",null==n?null:n.lastName,""),m.rc("nzValue",n)}}function J(t,e){1&t&&(m.Xb(0,"strong",8),m.Xc(1," Other TMS Activity: "),m.Wb())}function $(t,e){1&t&&(m.Xb(0,"strong",8),m.Xc(1," Additional TMS Activities: "),m.Wb())}function tt(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"nz-option",50),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.rc("nzValue",n)("nzLabel",null==n?null:n.name)}}function et(t,e){if(1&t){var n=m.Yb();m.Xb(0,"nz-select",49),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().activity=t}),m.Vc(1,tt,2,2,"ng-container",21),m.Wb()}if(2&t){var i=m.ic();m.rc("ngModel",i.activity),m.Db(1),m.rc("ngForOf",i.activities)}}function nt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",51),m.Xb(1,"input",52),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().setCustomActivity(t)}),m.Wb(),m.Wb()}}function it(t,e){if(1&t&&m.Sb(0,"nz-option",50),2&t){var n=m.ic().$implicit;m.uc("nzLabel","",null==n?null:n.code,", ",null==n?null:n.description,""),m.rc("nzValue",n)}}function at(t,e){if(1&t&&(m.Vb(0),m.Vc(1,it,1,3,"nz-option",53),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.rc("ngIf","Active"===(null==n?null:n.status)&&"CHRONIC"===(null==n?null:n.type))}}function ot(t,e){1&t&&(m.Xb(0,"div",19),m.Xb(1,"div",14),m.Xb(2,"label",54),m.Xc(3,"Required"),m.Wb(),m.Wb(),m.Wb())}function rt(t,e){if(1&t&&m.Sb(0,"app-icons",57),2&t){var n=m.ic().$implicit;m.sc("name",null==n?null:n.icon)}}function ct(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",27),m.Xb(1,"app-communication-action",55),m.ec("select",function(t){return m.Lc(n),m.ic().setCommunicationMode(null==t?null:t.type)}),m.Vc(2,rt,1,1,"app-icons",56),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit,a=m.ic();m.Db(1),m.rc("label",null==i?null:i.name)("type",null==i?null:i.type)("selectedType",a.communicationMode),m.Db(1),m.rc("ngIf",null==i?null:i.icon)}}function st(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",58),m.Xc(2,"Required"),m.Wb(),m.Ub())}function lt(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",58),m.Xc(2,"Required"),m.Wb(),m.Ub())}function ut(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",58),m.Xc(2,"Required"),m.Wb(),m.Ub())}function dt(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",58),m.Xc(2,"Required"),m.Wb(),m.Ub())}var pt,bt=function(){return{nzMinuteStep:"10",nzFormat:"hh:mm"}},ht=function(){return{width:"unset"}},gt=((pt=function(){function t(e,n,i,a,o,c,s,l){var p=this;u(this,t),this._patientsService=e,this._episodesService=n,this._modalRef=i,this._notificationsService=a,this._modalService=o,this._patientCommunicationValidator=c,this._staffSessionPingService=s,this.draftHelper=l,this.duration=0,this.communicationModes=b.b,this.activities=r.a,this.billable=!0,this.isUpdateBillableModalVisible=!1,this.updateHistory={},this.currentPendingTmsType="TMS",this.currentPendingDuration=20,this.isUpdateTimeModalVisible=!1,this.isCMTTimeUpdatedManually=!1,this.isUpdateActivityModalVisible=!1,this.isUpdateTmsNoteModalVisible=!1,this.isUpdateModeModalVisible=!1,this.noteUpdateReason="",this.timeUpdateReason="",this.billableUpdateReason="",this.activityUpdateReason="",this.tmsNoteUpdateReason="",this.modeUpdateReason="",this.disabledDate=function(t){return Object(d.a)(p.careplanStartDate,t)>0||Object(d.a)(new Date((new Date).setHours(23,59,59,99)),t)<0},this.totalTMSDurationCompleted=0,this.totalAdditionalTMSDurationCompleted=0,this.totalAdditionalTMSBDurationCompleted=0,this.config=_.e,this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color")}return p(t,[{key:"editTMS",set:function(t){var e,n,i,a,o,r,c,s,l,u,d,p,b,h,g,f,v,m,S,y,T,C,E,I,M,A=this;if(t){this.patientCommunicationId=null==t?void 0:t.id,this.activities.forEach(function(e){(null==t?void 0:t.context)===e.type&&(A.activity=e,A.type=e.type)}),this.communicationModes.forEach(function(e){(null==t?void 0:t.mode)===e.type&&(A.communicationMode=e,A.setCommunicationMode(null==t?void 0:t.mode))}),this.startDate=new Date(null==t?void 0:t.startTime);var _=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4;this.duration=_<1?0:+(null==_?void 0:_.toFixed(0)),this.billable=null===(e=null==t?void 0:t.compliance)||void 0===e?void 0:e.billable,this.tmsNote=null==t?void 0:t.notes;var D=null===(n=null==t?void 0:t.dxCodes)||void 0===n?void 0:n.map(function(t){return null==t?void 0:t.code});(null==D?void 0:D.length)&&(this.selectedDxCodes=null===(r=(null===(a=null===(i=this.patient)||void 0===i?void 0:i.healthInfo)||void 0===a?void 0:a.dxCodes)||(null===(o=this.patient)||void 0===o?void 0:o.dxCodes))||void 0===r?void 0:r.filter(function(t){return-1!=(null==D?void 0:D.findIndex(function(e){return e===(null==t?void 0:t.code)}))})),this.primaryDuration=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4,this.primaryBillable=this.billable,this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryMode=this.communicationMode,null!=(null==t?void 0:t.updateHistory)&&(this.timeUpdateReason=null==(null===(s=null===(c=null==t?void 0:t.updateHistory)||void 0===c?void 0:c.timeUpdateHistory)||void 0===s?void 0:s.reason)?"":null===(u=null===(l=null==t?void 0:t.updateHistory)||void 0===l?void 0:l.timeUpdateHistory)||void 0===u?void 0:u.reason,this.billableUpdateReason=null==(null===(p=null===(d=null==t?void 0:t.updateHistory)||void 0===d?void 0:d.billableUpdateHistory)||void 0===p?void 0:p.reason)?"":null===(h=null===(b=null==t?void 0:t.updateHistory)||void 0===b?void 0:b.billableUpdateHistory)||void 0===h?void 0:h.reason,this.activityUpdateReason=null==(null===(f=null===(g=null==t?void 0:t.updateHistory)||void 0===g?void 0:g.activityUpdateHistory)||void 0===f?void 0:f.reason)?"":null===(m=null===(v=null==t?void 0:t.updateHistory)||void 0===v?void 0:v.activityUpdateHistory)||void 0===m?void 0:m.reason,this.tmsNoteUpdateReason=null==(null===(y=null===(S=null==t?void 0:t.updateHistory)||void 0===S?void 0:S.noteUpdateHistory)||void 0===y?void 0:y.reason)?"":null===(C=null===(T=null==t?void 0:t.updateHistory)||void 0===T?void 0:T.noteUpdateHistory)||void 0===C?void 0:C.reason,this.modeUpdateReason=null==(null===(I=null===(E=null==t?void 0:t.updateHistory)||void 0===E?void 0:E.communicationModeUpdateHistory)||void 0===I?void 0:I.reason)?"":null===(M=null==t?void 0:t.updateHistory.communicationModeUpdateHistory)||void 0===M?void 0:M.reason)}}},{key:"appointmentTime",set:function(t){if((null==t?void 0:t.length)&&t[0]){this.appointmentStartDateTime=t[0],this.appointmentEndTime=t[1],this.setActivity("PATIENT_ENGAGEMENT","CALL",!!this.tmsNote),this.startDate=new Date(t[0]);var e=(t[1]-t[0])/6e4;this.duration=e<1?0:+(null==e?void 0:e.toFixed(0)),this.primaryDuration=this.duration,this.validateTMSData()}else this.setDefaultDateAndTime()}},{key:"stickyNote",set:function(t){t&&(this.tmsNote=t,this.stickyNoteText=this.tmsNote)}},{key:"ngOnInit",value:function(){this.tmsAddedNotifications=new Array,this.getTMSDetails()}},{key:"ngAfterViewInit",value:function(){this.fetchCaretakersForPatient()}},{key:"setDefaultDateAndTime",value:function(){this.startDate=new Date(Date.now()-18e5)}},{key:"fetchCaretakersForPatient",value:function(){var t=this;this._patientsService.fetchCaretakersForPatient(this.patient.id).subscribe(function(e){if(e&&e.length){t.caretakers=e;var n=localStorage.getItem("loggedInUserRole");if(v.a.MONITORING_STAFF===n){var i=localStorage.getItem("loggedInUser");t.caretakers=t.caretakers.filter(function(t){return i===t.id})}t.selectedCaretaker=t.caretakers[0],t.validateTMSData()}else t._notificationsService.error("TMS","".concat(t.patient.name," does not have a clinician assigned!"))})}},{key:"getTMSDetails",value:function(){var t,e,n,i,a,o,r,c,s=this;(2>=(null===(e=null===(t=this.patient)||void 0===t?void 0:t.dxCodes)||void 0===e?void 0:e.length)||2>=(null===(a=null===(i=null===(n=this.patient)||void 0===n?void 0:n.healthInfo)||void 0===i?void 0:i.dxCodes)||void 0===a?void 0:a.length))&&(this.selectedDxCodes=(null===(o=this.patient)||void 0===o?void 0:o.dxCodes)||(null===(c=null===(r=this.patient)||void 0===r?void 0:r.healthInfo)||void 0===c?void 0:c.dxCodes)),this._episodesService.getCallDetails(this.patient.id,this.episodeId).subscribe(function(t){var e;if(t){var n=null===(e=null==t?void 0:t.map(function(t){return null==t?void 0:t.durationInMilliSeconds}))||void 0===e?void 0:e.reduce(function(t,e){return t+e},0);n/=6e4,s.countCompletedTMSDetails(t),s.episodeTMSProgress=s.generateEpisodeTMSObject(n),s.validateTMSData()}})}},{key:"countCompletedTMSDetails",value:function(t){this.totalTMSDurationCompleted=t.filter(function(t){return"TMS"===t.type}).map(function(t){return t.durationInMilliSeconds}).reduce(function(t,e){return t+e},0),this.totalAdditionalTMSDurationCompleted=t.filter(function(t){return"ADDITIONAL_TMS"===t.type}).map(function(t){return t.durationInMilliSeconds}).reduce(function(t,e){return t+e},0),this.totalAdditionalTMSBDurationCompleted=t.filter(function(t){return"ADDITIONAL_TMS_B"===t.type}).map(function(t){return t.durationInMilliSeconds}).reduce(function(t,e){return t+e},0),this.totalTMSDurationCompleted=this.totalTMSDurationCompleted/6e4,this.totalAdditionalTMSDurationCompleted=this.totalAdditionalTMSDurationCompleted/6e4,this.totalAdditionalTMSBDurationCompleted=this.totalAdditionalTMSBDurationCompleted/6e4,this.setCurrentlyPendingTMSTypeAndPendingDuration()}},{key:"setCurrentlyPendingTMSTypeAndPendingDuration",value:function(){var t,e=null!=this.episodeTMSProgress?null===(t=this.episodeTMSProgress)||void 0===t?void 0:t.total:20;this.totalAdditionalTMSDurationCompleted>=e?(this.currentPendingTmsType="ADDITIONAL_TMS_B",this.currentPendingDuration=1/0):this.totalTMSDurationCompleted>=e?(this.currentPendingTmsType="ADDITIONAL_TMS",this.currentPendingDuration=e-this.totalAdditionalTMSDurationCompleted):(this.currentPendingTmsType="TMS",this.currentPendingDuration=e-this.totalTMSDurationCompleted)}},{key:"generateEpisodeTMSObject",value:function(t){var e=6e4*t,n=20*t/100;return{episodeId:this.episodeId,completed:Number.isNaN(e)?0:e,episodeType:f.a.RPM,maxValue:20,percent:Number.isNaN(n)?0:n,remaining:"",total:12e5}}},{key:"setActivityDetails",value:function(){var t=this;this.activity&&this.communicationMode&&this.activity.configs[this.communicationMode]&&(null==this.primaryDuration&&(this.duration=this.activity.configs[this.communicationMode].duration),this.stickyNoteText?this._modalService.create({nzTitle:"Confirm",nzContent:"Changing the selected values will replace the note entered with a default note, do you want to proceed without replacing the note with the default one?",nzClosable:!1,nzCloseIcon:null,nzMaskClosable:!1,nzKeyboard:!1,nzOkText:"Yes",nzCancelText:"No",nzOnCancel:function(){t.duration=t.activity.configs[t.communicationMode].duration,t.tmsNote=t.activity.configs[t.communicationMode].note,t.stickyNoteText=void 0}}):this.tmsNote=this.activity.configs[this.communicationMode].note,this.context=this.activity.configs[this.communicationMode].context)}},{key:"setActivity",value:function(t,e){t&&(this.type=t,this.communicationMode=e,this.activity=this.activities.find(function(e){return e.type===t}),this.setActivityDetails(),this.validateTMSData())}},{key:"setCustomActivity",value:function(t){this.activity={name:t}}},{key:"showTMSHistory",value:function(){this._modalService.create({nzContent:g.a,nzComponentParams:{patientId:this.patient.id,patientName:this.patient.name,episodeId:this.episodeId,tmsType:this.cptCode},nzWidth:725,nzBodyStyle:{height:"675px",overflowY:"scroll"},nzFooter:null})}},{key:"setCommunicationMode",value:function(t){this.communicationMode=s.a[t],this.setActivityDetails(),this.validateTMSData()}},{key:"generateTMSObject",value:function(t,e,n,i){return{patientId:this.patient.id,episodeId:this.episodeId,caretakerId:this.selectedCaretaker.id,date:t,startTime:t,endTime:e,notes:this.tmsNote,mode:this.communicationMode,activity:this.activity.name,dxCodes:this.selectedDxCodes,context:this.context,billable:this.billable,type:n,cptCode:i,tenantId:localStorage.getItem("loggedInTenant")}}},{key:"validateTMSData",value:function(t){var e;t&&(this.duration=t);var n=this._patientCommunicationValidator.validate(this.selectedCaretaker,this.startDate,this.communicationMode,this.activity,this.duration,this.tmsNote);return this.billable&&(!this.selectedDxCodes||(null===(e=this.selectedDxCodes)||void 0===e?void 0:e.length)<2)&&(null==n||n.push("Please select at least 2 diagnosis codes before proceeding!")),this.validated=!n.length,n}},{key:"updateNextTmsTypeAndPendingDuration",value:function(t,e){var n,i=null!=this.episodeTMSProgress?null===(n=this.episodeTMSProgress)||void 0===n?void 0:n.total:20;if(e>0)switch(t){case"TMS":this.currentPendingTmsType="ADDITIONAL_TMS",this.currentPendingDuration=i;break;default:this.currentPendingTmsType="ADDITIONAL_TMS_B",this.currentPendingDuration=1/0}}},{key:"getCPTCodeForTmsType",value:function(t){switch(t){case"TMS":return o.a.TREATMENT_MANAGEMENT_SERVICE;case"ADDITIONAL_TMS":return o.a.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE;case"ADDITIONAL_TMS_B":return o.a.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B;default:return null}}},{key:"isLastAvailableTMSType",value:function(t){return"ADDITIONAL_TMS_B"===t}},{key:"closeModal",value:function(t){this._modalRef.close(t)}},{key:"showDetails",value:function(){this._modalService.create({nzContent:M,nzTitle:"TMS Details",nzWidth:725,nzBodyStyle:{height:"640px",overflowY:"none"},nzFooter:null})}},{key:"generateTMSRequestObject",value:function(){var t,e;return{id:this.patientCommunicationId,patientId:this.patient.id,episodeId:this.episodeId,staffId:this.selectedCaretaker.id,startTime:null===(t=this.startDate)||void 0===t?void 0:t.getTime(),endTime:(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,notes:this.tmsNote,mode:this.communicationMode,activity:this.activity.name,dxCodes:this.selectedDxCodes,context:this.context,billable:this.billable,serviceCode:this.cptCode,timerId:this.timerId,noteUpdateReason:this.noteUpdateReason,updateHistory:this.updateHistory}}},{key:"save",value:function(){this.primaryDuration!=this.duration&&null!=this.primaryDuration||1!=this.primaryBillable||null!=this.primaryActivity||null!=this.primaryTmsNote||null!=this.primaryMode?this.primaryDuration!=this.duration||this.billable!=this.primaryBillable||this.activity.name!=this.primaryActivity||this.tmsNote!=this.primaryTmsNote||this.communicationMode!=this.primaryMode?(this.primaryDuration!=this.duration&&null!=this.primaryDuration&&(this.isUpdateTimeModalVisible=!0,this.isCMTTimeUpdatedManually=!0),this.activity.name!=this.primaryActivity&&null!=this.primaryActivity&&(this.isUpdateActivityModalVisible=!0),this.tmsNote!=this.primaryTmsNote&&null!=this.primaryTmsNote&&(this.isUpdateTmsNoteModalVisible=!0),this.primaryMode!=this.communicationMode&&null!=this.primaryMode&&(this.isUpdateModeModalVisible=!0),this.billable!=this.primaryBillable&&this.submitUpdateBillableReason()):(this.isCMTTimeUpdatedManually=!1,this.proceedToSave()):this.proceedToSave()}},{key:"saveUpdatedReasons",value:function(){var t={reason:this.billableUpdateReason},e={reason:this.activityUpdateReason},n={reason:this.tmsNoteUpdateReason},i={reason:this.modeUpdateReason};this.updateHistory.timeUpdateHistory={reason:this.timeUpdateReason},this.updateHistory.billableUpdateHistory=t,this.updateHistory.activityUpdateHistory=e,this.updateHistory.noteUpdateHistory=n,this.updateHistory.communicationModeUpdateHistory=i,this.isUpdateTimeModalVisible||this.isUpdateActivityModalVisible||this.isUpdateTmsNoteModalVisible||this.isUpdateModeModalVisible||this.proceedToSave()}},{key:"submitUpdateReason",value:function(){this.reasonForChange?(this.isNoteRequired=!1,this.isUpdateTimeModalVisible=!1,this.reasonUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.timeUpdateReason+="<div>TMS <strong>updated </strong>from <strong>"+this.primaryDuration+" to "+this.duration+" minutes </strong> on <strong>"+this.reasonUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForChange+"</br></br>",this.saveUpdatedReasons()):this.isNoteRequired=!0}},{key:"closeUpdateModal",value:function(){this.timeUpdateReason="",this.duration=this.primaryDuration,this.isUpdateTimeModalVisible=!1}},{key:"submitUpdateBillableReason",value:function(){this.billableUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.primaryBillable!=this.billable&&null!=this.primaryBillable&&(this.primaryBillable?(this.primaryBillableNote="Billable",this.updatedBillableNote="Non-Billable"):(this.primaryBillableNote="Non-Billable",this.updatedBillableNote="Billable"),this.billableUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryBillableNote+" to "+this.updatedBillableNote+"</strong> on <strong>"+this.billableUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong></br></br>"),this.saveUpdatedReasons()}},{key:"closeBillableModal",value:function(){this.billableUpdateReason="",this.billable=this.primaryBillable,this.isUpdateBillableModalVisible=!1}},{key:"submitUpdateActivityReason",value:function(){this.reasonForActivityUpdate?(this.isActivityNoteRequired=!1,this.isUpdateActivityModalVisible=!1,this.activityUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.activityUpdateReason+="<div>TMS <strong>updated </strong>from <strong>"+this.primaryActivity+" to "+this.activity.name+"</strong> on <strong>"+this.activityUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForActivityUpdate+"</br></br>",this.saveUpdatedReasons()):this.isActivityNoteRequired=!0}},{key:"closeActivityModal",value:function(){this.activityUpdateReason="",this.activity.name=this.primaryActivity,this.setActivity(this.primaryActivity,this.communicationMode,!0),this.isUpdateActivityModalVisible=!1}},{key:"submitTmsUpdateReason",value:function(){this.reasonForTmsNoteUpdate?(this.isTmsNoteRequired=!1,this.isUpdateTmsNoteModalVisible=!1,this.tmsNoteUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.tmsNoteUpdateReason+="<div>TMS <strong>updated </strong>from <strong>"+this.primaryTmsNote+" to "+this.tmsNote+"</strong> on <strong>"+this.tmsNoteUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForTmsNoteUpdate+"</br></br>",this.saveUpdatedReasons()):this.isTmsNoteRequired=!0}},{key:"closeTmsUpdateModal",value:function(){this.tmsNoteUpdateReason="",this.tmsNote=this.primaryTmsNote,this.isUpdateTmsNoteModalVisible=!1}},{key:"submitModeUpdateReason",value:function(){if(this.reasonForModeUpdate){var t,n;this.isModeNoteRequired=!1,this.isUpdateModeModalVisible=!1,this.modeUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"});var i,a=e(this.communicationModes);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o.type==this.primaryMode&&(t=o.name),o.type==this.communicationMode&&(n=o.name),t&&n)break}}catch(r){a.e(r)}finally{a.f()}this.modeUpdateReason+="<div>TMS <strong>updated </strong>from <strong>"+t+" to "+n+"</strong> on <strong>"+this.modeUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForModeUpdate+"</br></br>",this.saveUpdatedReasons()}else this.isModeNoteRequired=!0}},{key:"closeModeUpdateModal",value:function(){this.modeUpdateReason="",this.communicationMode=this.primaryMode,this.isUpdateModeModalVisible=!1}},{key:"proceedToSave",value:function(){var t,e,n=this;this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryBillable=this.billable,this.primaryMode=this.communicationMode;var i=this.validateTMSData();this._patientCommunicationValidator.showErrors(i),this.loading=!0,this._episodesService.validateStartEndTime(this.patient.id,null===(t=this.startDate)||void 0===t?void 0:t.getTime(),(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,this.patientCommunicationId).subscribe(function(t){if(t&&t.length)return n._notificationsService.error("TMS","Start time or End time overlap previous TMS record"),void(n.loading=!1);var e=n.generateTMSRequestObject();(null==e?void 0:e.id)?n._episodesService.updatePatientCommunication(e).subscribe(function(t){n._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e}),n._notificationsService.success("TMS Recorded",null==t?void 0:t.message),"GLOBAL_TIMER"==n.referrer?n.closeModalObject({mode:n.communicationMode,billable:n.billable}):n.closeModal(!0),n.loading=!1,n.draftHelper.removeTimeTrackingNotes(n.patient.id)}):n._episodesService.savePatientCommunication(e).subscribe(function(t){n._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e}),n._notificationsService.success("TMS Recorded",null==t?void 0:t.message),"GLOBAL_TIMER"==n.referrer?n.closeModalObject({mode:n.communicationMode,billable:n.billable}):n.closeModal(!0),n.loading=!1,n.draftHelper.removeTimeTrackingNotes(n.patient.id)})})}},{key:"setTemplate",value:function(t){this.tmsNote=t}},{key:"closeModalObject",value:function(t){this._modalRef.close(t)}}]),t}()).\u0275fac=function(t){return new(t||pt)(m.Rb(l.a),m.Rb(c.a),m.Rb(z.e),m.Rb(O.b),m.Rb(z.f),m.Rb(h.a),m.Rb(A.a),m.Rb(D.a))},pt.\u0275cmp=m.Lb({type:pt,selectors:[["app-tms"]],inputs:{patient:"patient",episodeId:"episodeId",careplanStartDate:"careplanStartDate",tmsType:"tmsType",cptCode:"cptCode",timerId:"timerId",editTMS:"editTMS",appointmentTime:"appointmentTime",stickyNote:"stickyNote",draftId:"draftId",referrer:"referrer"},features:[m.Cb([h.a])],decls:148,vars:103,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],["cdkDragHandle","",1,"draggable-handle"],["id","heading"],["actionable","",1,"tms-more-details",3,"click"],["name","infoCircle","size","16px",3,"color"],[1,"body-container"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],[1,"label"],["nzFormat","dd-MMM-yyyy HH:mm","nzSize","small",3,"nzShowTime","nzPlaceHolder","ngModel","nzDisabledDate","ngStyle","ngModelChange"],["id","caretakers",3,"ngModel","nzSize","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-row","","nzGutter","2"],["nz-row","","nzGutter","2",1,"centerize"],["nz-col","","nzSpan","24"],[3,"nzColor","nzMode","click"],["class","label",4,"ngIf"],["id","activities","nzPlaceHolder","Select Activity",3,"ngModel","ngModelChange",4,"ngIf"],["nz-col","","nzSpan","22",4,"ngIf"],["nz-row",""],["id","dxCodes","nzPlaceHolder","Select at least 2 diagnosis codes","nzMode","multiple","nzMaxMultipleCount","4",3,"ngModel","nzDisabled","ngModelChange"],[4,"ngFor","ngForOf"],["nz-row","",4,"ngIf"],["nz-row","","nzGutter","8","nzAlign","middle"],["nz-col","","nzSpan","4",2,"padding-bottom","8px"],["nz-col","","nzSpan","4",4,"ngFor","ngForOf"],[3,"duration","durationChange"],["nz-col","","nzSpan","4"],["nz-col","","nzSpan","6",3,"ngClass"],["nz-col","","nzSpan","7",3,"ngClass"],["nz-col","","nzOffset","8","nzSpan","8",1,"centerize"],["nzSize","small",3,"ngModel","ngModelChange"],["nz-radio","",3,"nzValue"],["nz-col","","nzSpan","3","id","tms-notes-label"],["nz-col","","nzSpan","21"],["placeholder","Add a note..",3,"ngModel","config","ngModelChange"],["note",""],[3,"note","onTemplateSelected"],[3,"loadingState","validationState","compact","roundedButtons","showHistory","save"],["nzTitle","Please enter the reason for updating TMS minutes",3,"nzVisible","nzFooter","nzVisibleChange"],["nz-input","","placeholder","Enter your reason for updating here",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"reason-update-btn-div"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",1,"reason-update-btn",3,"click"],["nzTitle","Please enter the reason for updating TMS Activity",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating TMS Note",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating TMS Communication Mode",3,"nzVisible","nzFooter","nzVisibleChange"],[3,"nzLabel","nzValue"],["id","activities","nzPlaceHolder","Select Activity",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel"],["nz-col","","nzSpan","22"],["id","activities","ngModel","","placeholder","Enter custom activity...","nz-input","",3,"ngModelChange"],[3,"nzValue","nzLabel",4,"ngIf"],["nz-typography","","nzType","danger"],[3,"label","type","selectedType","select"],["size","16px",3,"name",4,"ngIf"],["size","16px",3,"name"],[1,"reason-update-error",2,"color","red"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Vb(1),m.Xb(2,"span",1),m.Xb(3,"strong",2),m.Xc(4),m.Wb(),m.Xb(5,"span",3),m.ec("click",function(){return e.showDetails()}),m.Sb(6,"app-icons",4),m.Xc(7," \xa0"),m.Xb(8,"strong"),m.Xc(9,"More Details"),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Xb(10,"div",5),m.Xb(11,"div",6),m.Xb(12,"div",7),m.Xb(13,"strong",8),m.Xc(14),m.jc(15,"translate"),m.Wb(),m.Xc(16," \xa0\xa0 "),m.Xb(17,"nz-date-picker",9),m.ec("ngModelChange",function(t){return e.startDate=t})("ngModelChange",function(){return e.validateTMSData()}),m.jc(18,"translate"),m.Wb(),m.Wb(),m.Xb(19,"div",7),m.Xb(20,"strong",8),m.Xc(21),m.jc(22,"translate"),m.Wb(),m.Xc(23," \xa0\xa0 "),m.Xb(24,"nz-select",10),m.ec("ngModelChange",function(t){return e.selectedCaretaker=t}),m.Vc(25,K,1,3,"nz-option",11),m.Wb(),m.Wb(),m.Wb(),m.Sb(26,"br"),m.Xb(27,"div",12),m.Xb(28,"strong",8),m.Xc(29," Choose a TMS Activity "),m.Wb(),m.Wb(),m.Xb(30,"div",13),m.Xb(31,"div",14),m.Xb(32,"nz-tag",15),m.ec("click",function(){return e.setActivity("ONBOARDING","OTHER")}),m.Xc(33),m.jc(34,"translate"),m.Wb(),m.Xb(35,"nz-tag",15),m.ec("click",function(){return e.setActivity("TECH_SUPPORT","CALL")}),m.Xc(36,"Tech Support"),m.Wb(),m.Xb(37,"nz-tag",15),m.ec("click",function(){return e.setActivity("PATIENT_ENGAGEMENT","CALL")}),m.Xc(38,"Patient Engagement"),m.Wb(),m.Xb(39,"nz-tag",15),m.ec("click",function(){return e.setActivity("DATA_REVIEW_PATIENT","OTHER")}),m.Xc(40),m.jc(41,"translate"),m.Wb(),m.Xb(42,"nz-tag",15),m.ec("click",function(){return e.setActivity("DATA_REVIEW_EHR","OTHER")}),m.Xc(43),m.jc(44,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(45,"div",13),m.Xb(46,"div",14),m.Xb(47,"nz-tag",15),m.ec("click",function(){return e.setActivity("DATA_REVIEW_MD","OTHER")}),m.Xc(48),m.jc(49,"translate"),m.Wb(),m.Xb(50,"nz-tag",15),m.ec("click",function(){return e.setActivity("ALERT_MANAGEMENT","CALL")}),m.Xc(51),m.jc(52,"translate"),m.Wb(),m.Xb(53,"nz-tag",15),m.ec("click",function(){return e.setActivity("ESCALATION","OTHER")}),m.Xc(54),m.jc(55,"translate"),m.Wb(),m.Xb(56,"nz-tag",15),m.ec("click",function(){return e.setActivity("TEXT_REMINDER","OTHER")}),m.Xc(57," Text Reminder "),m.Wb(),m.Xb(58,"nz-tag",15),m.ec("click",function(){return e.setActivity("OTHERS","CALL")}),m.Xc(59," Others"),m.Wb(),m.Wb(),m.Wb(),m.Xb(60,"div"),m.Vc(61,J,2,0,"strong",16),m.Vc(62,$,2,0,"strong",16),m.Vc(63,et,2,2,"nz-select",17),m.Vc(64,nt,2,0,"div",18),m.Wb(),m.Sb(65,"br"),m.Xb(66,"div"),m.Xb(67,"strong",8),m.Xc(68,"Dx*"),m.Wb(),m.Wb(),m.Xb(69,"div",19),m.Xb(70,"div",14),m.Xb(71,"nz-select",20),m.ec("ngModelChange",function(t){return e.selectedDxCodes=t})("ngModelChange",function(){return e.validateTMSData()}),m.Vc(72,at,2,1,"ng-container",21),m.Wb(),m.Wb(),m.Wb(),m.Vc(73,ot,4,0,"div",22),m.Sb(74,"br"),m.Xb(75,"div",19),m.Xb(76,"div",14),m.Xb(77,"div",23),m.Xb(78,"div",24),m.Xb(79,"strong",8),m.Xc(80),m.jc(81,"translate"),m.Wb(),m.Wb(),m.Vc(82,ct,3,4,"div",25),m.Wb(),m.Wb(),m.Xb(83,"div",14),m.Xb(84,"app-time-selector",26),m.ec("durationChange",function(t){return e.validateTMSData(t)}),m.Wb(),m.Wb(),m.Sb(85,"div",27),m.Xb(86,"div",28),m.Xc(87),m.Wb(),m.Xb(88,"div",29),m.Xc(89),m.Wb(),m.Xb(90,"div",29),m.Xc(91),m.Wb(),m.Wb(),m.Sb(92,"br"),m.Xb(93,"div",6),m.Xb(94,"div",30),m.Xb(95,"nz-radio-group",31),m.ec("ngModelChange",function(t){return e.billable=t})("ngModelChange",function(){return e.validateTMSData()}),m.Xb(96,"label",32),m.Xc(97,"Billable"),m.Wb(),m.Xb(98,"label",32),m.Xc(99,"Non-Billable"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(100,"br"),m.Xb(101,"div",6),m.Xb(102,"div",33),m.Xc(103," Add notes: "),m.Wb(),m.Xb(104,"div",34),m.Xb(105,"angular-editor",35,36),m.ec("ngModelChange",function(t){return e.tmsNote=t})("ngModelChange",function(){return e.validateTMSData()}),m.Wb(),m.Wb(),m.Wb(),m.Sb(107,"br"),m.Xb(108,"div",6),m.Xb(109,"div",33),m.Xc(110," Template: "),m.Wb(),m.Xb(111,"div",7),m.Xb(112,"app-note-template-picker",37),m.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),m.Wb(),m.Wb(),m.Wb(),m.Sb(113,"br"),m.Sb(114,"br"),m.Xb(115,"app-footer-actions",38),m.ec("showHistory",function(){return e.showTMSHistory()})("save",function(){return e.save()}),m.Wb(),m.Wb(),m.Wb(),m.Xb(116,"nz-modal",39),m.ec("nzVisibleChange",function(t){return e.isUpdateTimeModalVisible=t}),m.Xb(117,"input",40),m.ec("ngModelChange",function(t){return e.reasonForChange=t}),m.Wb(),m.Vc(118,st,3,0,"ng-container",41),m.Xb(119,"div",42),m.Xb(120,"button",43),m.ec("click",function(){return e.closeUpdateModal()}),m.Xc(121,"Cancel"),m.Wb(),m.Xb(122,"button",44),m.ec("click",function(){return e.submitUpdateReason()}),m.Xc(123,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(124,"nz-modal",45),m.ec("nzVisibleChange",function(t){return e.isUpdateActivityModalVisible=t}),m.Xb(125,"input",40),m.ec("ngModelChange",function(t){return e.reasonForActivityUpdate=t}),m.Wb(),m.Vc(126,lt,3,0,"ng-container",41),m.Xb(127,"div",42),m.Xb(128,"button",43),m.ec("click",function(){return e.closeActivityModal()}),m.Xc(129,"Cancel"),m.Wb(),m.Xb(130,"button",44),m.ec("click",function(){return e.submitUpdateActivityReason()}),m.Xc(131,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(132,"nz-modal",46),m.ec("nzVisibleChange",function(t){return e.isUpdateTmsNoteModalVisible=t}),m.Xb(133,"input",40),m.ec("ngModelChange",function(t){return e.reasonForTmsNoteUpdate=t}),m.Wb(),m.Vc(134,ut,3,0,"ng-container",41),m.Xb(135,"div",42),m.Xb(136,"button",43),m.ec("click",function(){return e.closeTmsUpdateModal()}),m.Xc(137,"Cancel"),m.Wb(),m.Xb(138,"button",44),m.ec("click",function(){return e.submitTmsUpdateReason()}),m.Xc(139,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(140,"nz-modal",47),m.ec("nzVisibleChange",function(t){return e.isUpdateModeModalVisible=t}),m.Xb(141,"input",40),m.ec("ngModelChange",function(t){return e.reasonForModeUpdate=t}),m.Wb(),m.Vc(142,dt,3,0,"ng-container",41),m.Xb(143,"div",42),m.Xb(144,"button",43),m.ec("click",function(){return e.closeModeUpdateModal()}),m.Xc(145,"Cancel"),m.Wb(),m.Xb(146,"button",44),m.ec("click",function(){return e.submitModeUpdateReason()}),m.Xc(147,"Save"),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(4),m.Zc("TMS Time: ",(null==e.patient?null:e.patient.name)||"",""),m.Db(2),m.rc("color",e.iconColor),m.Db(8),m.Zc("",m.kc(15,81,"COMMON.DATE"),": "),m.Db(3),m.sc("nzPlaceHolder",m.kc(18,83,"TABLEHEADER.STARTTIME")),m.rc("nzShowTime",m.xc(101,bt))("ngModel",e.startDate)("nzDisabledDate",e.disabledDate)("ngStyle",m.xc(102,ht)),m.Db(4),m.Zc("",m.kc(22,85,"PATIENT.MONITORING_STAFF"),": "),m.Db(3),m.rc("ngModel",e.selectedCaretaker)("nzSize","small"),m.Db(1),m.rc("ngForOf",e.caretakers),m.Db(7),m.rc("nzColor","ONBOARDING"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Yc(m.kc(34,87,"TMS.ONBOARDING")),m.Db(2),m.rc("nzColor","TECH_SUPPORT"===e.type?"green":null)("nzMode","default"),m.Db(2),m.rc("nzColor","PATIENT_ENGAGEMENT"===e.type?"green":null)("nzMode","default"),m.Db(2),m.rc("nzColor","DATA_REVIEW_PATIENT"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Zc(" ",m.kc(41,89,"TMS.DATA_REVIEW_VITALS"),""),m.Db(2),m.rc("nzColor","DATA_REVIEW_EHR"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Zc(" ",m.kc(44,91,"TMS.DATA_REVIEW_EHR"),""),m.Db(4),m.rc("nzColor","DATA_REVIEW_MD"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Yc(m.kc(49,93,"TMS.DATA_REVIEW_MD")),m.Db(2),m.rc("nzColor","ALERT_MANAGEMENT"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Zc(" ",m.kc(52,95,"TMS.MANAGING_ALERTS"),""),m.Db(2),m.rc("nzColor","ESCALATION"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Yc(m.kc(55,97,"TMS.ESCALATION")),m.Db(2),m.rc("nzColor","TEXT_REMINDER"===e.type?"green":null)("nzMode","default"),m.Db(2),m.rc("nzColor","OTHERS"===e.type?"green":null)("nzMode","default"),m.Db(3),m.rc("ngIf","OTHERS"===e.type),m.Db(1),m.rc("ngIf","OTHERS"!==e.type),m.Db(1),m.rc("ngIf","OTHERS"!==e.type),m.Db(1),m.rc("ngIf","OTHERS"===e.type),m.Db(7),m.rc("ngModel",e.selectedDxCodes)("nzDisabled",!e.billable),m.Db(1),m.rc("ngForOf",(null==e.patient?null:e.patient.dxCodes)||(null==e.patient||null==e.patient.healthInfo?null:e.patient.healthInfo.dxCodes)),m.Db(1),m.rc("ngIf",e.billable&&2>(null==e.selectedDxCodes?null:e.selectedDxCodes.length)),m.Db(7),m.Zc("",m.kc(81,99,"TMS.COMMUNICATION_MODE"),": "),m.Db(2),m.rc("ngForOf",e.communicationModes),m.Db(2),m.rc("duration",e.duration),m.Db(2),m.rc("ngClass",e.totalTMSDurationCompleted>=20?"tms-completed":"tms-incomplete"),m.Db(1),m.Zc(" TMS Time Completed: ",e.totalTMSDurationCompleted," mins "),m.Db(1),m.rc("ngClass",e.totalAdditionalTMSDurationCompleted>=20?"tms-completed":"tms-incomplete"),m.Db(1),m.Zc(" Additional TMS Time-A Completed: ",e.totalAdditionalTMSDurationCompleted," mins "),m.Db(1),m.rc("ngClass",e.totalAdditionalTMSBDurationCompleted>=20?"tms-completed":"tms-incomplete"),m.Db(1),m.Zc(" Additional TMS Time-B Completed: ",e.totalAdditionalTMSBDurationCompleted," mins "),m.Db(4),m.rc("ngModel",e.billable),m.Db(1),m.rc("nzValue",!0),m.Db(2),m.rc("nzValue",!1),m.Db(7),m.rc("ngModel",e.tmsNote)("config",e.config),m.Db(7),m.rc("note",e.tmsNote),m.Db(3),m.rc("loadingState",e.loading)("validationState",e.validated)("compact",!0)("roundedButtons",!0),m.Db(1),m.rc("nzVisible",e.isUpdateTimeModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForChange),m.Db(1),m.rc("ngIf",e.isNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateActivityModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForActivityUpdate),m.Db(1),m.rc("ngIf",e.isActivityNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateTmsNoteModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForTmsNoteUpdate),m.Db(1),m.rc("ngIf",e.isTmsNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateModeModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForModeUpdate),m.Db(1),m.rc("ngIf",e.isModeNoteRequired))},directives:[k.a,k.b,N.a,P.a,R.c,R.a,X.a,L.u,L.x,w.r,W.d,w.p,V.a,w.q,x.a,w.o,U.c,U.b,F.a,H.a,B.a,z.a,j.b,L.d,G.a,Y.a,q.a,W.a,Z.a,Q.a],pipes:[y.a],styles:["#wrapper[_ngcontent-%COMP%]{font-size:12px}#heading[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color)}strong[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-input.ant-input-sm{border:none;font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-icon{color:var(--primary-color)}.label[_ngcontent-%COMP%]{color:var(--tertiary-color);font-size:11px;margin-bottom:5px;display:inline-flex}#activity[_ngcontent-%COMP%]{float:right;width:20px;height:20px;font-size:10px}#tms-notes[_ngcontent-%COMP%]{background:#fff 0 0 no-repeat padding-box;padding:2%;resize:none;font-size:12px}.centerize[_ngcontent-%COMP%]{text-align:center}#caretakers[_ngcontent-%COMP%]{width:200px;font-size:12px;color:var(--light-black)}[_nghost-%COMP%]     .ant-select-selection{border:none}[_nghost-%COMP%]     .ant-select-arrow{color:var(--primary-color)}[_nghost-%COMP%]     .ant-tag{height:30px;width:120px;border:1px solid var(--grey);border-radius:3px;font-size:10px;line-height:3;overflow-x:hidden;overflow-y:hidden;color:#000}.ant-tag-green[_ngcontent-%COMP%]{color:var(--neutral-color);background:var(--primary-color);border:1px solid var(--primary-color)}#activities[_ngcontent-%COMP%]{width:100%;background:#fbfbfb 0 0 no-repeat padding-box;border-radius:5px;font-size:12px}app-icons[_ngcontent-%COMP%]{vertical-align:sub}.body-container[_ngcontent-%COMP%]{margin-top:25px}.tms-incomplete[_ngcontent-%COMP%]{font-size:9px;color:#c2c2c2}.tms-completed[_ngcontent-%COMP%]{font-size:9px;color:var(--primary-color)}.tms-more-details[_ngcontent-%COMP%]{float:right;padding:0 50px 0 1%;color:var(--primary-color)}.tms-more-details-icon[_ngcontent-%COMP%]{padding:0 0 0 2%;color:var(--primary-color)}.draggable-handle[_ngcontent-%COMP%]{cursor:move}#tms-notes-label[_ngcontent-%COMP%]{padding-top:8px}.reason-update-error[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;height:10px;max-height:10px}.reason-update-btn-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:20px}.reason-update-btn[_ngcontent-%COMP%]{margin-left:10px}"]}),pt),ft=[{name:"Initial Assessment",description:"Initial assessment or follow-up monitoring, including the use of applicable validated rating scales.",type:"INITIAL_ASSESSMENT",configs:{OTHER:{context:"INITIAL_ASSESSMENT",duration:10,note:"The patient was explained about the Gen-BHI program. The patient expressed understanding and was successfully onboarded onto the program.. Also, helped the patient with the submission of the assessment questionnaires for initial BHI screening."}}},{name:"BHI Care Planning",description:"Behavioral health care planning in relation to behavioral/psychiatric health problems, including revision for patients who are not progressing or whose status changes.",type:"BHI_CARE_PLANNING",configs:{OTHER:{context:"BHI_CARE_PLANNING",duration:10,note:"Discussed the observations on the data submitted by the patient for the current month with the MD for further modification in the patient's care plan."}}},{name:"Care Coordination",description:"Facilitating and coordinating treatment such as psychotherapy, pharmacotherapy, counseling and/or psychiatric consultation.",type:"CARE_COORDINATION",configs:{CALL:{context:"CARE_COORDINATION",duration:10,note:"Explained to the patient about the significance of assessment outcomes and emphasised the importance of taking medications on time and following the advice provided by the physician."},OTHER:{context:"CARE_COORDINATION",duration:5,note:"Explained to the patient about the significance of assessment outcomes and emphasised the importance of taking medications on time and following the advice provided by the physician."}}},{name:"MD Review",description:"Continuity of care with a designated member of the care team.",type:"MD_REVIEW",configs:{OTHER:{context:"MD_REVIEW",duration:5,note:"Reviewed the assessment data submitted by the patient and shared the observations with the MD for further review & advice."}}},{name:"Assessment/Review",type:"ASSESSMENT_REVIEW",configs:{CALL:{context:"ASSESSMENT_REVIEW",duration:10,note:"Assessed/Reviewed patient's health"}}},{name:"Others",description:"Custom activity",type:"OTHERS",configs:{CALL:{context:"",duration:0,note:""},OTHER:{context:"",duration:0,note:""}}}],vt=a("5vDB");function mt(t,e){if(1&t&&(m.Xb(0,"p",11),m.Sb(1,"nz-divider"),m.Sb(2,"span",7),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(2),m.sc("innerHTML",null==n||null==n.updateHistory||null==n.updateHistory.timeUpdateHistory?null:n.updateHistory.timeUpdateHistory.reason,m.Mc)}}function St(t,e){if(1&t&&(m.Xb(0,"p",11),m.Sb(1,"span",12),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(1),m.sc("innerHtml",null==n||null==n.updateHistory||null==n.updateHistory.activityUpdateHistory?null:n.updateHistory.activityUpdateHistory.reason,m.Mc)}}function yt(t,e){if(1&t&&(m.Xb(0,"p",11),m.Sb(1,"span",7),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(1),m.sc("innerHTML",null==n||null==n.updateHistory||null==n.updateHistory.noteUpdateHistory?null:n.updateHistory.noteUpdateHistory.reason,m.Mc)}}function Tt(t,e){if(1&t&&(m.Xb(0,"p",11),m.Sb(1,"span",12),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(1),m.sc("innerHtml",null==n||null==n.updateHistory||null==n.updateHistory.communicationModeUpdateHistory?null:n.updateHistory.communicationModeUpdateHistory.reason,m.Mc)}}function Ct(t,e){if(1&t&&(m.Vb(0),m.Xc(1),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.ad(" ",null==n?null:n.code," ",null==n?null:n.description,",\xa0 ")}}function Et(t,e){if(1&t&&(m.Xb(0,"p",11),m.Xb(1,"strong"),m.Xc(2,"Dx Codes -"),m.Wb(),m.Vc(3,Ct,2,2,"ng-container",2),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(3),m.rc("ngForOf",null==n?null:n.dxCodes)}}function It(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"label",1),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic().$implicit;m.Db(2),m.Yc(null==n?null:n.caretakerName)}}function Mt(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"label",13),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic().$implicit;m.Db(2),m.Zc(" Deleted by ",null==n?null:n.changedByStaff," ")}}function At(t,e){if(1&t&&(m.Xb(0,"div",14),m.Xb(1,"h6"),m.Xb(2,"strong"),m.Xc(3),m.Wb(),m.Wb(),m.Xb(4,"h6"),m.Xc(5,"mins"),m.Wb(),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(3),m.Yc((null==n?null:n.durationInMilliSeconds)/6e4)}}function _t(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"nz-timeline-item",3),m.Xb(2,"strong",4),m.Xc(3),m.jc(4,"date"),m.Wb(),m.Sb(5,"nz-divider",5),m.Xb(6,"strong",4),m.Xc(7),m.Wb(),m.Sb(8,"br"),m.Xb(9,"p"),m.Xb(10,"span",6),m.Xc(11),m.Wb(),m.Sb(12,"br"),m.Sb(13,"span",7),m.Wb(),m.Vc(14,mt,3,1,"p",8),m.Vc(15,St,2,1,"p",8),m.Vc(16,yt,2,1,"p",8),m.Vc(17,Tt,2,1,"p",8),m.Vc(18,Et,4,1,"p",8),m.Vc(19,It,3,1,"ng-container",9),m.Vc(20,Mt,3,1,"ng-container",9),m.Wb(),m.Vc(21,At,6,1,"ng-template",null,10,m.Wc),m.Ub()),2&t){var n=e.$implicit,i=m.Ic(22),a=m.ic();m.Db(1),m.rc("nzDot",i),m.Db(1),m.rc("ngClass",null!=n&&n.archived?"strikethrough":"null"),m.Db(1),m.Zc(" ",m.lc(4,14,null==n?null:n.date,"mediumDate")," "),m.Db(3),m.rc("ngClass",null!=a.tms&&a.tms.archived?"strikethrough":"null"),m.Db(1),m.Zc(" ",a.mode.get(n.mode)," "),m.Db(4),m.Yc(null==n?null:n.activity),m.Db(2),m.rc("innerHTML",null==n?null:n.notes,m.Mc),m.Db(1),m.rc("ngIf",null==n||null==n.updateHistory||null==n.updateHistory.timeUpdateHistory?null:n.updateHistory.timeUpdateHistory.reason),m.Db(1),m.rc("ngIf",null==n||null==n.updateHistory||null==n.updateHistory.activityUpdateHistory?null:n.updateHistory.activityUpdateHistory.reason),m.Db(1),m.rc("ngIf",null==n||null==n.updateHistory||null==n.updateHistory.noteUpdateHistory?null:n.updateHistory.noteUpdateHistory.reason),m.Db(1),m.rc("ngIf",null==n||null==n.updateHistory||null==n.updateHistory.communicationModeUpdateHistory?null:n.updateHistory.communicationModeUpdateHistory.reason),m.Db(1),m.rc("ngIf",null==n||null==n.dxCodes?null:n.dxCodes.length),m.Db(1),m.rc("ngIf",!(null!=n&&n.archived)),m.Db(1),m.rc("ngIf",null==n?null:n.archived)}}var Dt,zt=((Dt=function(){function t(e){u(this,t),this._episodesService=e,this.cmtDetails=[],this.mode=new Map([["VIDEO_CALL","Video Call"],["CALL","Audio Call"],["HOME_VISIT","Home Visit"],["CLINIC_VISIT","In Clinic"],["OTHER","Other"]])}return p(t,[{key:"ngOnInit",value:function(){this.getCMTDetails()}},{key:"getCMTDetails",value:function(){var t=this;this._episodesService.getCallDetails(this.patientId,this.episodeId).subscribe(function(e){e&&(t.cmtDetails=n(e)),t.totalDuration=t.cmtDetails.filter(function(t){return!(null==t?void 0:t.archived)}).map(function(t){return null==t?void 0:t.durationInMilliSeconds}).reduce(function(t,e){return t+e},0),t.totalDuration=t.totalDuration/6e4})}}]),t}()).\u0275fac=function(t){return new(t||Dt)(m.Rb(c.a))},Dt.\u0275cmp=m.Lb({type:Dt,selectors:[["app-cmt-history"]],inputs:{patientName:"patientName",patientId:"patientId",episodeId:"episodeId"},decls:9,vars:3,consts:[["id","heading"],[1,"primary"],[4,"ngFor","ngForOf"],[3,"nzDot"],[1,"history-heading",3,"ngClass"],["nzType","vertical"],[1,"activity"],[3,"innerHTML"],["class","history",4,"ngIf"],[4,"ngIf"],["dotTemplate",""],[1,"history"],[3,"innerHtml"],["nz-typography","","nzType","danger"],[1,"dot-template"]],template:function(t,e){1&t&&(m.Xb(0,"h4",0),m.Xc(1),m.Wb(),m.Xb(2,"h5",1),m.Xb(3,"strong"),m.Xc(4),m.Wb(),m.Wb(),m.Sb(5,"br"),m.Sb(6,"br"),m.Xb(7,"nz-timeline"),m.Vc(8,_t,23,17,"ng-container",2),m.Wb()),2&t&&(m.Db(1),m.Zc("CMT History: ",e.patientName||"",""),m.Db(3),m.Zc("\xa0\xa0\xa0 CMT time: ",e.totalDuration," minutes "),m.Db(4),m.rc("ngForOf",e.cmtDetails))},directives:[S.a,w.p,S.b,w.o,vt.a,w.q,Z.a],pipes:[w.e],styles:["#heading[_ngcontent-%COMP%]{padding-left:1%;border-left:3px solid var(--primary-color)}.dot-template[_ngcontent-%COMP%]{width:36px;height:36px;padding-top:7px;border-radius:50%;background-color:var(--primary-color)}h6[_ngcontent-%COMP%]{color:var(--neutral-color);font-weight:700}.history-heading[_ngcontent-%COMP%]{color:#949494;font-weight:500}[_nghost-%COMP%]     .ant-timeline-item{padding-left:3%}.activity[_ngcontent-%COMP%]{color:var(--tertiary-color)}.primary[_ngcontent-%COMP%]{color:var(--primary-color)!important}.history[_ngcontent-%COMP%]{font-size:12.5px}.strikethrough[_ngcontent-%COMP%]{text-decoration:line-through;color:var(--error-color)}"]}),Dt),Ot=a("WoUL");function kt(t,e){if(1&t&&m.Sb(0,"nz-option",32),2&t){var n=e.$implicit;m.uc("nzLabel","",null==n?null:n.firstName," ",null==n?null:n.lastName,""),m.rc("nzValue",n)}}function Nt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",14),m.Xb(1,"app-communication-action",33),m.ec("select",function(t){return m.Lc(n),m.ic().setActivity(null==t?null:t.type,null==t?null:t.mode)}),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit,a=m.ic();m.Db(1),m.rc("label",null==i?null:i.name)("type",null==i?null:i.type)("selectedType",a.type)("mode","OTHER")}}function Pt(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",11),m.Xb(2,"div",34),m.Xb(3,"strong",8),m.Xc(4),m.jc(5,"translate"),m.Wb(),m.Wb(),m.Xb(6,"div",35),m.Xb(7,"input",36),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().setCustomActivity(t)}),m.Wb(),m.Wb(),m.Wb(),m.Sb(8,"br"),m.Ub()}2&t&&(m.Db(4),m.Zc("",m.kc(5,1,"TMS.OTHER"),": "))}function Rt(t,e){if(1&t&&m.Sb(0,"app-icons",39),2&t){var n=m.ic().$implicit;m.sc("name",null==n?null:n.icon)}}function Xt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",14),m.Xb(1,"app-communication-action",37),m.ec("select",function(t){return m.Lc(n),m.ic().setCommunicationMode(null==t?null:t.type)}),m.Vc(2,Rt,1,1,"app-icons",38),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit,a=m.ic();m.Db(1),m.rc("label",null==i?null:i.name)("type",null==i?null:i.type)("selectedType",a.communicationMode),m.Db(1),m.rc("ngIf",null==i?null:i.icon)}}function Lt(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",40),m.Xc(2,"Required"),m.Wb(),m.Ub())}function wt(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",40),m.Xc(2,"Required"),m.Wb(),m.Ub())}function Wt(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",40),m.Xc(2,"Required"),m.Wb(),m.Ub())}function Vt(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",40),m.Xc(2,"Required"),m.Wb(),m.Ub())}var xt,Ut=function(){return{nzMinuteStep:"10",nzFormat:"hh:mm"}},Ft=function(){return{width:"unset"}},Ht=((xt=function(){function t(e,n,i,a,o,r,c,s,l){u(this,t),this._patientsService=e,this._notificationsService=n,this._episodesService=i,this._modalRef=a,this._modalService=o,this._translationService=r,this._patientCommunicationValidator=c,this._staffSessionPingService=s,this.draftHelper=l,this.activities=ft,this.communicationModes=b.b,this.duration=0,this.updateHistory={},this.isUpdateTimeModalVisible=!1,this.isCMTTimeUpdatedManually=!1,this.isUpdateActivityModalVisible=!1,this.isUpdateTmsNoteModalVisible=!1,this.isUpdateModeModalVisible=!1,this.noteUpdateReason="",this.timeUpdateReason="",this.activityUpdateReason="",this.tmsNoteUpdateReason="",this.modeUpdateReason="",this.disabledDate=function(t){return t.getDate()!==(new Date).getDate()},this.config=_.e}return p(t,[{key:"editCMT",set:function(t){var e,n,i,a,o,r,c,s,l,u,d,p,b,h,g,f=this;if(t){this.patientCommunicationId=null==t?void 0:t.id,this.activities.forEach(function(e){(null==t?void 0:t.context)===e.type&&(f.activity=e,f.type=e.type)}),this.communicationModes.forEach(function(e){(null==t?void 0:t.mode)===e.type&&(f.communicationMode=e,f.setCommunicationMode(null==t?void 0:t.mode))}),this.startDate=new Date(null==t?void 0:t.startTime);var v=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4;this.duration=v<1?0:+(null==v?void 0:v.toFixed(0)),this.cmtNote=null==t?void 0:t.notes,this.primaryDuration=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4,this.primaryActivity=this.activity.name,this.primaryTmsNote=this.cmtNote,this.primaryMode=this.communicationMode,null!=(null==t?void 0:t.updateHistory)&&(this.timeUpdateReason=null==(null===(n=null===(e=null==t?void 0:t.updateHistory)||void 0===e?void 0:e.timeUpdateHistory)||void 0===n?void 0:n.reason)?"":null===(a=null===(i=null==t?void 0:t.updateHistory)||void 0===i?void 0:i.timeUpdateHistory)||void 0===a?void 0:a.reason,this.activityUpdateReason=null==(null===(r=null===(o=null==t?void 0:t.updateHistory)||void 0===o?void 0:o.activityUpdateHistory)||void 0===r?void 0:r.reason)?"":null===(s=null===(c=null==t?void 0:t.updateHistory)||void 0===c?void 0:c.activityUpdateHistory)||void 0===s?void 0:s.reason,this.tmsNoteUpdateReason=null==(null===(u=null===(l=null==t?void 0:t.updateHistory)||void 0===l?void 0:l.noteUpdateHistory)||void 0===u?void 0:u.reason)?"":null===(p=null===(d=null==t?void 0:t.updateHistory)||void 0===d?void 0:d.noteUpdateHistory)||void 0===p?void 0:p.reason,this.modeUpdateReason=null==(null===(h=null===(b=null==t?void 0:t.updateHistory)||void 0===b?void 0:b.communicationModeUpdateHistory)||void 0===h?void 0:h.reason)?"":null===(g=null==t?void 0:t.updateHistory.communicationModeUpdateHistory)||void 0===g?void 0:g.reason)}}},{key:"appointmentTime",set:function(t){if((null==t?void 0:t.length)&&t[0]){this.appointmentStartDateTime=t[0],this.appointmentEndTime=t[1],this.setActivity("CARE_COORDINATION","CALL"),this.startDate=new Date(t[0]);var e=(this.appointmentEndTime-this.appointmentStartDateTime)/6e4;this.duration=e<1?0:+(null==e?void 0:e.toFixed(0)),this.primaryDuration=this.duration,this.validateCMTData()}else this.setDefaultDateAndTime()}},{key:"stickyNote",set:function(t){t&&(this.cmtNote=t,this.stickyNoteText=this.cmtNote)}},{key:"ngOnInit",value:function(){var e,i=this;(e=this._translationService).getMultiple.apply(e,n(t.STRINGS)).subscribe(function(t){return i.translatedStrings=t})}},{key:"ngAfterViewInit",value:function(){this.fetchCaretakersForPatient(),this.episodeCMTProgress||this.getCMTDetails()}},{key:"setDefaultDateAndTime",value:function(){this.startDate=new Date(Date.now()-18e5)}},{key:"getCMTDetails",value:function(){var t=this;this._episodesService.getCallDetails(this.patientId,this.episodeId).subscribe(function(e){var n=null==e?void 0:e.map(function(t){return null==t?void 0:t.durationInMilliSeconds}).reduce(function(t,e){return t+e},0);n/=6e4,t.episodeCMTProgress=t.generateEpisodeCMTObject(n)})}},{key:"generateEpisodeCMTObject",value:function(t){return{episodeId:this.episodeId,completed:6e4*t,episodeType:f.a.GENERAL,maxValue:20,percent:20*t/100,remaining:"",total:12e5}}},{key:"fetchCaretakersForPatient",value:function(){var t=this;this._patientsService.fetchCaretakersForPatient(this.patientId).subscribe(function(e){if(e&&e.length){t.caretakers=e;var n=localStorage.getItem("loggedInUserRole");if(v.a.MONITORING_STAFF===n){var i=localStorage.getItem("loggedInUser");t.caretakers=t.caretakers.filter(function(t){return i===t.id})}t.selectedCaretaker=t.caretakers[0],t.validateCMTData()}else t._notificationsService.error(t.translatedStrings.get("EPISODE.CMT"),t.translatedStrings.get("CMT.CLINICIAN_NOT_ASSIGNED").replace("{PATIENT_NAME}",t.patientName))})}},{key:"setActivityDetails",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.activity&&this.communicationMode&&this.activity.configs[this.communicationMode]&&(null==this.primaryDuration&&(this.duration=this.activity.configs[this.communicationMode].duration),e||(this.stickyNoteText?this._modalService.create({nzTitle:"Confirm",nzContent:"Changing the selected values will replace the note entered with a default note, do you want to proceed without replacing the note with the default one?",nzClosable:!1,nzCloseIcon:null,nzMaskClosable:!1,nzKeyboard:!1,nzOkText:"Yes",nzCancelText:"No",nzOnCancel:function(){t.cmtNote=t.activity.configs[t.communicationMode].note,t.stickyNoteText=void 0}}):this.cmtNote=this.activity.configs[this.communicationMode].note),this.context=this.activity.configs[this.communicationMode].context)}},{key:"setActivity",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&(this.type=t,this.communicationMode=e,this.activity=this.activities.find(function(e){return e.type===t}),this.setActivityDetails(n),this.validateCMTData())}},{key:"setCustomActivity",value:function(t){this.activity={name:t}}},{key:"setCommunicationMode",value:function(t){this.communicationMode=s.a[t],this.setActivityDetails(),this.validateCMTData()}},{key:"validateCMTData",value:function(t){t&&(this.duration=t);var e=this._patientCommunicationValidator.validate(this.selectedCaretaker,this.startDate,this.communicationMode,this.activity,this.duration,this.cmtNote);return this.validated=!e.length,e}},{key:"generateCMTObject",value:function(t,e,n){return{patientId:this.patientId,episodeId:this.episodeId,caretakerId:this.selectedCaretaker.id,date:t,startTime:t,endTime:e,notes:this.cmtNote,mode:this.communicationMode,activity:this.activity.name,context:this.context,cptCode:n,tenantId:localStorage.getItem("loggedInTenant")}}},{key:"showCMTHistory",value:function(){this._modalService.create({nzContent:zt,nzComponentParams:{patientId:this.patientId,patientName:this.patientName,episodeId:this.episodeId},nzWidth:725,nzBodyStyle:{height:"675px",overflowY:"scroll"},nzFooter:null})}},{key:"closeModal",value:function(t){this._modalRef.close(t)}},{key:"generateTMSRequestObject",value:function(){var t,e;return{id:this.patientCommunicationId,patientId:this.patientId,episodeId:this.episodeId,staffId:this.selectedCaretaker.id,startTime:null===(t=this.startDate)||void 0===t?void 0:t.getTime(),endTime:(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,notes:this.cmtNote,mode:this.communicationMode,activity:this.activity.name,context:this.context,serviceCode:this.cptCode,timerId:this.timerId,noteUpdateReason:this.noteUpdateReason,updateHistory:this.updateHistory}}},{key:"save",value:function(){this.primaryDuration!=this.duration&&null!=this.primaryDuration||null!=this.primaryActivity||null!=this.primaryTmsNote||null!=this.primaryMode?this.primaryDuration!=this.duration||this.activity.name!=this.primaryActivity||this.cmtNote!=this.primaryTmsNote||this.communicationMode!=this.primaryMode?(this.duration&&this.primaryDuration!=this.duration&&null!=this.primaryDuration&&(this.isUpdateTimeModalVisible=!0,this.isCMTTimeUpdatedManually=!0),this.cmtNote!=this.primaryTmsNote&&null!=this.primaryTmsNote&&(this.isUpdateTmsNoteModalVisible=!0),this.activity.name!=this.primaryActivity&&null!=this.primaryActivity&&(this.isUpdateActivityModalVisible=!0),this.primaryMode!=this.communicationMode&&null!=this.primaryMode&&(this.isUpdateModeModalVisible=!0)):(this.isCMTTimeUpdatedManually=!1,this.proceedToSave()):this.proceedToSave()}},{key:"saveUpdatedReasons",value:function(){var t={reason:this.activityUpdateReason},e={reason:this.tmsNoteUpdateReason},n={reason:this.modeUpdateReason};this.updateHistory.timeUpdateHistory={reason:this.timeUpdateReason},this.updateHistory.activityUpdateHistory=t,this.updateHistory.noteUpdateHistory=e,this.updateHistory.communicationModeUpdateHistory=n,this.isUpdateTimeModalVisible||this.isUpdateActivityModalVisible||this.isUpdateTmsNoteModalVisible||this.isUpdateModeModalVisible||this.proceedToSave()}},{key:"submitUpdateReason",value:function(){this.reasonForChange?(this.isNoteRequired=!1,this.isUpdateTimeModalVisible=!1,this.reasonUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.timeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryDuration+" to "+this.duration+" minutes </strong> on <strong>"+this.reasonUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForChange+"</br></br>",this.saveUpdatedReasons()):this.isNoteRequired=!0}},{key:"closeUpdateModal",value:function(){this.timeUpdateReason="",this.duration=this.primaryDuration,this.isUpdateTimeModalVisible=!1}},{key:"submitUpdateActivityReason",value:function(){this.reasonForActivityUpdate?(this.isActivityNoteRequired=!1,this.isUpdateActivityModalVisible=!1,this.activityUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.activityUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryActivity+" to "+this.activity.name+"</strong> on <strong>"+this.activityUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForActivityUpdate+"</br></br>",this.saveUpdatedReasons()):this.isActivityNoteRequired=!0}},{key:"closeActivityModal",value:function(){this.activityUpdateReason="",this.activity.name=this.primaryActivity,this.setActivity(this.primaryActivity,this.communicationMode,!0),this.isUpdateActivityModalVisible=!1}},{key:"submitTmsUpdateReason",value:function(){this.reasonForTmsNoteUpdate?(this.isTmsNoteRequired=!1,this.isUpdateTmsNoteModalVisible=!1,this.tmsNoteUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.tmsNoteUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryTmsNote+" to "+this.cmtNote+"</strong> on <strong>"+this.tmsNoteUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForTmsNoteUpdate+"</br></br>",this.saveUpdatedReasons()):this.isTmsNoteRequired=!0}},{key:"closeTmsUpdateModal",value:function(){this.tmsNoteUpdateReason="",this.cmtNote=this.primaryTmsNote,this.isUpdateTmsNoteModalVisible=!1}},{key:"submitModeUpdateReason",value:function(){if(this.reasonForModeUpdate){var t,n;this.isModeNoteRequired=!1,this.isUpdateModeModalVisible=!1,this.modeUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"});var i,a=e(this.communicationModes);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o.type==this.primaryMode&&(t=o.name),o.type==this.communicationMode&&(n=o.name),t&&n)break}}catch(l){a.e(l)}finally{a.f()}this.modeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+t+" to "+n+"</strong> on <strong>"+this.modeUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForModeUpdate+"</br></br>";var r={reason:this.activityUpdateReason},c={reason:this.tmsNoteUpdateReason},s={reason:this.modeUpdateReason};this.updateHistory.timeUpdateHistory={reason:this.timeUpdateReason},this.updateHistory.activityUpdateHistory=r,this.updateHistory.noteUpdateHistory=c,this.updateHistory.communicationModeUpdateHistory=s,this.isUpdateTimeModalVisible||this.isUpdateActivityModalVisible||this.isUpdateTmsNoteModalVisible||this.isUpdateModeModalVisible||this.proceedToSave()}else this.isModeNoteRequired=!0}},{key:"closeModeUpdateModal",value:function(){this.modeUpdateReason="",this.communicationMode=this.primaryMode,this.isUpdateModeModalVisible=!1}},{key:"proceedToSave",value:function(){var t,e,n=this;this.primaryActivity=this.activity.name,this.primaryTmsNote=this.cmtNote,this.primaryMode=this.communicationMode;var i=this.validateCMTData();this._patientCommunicationValidator.showErrors(i),this.loading=!0,this._episodesService.validateStartEndTime(this.patientId,null===(t=this.startDate)||void 0===t?void 0:t.getTime(),(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,this.patientCommunicationId).subscribe(function(t){if(t&&t.length)return n._notificationsService.error("CMT","Start time or End time overlap previous CMT record"),void(n.loading=!1);var e=n.generateTMSRequestObject();(null==e?void 0:e.id)?n._episodesService.updatePatientCommunication(e).subscribe(function(t){n._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e}),n._notificationsService.success("CMT Recorded",null==t?void 0:t.message),n.closeModal(!0),n.loading=!1,n.draftHelper.removeTimeTrackingNotes(n.patientId)}):n._episodesService.savePatientCommunication(e).subscribe(function(t){n._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e}),n._notificationsService.success("CMT Recorded",null==t?void 0:t.message),n.closeModal(!0),n.loading=!1,n.draftHelper.removeTimeTrackingNotes(n.patientId)})})}},{key:"setTemplate",value:function(t){this.cmtNote=t}}]),t}()).STRINGS=new Array("EPISODE.CMT","CMT.CLINICIAN_NOT_ASSIGNED","CMT.START_END_TIME_OVERLAP","CMT.ADDITIONAL_MINUTES","CMT.CMT_LOG_SUCCESS"),xt.\u0275fac=function(t){return new(t||xt)(m.Rb(l.a),m.Rb(O.b),m.Rb(c.a),m.Rb(z.e),m.Rb(z.f),m.Rb(Ot.a),m.Rb(h.a),m.Rb(A.a),m.Rb(D.a))},xt.\u0275cmp=m.Lb({type:xt,selectors:[["app-cmt"]],inputs:{episodeId:"episodeId",patientId:"patientId",patientName:"patientName",cptCode:"cptCode",episodeEndDate:"episodeEndDate",timerId:"timerId",editCMT:"editCMT",appointmentTime:"appointmentTime",stickyNote:"stickyNote"},features:[m.Cb([h.a])],decls:89,vars:50,consts:[["cdkDrag","","cdkDragRootElement",".ant-modal-content"],["id","title","cdkDragHandle",""],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],["nzFormat","dd-MMM-yyyy HH:mm","nzSize","small",3,"nzShowTime","nzPlaceHolder","ngModel","nzDisabledDate","ngStyle","ngModelChange"],["id","caretakers",3,"ngModel","nzSize","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-row","","nzGutter","2"],["id","activity-label"],["nz-col","","nzSpan","4",4,"ngFor","ngForOf"],[4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","24"],["nz-row","","nzGutter","8","nzAlign","middle"],["nz-col","","nzSpan","4"],[1,"label"],["nz-col","","nzSpan","24","id","cmt-time-selector"],[3,"duration","maxDuration","durationChange"],["nz-col","","nzSpan","3","id","cmt-notes-label"],["nz-col","","nzSpan","21"],["placeholder","Add a note..",3,"ngModel","config","ngModelChange"],["note",""],[3,"note","onTemplateSelected"],[3,"loadingState","validationState","compact","roundedButtons","showHistory","save"],["nzTitle","Please enter the reason for updating CMT minutes",3,"nzVisible","nzFooter","nzVisibleChange"],["nz-input","","placeholder","Enter your reason for updating here",3,"ngModel","ngModelChange"],[1,"reason-update-btn-div"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",1,"reason-update-btn",3,"click"],["nzTitle","Please enter the reason for updating CMT Activity",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Note",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Communication Mode",3,"nzVisible","nzFooter","nzVisibleChange"],[3,"nzLabel","nzValue"],[3,"label","type","selectedType","mode","select"],["nz-col","","nzSpan","2"],["nz-col","","nzSpan","22"],["id","activities","ngModel","","placeholder","Enter custom activity...","nz-input","",3,"ngModelChange"],[3,"label","type","selectedType","select"],["size","16px",3,"name",4,"ngIf"],["size","16px",3,"name"],[1,"reason-update-error",2,"color","red"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"strong",1),m.Xc(2),m.Wb(),m.Sb(3,"br"),m.Sb(4,"br"),m.Xb(5,"div",2),m.Xb(6,"div",3),m.Xb(7,"strong"),m.Xc(8),m.jc(9,"translate"),m.Wb(),m.Xc(10," \xa0\xa0 "),m.Xb(11,"nz-date-picker",4),m.ec("ngModelChange",function(t){return e.startDate=t})("ngModelChange",function(){return e.validateCMTData()}),m.jc(12,"translate"),m.Wb(),m.Wb(),m.Xb(13,"div",3),m.Xb(14,"strong"),m.Xc(15),m.jc(16,"translate"),m.Wb(),m.Xc(17," \xa0\xa0 "),m.Xb(18,"nz-select",5),m.ec("ngModelChange",function(t){return e.selectedCaretaker=t}),m.Vc(19,kt,1,3,"nz-option",6),m.Wb(),m.Wb(),m.Wb(),m.Sb(20,"br"),m.Sb(21,"br"),m.Xb(22,"div",7),m.Xb(23,"strong",8),m.Xc(24," Choose a CMT Activity "),m.Wb(),m.Wb(),m.Xb(25,"div",2),m.Vc(26,Nt,2,4,"div",9),m.Wb(),m.Sb(27,"br"),m.Sb(28,"br"),m.Vc(29,Pt,9,3,"ng-container",10),m.Xb(30,"div",11),m.Xb(31,"div",12),m.Xb(32,"div",13),m.Xb(33,"div",14),m.Xb(34,"strong",15),m.Xc(35),m.jc(36,"translate"),m.Wb(),m.Wb(),m.Vc(37,Xt,3,4,"div",9),m.Wb(),m.Wb(),m.Xb(38,"div",16),m.Xb(39,"app-time-selector",17),m.ec("durationChange",function(t){return e.validateCMTData(t)}),m.Wb(),m.Wb(),m.Wb(),m.Sb(40,"br"),m.Sb(41,"br"),m.Xb(42,"div",2),m.Xb(43,"div",18),m.Xc(44," Add notes: "),m.Wb(),m.Xb(45,"div",19),m.Xb(46,"angular-editor",20,21),m.ec("ngModelChange",function(t){return e.cmtNote=t})("ngModelChange",function(){return e.validateCMTData()}),m.Wb(),m.Wb(),m.Wb(),m.Sb(48,"br"),m.Xb(49,"div",2),m.Xb(50,"div",18),m.Xc(51," Template: "),m.Wb(),m.Xb(52,"div",3),m.Xb(53,"app-note-template-picker",22),m.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),m.Wb(),m.Wb(),m.Wb(),m.Sb(54,"br"),m.Sb(55,"br"),m.Xb(56,"app-footer-actions",23),m.ec("showHistory",function(){return e.showCMTHistory()})("save",function(){return e.save()}),m.Wb(),m.Wb(),m.Xb(57,"nz-modal",24),m.ec("nzVisibleChange",function(t){return e.isUpdateTimeModalVisible=t}),m.Xb(58,"input",25),m.ec("ngModelChange",function(t){return e.reasonForChange=t}),m.Wb(),m.Vc(59,Lt,3,0,"ng-container",10),m.Xb(60,"div",26),m.Xb(61,"button",27),m.ec("click",function(){return e.closeUpdateModal()}),m.Xc(62,"Cancel"),m.Wb(),m.Xb(63,"button",28),m.ec("click",function(){return e.submitUpdateReason()}),m.Xc(64,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(65,"nz-modal",29),m.ec("nzVisibleChange",function(t){return e.isUpdateActivityModalVisible=t}),m.Xb(66,"input",25),m.ec("ngModelChange",function(t){return e.reasonForActivityUpdate=t}),m.Wb(),m.Vc(67,wt,3,0,"ng-container",10),m.Xb(68,"div",26),m.Xb(69,"button",27),m.ec("click",function(){return e.closeActivityModal()}),m.Xc(70,"Cancel"),m.Wb(),m.Xb(71,"button",28),m.ec("click",function(){return e.submitUpdateActivityReason()}),m.Xc(72,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(73,"nz-modal",30),m.ec("nzVisibleChange",function(t){return e.isUpdateTmsNoteModalVisible=t}),m.Xb(74,"input",25),m.ec("ngModelChange",function(t){return e.reasonForTmsNoteUpdate=t}),m.Wb(),m.Vc(75,Wt,3,0,"ng-container",10),m.Xb(76,"div",26),m.Xb(77,"button",27),m.ec("click",function(){return e.closeTmsUpdateModal()}),m.Xc(78,"Cancel"),m.Wb(),m.Xb(79,"button",28),m.ec("click",function(){return e.submitTmsUpdateReason()}),m.Xc(80,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(81,"nz-modal",31),m.ec("nzVisibleChange",function(t){return e.isUpdateModeModalVisible=t}),m.Xb(82,"input",25),m.ec("ngModelChange",function(t){return e.reasonForModeUpdate=t}),m.Wb(),m.Vc(83,Vt,3,0,"ng-container",10),m.Xb(84,"div",26),m.Xb(85,"button",27),m.ec("click",function(){return e.closeModeUpdateModal()}),m.Xc(86,"Cancel"),m.Wb(),m.Xb(87,"button",28),m.ec("click",function(){return e.submitModeUpdateReason()}),m.Xc(88,"Save"),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(2),m.Zc("CMT Time: ",e.patientName||"",""),m.Db(6),m.Zc("",m.kc(9,40,"COMMON.DATE"),": "),m.Db(3),m.sc("nzPlaceHolder",m.kc(12,42,"TABLEHEADER.STARTTIME")),m.rc("nzShowTime",m.xc(48,Ut))("ngModel",e.startDate)("nzDisabledDate",e.disabledDate)("ngStyle",m.xc(49,Ft)),m.Db(4),m.Zc("",m.kc(16,44,"PATIENT.MONITORING_STAFF"),": "),m.Db(3),m.rc("ngModel",e.selectedCaretaker)("nzSize","small"),m.Db(1),m.rc("ngForOf",e.caretakers),m.Db(7),m.rc("ngForOf",e.activities),m.Db(3),m.rc("ngIf","OTHERS"===e.type),m.Db(6),m.Zc("",m.kc(36,46,"TMS.COMMUNICATION_MODE"),": "),m.Db(2),m.rc("ngForOf",e.communicationModes),m.Db(2),m.rc("duration",e.duration)("maxDuration",20),m.Db(7),m.rc("ngModel",e.cmtNote)("config",e.config),m.Db(7),m.rc("note",e.cmtNote),m.Db(3),m.rc("loadingState",e.loading)("validationState",e.validated)("compact",!0)("roundedButtons",!0),m.Db(1),m.rc("nzVisible",e.isUpdateTimeModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForChange),m.Db(1),m.rc("ngIf",e.isNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateActivityModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForActivityUpdate),m.Db(1),m.rc("ngIf",e.isActivityNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateTmsNoteModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForTmsNoteUpdate),m.Db(1),m.rc("ngIf",e.isTmsNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateModeModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForModeUpdate),m.Db(1),m.rc("ngIf",e.isModeNoteRequired))},directives:[k.a,k.b,R.c,R.a,X.a,L.u,L.x,w.r,W.d,w.p,w.q,x.a,F.a,H.a,B.a,z.a,j.b,L.d,G.a,Y.a,q.a,W.a,Q.a,P.a],pipes:[y.a],styles:["#title[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color)}strong[_ngcontent-%COMP%]{color:var(--tertiary-color);font-size:11px}#caretakers[_ngcontent-%COMP%]{width:200px}#cmt-notes[_ngcontent-%COMP%]{background:#fff 0 0 no-repeat padding-box;padding:2%;resize:none;font-size:12px}app-icons[_ngcontent-%COMP%]{vertical-align:sub}#cmt-notes-label[_ngcontent-%COMP%]{padding-top:8px}#cmt-time-selector[_ngcontent-%COMP%]{margin-top:8px}#activity-label[_ngcontent-%COMP%]{line-height:3}.reason-update-error[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;height:10px;max-height:10px}.reason-update-btn-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:20px}.reason-update-btn[_ngcontent-%COMP%]{margin-left:10px}"]}),xt);function Bt(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",3),m.Sb(2,"br"),m.Sb(3,"span",4),m.Sb(4,"br"),m.Wb(),m.Wb()),2&t){var n=m.ic();m.rc("nzGutter",16),m.Db(3),m.sc("innerHtml",null==n.log||null==n.log.updateHistory||null==n.log.updateHistory.timeUpdateHistory?null:n.log.updateHistory.timeUpdateHistory.reason,m.Mc)}}function jt(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",3),m.Sb(2,"br"),m.Sb(3,"span",4),m.Sb(4,"br"),m.Wb(),m.Wb()),2&t){var n=m.ic();m.rc("nzGutter",16),m.Db(3),m.sc("innerHtml",null==n.log||null==n.log.updateHistory||null==n.log.updateHistory.communicationModeUpdateHistory?null:n.log.updateHistory.communicationModeUpdateHistory.reason,m.Mc)}}function Gt(t,e){if(1&t&&(m.Xb(0,"span"),m.Xc(1),m.Wb()),2&t){var n=e.$implicit;m.Db(1),m.ad(" ",null==n?null:n.code," ",null==n?null:n.description,"\xa0 ")}}var Yt=function(){return[16,32]};function qt(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",3),m.Xb(2,"strong"),m.Xc(3,"DxCodes"),m.Wb(),m.Xb(4,"p"),m.Vc(5,Gt,2,2,"span",5),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.ic();m.rc("nzGutter",m.xc(2,Yt)),m.Db(5),m.rc("ngForOf",null==n.log?null:n.log.dxCodes)}}function Zt(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",3),m.Sb(2,"br"),m.Sb(3,"span",4),m.Sb(4,"br"),m.Wb(),m.Wb()),2&t){var n=m.ic();m.rc("nzGutter",16),m.Db(3),m.sc("innerHtml",null==n.log||null==n.log.updateHistory||null==n.log.updateHistory.activityUpdateHistory?null:n.log.updateHistory.activityUpdateHistory.reason,m.Mc)}}function Qt(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",3),m.Sb(2,"br"),m.Sb(3,"span",4),m.Sb(4,"br"),m.Wb(),m.Wb()),2&t){var n=m.ic();m.rc("nzGutter",16),m.Db(3),m.sc("innerHtml",null==n.log||null==n.log.updateHistory||null==n.log.updateHistory.noteUpdateHistory?null:n.log.updateHistory.noteUpdateHistory.reason,m.Mc)}}function Kt(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",3),m.Sb(2,"br"),m.Sb(3,"span",4),m.Sb(4,"br"),m.Wb(),m.Wb()),2&t){var n=m.ic();m.rc("nzGutter",16),m.Db(3),m.sc("innerHtml",null==n.log||null==n.log.updateHistory||null==n.log.updateHistory.billableUpdateHistory?null:n.log.updateHistory.billableUpdateHistory.reason,m.Mc)}}var Jt,$t=((Jt=function t(){u(this,t)}).\u0275fac=function(t){return new(t||Jt)},Jt.\u0275cmp=m.Lb({type:Jt,selectors:[["app-log-details"]],inputs:{log:"log",staffName:"staffName"},decls:69,vars:67,consts:[["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","12"],["nz-row","",3,"nzGutter",4,"ngIf"],["nz-col","","nzSpan","24"],[3,"innerHtml"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(m.Xb(0,"h3"),m.Xc(1),m.jc(2,"translate"),m.Wb(),m.Sb(3,"nz-divider"),m.Xb(4,"div",0),m.Xb(5,"div",1),m.Xb(6,"strong"),m.Xc(7),m.jc(8,"translate"),m.Wb(),m.Wb(),m.Xb(9,"div",1),m.Xc(10),m.jc(11,"date"),m.Wb(),m.Wb(),m.Xb(12,"div",0),m.Xb(13,"div",1),m.Xb(14,"strong"),m.Xc(15),m.jc(16,"translate"),m.Wb(),m.Wb(),m.Xb(17,"div",1),m.Xc(18),m.jc(19,"date"),m.Wb(),m.Wb(),m.Xb(20,"div",0),m.Xb(21,"div",1),m.Xb(22,"strong"),m.Xc(23),m.jc(24,"translate"),m.Wb(),m.Wb(),m.Xb(25,"div",1),m.Xc(26),m.jc(27,"date"),m.Wb(),m.Wb(),m.Xb(28,"div",0),m.Xb(29,"div",1),m.Xb(30,"strong"),m.Xc(31),m.jc(32,"translate"),m.Wb(),m.Wb(),m.Xb(33,"div",1),m.Xc(34),m.jc(35,"translate"),m.Wb(),m.Wb(),m.Vc(36,Bt,5,2,"div",2),m.Xb(37,"div",0),m.Xb(38,"div",1),m.Xb(39,"strong"),m.Xc(40,"Monitoring Staff"),m.Wb(),m.Wb(),m.Xb(41,"div",1),m.Xc(42),m.jc(43,"titlecase"),m.Wb(),m.Wb(),m.Xb(44,"div",0),m.Xb(45,"div",1),m.Xb(46,"strong"),m.Xc(47),m.jc(48,"translate"),m.Wb(),m.Wb(),m.Xb(49,"div",1),m.Xc(50),m.Wb(),m.Wb(),m.Vc(51,jt,5,2,"div",2),m.Xb(52,"div",0),m.Xb(53,"div",3),m.Xb(54,"strong"),m.Xc(55),m.jc(56,"translate"),m.Wb(),m.Xb(57,"p"),m.Xc(58),m.Wb(),m.Wb(),m.Wb(),m.Vc(59,qt,6,3,"div",2),m.Vc(60,Zt,5,2,"div",2),m.Xb(61,"div",0),m.Xb(62,"div",3),m.Xb(63,"strong"),m.Xc(64),m.jc(65,"translate"),m.Wb(),m.Sb(66,"p",4),m.Wb(),m.Wb(),m.Vc(67,Qt,5,2,"div",2),m.Vc(68,Kt,5,2,"div",2)),2&t&&(m.Db(1),m.Yc(m.kc(2,31,"COMMON.LOG_DETAILS")),m.Db(3),m.rc("nzGutter",m.xc(60,Yt)),m.Db(3),m.Yc(m.kc(8,33,"COMMON.DATE")),m.Db(3),m.Zc(" ",m.lc(11,35,null==e.log?null:e.log.startTime,"mediumDate")," "),m.Db(2),m.rc("nzGutter",m.xc(61,Yt)),m.Db(3),m.Yc(m.kc(16,38,"TABLEHEADER.STARTTIME")),m.Db(3),m.Zc(" ",m.lc(19,40,null==e.log?null:e.log.startTime,"HH:mm:ss")," "),m.Db(2),m.rc("nzGutter",m.xc(62,Yt)),m.Db(3),m.Yc(m.kc(24,43,"TABLEHEADER.ENDTIME")),m.Db(3),m.Zc(" ",m.lc(27,45,null==e.log?null:e.log.endTime,"HH:mm:ss")," "),m.Db(2),m.rc("nzGutter",m.xc(63,Yt)),m.Db(3),m.Yc(m.kc(32,48,"COMMON.DURATION")),m.Db(3),m.ad(" ",((null==e.log?null:e.log.endTime)-(null==e.log?null:e.log.startTime))/6e4," ",m.kc(35,50,"COMMON.MINUTES")," "),m.Db(2),m.rc("ngIf",null==e.log||null==e.log.updateHistory||null==e.log.updateHistory.timeUpdateHistory?null:e.log.updateHistory.timeUpdateHistory.reason),m.Db(1),m.rc("nzGutter",m.xc(64,Yt)),m.Db(5),m.Zc(" ",m.kc(43,52,e.staffName)," "),m.Db(2),m.rc("nzGutter",m.xc(65,Yt)),m.Db(3),m.Yc(m.kc(48,54,"COMMON.MODE")),m.Db(3),m.Zc(" ",null==e.log?null:e.log.mode," "),m.Db(1),m.rc("ngIf",null==e.log||null==e.log.updateHistory||null==e.log.updateHistory.communicationModeUpdateHistory?null:e.log.updateHistory.communicationModeUpdateHistory.reason),m.Db(1),m.rc("nzGutter",m.xc(66,Yt)),m.Db(3),m.Yc(m.kc(56,56,"HEADER.ACTIVITYH")),m.Db(3),m.Yc(null==e.log?null:e.log.activity),m.Db(1),m.rc("ngIf",null==e.log||null==e.log.dxCodes?null:e.log.dxCodes.length),m.Db(1),m.rc("ngIf",null==e.log||null==e.log.updateHistory||null==e.log.updateHistory.activityUpdateHistory?null:e.log.updateHistory.activityUpdateHistory.reason),m.Db(1),m.rc("nzGutter",16),m.Db(3),m.Yc(m.kc(65,58,"COMMON.NOTES")),m.Db(2),m.sc("innerHtml",null==e.log?null:e.log.notes,m.Mc),m.Db(1),m.rc("ngIf",null==e.log||null==e.log.updateHistory||null==e.log.updateHistory.noteUpdateHistory?null:e.log.updateHistory.noteUpdateHistory.reason),m.Db(1),m.rc("ngIf",null==e.log||null==e.log.updateHistory||null==e.log.updateHistory.billableUpdateHistory?null:e.log.updateHistory.billableUpdateHistory.reason))},directives:[vt.a,R.c,R.a,w.q,w.p],pipes:[y.a,w.e,w.A],styles:[""]}),Jt),te=a("IKCb");function ee(t,e){if(1&t&&m.Sb(0,"nz-option",40),2&t){var n=e.$implicit;m.uc("nzLabel","",null==n?null:n.firstName," ",null==n?null:n.lastName,""),m.rc("nzValue",n)}}function ne(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"nz-option",42),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.rc("nzValue",n)("nzLabel",null==n?null:n.name)}}function ie(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",18),m.Xb(1,"nz-select",41),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().activity=t}),m.Vc(2,ne,2,2,"ng-container",20),m.Wb(),m.Wb()}if(2&t){var i=m.ic();m.Db(1),m.rc("ngModel",i.activity),m.Db(1),m.rc("ngForOf",i.activities)}}function ae(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",18),m.Xb(1,"input",43),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().setCustomActivity(t)}),m.Wb(),m.Wb()}}function oe(t,e){if(1&t&&m.Sb(0,"nz-option",42),2&t){var n=m.ic().$implicit;m.uc("nzLabel","",null==n?null:n.code,", ",null==n?null:n.description,""),m.rc("nzValue",n)}}function re(t,e){if(1&t&&(m.Vb(0),m.Vc(1,oe,1,3,"nz-option",44),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.rc("ngIf","Active"===(null==n?null:n.status)&&"CHRONIC"===(null==n?null:n.type))}}function ce(t,e){1&t&&(m.Xb(0,"div",15),m.Xb(1,"div",45),m.Xb(2,"label",46),m.Xc(3,"Required"),m.Wb(),m.Wb(),m.Wb())}function se(t,e){if(1&t&&m.Sb(0,"app-icons",50),2&t){var n=m.ic().$implicit;m.sc("name",null==n?null:n.icon)}}function le(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",47),m.Xb(1,"app-communication-action",48),m.ec("labelChange",function(t){return e.$implicit.name=t})("typeChange",function(t){return e.$implicit.type=t})("selectedTypeChange",function(t){return m.Lc(n),m.ic().communicationMode=t})("select",function(t){return m.Lc(n),m.ic().setCommunicationMode(null==t?null:t.type)}),m.Vc(2,se,1,1,"app-icons",49),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit,a=m.ic();m.Db(1),m.rc("label",i.name)("type",i.type)("selectedType",a.communicationMode),m.Db(1),m.rc("ngIf",null==i?null:i.icon)}}function ue(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",51),m.Xc(2,"Required"),m.Wb(),m.Ub())}function de(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",51),m.Xc(2,"Required"),m.Wb(),m.Ub())}function pe(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",51),m.Xc(2,"Required"),m.Wb(),m.Ub())}function be(t,e){1&t&&(m.Vb(0),m.Xb(1,"div",51),m.Xc(2,"Required"),m.Wb(),m.Ub())}var he,ge,fe=function(){return{nzMinuteStep:"10",nzFormat:"hh:mm"}},ve=function(){return{width:"unset"}},me=((ge=function(){function t(e,n,i,a,o,c,s,l){var p=this;u(this,t),this._patientCommunicationValidator=e,this._patientsService=n,this._modalRef=i,this._notificationsService=a,this._modalService=o,this._episodesService=c,this._staffSessionPingService=s,this.draftHelper=l,this.isUpdateTimeModalVisible=!1,this.isCMTTimeUpdatedManually=!1,this.isUpdateActivityModalVisible=!1,this.isUpdateTmsNoteModalVisible=!1,this.isUpdateModeModalVisible=!1,this.noteUpdateReason="",this.timeUpdateReason="",this.activityUpdateReason="",this.tmsNoteUpdateReason="",this.modeUpdateReason="",this.communicationModes=b.b,this.activities=r.a,this.updateHistory={},this.disabledDate=function(t){var e,n;return Object(d.a)(new Date(null===(n=null===(e=p.patient)||void 0===e?void 0:e.episode)||void 0===n?void 0:n.startDate),t)>0||Object(d.a)(new Date((new Date).setHours(23,59,59,99)),t)<0},this.config=_.e}return p(t,[{key:"editCMT",set:function(t){var e,n,i,a,o,r,c,s,l,u,d,p,b,h,g,f,v,m,S=this;if(t){this.patientCommunicationId=null==t?void 0:t.id,this.activities.forEach(function(e){(null==t?void 0:t.context)===e.type&&(S.activity=e,S.type=e.type)}),this.communicationModes.forEach(function(e){(null==t?void 0:t.mode)===e.type&&(S.communicationMode=e,S.setCommunicationMode(null==t?void 0:t.mode))}),this.startDate=new Date(null==t?void 0:t.startTime);var y=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4;this.duration=y<1?0:+(null==y?void 0:y.toFixed(0)),this.tmsNote=null==t?void 0:t.notes,this.noteUpdateReason=null==t?void 0:t.noteUpdateReason;var T=null===(e=null==t?void 0:t.dxCodes)||void 0===e?void 0:e.map(function(t){return null==t?void 0:t.code});(null==T?void 0:T.length)&&(this.selectedDxCodes=null===(i=null===(n=this.patient)||void 0===n?void 0:n.dxCodes)||void 0===i?void 0:i.filter(function(t){return-1!=(null==T?void 0:T.findIndex(function(e){return e===(null==t?void 0:t.code)}))})),this.primaryDuration=((null==t?void 0:t.endTime)-(null==t?void 0:t.startTime))/6e4,this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryMode=this.communicationMode,null!=(null==t?void 0:t.updateHistory)&&(this.timeUpdateReason=null==(null===(o=null===(a=null==t?void 0:t.updateHistory)||void 0===a?void 0:a.timeUpdateHistory)||void 0===o?void 0:o.reason)?"":null===(c=null===(r=null==t?void 0:t.updateHistory)||void 0===r?void 0:r.timeUpdateHistory)||void 0===c?void 0:c.reason,this.activityUpdateReason=null==(null===(l=null===(s=null==t?void 0:t.updateHistory)||void 0===s?void 0:s.activityUpdateHistory)||void 0===l?void 0:l.reason)?"":null===(d=null===(u=null==t?void 0:t.updateHistory)||void 0===u?void 0:u.activityUpdateHistory)||void 0===d?void 0:d.reason,this.tmsNoteUpdateReason=null==(null===(b=null===(p=null==t?void 0:t.updateHistory)||void 0===p?void 0:p.noteUpdateHistory)||void 0===b?void 0:b.reason)?"":null===(g=null===(h=null==t?void 0:t.updateHistory)||void 0===h?void 0:h.noteUpdateHistory)||void 0===g?void 0:g.reason,this.modeUpdateReason=null==(null===(v=null===(f=null==t?void 0:t.updateHistory)||void 0===f?void 0:f.communicationModeUpdateHistory)||void 0===v?void 0:v.reason)?"":null===(m=null==t?void 0:t.updateHistory.communicationModeUpdateHistory)||void 0===m?void 0:m.reason)}}},{key:"autoCMTOverRide",set:function(t){t&&(this.autoCMT=!1)}},{key:"stickyNote",set:function(t){t&&(this.tmsNote=t,this.stickyNoteText=t)}},{key:"appointmentTime",set:function(t){var e;if(null==t?void 0:t.length){this.autoCMTOverRide||(this.autoCMT=!0),this.setActivity("CARE_COORDINATION","OUTBOUND_CALL",!!this.tmsNote);var n="string"==typeof t[1]?new Date(t[1]).getTime():null===(e=t[1])||void 0===e?void 0:e.getTime();this.startDate="string"==typeof t[0]?new Date(t[0]):t[0];var i=(n-this.startDate.getTime())/6e4;this.duration=i<1?0:+(null==i?void 0:i.toFixed(0)),this.primaryDuration=this.duration}else this.setDefaultDateAndTime()}},{key:"ngOnInit",value:function(){this.fetchCaretakersForPatient()}},{key:"setDefaultDateAndTime",value:function(){this.startDate=new Date(Date.now()-18e5)}},{key:"validateTMSData",value:function(t){var e;t&&(this.duration=t);var n=this._patientCommunicationValidator.validate(this.selectedCaretaker,this.startDate,this.communicationMode,this.activity,this.duration,this.tmsNote);return(!this.selectedDxCodes||(null===(e=this.selectedDxCodes)||void 0===e?void 0:e.length)<2)&&(null==n||n.push("Please select at least 2 diagnosis codes before proceeding!")),this.updatedDuration=this.duration,this.validated=!n.length,n}},{key:"fetchCaretakersForPatient",value:function(){var t=this;this._patientsService.fetchCaretakersForPatient(this.patient.id).subscribe(function(e){var n,i;if(e&&e.length){t.caretakers=e;var a=localStorage.getItem("loggedInUserRole");if(v.a.MONITORING_STAFF===a){var o=localStorage.getItem("loggedInUser");t.caretakers=t.caretakers.filter(function(t){return o===t.id}),(null===(n=t.caretakers)||void 0===n?void 0:n.length)&&(t.selectedCaretaker=t.caretakers[0])}else t.staff?(t.caretakers=t.caretakers.filter(function(e){return t.staff===e.id}),(null===(i=t.caretakers)||void 0===i?void 0:i.length)&&(t.selectedCaretaker=t.caretakers[0])):t.selectedCaretaker=t.caretakers[0];t.validateTMSData()}else t._notificationsService.error("CMT","".concat(t.patient.name," does not have a clinician assigned!"))})}},{key:"setCommunicationMode",value:function(t){this.communicationMode=s.a[t],this.setActivityDetails(),this.validateTMSData()}},{key:"setActivityDetails",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.activity&&this.communicationMode&&this.activity.configs[this.communicationMode]&&(null==this.primaryDuration&&(this.duration=this.activity.configs[this.communicationMode].duration),e||(this.stickyNoteText?this._modalService.create({nzTitle:"Confirm",nzContent:"Changing the selected values will replace the note entered with a default note, do you want to proceed without replacing the note with the default one?",nzClosable:!1,nzCloseIcon:null,nzMaskClosable:!1,nzKeyboard:!1,nzOkText:"Yes",nzCancelText:"No",nzOnCancel:function(){t.tmsNote=t.activity.configs[t.communicationMode].note,t.stickyNoteText=void 0}}):this.tmsNote=this.activity.configs[this.communicationMode].note),this.context=this.activity.configs[this.communicationMode].context)}},{key:"setActivity",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t&&(this.type=t,this.communicationMode=e,this.activity=this.activities.find(function(e){return e.type===t}),this.setActivityDetails(n),this.validateTMSData())}},{key:"setCustomActivity",value:function(t){this.activity={name:t}}},{key:"showTMSHistory",value:function(){this._modalService.create({nzContent:g.a,nzComponentParams:{patientId:this.patient.id,patientName:this.patient.name,episodeId:this.patient.episode.id},nzWidth:725,nzBodyStyle:{height:"675px",overflowY:"scroll"},nzFooter:null})}},{key:"generateTMSRequestObject",value:function(){var t,e;return{id:this.patientCommunicationId,patientId:this.patient.id,episodeId:this.patient.episode.id,staffId:this.selectedCaretaker.id,startTime:null===(t=this.startDate)||void 0===t?void 0:t.getTime(),endTime:(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,notes:this.tmsNote,mode:this.communicationMode,activity:this.activity.name,dxCodes:this.selectedDxCodes,context:this.context,billable:!0,serviceCode:"CARE_MANAGEMENT_TIME",timerId:this.timerId,noteUpdateReason:this.noteUpdateReason,updateHistory:this.updateHistory}}},{key:"save",value:function(){this.primaryDuration!=this.duration&&null!=this.primaryDuration||null!=this.primaryActivity||null!=this.primaryTmsNote||null!=this.primaryMode?this.primaryDuration!=this.duration||this.activity.name!=this.primaryActivity||this.tmsNote!=this.primaryTmsNote||this.communicationMode!=this.primaryMode?(this.primaryDuration!=this.duration&&null!=this.primaryDuration&&(this.isUpdateTimeModalVisible=!0,this.isCMTTimeUpdatedManually=!0),this.activity.name!=this.primaryActivity&&null!=this.primaryActivity&&(this.isUpdateActivityModalVisible=!0),this.tmsNote!=this.primaryTmsNote&&null!=this.primaryTmsNote&&(this.isUpdateTmsNoteModalVisible=!0),this.primaryMode!=this.communicationMode&&null!=this.primaryMode&&(this.isUpdateModeModalVisible=!0)):(this.isCMTTimeUpdatedManually=!1,this.proceedToSave()):this.proceedToSave()}},{key:"saveUpdatedReasons",value:function(){var t={reason:this.activityUpdateReason},e={reason:this.tmsNoteUpdateReason},n={reason:this.modeUpdateReason};this.updateHistory.timeUpdateHistory={reason:this.timeUpdateReason},this.updateHistory.activityUpdateHistory=t,this.updateHistory.noteUpdateHistory=e,this.updateHistory.communicationModeUpdateHistory=n,this.isUpdateTimeModalVisible||this.isUpdateActivityModalVisible||this.isUpdateTmsNoteModalVisible||this.isUpdateModeModalVisible||this.proceedToSave()}},{key:"submitUpdateReason",value:function(){this.reasonForChange?(this.isNoteRequired=!1,this.isUpdateTimeModalVisible=!1,this.reasonUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.timeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryDuration+" to "+this.duration+" minutes </strong> on <strong>"+this.reasonUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForChange+"</br></br>",this.saveUpdatedReasons()):this.isNoteRequired=!0}},{key:"closeUpdateModal",value:function(){this.timeUpdateReason="",this.duration=this.primaryDuration,this.isUpdateTimeModalVisible=!1}},{key:"submitUpdateActivityReason",value:function(){this.reasonForActivityUpdate?(this.isActivityNoteRequired=!1,this.isUpdateActivityModalVisible=!1,this.activityUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.activityUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryActivity+" to "+this.activity.name+"</strong> on <strong>"+this.activityUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForActivityUpdate+"</br></br>",this.saveUpdatedReasons()):this.isActivityNoteRequired=!0}},{key:"closeActivityModal",value:function(){this.activityUpdateReason="",this.activity.name=this.primaryActivity,this.setActivity(this.primaryActivity,this.communicationMode,!0),this.isUpdateActivityModalVisible=!1}},{key:"submitTmsUpdateReason",value:function(){this.reasonForTmsNoteUpdate?(this.isTmsNoteRequired=!1,this.isUpdateTmsNoteModalVisible=!1,this.tmsNoteUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"}),this.tmsNoteUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+this.primaryTmsNote+" to "+this.tmsNote+"</strong> on <strong>"+this.tmsNoteUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForTmsNoteUpdate+"</br></br>",this.saveUpdatedReasons()):this.isTmsNoteRequired=!0}},{key:"closeTmsUpdateModal",value:function(){this.tmsNoteUpdateReason="",this.tmsNote=this.primaryTmsNote,this.isUpdateTmsNoteModalVisible=!1}},{key:"submitModeUpdateReason",value:function(){if(this.reasonForModeUpdate){var t,n;this.isModeNoteRequired=!1,this.isUpdateModeModalVisible=!1,this.modeUpdateDate=new Date(Date.now()).toLocaleDateString("en-us",{year:"numeric",month:"short",day:"numeric"});var i,a=e(this.communicationModes);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o.type==this.primaryMode&&(t=o.name),o.type==this.communicationMode&&(n=o.name),t&&n)break}}catch(r){a.e(r)}finally{a.f()}this.modeUpdateReason+="<div>CMT <strong>updated </strong>from <strong>"+t+" to "+n+"</strong> on <strong>"+this.modeUpdateDate+"</strong> by <strong>"+this.selectedCaretaker.fullName+"</strong> because: </div>"+this.reasonForModeUpdate+"</br></br>",this.saveUpdatedReasons()}else this.isModeNoteRequired=!0}},{key:"closeModeUpdateModal",value:function(){this.modeUpdateReason="",this.communicationMode=this.primaryMode,this.isUpdateModeModalVisible=!1}},{key:"proceedToSave",value:function(){var t,e,n=this;this.primaryActivity=this.activity.name,this.primaryTmsNote=this.tmsNote,this.primaryMode=this.communicationMode;var i=this.validateTMSData();this._patientCommunicationValidator.showErrors(i),this.loading=!0,this._episodesService.validateStartEndTime(this.patient.id,null===(t=this.startDate)||void 0===t?void 0:t.getTime(),(null===(e=this.startDate)||void 0===e?void 0:e.getTime())+60*this.duration*1e3,this.patientCommunicationId).subscribe(function(t){if(t&&t.length)return n._notificationsService.error("CMT","Start time or End time overlap previous CMT record"),void(n.loading=!1);var e=n.generateTMSRequestObject();(null==e?void 0:e.id)?n._episodesService.updatePatientCommunication(e).subscribe(function(t){n._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_UPDATED",value:e},!0),n._notificationsService.success("CMT Updated",null==t?void 0:t.message),"GLOBAL_TIMER"==n.referrer?n.closeModalObject({mode:n.communicationMode,billable:!1}):n.closeModal(!0),n.loading=!1}):n._episodesService.savePatientCommunication(e).subscribe(function(t){n._staffSessionPingService.updateStaffSession({type:"PATIENT_COMMUNICATION_ADDED",value:e},!0),n._notificationsService.success("CMT Recorded",null==t?void 0:t.message),"GLOBAL_TIMER"==n.referrer?n.closeModalObject({mode:n.communicationMode,billable:!1}):n.closeModal(!0),n.loading=!1,n.draftHelper.removeTimeTrackingNotes(n.patient.id)})})}},{key:"closeModal",value:function(t){this._modalRef.close(t)}},{key:"closeModalObject",value:function(t){this._modalRef.close(t)}},{key:"setTemplate",value:function(t){this.tmsNote=t}}]),t}()).\u0275fac=function(t){return new(t||ge)(m.Rb(h.a),m.Rb(l.a),m.Rb(z.e),m.Rb(O.b),m.Rb(z.f),m.Rb(c.a),m.Rb(A.a),m.Rb(D.a))},ge.\u0275cmp=m.Lb({type:ge,selectors:[["app-toc-cmt"]],inputs:{patient:"patient",staff:"staff",timerId:"timerId",draftId:"draftId",referrer:"referrer",editCMT:"editCMT",autoCMTOverRide:"autoCMTOverRide",stickyNote:"stickyNote",appointmentTime:"appointmentTime"},features:[m.Cb([h.a])],decls:129,vars:87,consts:[["id","heading"],["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],[1,"body-container"],["cdkDragHandle",""],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],[1,"label"],["nzFormat","dd-MMM-yyyy HH:mm","nzSize","small",3,"nzShowTime","nzPlaceHolder","ngModel","nzDisabledDate","ngStyle","ngModelChange"],["id","caretakers",3,"ngModel","nzSize","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-row","","nzGutter","2"],["nz-col","","nzSpan","24"],["id","activity-label"],["nz-row","","nzGutter","2",1,"centerize"],[3,"nzColor","nzMode","click"],["nz-row",""],["nz-col","","nzSpan","2"],["nz-col","","nzSpan","22",4,"ngIf"],["nz-col","","nzSpan","22"],["id","dxCodes","nzPlaceHolder","Select at least 2 diagnosis codes","nzMode","multiple","nzMaxMultipleCount","4",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["nz-row","",4,"ngIf"],["nz-row","","nzGutter","8","nzAlign","middle"],["nz-col","","nzSpan","4",2,"padding-bottom","8px"],["nz-col","","nzSpan","4",4,"ngFor","ngForOf"],[3,"duration","durationChange"],["nz-col","","nzSpan","24","id","tms-notes-label"],["placeholder","Add a note..",3,"ngModel","config","ngModelChange"],["note",""],[3,"note","onTemplateSelected"],[3,"loadingState","validationState","compact","roundedButtons","showHistory","save"],["nzTitle","Please enter the reason for updating CMT minutes",3,"nzVisible","nzFooter","nzVisibleChange"],["nz-input","","placeholder","Enter your reason for updating here",3,"ngModel","ngModelChange"],[4,"ngIf"],[1,"reason-update-btn-div"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",1,"reason-update-btn",3,"click"],["nzTitle","Please enter the reason for updating CMT Activity",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Note",3,"nzVisible","nzFooter","nzVisibleChange"],["nzTitle","Please enter the reason for updating CMT Communication Mode",3,"nzVisible","nzFooter","nzVisibleChange"],[3,"nzLabel","nzValue"],["id","activities","nzPlaceHolder","Select Activity",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel"],["id","activities","ngModel","","placeholder","Enter custom activity...","nz-input","",3,"ngModelChange"],[3,"nzValue","nzLabel",4,"ngIf"],["nz-col","","nzSpan","22","nzOffset","2"],["nz-typography","","nzType","danger"],["nz-col","","nzSpan","4"],[3,"label","type","selectedType","labelChange","typeChange","selectedTypeChange","select"],["size","16px",3,"name",4,"ngIf"],["size","16px",3,"name"],[1,"reason-update-error",2,"color","red"]],template:function(t,e){1&t&&(m.Xb(0,"strong",0),m.Xc(1),m.Wb(),m.Sb(2,"br"),m.Xb(3,"div",1),m.Xb(4,"div",2),m.Xb(5,"div",3),m.Xb(6,"div",4),m.Xb(7,"div",5),m.Xb(8,"strong",6),m.Xc(9,"Start Time: "),m.Wb(),m.Xc(10," \xa0\xa0 "),m.Xb(11,"nz-date-picker",7),m.ec("ngModelChange",function(t){return e.startDate=t})("ngModelChange",function(){return e.validateTMSData()}),m.jc(12,"translate"),m.Wb(),m.Wb(),m.Xb(13,"div",5),m.Xb(14,"strong",6),m.Xc(15),m.jc(16,"translate"),m.Wb(),m.Xc(17," \xa0\xa0 "),m.Xb(18,"nz-select",8),m.ec("ngModelChange",function(t){return e.selectedCaretaker=t}),m.Vc(19,ee,1,3,"nz-option",9),m.Wb(),m.Wb(),m.Wb(),m.Sb(20,"br"),m.Xb(21,"div",10),m.Xb(22,"div",11),m.Xb(23,"strong",12),m.Xc(24,"Choose a CMT Activity"),m.Wb(),m.Wb(),m.Wb(),m.Xb(25,"div",13),m.Xb(26,"div",11),m.Xb(27,"nz-tag",14),m.ec("click",function(){return e.setActivity("ONBOARDING","OTHER")}),m.Xc(28),m.jc(29,"translate"),m.Wb(),m.Xb(30,"nz-tag",14),m.ec("click",function(){return e.setActivity("DATA_REVIEW_EHR","OTHER")}),m.Xc(31),m.jc(32,"translate"),m.Wb(),m.Xb(33,"nz-tag",14),m.ec("click",function(){return e.setActivity("DATA_REVIEW_MD","OTHER")}),m.Xc(34),m.jc(35,"translate"),m.Wb(),m.Xb(36,"nz-tag",14),m.ec("click",function(){return e.setActivity("ALERT_MANAGEMENT","CALL")}),m.Xc(37),m.jc(38,"translate"),m.Wb(),m.Xb(39,"nz-tag",14),m.ec("click",function(){return e.setActivity("ESCALATION","OTHER")}),m.Xc(40),m.jc(41,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(42,"div",13),m.Xb(43,"div",11),m.Xb(44,"nz-tag",14),m.ec("click",function(){return e.setActivity("CARE_PLAN_MODIFICATION","OTHER")}),m.Xc(45," PoC Modification"),m.Wb(),m.Xb(46,"nz-tag",14),m.ec("click",function(){return e.setActivity("CARE_COORDINATION","OTHER")}),m.Xc(47," Care Coordination"),m.Wb(),m.Xb(48,"nz-tag",14),m.ec("click",function(){return e.setActivity("MEDICATION_REVIEW","OTHER")}),m.Xc(49," Medication Review"),m.Wb(),m.Xb(50,"nz-tag",14),m.ec("click",function(){return e.setActivity("ASSESSMENT_REVIEW","CALL")}),m.Xc(51," Assessment Forms"),m.Wb(),m.Xb(52,"nz-tag",14),m.ec("click",function(){return e.setActivity("OTHERS","CALL")}),m.Xc(53," Others"),m.Wb(),m.Wb(),m.Wb(),m.Sb(54,"br"),m.Xb(55,"div",15),m.Xb(56,"div",16),m.Xb(57,"strong",12),m.Xc(58),m.jc(59,"translate"),m.Wb(),m.Wb(),m.Vc(60,ie,3,2,"div",17),m.Vc(61,ae,2,0,"div",17),m.Wb(),m.Sb(62,"br"),m.Xb(63,"div",15),m.Xb(64,"div",16),m.Xb(65,"strong",12),m.Xc(66,"Dx"),m.Xb(67,"sup"),m.Xc(68,"*"),m.Wb(),m.Wb(),m.Wb(),m.Xb(69,"div",18),m.Xb(70,"nz-select",19),m.ec("ngModelChange",function(t){return e.selectedDxCodes=t})("ngModelChange",function(){return e.validateTMSData()}),m.Vc(71,re,2,1,"ng-container",20),m.Wb(),m.Wb(),m.Wb(),m.Vc(72,ce,4,0,"div",21),m.Sb(73,"br"),m.Xb(74,"div",15),m.Xb(75,"div",11),m.Xb(76,"div",22),m.Xb(77,"div",23),m.Xb(78,"strong",6),m.Xc(79),m.jc(80,"translate"),m.Wb(),m.Wb(),m.Vc(81,le,3,4,"div",24),m.Wb(),m.Wb(),m.Xb(82,"div",11),m.Xb(83,"app-time-selector",25),m.ec("durationChange",function(t){return e.validateTMSData(t)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(84,"div",4),m.Xb(85,"div",26),m.Xc(86," Add notes: "),m.Wb(),m.Xb(87,"div",11),m.Xb(88,"angular-editor",27,28),m.ec("ngModelChange",function(t){return e.tmsNote=t})("ngModelChange",function(){return e.validateTMSData()}),m.Wb(),m.Wb(),m.Wb(),m.Sb(90,"br"),m.Xb(91,"div",4),m.Xb(92,"div",5),m.Xb(93,"app-note-template-picker",29),m.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),m.Wb(),m.Wb(),m.Wb(),m.Sb(94,"br"),m.Sb(95,"br"),m.Xb(96,"app-footer-actions",30),m.ec("showHistory",function(){return e.showTMSHistory()})("save",function(){return e.save()}),m.Wb(),m.Wb(),m.Wb(),m.Xb(97,"nz-modal",31),m.ec("nzVisibleChange",function(t){return e.isUpdateTimeModalVisible=t}),m.Xb(98,"input",32),m.ec("ngModelChange",function(t){return e.reasonForChange=t}),m.Wb(),m.Vc(99,ue,3,0,"ng-container",33),m.Xb(100,"div",34),m.Xb(101,"button",35),m.ec("click",function(){return e.closeUpdateModal()}),m.Xc(102,"Cancel"),m.Wb(),m.Xb(103,"button",36),m.ec("click",function(){return e.submitUpdateReason()}),m.Xc(104,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(105,"nz-modal",37),m.ec("nzVisibleChange",function(t){return e.isUpdateActivityModalVisible=t}),m.Xb(106,"input",32),m.ec("ngModelChange",function(t){return e.reasonForActivityUpdate=t}),m.Wb(),m.Vc(107,de,3,0,"ng-container",33),m.Xb(108,"div",34),m.Xb(109,"button",35),m.ec("click",function(){return e.closeActivityModal()}),m.Xc(110,"Cancel"),m.Wb(),m.Xb(111,"button",36),m.ec("click",function(){return e.submitUpdateActivityReason()}),m.Xc(112,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(113,"nz-modal",38),m.ec("nzVisibleChange",function(t){return e.isUpdateTmsNoteModalVisible=t}),m.Xb(114,"input",32),m.ec("ngModelChange",function(t){return e.reasonForTmsNoteUpdate=t}),m.Wb(),m.Vc(115,pe,3,0,"ng-container",33),m.Xb(116,"div",34),m.Xb(117,"button",35),m.ec("click",function(){return e.closeTmsUpdateModal()}),m.Xc(118,"Cancel"),m.Wb(),m.Xb(119,"button",36),m.ec("click",function(){return e.submitTmsUpdateReason()}),m.Xc(120,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Xb(121,"nz-modal",39),m.ec("nzVisibleChange",function(t){return e.isUpdateModeModalVisible=t}),m.Xb(122,"input",32),m.ec("ngModelChange",function(t){return e.reasonForModeUpdate=t}),m.Wb(),m.Vc(123,be,3,0,"ng-container",33),m.Xb(124,"div",34),m.Xb(125,"button",35),m.ec("click",function(){return e.closeModeUpdateModal()}),m.Xc(126,"Cancel"),m.Wb(),m.Xb(127,"button",36),m.ec("click",function(){return e.submitModeUpdateReason()}),m.Xc(128,"Save"),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(1),m.Zc("CMT Time: ",(null==e.patient?null:e.patient.name)||"",""),m.Db(10),m.sc("nzPlaceHolder",m.kc(12,67,"TABLEHEADER.STARTTIME")),m.rc("nzShowTime",m.xc(85,fe))("ngModel",e.startDate)("nzDisabledDate",e.disabledDate)("ngStyle",m.xc(86,ve)),m.Db(4),m.Zc("",m.kc(16,69,"PATIENT.MONITORING_STAFF"),": "),m.Db(3),m.rc("ngModel",e.selectedCaretaker)("nzSize","small"),m.Db(1),m.rc("ngForOf",e.caretakers),m.Db(8),m.rc("nzColor","ONBOARDING"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Yc(m.kc(29,71,"TMS.ONBOARDING")),m.Db(2),m.rc("nzColor","DATA_REVIEW_EHR"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Zc(" ",m.kc(32,73,"TMS.DATA_REVIEW_EHR"),""),m.Db(2),m.rc("nzColor","DATA_REVIEW_MD"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Zc(" ",m.kc(35,75,"TMS.DATA_REVIEW_MD"),""),m.Db(2),m.rc("nzColor","ALERT_MANAGEMENT"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Zc(" ",m.kc(38,77,"TMS.MANAGING_ALERTS"),""),m.Db(2),m.rc("nzColor","ESCALATION"===e.type?"green":null)("nzMode","default"),m.Db(1),m.Yc(m.kc(41,79,"TMS.ESCALATION")),m.Db(4),m.rc("nzColor","CARE_PLAN_MODIFICATION"===e.type?"green":null)("nzMode","default"),m.Db(2),m.rc("nzColor","CARE_COORDINATION"===e.type?"green":null)("nzMode","default"),m.Db(2),m.rc("nzColor","MEDICATION_REVIEW"===e.type?"green":null)("nzMode","default"),m.Db(2),m.rc("nzColor","ASSESSMENT_REVIEW"===e.type?"green":null)("nzMode","default"),m.Db(2),m.rc("nzColor","OTHERS"===e.type?"green":null)("nzMode","default"),m.Db(6),m.Zc("",m.kc(59,81,"TMS.OTHER"),": "),m.Db(2),m.rc("ngIf","OTHERS"!==e.type),m.Db(1),m.rc("ngIf","OTHERS"===e.type),m.Db(9),m.rc("ngModel",e.selectedDxCodes),m.Db(1),m.rc("ngForOf",null==e.patient?null:e.patient.dxCodes),m.Db(1),m.rc("ngIf",2>(null==e.selectedDxCodes?null:e.selectedDxCodes.length)),m.Db(7),m.Zc("",m.kc(80,83,"TMS.COMMUNICATION_MODE"),": "),m.Db(2),m.rc("ngForOf",e.communicationModes),m.Db(2),m.rc("duration",e.duration),m.Db(5),m.rc("ngModel",e.tmsNote)("config",e.config),m.Db(5),m.rc("note",e.tmsNote),m.Db(3),m.rc("loadingState",e.loading)("validationState",e.validated)("compact",!0)("roundedButtons",!0),m.Db(1),m.rc("nzVisible",e.isUpdateTimeModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForChange),m.Db(1),m.rc("ngIf",e.isNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateActivityModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForActivityUpdate),m.Db(1),m.rc("ngIf",e.isActivityNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateTmsNoteModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForTmsNoteUpdate),m.Db(1),m.rc("ngIf",e.isTmsNoteRequired),m.Db(6),m.rc("nzVisible",e.isUpdateModeModalVisible)("nzFooter",null),m.Db(1),m.rc("ngModel",e.reasonForModeUpdate),m.Db(1),m.rc("ngIf",e.isModeNoteRequired))},directives:[k.a,k.b,R.c,R.a,X.a,L.u,L.x,w.r,W.d,w.p,V.a,w.q,x.a,F.a,H.a,B.a,z.a,j.b,L.d,G.a,Y.a,q.a,W.a,Z.a,Q.a,P.a],pipes:[y.a],styles:["#wrapper[_ngcontent-%COMP%]{font-size:12px}#heading[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color)}[_nghost-%COMP%]     .ant-modal-body{padding-top:0}.reason-update-error[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;height:10px;max-height:10px}.reason-update-btn-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:20px}.reason-update-btn[_ngcontent-%COMP%]{margin-left:10px}strong[_ngcontent-%COMP%]{font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-input.ant-input-sm{border:none;font-size:12px}[_nghost-%COMP%]     .ant-calendar-picker-icon{color:var(--primary-color)}.label[_ngcontent-%COMP%]{color:var(--tertiary-color);font-size:11px}#activity[_ngcontent-%COMP%]{float:right;width:20px;height:20px;font-size:10px}#tms-notes[_ngcontent-%COMP%]{background:#fff 0 0 no-repeat padding-box;padding:2%;resize:none;font-size:12px}.centerize[_ngcontent-%COMP%]{text-align:center}#caretakers[_ngcontent-%COMP%]{width:200px;font-size:12px;color:var(--light-black)}[_nghost-%COMP%]     .ant-select-selection{border:none}[_nghost-%COMP%]     .ant-select-arrow{color:var(--primary-color)}[_nghost-%COMP%]     .ant-tag{height:30px;width:120px;border:1px solid var(--grey);border-radius:3px;font-size:10px;line-height:3;overflow-x:hidden;overflow-y:hidden;color:#000}.ant-tag-green[_ngcontent-%COMP%]{color:var(--neutral-color);background:var(--primary-color);border:1px solid var(--primary-color)}#activity-label[_ngcontent-%COMP%]{line-height:3}#activities[_ngcontent-%COMP%]{width:100%;background:#fbfbfb 0 0 no-repeat padding-box;border-radius:5px;font-size:12px}app-icons[_ngcontent-%COMP%]{vertical-align:sub}.body-container[_ngcontent-%COMP%]{margin-top:25px}#tms-notes-label[_ngcontent-%COMP%]{padding-top:8px}"]}),ge),Se=((he=function(){function t(e){u(this,t),this._modalService=e}return p(t,[{key:"createTMSModal",value:function(t,e,n,i,a,o,r,c){var s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"OTHER",l=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0;return this._modalService.create({nzContent:gt,nzComponentParams:{patient:t,episodeId:e,tmsType:n,careplanStartDate:a,cptCode:i,appointmentTime:o,stickyNote:r,draftId:c,referrer:s,editTMS:l,timerId:u},nzStyle:{top:"50px"},nzWidth:775,nzFooter:null,nzMaskClosable:!1})}},{key:"createCMTModal",value:function(t,e,n,i,a,o,r,c,s,l){return this._modalService.create({nzContent:Ht,nzComponentParams:{episodeId:n,patientId:e,patientName:t,cptCode:i,appointmentTime:[a,o],episodeEndDate:r,stickyNote:c,timerId:s,editCMT:l},nzStyle:{top:"50px"},nzWidth:775,nzFooter:null,nzMaskClosable:!1})}},{key:"createLogDetailsModal",value:function(t,e){this._modalService.create({nzContent:$t,nzComponentParams:{log:t,staffName:e},nzFooter:null})}},{key:"showTMSHistory",value:function(t,e,n,i){this._modalService.create({nzContent:g.a,nzComponentParams:{patientId:t,patientName:e,episodeId:n,tmsType:i},nzWidth:775,nzBodyStyle:{overflowY:"scroll"},nzFooter:null})}},{key:"createCCMTMS",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"OTHER",a=arguments.length>4?arguments[4]:void 0;return this._modalService.create({nzContent:te.a,nzComponentParams:{patient:t,blueprint:e,serviceCode:n,appointmentTime:[],referrer:i,editCMT:a},nzStyle:{top:"50px"},nzWidth:775,nzFooter:null,nzMaskClosable:!1})}},{key:"createTOCTMS",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"OTHER",n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return this._modalService.create({nzContent:me,nzComponentParams:{patient:t,appointmentTime:i,referrer:e,editCMT:n,stickyNote:a,timerId:o},nzStyle:{top:"50px"},nzWidth:775,nzFooter:null,nzMaskClosable:!1})}}]),t}()).\u0275fac=function(t){return new(t||he)(m.bc(z.f))},he.\u0275prov=m.Nb({token:he,factory:he.\u0275fac,providedIn:"root"}),he)},OkQO:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var a=i("WoUL"),o=i("FrsH"),r=i("fXoL"),c=function(){var t=function(){function t(e){u(this,t),this.translationService=e}return p(t,[{key:"transform",value:function(t,e,i,a){var o,r=this;return(o=this.translationService).getMultiple.apply(o,n(s.STRINGS)).subscribe(function(t){return r.translatedStrings=t}),e?this.getMessage(t,e,i,a):i}},{key:"getMessage",value:function(t,e,n,i){switch(t){case o.a.CAREPLAN_ASSIGNED:if(this.translatedStrings.has("ALERT.CAREPLAN_ASSIGNED_ALERT"))return this.translatedStrings.get("ALERT.CAREPLAN_ASSIGNED_ALERT").replace("{CAREPLAN_NAME}",e.CAREPLAN_NAME).replace("{EPISODE_NAME}",null==e.EPISODE_NAME?"":e.EPISODE_NAME);case o.a.CONSENT_SUBMITTED:if(this.translatedStrings.has("ALERT.CONSENT_SUBMITTED_ALERT"))return this.translatedStrings.get("ALERT.CONSENT_SUBMITTED_ALERT").replace("{EPISODE_TYPE}",e.EPISODE_TYPE);case o.a.PRIORITISED:if(this.translatedStrings.has("ALERT.CUSTOM_ALERT_RULE_MESSAGE"))return this.translatedStrings.get("ALERT.CUSTOM_ALERT_RULE_MESSAGE").replace("{PATIENT_NAME}",i.patient.fullName).replace("{VITAL_SIGN}",i.rule.criteria[0].paramType).replace("{LEVEL}",i.rule.criteria[0].condition).replace("{OCCURENCE}",i.rule.criteria[0].frequency.occurrence.toString()).replace("{WITH_IN_DAYS}",i.rule.criteria[0].frequency.withInDays.toString());default:return n}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Rb(a.a))},t.\u0275pipe=r.Qb({name:"alertMessage",type:t,pure:!0}),t}(),s=function(){var t=function t(){u(this,t),this.translationStrings=new Map([["CAREPLAN_ASSIGNED","ALERT.CAREPLAN_ASSIGNED_ALERT"],["CONSENT_FORM_ASSIGNED","ALERT.CONSENT_SUBMITTED_ALERT"]])};return t.STRINGS=new Array("ALERT.CAREPLAN_ASSIGNED_ALERT","ALERT.CONSENT_SUBMITTED_ALERT","ALERT.CUSTOM_ALERT_RULE_MESSAGE"),t}()},"Pp+U":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t){var e="";switch(t){case"ALL":e="All";break;case"SCHEDULED":e="Scheduled";break;case"COMPLETED":e="Completed";break;case"SUSPENDED":e="Suspended";break;case"PAUSED":e="Paused";break;case"IN_PROGRESS":e="Active";break;case"SCHEDULED":e="In Progress";break;default:e=""}return e}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"episodeStatusName",type:t,pure:!0}),t}()},PzCk:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("bnsq"),a=n("fXoL"),o=function(){var t=function(){function t(e,n,i,a){u(this,t),this._viewContainerRef=e,this._templateRef=n,this._permissionsService=i,this._cdRef=a}return p(t,[{key:"ngAfterViewInit",value:function(){var t,e=localStorage.getItem("loggedInUserAccountType");this.permissions=this.anyFeaturePermitted,"TENANT_ADMIN"!==e&&(null===(t=this.permissions)||void 0===t?void 0:t.length)?this.userHasPermissions()?this.enableFeature():this.disableFeature():this.enableFeature()}},{key:"userHasPermissions",value:function(){var t=this._permissionsService.getPermissionsForUser(),e=!1;return!!(null==t?void 0:t.length)&&(this.permissions.forEach(function(n){-1!==t.findIndex(function(t){return t===n})&&(e=!0)}),e)}},{key:"enableFeature",value:function(){this._viewContainerRef.createEmbeddedView(this._templateRef),this._cdRef.detectChanges()}},{key:"disableFeature",value:function(){this._viewContainerRef.clear(),this._cdRef.detectChanges()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Rb(a.R),a.Rb(a.N),a.Rb(i.a),a.Rb(a.h))},t.\u0275dir=a.Mb({type:t,selectors:[["","anyFeaturePermitted",""]],inputs:{anyFeaturePermitted:"anyFeaturePermitted"}}),t}()},"Q+ul":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function t(){u(this,t)}},QBjw:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function t(){u(this,t)}},QwIf:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){var t=function t(){u(this,t)};return t.SOURCE="source",t.SEARCH_KEY="search_key",t.ACTION_NAME="action_name",t.PATIENT_ID="patient_id",t.PATIENT_NAME="patient_name",t.FILTER_INFO="filter_info",t.FILTER_TYPE="filter_type",t.STAFF_NAME="staff_name",t.PATIENT_ACTION="PATIENT_ACTION",t.PATIENT_DETAILS_ACTION="PATIENT_DETAILS_ACTION",t.PATIENT_SEARCH="PATIENT_SEARCH",t.PATIENT_FILTER_ACTION="PATIENT_FILTER_ACTION",t.PATIENT_STAFF_ASSIGN="PATIENT_STAFF_ASSIGN",t.PATIENT_ALERT_ACTION="PATIENT_ALERT_ACTION",t.PATIENT_LISTING_SCREEN="patient_listing",t.BULK_ASSING_PATIENT_TO_MONITORING_STAFF="bulk_assign_patient_to_monitoring_staff",t}()},S5rh:function(t,e,n){"use strict";n.d(e,"a",function(){return k});var i=n("fXoL"),a=n("q7YW"),o=n("dMDw"),r=n("SP7D"),c=n("ofXK"),s=n("jPNr"),l=n("pSeI"),d=n("ZKr6"),b=n("C2AL"),h=n("PTRe"),g=n("3Pt+"),f=n("OzZK"),v=n("RwU8"),m=n("glKu"),S=n("+oEP"),y=n("dRHE");function T(t,e){if(1&t){var n=i.Yb();i.Xb(0,"button",9),i.ec("click",function(t){return i.Lc(n),i.ic(2).emitSearchKey(t)}),i.Sb(1,"app-icons",10),i.Wb()}2&t&&(i.Db(1),i.rc("originalStyle",!0))}function C(t,e){if(1&t){var n=i.Yb();i.Vb(0),i.Xb(1,"nz-input-group",6),i.Xb(2,"input",7),i.ec("ngModelChange",function(t){return i.Lc(n),i.ic().searchKey=t})("keyup",function(t){return i.Lc(n),i.ic().emitSearchKey(t)}),i.jc(3,"translate"),i.Wb(),i.Wb(),i.Vc(4,T,2,1,"ng-template",null,8,i.Wc),i.Ub()}if(2&t){var a=i.Ic(5),o=i.ic();i.Db(1),i.rc("nzAddOnAfter",a),i.Db(1),i.sc("placeholder",i.kc(3,3,"COMMON.SEARCH")),i.rc("ngModel",o.searchKey)}}function E(t,e){if(1&t){var n=i.Yb();i.Vb(0,12),i.Xb(1,"button",13),i.ec("click",function(){return i.Lc(n),i.ic(2).emitSecondaryAction()}),i.Xc(2),i.Wb(),i.Ub()}if(2&t){var a=i.ic(2);i.rc("nzContent",a.secondaryActionInfo),i.Db(2),i.Zc(" ",a.secondaryActionTitle," ")}}function I(t,e){if(1&t&&(i.Vb(0),i.Vc(1,E,3,2,"ng-container",11),i.Ub()),2&t){var n=i.ic();i.Db(1),i.rc("ngIf",n.isSecondaryActionEnabled)}}function M(t,e){if(1&t){var n=i.Yb();i.Vb(0),i.Xb(1,"button",14),i.ec("click",function(){return i.Lc(n),i.ic(2).emitAction()}),i.Xc(2),i.Wb(),i.Ub()}if(2&t){var a=i.ic(2);i.Db(1),i.rc("nzContent",a.actionInfo),i.Db(1),i.Zc(" ",a.actionTitle," ")}}function A(t,e){if(1&t&&(i.Vb(0),i.Vc(1,M,3,2,"ng-container",2),i.Ub()),2&t){var n=i.ic();i.Db(1),i.rc("ngIf",n.isActionEnabled)}}function _(t,e){1&t&&i.Sb(0,"app-icons",15)}var D=["*",[["","extra",""]]],z=function(t){return{left:t}},O=["*","[extra]"],k=function(){var t=function(){function t(e,n){var r=this;u(this,t),this._location=e,this._routeHelperService=n,this.isSearchEnabled=!0,this.isActionEnabled=!0,this.isSecondaryActionEnabled=!1,this.search=new i.n,this.action=new i.n,this.secondaryAction=new i.n,this.sidebar$=this._routeHelperService.isSidebarCollapsed().subscribe(function(t){r.sidebarCollapsed=t,r.resizeHeader()}),this.header$=Object(a.fromEvent)(window,"resize").pipe(Object(o.debounceTime)(50)).subscribe(function(t){r.resizeHeader()})}return p(t,[{key:"resizeHeader",value:function(){this.headerLeft=this.sidebarCollapsed?"0":"150px"}},{key:"ngOnDestroy",value:function(){var t;null===(t=this.header$)||void 0===t||t.unsubscribe(),this.sidebar$.unsubscribe()}},{key:"emitSearchKey",value:function(t){"keyup"!==t.type||this.searchKey||this.search.emit(this.searchKey),"keyup"===t.type&&13!==t.keyCode||this.search.emit(this.searchKey)}},{key:"emitAction",value:function(){this.action.emit()}},{key:"emitSecondaryAction",value:function(){this.secondaryAction.emit()}},{key:"goBack",value:function(){this._location.back()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Rb(c.l),i.Rb(r.a))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-header"]],inputs:{title:"title",prefix:"prefix",defaultTitle:"defaultTitle",subProperty:"subProperty",actionTitle:"actionTitle",actionInfo:"actionInfo",actionPermissions:"actionPermissions",secondaryActionTitle:"secondaryActionTitle",secondaryActionInfo:"secondaryActionInfo",secondaryActionPermissions:"secondaryActionPermissions",isSearchEnabled:"isSearchEnabled",isActionEnabled:"isActionEnabled",isSecondaryActionEnabled:"isSecondaryActionEnabled"},outputs:{search:"search",action:"action",secondaryAction:"secondaryAction"},ngContentSelectors:O,decls:12,vars:12,consts:[[3,"nzBackIcon","nzGhost","ngStyle","nzBack"],[3,"nomenclature","default","subProperty","prefix"],[4,"ngIf"],[4,"isFeaturePermitted"],["backIcon",""],[1,"header-spacer"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","",1,"search",3,"placeholder","ngModel","ngModelChange","keyup"],["searchIconButton",""],["nz-button","","nzType","primary","nzSearch","",3,"click"],["size","14px","name","search",3,"originalStyle"],["nz-popover","","nzPlacement","bottom",3,"nzContent",4,"ngIf"],["nz-popover","","nzPlacement","bottom",3,"nzContent"],["nz-button","","nzType","primary",1,"secondary-action",3,"click"],["nz-button","","nzType","primary","nz-popover","","nzPlacement","bottom",3,"nzContent","click"],["name","back","altColor","#ffffff","color","#ffffff"]],template:function(t,e){if(1&t&&(i.qc(D),i.Xb(0,"nz-page-header",0),i.ec("nzBack",function(){return e.goBack()}),i.Xb(1,"nz-page-header-title"),i.Sb(2,"app-nomenclature",1),i.Wb(),i.Xb(3,"nz-page-header-extra"),i.pc(4),i.Vc(5,C,6,5,"ng-container",2),i.Vc(6,I,2,1,"ng-container",3),i.pc(7,1),i.Vc(8,A,2,1,"ng-container",3),i.Wb(),i.Vc(9,_,1,0,"ng-template",null,4,i.Wc),i.Wb(),i.Sb(11,"div",5)),2&t){var n=i.Ic(10);i.rc("nzBackIcon",n)("nzGhost",!1)("ngStyle",i.yc(10,z,e.headerLeft)),i.Db(2),i.rc("nomenclature",e.title)("default",e.defaultTitle)("subProperty",e.subProperty)("prefix",e.prefix),i.Db(3),i.rc("ngIf",e.isSearchEnabled),i.Db(1),i.rc("isFeaturePermitted",e.secondaryActionPermissions),i.Db(2),i.rc("isFeaturePermitted",e.actionPermissions)}},directives:[s.b,c.r,s.g,l.a,s.d,c.q,d.a,b.a,h.c,h.b,g.d,g.u,g.x,f.a,v.a,m.a,S.a],pipes:[y.a],styles:[".secondary-action[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--primary-color);color:var(--primary-color);transition:all .3s}.secondary-action[_ngcontent-%COMP%]:focus{background:transparent!important;color:var(--primary-color)!important}.secondary-action[_ngcontent-%COMP%]:hover{background-color:var(--primary-color)!important;border-color:var(--primary-color)!important;color:var(--neutral-color)!important}.search[_ngcontent-%COMP%]{background:#393939;color:var(--neutral-color);border:none;height:30px;outline:none}[_nghost-%COMP%]     .ant-page-header{z-index:998;background:var(--light-black) 0 0 no-repeat padding-box;height:50px;padding:0 24px;position:fixed;left:0;right:0;top:50px}.header-spacer[_ngcontent-%COMP%]{height:55px}[_nghost-%COMP%]     .ant-page-header-heading-left{margin:10px 0;font-size:10px}[_nghost-%COMP%]     .ant-page-header-heading-title, [_nghost-%COMP%]     .anticon{font-size:16px;color:var(--neutral-color);opacity:.9;font-weight:400}[_nghost-%COMP%]     .ant-page-header-heading-extra{margin:10px 0}[_nghost-%COMP%]     .ant-input-group-addon{background-color:transparent}[_nghost-%COMP%]     .ant-input-search>.ant-input-group>.ant-input-group-addon .ant-input-search-button{padding:5px 10px;border-radius:5px;height:30px}[_nghost-%COMP%]     .ant-input-group-wrapper{width:inherit}[_nghost-%COMP%]     .ant-btn{font-size:12px}[_nghost-%COMP%]     .ant-btn-primary{font-weight:700}a[_ngcontent-%COMP%]{float:right;color:var(--neutral-color);font-weight:700;height:30px;margin:0 15px}#username[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:3}app-icons[_ngcontent-%COMP%]{vertical-align:middle}"]}),t}()},S9gE:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.BASIC_DETAILS="BASIC_DETAILS",t.EPISODE_HISTORY_DETAILS="EPISODE_HISTORY_DETAILS",t.TMS_DETAILS="TMS_DETAILS",t.CARE_PLAN_DETAILS="CARE_PLAN_DETAILS",t.EPISODE_DETAILS="EPISODE_DETAILS",t.HEALTH_SCORE="HEALTH_SCORE",t.WELLNESS_SCORE="WELLNESS_SCORE",t}({})},SHZf:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("fXoL"),a=n("ofXK"),o=n("WoUL");function r(t){return function(){return t.initialize()}}var c=function(){var t=function(){function t(){u(this,t)}return p(t,null,[{key:"forRoot",value:function(){return{ngModule:t,providers:[o.a,{provide:i.d,useFactory:r,deps:[o.a],multi:!0}]}}}]),t}();return t.\u0275mod=i.Pb({type:t}),t.\u0275inj=i.Ob({factory:function(e){return new(e||t)},imports:[[a.c]]}),t}()},SP7D:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("dRHE"),a=n("7RJT"),o=n("ds6q"),r=n("fXoL"),c=function(){var t=function(){function t(e){u(this,t),this._translationPipe=e,this.mainHeader$=new a.BehaviorSubject(!0),this.actionsHeader$=new a.BehaviorSubject(!1),this.sidebar$=new a.BehaviorSubject(!0),this.sidebarCollapsed$=new a.BehaviorSubject(!1),this.title$=new a.BehaviorSubject(""),this.searchEnabled$=new a.BehaviorSubject(!1),this.searchPlaceholder$=new a.BehaviorSubject("COMMON.SEARCH"),this.searchReset$=new a.BehaviorSubject(!1),this.primaryAction$=new a.BehaviorSubject({}),this.primaryEnableAction$=new a.BehaviorSubject(!1),this.secondaryAction$=new a.BehaviorSubject({}),this.multiAction$=new a.BehaviorSubject({}),this.search$=new a.BehaviorSubject(null),this.primaryActionTrigger$=new o.Subject,this.secondaryActionTrigger$=new o.Subject,this.multiActionTrigger$=new o.Subject,this.shouldShowSubTenantToggle$=new a.BehaviorSubject(!1),this.subTenantToggleMode$=new a.BehaviorSubject("MULTI")}return p(t,[{key:"setDataForRoute",value:function(t){if(t&&Object.keys(t).length){if(null!==(null==t?void 0:t.reset)&&(null==t?void 0:t.reset))return this.mainHeader$.next(!0),this.actionsHeader$.next(!1),this.sidebar$.next(!0),this.title$.next(""),this.searchEnabled$.next(!1),this.searchReset$.next(!1),this.primaryAction$.next({}),this.primaryEnableAction$.next(!1),this.secondaryAction$.next({}),this.multiAction$.next({}),this.search$.next(null),this.searchPlaceholder$.next("COMMON.SEARCH"),this.primaryActionTrigger$.next(null),this.secondaryActionTrigger$.next(null),void this.multiActionTrigger$.next(null);void 0!==(null==t?void 0:t.mainHeader)&&this.setMainHeaderEnabled(null==t?void 0:t.mainHeader),void 0!==(null==t?void 0:t.sidebar)&&this.setSidebarEnabled(null==t?void 0:t.sidebar),this.setActionsHeaderEnabled(null==t?void 0:t.header),this.setTitleForRoute(null==t?void 0:t.title),this.setSearchEnabled(null==t?void 0:t.searchEnabled),this.setPrimaryAction(null==t?void 0:t.primaryAction),this.setPrimaryEnableAction(!1),this.setSecondaryAction(null==t?void 0:t.secondaryAction),this.setMultiAction(null==t?void 0:t.multiAction);var e,n=!0;null!=(null==t?void 0:t.showTenantToggle)&&(n=null==t?void 0:t.showTenantToggle),this.setShouldShowSubTenantToggle(n),e=null!=(null==t?void 0:t.subTenantToggleMode)?null==t?void 0:t.subTenantToggleMode:"MULTI",this.setSubTenantToggleMode(e),this.setPlaceholderForSearch((null==t?void 0:t.searchPlaceholder)||"COMMON.SEARCH")}}},{key:"setMainHeaderEnabled",value:function(t){this.mainHeader$.next(t)}},{key:"isMainHeaderEnabled",value:function(){return this.mainHeader$.asObservable()}},{key:"setActionsHeaderEnabled",value:function(t){this.actionsHeader$.next(t)}},{key:"isActionsHeaderEnabled",value:function(){return this.actionsHeader$.asObservable()}},{key:"setSidebarEnabled",value:function(t){this.sidebar$.next(t)}},{key:"isSidebarEnabled",value:function(){return this.sidebar$.asObservable()}},{key:"setSidebarCollapsed",value:function(t){this.sidebarCollapsed$.next(t)}},{key:"isSidebarCollapsed",value:function(){return this.sidebarCollapsed$.asObservable()}},{key:"setShouldShowSubTenantToggle",value:function(t){this.shouldShowSubTenantToggle$.next(t)}},{key:"shouldShowSubTenantToggle",value:function(){return this.shouldShowSubTenantToggle$.asObservable()}},{key:"setSubTenantToggleMode",value:function(t){this.subTenantToggleMode$.next(t)}},{key:"subTenantToggleMode",value:function(){return this.subTenantToggleMode$.asObservable()}},{key:"setTitleForRoute",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.title$.next(e?this._translationPipe.transform(t):t)}},{key:"getTitleForRoute",value:function(){return this.title$.asObservable()}},{key:"setSearchEnabled",value:function(t){this.searchEnabled$.next(t)}},{key:"isSearchEnabled",value:function(){return this.searchEnabled$.asObservable()}},{key:"resetSearch",value:function(t){this.searchReset$.next(t)}},{key:"searchReset",value:function(){return this.searchReset$.asObservable()}},{key:"setPrimaryAction",value:function(t){this.primaryAction$.next(t)}},{key:"getPrimaryAction",value:function(){return this.primaryAction$.asObservable()}},{key:"setPrimaryEnableAction",value:function(t){this.primaryEnableAction$.next(t)}},{key:"getPrimaryEnableAction",value:function(){return this.primaryEnableAction$.asObservable()}},{key:"setSecondaryAction",value:function(t){this.secondaryAction$.next(t)}},{key:"getSecondaryAction",value:function(){return this.secondaryAction$.asObservable()}},{key:"setMultiAction",value:function(t){this.multiAction$.next(t)}},{key:"getMultiAction",value:function(){return this.multiAction$.asObservable()}},{key:"setSearch",value:function(t){this.search$.next(t)}},{key:"getSearch",value:function(){return this.search$.asObservable()}},{key:"setPlaceholderForSearch",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.searchPlaceholder$.next(e?this._translationPipe.transform(t):t)}},{key:"getPlaceholderForSearch",value:function(){return this.searchPlaceholder$.asObservable()}},{key:"setPrimaryActionTriggered",value:function(){this.primaryActionTrigger$.next("triggered")}},{key:"isPrimaryActionTriggered",value:function(){return this.primaryActionTrigger$.asObservable()}},{key:"setSecondaryActionTriggered",value:function(){this.secondaryActionTrigger$.next("triggered")}},{key:"isSecondaryActionTriggered",value:function(){return this.secondaryActionTrigger$.asObservable()}},{key:"setMultiActionTriggered",value:function(t){this.multiActionTrigger$.next(t)}},{key:"getMultiActionTriggered",value:function(){return this.multiActionTrigger$.asObservable()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(i.a))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},Szod:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("BcC3"),a=n("fXoL"),o=function(){var t=function(){function t(e,n){u(this,t),this._templateRef=e,this._viewContainerRef=n}return p(t,[{key:"ngOnInit",value:function(){this.checkIfPermitted()}},{key:"checkIfPermitted",value:function(){localStorage.getItem("loggedInUserBoundary")==i.a.ACROSS_SUB_TENANTS?this.enableFeature():this.disableFeature()}},{key:"enableFeature",value:function(){this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"disableFeature",value:function(){this._viewContainerRef.clear()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Rb(a.N),a.Rb(a.R))},t.\u0275dir=a.Mb({type:t,selectors:[["","isAccessAcrossTenantEnabled",""]]}),t}()},T5gh:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),a=n("tyNb"),o=function(){var t=function(){function t(e){u(this,t),this._router=e}return p(t,[{key:"canActivate",value:function(t,e){var n=localStorage.getItem("sessionToken");return null!=n&&null!=n||(this._router.navigate(["authorization/login"],{queryParams:{returnUrl:e.url}}),!1)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.bc(a.g))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t}()},TtLB:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.FAULTY_DEVICE="FAULTY_DEVICE",t.PATIENT_DISCHARGE="PATIENT_DISCHARGE",t.DEVICE_RE_ASSIGNMENT="DEVICE_RE_ASSIGNMENT",t.INCORRECT_INFORMATION="INCORRECT_INFORMATION",t}({})},U2hf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i,a,o=n("igu/"),r=n("fXoL"),c=((a=function(){function t(){u(this,t)}return p(t,[{key:"isFeatureEnabled",value:function(t,e){if(!t)return!1;switch(e){case"FORMS":return t.featureConfigs.formsEnabled;case"FORMS.FORM_BUILDER":return t.featureConfigs.formsEnabled&&t.featureConfigs.formsBuilder;default:return!1}}}]),t}()).\u0275fac=function(t){return new(t||a)},a.\u0275prov=r.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),s=((i=function(){function t(e,n,i,a,o){u(this,t),this._viewContainerRef=e,this._templateRef=n,this._cdRef=i,this._configHelper=a,this._dataSharingService=o}return p(t,[{key:"ngAfterViewInit",value:function(){var t=this;null!=this.isTenantFeatureEnabled&&null!=this.isTenantFeatureEnabled?this._dataSharingService.tenantSettings.subscribe(function(e){var n;e&&(null===(n=t.isTenantFeatureEnabled)||void 0===n?void 0:n.length)&&(t._configHelper.isFeatureEnabled(e,t.isTenantFeatureEnabled)?t.enableFeature():t.disableFeature())}):this.enableFeature()}},{key:"enableFeature",value:function(){this._viewContainerRef.createEmbeddedView(this._templateRef),this._cdRef.detectChanges()}},{key:"disableFeature",value:function(){this._viewContainerRef.clear(),this._cdRef.detectChanges()}}]),t}()).\u0275fac=function(t){return new(t||i)(r.Rb(r.R),r.Rb(r.N),r.Rb(r.h),r.Rb(c),r.Rb(o.a))},i.\u0275dir=r.Mb({type:i,selectors:[["","isTenantFeatureEnabled",""]],inputs:{isTenantFeatureEnabled:"isTenantFeatureEnabled"}}),i)},UFn0:function(t,e,n){"use strict";n.d(e,"a",function(){return st});var i=n("OzZK"),a=n("Nqz0"),o=n("Q8cG"),r=n("eHCX"),c=n("5vDB"),s=n("B+r4"),l=n("yW9e"),d=n("jPNr"),p=n("3/1E"),b=n("OEtX"),h=n("Jioy"),g=n("q0Us"),f=n("TaO5"),v=n("0lU3"),m=n("ocnv"),S=n("PTRe"),y=n("z4wI"),T=n("bE2y"),C=n("zAKX"),E=n("tAs6"),I=n("EGpF"),M=n("ix5O"),A=n("D9mS"),_=n("ZE2D"),D=n("SKKP"),z=n("JA5x"),O=n("IvDN"),k=n("xB20"),N=n("QlLE"),P=n("Ff2k"),R=n("+oEP"),X=n("A07A"),L=n("rMZv"),w=n("oyxB"),W=n("ZyQt"),V=n("ncdi"),x=n("nJia"),U=n("Wfee"),F=n("F6ss"),H=n("PScX"),B=n("dEAy"),j=n("bNXi"),G=n("KupA"),Y=n("W9fG"),q=n("OtHt"),Z=n("qAZ0"),Q=n("KAwd"),K=n("VXpv"),J=n("nxWG"),$=n("Etcd"),tt=n("4xsP"),et=n("Rm4T"),nt=n("ofXK"),it=n("tAZD"),at=n.n(it),ot=n("FwiY"),rt=n("4hBO"),ct=n("fXoL");Object(nt.J)(at.a);var st=function(){var t=function t(){u(this,t)};return t.\u0275mod=ct.Pb({type:t}),t.\u0275inj=ct.Ob({factory:function(e){return new(e||t)},providers:[{provide:et.b,useValue:et.f}],imports:[[i.c,r.b,c.b,s.b,l.e,a.c,o.f,d.e,p.b,b.c,h.b,g.b,f.c,v.b,m.e,S.e,y.b,T.d,C.f,E.b,I.b,M.b,A.b,_.b,D.b,z.d,O.b,k.c,N.c,P.h,R.b,X.b,L.h,w.e,W.b,V.c,x.b,U.b,F.b,H.d,B.d,j.a,G.b,Y.b,q.d,Z.b,Q.b,K.a,J.b,$.c,tt.c,G.b,ot.b,rt.b],i.c,r.b,c.b,s.b,l.e,a.c,o.f,d.e,p.b,b.c,h.b,g.b,f.c,v.b,m.e,S.e,y.b,T.d,C.f,E.b,I.b,M.b,A.b,_.b,D.b,z.d,O.b,k.c,N.c,P.h,R.b,X.b,L.h,w.e,W.b,V.c,x.b,U.b,F.b,H.d,B.d,j.a,G.b,Y.b,q.d,Z.b,Q.b,K.a,J.b,$.c,tt.c,G.b,ot.b,rt.b]}),t}()},Ujc4:function(t,e,n){"use strict";n.d(e,"a",function(){return W});var i=n("mrSG"),a=n("6i1W"),o=n("fXoL"),r=n("t6gT"),c=n("/KA4"),s=n("geco"),l=n("IVUT"),d=n("igu/"),b=n("ofXK"),h=n("ZKr6"),g=n("Nqz0"),f=n("Q8cG"),v=n("glKu"),m=n("nJia"),S=n("OzZK"),y=n("RwU8"),T=n("C2AL"),C=n("B+r4"),E=n("eHCX");function I(t,e){if(1&t&&(o.Xb(0,"a",8),o.Sb(1,"app-icons",9),o.Wb()),2&t){o.ic(2);var n=o.Ic(4),i=o.ic(2);o.rc("nzDropdownMenu",n)("nzDisabled",i.disabled||!(null!=i.numbers&&i.numbers.length)),o.Db(1),o.rc("color",null!=i.numbers&&i.numbers.length?"rgb(138, 138, 138)":"#d8d8d8")}}function M(t,e){if(1&t&&(o.Xb(0,"a",10),o.Sb(1,"app-icons",11),o.Wb()),2&t){o.ic(2);var n=o.Ic(4);o.rc("nzDropdownMenu",n)}}function A(t,e){if(1&t&&o.Sb(0,"app-icons",12),2&t){var n=o.ic(4);o.sc("nzTooltipTitle",n.tooltipContent),o.rc("originalStyle",!0)}}function _(t,e){if(1&t&&(o.Vb(0),o.Vc(1,I,2,3,"a",5),o.Vc(2,M,2,1,"a",6),o.Vc(3,A,1,2,"app-icons",7),o.Ub()),2&t){var n=o.ic(3);o.Db(1),o.rc("ngIf",!n.renderVital),o.Db(1),o.rc("ngIf",n.renderVital&&(null==n.numbers?null:n.numbers.length)),o.Db(1),o.rc("ngIf",n.renderVital&&!(null!=n.numbers&&n.numbers.length))}}function D(t,e){1&t&&(o.Xb(0,"div",16),o.Sb(1,"app-icons",17),o.Wb()),2&t&&(o.Db(1),o.rc("color","#ffffff"))}function z(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"button",13),o.Xb(2,"div",14),o.Vc(3,D,2,1,"div",15),o.Xb(4,"div",16),o.Xc(5),o.Wb(),o.Wb(),o.Wb(),o.Ub()),2&t){o.ic();var n=o.Ic(4),i=o.ic(2);o.Db(1),o.rc("nzDropdownMenu",n)("nzSize",i.buttonSize)("disabled",i.disabled||!(null!=i.numbers&&i.numbers.length))("nzType",i.buttonType),o.Db(2),o.rc("ngIf",i.showIcon),o.Db(2),o.Zc(" Call ","LEAD"==i.context?"Lead":"Patient"," ")}}function O(t,e){1&t&&(o.Vb(0),o.Xc(1," | Preferred"),o.Ub())}function k(t,e){if(1&t){var n=o.Yb();o.Xb(0,"li",19),o.ec("click",function(){o.Lc(n);var t=o.ic().$implicit;return o.ic(3).initiateAudioCall(null==t?null:t.number)}),o.Xb(1,"label",20),o.Xc(2),o.jc(3,"titlecase"),o.Vc(4,O,2,0,"ng-container",0),o.Wb(),o.Sb(5,"br"),o.Xb(6,"span",21),o.Xc(7),o.Wb(),o.Xc(8,": "),o.Xb(9,"span"),o.Xc(10),o.Wb(),o.Wb()}if(2&t){var i=o.ic().$implicit;o.Db(2),o.Zc(" ",o.kc(3,5,(null==i?null:i.label)||"Phone Number")," "),o.Db(2),o.rc("ngIf",null==i?null:i.preferred),o.Db(3),o.Yc("MOBILE"===(null==i?null:i.type)?"M":"L"),o.Db(3),o.ad("",null==i?null:i.countryCode," ",null==i?null:i.number,"")}}function N(t,e){if(1&t&&(o.Vb(0),o.Vc(1,k,11,7,"li",18),o.Ub()),2&t){var n=e.$implicit;o.Db(1),o.rc("ngIf",!(null==n||null==n.number||!n.number.length))}}function P(t,e){1&t&&(o.Vb(0),o.pc(1),o.Ub())}function R(t,e){if(1&t&&(o.Vb(0),o.Vc(1,_,4,3,"ng-container",0),o.Vc(2,z,6,6,"ng-container",0),o.Xb(3,"nz-dropdown-menu",null,2),o.Xb(5,"ul",3),o.Vc(6,N,2,1,"ng-container",4),o.Wb(),o.Wb(),o.Vc(7,P,2,0,"ng-container",0),o.Ub()),2&t){var n=o.ic(2);o.Db(1),o.rc("ngIf","icon"===n.type),o.Db(1),o.rc("ngIf","button"===n.type),o.Db(4),o.rc("ngForOf",n.numbers),o.Db(1),o.rc("ngIf","custom"===n.type)}}var X=function(){return["AUDIO_CALL"]};function L(t,e){1&t&&(o.Vb(0),o.Vc(1,R,8,4,"ng-container",1),o.Ub()),2&t&&(o.Db(1),o.rc("isFeaturePermitted",o.xc(1,X)))}var w=["*"],W=function(){var t=function(){function t(e,n,i){u(this,t),this._patientsService=e,this._leadsService=n,this._dataSharingService=i,this.showIcon=!1,this.context=r.a.DEFAULT,this.enableRecording=!1,this.tooltipContent="This patient does not prefer to be contacted via call",this.onCallInitiated=new o.n,this.type="icon",this.buttonSize="large",this.buttonType="default"}return p(t,[{key:"phoneNumbers",set:function(t){t&&!this.numbers&&(t=null==t?void 0:t.filter(function(t){var e;return null===(e=null==t?void 0:t.notificationConfig[a.b.CALL])||void 0===e?void 0:e.enabled}),this.numbers=t)}},{key:"leadPhoneNumbers",set:function(t){t=null==t?void 0:t.filter(function(t){var e;return null===(e=null==t?void 0:t.notificationConfig[a.b.CALL])||void 0===e?void 0:e.enabled}),this.numbers=t}},{key:"ngOnInit",value:function(){this._tenantConfigObserver=this._dataSharingService.tenantSettings}},{key:"initiateAudioCall",value:function(t){var e=this,n=r.a.DEFAULT;null!=this.appointmentId&&(n=r.a.APPOINTMENT),"LEAD"==this.context?this.initLeadCall(this.leadId,t):this._patientsService.getSpecificUser(this.userId).subscribe(function(i){e._dataSharingService.setVoiceCallInitiated({patient:i,toNumber:t,enableRecording:e.enableRecording,context:n,appointmentId:e.appointmentId,tenantId:i.tenantId})})}},{key:"initLeadCall",value:function(t,e){var n=this;this._leadsService.getSpecificLeadForUser(t).subscribe(function(i){n._dataSharingService.setVoiceCallInitiated({patient:{id:t,mobile:e,countryCode:i.personInfo.countryCode,firstName:i.personInfo.firstName,lastName:i.personInfo.lastName,phoneNumbers:i.personInfo.phoneNumbers,toNumber:e},enableRecording:n.enableRecording,context:r.a.LEAD,toNumber:e,tenantId:i.tenantId}),n.onCallInitiated.emit({toNumber:e})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Rb(s.a),o.Rb(l.a),o.Rb(d.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-audio-call-widget"]],inputs:{userId:"userId",leadId:"leadId",tenantId:"tenantId",type:"type",buttonSize:"buttonSize",buttonType:"buttonType",showIcon:"showIcon",disabled:"disabled",renderVital:"renderVital",appointmentId:"appointmentId",context:"context",enableRecording:"enableRecording",phoneNumbers:"phoneNumbers",leadPhoneNumbers:"leadPhoneNumbers"},outputs:{onCallInitiated:"onCallInitiated"},ngContentSelectors:w,decls:2,vars:3,consts:[[4,"ngIf"],[4,"isFeaturePermitted"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable",""],[4,"ngFor","ngForOf"],["nz-dropdown","",3,"nzDropdownMenu","nzDisabled",4,"ngIf"],["nz-dropdown","",3,"nzDropdownMenu",4,"ngIf"],["name","disabledAudio","size","20px","nz-tooltip","","nzTooltipPlacement","rightBottom",3,"originalStyle","nzTooltipTitle",4,"ngIf"],["nz-dropdown","",3,"nzDropdownMenu","nzDisabled"],["name","audioCall","size","20px",3,"color"],["nz-dropdown","",3,"nzDropdownMenu"],["name","audioCall","size","20px"],["name","disabledAudio","size","20px","nz-tooltip","","nzTooltipPlacement","rightBottom",3,"originalStyle","nzTooltipTitle"],["nz-dropdown","","nz-button","",3,"nzDropdownMenu","nzSize","disabled","nzType"],["nz-row","","nzJustify","center","nzAlign","center"],["nz-col","",4,"ngIf"],["nz-col",""],["name","audioCall","size","16px",1,"button-icon",3,"color"],["nz-menu-item","",3,"click",4,"ngIf"],["nz-menu-item","",3,"click"],["nz-typography","","nzType","secondary"],["nz-typography","","nzType","success"]],template:function(t,e){if(1&t&&(o.qc(),o.Vc(0,L,2,2,"ng-container",0),o.jc(1,"async")),2&t){var n;o.rc("ngIf",null==(n=o.kc(1,1,e._tenantConfigObserver))||null==n.audioCallConfig?null:n.audioCallConfig.enabled)}},directives:[b.q,h.a,g.e,f.c,b.p,g.a,g.b,v.a,m.d,S.a,y.a,T.a,g.d,C.c,C.a,f.e,E.a],pipes:[b.b,b.A],styles:["app-icons[_ngcontent-%COMP%]{margin:0 10px}label[_ngcontent-%COMP%]{font-size:11px}span[_ngcontent-%COMP%]{font-size:12px}"]}),Object(i.b)([Object(c.a)(),Object(i.c)("design:type",Boolean)],t.prototype,"showIcon",void 0),t}()},UpsY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("BoNt"),a=n("bp6e"),o=n("UXun"),r=n("fXoL"),c=function(){var t=function(){function t(e,n){u(this,t),this._sitesService=e,this._storeService=n,this.userLocationMap=new Map,this.initializeLocationsMap()}return p(t,[{key:"transform",value:function(t){var e=this.userLocationMap.get(t);return(null==e?void 0:e.name)||"N/A"}},{key:"initializeLocationsMap",value:function(){var t,e=this;this.createLocationsMap(this._storeService.getSites()),(null===(t=this.userLocationMap)||void 0===t?void 0:t.size)||(this.sites$=this._sitesService.getAllSites(0,999,null,!1).pipe(Object(o.a)()),this.sites$.subscribe(function(t){e.createLocationsMap(null==t?void 0:t.result),e._storeService.setSites(null==t?void 0:t.result)}))}},{key:"createLocationsMap",value:function(t){var e=this;t&&(null==t||t.forEach(function(t){return e.userLocationMap.set(null==t?void 0:t.id,t)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Rb(i.a),r.Rb(a.a))},t.\u0275pipe=r.Qb({name:"userLocation",type:t,pure:!1}),t}()},"V1/G":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var i=function t(){u(this,t),this.title="",this.template="",this.tags=new Array},a=function(){var t=function t(){u(this,t)};return t.TAGS=new Map([["REMAINDER","Reminder"],["CONSENT_FORM","Patient Consent"],["ENROLMENT","Lead Enrolment"],["VITAL_REMIANDER","Reminder to record Vital Signs"],["FORM_REMAINDER","Reminder to submit assessment / form"]]),t}()},V5Ok:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),a=n("bNXi"),o=function(){var t=function(){function t(e){u(this,t),this._notificationsService=e}return p(t,[{key:"validate",value:function(t,e,n,i,a,o){var r=[];return t||r.push("Please select a clinician before proceeding!"),e||r.push("Please select a start date before proceeding!"),n||r.push("Please choose a communication mode before proceeding!"),i||r.push("Please select an activity before proceeding!"),o||r.push("Please add a note before proceeding!"),e&&e.getTime()+60*a*1e3>=Date.now()+36e5&&r.push("Log cannot be entered for a future time!"),r}},{key:"showErrors",value:function(t){var e=this;t.forEach(function(t){return e._notificationsService.error("Patient Communication",t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.bc(a.b))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac}),t}()},VGjC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("tk/3"),a=n("q3Kh"),o=n("AytR"),r=n("fXoL"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=o.g.url}return p(t,[{key:"getUserForm",value:function(t){var e=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/users/"+t+"/"+e+"/form")}},{key:"getCurrentUserId",value:function(){return localStorage.getItem("loggedInUser")}},{key:"createConfigSetting",value:function(t){return this._http.post(this.rootUrl+"/v2/tenants/settings",JSON.stringify(t))}},{key:"getGuardian",value:function(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/guardians?limit=50")}},{key:"getUsers",value:function(){return this._http.get(this.rootUrl+"/v2/users/?limit=10000")}},{key:"getUsersType",value:function(t){return this._http.get(this.rootUrl+"/v2/users?staffFilter=false&limit=100000&type="+t)}},{key:"getUsersTypeLimit",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=this.rootUrl+"/v2/users?type="+t+"&limit="+e+"&offset="+n;return null!=i&&(a=a+"&groupId="+i),this._http.get(a,{observe:"response"})}},{key:"getUser",value:function(t){return this._http.get(this.rootUrl+"/v2/users/"+t)}},{key:"Create",value:function(t){return delete t.id,delete t.symtom,t.createdOn=(new Date).getTime(),delete t.caretakerSettings,t.tenantId=localStorage.getItem("loggedInTenant"),this._http.post(this.rootUrl+"/v2/users/",JSON.stringify(t))}},{key:"CreateGuardian",value:function(t,e){return delete e.id,delete e.caretakerSettings,this._http.post(this.rootUrl+"/v2/users/"+t+"/guardians",JSON.stringify(e))}},{key:"assignCareTaker",value:function(t){return delete t.id,this._http.post(this.rootUrl+"/v2/users/"+t.userId+"/caretakers/",JSON.stringify(t))}},{key:"assignCareTakerForAdmin",value:function(t){return delete t.id,this._http.post(this.rootUrl+"/v2/users/"+t.userId+"/carewards/",JSON.stringify(t))}},{key:"createContact",value:function(t,e){return delete t.id,this._http.post(this.rootUrl+"/v2/users/"+e+"/contacts/",JSON.stringify(t))}},{key:"updateContact",value:function(t,e){return this._http.put(this.rootUrl+"/v2/users/"+e+"/contacts/",JSON.stringify(t))}},{key:"changePassword",value:function(t){return this._http.put(this.rootUrl+"/v2/users/changePassword/",JSON.stringify(t),{observe:"response"}).pipe(Object(a.map)(function(t){return t}))}},{key:"getUniqueEmail",value:function(t){return this._http.get(this.rootUrl+"/v2/users/unique/"+t).pipe(Object(a.map)(function(t){return(null==t?void 0:t.length)?t:"VALID"}))}},{key:"resetPassword",value:function(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/recovery/")}},{key:"getGeoAddress",value:function(t,e){var n=new i.g({bypass:"yes"});return this._http.get("http://maps.googleapis.com/maps/api/geocode/json?latlng="+t+","+e+"&sensor=true",{headers:n})}},{key:"disableUser",value:function(t,e){return this._http.patch(this.rootUrl+"/v2/users/"+t,e)}},{key:"generateReport",value:function(t,e,n){return this._http.get(this.rootUrl+"/v2/reports/getreport/?start="+t+"&end="+e+"&caretakerId="+n)}},{key:"processFile",value:function(t,e){return this._http.get(this.rootUrl+"/v2/excel/upload/templates/?filename="+t+"&fileType="+e)}},{key:"getReport",value:function(t){window.open(this.rootUrl+"/v2/reports/dwnreports/"+t.fileName+"/")}},{key:"getStauts",value:function(t){window.open(this.rootUrl+"/v2/excel/getStatus/"+t+"/")}},{key:"getTemplate",value:function(t){window.open("https://cooeystore.blob.core.windows.net/summaries/"+t)}},{key:"deleteContact",value:function(t,e){return this._http.delete(this.rootUrl+"/v2/users/"+e+"/contacts/"+t+"/")}},{key:"deleteCareTaker",value:function(t){return this._http.delete(this.rootUrl+"/v2/users/"+t+"/removeCareTaker/",{observe:"response",responseType:"text"})}},{key:"getContact",value:function(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/contacts/")}},{key:"getContactType",value:function(t,e){return this._http.get(this.rootUrl+"/v2/users/"+t+"/contacts?type="+e)}},{key:"unassignCareTaker",value:function(t,e){return this._http.delete(this.rootUrl+"/v2/users/"+t+"/caretakers/"+e)}},{key:"unassignCareWards",value:function(t,e){return this._http.delete(this.rootUrl+"/v2/users/"+t+"/carewards/"+e)}},{key:"getPatientForCartaker",value:function(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/wards/")}},{key:"getCaretakerForAdmin",value:function(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/carewards/")}},{key:"getCaretakerForPatient",value:function(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/caretakers")}},{key:"getImage",value:function(){return this._http.get(this.rootUrl+"/v2/users/5874fded6c5dbb10e6bc6e11/profilePic")}},{key:"Update",value:function(t){return delete t.guardianOf,delete t.caretakerSettings,delete t.requestId,delete t.partnerId,t.updatedOn=(new Date).getTime(),t.allergires&&t.allergires.forEach(function(t){delete t.symtom}),this._http.put(this.rootUrl+"/v2/users/",JSON.stringify(t))}},{key:"UpdateAlert",value:function(t){return this._http.put(this.rootUrl+"/v2/alerts/",JSON.stringify(t))}},{key:"searchUsers",value:function(t){var e=this.rootUrl+"/v2/users/search";return t&&(e=e+"?query="+t),this._http.get(e)}},{key:"searchUsersByType",value:function(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5?arguments[5]:void 0,r=this.rootUrl+"/v2/users/search?type="+e+"&limit="+n+"&offset="+i;return null!=a&&(r=r+"&groupId="+a),t&&(r=r+"&query="+t),o&&(r=r+"&statuses="+o.join()),"CARE_TAKER"===localStorage.getItem("loggedInUserAccountType")&&(r=r+"&caretakerId="+localStorage.getItem("loggedInUser")),this._http.get(r,{observe:"response"})}},{key:"getUsersByType",value:function(t){return this._http.get(this.rootUrl+"/v2/users/search?type="+t)}},{key:"getVitals",value:function(){return this._http.get(this.rootUrl+"/v2/vitals?value=20")}},{key:"getRoleById",value:function(t){return this._http.get(this.rootUrl+"/v2/tenants/roles/"+t)}},{key:"getRole",value:function(){return this._http.get(this.rootUrl+"/v2/tenants/roles")}},{key:"createPermission",value:function(t,e){return this._http.post(this.rootUrl+"/v2/users/"+e+"/permissions",t,{observe:"response"}).pipe(Object(a.map)(function(t){return 204==t.status?"VALID":t}))}},{key:"updatePermission",value:function(t,e){return this._http.put(this.rootUrl+"/v2/users/"+e+"/permissions",t,{observe:"response"}).pipe(Object(a.map)(function(t){return 204==t.status?"VALID":t}))}},{key:"createRole",value:function(t){return this._http.post(this.rootUrl+"/v2/tenants/roles",t,{observe:"response"}).pipe(Object(a.map)(function(t){return 204==t.status?"VALID":t}))}},{key:"updateRole",value:function(t){return this._http.put(this.rootUrl+"/v2/tenants/roles",t,{observe:"response"}).pipe(Object(a.map)(function(t){return 204==t.status?"VALID":t}))}},{key:"checkRPMReportStatus",value:function(t){return this._http.get(this.rootUrl+"/v2/reports/status/"+t)}},{key:"generatePatientSummary",value:function(t,e,n){return this._http.post(this.rootUrl+"/v2/reports/summary/patients/"+t+"?startTime="+e+"&endTime="+n,{})}},{key:"checkPatientSummaryStatus",value:function(t){return this._http.get(this.rootUrl+"/v2/reports/status/"+t)}},{key:"searchCaretakers",value:function(t){var e=this.rootUrl+"/v2/users/search?type=CARE_TAKER";return t&&(e=e+"&query="+t),this._http.get(e)}},{key:"archiveGuardian",value:function(t){return this._http.delete(this.rootUrl+"/v2/users/guardians/"+t)}},{key:"validateActiveEpisodeByBlueprintId",value:function(t,e){return this._http.get("".concat(this.rootUrl,"/v2/episodes/blueprint/")+e+"/patient/"+t,{observe:"response"})}},{key:"updateCallSettings",value:function(t,e){return this._http.patch("".concat(this.rootUrl,"/v2/users/").concat(t,"/call-settings"),e)}},{key:"getCallSettings",value:function(t){return this._http.get("".concat(this.rootUrl,"/v2/users/").concat(t,"/call-settings"))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(i.c))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},W0aR:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("AytR"),a=n("SxV6"),o=n("fXoL"),r=n("tk/3"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=i.g.url}return p(t,[{key:"createConfigSetting",value:function(t){return this._http.post(this.rootUrl+"/v2/tenants/settings/",JSON.stringify(t)).pipe(Object(a.a)())}},{key:"updateConfigSetting",value:function(t){return t.tenantId=localStorage.getItem("loggedInTenant"),this._http.put(this.rootUrl+"/v2/tenants/settings/",JSON.stringify(t)).pipe(Object(a.a)())}},{key:"getConfigSetting",value:function(){return this._http.get(this.rootUrl+"/v2/tenants/settings/").pipe(Object(a.a)())}},{key:"getAllAssignedTenantConfigSettings",value:function(){return this._http.get(this.rootUrl+"/v2/tenants/available/sub-tenants/configs/").pipe(Object(a.a)())}},{key:"getConfigByTenantId",value:function(t){return this._http.get(this.rootUrl+"/v2/tenants/"+t+"/tenantConfig")}},{key:"fetchAllSubTenants",value:function(){var t=localStorage.getItem("loggedInTenant");return this._http.get("".concat(this.rootUrl,"/v3/tenants/").concat(t)).pipe(Object(a.a)())}},{key:"getDefaultEpisodeBlueprint",value:function(){return this._http.get(this.rootUrl+"/v3/episode-blueprints").pipe(Object(a.a)())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(r.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},W4mZ:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("2Vo4"),a=n("fXoL"),o=function(){var t=function(){function t(){u(this,t),this.showConsentScript$=new i.a(!1)}return p(t,[{key:"getShowConsentScriptObservable",value:function(){return this.showConsentScript$.asObservable()}},{key:"setShowConsentScriptObservable",value:function(t){this.showConsentScript$.next(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},WoUL:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("Q1FS"),a=n("fXoL"),o=n("tk/3"),r=function(){var t=function(){function t(e){u(this,t),this.http=e,this.wordMap=new Map,this.initialized=!1,this.currentLang="en-US",this.languageMap=new Map,this.languageMap.set("en-US","en-US"),this.languageMap.set("en","en-US"),this.languageMap.set("es-ES","es-ES"),this.languageMap.set("es","es-ES"),this.languageMap.set("ja","ja"),this.languageMap.set("ko","ko")}return p(t,[{key:"initialize",value:function(){var t=this;return new Promise(function(e,n){var i=t.getLanguage(),a=sessionStorage.getItem(i);if(null!=a||t.initialized){t.initialized=!0;var o=JSON.parse(a);o&&t.initalizeWordMap(o),e()}else t.http.get("./assets/i18n/"+i+".json").toPromise().then(function(n){sessionStorage.setItem(i,JSON.stringify(n)),localStorage.setItem("language",i),t.initalizeWordMap(n),e()},function(t){n()}),t.initialized=!0})}},{key:"initalizeWordMap",value:function(t){var e=this;Object.keys(t).forEach(function(n){e.wordMap.set(n,t[n])})}},{key:"getLanguage",value:function(){return this.languageMap.get(window.navigator.language)?this.languageMap.get(window.navigator.language):"en-US"}},{key:"get",value:function(t,e){var n=this;return i.Observable.create(function(e){var i=n.wordMap.get(t);e.next(i),e.complete()})}},{key:"getMultiple",value:function(){for(var t=this,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];var o=new Map;return i.Observable.create(function(e){n.forEach(function(e){o.set(e,t.wordMap.get(e))}),e.next(o),e.complete()})}},{key:"setLanguage",value:function(){var t=this,e=this.getLanguage(),n=sessionStorage.getItem(e);if(null==n)this.http.get("./assets/i18n/"+e+".json").toPromise().then(function(n){sessionStorage.setItem(e,JSON.stringify(n)),t.initalizeWordMap(n)});else{var i=JSON.parse(n);this.initalizeWordMap(i)}localStorage.setItem("language",e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},WvvJ:function(t,e,i){"use strict";i.d(e,"a",function(){return Vt}),i("MXg9");var a,r=i("1G5W"),s=i("qQcL"),l=i("9ig3"),d=i("gXqy"),b=i("AytR"),h=i("fXoL"),g=i("tk/3"),f=((a=function(){function t(e){u(this,t),this._http=e,this.rootUrl=b.g.url}return p(t,[{key:"getVitalAlertsForUser",value:function(t){return this._http.get(this.rootUrl+"/v2/vitals/patients/"+t+"/alerts")}}]),t}()).\u0275fac=function(t){return new(t||a)(h.bc(g.c))},a.\u0275prov=h.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),v=i("l6l4"),m=i("wsR7"),S=i("geco"),y=i("ofXK"),T=i("sG7K"),C=i("igu/"),E=i("WoUL"),I=i("a6m8"),M=i("gSz3"),A=i("Q+ul"),_=i("cp0P"),D=i("DEH1"),z=i("Gskk"),O=i("c/Vb"),k=i("OTIt"),N=i("t6gT"),P=i("bNXi"),R=i("dEAy"),X=i("tyNb"),L=i("B+r4"),w=i("OzZK"),W=i("RwU8"),V=i("C2AL"),x=i("glKu"),U=i("5vDB"),F=i("0lU3"),H=i("3Pt+"),B=i("ZKr6"),j=i("eHCX"),G=i("zAKX"),Y=i("TaO5"),q=i("PTRe"),Z=i("w0ih"),Q=i("k90p"),K=i("icpI"),J=i("rMZv");function $(t,e){if(1&t&&(h.Xb(0,"tr",8),h.Xb(1,"td",9),h.Xc(2),h.Wb(),h.Xb(3,"td",9),h.Xc(4),h.Wb(),h.Xb(5,"td",9),h.Xc(6),h.Wb(),h.Wb()),2&t){var n=e.$implicit;h.Db(1),h.rc("nzAlign","center"),h.Db(1),h.Zc(" ",null==n?null:n.label," "),h.Db(1),h.rc("nzAlign","center"),h.Db(1),h.Zc(" ",null==n||null==n.limit?null:n.limit.minimum," "),h.Db(1),h.rc("nzAlign","center"),h.Db(1),h.Zc(" ",null==n||null==n.limit?null:n.limit.maximum," ")}}function tt(t,e){if(1&t&&(h.Vb(0),h.Vc(1,$,7,6,"tr",7),h.Ub()),2&t){var n=e.$implicit;h.Db(1),h.rc("ngForOf",null==n?null:n.options)}}var et=function(){return["33.3%","33.3%","33.3%"]};function nt(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"div",1),h.Xb(2,"div",2),h.Xb(3,"nz-table",3,4),h.Xb(5,"thead"),h.Xb(6,"tr"),h.Xb(7,"th",5),h.Xc(8,"Context"),h.Wb(),h.Xb(9,"th",5),h.Xc(10,"Minimum"),h.Wb(),h.Xb(11,"th",5),h.Xc(12,"Maximum"),h.Wb(),h.Wb(),h.Wb(),h.Xb(13,"tbody"),h.Vc(14,tt,2,1,"ng-container",6),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Sb(15,"br"),h.Sb(16,"br"),h.Ub()),2&t){var n=h.Ic(4),i=h.ic();h.Db(3),h.tc("nzTitle","Context limits set for ",i.patientName||"Patient",""),h.rc("nzData",null==i.vitalBlueprint?null:i.vitalBlueprint.contexts)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small")("nzNoResult",null)("nzWidthConfig",h.xc(11,et)),h.Db(4),h.rc("nzAlign","center"),h.Db(2),h.rc("nzAlign","center"),h.Db(2),h.rc("nzAlign","center"),h.Db(3),h.rc("ngForOf",null==n?null:n.data)}}var it,at=((it=function t(){u(this,t)}).\u0275fac=function(t){return new(t||it)},it.\u0275cmp=h.Lb({type:it,selectors:[["app-context-limits"]],inputs:{patientName:"patientName",vitalBlueprint:"vitalBlueprint"},decls:1,vars:1,consts:[[4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","24","nzOffset","6"],[3,"nzData","nzFrontPagination","nzShowPagination","nzSize","nzNoResult","nzWidthConfig","nzTitle"],["contextLimitTable",""],[1,"thead",3,"nzAlign"],[4,"ngFor","ngForOf"],["class","header",4,"ngFor","ngForOf"],[1,"header"],[3,"nzAlign"]],template:function(t,e){1&t&&h.Vc(0,nt,17,12,"ng-container",0),2&t&&h.rc("ngIf",(null==e.vitalBlueprint?null:e.vitalBlueprint.contexts)&&(null==e.vitalBlueprint||null==e.vitalBlueprint.contexts?null:e.vitalBlueprint.contexts.length))},directives:[y.q,L.c,L.a,J.f,J.n,J.o,J.e,J.l,J.a,J.i,y.p],styles:["nz-table[_ngcontent-%COMP%]{height:300px}[_nghost-%COMP%]     .ant-col-offset-6{margin-left:0}[_nghost-%COMP%]     .ant-table-thead>tr>th{height:50px!important;background-color:var(--primary-color)!important;font-weight:900!important;color:#0b2240;text-align:center!important;font-size:16px}.header[_ngcontent-%COMP%]{color:#0b2240;font-weight:600}[_nghost-%COMP%]     .ant-table-title{border-left:4px solid var(--primary-color);margin-left:18px;border-radius:initial;color:#0b2240;font-weight:700;font-size:17px}[_nghost-%COMP%]     .ant-table.ant-table-small .ant-table-title{padding:0 0 0 13px;font-size:21px}[_nghost-%COMP%]     .ant-table-title+.ant-table-container{padding:20px}"]}),it),ot=i("jWZy"),rt=i("2hFh");function ct(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"h6",4),h.Xc(2),h.jc(3,"date"),h.Wb(),h.Xb(4,"p",5),h.Xc(5),h.Wb(),h.Sb(6,"br"),h.Wb()),2&t){var n=e.$implicit,i=h.ic(2);h.Db(2),h.ad("",h.lc(3,3,null==n?null:n.createdOn,"MMM-dd-yyyy HH:mm")," ",i.standardTimeZone,""),h.Db(3),h.Yc(null==n?null:n.content)}}function st(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"div",1),h.Xb(2,"h3",2),h.Xc(3,"Notes"),h.Wb(),h.Wb(),h.Sb(4,"br"),h.Vc(5,ct,7,6,"div",3),h.Ub()),2&t){var n=h.ic();h.Db(5),h.rc("ngForOf",n.notesHistory)}}function lt(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"h6",4),h.Xc(2),h.jc(3,"date"),h.Wb(),h.Xb(4,"p",5),h.Xc(5),h.Wb(),h.Sb(6,"br"),h.Wb()),2&t){var n=e.$implicit,i=h.ic(2);h.Db(2),h.ad("",h.lc(3,3,null==n?null:n.date,"MMM-dd-yyyy HH:mm")," ",i.standardTimeZone,""),h.Db(3),h.Yc((null==n?null:n.notes)||"")}}function ut(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"div",1),h.Xb(2,"h3",2),h.Xc(3,"TMS Logs"),h.Wb(),h.Wb(),h.Sb(4,"br"),h.Vc(5,lt,7,6,"div",3),h.Ub()),2&t){var n=h.ic();h.Db(5),h.rc("ngForOf",n.tmsDetails)}}var dt,pt=((dt=function(){function t(e,n,i,a){u(this,t),this._patientsService=e,this._episodesService=n,this._datePipe=i,this._timezoneService=a,this.tmsDetails=[],this.standardTimeZone=this._timezoneService.getTimeZone()}return p(t,[{key:"ngAfterViewInit",value:function(){this.episodeId&&"RPM"===this.episodeType?this.getTMSDetails():this.getNotes()}},{key:"getNotes",value:function(){var t=this;this._patientsService.fetchNotesForPatient(this.patientId,this.vitalType).subscribe(function(e){t.notesHistory=e})}},{key:"getTMSDetails",value:function(){var t=this,e=this._datePipe.transform(this.startDate,"yyyy/MM/dd"),i=this._datePipe.transform(this.endDate,"yyyy/MM/dd");this._episodesService.getPatientCommunications(this.patientId,e,i).subscribe(function(e){e&&(t.tmsDetails=n(e))})}}]),t}()).\u0275fac=function(t){return new(t||dt)(h.Rb(S.a),h.Rb(z.a),h.Rb(y.e),h.Rb(rt.a))},dt.\u0275cmp=h.Lb({type:dt,selectors:[["app-vital-notes"]],inputs:{patientId:"patientId",episodeId:"episodeId",vitalType:"vitalType",episodeType:"episodeType",startDate:"startDate",endDate:"endDate"},decls:2,vars:2,consts:[[4,"ngIf"],["id","heading-wrapper"],["id","heading"],[4,"ngFor","ngForOf"],["nz-typography","",1,"sub-heading"],[1,"content"]],template:function(t,e){1&t&&(h.Vc(0,st,6,1,"ng-container",0),h.Vc(1,ut,6,1,"ng-container",0)),2&t&&(h.rc("ngIf",e.notesHistory&&e.notesHistory.length&&"RPM"!==e.episodeType),h.Db(1),h.rc("ngIf","RPM"===e.episodeType&&e.tmsDetails&&e.tmsDetails.length))},directives:[y.q,y.p,j.a],pipes:[y.e],styles:["#heading-wrapper[_ngcontent-%COMP%]{border-left:2px solid var(--primary-color);padding-left:2.5%}#heading[_ngcontent-%COMP%]{font-size:16px}.sub-heading[_ngcontent-%COMP%]{font-size:12px;color:#949494}.content[_ngcontent-%COMP%]{font-size:12px;color:var(--light-black)}"]}),dt),bt=i("dRHE");function ht(t,e){if(1&t&&(h.Xb(0,"span",18),h.Xc(1),h.Wb()),2&t){var n=h.ic();h.Db(1),h.Yc(n.patientName)}}function gt(t,e){if(1&t&&(h.Xb(0,"span",19),h.Xc(1),h.jc(2,"date"),h.Wb()),2&t){var n=h.ic();h.Db(1),h.ad(" | ",n.getAge(n.patientDOB)||""," years (",h.lc(2,2,n.patientDOB,"mediumDate"),")")}}function ft(t,e){if(1&t&&(h.Xb(0,"span",19),h.Xc(1),h.jc(2,"slice"),h.Wb()),2&t){var n=h.ic();h.Db(1),h.Zc(", ",h.mc(2,1,n.patientGender,0,1),"")}}function vt(t,e){if(1&t){var n=h.Yb();h.Vb(0),h.Xc(1," \xa0 "),h.Sb(2,"nz-divider",8),h.Xc(3," \xa0 "),h.Xb(4,"app-icons",21),h.ec("click",function(){return h.Lc(n),h.ic(2).initiateAudioCall()}),h.Wb(),h.Ub()}2&t&&(h.Db(4),h.rc("altColorScheme",!0))}var mt=function(){return["AUDIO_CALL"]};function St(t,e){1&t&&(h.Vb(0),h.Vc(1,vt,5,1,"ng-container",20),h.Ub()),2&t&&(h.Db(1),h.rc("isFeaturePermitted",h.xc(1,mt)))}function yt(t,e){if(1&t&&(h.Vb(0),h.Sb(1,"nz-option",27),h.Ub()),2&t){var n=e.$implicit;h.Db(1),h.rc("nzValue",null==n?null:n.type)("nzLabel",null==n?null:n.label)}}function Tt(t,e){if(1&t&&(h.Vb(0),h.Sb(1,"nz-option",27),h.Ub()),2&t){var n=e.$implicit;h.Db(1),h.rc("nzValue",n.label)("nzLabel",null==n?null:n.label)}}function Ct(t,e){if(1&t){var n=h.Yb();h.Vb(0),h.Xb(1,"h5",23),h.Xc(2,"Contexts:"),h.Wb(),h.Xb(3,"nz-select",28),h.ec("ngModelChange",function(t){return h.Lc(n),h.ic(2).selectedContext=t})("ngModelChange",function(t){return h.Lc(n),h.ic(2).populateGraphWithContextData(null,t)}),h.Vc(4,Tt,2,2,"ng-container",25),h.Sb(5,"nz-option",29),h.Wb(),h.Ub()}if(2&t){var i=h.ic(2);h.Db(3),h.rc("ngModel",i.selectedContext),h.Db(1),h.rc("ngForOf",null==i.vitalBlueprint||null==i.vitalBlueprint.contexts[0]?null:i.vitalBlueprint.contexts[0].options)}}function Et(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div",30),h.Xb(1,"label",31),h.ec("ngModelChange",function(t){return h.Lc(n),h.ic(2).includeVitals=t}),h.Xc(2,"Include Vital Listings"),h.Wb(),h.Xc(3," \xa0 "),h.Xb(4,"label",31),h.ec("ngModelChange",function(t){return h.Lc(n),h.ic(2).includeTMS=t}),h.Xc(5,"Include TMS Notes"),h.Wb(),h.Wb()}if(2&t){var i=h.ic(2);h.Db(1),h.rc("ngModel",i.includeVitals),h.Db(3),h.rc("ngModel",i.includeTMS)}}function It(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div",0),h.Xb(1,"div",22),h.Xb(2,"h5",23),h.Xc(3,"Vital Signs:"),h.Wb(),h.Xb(4,"nz-select",24),h.ec("ngModelChange",function(t){return h.Lc(n),h.ic().vitalType=t})("ngModelChange",function(){return h.Lc(n),h.ic().refresh()}),h.Vc(5,yt,2,2,"ng-container",25),h.Wb(),h.Wb(),h.Xb(6,"div",22),h.Vc(7,Ct,6,2,"ng-container",4),h.Wb(),h.Vc(8,Et,6,2,"div",26),h.Wb()}if(2&t){var i=h.ic();h.Db(4),h.rc("ngModel",i.vitalType),h.Db(1),h.rc("ngForOf",i.vitalBlueprints),h.Db(2),h.rc("ngIf",null==i.vitalBlueprint||null==i.vitalBlueprint.contexts?null:i.vitalBlueprint.contexts.length),h.Db(1),h.rc("ngIf",i.isEmailVisible)}}var Mt=function(){return[16,16]};function At(t,e){1&t&&(h.Xb(0,"div",32),h.Xb(1,"div",33),h.Xb(2,"label",51),h.Xc(3,"Required"),h.Wb(),h.Wb(),h.Wb()),2&t&&h.rc("nzGutter",h.xc(1,Mt))}var _t=function(t){return{abnormal:t}};function Dt(t,e){if(1&t&&(h.Xb(0,"span",52),h.Xc(1),h.Wb()),2&t){var n=e.$implicit,i=h.ic(2);h.rc("ngClass",h.yc(2,_t,i.validateEmail(n.nzLabel))),h.Db(1),h.Zc(" ",n.nzLabel," ")}}function zt(t,e){1&t&&(h.Xb(0,"div",32),h.Xb(1,"div",33),h.Xb(2,"label",51),h.Xc(3,"Required"),h.Wb(),h.Wb(),h.Wb()),2&t&&h.rc("nzGutter",h.xc(1,Mt))}function Ot(t,e){1&t&&(h.Xb(0,"div",32),h.Xb(1,"div",33),h.Xb(2,"label",51),h.Xc(3,"A valid email address looks like example@email.com"),h.Wb(),h.Wb(),h.Wb()),2&t&&h.rc("nzGutter",h.xc(1,Mt))}function kt(t,e){1&t&&(h.Xb(0,"div",32),h.Xb(1,"div",33),h.Xb(2,"label",51),h.Xc(3,"Required"),h.Wb(),h.Wb(),h.Wb()),2&t&&h.rc("nzGutter",h.xc(1,Mt))}var Nt=function(t){return{error:t}};function Pt(t,e){if(1&t){var n=h.Yb();h.Vb(0),h.Sb(1,"br"),h.Xb(2,"div",32),h.Xb(3,"div",33),h.Xb(4,"nz-select",34),h.ec("ngModelChange",function(t){return h.Lc(n),h.ic().subjectType=t})("ngModelChange",function(t){return h.Lc(n),h.ic().subject=t}),h.Sb(5,"nz-option",35),h.Sb(6,"nz-option",36),h.Sb(7,"nz-option",37),h.Sb(8,"nz-option",38),h.Wb(),h.Wb(),h.Wb(),h.Xb(9,"div",39),h.Xb(10,"div",33),h.Xb(11,"input",40,41),h.ec("ngModelChange",function(t){return h.Lc(n),h.ic().subject=t}),h.Wb(),h.Wb(),h.Wb(),h.Vc(13,At,4,2,"div",42),h.Xb(14,"div",32),h.Xb(15,"div",33),h.Xb(16,"nz-select",43,44),h.ec("ngModelChange",function(t){return h.Lc(n),h.ic().emailIds=t})("ngModelChange",function(){return h.Lc(n),h.ic().validate()}),h.Wb(),h.Vc(18,Dt,2,4,"ng-template",null,45,h.Wc),h.Wb(),h.Wb(),h.Vc(20,zt,4,2,"div",42),h.Vc(21,Ot,4,2,"div",42),h.Xb(22,"div",32),h.Xb(23,"div",33),h.Xb(24,"textarea",46,47),h.ec("ngModelChange",function(t){return h.Lc(n),h.ic().note=t}),h.jc(26,"translate"),h.Wb(),h.Wb(),h.Xb(27,"div",48),h.Xb(28,"button",49),h.ec("click",function(){return h.Lc(n),h.ic().getReport()}),h.Xc(29,"Preview"),h.Wb(),h.Xc(30," \xa0 "),h.Xb(31,"button",50),h.ec("click",function(){return h.Lc(n),h.ic().sendMail()}),h.Xc(32),h.jc(33,"translate"),h.Wb(),h.Wb(),h.Wb(),h.Vc(34,kt,4,2,"div",42),h.Ub()}if(2&t){var i=h.Ic(12),a=h.Ic(19),o=h.Ic(25),r=h.ic();h.Db(2),h.rc("nzGutter",h.xc(23,Mt)),h.Db(2),h.rc("ngModel",r.subjectType)("ngClass",h.yc(24,Nt,(null==i?null:i.invalid)&&!(null==i||!i.errors.required))),h.Db(5),h.rc("nzGutter",h.xc(26,Mt))("hidden","CUSTOM"!==r.subjectType),h.Db(2),h.rc("ngModel",r.subject)("ngClass",h.yc(27,Nt,((null==i?null:i.dirty)||(null==i?null:i.touched))&&(null==i?null:i.invalid)&&!(null==i||!i.errors.required))),h.Db(2),h.rc("ngIf",(null==i?null:i.invalid)&&((null==i?null:i.dirty)||(null==i?null:i.touched))&&(null==i?null:i.errors.required)),h.Db(1),h.rc("nzGutter",h.xc(29,Mt)),h.Db(2),h.rc("ngModel",r.emailIds)("nzCustomTemplate",a),h.Db(4),h.rc("ngIf",!!r.errors.includes("INVALID_EMAIL")),h.Db(1),h.rc("ngIf",!!r.errors.includes("INVALID_EMAIL_FORMAT")),h.Db(1),h.rc("nzGutter",h.xc(30,Mt)),h.Db(2),h.sc("placeholder",h.kc(26,19,"ASSESSMENT.TYPE_MSG")),h.rc("ngModel",r.note)("ngClass",h.yc(31,Nt,((null==o?null:o.dirty)||(null==o?null:o.touched))&&(null==o?null:o.invalid)&&!(null==o||!o.errors.required))),h.Db(8),h.Yc(h.kc(33,21,"COMMON.SEND")),h.Db(2),h.rc("ngIf",(null==o?null:o.invalid)&&((null==o?null:o.dirty)||(null==o?null:o.touched))&&(null==o?null:o.errors.required))}}function Rt(t,e){if(1&t&&(h.Vb(0),h.Sb(1,"app-last-measured-vital",57),h.Ub()),2&t){var n=h.ic(2);h.Db(1),h.rc("vitalBlueprint",n.vitalBlueprint)("vital",n.vitals[0])}}function Xt(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"div",53),h.Xb(2,"div",54),h.Vc(3,Rt,2,2,"ng-container",4),h.Wb(),h.Xb(4,"div",55),h.Sb(5,"app-global-and-individual-limits",56),h.Wb(),h.Wb(),h.Sb(6,"br"),h.Sb(7,"br"),h.Ub()),2&t){var n=h.ic();h.Db(3),h.rc("ngIf",n.vitals&&n.vitals.length),h.Db(2),h.rc("vitalBlueprint",n.vitalBlueprint)("patientName",n.patientName)("context",n.contextOption)("individualLimits",n.individualLimits)}}function Lt(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div",55),h.Xb(1,"button",66),h.ec("click",function(){return h.Lc(n),h.ic(2).onTMSClick()}),h.Xc(2," Add TMS "),h.Wb(),h.Wb()}}function wt(t,e){if(1&t){var n=h.Yb();h.Vb(0),h.Sb(1,"br"),h.Sb(2,"br"),h.Xb(3,"div",58),h.Xb(4,"div",59),h.Xb(5,"h3"),h.Xc(6),h.jc(7,"date"),h.jc(8,"date"),h.Wb(),h.Wb(),h.Sb(9,"br"),h.Xb(10,"google-chart",60),h.ec("select",function(t){return h.Lc(n),h.ic().onSelect(t)}),h.Wb(),h.Sb(11,"br"),h.Sb(12,"app-context-limits",61),h.Sb(13,"app-vitals-table",62),h.Wb(),h.Sb(14,"br"),h.Sb(15,"br"),h.Sb(16,"app-vital-notes",63),h.Xb(17,"div",64),h.Vc(18,Lt,3,0,"div",65),h.Wb(),h.Ub()}if(2&t){var i=h.ic();h.Db(6),h.ad("",h.lc(7,18,i.dateRange[0],"mediumDate")," - ",h.lc(8,21,i.dateRange[1],"mediumDate"),""),h.Db(4),h.rc("data",i.chartData)("columns",i.columnNames)("options",i.options),h.Db(2),h.rc("patientName",i.patientName)("vitalBlueprint",i.vitalBlueprint),h.Db(1),h.rc("vitalBlueprint",i.vitalBlueprint)("vitals",i.vitals)("careplanId",i.careplanId)("patientId",i.patientId),h.Db(3),h.rc("patientId",i.patientId)("vitalType",i.vitalType)("episodeId",i.episodeId)("episodeType",i.episodeType)("startDate",i.dateRange[0])("endDate",i.dateRange[1]),h.Db(2),h.rc("ngIf",i.episode&&"RPM"===(null==i.episode?null:i.episode.episodeType))}}var Wt,Vt=((Wt=function(t){o(i,t);var e=c(i);function i(t,n,a,o,r,c,s,p,b,h,g,f,v,m){var S;return u(this,i),(S=e.call(this))._patientsService=t,S._vitalBlueprintsService=n,S._vitalsService=a,S._userVitalAlertService=o,S._analyticsService=r,S._notificationsService=c,S._modelRef=s,S.datePipe=p,S._dataSharingService=b,S.translationService=h,S._vitalsEventLogger=g,S._episodesService=f,S._router=v,S._patientComunicationModalService=m,S.chooseVitalType=!0,S.vitals=[],S.vitalsOriginal=[],S.dateLabels=[],S.totalVitalsToFetch="10",S.isChartLoading=!0,S.columnNames=[],S.options={hAxis:{title:"Dates - Measured On",textStyle:{fontSize:12},direction:-1},curveType:"function",pointSize:5,width:(window.innerWidth-.25*window.innerWidth).toString(),height:450,legend:{position:"bottom"},selectionMode:"multiple",animation:{startup:!0,duration:1e3}},S.subjectType="Vital Trend Report",S.subject="Vital Trend Report",S.note="",S.errors=[],S.selectedContext="",S.dateRange=[Object(l.a)(Date.now()),new Date],S.headerSpan=10,S.nzNotificationOptions={nzStyle:{zIndex:1e3}},S.disabledDates=function(t){return Object(d.a)(new Date,t)<0},S.validateEmail=function(t){return!/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)},S._dataSharingService.tenantSettings.subscribe(function(t){var e;t&&(S.isAudioCallEnabled=null===(e=null==t?void 0:t.audioCallConfig)||void 0===e?void 0:e.enabled,S.showBpConfidenceScore=t.deviceConfig.showBpConfidenceScore)}),S.includeVitals=!0,S.includeTMS=!0,S}return p(i,[{key:"ngOnInit",value:function(){this.chooseVitalType||(this.headerSpan=24),this.loadTenantBlueprintAndUserVitalAlerts(),this.initTranslation(),this.getEpisodesData()}},{key:"ngOnDestroy",value:function(){this.closeDialog()}},{key:"initTranslation",value:function(){var t=this;this.translationService.getMultiple("PATIENT_NOT_RECORDED_ANY_VITALS","TMS","TMS.CANNOT_ADD_TMS_CAREPLAN_NOT_ASSIGNED","TMS.TWENTY_MINS_RECORDED_ADD_ADDITIONAL_TMS","TMS.TMS_TIME_INCOMPLETE").pipe(Object(r.a)(this.unsubscribed)).subscribe(function(e){return t.translatedStrings=e})}},{key:"loadTenantBlueprintAndUserVitalAlerts",value:function(){var t=this,e=this._vitalBlueprintsService.fetchVitalBlueprintsForTenant(),n=this._userVitalAlertService.fetchVitalBlueprintsOfUser(this.patientId);Object(_.a)([e,n]).subscribe(function(e){var n,i;t.vitalBlueprints=e[0],t.userVitalAlerts=e[1],(null===(n=t.vitalBlueprints)||void 0===n?void 0:n.length)&&(t.vitalType||(t.vitalType=t.vitalBlueprints.some(function(t){return"BLOOD_PRESSURE"===(null==t?void 0:t.type)})?D.a.BLOOD_PRESSURE:t.vitalBlueprints[0].type),(null===(i=t.userVitalAlerts)||void 0===i?void 0:i.length)>0&&t.getIndividualLimitForSelectedVital(),t.getVitalsHistory(t.dateRange[0].getTime(),t.dateRange[1].getTime(),-1))})}},{key:"onSelect",value:function(t){var e=this.chartData[t[0].row];this.chartData[t[0].column];this.chartData.forEach(function(t){0<e&&t.length})}},{key:"getVitalsHistory",value:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;this.isChartLoading=!0,this._vitalsEventLogger.vitalHistoryEvent(this.patientId,this.vitalType,"",t,e),this._patientsService.getVitalHistory(this.patientId,this.vitalType,t,e,a).subscribe(function(t){var e;if(i.vitalBlueprint=t.vitalBlueprint,i.vitals=n(t.vitals),i.vitalsOriginal=JSON.parse(JSON.stringify(i.vitals)),i.vitalBlueprint.contexts&&i.vitalBlueprint.contexts.length){if(i.selectedContext=i.vitalBlueprint.contexts[0].options[0].label,null===(e=i.vitals)||void 0===e?void 0:e.length){var a=JSON.parse(i.vitals[0].context)||"";i.selectedContext=a[Object.keys(a)[0]]}i.populateGraphWithContextData(i.vitalBlueprint.contexts[0].label,i.selectedContext)}else{if(!i.vitals.length)return i._notificationsService.warning("View Vitals",i.translatedStrings.get("PATIENT_NOT_RECORDED_ANY_VITALS").replace("{PATIENT_NAME}",i.patientName),{nzStyle:{zIndex:1e3}}),void(i.isChartLoading=!0);i.populateChart(),i.getPatientVitalAlerts()}})}},{key:"getIndividualLimitForSelectedVital",value:function(t){var e,n,i=this;this.individualLimits=new Array,t?(this.contextOption=t,null===(e=this.userVitalAlerts)||void 0===e||e.filter(function(t){return t.vital===i.vitalType&&t.enabled}).map(function(e){return e.contexts.filter(function(e){return e.answer===t}).map(function(t){var e=new A.a;e.label=t.answer,e.min=t.limit.min,e.max=t.limit.max,i.individualLimits.push(e)})})):this.vitalType&&(this.contextOption=null,null===(n=this.userVitalAlerts)||void 0===n||n.filter(function(t){return t.vital===i.vitalType&&t.enabled}).map(function(t){var e=new A.a;e.label=t.parameter,e.min=t.limit.min,e.max=t.limit.max,i.individualLimits.push(e)}))}},{key:"getPatientVitalAlerts",value:function(){var t=this;this._vitalsService.getVitalAlertsForUser(this.patientId).subscribe(function(e){e&&e.length&&(t.patientVitalLimits=e.filter(function(e){return t.vitalType===e.vitalType}))})}},{key:"getParameterValue",value:function(t,e){try{var n=t.type,i=t.label,a=JSON.parse(e.parameters),o=a[n=Object.keys(a).find(function(t){return t.toLowerCase()===n.toLowerCase()||t.toLowerCase()===i.toLowerCase()})];return"null"==o||null==o||""==o||"NOTES"==o||"notes"==o?"-":o}catch(r){}return 0}},{key:"getVitalsForLastDates",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=864e5*(t+1),n=(new Date).setHours(23,59,59,999);this.dateRange=[new Date(n-e+1),new Date(n)],this.getVitalsHistory(this.dateRange[0].getTime(),this.dateRange[1].getTime(),-1)}},{key:"onDateChange",value:function(){this.dateRange[0].setHours(0,0,0,0),this.dateRange[1].setHours(23,59,59,999),this.getVitalsHistory(this.dateRange[0].getTime(),this.dateRange[1].getTime(),-1)}},{key:"getFullDate",value:function(t){var e=new Date(t);return this.datePipe.transform(e,"MMM d, h:mm a")}},{key:"plotDataPointsForChart",value:function(){var t=this;this.columnNames=["Dates"];var e=[],n=[],i=new Map;return this.vitalBlueprint.parameters.forEach(function(e){n.push(e.type.toLowerCase()),i.set(e.type.toLowerCase(),e.label),t.columnNames.push(e.label)}),this.vitals.forEach(function(a,o){try{var r=JSON.parse(a.parameters),c=[],s=0;c.push(t.getFullDate(a.takenAt+"Z")),n.forEach(function(t){var e=i.get(t)||"",n=Object.keys(r).find(function(n){return n.toLowerCase()===t.toLowerCase()||n.toLowerCase()===e.toLowerCase()||t.toLowerCase()==="HEARTRATE".toLowerCase()&&n.toLowerCase()==="HEART_RATE".toLowerCase()});s=parseFloat(r[n])||0,c.push(s)}),e.push(c)}catch(l){}}),e}},{key:"populateChart",value:function(){this.chartData=this.plotDataPointsForChart(),this.isChartLoading=!1}},{key:"populateGraphWithContextData",value:function(t,e){var n=this;if(t||(t=this.vitalBlueprint.contexts[0].label),this.vitals=[],this.getIndividualLimitForSelectedVital(e),this.vitalsOriginal.forEach(function(i){if(e||i.context){if(i.context)try{var a=JSON.parse(i.context);e===a[t]&&n.vitals.push(i)}catch(o){}}else n.vitals.push(i)}),!this.vitals.length)return this._notificationsService.error("Vital Contexts","No vitals are available:\xa0".concat(e)),void(this.isChartLoading=!0);this.populateChart()}},{key:"refresh",value:function(){this.isChartLoading=!0,this.getIndividualLimitForSelectedVital(),this.getVitalsHistory(this.dateRange[0].getTime(),this.dateRange[1].getTime(),-1)}},{key:"closeDialog",value:function(){this._modelRef.close(this.tmsAdded)}},{key:"showEmailInput",value:function(){var t=this;this.includeVitals=!this.includeVitals,this.includeTMS=!this.includeTMS,this._dataSharingService.tenantSettings.pipe(Object(r.a)(this.unsubscribed)).subscribe(function(e){var n;e&&((null===(n=null==e?void 0:e.tenantSupport)||void 0===n?void 0:n.internalEmail)&&(t.emailIds||(t.emailIds=[]),t.emailIds.push(e.tenantSupport.internalEmail)),t.isEmailVisible=!t.isEmailVisible)}),this.initialiseNoteString()}},{key:"initialiseNoteString",value:function(){var t=localStorage.getItem("loggedInUserName");this.note="Hi,\n\nPlease find attached the vital report for patient: ".concat(this.patientName,"\n\nThe report has been shared with you by ").concat(t)}},{key:"createGenerateVitalHistoryReportRequest",value:function(t,e,n,i,a,o,r){return{patientId:t,vitalType:e,startDate:this.datePipe.transform(n,"yyyy-MM-dd"),endDate:this.datePipe.transform(i,"yyyy-MM-dd"),emailIds:a,subject:o,note:r}}},{key:"validate",value:function(){var t,e,n,i,a,o=this;this.errors=[];var r=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return(null===(t=this.emailIds)||void 0===t?void 0:t.length)||this.errors.push("INVALID_EMAIL"),null===(e=this.emailIds)||void 0===e||e.forEach(function(t){var e;r.test(t)||-1!==(null===(e=o.errors)||void 0===e?void 0:e.findIndex(function(t){return"INVALID_EMAIL_FORMAT"===t}))||o.errors.push("INVALID_EMAIL_FORMAT")}),(null===(n=this.subject)||void 0===n?void 0:n.length)||this.errors.push("INVALID_SUBJECT"),(null===(i=this.note)||void 0===i?void 0:i.length)||this.errors.push("INVALID_NOTE"),!(null===(a=this.errors)||void 0===a?void 0:a.length)}},{key:"sendMail",value:function(){var t,e=this;this.validate()&&("BLOOD_PRESSURE"!==this.vitalType&&"BLOOD_GLUCOSE"!==this.vitalType?(this._vitalsEventLogger.shareReportEvent(this.patientId,null===(t=this.emailIds)||void 0===t?void 0:t.join(),"vitals","vital_history_report"),this._analyticsService.generateVitalHistoryReport(this.createGenerateVitalHistoryReportRequest(this.patientId,this.vitalType,this.dateRange[0].toISOString(),this.dateRange[1].toISOString(),this.emailIds,this.subject,this.note)).subscribe(function(){e.isEmailVisible=!1,e.emailIds=[],e._notificationsService.success("Vital Report","Report shared via e-mail successfully")})):this.getReport("share"))}},{key:"getDateForReport",value:function(t){return this.datePipe.transform(t,"yyyy-MM-dd")}},{key:"getReport",value:function(){var t,e,n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"preview";if("BLOOD_PRESSURE"===this.vitalType){var a=this._router.serializeUrl(this._router.createUrlTree(["/analytics/reports/vital-snapshots/printable/blood-pressure/"+this.patientId],{queryParams:{startDate:this.getDateForReport(this.dateRange[0]),endDate:this.getDateForReport(this.dateRange[1]),action:i,email:null===(t=this.emailIds)||void 0===t?void 0:t.join(","),subject:this.subject,note:this.note,includeVitals:this.includeVitals,includeTMS:this.includeTMS}}));window.open(a,"_blank")}else if("BLOOD_GLUCOSE"===this.vitalType){var o=this._router.serializeUrl(this._router.createUrlTree(["/analytics/reports/vital-snapshots/printable/blood-glucose",this.patientId],{queryParams:{startDate:this.getDateForReport(this.dateRange[0]),endDate:this.getDateForReport(this.dateRange[1]),action:i,email:null===(e=this.emailIds)||void 0===e?void 0:e.join(","),subject:this.subject,note:this.note,includeVitals:this.includeVitals,includeTMS:this.includeTMS}}));window.open(o,"_blank")}else this._vitalsEventLogger.downloadStartReportEvent(this.patientId,"","vitals","vitals_history_report"),this._analyticsService.generateVitalHistoryReport(this.createGenerateVitalHistoryReportRequest(this.patientId,this.vitalType,this.dateRange[0].toISOString(),this.dateRange[1].toISOString())).subscribe(function(t){n._analyticsService.fetchBlobForReport(b.g.url+"/v2/media/"+t.filename).subscribe(function(t){var e=new Blob([t],{type:"application/pdf"}),i=URL.createObjectURL(e);n._vitalsEventLogger.downloadSuccessReportEvent(n.patientId,i,"vitals","vitals_history_report"),window.open(i)})},function(t){n._vitalsEventLogger.downloadFailReportEvent(n.patientId,"",t.error.message,"vitals","vitals_history_report")});"preview"!==i&&(this.emailIds=[])}},{key:"getAge",value:function(t){var e=Date.now()-new Date(t).getTime(),n=new Date(e);return Math.abs(n.getUTCFullYear()-1970)}},{key:"getEpisodesData",value:function(){var t=this;this._episodesService.getActiveEpisode(this.patientId,"RPM").subscribe(function(e){var n;(null==e?void 0:e.length)&&(t.episode=e[0],t.episodeId=null===(n=t.episode)||void 0===n?void 0:n.id)})}},{key:"onTMSClick",value:function(){var t,e,n=this;this.tmsPercent<100?(t="TMS",e=O.a.TREATMENT_MANAGEMENT_SERVICE):this.additionalTMSPercent<100?(t="ADDITIONAL_TMS",e=O.a.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE):(t="ADDITIONAL_TMS_B",e=O.a.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B);var i=new Date(this.carePlanStartDate);this.carePlanStartDate?this._patientsService.getSpecificUser(this.patientId).subscribe(function(a){n._patientComunicationModalService.createTMSModal(a,n.episodeId,t,e,i).afterClose.pipe(Object(r.a)(n.unsubscribed)).subscribe(function(t){n.tmsAdded=t})}):this._notificationsService.error(this.translatedStrings.get("TMS"),this.translatedStrings.get("TMS.CANNOT_ADD_TMS_CAREPLAN_NOT_ASSIGNED"))}},{key:"initiateAudioCall",value:function(){var t=this;this._patientsService.getSpecificUser(this.patientId).subscribe(function(e){t._dataSharingService.setVoiceCallInitiated({patient:e,enableRecording:!1,context:N.a.DEFAULT})})}}]),i}(s.a)).\u0275fac=function(t){return new(t||Wt)(h.Rb(S.a),h.Rb(T.a),h.Rb(f),h.Rb(M.a),h.Rb(v.a),h.Rb(P.b),h.Rb(R.e),h.Rb(y.e),h.Rb(C.a),h.Rb(E.a),h.Rb(I.a),h.Rb(z.a),h.Rb(X.g),h.Rb(k.a))},Wt.\u0275cmp=h.Lb({type:Wt,selectors:[["app-vital-details"]],inputs:{patientId:"patientId",episodeId:"episodeId",carePlanId:"carePlanId",patientName:"patientName",patientDOB:"patientDOB",patientGender:"patientGender",patientStatus:"patientStatus",vitalType:"vitalType",episodeType:"episodeType",carePlanStartDate:"carePlanStartDate",tmsPercent:"tmsPercent",additionalTMSPercent:"additionalTMSPercent",chooseVitalType:"chooseVitalType"},features:[h.Cb([y.e,m.a]),h.Ab],decls:44,vars:34,consts:[["nz-row","","nzGutter","16"],["nz-col","","nzSpan","14"],["id","heading",4,"ngIf"],["class","sub-heading",4,"ngIf"],[4,"ngIf"],["nz-col","","id","header-actions",3,"nzSpan"],["nz-button","","nzType","primary",1,"report-actions",3,"nzSize","click"],["size","10px","color","#ffffff","name","download"],["nzType","vertical"],["size","10px","color","#ffffff","name","deploymentUnit"],["nz-row","","nzGutter","16",4,"ngIf"],["id","last-values-heading-wrapper"],["id","last-value-heading"],["nz-row",""],["nz-col","","nzSpan","12","nzGutter","32"],["nz-button","","nzType","default","nzShape","round",1,"date-buttons",3,"nzSize","click"],["nz-col","","nzSpan","12","nzGutter","16"],[3,"ngModel","nzDisabledDate","ngModelChange"],["id","heading"],[1,"sub-heading"],[4,"isFeaturePermitted"],["id","audio-call","name","callFilled","size","16px",3,"altColorScheme","click"],["nz-col","","nzSpan","5"],["nz-typography","",1,"minor-headings"],["id","blueprint-selector",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["nz-col","","nzSpan","14","id","shareOptions",4,"ngIf"],[3,"nzValue","nzLabel"],["id","context-selector",3,"ngModel","ngModelChange"],["nzValue","","nzLabel","No Context"],["nz-col","","nzSpan","14","id","shareOptions"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","18"],["nzPlaceHolder","Subject",3,"ngModel","ngClass","ngModelChange"],["nzValue","Vital Trend Report","nzLabel","Vital Trend Report"],["nzValue","Notification from Cooey Health","nzLabel","Notification from Cooey Health"],["nzValue","Escalation from Cooey Health","nzLabel","Escalation from Cooey Health"],["nzValue","CUSTOM","nzLabel","Custom"],["nz-row","",3,"nzGutter","hidden"],["required","","nz-input","","placeholder","Subject","id","subjectModel","name","subjectModel",3,"ngModel","ngClass","ngModelChange"],["subjectModel","ngModel"],["nz-row","",3,"nzGutter",4,"ngIf"],["id","emailModel","name","emailModel","nzMode","tags","nzPlaceHolder","Email IDs",3,"ngModel","nzCustomTemplate","ngModelChange"],["emailModel","ngModel"],["defaultTemplate",""],["required","","rows","6","nz-input","","id","noteModel","name","noteModel",3,"placeholder","ngModel","ngClass","ngModelChange"],["noteModel","ngModel"],["nz-col","","nzSpan","6","id","share"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"],["nz-typography","","nzType","danger"],[3,"ngClass"],["nz-row","","nzGutter","32"],["nz-col","","nzSpan","11","id","last-values"],["nz-col","","nzSpan","12"],[3,"vitalBlueprint","patientName","context","individualLimits"],[3,"vitalBlueprint","vital"],["id","history-container"],["id","date-range"],["type","LineChart",3,"data","columns","options","select"],[3,"patientName","vitalBlueprint"],[3,"vitalBlueprint","vitals","careplanId","patientId"],[3,"patientId","vitalType","episodeId","episodeType","startDate","endDate"],["nz-row","","id","actions"],["nz-col","","nzSpan","12",4,"ngIf"],["nz-button","","nzType","primary","id","tms",3,"click"]],template:function(t,e){1&t&&(h.Xb(0,"div",0),h.Xb(1,"div",1),h.Vc(2,ht,2,1,"span",2),h.Vc(3,gt,3,5,"span",3),h.Vc(4,ft,3,5,"span",3),h.Vc(5,St,2,2,"ng-container",4),h.Wb(),h.Xb(6,"div",5),h.Xb(7,"button",6),h.ec("click",function(){return e.getReport("download")}),h.Sb(8,"app-icons",7),h.Xc(9),h.jc(10,"translate"),h.Wb(),h.Sb(11,"nz-divider",8),h.Xb(12,"button",6),h.ec("click",function(){return e.showEmailInput()}),h.Sb(13,"app-icons",9),h.Xc(14),h.jc(15,"translate"),h.Wb(),h.Xc(16," \xa0\xa0 "),h.Wb(),h.Wb(),h.Sb(17,"br"),h.Vc(18,It,9,4,"div",10),h.Vc(19,Pt,35,33,"ng-container",4),h.Sb(20,"br"),h.Sb(21,"br"),h.Vc(22,Xt,8,5,"ng-container",4),h.Xb(23,"div",11),h.Xb(24,"h3",12),h.Xc(25),h.jc(26,"translate"),h.Wb(),h.Wb(),h.Sb(27,"br"),h.Xb(28,"div",13),h.Xb(29,"div",14),h.Xb(30,"button",15),h.ec("click",function(){return e.getVitalsForLastDates(3)}),h.Xc(31),h.jc(32,"translate"),h.Wb(),h.Sb(33,"nz-divider",8),h.Xb(34,"button",15),h.ec("click",function(){return e.getVitalsForLastDates(5)}),h.Xc(35),h.jc(36,"translate"),h.Wb(),h.Sb(37,"nz-divider",8),h.Xb(38,"button",15),h.ec("click",function(){return e.getVitalsForLastDates(10)}),h.Xc(39),h.jc(40,"translate"),h.Wb(),h.Wb(),h.Xb(41,"div",16),h.Xb(42,"nz-range-picker",17),h.ec("ngModelChange",function(t){return e.dateRange=t})("ngModelChange",function(){return e.onDateChange()}),h.Wb(),h.Wb(),h.Wb(),h.Vc(43,wt,19,24,"ng-container",4)),2&t&&(h.Db(2),h.rc("ngIf",e.patientName),h.Db(1),h.rc("ngIf",e.patientDOB),h.Db(1),h.rc("ngIf",e.patientGender),h.Db(1),h.rc("ngIf",e.isAudioCallEnabled&&"DISCHARGED"!==e.patientStatus),h.Db(1),h.rc("nzSpan",10),h.Db(1),h.rc("nzSize","middle"),h.Db(2),h.Zc(" \xa0 ",h.kc(10,22,"PATIENTS.REPORTDOWNLOAD")," "),h.Db(3),h.rc("nzSize","middle"),h.Db(2),h.Zc(" \xa0 ",h.kc(15,24,"PATIENTS.REPORTSHARE")," "),h.Db(4),h.rc("ngIf",e.chooseVitalType),h.Db(1),h.rc("ngIf",e.isEmailVisible),h.Db(3),h.rc("ngIf",!e.isChartLoading),h.Db(3),h.Zc(" ",h.kc(26,26,"COMMON.VITAL_HISTORY")," "),h.Db(5),h.rc("nzSize","medium"),h.Db(1),h.Zc(" ",h.kc(32,28,"FILTER.LAST_3_DAYS")," "),h.Db(3),h.rc("nzSize","medium"),h.Db(1),h.Zc(" ",h.kc(36,30,"FILTER.LAST_5_DAYS")," "),h.Db(3),h.rc("nzSize","medium"),h.Db(1),h.Zc(" ",h.kc(40,32,"FILTER.LAST_10_DAYS")," "),h.Db(3),h.rc("ngModel",e.dateRange)("nzDisabledDate",e.disabledDates),h.Db(1),h.rc("ngIf",!e.isChartLoading))},directives:[L.c,L.a,y.q,w.a,W.a,V.a,x.a,U.a,F.a,F.c,H.u,H.x,B.a,j.a,G.d,y.p,G.a,Y.a,y.o,q.b,H.d,H.C,Z.a,Q.a,K.a,at,ot.a,pt],pipes:[bt.a,y.e,y.z],styles:[".vital-main-container[_ngcontent-%COMP%]{background:#eff2f0 0 0 no-repeat padding-box}#blueprint-selector[_ngcontent-%COMP%], #context-selector[_ngcontent-%COMP%]{width:200px}#heading[_ngcontent-%COMP%]{font-size:20px}#heading[_ngcontent-%COMP%], .sub-heading[_ngcontent-%COMP%]{font-weight:500}.minor-headings[_ngcontent-%COMP%]{font-size:10px;color:var(--tertiary-color);margin-left:10px}#header-actions[_ngcontent-%COMP%]{text-align:center}#shareOptions[_ngcontent-%COMP%]{padding-top:25px}#last-values[_ngcontent-%COMP%]{background:var(--neutral-color) 0 0 no-repeat padding-box;box-shadow:0 3px 20px #0000000f;border-radius:15px;padding:25px 20px 0!important;margin-left:15px}#last-values-heading-wrapper[_ngcontent-%COMP%]{border-left:2px solid var(--primary-color);padding-left:2.5%}#last-value-heading[_ngcontent-%COMP%]{font-size:16px}#last-value-sub-heading[_ngcontent-%COMP%]{color:#949494}.clear-thead[_ngcontent-%COMP%]{background:transparent;font-size:15px;color:var(--light-black)}.clear-td[_ngcontent-%COMP%], .clear-thead[_ngcontent-%COMP%]{font-weight:300;border-bottom:none}.clear-td[_ngcontent-%COMP%]{font-size:20px}[_nghost-%COMP%]     .ant-select-selection{background:transparent;border:none;border-radius:0;border-bottom:1px solid var(--primary-color)}[_nghost-%COMP%]     .ant-select-arrow{color:var(--primary-color)}[_nghost-%COMP%]     .ant-table-placeholder{border-bottom:none!important}#history-container[_ngcontent-%COMP%]{background:var(--neutral-color) 0 0 no-repeat padding-box;border:1px solid var(--grey);border-radius:10px;padding:10px}.context-container[_ngcontent-%COMP%]{margin:auto;text-align:center}.context[_ngcontent-%COMP%]{margin:1%}.actions[_ngcontent-%COMP%]{cursor:pointer}.normal[_ngcontent-%COMP%]{color:var(--primary-color)}.abnormal[_ngcontent-%COMP%]{color:#c81c1c}.date-buttons[_ngcontent-%COMP%], .report-actions[_ngcontent-%COMP%]{font-size:12px}.date-buttons[_ngcontent-%COMP%]{border:1px solid var(--primary-color)}#date-range[_ngcontent-%COMP%]{padding:2%;font-size:12px;color:var(--light-black)}#share[_ngcontent-%COMP%]{margin-top:100px}.error[_ngcontent-%COMP%]{border:1px solid red;border-radius:7px!important}#tms[_ngcontent-%COMP%]{font-size:12px}#additional-tms[_ngcontent-%COMP%]{color:#dbdbdb;background:#949494;font-size:12px}#audio-call[_ngcontent-%COMP%]{vertical-align:middle}nz-divider[_ngcontent-%COMP%]{background:#a9a9a9}"]}),Wt)},XFrI:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function t(){u(this,t)}},"Y+n1":function(t,e,n){"use strict";n.r(e),n.d(e,"TemplatesModule",function(){return xe});var i=n("mUB+"),a={NoteListing:{header:!0,title:"Note Templates",searchEnabled:!0,primaryAction:{title:"Create",permissions:[],enabled:!0},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{},showTenantToggle:!0,subTenantToggleMode:"MULTI"},NoteForm:{header:!0,title:"Note Template Form",searchEnabled:!1,primaryAction:{title:"",permissions:[],enabled:!1},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{},showTenantToggle:!1},LetterListing:{header:!0,title:"Letter Templates",searchEnabled:!1,primaryAction:{title:"",permissions:[],enabled:!1},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{}},DefaultLetterListing:{header:!0,title:"Admin Letter Templates",searchEnabled:!1,primaryAction:{title:"Create",permissions:[],enabled:!1},secondaryAction:{title:"Bulk Upload",permissions:[],enabled:!0},multiAction:{}},LetterForm:{header:!0,title:"Letter Template Form",searchEnabled:!1,primaryAction:{title:"",permissions:[],enabled:!1},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{},showTenantToggle:!1},VariableList:{header:!0,title:"Merge Variables",searchEnabled:!1,primaryAction:{title:"Create",permissions:[],enabled:!0},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{}},VariableForm:{header:!0,title:"Merge Variable Form",searchEnabled:!1,primaryAction:{title:"",permissions:[],enabled:!1},secondaryAction:{title:"",permissions:[],enabled:!1},multiAction:{}}},r=n("tyNb"),s=n("T5gh"),l=n("bA1+"),d=n("+gyu"),b=n("qQcL"),h=n("pLZG"),g=n("1G5W"),f=n("nLCl"),v=n("igu/"),m=n("fXoL"),S=n("bNXi"),y=n("rMZv"),T=n("Szod"),C=n("ofXK"),E=n("eHCX"),I=n("glKu"),M=n("KupA"),A=n("ZyQt"),_=n("dRHE"),D=n("t2pg");function z(t,e){1&t&&(m.Xb(0,"th"),m.Xc(1," Sub Tenant "),m.Wb())}function O(t,e){if(1&t&&(m.Xb(0,"nz-tag"),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t){var n=e.$implicit;m.Db(1),m.Zc(" ",m.kc(2,1,n)," ")}}function k(t,e){if(1&t&&(m.Xb(0,"td"),m.Xc(1),m.jc(2,"tenantName"),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(1),m.Zc(" ",m.kc(2,1,n.tenantId)," ")}}function N(t,e){if(1&t){var n=m.Yb();m.Xb(0,"tr"),m.Xb(1,"td"),m.Xb(2,"strong",5),m.Xc(3),m.Wb(),m.Wb(),m.Xb(4,"td"),m.Vc(5,O,3,3,"nz-tag",4),m.Wb(),m.Vc(6,k,3,3,"td",3),m.Xb(7,"td"),m.Xb(8,"app-icons",6),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().edit(t.id)}),m.Wb(),m.Xc(9," \xa0\xa0 "),m.Xb(10,"app-icons",7),m.ec("nzOnConfirm",function(){m.Lc(n);var t=e.$implicit;return m.ic().delete(t.id)}),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit;m.Db(3),m.Zc(" ",i.title," "),m.Db(2),m.rc("ngForOf",i.tags)}}var P,R=((P=function(t){o(n,t);var e=c(n);function n(t,i,a,o){var r;return u(this,n),(r=e.call(this))._noteTemplatesService=t,r._router=i,r._notificationsService=a,r._dataSharingService=o,r.pageIndex=1,r.loading=!1,r._routeHelperService.isPrimaryActionTriggered().pipe(Object(h.a)(function(t){return!!t}),Object(g.a)(r.unsubscribed)).subscribe(function(){r._router.navigate(["templates/note-templates/form"])}),r._routeHelperService.getSearch().pipe(Object(h.a)(function(t){return t!=r.searchKey}),Object(g.a)(r.unsubscribed)).subscribe(function(t){r.searchKey=t,r.getNoteTemplates()}),localStorage.getItem("loggedInUserRole")==f.a.TENANT_ADMIN||r._routeHelperService.setPrimaryAction({}),r}return p(n,[{key:"ngOnInit",value:function(){var t=this;this.getNoteTemplates(),this._dataSharingService.onSubTenantChange().pipe(Object(g.a)(this.unsubscribed)).subscribe(function(e){t.onSubTenantChange(e)})}},{key:"onSubTenantChange",value:function(t){"object"==typeof t&&""!=t&&null!=t&&null!=t&&this.getNoteTemplates()}},{key:"getNoteTemplates",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this._noteTemplatesService.fetchNoteTemplates(e-1,10,this.searchKey).subscribe(function(e){t.noteTemplates=e,t.loading=!1})}},{key:"onQueryParamsChange",value:function(t){var e=t.pageIndex;this.getNoteTemplates(e)}},{key:"edit",value:function(t){this._router.navigate(["templates/note-templates/form/".concat(t)])}},{key:"delete",value:function(t){var e=this;this._noteTemplatesService.delete(t).subscribe(function(){e._notificationsService.success("Note Templates","Note template deleted successfully!"),e.getNoteTemplates()},function(){e._notificationsService.error("Note Templates","Error white deleting note!")})}}]),n}(b.a)).\u0275fac=function(t){return new(t||P)(m.Rb(d.a),m.Rb(r.g),m.Rb(S.b),m.Rb(v.a))},P.\u0275cmp=m.Lb({type:P,selectors:[["app-note-templates"]],features:[m.Ab],decls:16,vars:13,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzLoading","nzFrontPagination","nzTotal","nzPageIndex","nzQueryParams"],["noteTemplatesTable",""],[4,"isAccessAcrossTenantEnabled"],[4,"ngFor","ngForOf"],["nz-typography",""],["name","edit",3,"click"],["nz-popconfirm","","nzPopconfirmTitle","Are you sure you want to delete this Note?","nzPopconfirmPlacement","top","name","delete",3,"nzOnConfirm"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-table",1,2),m.ec("nzQueryParams",function(t){return e.onQueryParamsChange(t)}),m.Xb(3,"thead"),m.Xb(4,"tr"),m.Xb(5,"th"),m.Xc(6),m.jc(7,"translate"),m.Wb(),m.Xb(8,"th"),m.Xc(9,"Tags"),m.Wb(),m.Vc(10,z,2,0,"th",3),m.Xb(11,"th"),m.Xc(12),m.jc(13,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"tbody"),m.Vc(15,N,11,2,"tr",4),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(2);m.Db(1),m.rc("nzData",null==e.noteTemplates?null:e.noteTemplates.content)("nzShowPagination",!0)("nzLoading",e.loading)("nzFrontPagination",!1)("nzTotal",null==e.noteTemplates?null:e.noteTemplates.totalElements)("nzPageIndex",e.pageIndex),m.Db(5),m.Yc(m.kc(7,9,"TABLEHEADER.NAME")),m.Db(6),m.Yc(m.kc(13,11,"TABLEHEADER.ACTIONS")),m.Db(3),m.rc("ngForOf",n.data)}},directives:[y.f,y.n,y.o,y.e,y.l,T.a,y.i,C.p,E.a,I.a,M.a,A.a],pipes:[_.a,D.a],styles:[""]}),P),X=n("mfqL"),L=n("r0o6"),w=n("c36b"),W=n("4RGM"),V=n("JA5x"),x=n("B+r4"),U=n("MZxW"),F=n("PTRe"),H=n("3Pt+"),B=n("zAKX"),j=n("OzZK"),G=n("RwU8"),Y=n("C2AL");function q(t,e){1&t&&(m.Xb(0,"div",15),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}function Z(t,e){if(1&t&&m.Sb(0,"nz-option",16),2&t){var n=e.$implicit;m.rc("nzLabel",n.name)("nzValue",n.name)}}function Q(t,e){1&t&&(m.Xb(0,"div",15),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}var K,J,$=((K=function(t){o(n,t);var e=c(n);function n(t,i,a,o,r){var c;return u(this,n),(c=e.call(this))._tagsService=t,c._noteTemplatesService=i,c._notificationsService=a,c._router=o,c._activatedRoute=r,c.validated=!1,c.noteTemplate={id:void 0,title:"",template:"",tags:[],tenantId:""},c.config=w.b,c}return p(n,[{key:"ngOnInit",value:function(){var t;this.getTags(),this._activatedRoute.params.forEach(function(e){t=e.id}),t?this.getById(t):this.noteTemplate.tenantId=localStorage.getItem(W.a.REQUEST_TENANT_IDS).split(",")[0]}},{key:"onSubTenantChange",value:function(t){this.noteTemplate.tenantId=t}},{key:"getTags",value:function(){this.tags$=this._tagsService.getAllTags()}},{key:"getById",value:function(t){var e=this;this._noteTemplatesService.fetchNoteTemplateById(t).subscribe(function(t){return e.noteTemplate=t})}},{key:"save",value:function(){var t=this;if(this.isValid()){var e=this._noteTemplatesService.create(this.noteTemplate),n=this._noteTemplatesService.update(this.noteTemplate);Object(L.a)(function(){return!!t.noteTemplate.id},n,e).subscribe(function(){t._notificationsService.success("Note Template","Template saved successfully!"),t._router.navigate(["templates/note-templates"])})}}},{key:"isValid",value:function(){return this.validated=!0,0!=this.noteTemplate.title.length&&0!=this.noteTemplate.template.length}}]),n}(b.a)).\u0275fac=function(t){return new(t||K)(m.Rb(X.a),m.Rb(d.a),m.Rb(S.b),m.Rb(r.g),m.Rb(r.a))},K.\u0275cmp=m.Lb({type:K,selectors:[["app-note-templates-form"]],features:[m.Ab],decls:24,vars:13,consts:[[1,"container"],["nz-row","","nzGutter","64",2,"margin-bottom","16px"],["nz-col","","nzOffset","16","nzSpan","8"],["mode","SINGLE",3,"persist","selectedSubTenant","onSubTenantSelected"],["nz-row","","nzSpan","24"],["nz-input","","placeholder","Enter title","required","",3,"ngModel","ngClass","ngModelChange"],["title","ngModel"],["class","error-text",4,"ngIf"],["nzMode","tags","nzPlaceHolder","Select Tags",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["placeholder","Enter template","required","",3,"ngModel","config","ngClass","ngModelChange"],["description","ngModel"],["nz-row",""],["nz-col","","nzSpan","3","nzOffset","21"],["nz-button","","nzType","primary",3,"click"],[1,"error-text"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-card"),m.Xb(2,"div",1),m.Xb(3,"div",2),m.Xb(4,"sub-tenant-select",3),m.ec("onSubTenantSelected",function(t){return e.onSubTenantChange(t)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(5,"div",4),m.Xb(6,"input",5,6),m.ec("ngModelChange",function(t){return e.noteTemplate.title=t}),m.Wb(),m.Vc(8,q,3,3,"div",7),m.Wb(),m.Sb(9,"br"),m.Xb(10,"div",4),m.Xb(11,"nz-select",8),m.ec("ngModelChange",function(t){return e.noteTemplate.tags=t}),m.Vc(12,Z,1,2,"nz-option",9),m.jc(13,"async"),m.Wb(),m.Wb(),m.Sb(14,"br"),m.Xb(15,"angular-editor",10,11),m.ec("ngModelChange",function(t){return e.noteTemplate.template=t}),m.Wb(),m.Vc(17,Q,3,3,"div",7),m.Sb(18,"br"),m.Sb(19,"br"),m.Xb(20,"div",12),m.Xb(21,"div",13),m.Xb(22,"button",14),m.ec("click",function(){return e.save()}),m.Xc(23,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(7),i=m.Ic(16);m.Db(4),m.rc("persist",!1)("selectedSubTenant",e.noteTemplate.tenantId),m.Db(2),m.rc("ngModel",e.noteTemplate.title)("ngClass",e.validated?"submitted":null),m.Db(2),m.rc("ngIf",n.invalid&&(n.dirty||n.touched||e.validated)),m.Db(3),m.rc("ngModel",e.noteTemplate.tags),m.Db(1),m.rc("ngForOf",m.kc(13,11,e.tags$)),m.Db(3),m.rc("ngModel",e.noteTemplate.template)("config",e.config)("ngClass",e.validated?"submitted":null),m.Db(2),m.rc("ngIf",i.invalid&&(i.dirty||i.touched||e.validated))}},directives:[V.a,x.c,x.a,U.a,F.b,H.d,H.C,H.u,H.x,C.o,C.q,B.d,C.p,i.a,j.a,G.a,Y.a,B.a],pipes:[C.b,_.a],styles:["nz-card[_ngcontent-%COMP%]{width:75%;margin:25px 0 0 20px}[_nghost-%COMP%]     .ant-select:not(.ant-select-customize-input) .ant-select-selector{border:1px solid #d9d9d9}button[_ngcontent-%COMP%]{width:100%}.error-text[_ngcontent-%COMP%]{text-align:end;width:100%;color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.ng-touched{border-color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.submitted{border-color:#c81c1c}[_nghost-%COMP%]     angular-editor.ng-invalid.ng-touched>div>div:nth-child(2)>div{border-color:#c81c1c!important}[_nghost-%COMP%]     angular-editor.ng-invalid.submitted>div>div:nth-child(2)>div{border-color:#c81c1c!important}"]}),K),tt=[{code:"ab",name:"Abkhaz"},{code:"aa",name:"Afar"},{code:"af",name:"Afrikaans"},{code:"ak",name:"Akan"},{code:"sq",name:"Albanian"},{code:"am",name:"Amharic"},{code:"ar",name:"Arabic"},{code:"an",name:"Aragonese"},{code:"hy",name:"Armenian"},{code:"as",name:"Assamese"},{code:"av",name:"Avaric"},{code:"ae",name:"Avestan"},{code:"ay",name:"Aymara"},{code:"az",name:"Azerbaijani"},{code:"bm",name:"Bambara"},{code:"ba",name:"Bashkir"},{code:"eu",name:"Basque"},{code:"be",name:"Belarusian"},{code:"bn",name:"Bengali"},{code:"bh",name:"Bihari"},{code:"bi",name:"Bislama"},{code:"bs",name:"Bosnian"},{code:"br",name:"Breton"},{code:"bg",name:"Bulgarian"},{code:"my",name:"Burmese"},{code:"ca",name:"Catala"},{code:"ch",name:"Chamorro"},{code:"ce",name:"Chechen"},{code:"ny",name:"Chichewa; Chewa; Nyanja"},{code:"zh",name:"Chinese"},{code:"cv",name:"Chuvash"},{code:"kw",name:"Cornish"},{code:"co",name:"Corsican"},{code:"cr",name:"Cree"},{code:"hr",name:"Croatian"},{code:"cs",name:"Czech"},{code:"da",name:"Danish"},{code:"dv",name:"Divehi; Dhivehi; Maldivian;"},{code:"nl",name:"Dutch"},{code:"dz",name:"Dzongkha"},{code:"en",name:"English"},{code:"eo",name:"Esperanto"},{code:"et",name:"Estonian"},{code:"ee",name:"Ewe"},{code:"fo",name:"Faroese"},{code:"fj",name:"Fijian"},{code:"fi",name:"Finnish"},{code:"fr",name:"French"},{code:"ff",name:"Fula; Fulah; Pulaar; Pular"},{code:"gl",name:"Galician"},{code:"ka",name:"Georgian"},{code:"de",name:"German"},{code:"el",name:"Greek, Modern"},{code:"gn",name:"Guaran\xc3\xad"},{code:"gu",name:"Gujarati"},{code:"ht",name:"Haitian; Haitian Creole"},{code:"ha",name:"Hausa"},{code:"he",name:"Hebrew (modern)"},{code:"hz",name:"Herero"},{code:"hi",name:"Hindi"},{code:"ho",name:"Hiri Motu"},{code:"hu",name:"Hungarian"},{code:"ia",name:"Interlingua"},{code:"id",name:"Indonesian"},{code:"ie",name:"Interlingue"},{code:"ga",name:"Irish"},{code:"ig",name:"Igbo"},{code:"ik",name:"Inupiaq"},{code:"io",name:"Ido"},{code:"is",name:"Icelandic"},{code:"it",name:"Italian"},{code:"iu",name:"Inuktitut"},{code:"ja",name:"Japanese"},{code:"jv",name:"Javanese"},{code:"kl",name:"Kalaallisut, Greenlandic"},{code:"kn",name:"Kannada"},{code:"kr",name:"Kanuri"},{code:"ks",name:"Kashmiri"},{code:"kk",name:"Kazakh"},{code:"km",name:"Khmer"},{code:"ki",name:"Kikuyu, Gikuyu"},{code:"rw",name:"Kinyarwanda"},{code:"ky",name:"Kyrgyz"},{code:"kv",name:"Komi"},{code:"kg",name:"Kongo"},{code:"ko",name:"Korean"},{code:"ku",name:"Kurdish"},{code:"kj",name:"Kwanyama, Kuanyama"},{code:"la",name:"Latin"},{code:"lb",name:"Luxembourgish, Letzeburgesch"},{code:"lg",name:"Ganda"},{code:"li",name:"Limburgish, Limburgan, Limburger"},{code:"ln",name:"Lingala"},{code:"lo",name:"Lao"},{code:"lt",name:"Lithuanian"},{code:"lu",name:"Luba-Katanga"},{code:"lv",name:"Latvian"},{code:"gv",name:"Manx"},{code:"mk",name:"Macedonian"},{code:"mg",name:"Malagasy"},{code:"ms",name:"Malay"},{code:"ml",name:"Malayalam"},{code:"mt",name:"Maltese"},{code:"mi",name:"M\xc4ori"},{code:"mr",name:"Marathi (Mar\xc4\xe1\xb9\xadh\xc4\xab)"},{code:"mh",name:"Marshallese"},{code:"mn",name:"Mongolian"},{code:"na",name:"Nauru"},{code:"nv",name:"Navajo, Navaho"},{code:"nb",name:"Norwegian Bokm\xc3\xa5l"},{code:"nd",name:"North Ndebele"},{code:"ne",name:"Nepali"},{code:"ng",name:"Ndonga"},{code:"nn",name:"Norwegian Nynorsk"},{code:"no",name:"Norwegian"},{code:"ii",name:"Nuosu"},{code:"nr",name:"South Ndebele"},{code:"oc",name:"Occitan"},{code:"oj",name:"Ojibwe, Ojibwa"},{code:"cu",name:"Old Church Slavonic, Church Slavic, Church Slavonic, Old Bulgarian, Old Slavonic"},{code:"om",name:"Oromo"},{code:"or",name:"Oriya"},{code:"os",name:"Ossetian, Ossetic"},{code:"pa",name:"Panjabi, Punjabi"},{code:"pi",name:"P\xc4li"},{code:"fa",name:"Persian (Farsi)"},{code:"pl",name:"Polish"},{code:"ps",name:"Pashto, Pushto"},{code:"pt",name:"Portuguese"},{code:"qu",name:"Quechua"},{code:"rm",name:"Romansh"},{code:"rn",name:"Kirundi"},{code:"ro",name:"Romanian, [])"},{code:"ru",name:"Russian"},{code:"sa",name:"Sanskrit (Sa\xe1\xb9sk\xe1\xb9\u203ata)"},{code:"sc",name:"Sardinian"},{code:"sd",name:"Sindhi"},{code:"se",name:"Northern Sami"},{code:"sm",name:"Samoan"},{code:"sg",name:"Sango"},{code:"sr",name:"Serbian"},{code:"gd",name:"Scottish Gaelic; Gaelic"},{code:"sn",name:"Shona"},{code:"si",name:"Sinhala, Sinhalese"},{code:"sk",name:"Slovak"},{code:"sl",name:"Slovene"},{code:"so",name:"Somali"},{code:"st",name:"Southern Sotho"},{code:"es",name:"Spanish"},{code:"su",name:"Sundanese"},{code:"sw",name:"Swahili"},{code:"ss",name:"Swati"},{code:"sv",name:"Swedish"},{code:"ta",name:"Tamil"},{code:"te",name:"Telugu"},{code:"tg",name:"Tajik"},{code:"th",name:"Thai"},{code:"ti",name:"Tigrinya"},{code:"bo",name:"Tibetan Standard, Tibetan, Central"},{code:"tk",name:"Turkmen"},{code:"tl",name:"Tagalog"},{code:"tn",name:"Tswana"},{code:"to",name:"Tonga (Tonga Islands)"},{code:"tr",name:"Turkish"},{code:"ts",name:"Tsonga"},{code:"tt",name:"Tatar"},{code:"tw",name:"Twi"},{code:"ty",name:"Tahitian"},{code:"ug",name:"Uyghur, Uighur"},{code:"uk",name:"Ukrainian"},{code:"ur",name:"Urdu"},{code:"uz",name:"Uzbek"},{code:"ve",name:"Venda"},{code:"vi",name:"Vietnamese"},{code:"vo",name:"Volap\xc3\xbck"},{code:"wa",name:"Walloon"},{code:"cy",name:"Welsh"},{code:"wo",name:"Wolof"},{code:"fy",name:"Western Frisian"},{code:"xh",name:"Xhosa"},{code:"yi",name:"Yiddish"},{code:"yo",name:"Yoruba"},{code:"za",name:"Zhuang, Chuang"},{code:"zu",name:"Zulu"}],et=n("q5r7"),nt=n("rmZX"),it=n("AytR"),at=n("tk/3"),ot=((J=function(){function t(e){u(this,t),this._http=e,this.rootUrl=it.g.url,this.variableNode="".concat(this.rootUrl,"/v3/direct-mail/templates/variables")}return p(t,[{key:"create",value:function(t){return this._http.post("".concat(this.variableNode,"/new"),t)}},{key:"update",value:function(t){return this._http.put("".concat(this.variableNode,"/update"),t)}},{key:"delete",value:function(t){return this._http.delete("".concat(this.variableNode,"/").concat(t))}},{key:"fetchAll",value:function(){return this._http.get("".concat(this.variableNode,"/list"))}},{key:"fetchById",value:function(t){return this._http.get("".concat(this.variableNode,"/").concat(t))}}]),t}()).\u0275fac=function(t){return new(t||J)(m.bc(at.c))},J.\u0275prov=m.Nb({token:J,factory:J.\u0275fac,providedIn:"root"}),J),rt={editable:!0,spellcheck:!0,width:"8.5in",minHeight:"11in",placeholder:"Enter html content here ...",translate:"no",sanitize:!1,defaultParagraphSeparator:"p"},ct=n("qAZ0");function st(t,e){1&t&&(m.Xb(0,"div"),m.Sb(1,"nz-spin",3),m.Wb())}function lt(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",6),m.Xb(2,"nz-tag",7),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic(2).insertVariable(t.value)}),m.Xc(3),m.Wb(),m.Wb(),m.Ub()}if(2&t){var i=e.$implicit;m.Db(2),m.rc("nzColor","var(--primary-color)"),m.Db(1),m.Zc(" ",i.title," ")}}var ut=function(){return[16,16]};function dt(t,e){if(1&t&&(m.Xb(0,"div",4),m.Vc(1,lt,4,2,"ng-container",5),m.Wb()),2&t){var n=m.ic();m.rc("nzGutter",m.xc(2,ut)),m.Db(1),m.rc("ngForOf",n.variables)}}var pt,bt=((pt=function(){function t(){u(this,t),this.variables=[],this.loading=!0,this.insert=new m.n}return p(t,[{key:"topOffset",set:function(t){document.body.style.setProperty("--top-offset","".concat(t,"px"))}},{key:"ngOnInit",value:function(){}},{key:"insertVariable",value:function(t){this.insert.emit(t)}},{key:"transformStyle",get:function(){return{transform:"translateY(".concat(this.topOffset,"px)")}}}]),t}()).\u0275fac=function(t){return new(t||pt)},pt.\u0275cmp=m.Lb({type:pt,selectors:[["app-merge-variable-card-component"]],inputs:{variables:"variables",loading:"loading",topOffset:"topOffset"},outputs:{insert:"insert"},decls:8,vars:2,consts:[[1,"merge-container"],[4,"ngIf"],["nz-row","",3,"nzGutter",4,"ngIf"],["nzSimple","","nzTip","Loading Data..."],["nz-row","",3,"nzGutter"],[4,"ngFor","ngForOf"],["nz-col",""],["tabindex","2",3,"nzColor","click"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-card"),m.Xb(2,"div"),m.Xb(3,"strong"),m.Xc(4,"Merge Variables"),m.Wb(),m.Wb(),m.Sb(5,"br"),m.Vc(6,st,2,0,"div",1),m.Vc(7,dt,2,3,"div",2),m.Wb(),m.Wb()),2&t&&(m.Db(6),m.rc("ngIf",e.loading),m.Db(1),m.rc("ngIf",!e.loading))},directives:[V.a,C.q,ct.a,x.c,C.p,x.a,A.a],styles:["[_ngcontent-%COMP%]:root{--top-offset:0px}.merge-container[_ngcontent-%COMP%]{transform:none;max-width:400px}@media (min-width:1330px),screen and (max-width:1220px) and (min-width:1180px){.merge-container[_ngcontent-%COMP%]{transform:translateY(var(--top-offset))}}.ant-tag[_ngcontent-%COMP%]{margin:0!important;font-size:14px;padding:8px 16px}"]}),pt),ht=["myEditor"];function gt(t,e){1&t&&(m.Xb(0,"div",19),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}function ft(t,e){if(1&t&&m.Sb(0,"nz-option",20),2&t){var n=e.$implicit;m.rc("nzLabel",null==n?null:n.name)("nzValue",null==n?null:n.code)}}function vt(t,e){1&t&&(m.Xb(0,"div",19),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}function mt(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",15),m.Xb(2,"nz-tag",21),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().updateLanguageFromTab(t)}),m.Xc(3),m.Wb(),m.Wb(),m.Ub()}if(2&t){var i=e.$implicit,a=m.ic();m.Db(3),m.Zc(" ",a.languageValue(i)," ")}}function St(t,e){1&t&&(m.Xb(0,"div",19),m.Xc(1," No default template is available "),m.Wb())}function yt(t,e){1&t&&(m.Xb(0,"div",19),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}var Tt,Ct=function(){return[16,16]},Et=((Tt=function(t){o(n,t);var e=c(n);function n(t,i,a,o,r,c,s){var l;return u(this,n),(l=e.call(this))._notificationsService=t,l._router=i,l._activatedRoute=a,l._defaultLetterTemplatesService=o,l._templateHtmlHelperService=r,l._templateVariablesService=c,l._dataSharingService=s,l.validated=!1,l.errorNoTemplates=!1,l.languages=tt,l.tenantConfig=null,l.logoURL=null,l.primaryColor=null,l.variableLoading=!0,l.topOffset=0,l.templateHtml="",l.letterTemplate={id:void 0,letterType:"",languageTemplates:[]},l.config=rt,l._dataSharingService.tenantSettings.subscribe(function(t){t&&(l.tenantConfig=t,t.logoURL&&(l.logoURL=t.logoURL),l.primaryColor=t.directMailConfig.primaryColor||t.portalConfig.colorConfiguration.primaryColor)}),l}return p(n,[{key:"ngOnInit",value:function(){var t;this._activatedRoute.params.forEach(function(e){t=e.id}),t&&this.getById(t),this.getMergeVariables()}},{key:"getById",value:function(t){var e=this;this._defaultLetterTemplatesService.fetchDefaultLetterTemplateById(t).subscribe(function(t){return e.letterTemplate=t})}},{key:"getMergeVariables",value:function(){var t=this;this.variableLoading=!0,this._templateVariablesService.fetchAll().subscribe(function(e){t.variables=e,t.variableLoading=!1,t.angularEditor.blurEvent.subscribe(function(e){var n=document.getSelection();t.range=n.getRangeAt(0)})})}},{key:"languageUpdated",value:function(){var t,e=this,n=null===(t=this.letterTemplate.languageTemplates.find(function(t){return t.language==e.selectedLanguage}))||void 0===t?void 0:t.html;this.templateHtml=this.substituteDynamicValues(n)||"",this.errorNoTemplates=null==n,console.log("html: ",n),console.log("errorNoTemplates: ",this.errorNoTemplates)}},{key:"substituteDynamicValues",value:function(t){return this._templateHtmlHelperService.beautifyDynamicValues(t,this.logoURL,this.primaryColor)}},{key:"revertToOriginal",value:function(t){return this._templateHtmlHelperService.revertBackToRaw(t,this.logoURL,this.primaryColor)}},{key:"updateLanguageFromTab",value:function(t){this.selectedLanguage=t.language,this.languageUpdated()}},{key:"languageValue",value:function(t){var e;return(null===(e=tt.find(function(e){return e.code===t.language}))||void 0===e?void 0:e.name)||"N/A"}},{key:"insertVariable",value:function(t){console.log("insert merge variable value {{".concat(t,"}}")),document.getSelection().removeAllRanges(),document.getSelection().addRange(this.range);var e=document.createTextNode("{{".concat(t,"}}"));this.range.insertNode(e),this.angularEditor.toggleEditorMode(!0),this.angularEditor.toggleEditorMode(!1)}},{key:"save",value:function(){var t=this;if(this.isValid()){var e=this._defaultLetterTemplatesService.create(this.letterTemplate),n=this._defaultLetterTemplatesService.update(this.letterTemplate);Object(L.a)(function(){return!!t.letterTemplate.id},n,e).subscribe(function(){t._notificationsService.success("Letter Template","Template saved successfully!"),t._router.navigate(["/templates/letter-templates"],{queryParams:{tab:"default-templates"}})},function(e){t._notificationsService.error("Letter Template Error",e.error.message),console.log(e)})}}},{key:"isValid",value:function(){var t=this;if(this.validated=!0,0==this.letterTemplate.letterType.length)return!1;if(0==this.selectedLanguage.length)return!1;if(0==this.templateHtml.length)return!1;var e=this.variables.map(function(t){return t.value}),n=this._templateHtmlHelperService.validateMergeVariables(this.templateHtml,e);if((null==n?void 0:n.length)>0)return this._notificationsService.error("Invalid merge variables",n.join(", ")),!1;null==this.letterTemplate.languageTemplates&&(this.letterTemplate.languageTemplates=[]);var i={language:this.selectedLanguage,html:this._templateHtmlHelperService.formatHtml(this.revertToOriginal(this.templateHtml))},a=this.letterTemplate.languageTemplates.findIndex(function(e){return e.language==t.selectedLanguage});return-1!=a?this.letterTemplate.languageTemplates[a]=i:this.letterTemplate.languageTemplates.push(i),!0}},{key:"preview",value:function(){var t=this._templateHtmlHelperService.formatHtml(this.templateHtml),e=window.open();e.document.write(t),e.document.close()}},{key:"onChange",value:function(t){console.log("changed: ",t)}},{key:"onScroll",value:function(t){var e;this.topOffset=null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.scrollTop}}]),n}(b.a)).\u0275fac=function(t){return new(t||Tt)(m.Rb(S.b),m.Rb(r.g),m.Rb(r.a),m.Rb(et.a),m.Rb(nt.a),m.Rb(ot),m.Rb(v.a))},Tt.\u0275cmp=m.Lb({type:Tt,selectors:[["app-letter-templates-form"]],viewQuery:function(t,e){var n;1&t&&m.ed(ht,1),2&t&&m.Hc(n=m.fc())&&(e.angularEditor=n.first)},features:[m.Cb([nt.a]),m.Ab],decls:37,vars:19,consts:[[1,"container","scroll-container",3,"scroll"],["nz-row","",3,"nzGutter"],["nz-col","","nzFlex","0 0 9.2in"],["nz-row","","nzSpan","24"],["nz-input","","placeholder","Enter title","required","","disabled","",3,"ngModel","ngClass","ngModelChange"],["title","ngModel"],["class","error-text",4,"ngIf"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a language","required","",3,"ngModel","nzDisabled","ngModelChange"],["language","ngModel"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-col","",2,"padding-right","8px"],[4,"ngFor","ngForOf"],["id","mydiv","placeholder","Enter template","required","",3,"ngModel","config","ngClass","ngModelChange"],["myEditor","","description","ngModel"],["nz-row","","nzAlign","middle","nzJustify","center",3,"nzGutter"],["nz-col",""],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzFlex","1 0 200px"],[3,"variables","loading","topOffset","insert"],[1,"error-text"],[3,"nzLabel","nzValue"],[3,"click"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.ec("scroll",function(t){return e.onScroll(t)}),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"nz-card"),m.Xb(4,"div",3),m.Xb(5,"input",4,5),m.ec("ngModelChange",function(t){return e.letterTemplate.letterType=t}),m.Wb(),m.Vc(7,gt,3,3,"div",6),m.Wb(),m.Sb(8,"br"),m.Xb(9,"div",3),m.Xb(10,"nz-select",7,8),m.ec("ngModelChange",function(t){return e.selectedLanguage=t})("ngModelChange",function(){return e.languageUpdated()}),m.Vc(12,ft,1,2,"nz-option",9),m.Wb(),m.Vc(13,vt,3,3,"div",6),m.Wb(),m.Sb(14,"br"),m.Xb(15,"div",3),m.Xb(16,"div",10),m.Xb(17,"strong"),m.Xc(18,"Saved Templates: "),m.Wb(),m.Wb(),m.Vc(19,mt,4,1,"ng-container",11),m.Wb(),m.Sb(20,"br"),m.Vc(21,St,2,0,"div",6),m.Xb(22,"angular-editor",12,13),m.ec("ngModelChange",function(t){return e.templateHtml=t})("ngModelChange",function(t){return e.onChange(t)}),m.Wb(),m.Vc(25,yt,3,3,"div",6),m.Sb(26,"br"),m.Sb(27,"br"),m.Xb(28,"div",14),m.Xb(29,"div",15),m.Xb(30,"button",16),m.ec("click",function(){return e.preview()}),m.Xc(31,"Preview"),m.Wb(),m.Wb(),m.Xb(32,"div",15),m.Xb(33,"button",16),m.ec("click",function(){return e.save()}),m.Xc(34,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(35,"div",17),m.Xb(36,"app-merge-variable-card-component",18),m.ec("insert",function(t){return e.insertVariable(t)}),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(6),i=m.Ic(11),a=m.Ic(24);m.Db(1),m.rc("nzGutter",m.xc(18,Ct)),m.Db(4),m.rc("ngModel",e.letterTemplate.letterType)("ngClass",e.validated?"submitted":null),m.Db(2),m.rc("ngIf",n.invalid&&(n.dirty||n.touched||e.validated)),m.Db(3),m.rc("ngModel",e.selectedLanguage)("nzDisabled",!e.letterTemplate.letterType),m.Db(2),m.rc("ngForOf",e.languages),m.Db(1),m.rc("ngIf",i.invalid&&(i.dirty||i.touched||e.validated)),m.Db(6),m.rc("ngForOf",e.letterTemplate.languageTemplates),m.Db(2),m.rc("ngIf",e.errorNoTemplates),m.Db(1),m.rc("ngModel",e.templateHtml)("config",e.config)("ngClass",e.validated?"submitted":null),m.Db(3),m.rc("ngIf",a.invalid&&(a.dirty||a.touched||e.validated)),m.Db(3),m.rc("nzGutter",16),m.Db(8),m.rc("variables",e.variables)("loading",e.variableLoading)("topOffset",e.topOffset)}},directives:[x.c,x.a,V.a,F.b,H.d,H.C,H.u,H.x,C.o,C.q,B.d,C.p,i.a,j.a,G.a,Y.a,bt,B.a,A.a],pipes:[_.a],styles:["body,   html{width:100%!important;height:100%!important;font-family:Nunito!important}[_nghost-%COMP%]     .ant-select:not(.ant-select-customize-input) .ant-select-selector{border:1px solid #d9d9d9}.scroll-container[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 99px)!important;overflow-y:scroll!important}.variable-container[_ngcontent-%COMP%]{max-width:400px}.error-text[_ngcontent-%COMP%]{width:100%;color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.ng-touched{border-color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.submitted{border-color:#c81c1c}[_nghost-%COMP%]     angular-editor.ng-invalid.ng-touched>div>div:nth-child(2)>div{border-color:#c81c1c!important}[_nghost-%COMP%]     angular-editor.ng-invalid.submitted>div>div:nth-child(2)>div{border-color:#c81c1c!important}[_nghost-%COMP%]     .angular-editor-textarea{resize:none!important;padding:0!important}"]}),Tt),It=n("Ifg2"),Mt=n("dEAy"),At=n("D9mS"),_t=n("FwiY");function Dt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"h5"),m.Xb(1,"span",7),m.Sb(2,"i",8),m.Xc(3),m.Wb(),m.Xc(4," \xa0 "),m.Xb(5,"span",9),m.ec("click",function(t){return m.Lc(n),m.ic().removeFile(t)}),m.Sb(6,"i",10),m.Xc(7," Delete"),m.Wb(),m.Wb()}if(2&t){var i=m.ic();m.Db(3),m.Zc(" Successfully uploaded: ",i.uploadedFile.file.name,"")}}var zt,Ot=((zt=function(){function t(e,n,i,a){var o=this;u(this,t),this._modalRef=e,this._xlsxParserService=n,this._defaultLetterTemplatesService=i,this._notificationsService=a,this.handleUpload=function(t){o.uploadedFile=t,o.uploadedFileName=t.file.name,console.log("handleUpload",t),"text/csv"===t.file.type?o.handleCSV(t):o.handleXLSX(t)},this.headersMap=new Map([["Template Type","letterType"],["Language","language"],["Template Contents","html"]])}return p(t,[{key:"ngOnInit",value:function(){}},{key:"removeFile",value:function(t){return this.uploadedFile=null,this.uploadedFileName=null,t.stopPropagation(),!1}},{key:"validateHeaders",value:function(t){var e=this;return t.forEach(function(t,n){Object.keys(t).forEach(function(n){Object.defineProperty(t,e.headersMap.get(n),Object.getOwnPropertyDescriptor(t,n)),delete t[n]}),t.rowId=n}),t}},{key:"handleXLSX",value:function(t){var e=this,n=new FileReader;n.onload=function(){var t=e._xlsxParserService.parse(n),i=e.validateHeaders(t[Object.keys(t)[0]]).reduce(function(t,e){var n;t[e.letterType]=t[e.letterType]||[];var i={language:(null===(n=tt.find(function(t){return t.name.toLowerCase()==e.language.toLowerCase()}))||void 0===n?void 0:n.code)||"en",html:e.html};return t[e.letterType].push(i),t},{}),a=[];Object.keys(i).forEach(function(t){a.push({letterType:t,languageTemplates:i[t]})}),console.log("xlsx data:",a),e.data=a,e.bulkUploadVisible=!1},n.readAsBinaryString(t.file)}},{key:"handleCSV",value:function(t){var e=this,n=new FileReader;n.onload=function(){var t=n.result.split(/\r\n|\n/),i=t[0].split(","),a=[];t.forEach(function(t,e){if(e>0){var n=t.split(","),o=new Map;i.forEach(function(t,e){o.set(t,n[e])}),a.push(o)}});var o=t.slice(1).reduce(function(t,e){var n,i=e.split(",");t[i[0]]=t[i[0]]||[];var a={language:(null===(n=tt.find(function(t){return t.name.toLowerCase()==i[1].toLowerCase()}))||void 0===n?void 0:n.code)||"en",html:i[2]};return t[i[0]].push(a),t},{}),r=[];Object.keys(o).forEach(function(t){r.push({letterType:t,languageTemplates:o[t]})}),console.log("csv data:",r),e.data=r,e.bulkUploadVisible=!1},n.readAsText(t.file)}},{key:"processUploadedFile",value:function(){var t=this;this._defaultLetterTemplatesService.bulkUpload(this.data).subscribe(function(e){var n,i,a,o=null===(n=e.duplicate)||void 0===n?void 0:n.length,r=null===(i=e.new)||void 0===i?void 0:i.length,c=null===(a=e.update)||void 0===a?void 0:a.length;t._notificationsService.info("Bulk Upload Success","New: ".concat(r,", Updated: ").concat(c,", Duplicate: ").concat(o)),t._modalRef.close(!0)})}}]),t}()).\u0275fac=function(t){return new(t||zt)(m.Rb(Mt.e),m.Rb(It.a),m.Rb(et.a),m.Rb(S.b))},zt.\u0275cmp=m.Lb({type:zt,selectors:[["app-bulk-upload-template-modal"]],features:[m.Cb([It.a])],decls:13,vars:10,consts:[[1,"container"],["nzType","drag","nzAccept",".xlsx, .csv",3,"nzCustomRequest","nzShowButton","nzShowUploadList","nzDisabled"],[4,"ngIf"],["nz-button","","nzType","primary","nzSize","large",3,"disabled"],["nz-row","","nzAlign","middle","nzJustify","center"],["nz-button","","nzType","primary","nzSize","large","id","upload-btn",3,"disabled","click"],["nz-icon","","nzType","arrow-up","nzTheme","outline"],[2,"color","#8BC34A"],["nz-icon","","nzType","paper-clip","nzTheme","outline"],[2,"color","#FF0000","cursor","pointer",3,"click"],["nz-icon","","nzType","delete","nzTheme","outline"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-upload",1),m.Vc(2,Dt,8,1,"h5",2),m.Xb(3,"button",3),m.Xc(4,"BROWSE / DRAG"),m.Wb(),m.Xb(5,"p"),m.Xc(6),m.jc(7,"translate"),m.Wb(),m.Wb(),m.Sb(8,"br"),m.Xb(9,"div",4),m.Xb(10,"button",5),m.ec("click",function(){return e.processUploadedFile()}),m.Xc(11," UPLOAD "),m.Sb(12,"i",6),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(1),m.rc("nzCustomRequest",e.handleUpload)("nzShowButton",!0)("nzShowUploadList",!1)("nzDisabled",e.uploadedFileName),m.Db(1),m.rc("ngIf",e.uploadedFileName),m.Db(1),m.rc("disabled",e.uploadedFileName),m.Db(3),m.Yc(m.kc(7,8,"COMMON.DRAG_AND_UPLOAD")),m.Db(4),m.rc("disabled",null==e.uploadedFileName))},directives:[At.a,C.q,j.a,G.a,Y.a,x.c,_t.a],pipes:[_.a],styles:[""]}),zt);function kt(t,e){if(1&t&&(m.Xb(0,"nz-tag"),m.Xc(1),m.Wb()),2&t){var n=e.$implicit,i=m.ic(2);m.Db(1),m.Zc(" ",i.languageValue(n)," ")}}function Nt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"tr"),m.Xb(1,"td"),m.Xb(2,"strong",4),m.Xc(3),m.Wb(),m.Wb(),m.Xb(4,"td"),m.Vc(5,kt,2,1,"nz-tag",3),m.Wb(),m.Xb(6,"td"),m.Xb(7,"app-icons",5),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().edit(t.id)}),m.Wb(),m.Xc(8," \xa0\xa0 "),m.Xb(9,"app-icons",6),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().delete(t.id)}),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit;m.Db(3),m.Zc(" ",i.letterType," "),m.Db(2),m.rc("ngForOf",i.languageTemplates)}}var Pt,Rt=((Pt=function(t){o(n,t);var e=c(n);function n(t,i,a,o,r){var c;return u(this,n),(c=e.call(this))._defaultLetterTemplatesService=t,c._notificationsService=i,c._router=a,c._modalService=o,c._activatedRoute=r,c.loading=!1,c._routeHelperService.isPrimaryActionTriggered().pipe(Object(h.a)(function(t){return!!t}),Object(g.a)(c.unsubscribed)).subscribe(function(){c._router.navigate(["templates/letter-templates/admin/form"])}),c._routeHelperService.isSecondaryActionTriggered().pipe(Object(h.a)(function(t){return!!t}),Object(g.a)(c.unsubscribed)).subscribe(function(){c._modalService.create({nzContent:Ot,nzWidth:775,nzFooter:null}).afterClose.subscribe(function(t){t&&c.getTemplates()})}),c}return p(n,[{key:"ngOnInit",value:function(){this.getTemplates()}},{key:"getTemplates",value:function(){var t=this;this.loading=!0,this._defaultLetterTemplatesService.fetchDefaultLetterTemplates().subscribe(function(e){t.templates=e,t.loading=!1})}},{key:"edit",value:function(t){this._router.navigate(["templates/letter-templates/admin/form/".concat(t)])}},{key:"delete",value:function(t){var e=this;this._defaultLetterTemplatesService.delete(t).subscribe(function(){e._notificationsService.success("Letter Template","Template deleted successfully!"),e.getTemplates()})}},{key:"languageValue",value:function(t){var e;return(null===(e=tt.find(function(e){return e.code===t.language}))||void 0===e?void 0:e.name)||"N/A"}},{key:"bulkUpload",value:function(){var t=this;this._modalService.create({nzContent:Ot,nzWidth:775,nzFooter:null}).afterClose.subscribe(function(e){e&&t.getTemplates()})}}]),n}(b.a)).\u0275fac=function(t){return new(t||Pt)(m.Rb(et.a),m.Rb(S.b),m.Rb(r.g),m.Rb(Mt.f),m.Rb(r.a))},Pt.\u0275cmp=m.Lb({type:Pt,selectors:[["app-default-letter-templates"]],features:[m.Ab],decls:15,vars:10,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzLoading"],["templatesTable",""],[4,"ngFor","ngForOf"],["nz-typography",""],["name","edit",3,"click"],["name","delete",3,"click"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-table",1,2),m.Xb(3,"thead"),m.Xb(4,"tr"),m.Xb(5,"th"),m.Xc(6),m.jc(7,"translate"),m.Wb(),m.Xb(8,"th"),m.Xc(9,"Languages"),m.Wb(),m.Xb(10,"th"),m.Xc(11),m.jc(12,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(13,"tbody"),m.Vc(14,Nt,10,2,"tr",3),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(2);m.Db(1),m.rc("nzData",e.templates)("nzShowPagination",!0)("nzLoading",e.loading),m.Db(5),m.Yc(m.kc(7,6,"TABLEHEADER.NAME")),m.Db(5),m.Yc(m.kc(12,8,"TABLEHEADER.ACTIONS")),m.Db(3),m.rc("ngForOf",n.data)}},directives:[y.f,y.n,y.o,y.e,y.l,y.i,C.p,E.a,I.a,A.a],pipes:[_.a],styles:[""]}),Pt);function Xt(t,e){1&t&&(m.Xb(0,"div",11),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}function Lt(t,e){1&t&&(m.Xb(0,"div",11),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}var wt,Wt=((wt=function(t){o(n,t);var e=c(n);function n(t,i,a,o){var r;return u(this,n),(r=e.call(this))._notificationsService=t,r._router=i,r._activatedRoute=a,r._templateVariablesService=o,r.validated=!1,r.templateVariable={id:void 0,title:"",value:"",description:""},r}return p(n,[{key:"ngOnInit",value:function(){var t;this._activatedRoute.params.forEach(function(e){t=e.id}),t&&this.getById(t)}},{key:"getById",value:function(t){var e=this;this._templateVariablesService.fetchById(t).subscribe(function(t){return e.templateVariable=t})}},{key:"updateValue",value:function(){this.templateVariable.value=this.templateVariable.title.replace(/(\w)(\w*)/g,function(t,e,n){return e.toUpperCase()+n.toLowerCase()}).replace(/\s/g,"")}},{key:"save",value:function(){var t=this;if(this.isValid()){var e=this._templateVariablesService.create(this.templateVariable),n=this._templateVariablesService.update(this.templateVariable);Object(L.a)(function(){return!!t.templateVariable.id},n,e).subscribe(function(){t._notificationsService.success("Merge Variable","Merge Variable saved successfully!"),t._router.navigate(["/templates/letter-templates"],{queryParams:{tab:"merge-variables"}})})}}},{key:"isValid",value:function(){return this.validated=!0,0!=this.templateVariable.title.length&&0!=this.templateVariable.value.length}}]),n}(b.a)).\u0275fac=function(t){return new(t||wt)(m.Rb(S.b),m.Rb(r.g),m.Rb(r.a),m.Rb(ot))},wt.\u0275cmp=m.Lb({type:wt,selectors:[["app-template-variable-form"]],features:[m.Ab],decls:20,vars:7,consts:[[1,"container"],["nz-row","","nzSpan","24"],["nz-input","","placeholder","Enter title","required","",3,"ngModel","ngClass","ngModelChange","keyup"],["title","ngModel"],["class","error-text",4,"ngIf"],["nz-input","","placeholder","Enter value","required","",3,"ngModel","ngClass","ngModelChange"],["value","ngModel"],["nz-input","","placeholder","Enter description",3,"ngModel","ngModelChange"],["nz-row",""],["nz-col",""],["nz-button","","nzType","primary",3,"click"],[1,"error-text"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-card"),m.Xb(2,"div",1),m.Xb(3,"input",2,3),m.ec("ngModelChange",function(t){return e.templateVariable.title=t})("keyup",function(){return e.updateValue()}),m.Wb(),m.Vc(5,Xt,3,3,"div",4),m.Wb(),m.Sb(6,"br"),m.Xb(7,"div",1),m.Xb(8,"input",5,6),m.ec("ngModelChange",function(t){return e.templateVariable.value=t}),m.Wb(),m.Vc(10,Lt,3,3,"div",4),m.Wb(),m.Sb(11,"br"),m.Xb(12,"div",1),m.Xb(13,"input",7),m.ec("ngModelChange",function(t){return e.templateVariable.description=t}),m.Wb(),m.Wb(),m.Sb(14,"br"),m.Sb(15,"br"),m.Xb(16,"div",8),m.Xb(17,"div",9),m.Xb(18,"button",10),m.ec("click",function(){return e.save()}),m.Xc(19,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(4),i=m.Ic(9);m.Db(3),m.rc("ngModel",e.templateVariable.title)("ngClass",e.validated?"submitted":null),m.Db(2),m.rc("ngIf",n.invalid&&(n.dirty||n.touched||e.validated)),m.Db(3),m.rc("ngModel",e.templateVariable.value)("ngClass",e.validated?"submitted":null),m.Db(2),m.rc("ngIf",i.invalid&&(i.dirty||i.touched||e.validated)),m.Db(3),m.rc("ngModel",e.templateVariable.description)}},directives:[V.a,x.c,F.b,H.d,H.C,H.u,H.x,C.o,C.q,x.a,j.a,G.a,Y.a],pipes:[_.a],styles:[""]}),wt);function Vt(t,e){if(1&t&&(m.Xb(0,"tr"),m.Xb(1,"td"),m.Xb(2,"strong",4),m.Xc(3),m.Wb(),m.Wb(),m.Xb(4,"td"),m.Xc(5),m.Wb(),m.Xb(6,"td"),m.Xc(7),m.Wb(),m.Wb()),2&t){var n=e.$implicit;m.Db(3),m.Zc(" ",n.title," "),m.Db(2),m.Zc(" ",n.value," "),m.Db(2),m.Zc(" ",n.description," ")}}var xt,Ut=((xt=function(t){o(n,t);var e=c(n);function n(t,i,a,o,r){var c;return u(this,n),(c=e.call(this))._templateVariablesService=t,c._notificationsService=i,c._router=a,c._modalService=o,c._activatedRoute=r,c.loading=!1,c._routeHelperService.isPrimaryActionTriggered().pipe(Object(h.a)(function(t){return!!t}),Object(g.a)(c.unsubscribed)).subscribe(function(){c._router.navigate(["templates/variables/form"])}),c}return p(n,[{key:"ngOnInit",value:function(){this.getData()}},{key:"getData",value:function(){var t=this;this.loading=!0,this._templateVariablesService.fetchAll().subscribe(function(e){t.templateVaraibles=e,t.loading=!1})}},{key:"edit",value:function(t){this._router.navigate(["templates/variables/form/".concat(t)])}},{key:"delete",value:function(t){var e=this;this._templateVariablesService.delete(t).subscribe(function(){e._notificationsService.success("Merge Variables","Merge Variable was deleted successfully!"),e.getData()})}}]),n}(b.a)).\u0275fac=function(t){return new(t||xt)(m.Rb(ot),m.Rb(S.b),m.Rb(r.g),m.Rb(Mt.f),m.Rb(r.a))},xt.\u0275cmp=m.Lb({type:xt,selectors:[["app-template-variable-list"]],features:[m.Ab],decls:16,vars:13,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzLoading"],["templatesTable",""],[4,"ngFor","ngForOf"],["nz-typography",""]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-table",1,2),m.Xb(3,"thead"),m.Xb(4,"tr"),m.Xb(5,"th"),m.Xc(6),m.jc(7,"translate"),m.Wb(),m.Xb(8,"th"),m.Xc(9),m.jc(10,"translate"),m.Wb(),m.Xb(11,"th"),m.Xc(12),m.jc(13,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"tbody"),m.Vc(15,Vt,8,3,"tr",3),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(2);m.Db(1),m.rc("nzData",e.templateVaraibles)("nzShowPagination",!0)("nzLoading",e.loading),m.Db(5),m.Yc(m.kc(7,7,"TABLEHEADER.NAME")),m.Db(3),m.Yc(m.kc(10,9,"TABLEHEADER.VALUE")),m.Db(3),m.Yc(m.kc(13,11,"TABLEHEADER.DESCRIPTION")),m.Db(3),m.rc("ngForOf",n.data)}},directives:[y.f,y.n,y.o,y.e,y.l,y.i,C.p,E.a],pipes:[_.a],styles:[""]}),xt),Ft=n("S5rh"),Ht=n("oyxB"),Bt=n("yffR"),jt=["myEditor"];function Gt(t,e){if(1&t&&m.Sb(0,"nz-option",21),2&t){var n=e.$implicit,i=m.ic();m.rc("nzLabel",i.getType(null==n?null:n.letterType))("nzValue",n)}}function Yt(t,e){1&t&&(m.Xb(0,"div",22),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}function qt(t,e){if(1&t&&m.Sb(0,"nz-option",21),2&t){var n=e.$implicit;m.rc("nzLabel",null==n?null:n.name)("nzValue",null==n?null:n.code)}}function Zt(t,e){1&t&&(m.Xb(0,"div",22),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}function Qt(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",11),m.Xb(2,"nz-tag",23),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().updateLanguageFromTab(t)}),m.Xc(3),m.Wb(),m.Wb(),m.Ub()}if(2&t){var i=e.$implicit,a=m.ic();m.Db(3),m.Zc(" ",a.languageValue(i)," ")}}function Kt(t,e){1&t&&(m.Xb(0,"div",22),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}var Jt,$t=function(){return[16,16]},te=((Jt=function(t){o(n,t);var e=c(n);function n(t,i,a,o,r,c,s){var l;return u(this,n),(l=e.call(this))._router=t,l._letterTemplatesService=i,l._defaultLetterTemplatesService=a,l._notificationsService=o,l._templateHtmlHelperService=r,l._templateVariablesService=c,l._dataSharingService=s,l.loading=!1,l.disableLoadDefault=!0,l.variableLoading=!0,l.selectedLanguage=null,l.languages=tt,l.tenantConfig=null,l.logoURL=null,l.primaryColor=null,l.topOffset=0,l.validated=!1,l.letterTemplate=l.getEmptyTemplate(),l.config=rt,l._dataSharingService.tenantSettings.subscribe(function(t){t&&(l.tenantConfig=t,t.logoURL&&(l.logoURL=t.logoURL),l.primaryColor=t.directMailConfig.primaryColor||t.portalConfig.colorConfiguration.primaryColor)}),l}return p(n,[{key:"ngOnInit",value:function(){this.getDefaultLetterTemplates(),this.getMergeVariables()}},{key:"getEmptyTemplate",value:function(){var t;return{html:"",templateType:(null===(t=this.letterType)||void 0===t?void 0:t.id)||"",language:this.selectedLanguage||""}}},{key:"getDefaultLetterTemplates",value:function(){var t=this;this.loading=!0,this._defaultLetterTemplatesService.fetchDefaultLetterTemplates().subscribe(function(e){t.defaultTemplates=e,t.loading=!1,t.angularEditor.blurEvent.subscribe(function(e){var n=document.getSelection();t.range=n.getRangeAt(0)})})}},{key:"getType",value:function(t){return t.replace(/template/gi,"")}},{key:"getMergeVariables",value:function(){var t=this;this.variableLoading=!0,this._templateVariablesService.fetchAll().subscribe(function(e){t.variables=e,t.variableLoading=!1})}},{key:"getLetterTemplate",value:function(){var t,e=this;this.loading=!0,this._letterTemplatesService.fetchLetterTemplateByTypeAndLanguage(null===(t=this.letterType)||void 0===t?void 0:t.id,this.selectedLanguage).subscribe(function(t){e.letterTemplate=t||e.getEmptyTemplate(),e.letterTemplate.html=e.substituteDynamicValues(e.letterTemplate.html),e.loading=!1})}},{key:"substituteDynamicValues",value:function(t){return this._templateHtmlHelperService.beautifyDynamicValues(t,this.logoURL,this.primaryColor)}},{key:"revertToOriginal",value:function(t){return this._templateHtmlHelperService.revertBackToRaw(t,this.logoURL,this.primaryColor)}},{key:"typeUpdated",value:function(){var t,e=this;this.letterTemplate.templateType=null===(t=this.letterType)||void 0===t?void 0:t.id,this.selectedLanguage=null,this.disableLoadDefault=!0,this._letterTemplatesService.fetchLetterTemplateByType(this.letterTemplate.templateType).subscribe(function(t){e.letterTemplateByType=t})}},{key:"languageUpdated",value:function(){var t,e=this;this.disableLoadDefault=-1==(null===(t=this.letterType)||void 0===t?void 0:t.languageTemplates.findIndex(function(t){return t.language===e.selectedLanguage})),this.getLetterTemplate()}},{key:"languageValue",value:function(t){var e;return(null===(e=tt.find(function(e){return e.code===t.language}))||void 0===e?void 0:e.name)||"N/A"}},{key:"loadDefault",value:function(){var t,e,n=this,i=(null===(e=null===(t=this.letterType)||void 0===t?void 0:t.languageTemplates.find(function(t){return t.language===n.selectedLanguage}))||void 0===e?void 0:e.html)||"";this.letterTemplate.html=this.substituteDynamicValues(i)}},{key:"updateLanguageFromTab",value:function(t){this.selectedLanguage=t.language,this.languageUpdated()}},{key:"insertVariable",value:function(t){console.log("insert merge variable value {{".concat(t,"}}")),document.getSelection().removeAllRanges(),document.getSelection().addRange(this.range);var e=document.createTextNode("{{".concat(t,"}}"));this.range.insertNode(e),this.angularEditor.toggleEditorMode(!0),this.angularEditor.toggleEditorMode(!1)}},{key:"save",value:function(){var t=this;if(this.valid()){this.letterTemplate.templateType=this.letterType.id,this.letterTemplate.language=this.selectedLanguage,this.letterTemplate.html=this._templateHtmlHelperService.formatHtml(this.revertToOriginal(this.letterTemplate.html));var e=this._letterTemplatesService.create(this.letterTemplate),n=this._letterTemplatesService.update(this.letterTemplate);Object(L.a)(function(){return!!t.letterTemplate.id},n,e).subscribe(function(e){t._notificationsService.success("Letter Template","Template saved successfully!"),t.letterTemplate=e,t.letterTemplate.html=t.substituteDynamicValues(t.letterTemplate.html),console.log("Letter Template saved successfully!",t.letterTemplate)})}}},{key:"valid",value:function(){var t,e,n;if(this.validated=!0,0==(null===(t=this.selectedLanguage)||void 0===t?void 0:t.length))return!1;if(null==this.letterType)return!1;if(0==(null===(n=null===(e=this.letterTemplate)||void 0===e?void 0:e.html)||void 0===n?void 0:n.length))return!1;var i=this.variables.map(function(t){return t.value}),a=this._templateHtmlHelperService.validateMergeVariables(this.letterTemplate.html,i);return!((null==a?void 0:a.length)>0&&(this._notificationsService.error("Invalid merge variables",a.join(", ")),1))}},{key:"preview",value:function(){var t=this._templateHtmlHelperService.formatHtml(this.letterTemplate.html),e=window.open();e.document.write(t),e.document.close()}},{key:"onScroll",value:function(t){var e;this.topOffset=null===(e=null==t?void 0:t.target)||void 0===e?void 0:e.scrollTop}}]),n}(b.a)).\u0275fac=function(t){return new(t||Jt)(m.Rb(r.g),m.Rb(Bt.a),m.Rb(et.a),m.Rb(S.b),m.Rb(nt.a),m.Rb(ot),m.Rb(v.a))},Jt.\u0275cmp=m.Lb({type:Jt,selectors:[["app-letter-templates"]],viewQuery:function(t,e){var n;1&t&&m.ed(jt,1),2&t&&m.Hc(n=m.fc())&&(e.angularEditor=n.first)},features:[m.Cb([nt.a]),m.Ab],decls:41,vars:20,consts:[[1,"container","scroll-container",3,"scroll"],["nz-row","",3,"nzGutter"],["nz-col","","nzFlex","0 0 9.2in"],["nz-row","","nzSpan","24"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select letter type","required","",3,"ngModel","ngModelChange"],["title","ngModel"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["class","error-text",4,"ngIf"],["nz-col","","nzFlex","1"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a language","required","",3,"ngModel","nzDisabled","ngModelChange"],["language","ngModel"],["nz-col",""],["nz-button","","nzType","primary",3,"disabled","click"],["nz-col","",2,"padding-right","8px"],[4,"ngFor","ngForOf"],["id","mydiv","placeholder","Enter template","required","",3,"ngModel","config","ngClass","ngModelChange"],["myEditor","","description","ngModel"],["nz-row","","nzAlign","middle","nzJustify","center",3,"nzGutter"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzFlex","1 0 200px"],[3,"variables","loading","topOffset","insert"],[3,"nzLabel","nzValue"],[1,"error-text"],[3,"click"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.ec("scroll",function(t){return e.onScroll(t)}),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"nz-card"),m.Xb(4,"div",3),m.Xb(5,"nz-select",4,5),m.ec("ngModelChange",function(t){return e.letterType=t})("ngModelChange",function(){return e.typeUpdated()}),m.Vc(7,Gt,1,2,"nz-option",6),m.Wb(),m.Vc(8,Yt,3,3,"div",7),m.Wb(),m.Sb(9,"br"),m.Xb(10,"div",1),m.Xb(11,"div",8),m.Xb(12,"nz-select",9,10),m.ec("ngModelChange",function(t){return e.selectedLanguage=t})("ngModelChange",function(){return e.languageUpdated()}),m.Vc(14,qt,1,2,"nz-option",6),m.Wb(),m.Vc(15,Zt,3,3,"div",7),m.Wb(),m.Xb(16,"div",11),m.Xb(17,"button",12),m.ec("click",function(){return e.loadDefault()}),m.Xc(18,"Load Default Template"),m.Wb(),m.Wb(),m.Wb(),m.Sb(19,"br"),m.Xb(20,"div",3),m.Xb(21,"div",13),m.Xb(22,"strong"),m.Xc(23,"Saved Templates: "),m.Wb(),m.Wb(),m.Vc(24,Qt,4,1,"ng-container",14),m.Wb(),m.Sb(25,"br"),m.Xb(26,"angular-editor",15,16),m.ec("ngModelChange",function(t){return e.letterTemplate.html=t}),m.Wb(),m.Vc(29,Kt,3,3,"div",7),m.Sb(30,"br"),m.Sb(31,"br"),m.Xb(32,"div",17),m.Xb(33,"div",11),m.Xb(34,"button",18),m.ec("click",function(){return e.preview()}),m.Xc(35,"Preview"),m.Wb(),m.Wb(),m.Xb(36,"div",11),m.Xb(37,"button",18),m.ec("click",function(){return e.save()}),m.Xc(38,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(39,"div",19),m.Xb(40,"app-merge-variable-card-component",20),m.ec("insert",function(t){return e.insertVariable(t)}),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(6),i=m.Ic(13),a=m.Ic(28);m.Db(1),m.rc("nzGutter",m.xc(19,$t)),m.Db(4),m.rc("ngModel",e.letterType),m.Db(2),m.rc("ngForOf",e.defaultTemplates),m.Db(1),m.rc("ngIf",n.invalid&&(n.dirty||n.touched||e.validated)),m.Db(2),m.rc("nzGutter",16),m.Db(2),m.rc("ngModel",e.selectedLanguage)("nzDisabled",!e.letterType),m.Db(2),m.rc("ngForOf",e.languages),m.Db(1),m.rc("ngIf",i.invalid&&(i.dirty||i.touched||e.validated)),m.Db(2),m.rc("disabled",e.disableLoadDefault),m.Db(7),m.rc("ngForOf",e.letterTemplateByType),m.Db(2),m.rc("ngModel",e.letterTemplate.html)("config",e.config)("ngClass",e.validated?"submitted":null),m.Db(3),m.rc("ngIf",a.invalid&&(a.dirty||a.touched||e.validated)),m.Db(3),m.rc("nzGutter",16),m.Db(8),m.rc("variables",e.variables)("loading",e.variableLoading)("topOffset",e.topOffset)}},directives:[x.c,x.a,V.a,B.d,H.C,H.u,H.x,C.p,C.q,j.a,G.a,Y.a,i.a,C.o,bt,B.a,A.a],pipes:[_.a],styles:["[_nghost-%COMP%]     .ant-select:not(.ant-select-customize-input) .ant-select-selector{border:1px solid #d9d9d9}.scroll-container[_ngcontent-%COMP%]{width:100%;max-height:calc(100vh - 180px)!important;overflow-y:scroll!important}.variable-container[_ngcontent-%COMP%]{max-width:400px}button[_ngcontent-%COMP%]{width:100%}.error-text[_ngcontent-%COMP%]{width:100%;color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.ng-touched{border-color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.submitted{border-color:#c81c1c}[_nghost-%COMP%]     angular-editor.ng-invalid.ng-touched>div>div:nth-child(2)>div{border-color:#c81c1c!important}[_nghost-%COMP%]     angular-editor.ng-invalid.submitted>div>div:nth-child(2)>div{border-color:#c81c1c!important}  body,   html{width:100%!important;height:100%!important;font-family:Nunito!important}[_nghost-%COMP%]     .angular-editor-textarea{resize:none!important;padding:0!important}.card-container[_ngcontent-%COMP%]{max-width:9in;min-width:9in}"]}),Jt),ee=n("bE2y"),ne=n("wjar");function ie(t,e){if(1&t&&(m.Xb(0,"td",19),m.Xc(1),m.Wb()),2&t){var n=m.ic().$implicit;m.tc("routerLink","/patient/view/",null==n?null:n.userId,""),m.Db(1),m.Zc(" ",n.userId," ")}}function ae(t,e){if(1&t&&(m.Xb(0,"td",19),m.Xc(1),m.Wb()),2&t){var n=m.ic().$implicit;m.tc("routerLink","/leads/details/",null==n?null:n.leadId,""),m.Db(1),m.Zc(" ",n.leadId," ")}}function oe(t,e){1&t&&(m.Xb(0,"nz-tag",20),m.Xc(1,"Yes"),m.Wb())}function re(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",21),m.ec("click",function(){m.Lc(n);var t=m.ic().$implicit;return m.ic().onExpandChange(t.id,!0)}),m.Xc(1," Show More Info"),m.Wb()}}function ce(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",22),m.ec("click",function(){m.Lc(n);var t=m.ic().$implicit;return m.ic().onExpandChange(t.id,!1)}),m.Xc(1," Hide More Info "),m.Wb()}}function se(t,e){if(1&t&&(m.Xb(0,"tr"),m.Xb(1,"td"),m.Xc(2),m.Wb(),m.Xb(3,"td"),m.Xc(4),m.Wb(),m.Xb(5,"td"),m.Xc(6),m.Wb(),m.Xb(7,"td"),m.Xc(8),m.jc(9,"date"),m.Wb(),m.Wb()),2&t){var n=e.$implicit;m.Db(2),m.Yc(n.id),m.Db(2),m.Yc(n.description),m.Db(2),m.Yc(n.expected_delivery_date),m.Db(2),m.Yc(m.lc(9,4,n.send_date,"medium"))}}var le=function(t){return[t]};function ue(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"nz-table",23,24),m.Xb(3,"thead"),m.Xb(4,"tr"),m.Xb(5,"th"),m.Xc(6,"Id"),m.Wb(),m.Xb(7,"th"),m.Xc(8,"Description"),m.Wb(),m.Xb(9,"th"),m.Xc(10,"Expected Delivery Date"),m.Wb(),m.Xb(11,"th"),m.Xc(12,"Sent Date"),m.Wb(),m.Wb(),m.Wb(),m.Xb(13,"tbody"),m.Vc(14,se,10,7,"tr",8),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.Ic(2),i=m.ic().$implicit,a=m.ic();m.Db(1),m.rc("nzData",m.yc(3,le,a.formattedMessage.get(i.id)))("nzShowPagination",!1),m.Db(13),m.rc("ngForOf",n.data)}}function de(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",2),m.Xb(1,"button",28),m.ec("click",function(){m.Lc(n);var t=m.ic(2).$implicit;return m.ic().retryLetter(t.id)}),m.Xc(2," Retry "),m.Wb(),m.Wb()}2&t&&(m.Db(1),m.rc("nzSize","middle"))}function pe(t,e){1&t&&(m.Xb(0,"div",2),m.Xb(1,"nz-tag",29),m.Xc(2,"Added back to queue"),m.Wb(),m.Wb())}function be(t,e){if(1&t&&(m.Xb(0,"div",25),m.Xb(1,"div",26),m.Xc(2),m.Wb(),m.Vc(3,de,3,1,"div",27),m.Vc(4,pe,3,0,"div",27),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(2),m.Yc(n.responseBody),m.Db(1),m.rc("ngIf",!n.stateRetry),m.Db(1),m.rc("ngIf",n.stateRetry)}}function he(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"tr"),m.Vc(2,ie,2,2,"td",9),m.Vc(3,ae,2,2,"td",9),m.Xb(4,"td",10),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().preview(t.letterTemplateId)}),m.Xc(5),m.Wb(),m.Xb(6,"td"),m.Xc(7),m.Wb(),m.Xb(8,"td"),m.Vc(9,oe,2,0,"nz-tag",11),m.Wb(),m.Xb(10,"td"),m.Xb(11,"span",12),m.Xc(12),m.Wb(),m.Wb(),m.Xb(13,"td"),m.Xc(14),m.Wb(),m.Xb(15,"td"),m.Xc(16),m.jc(17,"date"),m.Wb(),m.Xb(18,"td",13),m.ec("nzExpandChange",function(t){m.Lc(n);var i=e.$implicit;return m.ic().onExpandChange(i.id,t)}),m.Vc(19,re,2,0,"button",14),m.Vc(20,ce,2,0,"button",15),m.Wb(),m.Wb(),m.Xb(21,"tr",16),m.Vc(22,ue,15,5,"ng-container",17),m.Vc(23,be,5,3,"ng-template",null,18,m.Wc),m.Wb(),m.Ub()}if(2&t){var i=e.$implicit,a=m.Ic(24),o=m.ic();m.Db(2),m.rc("ngIf",i.userId),m.Db(1),m.rc("ngIf",i.leadId),m.Db(2),m.Zc(" ",i.letterTemplateId," "),m.Db(2),m.Zc(" ",i.description||"N/A"," "),m.Db(2),m.rc("ngIf",i.stateRetry),m.Db(2),m.rc("nzType",o.getTypeFromStatusCode(i.statusCode)),m.Db(1),m.Zc(" ",i.statusCode," "),m.Db(2),m.Zc(" ",o.formatErrorType(i.errorCode)," "),m.Db(2),m.Zc(" ",m.lc(17,16,i.createdOn,"medium")," "),m.Db(2),m.rc("nzExpand",o.expandSet.has(i.id))("nzShowExpand",!1),m.Db(1),m.rc("ngIf",!o.expandSet.has(i.id)),m.Db(1),m.rc("ngIf",o.expandSet.has(i.id)),m.Db(1),m.rc("nzExpand",o.expandSet.has(i.id)),m.Db(1),m.rc("ngIf","200"==i.statusCode)("ngIfElse",a)}}var ge,fe=((ge=function(){function t(e,n,i,a){u(this,t),this._letterTemplatesService=e,this._notificationService=n,this._templateHtmlHelperService=i,this._dataSharingService=a,this.searchKey=null,this.loading=!1,this.data=null,this.pageIndex=1,this.pageSize=10,this.onlyError=!1,this.expandSet=new Set,this.formattedMessage=new Map}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.getLetters(),this._dataSharingService.tenantSettings.subscribe(function(e){e&&(e.logoURL&&(t.logoURL=e.logoURL),t.primaryColor=e.directMailConfig.primaryColor||e.portalConfig.colorConfiguration.primaryColor)})}},{key:"formatErrorType",value:function(t){return null==t?"-":t.split("_").map(function(t){return t[0].toUpperCase()+t.substring(1).toLowerCase()}).join(" ")}},{key:"onExpandChange",value:function(t,e){e?this.expandSet.add(t):this.expandSet.delete(t)}},{key:"getLetters",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;this.loading=!0,this._letterTemplatesService.fetchSentLetter(this.searchKey,e-1,n,this.onlyError).subscribe(function(e){t.data=e,t.updateFormattedMessage(),t.loading=!1})}},{key:"onQueryParamsChange",value:function(t){console.log("onQueryParamsChange");var e=t.pageIndex,n=t.pageSize;this.getLetters(e,n)}},{key:"getTypeFromStatusCode",value:function(t){try{var e=parseInt(t,10);return e>=200&&e<300?"success":"danger"}catch(n){return null}}},{key:"updateFormattedMessage",value:function(){var t=this;this.data.content.forEach(function(e){if("200"===e.statusCode){var n=e.id,i=e.responseBody;t.formattedMessage.set(n,JSON.parse(i))}})}},{key:"openLobDashboard",value:function(t){window.open("https://dashboard.lob.com/letters/"+t)}},{key:"retryLetter",value:function(t){var e=this;console.log("Retrying : "+t),this.loading=!0,this._letterTemplatesService.retryLetterQueue(t).subscribe(function(t){e._notificationService.success("Letter","Letter is added back to the queue"),e.getLetters()},function(t){console.log("Error: ",t),e.loading=!1,e._notificationService.error("Letter","Unable to retry - "+t.error)})}},{key:"preview",value:function(t){var e=this;console.log("Previewing : "+t),this._letterTemplatesService.fetchLetterTemplateById(t).subscribe(function(t){var n=e._templateHtmlHelperService.beautifyDynamicValues(e._templateHtmlHelperService.formatHtml(t.html),e.logoURL,e.primaryColor),i=window.open();i.document.write(n),i.document.close()})}}]),t}()).\u0275fac=function(t){return new(t||ge)(m.Rb(Bt.a),m.Rb(S.b),m.Rb(nt.a),m.Rb(v.a))},ge.\u0275cmp=m.Lb({type:ge,selectors:[["app-sent-mail-listing"]],decls:31,vars:11,consts:[[1,"container"],["nz-row","","nzSpan","24","nzGutter","16","nzAlign","middle"],["nz-col",""],[3,"ngModel","ngModelChange"],["nz-radio-button","",3,"nzValue"],["nzShowSizeChanger","",3,"nzData","nzShowPagination","nzLoading","nzFrontPagination","nzTotal","nzPageIndex","nzPageSize","nzQueryParams"],["letterTable",""],["nzWidth","100px"],[4,"ngFor","ngForOf"],["actionable","",3,"routerLink",4,"ngIf"],["actionable","",3,"click"],["nzColor","success",4,"ngIf"],["nz-typography","",3,"nzType"],[3,"nzExpand","nzShowExpand","nzExpandChange"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],["nz-button","","nzType","default",3,"click",4,"ngIf"],[3,"nzExpand"],[4,"ngIf","ngIfElse"],["errorMessage",""],["actionable","",3,"routerLink"],["nzColor","success"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","default",3,"click"],["nzSize","middle",3,"nzData","nzShowPagination"],["innerTable",""],["nz-row",""],["nzFlex","1","nz-col",""],["nz-col","",4,"ngIf"],["nz-button","","nzType","primary",2,"margin-right","4px",3,"nzSize","click"],["nzColor","processing"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xc(3,"Display Filter"),m.Wb(),m.Xb(4,"div",2),m.Xb(5,"nz-radio-group",3),m.ec("ngModelChange",function(t){return e.onlyError=t})("ngModelChange",function(){return e.getLetters()}),m.Xb(6,"label",4),m.Xc(7,"Show All"),m.Wb(),m.Xb(8,"label",4),m.Xc(9,"Show Only Failed"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"nz-table",5,6),m.ec("nzQueryParams",function(t){return e.onQueryParamsChange(t)}),m.Xb(12,"thead"),m.Xb(13,"tr"),m.Xb(14,"th"),m.Xc(15,"User Id"),m.Wb(),m.Xb(16,"th"),m.Xc(17,"Template Id"),m.Wb(),m.Xb(18,"th"),m.Xc(19,"Description"),m.Wb(),m.Xb(20,"th"),m.Xc(21,"Retry Letter"),m.Wb(),m.Xb(22,"th"),m.Xc(23,"Status Code"),m.Wb(),m.Xb(24,"th"),m.Xc(25,"Error Type"),m.Wb(),m.Xb(26,"th"),m.Xc(27,"Created On"),m.Wb(),m.Sb(28,"th",7),m.Wb(),m.Wb(),m.Xb(29,"tbody"),m.Vc(30,he,25,19,"ng-container",8),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(11);m.Db(5),m.rc("ngModel",e.onlyError),m.Db(1),m.rc("nzValue",!1),m.Db(2),m.rc("nzValue",!0),m.Db(2),m.rc("nzData",null==e.data?null:e.data.content)("nzShowPagination",!0)("nzLoading",e.loading)("nzFrontPagination",!1)("nzTotal",null==e.data?null:e.data.totalElements)("nzPageIndex",e.pageIndex)("nzPageSize",e.pageSize),m.Db(20),m.rc("ngForOf",n.data)}},directives:[x.c,x.a,ee.c,H.u,H.x,ee.b,ee.a,y.f,y.n,y.o,y.e,y.l,y.i,C.p,C.q,ne.a,E.a,y.j,y.p,y.g,r.h,A.a,j.a,G.a,Y.a],pipes:[C.e],styles:[".sub-table-header[_ngcontent-%COMP%]{background-color:var(--primary-color);border-radius:4px;font-weight:700}"]}),ge),ve=["defaultPage"],me=function(){return["."]};function Se(t,e){1&t&&(m.Xb(0,"a",6),m.Xc(1," Letter Templates "),m.Wb()),2&t&&m.rc("routerLink",m.xc(1,me))}var ye=function(){return{tab:"default-templates"}};function Te(t,e){1&t&&(m.Xb(0,"a",9),m.Xc(1," Default Templates "),m.Wb()),2&t&&m.rc("routerLink",m.xc(2,me))("queryParams",m.xc(3,ye))}function Ce(t,e){1&t&&(m.Xb(0,"nz-tab"),m.Vc(1,Te,2,4,"a",7),m.Sb(2,"app-default-letter-templates",null,8),m.Wb())}var Ee=function(){return{tab:"merge-variables"}};function Ie(t,e){1&t&&(m.Xb(0,"a",9),m.Xc(1," Merge Variables "),m.Wb()),2&t&&m.rc("routerLink",m.xc(2,me))("queryParams",m.xc(3,Ee))}function Me(t,e){1&t&&(m.Xb(0,"nz-tab"),m.Vc(1,Ie,2,4,"a",7),m.Sb(2,"app-template-variable-list"),m.Wb())}var Ae=function(){return{tab:"letter-dashboards"}};function _e(t,e){1&t&&(m.Xb(0,"a",9),m.Xc(1," Letter Dashboard "),m.Wb()),2&t&&m.rc("routerLink",m.xc(2,me))("queryParams",m.xc(3,Ae))}function De(t,e){1&t&&(m.Xb(0,"nz-tab"),m.Vc(1,_e,2,4,"a",7),m.Sb(2,"app-sent-mail-listing"),m.Wb())}function ze(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"button",10),m.ec("click",function(){return m.Lc(n),m.ic(2).bulkUpload()}),m.Xc(2,"Bulk Upload"),m.Wb(),m.Ub()}}function Oe(t,e){if(1&t&&m.Vc(0,ze,3,0,"ng-container",4),2&t){var n=m.ic();m.rc("ngIf",1===n.selectedTabIndex)}}var ke,Ne,Pe,Re=[{path:"note-templates",component:R,data:a.NoteListing,canActivate:[s.a,l.a]},{path:"note-templates/form",component:$,data:a.NoteForm,canActivate:[s.a,l.a]},{path:"note-templates/form/:id",component:$,data:a.NoteForm,canActivate:[s.a,l.a]},{path:"letter-templates",component:(ke=function(t){o(n,t);var e=c(n);function n(t){var i;return u(this,n),(i=e.call(this))._router=t,i.isTenantAdmin=!1,i.isTenantAdmin=localStorage.getItem("loggedInUserRole")==f.a.TENANT_ADMIN,i}return p(n,[{key:"ngOnInit",value:function(){}},{key:"newTemplate",value:function(){this._router.navigate(["templates/letter-templates/admin/form"])}},{key:"newVariable",value:function(){this._router.navigate(["templates/variables/form"])}},{key:"bulkUpload",value:function(){this.defaultPage.bulkUpload()}}]),n}(b.a),ke.\u0275fac=function(t){return new(t||ke)(m.Rb(r.g))},ke.\u0275cmp=m.Lb({type:ke,selectors:[["app-template-page"]],viewQuery:function(t,e){var n;1&t&&m.ed(ve,1),2&t&&m.Hc(n=m.fc())&&(e.defaultPage=n.first)},features:[m.Ab],decls:11,vars:7,consts:[["title","dashboard","defaultTitle","Letter Templates",3,"isSearchEnabled","isActionEnabled"],[1,"container"],["nzLinkRouter","",3,"nzTabBarExtraContent","nzSelectedIndex","nzSelectedIndexChange"],["nz-tab-link","",3,"routerLink",4,"nzTabLink"],[4,"ngIf"],["extraActions",""],["nz-tab-link","",3,"routerLink"],["nz-tab-link","","queryParamsHandling","merge",3,"routerLink","queryParams",4,"nzTabLink"],["defaultPage",""],["nz-tab-link","","queryParamsHandling","merge",3,"routerLink","queryParams"],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){if(1&t&&(m.Sb(0,"app-header",0),m.Xb(1,"div",1),m.Xb(2,"nz-tabset",2),m.ec("nzSelectedIndexChange",function(t){return e.selectedTabIndex=t}),m.Xb(3,"nz-tab"),m.Vc(4,Se,2,2,"a",3),m.Sb(5,"app-letter-templates"),m.Wb(),m.Vc(6,Ce,4,0,"nz-tab",4),m.Vc(7,Me,3,0,"nz-tab",4),m.Vc(8,De,3,0,"nz-tab",4),m.Wb(),m.Vc(9,Oe,1,1,"ng-template",null,5,m.Wc),m.Wb()),2&t){var n=m.Ic(10);m.rc("isSearchEnabled",!1)("isActionEnabled",!1),m.Db(2),m.rc("nzTabBarExtraContent",n)("nzSelectedIndex",e.selectedTabIndex),m.Db(4),m.rc("ngIf",e.isTenantAdmin),m.Db(1),m.rc("ngIf",e.isTenantAdmin),m.Db(1),m.rc("ngIf",e.isTenantAdmin)}},directives:[Ft.a,Ht.d,Ht.a,Ht.c,te,C.q,Ht.b,r.j,Rt,Ut,fe,j.a,G.a,Y.a],styles:["[_nghost-%COMP%]     .ant-tabs-extra-content{display:flex}[_nghost-%COMP%]     .ant-tabs-extra-content button:nth-child(2){margin-left:15px}a[_ngcontent-%COMP%]{color:unset}"]}),ke),canActivate:[s.a,l.a]},{path:"letter-templates/admin",component:Rt,data:a.DefaultLetterListing,canActivate:[s.a,l.a]},{path:"letter-templates/admin/form",component:Et,data:a.LetterForm,canActivate:[s.a,l.a]},{path:"letter-templates/admin/form/:id",component:Et,data:a.LetterForm,canActivate:[s.a,l.a]},{path:"variables",component:Ut,data:a.VariableList,canActivate:[s.a,l.a]},{path:"variables/form",component:Wt,data:a.VariableForm,canActivate:[s.a,l.a]},{path:"variables/form/:id",component:Wt,data:a.VariableForm,canActivate:[s.a,l.a]}],Xe=((Ne=function t(){u(this,t)}).\u0275mod=m.Pb({type:Ne}),Ne.\u0275inj=m.Ob({factory:function(t){return new(t||Ne)},imports:[[r.k.forChild(Re)],r.k]}),Ne),Le=n("SHZf"),we=n("UFn0"),We=n("WoUL"),Ve=n("KZX/"),xe=((Pe=function t(e){u(this,t),this.translationService=e,e.setLanguage()}).\u0275mod=m.Pb({type:Pe}),Pe.\u0275inj=m.Ob({factory:function(t){return new(t||Pe)(m.bc(We.a))},imports:[[C.c,we.a,H.o,H.B,r.k,Ve.a,Xe,i.b,Le.a.forRoot()]]}),Pe)},Z93s:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function t(){u(this,t),this.content="",this.type="USER",this.caretakerIds=new Array,this.noteChangeHistory=new Array,this.reason=""}},ZFQP:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function t(){u(this,t),this.caretakerAlert=!1,this.patientAlert=!1,this.guardianAlert=!1}},ZKr6:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("bnsq"),a=n("fXoL"),o=function(){var t=function(){function t(e,n,i){u(this,t),this._viewContainerRef=e,this._templateRef=n,this._permissionsService=i}return p(t,[{key:"isFeaturePermitted",set:function(t){this.permissions=t,this.checkIfPermitted()}},{key:"checkIfPermitted",value:function(){var t;this.disableFeature(),"TENANT_ADMIN"!==localStorage.getItem("loggedInUserAccountType")&&(null===(t=this.permissions)||void 0===t?void 0:t.length)?this.userHasPermissions()?this.enableFeature():this.disableFeature():this.enableFeature()}},{key:"userHasPermissions",value:function(){var t=this._permissionsService.getPermissionsForUser(),e=!0;return!!(null==t?void 0:t.length)&&(this.permissions.forEach(function(n){-1===t.findIndex(function(t){return t===n})&&(e=!1)}),e)}},{key:"enableFeature",value:function(){this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"disableFeature",value:function(){this._viewContainerRef.clear()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Rb(a.R),a.Rb(a.N),a.Rb(i.a))},t.\u0275dir=a.Mb({type:t,selectors:[["","isFeaturePermitted",""]],inputs:{isFeaturePermitted:"isFeaturePermitted"}}),t}()},ZO2R:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n("fXoL"),a=n("5+WD"),o=n("B+r4"),r=n("C2AL"),c=n("FwiY"),s=n("ofXK"),l=n("OzZK"),d=n("RwU8");function b(t,e){1&t&&(i.Vb(0),i.Xc(1," All "),i.Ub())}var h=function(){var t=function(){function t(){var e=this;u(this,t),this.totalPatientsSelected=0,this.userType="PATIENT",this.primaryButtonLoading=!1,this.secondaryButtonLoading=!1,this.onPrimaryActionButtonClicked=new i.n,this.onSecondaryActionButtonClicked=new i.n,this.userTypeString="patient",this.primaryButton=function(){return e.onPrimaryActionButtonClicked.emit()},this.secondaryButton=function(){return e.onSecondaryActionButtonClicked.emit()}}return p(t,[{key:"ngOnInit",value:function(){switch(this.userType){case"PATIENT":this.userTypeString="patient(s)";break;case"LEAD":this.userTypeString="lead(s)";break;case"STAFF":this.userTypeString="staff(s)";break;case"APPOINTMENT":this.userTypeString="appointment(s)"}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["selected-patient-action"]],inputs:{primaryActionText:"primaryActionText",secondaryActionText:"secondaryActionText",totalPatientsSelected:"totalPatientsSelected",totalCount:"totalCount",userType:"userType",primaryButtonLoading:"primaryButtonLoading",secondaryButtonLoading:"secondaryButtonLoading"},outputs:{onPrimaryActionButtonClicked:"onPrimaryActionButtonClicked",onSecondaryActionButtonClicked:"onSecondaryActionButtonClicked"},decls:16,vars:12,consts:[["cdkDrag","","cdkDragRootElement",".ant-modal-content","cdkDragHandle","",1,"background"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","12","nzXl","12"],[1,"number"],["nz-icon","",3,"nzType","nzTheme","nzTwotoneColor"],[4,"ngIf"],[2,"padding-left","2px"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6","nzXl","6",2,"text-align","center"],["nz-button","","nzType","link",1,"floatable-component-btn","greyed",3,"nzLoading","click"],["nz-button","","nzType","primary",1,"floatable-component-btn",3,"nzSize","nzLoading","click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"div",2),i.Xb(3,"p",3),i.Sb(4,"i",4),i.Xc(5,"\xa0 "),i.Vc(6,b,2,0,"ng-container",5),i.Xb(7,"strong",6),i.Xc(8),i.Wb(),i.Xc(9),i.Wb(),i.Wb(),i.Xb(10,"div",7),i.Xb(11,"a",8),i.ec("click",function(){return e.secondaryButton()}),i.Xc(12),i.Wb(),i.Wb(),i.Xb(13,"div",7),i.Xb(14,"button",9),i.ec("click",function(){return e.primaryButton()}),i.Xc(15),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Db(1),i.rc("nzGutter",4),i.Db(3),i.rc("nzType","check-circle")("nzTheme","twotone")("nzTwotoneColor","#52c41a"),i.Db(2),i.rc("ngIf",e.totalPatientsSelected==e.totalCount),i.Db(2),i.Yc(e.totalPatientsSelected),i.Db(1),i.Zc(" ",e.userTypeString," have been selected. "),i.Db(2),i.rc("nzLoading",e.secondaryButtonLoading),i.Db(1),i.Zc(" ",e.secondaryActionText," "),i.Db(2),i.rc("nzSize","medium")("nzLoading",e.primaryButtonLoading),i.Db(1),i.Zc(" ",e.primaryActionText," "))},directives:[a.a,a.b,o.c,o.a,r.a,c.a,s.q,l.a,d.a],styles:[".background[_ngcontent-%COMP%]{position:fixed;height:auto;min-height:60px;bottom:20px;color:var(--neutral-color);right:20px;border:1px solid transparent;border-radius:5px;width:35%;background:rgba(0,0,0,.8);padding:5px;z-index:999}.floatable-component-btn[_ngcontent-%COMP%]{text-align:center;margin-top:8px}p[_ngcontent-%COMP%]{margin-top:16px;margin-bottom:0}p.number[_ngcontent-%COMP%]{padding-left:15px}.greyed[_ngcontent-%COMP%]{color:#8a8a8a}[_nghost-%COMP%]     .ant-btn-link{padding:0!important}[_nghost-%COMP%]     .ant-btn{padding:4.8px 10px}"]}),t}()},ZPfs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.VIDEO_CALL="VIDEO_CALL",t.CALL="CALL",t.INBOUND_CALL="INBOUND_CALL",t.OUTBOUND_CALL="OUTBOUND_CALL",t.HOME_VISIT="HOME_VISIT",t.CLINIC_VISIT="CLINIC_VISIT",t.OTHER="OTHER",t}({})},ZPpM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t),this._firstName="",this._lastName="",this.fullName=""}return p(t,[{key:"firstName",set:function(t){this._firstName=t,this.setFullName()}},{key:"lastName",set:function(t){this._lastName=t,this.setFullName()}},{key:"setFullName",value:function(){var t=navigator.language.split("-")[0];this.fullName="ja"==t?this._lastName+" "+this._firstName:this._firstName+" "+this._lastName}},{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-full-name"]],inputs:{firstName:"firstName",lastName:"lastName"},decls:1,vars:1,template:function(t,e){1&t&&i.Xc(0),2&t&&i.Zc("",e.fullName,"\n")},styles:[""]}),t}()},ZVns:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("SxV6"),a=n("AytR"),o=n("fXoL"),r=n("tk/3"),c=function(){var t=function(){function t(e){u(this,t),this._http=e}return p(t,[{key:"getTwilioCapabilityToken",value:function(e,n){return this._http.get(t.AUDIOCALL_ROOT_ENDPOINT+"twilio-capability-token/"+e+"?tenantId="+n).pipe(Object(i.a)())}},{key:"getVoiceCallStatus",value:function(t,e){var n=localStorage.getItem("loggedInUser");return this._http.get(a.g.url+"/v2/voice-calls/status?ParentCallSid="+e+"&InitiatedByUserId="+n+"&ToUserId="+t+"&CallStatus=triggered")}},{key:"createAudiocallSession",value:function(e){return this._http.post(t.AUDIOCALL_ROOT_ENDPOINT+"create",e).pipe(Object(i.a)())}},{key:"updateAndFetchVoiceCallData",value:function(t,e,n,i,o){var r=localStorage.getItem("loggedInUser");return this._http.get(a.g.url+"/v2/voice-calls/callHistory?CallSid="+e+"&InitiatedByUserId="+r+"&ToUserId="+t+"&callDuration="+n+"&callStartTime="+i+"&callEndTime="+o)}},{key:"getVoiceCallDetails",value:function(t){return this._http.get(a.g.url+"/v2/voice-calls/call/details/"+t)}},{key:"startVoiceCallRecording",value:function(e){return this._http.get(t.AUDIOCALL_ROOT_ENDPOINT+"record/START/"+e)}},{key:"stopVoiceCallRecording",value:function(e,n){return this._http.get(t.AUDIOCALL_ROOT_ENDPOINT+"record/STOP/"+e+"?recordingId="+n)}}]),t}();return t.AUDIOCALL_ROOT_ENDPOINT=a.g.url+"/v2/voice-calls/",t.\u0275fac=function(e){return new(e||t)(o.bc(r.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},ZlwT:function(t,e,n){"use strict";n.r(e),n.d(e,"SupportModule",function(){return W});var i,a,r,s,l,d,b=n("ofXK"),h=n("fXoL"),g=((i=function t(){u(this,t)}).\u0275fac=function(t){return new(t||i)},i.\u0275cmp=h.Lb({type:i,selectors:[["app-video-player"]],inputs:{videoURL:"videoURL"},decls:1,vars:1,consts:[["title","Help Video","webkitallowfullscreen","","mozallowfullscreen","","allowfullscreen","true",1,"video-player",3,"src"]],template:function(t,e){1&t&&h.Sb(0,"iframe",0),2&t&&h.rc("src",e.videoURL,h.Nc)},styles:[".video-player[_ngcontent-%COMP%]{height:60vh;width:100%}"]}),i),f=n("dEAy"),v=((a=function(){function t(e){u(this,t),this._modalService=e}return p(t,[{key:"createVideoPlayerModal",value:function(t){return this._modalService.create({nzContent:g,nzComponentParams:{videoURL:t},nzWidth:"800px",nzBodyStyle:{padding:"0"},nzFooter:null,nzCloseIcon:null})}}]),t}()).\u0275fac=function(t){return new(t||a)(h.bc(f.f))},a.\u0275prov=h.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),m=n("1G5W"),S=n("qQcL"),y=n("igu/"),T=n("tk/3"),C=n("AytR"),E=((r=function(){function t(e){u(this,t),this._http=e,this.apiKey=C.g.youtubeAPIKey}return p(t,[{key:"fetchPDFBlobForHelpGuide",value:function(t){var e=new T.g({bypass:"yes"});return this._http.get(t,{headers:e,responseType:"blob"})}},{key:"fetchVideos",value:function(t){var e=new T.g({bypass:"yes"});return this._http.get("https://www.googleapis.com/youtube/v3/playlistItems?key="+this.apiKey+"&playlistId="+t+"&part=snippet&type=video,id&maxResults=50",{headers:e})}}]),t}()).\u0275fac=function(t){return new(t||r)(h.bc(T.c))},r.\u0275prov=h.Nb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),I={kind:"youtube#playlistItemListResponse",etag:"5FkonseNPSLN_1dzLxyFyLCqfbg",items:[{kind:"youtube#playlistItem",etag:"yW15PMN10VOdF6snVpwo64fhQ5o",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC45ODRDNTg0QjA4NkFBNkQy",snippet:{publishedAt:"2020-04-06T07:28:33Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"Coronavirus Prevention Measures",description:"COVID-19 self-screening tool is for general information purposes only and it is not a substitute for professional medical advice and is not intended to be used for the diagnosis or treatment of any medical condition, including COVID-19. Never ignore professional medical advice in seeking treatment because of something you have read on our Website or self-screening tool.",thumbnails:{default:{url:"https://i.ytimg.com/vi/AQVVVrYsJUk/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/AQVVVrYsJUk/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/AQVVVrYsJUk/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/AQVVVrYsJUk/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/AQVVVrYsJUk/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:0,resourceId:{kind:"youtube#video",videoId:"AQVVVrYsJUk"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"kd0xtTIDUTwgsWx7TpVqFHhVxZA",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC5EMEEwRUY5M0RDRTU3NDJC",snippet:{publishedAt:"2019-12-10T07:08:54Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to record TMS Time?",description:"Shows how to record the time spent towards treatment management.",thumbnails:{default:{url:"https://i.ytimg.com/vi/EkPXPIG_H4Q/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/EkPXPIG_H4Q/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/EkPXPIG_H4Q/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/EkPXPIG_H4Q/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/EkPXPIG_H4Q/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:1,resourceId:{kind:"youtube#video",videoId:"EkPXPIG_H4Q"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"eodZV6PFXODLYMOoX9Qan8HEK4o",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC41NkI0NEY2RDEwNTU3Q0M2",snippet:{publishedAt:"2019-08-31T06:10:13Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to create educational content?",description:"How to create educational content?",thumbnails:{default:{url:"https://i.ytimg.com/vi/YM1oFYBxHqQ/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/YM1oFYBxHqQ/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/YM1oFYBxHqQ/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/YM1oFYBxHqQ/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/YM1oFYBxHqQ/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:2,resourceId:{kind:"youtube#video",videoId:"YM1oFYBxHqQ"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"hFm5M1wA1b8xiHBv-X7MsDi-O6o",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC40NzZCMERDMjVEN0RFRThB",snippet:{publishedAt:"2019-08-31T06:13:10Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view the care plan log assigned to a patient?",description:"How to view the care plan log assigned to a patient?",thumbnails:{default:{url:"https://i.ytimg.com/vi/_4j8sC0s3Ik/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/_4j8sC0s3Ik/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/_4j8sC0s3Ik/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/_4j8sC0s3Ik/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/_4j8sC0s3Ik/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:3,resourceId:{kind:"youtube#video",videoId:"_4j8sC0s3Ik"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"FUYsc4bHUWFqYVLOgTr3hXdYY-M",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC5GNjNDRDREMDQxOThCMDQ2",snippet:{publishedAt:"2019-08-31T06:12:55Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view alerts or notifications sent to a patient?",description:"How to view alerts or notifications sent to a patient?",thumbnails:{default:{url:"https://i.ytimg.com/vi/sKLmXPsE0oQ/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/sKLmXPsE0oQ/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/sKLmXPsE0oQ/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/sKLmXPsE0oQ/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/sKLmXPsE0oQ/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:4,resourceId:{kind:"youtube#video",videoId:"sKLmXPsE0oQ"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"whE8On8o5EYxKM21Ao1V8Wh-ZuE",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC45NDk1REZENzhEMzU5MDQz",snippet:{publishedAt:"2019-08-31T06:12:39Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view a saved episode details?",description:"How to view a saved episode details?",thumbnails:{default:{url:"https://i.ytimg.com/vi/BQUiAXhYBA8/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/BQUiAXhYBA8/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/BQUiAXhYBA8/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/BQUiAXhYBA8/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/BQUiAXhYBA8/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:5,resourceId:{kind:"youtube#video",videoId:"BQUiAXhYBA8"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"2SCfIhtFbYnkDpe559TcUXHUgqA",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC5DQUNERDQ2NkIzRUQxNTY1",snippet:{publishedAt:"2019-08-31T06:12:24Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to track important events of RPM Service Plan?",description:"How to track important events of RPM Service Plan?",thumbnails:{default:{url:"https://i.ytimg.com/vi/4cJniGbv4h8/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/4cJniGbv4h8/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/4cJniGbv4h8/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/4cJniGbv4h8/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/4cJniGbv4h8/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:6,resourceId:{kind:"youtube#video",videoId:"4cJniGbv4h8"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"nWfSze-honvd9nBQhIVkEs-6ne4",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC41MzJCQjBCNDIyRkJDN0VD",snippet:{publishedAt:"2019-08-31T06:12:08Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to see the overview of health score on the web portal?",description:"How to see the overview of health score on the web portal?",thumbnails:{default:{url:"https://i.ytimg.com/vi/CDdX1rRkejQ/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/CDdX1rRkejQ/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/CDdX1rRkejQ/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/CDdX1rRkejQ/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/CDdX1rRkejQ/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:7,resourceId:{kind:"youtube#video",videoId:"CDdX1rRkejQ"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"wurxKZu6Msf6xJKvp91bknyORRs",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC4xMkVGQjNCMUM1N0RFNEUx",snippet:{publishedAt:"2019-08-31T06:11:50Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to download RPM service report?",description:"How to download RPM service report?",thumbnails:{default:{url:"https://i.ytimg.com/vi/WyyOxzsw0x4/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/WyyOxzsw0x4/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/WyyOxzsw0x4/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/WyyOxzsw0x4/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/WyyOxzsw0x4/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:8,resourceId:{kind:"youtube#video",videoId:"WyyOxzsw0x4"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"RsN4guw00ZMCYdbeSa_cf2D_deU",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC4wOTA3OTZBNzVEMTUzOTMy",snippet:{publishedAt:"2019-08-31T06:11:22Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to create or register a new patient profile?",description:"How to create or register a new patient profile?",thumbnails:{default:{url:"https://i.ytimg.com/vi/LAFHLoTdSwc/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/LAFHLoTdSwc/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/LAFHLoTdSwc/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/LAFHLoTdSwc/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/LAFHLoTdSwc/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:9,resourceId:{kind:"youtube#video",videoId:"LAFHLoTdSwc"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"KVL8e-DdXgAVeHoZ9iT3E0BksLA",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC41MjE1MkI0OTQ2QzJGNzNG",snippet:{publishedAt:"2019-08-31T06:10:55Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to create or register a new clinician profile?",description:"How to create or register a new clinician profile?",thumbnails:{default:{url:"https://i.ytimg.com/vi/-P_GiNN3EQE/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/-P_GiNN3EQE/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/-P_GiNN3EQE/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/-P_GiNN3EQE/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/-P_GiNN3EQE/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:10,resourceId:{kind:"youtube#video",videoId:"-P_GiNN3EQE"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"LJK0Rc5v-jsG86k6D0IzKbosvQM",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC4wMTcyMDhGQUE4NTIzM0Y5",snippet:{publishedAt:"2019-08-31T06:10:34Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to create an RPM Service Episode?",description:"How to create an RPM Service Episode?",thumbnails:{default:{url:"https://i.ytimg.com/vi/p-RFD1wrplM/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/p-RFD1wrplM/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/p-RFD1wrplM/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/p-RFD1wrplM/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/p-RFD1wrplM/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:11,resourceId:{kind:"youtube#video",videoId:"p-RFD1wrplM"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]},{kind:"youtube#playlistItem",etag:"XDABE5EwE41mf_ruY3z1Q49nF2c",id:"UExQRzd2SnY3ekxPdVNJQVhtelRCc3d3eXQ4MzkzR2lXaC4yODlGNEE0NkRGMEEzMEQy",snippet:{publishedAt:"2019-08-31T06:10:13Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to assign a patient to a clinician?",description:"How to assign a patient to a clinician?",thumbnails:{default:{url:"https://i.ytimg.com/vi/xBdsUvBmVcc/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/xBdsUvBmVcc/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/xBdsUvBmVcc/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/xBdsUvBmVcc/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/xBdsUvBmVcc/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOuSIAXmzTBswwyt8393GiWh",position:12,resourceId:{kind:"youtube#video",videoId:"xBdsUvBmVcc"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"},tags:[]}],pageInfo:{totalResults:13,resultsPerPage:50}},M={kind:"youtube#playlistItemListResponse",etag:"J8YDkeiUzvJYwcbuFtINd3iBhHg",items:[{kind:"youtube#playlistItem",etag:"uORP_blTjUoJQA-k9ZdCCILKMcE",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC5DQUNERDQ2NkIzRUQxNTY1",snippet:{publishedAt:"2019-08-31T09:06:24Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view Timeline of tasks assigned to a patient?",description:"How to view Timeline of tasks assigned to a patient?",thumbnails:{default:{url:"https://i.ytimg.com/vi/8tU6ky8z1nA/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/8tU6ky8z1nA/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/8tU6ky8z1nA/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/8tU6ky8z1nA/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/8tU6ky8z1nA/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:0,resourceId:{kind:"youtube#video",videoId:"8tU6ky8z1nA"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"upOe5vkzEwyovbNlllCwHn8F9pk",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC41MzJCQjBCNDIyRkJDN0VD",snippet:{publishedAt:"2019-08-31T09:06:12Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view and add 'Medicines'?",description:"How to view and add 'Medicines'?",thumbnails:{default:{url:"https://i.ytimg.com/vi/oEofCCpkJXE/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/oEofCCpkJXE/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/oEofCCpkJXE/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/oEofCCpkJXE/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/oEofCCpkJXE/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:1,resourceId:{kind:"youtube#video",videoId:"oEofCCpkJXE"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"f2reTgTwArDbJo5ZF9x3_55EnrM",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC4xMkVGQjNCMUM1N0RFNEUx",snippet:{publishedAt:"2019-08-31T09:05:56Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view 'Care Plan' adherence?",description:"How to view 'Care Plan' adherence?",thumbnails:{default:{url:"https://i.ytimg.com/vi/XcNPk5OXpek/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/XcNPk5OXpek/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/XcNPk5OXpek/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/XcNPk5OXpek/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/XcNPk5OXpek/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:2,resourceId:{kind:"youtube#video",videoId:"XcNPk5OXpek"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"NfG6phMCPYHPXxi2ykg1UbrKfdc",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC4wOTA3OTZBNzVEMTUzOTMy",snippet:{publishedAt:"2019-08-31T09:05:42Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view 'Appointments' and mark them as complete?",description:"How to view 'Appointments' and mark them as complete?",thumbnails:{default:{url:"https://i.ytimg.com/vi/Jih_ZSB5IUE/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/Jih_ZSB5IUE/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/Jih_ZSB5IUE/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/Jih_ZSB5IUE/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/Jih_ZSB5IUE/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:3,resourceId:{kind:"youtube#video",videoId:"Jih_ZSB5IUE"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"P4qpP62kpIGCoBHAgpvSoeUb5go",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC41MjE1MkI0OTQ2QzJGNzNG",snippet:{publishedAt:"2019-08-31T09:05:26Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to track the vitals entered by patients?",description:"How to track the vitals entered by patients?",thumbnails:{default:{url:"https://i.ytimg.com/vi/XnObP6nsjVA/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/XnObP6nsjVA/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/XnObP6nsjVA/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/XnObP6nsjVA/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/XnObP6nsjVA/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:4,resourceId:{kind:"youtube#video",videoId:"XnObP6nsjVA"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"xpo3QgJrZrk7wvqTdW5E-_rvdgA",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC4wMTcyMDhGQUE4NTIzM0Y5",snippet:{publishedAt:"2019-08-31T09:05:13Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to advice patients on 'Vital Readings'?",description:"How to advice patients on 'Vital Readings'?",thumbnails:{default:{url:"https://i.ytimg.com/vi/U8sYTolQayE/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/U8sYTolQayE/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/U8sYTolQayE/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/U8sYTolQayE/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/U8sYTolQayE/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:5,resourceId:{kind:"youtube#video",videoId:"U8sYTolQayE"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"vfT0JsGdU5gU0CdBv3zIqwK_Ktc",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC4yODlGNEE0NkRGMEEzMEQy",snippet:{publishedAt:"2019-08-31T09:04:59Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to 'chat' with patients?",description:"How to 'chat' with patients?",thumbnails:{default:{url:"https://i.ytimg.com/vi/GM5tyjCKcuU/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/GM5tyjCKcuU/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/GM5tyjCKcuU/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/GM5tyjCKcuU/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/GM5tyjCKcuU/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:6,resourceId:{kind:"youtube#video",videoId:"GM5tyjCKcuU"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"X7nyqm4kr_N5_HdodywSw0f9S2k",id:"UExQRzd2SnY3ekxPczRaeWthdXZoY3hFaDNSaVBrN3d5RC41NkI0NEY2RDEwNTU3Q0M2",snippet:{publishedAt:"2019-08-31T09:04:46Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to calculate health score using clinician app?",description:"How to calculate health score using clinician app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/XP4jpykrS3E/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/XP4jpykrS3E/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/XP4jpykrS3E/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/XP4jpykrS3E/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/XP4jpykrS3E/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOs4ZykauvhcxEh3RiPk7wyD",position:7,resourceId:{kind:"youtube#video",videoId:"XP4jpykrS3E"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}}],pageInfo:{totalResults:8,resultsPerPage:50}},A={kind:"youtube#playlistItemListResponse",etag:"0ekIdoLZ3gleloph3T9zbe6xjJU",items:[{kind:"youtube#playlistItem",etag:"9VqiZBFIL0WkzYDtLw1QooqJGDo",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy45RTgxNDRBMzUwRjQ0MDhC",snippet:{publishedAt:"2021-02-08T15:51:14Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to request for an appointment?",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/AhSEXdk8RdU/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/AhSEXdk8RdU/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/AhSEXdk8RdU/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/AhSEXdk8RdU/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/AhSEXdk8RdU/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:0,resourceId:{kind:"youtube#video",videoId:"AhSEXdk8RdU"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"zUmh3f8lXIHq5-88rWXYl80-OWA",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4yMUQyQTQzMjRDNzMyQTMy",snippet:{publishedAt:"2021-02-08T15:49:46Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to track vital signs from the timeline?",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/VdWXnm3vcS0/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/VdWXnm3vcS0/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/VdWXnm3vcS0/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/VdWXnm3vcS0/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/VdWXnm3vcS0/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:1,resourceId:{kind:"youtube#video",videoId:"VdWXnm3vcS0"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"A5N2v4346jf5ycNh4n5mAVOHyh0",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy41QTY1Q0UxMTVCODczNThE",snippet:{publishedAt:"2021-02-08T15:48:01Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to measure BP using selfie vitals?",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/z3fpFzjzDIY/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/z3fpFzjzDIY/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/z3fpFzjzDIY/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/z3fpFzjzDIY/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/z3fpFzjzDIY/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:2,resourceId:{kind:"youtube#video",videoId:"z3fpFzjzDIY"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"rqmyYqbzqbO5xpi39qNydSewHG8",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy5EQUE1NTFDRjcwMDg0NEMz",snippet:{publishedAt:"2021-02-08T11:23:35Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to submit a form from the app?",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/Ovi1__esglw/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/Ovi1__esglw/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/Ovi1__esglw/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/Ovi1__esglw/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/Ovi1__esglw/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:3,resourceId:{kind:"youtube#video",videoId:"Ovi1__esglw"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"Y32icsbkVtzSXewIdHS6dNEpvO8",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy41Mzk2QTAxMTkzNDk4MDhF",snippet:{publishedAt:"2020-08-19T06:34:55Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to measure BP using Selfie Vitals - Spanish Version",description:"How to measure BP using Selfie Vitals - Spanish Version",thumbnails:{default:{url:"https://i.ytimg.com/vi/x7NMf9EhKqI/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/x7NMf9EhKqI/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/x7NMf9EhKqI/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/x7NMf9EhKqI/sddefault.jpg",width:640,height:480}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:4,resourceId:{kind:"youtube#video",videoId:"x7NMf9EhKqI"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"d7tJI_4oJYstXsFygPpBcMYbT88",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4zMDg5MkQ5MEVDMEM1NTg2",snippet:{publishedAt:"2020-08-02T05:08:48Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"Selfie Vitals - Blood Pressure",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/Otlt007bYq8/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/Otlt007bYq8/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/Otlt007bYq8/hqdefault.jpg",width:480,height:360}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:5,resourceId:{kind:"youtube#video",videoId:"Otlt007bYq8"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"oeZ0umKZfsj3Qb-bvNTl4QSjbg4",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy45ODRDNTg0QjA4NkFBNkQy",snippet:{publishedAt:"2020-07-31T18:58:01Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"Spanish Version - Patient Onboarding Tutorial",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/EKPBYmYbb-g/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/EKPBYmYbb-g/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/EKPBYmYbb-g/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/EKPBYmYbb-g/sddefault.jpg",width:640,height:480}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:6,resourceId:{kind:"youtube#video",videoId:"EKPBYmYbb-g"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"4JJMLleiHtq1zJi8K_KqzeJWf6o",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy5EMEEwRUY5M0RDRTU3NDJC",snippet:{publishedAt:"2020-07-31T18:48:04Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"English Version   Patient Onboarding Tutorial",description:"",thumbnails:{default:{url:"https://i.ytimg.com/vi/cobolLgMli4/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/cobolLgMli4/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/cobolLgMli4/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/cobolLgMli4/sddefault.jpg",width:640,height:480}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:7,resourceId:{kind:"youtube#video",videoId:"cobolLgMli4"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"UftVmbXUFtuAhDPYJk4nWDImHL4",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy5GNjNDRDREMDQxOThCMDQ2",snippet:{publishedAt:"2019-12-10T07:09:11Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to Acknowledge the Response from Clinician?",description:"Shows how to acknowledge the response provided by the clinician on vital signs recorded.",thumbnails:{default:{url:"https://i.ytimg.com/vi/96Hxroe0oTc/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/96Hxroe0oTc/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/96Hxroe0oTc/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/96Hxroe0oTc/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/96Hxroe0oTc/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:8,resourceId:{kind:"youtube#video",videoId:"96Hxroe0oTc"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"uHtHjxH97emvaEV-2tSyTeIn3jw",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy45NDk1REZENzhEMzU5MDQz",snippet:{publishedAt:"2019-08-31T09:10:42Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view timeline of tasks in Patient app?",description:"How to view timeline of tasks in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/tatM2X0RhXM/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/tatM2X0RhXM/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/tatM2X0RhXM/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/tatM2X0RhXM/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/tatM2X0RhXM/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:9,resourceId:{kind:"youtube#video",videoId:"tatM2X0RhXM"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"MaNaCD0ULIRvIpEsXiRZ8Il31WM",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy5DQUNERDQ2NkIzRUQxNTY1",snippet:{publishedAt:"2019-08-31T09:10:24Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view the trend of health vitals recorded in Patient app?",description:"How to view the trend of health vitals recorded in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/8rySjFGcPvY/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/8rySjFGcPvY/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/8rySjFGcPvY/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/8rySjFGcPvY/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/8rySjFGcPvY/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:10,resourceId:{kind:"youtube#video",videoId:"8rySjFGcPvY"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"ratjTu2DhyQfGvjywi18buU4_Hc",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy41MzJCQjBCNDIyRkJDN0VD",snippet:{publishedAt:"2019-08-31T09:10:07Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view notifications in Patient app?",description:"How to view notifications in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/94FcBGx_pj0/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/94FcBGx_pj0/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/94FcBGx_pj0/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/94FcBGx_pj0/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/94FcBGx_pj0/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:11,resourceId:{kind:"youtube#video",videoId:"94FcBGx_pj0"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"6_U6KXogsBPOFbwdwD51ddhEDNM",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4xMkVGQjNCMUM1N0RFNEUx",snippet:{publishedAt:"2019-08-31T09:09:52Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view medicine details in Patient app?",description:"How to view medicine details in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/Zgfoyn5i6Y8/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/Zgfoyn5i6Y8/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/Zgfoyn5i6Y8/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/Zgfoyn5i6Y8/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/Zgfoyn5i6Y8/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:12,resourceId:{kind:"youtube#video",videoId:"Zgfoyn5i6Y8"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"-fAhyv3b4oFVatvMyhwjdOeqVzc",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4wOTA3OTZBNzVEMTUzOTMy",snippet:{publishedAt:"2019-08-31T09:09:38Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view educational content in Patient app?",description:"How to view educational content in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/bp0MmDoZXbs/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/bp0MmDoZXbs/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/bp0MmDoZXbs/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/bp0MmDoZXbs/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/bp0MmDoZXbs/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:13,resourceId:{kind:"youtube#video",videoId:"bp0MmDoZXbs"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"r-8ytCYOUOMRZ5uqAOd-sg4gIwk",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy41MjE1MkI0OTQ2QzJGNzNG",snippet:{publishedAt:"2019-08-31T09:09:25Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view care plan adherence in Patient app?",description:"How to view care plan adherence in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/INB57R6Sr84/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/INB57R6Sr84/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/INB57R6Sr84/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/INB57R6Sr84/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/INB57R6Sr84/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:14,resourceId:{kind:"youtube#video",videoId:"INB57R6Sr84"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"tVL9haFAGpeII6otbwI07CDDfW4",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4wMTcyMDhGQUE4NTIzM0Y5",snippet:{publishedAt:"2019-08-31T09:09:13Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to view appointments in Patient app?",description:"How to view appointments in Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/O6GPZX-f3uw/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/O6GPZX-f3uw/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/O6GPZX-f3uw/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/O6GPZX-f3uw/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/O6GPZX-f3uw/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:15,resourceId:{kind:"youtube#video",videoId:"O6GPZX-f3uw"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"xjN02_Er1aYANIepc9lK2aWunss",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy4yODlGNEE0NkRGMEEzMEQy",snippet:{publishedAt:"2019-08-31T09:09:00Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to save health vitals reading manually?",description:"How to save health vitals reading manually?",thumbnails:{default:{url:"https://i.ytimg.com/vi/tbiOE6Pugvk/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/tbiOE6Pugvk/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/tbiOE6Pugvk/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/tbiOE6Pugvk/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/tbiOE6Pugvk/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:16,resourceId:{kind:"youtube#video",videoId:"tbiOE6Pugvk"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}},{kind:"youtube#playlistItem",etag:"y-XeCaBqMkZB8Q_xdvz4vfDiW8o",id:"UExQRzd2SnY3ekxPdnNoai0wdDd2dVA4MzdHVXVNblNvSy41NkI0NEY2RDEwNTU3Q0M2",snippet:{publishedAt:"2019-08-31T09:08:47Z",channelId:"UCMhVt6ydEMqERkw2bXEc3mg",title:"How to chat with care team using Patient app?",description:"How to chat with care team using Patient app?",thumbnails:{default:{url:"https://i.ytimg.com/vi/tKnU_5PuMN0/default.jpg",width:120,height:90},medium:{url:"https://i.ytimg.com/vi/tKnU_5PuMN0/mqdefault.jpg",width:320,height:180},high:{url:"https://i.ytimg.com/vi/tKnU_5PuMN0/hqdefault.jpg",width:480,height:360},standard:{url:"https://i.ytimg.com/vi/tKnU_5PuMN0/sddefault.jpg",width:640,height:480},maxres:{url:"https://i.ytimg.com/vi/tKnU_5PuMN0/maxresdefault.jpg",width:1280,height:720}},channelTitle:"Cooey",playlistId:"PLPG7vJv7zLOvshj-0t7vuP837GUuMnSoK",position:17,resourceId:{kind:"youtube#video",videoId:"tKnU_5PuMN0"},videoOwnerChannelTitle:"Cooey",videoOwnerChannelId:"UCMhVt6ydEMqERkw2bXEc3mg"}}],pageInfo:{totalResults:18,resultsPerPage:50}},_=n("jhN1"),D=n("JA5x"),z=n("Ff2k"),O=((s=function(t){o(n,t);var e=c(n);function n(t,i,a,o){var r;return u(this,n),(r=e.call(this))._supportService=t,r._sanitizer=i,r._dataSharingService=a,r._supportModalService=o,r.rpmActive=!1,r.generalActive=!1,r}return p(n,[{key:"ngOnInit",value:function(){this.getTenantConfig(),this.getSupportVideos()}},{key:"getTenantConfig",value:function(){var t=this;this._dataSharingService.tenantSettings.pipe(Object(m.a)(this.unsubscribed)).subscribe(function(e){e&&e.episodeBlueprints&&e.episodeBlueprints.length&&e.episodeBlueprints.forEach(function(e){"RPM"!==e.type||e.archived||(t.rpmActive=!0),"GENERAL"!==e.type||e.archived||(t.generalActive=!0)})})}},{key:"viewHelpGuide",value:function(t){var e=this;t="https://api.cooeyhealth.com/v2/media/"+t,this._applicationInsightsService.downloadStartReportEvent("","","help_guides","help_guides"),this._supportService.fetchPDFBlobForHelpGuide(t).subscribe(function(t){var n=new Blob([t],{type:"application/pdf"}),i=URL.createObjectURL(n);e._applicationInsightsService.downloadSuccessReportEvent("",i,"help_guides","help_guides"),window.open(i)},function(t){return e._applicationInsightsService.downloadFailReportEvent("","",t.error.message,"help_guides","help_guides")})}},{key:"getSupportVideos",value:function(){this.portalVideos=this.createVideoArrayObject(I),this.clinicianVideos=this.createVideoArrayObject(M),this.patientVideos=this.createVideoArrayObject(A)}},{key:"createVideoArrayObject",value:function(t){var e=this;return t.items.map(function(t){return{title:t.snippet.title,videoId:e._sanitizer.bypassSecurityTrustResourceUrl("https://www.youtube.com/embed/"+t.snippet.resourceId.videoId+"?rel=0")}})}},{key:"playVideo",value:function(t,e){t.preventDefault(),this._supportModalService.createVideoPlayerModal(e.videoId)}},{key:"viewConfluence",value:function(t){window.open("https://cooeyhealth.atlassian.net/wiki/external/".concat(t))}}]),n}(S.a)).\u0275fac=function(t){return new(t||s)(h.Rb(E),h.Rb(_.b),h.Rb(y.a),h.Rb(v))},s.\u0275cmp=h.Lb({type:s,selectors:[["app-help-guides"]],features:[h.Ab],decls:74,vars:6,consts:[[1,"container"],[3,"nzItemLayout"],[1,"clickable"],["nzTitle","Patient Profile - Creation & other actions","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Diagnosis Codes","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Genesys","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],[1,"heading-div"],["nzTitle","Creating an episode","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Episode States","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Patient Consent","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","RPM Onboarding: Onboard patient \\ Create RPM Episode and assign Care plan","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Leads Flow","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","CCM Overview","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Plan Of Care","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Editing a Plan Of Care","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Appointments in CCM","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Viewing Patients","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Primary and Secondary Staff","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Patient Status","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Reports","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Dashboard (RPM Monitoring)","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Alerts","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"],["nzTitle","Automated SMS Reminders","nzAvatar","../../../assets/images/quick-user-guide.jpg",3,"click"]],template:function(t,e){1&t&&(h.Xb(0,"div",0),h.Xb(1,"h3"),h.Xb(2,"strong"),h.Xc(3,"Setting up the Cooey Health Portal"),h.Wb(),h.Wb(),h.Xb(4,"nz-card"),h.Xb(5,"nz-list",1),h.Xb(6,"nz-list-item",2),h.Xb(7,"nz-list-item-meta",3),h.ec("click",function(){return e.viewConfluence("532840450/ZjAyYjZhMjE0MjUxNDk0M2I0ZWU2MzM3NzlhZmUxZGM")}),h.Wb(),h.Wb(),h.Xb(8,"nz-list-item",2),h.Xb(9,"nz-list-item-meta",4),h.ec("click",function(){return e.viewConfluence("526450689/MGEzYzVmMGFlYTc0NGZlMzgxN2NjOWYxZTU2ZmRjOGQ")}),h.Wb(),h.Wb(),h.Xb(10,"nz-list-item",2),h.Xb(11,"nz-list-item-meta",5),h.ec("click",function(){return e.viewConfluence("526680082/NDg4YzYzMDI2M2JmNDc3OGFkNzllZDk3OWNkNDA1NmU")}),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Xb(12,"div",6),h.Xb(13,"h3"),h.Xb(14,"strong"),h.Xc(15,"Episode Related"),h.Wb(),h.Wb(),h.Wb(),h.Xb(16,"nz-card"),h.Xb(17,"nz-list",1),h.Xb(18,"nz-list-item",2),h.Xb(19,"nz-list-item-meta",7),h.ec("click",function(){return e.viewConfluence("511672322/MGM0OGIxYjk3NDc0NGE2N2I5YzE0ODFmODZlMmI1MTk")}),h.Wb(),h.Wb(),h.Xb(20,"nz-list-item",2),h.Xb(21,"nz-list-item-meta",8),h.ec("click",function(){return e.viewConfluence("511803422/Y2Y4ODQyZTRjNTAwNDc5OGFkNjZkNGI3NWRmODE3NDA")}),h.Wb(),h.Wb(),h.Xb(22,"nz-list-item",2),h.Xb(23,"nz-list-item-meta",9),h.ec("click",function(){return e.viewConfluence("511803475/YWJjZWEyM2U0YTJmNDM5MTgzZTkzYmFkYzVkZjVhMzI")}),h.Wb(),h.Wb(),h.Xb(24,"nz-list-item",2),h.Xb(25,"nz-list-item-meta",10),h.ec("click",function(){return e.viewConfluence("511442947/NWNlYTExMmZiNzQwNDlhNTk5NjgwMDRhYTZkZWQ2NTA")}),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Xb(26,"div",6),h.Xb(27,"h3"),h.Xb(28,"strong"),h.Xc(29,"Onboarding"),h.Wb(),h.Wb(),h.Wb(),h.Xb(30,"nz-card"),h.Xb(31,"nz-list",1),h.Xb(32,"nz-list-item",2),h.Xb(33,"nz-list-item-meta",11),h.ec("click",function(){return e.viewConfluence("527040520/MGZjZDM0OTkzYjE2NDcwMjlmMjE5ZjkxZjFhNjA0ZDQ")}),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Xb(34,"div",6),h.Xb(35,"h3"),h.Xb(36,"strong"),h.Xc(37,"CCM Related"),h.Wb(),h.Wb(),h.Wb(),h.Xb(38,"nz-card"),h.Xb(39,"nz-list",1),h.Xb(40,"nz-list-item",2),h.Xb(41,"nz-list-item-meta",12),h.ec("click",function(){return e.viewConfluence("532545537/OTZkOTQ2MGM0MDkyNGI2Mjk2M2MyYzM2MWNhYjg1N2U")}),h.Wb(),h.Wb(),h.Xb(42,"nz-list-item",2),h.Xb(43,"nz-list-item-meta",13),h.ec("click",function(){return e.viewConfluence("511770625/MWNhYTg1NmFiODU4NGFhZGJjNGFhYjNhOWU1NTNlMTc")}),h.Wb(),h.Wb(),h.Xb(44,"nz-list-item",2),h.Xb(45,"nz-list-item-meta",14),h.ec("click",function(){return e.viewConfluence("510296065/MjQ5NmE4NWRjOWRkNGI0NGI1YjM2ZTlkNDQ2ZTM4YmM")}),h.Wb(),h.Wb(),h.Xb(46,"nz-list-item",2),h.Xb(47,"nz-list-item-meta",15),h.ec("click",function(){return e.viewConfluence("535756818/NTcwOWNmNGU1MjI0NGRmNzgyMzNiMTI0ZjBhNDZiMjA")}),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Xb(48,"div",6),h.Xb(49,"h3"),h.Xb(50,"strong"),h.Xc(51,"Staff Management"),h.Wb(),h.Wb(),h.Wb(),h.Xb(52,"nz-card"),h.Xb(53,"nz-list",1),h.Xb(54,"nz-list-item",2),h.Xb(55,"nz-list-item-meta",16),h.ec("click",function(){return e.viewConfluence("Y2VjOTJmNTljMGFhNDM5ZGJmMmY1YWZkZjY2NmIzZDc")}),h.Wb(),h.Wb(),h.Xb(56,"nz-list-item",2),h.Xb(57,"nz-list-item-meta",17),h.ec("click",function(){return e.viewConfluence("ZjQ3NWY3Y2EyYTdiNGU5OThjYTg2NDc2YjZlMmRiYWQ")}),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Xb(58,"div",6),h.Xb(59,"h3"),h.Xb(60,"strong"),h.Xc(61,"Other"),h.Wb(),h.Wb(),h.Wb(),h.Xb(62,"nz-card"),h.Xb(63,"nz-list",1),h.Xb(64,"nz-list-item",2),h.Xb(65,"nz-list-item-meta",18),h.ec("click",function(){return e.viewConfluence("529465345/NTIwMWM1ZTBhZTlkNGQ1NjhlY2RmNThkZjM3NGUwZWM")}),h.Wb(),h.Wb(),h.Xb(66,"nz-list-item",2),h.Xb(67,"nz-list-item-meta",19),h.ec("click",function(){return e.viewConfluence("513835009/ODA1MWI5MWU1YTMwNDdmZGJjMWJiMWY3MWY3NjQ3MDM")}),h.Wb(),h.Wb(),h.Xb(68,"nz-list-item",2),h.Xb(69,"nz-list-item-meta",20),h.ec("click",function(){return e.viewConfluence("511311895/YmVkMjEzOWFhZTY1NDQzYzg4ZGRkNmE2NDlmNGJhODk")}),h.Wb(),h.Wb(),h.Xb(70,"nz-list-item",2),h.Xb(71,"nz-list-item-meta",21),h.ec("click",function(){return e.viewConfluence("511311904/NDU2MjFmZGNkN2VhNDA1YTkxYjdiNzdhYTE5NGRhNjQ")}),h.Wb(),h.Wb(),h.Xb(72,"nz-list-item",2),h.Xb(73,"nz-list-item-meta",22),h.ec("click",function(){return e.viewConfluence("YTA1ZDEyNzNmMTI0NDkwY2JhNTQ5ZTEwM2QzN2IzM2Q")}),h.Wb(),h.Wb(),h.Wb(),h.Wb(),h.Wb()),2&t&&(h.Db(5),h.rc("nzItemLayout","horizontal"),h.Db(12),h.rc("nzItemLayout","horizontal"),h.Db(14),h.rc("nzItemLayout","horizontal"),h.Db(8),h.rc("nzItemLayout","horizontal"),h.Db(14),h.rc("nzItemLayout","horizontal"),h.Db(10),h.rc("nzItemLayout","horizontal"))},directives:[D.a,z.a,z.e,z.f],styles:[".container[_ngcontent-%COMP%]{padding:2%;margin:2%}[_nghost-%COMP%]     .ant-tabs-nav{margin:8px 0 4px}a[_ngcontent-%COMP%]{width:100%}.empty[_ngcontent-%COMP%]{margin:2%}.heading-div[_ngcontent-%COMP%]{margin-top:10px}  .ant-card-body{padding-top:10px;padding-bottom:10px}"]}),s),k=n("tyNb"),N=[{path:"help-guides",component:O,data:{header:!0,title:"MENU.TAPNAME_HELP_GUIDES",searchEnabled:!1,primaryAction:{},secondaryAction:{},multiAction:{},privileges:[],showTenantToggle:!1},canActivate:[n("T5gh").a]}],P=((l=function t(){u(this,t)}).\u0275mod=h.Pb({type:l}),l.\u0275inj=h.Ob({factory:function(t){return new(t||l)},imports:[[k.k.forChild(N)],k.k]}),l),R=n("UFn0"),X=n("SHZf"),L=n("WoUL"),w=n("KZX/"),W=((d=function t(e){u(this,t),this.translationService=e,e.setLanguage()}).\u0275mod=h.Pb({type:d}),d.\u0275inj=h.Ob({factory:function(t){return new(t||d)(h.bc(L.a))},imports:[[b.c,P,R.a,w.a,X.a.forRoot()]]}),d)},a6m8:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i,a=n("7Xlp"),r=function(){var t=function t(){u(this,t)};return t.VITAL_NAME="vital_name",t.VITAL_ID="vital_id",t.VITAL_ACTIVE="vital_active",t.PATIENT_ID="patient_id",t.CAREPLAN_ID="careplan_id",t.VITAL_TYPE="vital_type",t.VITAL_SHARE_EMAIL="vital_share_email",t.VITAL_START_DATE="start_date",t.VITAL_END_DATE="end_date",t.VITAL_MEASURED_VALUE="vital_measured_value",t.VITAL_PARAMETER="vital_update_parameter",t.VITAL_BLUEPRINT_SWITCH="VITAL_BLUEPRINT_SWITCH",t.VITAL_BLUEPRINT_UPDATE="VITAL_BLUEPRINT_UPDATE",t.VITAL_HISTORY="VITAL_HISTORY",t}(),s=n("fXoL"),l=((i=function(t){o(n,t);var e=c(n);function n(){return u(this,n),e.call(this)}return p(n,[{key:"vitalEnableSwitchEvent",value:function(t){var e=this.getCommonProperties();e[r.VITAL_NAME]=t.label,e[r.VITAL_ID]=t.id,e[r.VITAL_ACTIVE]=t.active,this.logEvent(r.VITAL_BLUEPRINT_SWITCH,e)}},{key:"vitalBlueprintUpdateEvent",value:function(t){var e=this.getCommonProperties();e[r.VITAL_NAME]=t.label,e[r.VITAL_ID]=t.id,e[r.VITAL_ACTIVE]=t.active,e[r.VITAL_PARAMETER]=t.parameters,this.logEvent(r.VITAL_BLUEPRINT_UPDATE,e)}},{key:"vitalHistoryEvent",value:function(t,e,n,i,a){var o=this.getCommonProperties();o[r.PATIENT_ID]=t,o[r.VITAL_TYPE]=e,o[r.CAREPLAN_ID]=n,o[r.VITAL_START_DATE]=i,o[r.VITAL_END_DATE]=a,this.logEvent(r.VITAL_HISTORY,o)}}]),n}(a.a)).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Nb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},aOTX:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("tk/3"),a=n("AytR"),o=n("fXoL"),r=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=a.g.url}return p(t,[{key:"fetchLocationFromZipCode",value:function(t){var e=new i.g({bypass:"yes"});return this._http.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=AIzaSyCySGsZgXtvenjp06bwyxsL4vtqIsAa4E4"),{headers:e})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(i.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},aPTj:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("fXoL"),a=n("B+r4"),o=n("tAs6"),r=n("3Pt+"),c=n("dRHE"),s=function(){var t=function(){function t(){u(this,t),this.maxDuration=100,this.marks={0:"0",10:"10",20:"20",30:"30",40:"40",50:"50",60:"60",70:"70",80:"80",90:"90",100:"100"},this.durationChange=new i.n}return p(t,[{key:"emitDurationChangeEvent",value:function(t){this.durationChange.emit(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-time-selector"]],inputs:{duration:"duration",maxDuration:"maxDuration",autoCMT:"autoCMT"},outputs:{durationChange:"durationChange"},decls:8,vars:13,consts:[["nz-row","","nzGutter","16"],["nz-col","","nzSpan","4","id","time-container"],["nz-col","","nzSpan","20"],[3,"nzMarks","nzIncluded","nzMin","nzMax","ngModel","nzDisabled","ngModelChange"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"strong"),i.Xc(3),i.jc(4,"translate"),i.jc(5,"translate"),i.Wb(),i.Wb(),i.Xb(6,"div",2),i.Xb(7,"nz-slider",3),i.ec("ngModelChange",function(t){return e.emitDurationChangeEvent(t)})("ngModelChange",function(t){return e.duration=t}),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.Db(3),i.bd(" ",i.kc(4,9,"TABLEHEADER.TIME"),": ",e.duration||0,"\xa0 ",i.kc(5,11,"COMMON.MINUTES")," "),i.Db(4),i.rc("nzMarks",e.marks)("nzIncluded",!0)("nzMin",0)("nzMax",e.maxDuration)("ngModel",e.duration)("nzDisabled",e.autoCMT))},directives:[a.c,a.a,o.a,r.u,r.x],pipes:[c.a],styles:["strong[_ngcontent-%COMP%]{color:var(--tertiary-color);font-size:11px}#time-container[_ngcontent-%COMP%]{padding-top:6px}[_nghost-%COMP%]     .ant-slider-handle{background-color:var(--primary-color);border:0 solid}"]}),t}()},awHO:function(t,e,i){"use strict";i.d(e,"a",function(){return w});var a=i("Gskk"),o=i("fXoL"),r=i("ofXK"),c=i("B+r4"),s=i("0lU3"),l=i("3Pt+"),d=i("5vDB"),b=i("ncdi"),h=i("eHCX"),g=i("QlLE");function f(t,e){if(1&t){var n=o.Yb();o.Vb(0),o.Xb(1,"div",3),o.Xb(2,"div",4),o.Xb(3,"nz-range-picker",5),o.ec("ngModelChange",function(t){return o.Lc(n),o.ic().dateRange=t})("ngModelChange",function(){return o.Lc(n),o.ic().updateCommunications()}),o.Wb(),o.Wb(),o.Wb(),o.Ub()}if(2&t){var i=o.ic();o.Db(3),o.rc("ngModel",i.dateRange)}}function v(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"strong",7),o.Xc(2),o.Wb(),o.Sb(3,"nz-divider",8),o.Ub()),2&t){var n=o.ic().$implicit,i=o.ic(2);o.Db(2),o.ad(" ",null==n?null:n.value,": ",null==i.durationMap?null:i.durationMap.get(null==n?null:n.key)," minutes ")}}function m(t,e){if(1&t&&(o.Vb(0),o.Vc(1,v,4,2,"ng-container",1),o.Ub()),2&t){var n=e.$implicit,i=o.ic(2);o.Db(1),o.rc("ngIf",0<(null==i.durationMap?null:i.durationMap.get(null==n?null:n.key)))}}function S(t,e){if(1&t&&(o.Vb(0),o.Vc(1,m,2,1,"ng-container",6),o.jc(2,"keyvalue"),o.Ub()),2&t){var n=o.ic();o.Db(1),o.rc("ngForOf",o.lc(2,1,n.serviceCodeCountMap,n.asIsOrder))}}function y(t,e){1&t&&(o.Xb(0,"strong",18),o.Xc(1," Billable "),o.Wb())}function T(t,e){if(1&t&&(o.Vb(0),o.Sb(1,"nz-divider",8),o.Xb(2,"strong",18),o.Xc(3),o.Wb(),o.Ub()),2&t){var n=o.ic().$implicit,i=o.ic(2);o.Db(3),o.Zc(" ",i.serviceCodeEpisodeMap.get(null==n?null:n.cptCode)," ")}}function C(t,e){1&t&&(o.Xb(0,"strong",19),o.Xc(1," Non-Billable "),o.Wb())}function E(t,e){if(1&t&&(o.Xb(0,"p",13),o.Sb(1,"nz-divider"),o.Sb(2,"span",20),o.Wb()),2&t){var n=o.ic().$implicit;o.Db(2),o.sc("innerHTML",null==n||null==n.updateHistory||null==n.updateHistory.timeUpdateHistory?null:n.updateHistory.timeUpdateHistory.reason,o.Mc)}}function I(t,e){if(1&t&&(o.Xb(0,"p",13),o.Sb(1,"span",21),o.Wb()),2&t){var n=o.ic().$implicit;o.Db(1),o.sc("innerHtml",null==n||null==n.updateHistory||null==n.updateHistory.activityUpdateHistory?null:n.updateHistory.activityUpdateHistory.reason,o.Mc)}}function M(t,e){if(1&t&&(o.Xb(0,"p",13),o.Sb(1,"span",20),o.Wb()),2&t){var n=o.ic().$implicit;o.Db(1),o.sc("innerHTML",null==n||null==n.updateHistory||null==n.updateHistory.noteUpdateHistory?null:n.updateHistory.noteUpdateHistory.reason,o.Mc)}}function A(t,e){if(1&t&&(o.Xb(0,"p",13),o.Sb(1,"span",21),o.Wb()),2&t){var n=o.ic().$implicit;o.Db(1),o.sc("innerHtml",null==n||null==n.updateHistory||null==n.updateHistory.billableUpdateHistory?null:n.updateHistory.billableUpdateHistory.reason,o.Mc)}}function _(t,e){if(1&t&&(o.Xb(0,"p",13),o.Sb(1,"span",21),o.Wb()),2&t){var n=o.ic().$implicit;o.Db(1),o.sc("innerHtml",null==n||null==n.updateHistory||null==n.updateHistory.communicationModeUpdateHistory?null:n.updateHistory.communicationModeUpdateHistory.reason,o.Mc)}}function D(t,e){if(1&t&&(o.Xb(0,"span"),o.Xc(1),o.Wb()),2&t){var n=e.$implicit;o.Db(1),o.ad(" ",null==n?null:n.code," ",null==n?null:n.description,"\xa0 ")}}function z(t,e){if(1&t&&(o.Xb(0,"p",13),o.Xb(1,"strong"),o.Xc(2,"Dx Codes -"),o.Wb(),o.Vc(3,D,2,2,"span",6),o.Wb()),2&t){var n=o.ic().$implicit;o.Db(3),o.rc("ngForOf",null==n?null:n.dxCodes)}}function O(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"label",22),o.Xc(2),o.Wb(),o.Ub()),2&t){var n=o.ic().$implicit;o.Db(2),o.Yc(null==n?null:n.caretakerName)}}function k(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"label",23),o.Xc(2),o.Wb(),o.Ub()),2&t){var n=o.ic().$implicit;o.Db(2),o.Zc(" Deleted by ",null==n?null:n.changedByStaff," ")}}function N(t,e){if(1&t&&(o.Xb(0,"div",24),o.Xb(1,"strong",25),o.Xc(2),o.jc(3,"number"),o.Wb(),o.Sb(4,"br"),o.Xb(5,"label",26),o.Xc(6,"mins"),o.Wb(),o.Wb()),2&t){var n=o.ic().$implicit;o.Db(2),o.Yc(o.lc(3,1,(null==n?null:n.durationInMilliSeconds)/6e4,"1.0-0"))}}function P(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"nz-timeline-item",9),o.Xb(2,"strong",10),o.Xc(3),o.jc(4,"date"),o.Wb(),o.Sb(5,"nz-divider",8),o.Xb(6,"strong",10),o.Xc(7),o.Wb(),o.Sb(8,"nz-divider",8),o.Vc(9,y,2,0,"strong",11),o.Vc(10,T,4,1,"ng-container",1),o.Vc(11,C,2,0,"strong",12),o.Sb(12,"br"),o.Xb(13,"p",13),o.Xb(14,"span",14),o.Xc(15),o.Wb(),o.Sb(16,"br"),o.Sb(17,"span",15),o.Wb(),o.Vc(18,E,3,1,"p",16),o.Vc(19,I,2,1,"p",16),o.Vc(20,M,2,1,"p",16),o.Vc(21,A,2,1,"p",16),o.Vc(22,_,2,1,"p",16),o.Vc(23,z,4,1,"p",16),o.Vc(24,O,3,1,"ng-container",1),o.Vc(25,k,3,1,"ng-container",1),o.Wb(),o.Vc(26,N,7,4,"ng-template",null,17,o.Wc),o.Ub()),2&t){var n=e.$implicit,i=o.Ic(27),a=o.ic(2);o.Db(1),o.rc("nzDot",i),o.Db(2),o.Yc(o.lc(4,18,null==n?null:n.date,"mediumDate")),o.Db(4),o.Yc(a.mode.get(n.mode)),o.Db(2),o.rc("ngIf",null==n||null==n.compliance?null:n.compliance.billable),o.Db(1),o.rc("ngIf","ALL"==a.type),o.Db(1),o.rc("ngIf",(null==n?null:n.compliance)&&!(null!=n&&null!=n.compliance&&n.compliance.billable)),o.Db(3),o.rc("ngClass",null!=n&&n.archived?"strikethrough":"null"),o.Db(1),o.Zc(" ",null==n?null:n.activity," "),o.Db(2),o.sc("innerHtml",(null==n?null:n.notes)||"",o.Mc),o.rc("ngClass",null!=n&&n.archived?"strikethrough":"null"),o.Db(1),o.rc("ngIf",null==n||null==n.updateHistory||null==n.updateHistory.timeUpdateHistory?null:n.updateHistory.timeUpdateHistory.reason),o.Db(1),o.rc("ngIf",null==n||null==n.updateHistory||null==n.updateHistory.activityUpdateHistory?null:n.updateHistory.activityUpdateHistory.reason),o.Db(1),o.rc("ngIf",null==n||null==n.updateHistory||null==n.updateHistory.noteUpdateHistory?null:n.updateHistory.noteUpdateHistory.reason),o.Db(1),o.rc("ngIf",null==n||null==n.updateHistory||null==n.updateHistory.billableUpdateHistory?null:n.updateHistory.billableUpdateHistory.reason),o.Db(1),o.rc("ngIf",null==n||null==n.updateHistory||null==n.updateHistory.communicationModeUpdateHistory?null:n.updateHistory.communicationModeUpdateHistory.reason),o.Db(1),o.rc("ngIf",null==n||null==n.dxCodes?null:n.dxCodes.length),o.Db(1),o.rc("ngIf",!(null!=n&&n.archived)),o.Db(1),o.rc("ngIf",null==n?null:n.archived)}}function R(t,e){if(1&t&&(o.Xb(0,"nz-timeline"),o.Vc(1,P,28,21,"ng-container",6),o.Wb()),2&t){var n=o.ic();o.Db(1),o.rc("ngForOf",n.tmsDetails)}}function X(t,e){1&t&&(o.Xb(0,"span"),o.Xc(1," No Communication Data "),o.Wb())}function L(t,e){if(1&t&&(o.Vb(0),o.Xb(1,"nz-empty",27),o.Vc(2,X,2,0,"ng-template",null,28,o.Wc),o.Wb(),o.Ub()),2&t){var n=o.Ic(3);o.Db(1),o.rc("nzNotFoundContent",n)}}var w=function(){var t=function(){function t(e,n){u(this,t),this._episodesService=e,this._datePipe=n,this.isEmpty=!1,this.serviceCodeEpisodeMap=new Map([["TREATMENT_MANAGEMENT_SERVICE","RPM"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE","RPM"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B","RPM"],["NON_COMPLEX_TMS","CCM"],["CARE_MANAGEMENT_TIME","GENERAL"]]),this.episodeWiseServiceCodes=new Map([["RPM",new Set(["TREATMENT_MANAGEMENT_SERVICE","ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE","ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B"])],["CCM",new Set(["NON_COMPLEX_TMS"])],["GENERAL",new Set(["CARE_MANAGEMENT_TIME"])]]),this.tmsDetails=[],this.dateRange=[],this.mode=new Map([["VIDEO_CALL","Video Call"],["CALL","Audio Call"],["HOME_VISIT","Home Visit"],["CLINIC_VISIT","In Clinic"],["OTHER","Other"]]),this.tmsMap=new Map,this.durationMap=new Map}return p(t,[{key:"tmsType",set:function(t){var e,n;"TREATMENT_MANAGEMENT_SERVICE"===t&&(this.serviceCodeCountMap=new Map([["TREATMENT_MANAGEMENT_SERVICE","TMS-20"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE","TMS-40"],["ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B","TMS-60"]]),this.type="TMS"),-1!==(null===(e=["NON_COMPLEX_TMS"])||void 0===e?void 0:e.indexOf(t))&&(this.serviceCodeCountMap=new Map([["NON_COMPLEX_TMS","Non-complex CMT"]]),this.type="CCM"),-1!==(null===(n=["CARE_MANAGEMENT_TIME"])||void 0===n?void 0:n.indexOf(t))&&(this.serviceCodeCountMap=new Map([["CARE_MANAGEMENT_TIME","CMT"]]),this.type="GENERAL"),"ALL"===t&&(this.serviceCodeCountMap=new Map,this.type="ALL")}},{key:"episodeType",set:function(t){"RPM"===t&&(this.type="TMS"),"CCM"===t&&(this.type="CCM"),"GENERAL"===t&&(this.type="GENERAL"),"ALL"===t&&(this.type="ALL")}},{key:"asIsOrder",value:function(t,e){return 1}},{key:"ngOnInit",value:function(){this.episodeId?this.getTMSDetails():this.getAllCommunicationData()}},{key:"getAllCommunicationData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._episodesService.getPatientCommunications(this.patientId,e,i,this.type).subscribe(function(e){e&&(t.tmsDetails=n(e)),t.isEmpty=0==e.length})}},{key:"getTMSDetails",value:function(){var t=this;this._episodesService.getCallDetails(this.patientId,this.episodeId).subscribe(function(e){var i,a;e&&(t.tmsDetails=n(e)),null===(i=null==e?void 0:e.filter(function(t){return!t.archived}))||void 0===i||i.forEach(function(e){var i,a;(null===(i=t.tmsMap)||void 0===i?void 0:i.get(null==e?void 0:e.cptCode))?t.tmsMap.set(null==e?void 0:e.cptCode,[].concat(n(null===(a=t.tmsMap)||void 0===a?void 0:a.get(null==e?void 0:e.cptCode)),[e])):t.tmsMap.set(null==e?void 0:e.cptCode,[e])}),null===(a=t.tmsMap)||void 0===a||a.forEach(function(e,n){var i,a=null==e?void 0:e.map(function(t){return t.durationInMilliSeconds}).reduce(function(t,e){return t+e},0);null===(i=t.durationMap)||void 0===i||i.set(n,a/6e4)})})}},{key:"updateCommunications",value:function(){var t=null,e=null;this.dateRange&&2==this.dateRange.length&&this.dateRange[0]&&this.dateRange[1]&&(t=this._datePipe.transform(this.dateRange[0],"yyyy/MM/dd"),e=this._datePipe.transform(this.dateRange[1],"yyyy/MM/dd")),this.getAllCommunicationData(t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Rb(a.a),o.Rb(r.e))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-tms-history"]],inputs:{episodeId:"episodeId",patientId:"patientId",patientName:"patientName",tmsType:"tmsType",episodeType:"episodeType"},decls:9,vars:5,consts:[["id","heading"],[4,"ngIf"],["id","history-container"],["nz-row","","nzGutter","64"],["nz-col","","nzOffset","12","nzSpan","12"],[3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"primary","sub-heading"],["nzType","vertical"],[3,"nzDot"],[1,"tms-history-heading"],["nz-typography","","nzType","success",4,"ngIf"],["nz-typography","","nzType","danger",4,"ngIf"],[1,"history"],[1,"activity",3,"ngClass"],[3,"innerHtml","ngClass"],["class","history",4,"ngIf"],["dotTemplate",""],["nz-typography","","nzType","success"],["nz-typography","","nzType","danger"],[3,"innerHTML"],[3,"innerHtml"],["id","caretaker",1,"primary"],["id","caretaker","nz-typography","","nzType","danger"],[1,"dot-template"],[1,"dot-template-num"],[1,"dot-template-min"],["nzNotFoundImage","https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",2,"padding-top","25%",3,"nzNotFoundContent"],["contentTpl",""]],template:function(t,e){1&t&&(o.Xb(0,"strong",0),o.Xc(1),o.Wb(),o.Sb(2,"br"),o.Xc(3," \xa0 "),o.Vc(4,f,4,1,"ng-container",1),o.Vc(5,S,3,4,"ng-container",1),o.Xb(6,"div",2),o.Vc(7,R,2,1,"nz-timeline",1),o.Vc(8,L,4,1,"ng-container",1),o.Wb()),2&t&&(o.Db(1),o.Zc("Patient communication history for ",e.patientName||"",""),o.Db(3),o.rc("ngIf",!e.episodeId),o.Db(1),o.rc("ngIf",(null==e.serviceCodeCountMap?null:e.serviceCodeCountMap.size)>0),o.Db(2),o.rc("ngIf",!e.isEmpty),o.Db(1),o.rc("ngIf",e.isEmpty))},directives:[r.q,c.c,c.a,s.a,s.c,l.u,l.x,r.p,d.a,b.a,b.b,r.o,h.a,g.b],pipes:[r.j,r.e,r.f],styles:["#heading[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color)}.primary[_ngcontent-%COMP%]{color:var(--primary-color)!important}.sub-heading[_ngcontent-%COMP%]{font-size:10px;color:#949494}#history-container[_ngcontent-%COMP%]{font-size:12px;color:var(--tertiary-color);padding:30px 14px 0}.dot-template[_ngcontent-%COMP%]{width:36px;height:36px;color:var(--neutral-color);padding-top:7px;border-radius:50%;background-color:var(--primary-color)}.dot-template[_ngcontent-%COMP%], .dot-template-min[_ngcontent-%COMP%], .dot-template-num[_ngcontent-%COMP%]{font-size:10px}.tms-history-heading[_ngcontent-%COMP%]{color:#949494;font-size:12px;font-weight:500}[_nghost-%COMP%]     .ant-timeline-item{padding-left:3%}#caretaker[_ngcontent-%COMP%], .history[_ngcontent-%COMP%]{font-size:12.5px}.activity[_ngcontent-%COMP%]{color:var(--tertiary-color);font-weight:bolder}strong[_ngcontent-%COMP%]{font-size:12px}.strikethrough[_ngcontent-%COMP%]{text-decoration:line-through;color:var(--error-color)}"]}),t}()},azu5:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function t(){u(this,t)}},"bA1+":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("bnsq"),a=n("fXoL"),o=n("tyNb"),r=function(){var t=function(){function t(e,n){u(this,t),this.router=e,this._permissionsService=n}return p(t,[{key:"canActivate",value:function(t,e){var n=t.data.privileges,i=localStorage.getItem("loggedInUserAccountType"),a=localStorage.getItem("loggedInUser");if(null==i&&null==a)return this.router.navigate(["authorization/login"],{queryParams:{returnUrl:e.url}}),!0;var o=this._permissionsService.getPermissionsForUser(),r=!0;return"TENANT_ADMIN"!==i&&n&&n.length?o&&o.length?(n.forEach(function(t){-1===o.findIndex(function(e){return t.toString()===e})&&(r=!1)}),r||this.router.navigate(["/forbidden"]),r):(this.router.navigate(["/forbidden"]),!1):r}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(o.g),a.bc(i.a))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},bA60:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("fXoL"),o=n("tk/3"),r=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=i.g.url}return p(t,[{key:"getAllActionItems",value:function(t){return this._http.get(this.rootUrl+"/v2/careplanview/patients/"+t+"/actionItems")}},{key:"getAllActionItemsWithVitalObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,i=this.rootUrl+"/v2/careplanview/patients/"+t+"/actionItems-with-vitals?date="+n;return null!=e&&(i=i+"&careplanId="+e),this._http.get(i)}},{key:"getActionItemById",value:function(t){return this._http.get(this.rootUrl+"/v2/actions/"+t)}},{key:"updateActionItem",value:function(t){return this._http.put(this.rootUrl+"/v2/actions/"+t.id,t)}},{key:"archiveActionItem",value:function(t){return this._http.delete(this.rootUrl+"/v2/actions/"+t)}},{key:"getVitalData",value:function(t){return this._http.get(this.rootUrl+"/v2/vitals/"+t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac}),t}()},bDfm:function(t,e,n){"use strict";n.d(e,"a",function(){return W});var i=n("geco"),a=n("fXoL"),o=n("dEAy"),r=n("ncdi"),c=n("ofXK"),s=n("xYn2");function l(t,e){if(1&t){var n=a.Yb();a.Xb(0,"nz-timeline-item"),a.Xb(1,"app-note-timeline-item",2),a.ec("edit",function(){a.Lc(n);var t=e.$implicit;return a.ic().editNote(t)}),a.Wb(),a.Wb()}if(2&t){var i=e.$implicit;a.Db(1),a.rc("note",i)}}function d(t,e){1&t&&(a.Xb(0,"div",3),a.Xb(1,"p"),a.Xc(2,"No notes have been added for this patient."),a.Wb(),a.Sb(3,"div"),a.Wb())}var b,h=((b=function(){function t(e,n){u(this,t),this._patientsService=e,this._modalRef=n}return p(t,[{key:"ngOnInit",value:function(){this.getNotes()}},{key:"getNotes",value:function(){var t=this;this._patientsService.fetchPatientsNotes(this.patientId).subscribe(function(e){t.notes=e})}},{key:"editNote",value:function(t){this._modalRef.close(t)}}]),t}()).\u0275fac=function(t){return new(t||b)(a.Rb(i.a),a.Rb(o.e))},b.\u0275cmp=a.Lb({type:b,selectors:[["app-notes-details"]],inputs:{patientId:"patientId"},decls:3,vars:2,consts:[[4,"ngFor","ngForOf"],["class","notes-unavailable",4,"ngIf"],[3,"note","edit"],[1,"notes-unavailable"]],template:function(t,e){1&t&&(a.Xb(0,"nz-timeline"),a.Vc(1,l,2,1,"nz-timeline-item",0),a.Wb(),a.Vc(2,d,4,0,"div",1)),2&t&&(a.Db(1),a.rc("ngForOf",e.notes),a.Db(1),a.rc("ngIf",!e.notes))},directives:[r.a,c.p,c.q,r.b,s.a],styles:["pre[_ngcontent-%COMP%]{font-size:12px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;font-family:Nunito}.notes-unavailable[_ngcontent-%COMP%]{margin-top:-30px}"]}),b),g=n("Z93s"),f=n("c36b"),v=(n("QBjw"),n("+gyu")),m=n("bNXi"),S=n("B+r4"),y=n("mUB+"),T=n("3Pt+"),C=n("mUTz"),E=n("glKu"),I=n("nJia"),M=n("bE2y"),A=n("OzZK"),_=n("RwU8"),D=n("C2AL"),z=n("PTRe"),O=n("dRHE");function k(t,e){1&t&&(a.Xb(0,"p"),a.Xc(1),a.jc(2,"translate"),a.jc(3,"translate"),a.Wb()),2&t&&(a.Db(1),a.ad("",a.kc(2,2,"COMMON.NOTE")," : ",a.kc(3,4,"COMMON.NOTE_VISIBLE_TO_PATIENT"),""))}function N(t,e){1&t&&(a.Xb(0,"label",19),a.Xc(1,"Required"),a.Wb())}function P(t,e){if(1&t){var n=a.Yb();a.Xb(0,"button",20),a.ec("click",function(){return a.Lc(n),a.ic().showNotesTimeline()}),a.Xc(1," View Notes "),a.Wb()}}function R(t,e){1&t&&(a.Vb(0),a.Xb(1,"div",25),a.Xc(2,"Required"),a.Wb(),a.Ub())}function X(t,e){if(1&t){var n=a.Yb();a.Xb(0,"div"),a.Xb(1,"input",21),a.ec("ngModelChange",function(t){return a.Lc(n),a.ic().updateReason=t}),a.Wb(),a.Vc(2,R,3,0,"ng-container",1),a.Xb(3,"div",22),a.Xb(4,"button",23),a.ec("click",function(){return a.Lc(n),a.ic().closeModeUpdateModal()}),a.Xc(5,"Cancel"),a.Wb(),a.Xb(6,"button",24),a.ec("click",function(){return a.Lc(n),a.ic().saveNoteWithReason()}),a.Xc(7,"Save"),a.Wb(),a.Wb(),a.Wb()}if(2&t){var i=a.ic();a.Db(1),a.rc("ngModel",i.updateReason),a.Db(1),a.rc("ngIf",i.isReasonRequired)}}var L,w=function(t){return{border:t}},W=((L=function(){function t(e,n,i,a,o){u(this,t),this._patientsService=e,this._modalRef=n,this._notificationsService=i,this._modalService=a,this._noteTemplatesService=o,this.noteObject=new g.a,this.isLoadingSaveNote=!1,this.isInputEmpty=!1,this.severity="NORMAL",this.isReasonModalVisible=!1,this.isReasonRequired=!1,this.config=f.b}return p(t,[{key:"ngOnInit",value:function(){this.getNoteTemplates(),this.updateNoteObject()}},{key:"updateNoteObject",value:function(){var t;null!=this.noteObject.id&&(this.previousContent=this.noteObject.content,this.previousSeverity=null===(t=this.noteObject.priority)||void 0===t?void 0:t.level,this.severity=this.previousSeverity)}},{key:"saveNote",value:function(){null==this.noteObject.id?this.addNewNote():this.editNote()}},{key:"addNewNote",value:function(){var t=this;""!==this.noteObject.content?(this.isInputEmpty=!1,this.isLoadingSaveNote=!0,this.noteObject.createdOn=(new Date).getTime(),this.noteObject.userId=this.patientId,this.noteObject.addedBy=localStorage.getItem("loggedInUser"),this.noteObject.priority={level:this.severity},null!=this.appointment&&(this.noteObject.type="APPOINTMENT",this.noteObject.contextId=this.appointment.id),this._patientsService.addNoteForPatient(this.noteObject).subscribe(function(e){t._modalRef.close(e),t.isLoadingSaveNote=!1},function(e){t._notificationsService.error("Adding Notes failed",e.error.message),t.isLoadingSaveNote=!1})):this.isInputEmpty=!0}},{key:"editNote",value:function(){if(this.previousContent==this.noteObject.content&&this.severity==this.previousSeverity)return this._modalRef.close(this.noteObject),void(this.isLoadingSaveNote=!1);this.severity!=this.previousSeverity&&(this.noteObject.priority={level:this.severity}),this.isReasonModalVisible=!0}},{key:"closeDialog",value:function(){this._modalRef.close()}},{key:"onNoteChanged",value:function(t){this.isInputEmpty=0===(null==t?void 0:t.length)}},{key:"selectLevel",value:function(t){this.severity=t}},{key:"showNotesTimeline",value:function(){var e=this;this._modalService.create({nzTitle:"Notes Timeline",nzContent:h,nzComponentParams:{patientId:this.patientId},nzStyle:{width:"800px"},nzBodyStyle:{height:"550px","overflow-y":"scroll",padding:"40px 50px 50px 25px"},nzClosable:!0,nzFooter:null}).afterClose.subscribe(function(n){(null==n?void 0:n.id)&&e._modalService.create({nzContent:t,nzComponentParams:{noteObject:n},nzWidth:"50%",nzClosable:!0,nzMaskClosable:!1,nzFooter:null})})}},{key:"setTemplate",value:function(t){this.noteObject.content=t}},{key:"getNoteTemplates",value:function(){this.noteTemplates$=this._noteTemplatesService.fetchNoteTemplates(0,100,null,this.tenantId)}},{key:"closeModeUpdateModal",value:function(){this.updateReason="",this.isReasonModalVisible=!1}},{key:"saveNoteWithReason",value:function(){var t=this;this.isLoadingSaveNote=!0,this.noteObject.reason=this.updateReason,this.noteObject.priority={level:this.severity},this._patientsService.updateNote(this.noteObject).subscribe(function(e){t._modalRef.close(e),t.isLoadingSaveNote=!1},function(e){t._notificationsService.error("Editing Note failed",e.error.message),t.isLoadingSaveNote=!1})}}]),t}()).\u0275fac=function(t){return new(t||L)(a.Rb(i.a),a.Rb(o.e),a.Rb(m.b),a.Rb(o.f),a.Rb(v.a))},L.\u0275cmp=a.Lb({type:L,selectors:[["app-notes-dialog"]],inputs:{patientId:"patientId",tenantId:"tenantId",patientName:"patientName",appointment:"appointment",noteObject:"noteObject"},decls:34,vars:28,consts:[["id","patient"],[4,"ngIf"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[3,"ngModel","ngStyle","placeholder","config","ngModelChange"],["note",""],["style","color:red",4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","8"],[3,"note","onTemplateSelected"],["name","infoCircle","nzTooltipTitle","It is consider as an important note","nzTooltipPlacement","rightBottom","nz-tooltip","",1,"infoCirle"],[3,"ngModel","ngModelChange"],["nz-radio","","nzValue","IMPORTANT"],["nz-radio","","nzValue","NORMAL"],["nz-col","","nzSpan","8","nzOffset","16",2,"text-align","right"],["nz-button","",3,"click",4,"ngIf"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nzTitle","Please enter the reason for updating Note",3,"nzVisible","nzFooter","nzVisibleChange"],[4,"nzModalContent"],[2,"color","red"],["nz-button","",3,"click"],["nz-input","","placeholder","Enter your reason for updating here",3,"ngModel","ngModelChange"],[1,"reason-update-btn-div"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",1,"reason-update-btn",3,"click"],[1,"reason-update-error",2,"color","red"]],template:function(t,e){1&t&&(a.Xb(0,"strong"),a.Xb(1,"p",0),a.Xc(2),a.jc(3,"translate"),a.Wb(),a.Wb(),a.Vc(4,k,4,6,"p",1),a.Xb(5,"div",2),a.Xb(6,"div",3),a.Xb(7,"angular-editor",4,5),a.ec("ngModelChange",function(t){return e.noteObject.content=t})("ngModelChange",function(t){return e.onNoteChanged(t)}),a.jc(9,"translate"),a.Wb(),a.Vc(10,N,2,0,"label",6),a.Wb(),a.Wb(),a.Sb(11,"br"),a.Xb(12,"div",7),a.Xb(13,"div",8),a.Xb(14,"app-note-template-picker",9),a.ec("onTemplateSelected",function(t){return e.setTemplate(t)}),a.Wb(),a.Wb(),a.Wb(),a.Sb(15,"br"),a.Xb(16,"p"),a.Xc(17),a.jc(18,"translate"),a.Sb(19,"app-icons",10),a.Wb(),a.Xb(20,"nz-radio-group",11),a.ec("ngModelChange",function(t){return e.severity=t})("ngModelChange",function(t){return e.selectLevel(t)}),a.Xb(21,"label",12),a.Xc(22,"Yes"),a.Wb(),a.Xb(23,"label",13),a.Xc(24,"No"),a.Wb(),a.Wb(),a.Xb(25,"div",2),a.Xb(26,"div",14),a.Vc(27,P,2,0,"button",15),a.Xc(28," \xa0\xa0 "),a.Xb(29,"button",16),a.ec("click",function(){return e.saveNote()}),a.Xc(30),a.jc(31,"translate"),a.Wb(),a.Wb(),a.Wb(),a.Xb(32,"nz-modal",17),a.ec("nzVisibleChange",function(t){return e.isReasonModalVisible=t}),a.Vc(33,X,8,2,"div",18),a.Wb()),2&t&&(a.Db(2),a.Yc(a.kc(3,18,"COMMON.ADD_NOTES")),a.Db(2),a.rc("ngIf",null!=e.appointment),a.Db(1),a.rc("nzGutter",16),a.Db(1),a.rc("nzSpan",24),a.Db(1),a.sc("placeholder",a.kc(9,20,"COMMON.ENTER_NOTES")),a.rc("ngModel",e.noteObject.content)("ngStyle",a.yc(26,w,e.isInputEmpty?"1px solid red":""))("config",e.config),a.Db(3),a.rc("ngIf",e.isInputEmpty),a.Db(4),a.rc("note",e.noteObject.content),a.Db(3),a.Zc(" ",a.kc(18,22,"MAKE_IMPORTANT_NOTES")," "),a.Db(3),a.rc("ngModel",e.severity),a.Db(5),a.rc("nzGutter",16),a.Db(2),a.rc("ngIf",null==e.appointment&&null!=e.patientId),a.Db(2),a.rc("nzLoading",e.isLoadingSaveNote),a.Db(1),a.Zc(" ",a.kc(31,24,"COMMON.SAVE")," "),a.Db(2),a.rc("nzVisible",e.isReasonModalVisible)("nzFooter",null))},directives:[c.q,S.c,S.a,y.a,T.u,T.x,c.r,C.a,E.a,I.d,M.c,M.b,A.a,_.a,D.a,o.a,o.b,z.b,T.d],pipes:[O.a],styles:[".close[_ngcontent-%COMP%]{float:right;cursor:pointer}#patient[_ngcontent-%COMP%]{border-left:2px solid var(--primary-color);padding-left:10px;font:normal normal 700 16px/19px Nunito}#add-note-container[_ngcontent-%COMP%]{width:95%}#add-note-input[_ngcontent-%COMP%]{margin:2% 1% 2% 2%;width:70%}.block-inline[_ngcontent-%COMP%]{display:inline-block}#save-note[_ngcontent-%COMP%]{border-radius:10px;margin-left:5%;background-color:#f7f7f7}.notes-container[_ngcontent-%COMP%]{margin:1%;padding:2%;border-radius:5px;border:1px solid #d3d3d3}.note[_ngcontent-%COMP%]{color:gray}.note[_ngcontent-%COMP%], .note-addedBy[_ngcontent-%COMP%], .note-date[_ngcontent-%COMP%]{font-size:12px}.note-addedBy[_ngcontent-%COMP%]{text-align:right}.infoCirle[_ngcontent-%COMP%]{position:relative;vertical-align:text-top;left:14px}.reason-update-error[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;height:10px;max-height:10px}.reason-update-btn-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding-top:20px}.reason-update-btn[_ngcontent-%COMP%]{margin-left:10px}"]}),L)},bKRa:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("ofXK"),a=n("5+WD"),o=n("UFn0"),r=n("KZX/"),c=n("fXoL"),s=function(){var t=function t(){u(this,t)};return t.\u0275mod=c.Pb({type:t}),t.\u0275inj=c.Ob({factory:function(e){return new(e||t)},imports:[[i.c,a.c,o.a,r.a]]}),t}()},bnsq:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var a=i("yWgs"),o=i("AytR"),r=i("fXoL"),c=i("tk/3"),s=function(){var t=function(){function t(e,n){u(this,t),this._http=e,this._securityTokenHelperService=n,this.rootURL=o.g.url,this.loadUserRolePermissions()}return p(t,[{key:"getPermissionsForUser",value:function(){return this.permissions}},{key:"setPermissionsForUser",value:function(t){null==t&&null==t||(this.permissions=n(t))}},{key:"loadUserRolePermissions",value:function(){var t=localStorage.getItem("permissionToken");if(t){var e=this._securityTokenHelperService.parseJwt(t);this.setPermissionsForUser(null==e?void 0:e.permissions)}}},{key:"fetchGroupedPermissions",value:function(t,e){var n="".concat(this.rootURL,"/v3/permissions/grouped");return null!=t&&(n="".concat(n,"?role=").concat(t)),null!=e&&(n="".concat(n,"?customUserRole=").concat(e)),this._http.get(n)}},{key:"fetchUserPermissions",value:function(){return this._http.get("".concat(this.rootURL,"/v3/permissions"))}},{key:"updateUserPermissions",value:function(t,e,n){var i="".concat(this.rootURL,"/v3/permissions/update/user/").concat(t,"/permission");return n&&(i="".concat(i,"?customUserRole=").concat(n)),this._http.put(i,e)}},{key:"getAllPermissionStrings",value:function(){return this._http.get("".concat(this.rootURL,"/v3/permissions/all"))}},{key:"getAllDefaultRoles",value:function(){return this._http.get("".concat(this.rootURL,"/v3/permissions/getAllDefaultRoles"))}},{key:"getTenantDefaultRoles",value:function(t){var e="".concat(this.rootURL,"/v3/permissions/get/tenant/default/roles");return t&&(e=e+"?requestTenantIds="+t),this._http.get(e)}},{key:"fetchGroupedUserPermissions",value:function(t){return this._http.get("".concat(this.rootURL,"/v3/permissions/grouped/staff/").concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(c.c),r.bc(a.a))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac}),t}()},bp6e:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"setCaretakers",value:function(t){sessionStorage.setItem("caretakers",JSON.stringify(t))}},{key:"getCaretakers",value:function(){return JSON.parse(sessionStorage.getItem("caretakers"))}},{key:"removeCaretakers",value:function(){sessionStorage.removeItem("caretakers")}},{key:"setPhysicians",value:function(t){sessionStorage.setItem("physicians",JSON.stringify(t))}},{key:"getPhysicians",value:function(){return JSON.parse(sessionStorage.getItem("physicians"))}},{key:"removePhysicians",value:function(){sessionStorage.removeItem("physicians")}},{key:"setSites",value:function(t){sessionStorage.setItem("sites",JSON.stringify(t))}},{key:"setAllTenantSites",value:function(t){sessionStorage.setItem("allTenantSites",JSON.stringify(t))}},{key:"getSites",value:function(){return JSON.parse(sessionStorage.getItem("sites"))}},{key:"removeSites",value:function(){sessionStorage.removeItem("sites")}},{key:"setCarePlanTemplates",value:function(t){(null==t?void 0:t.length)&&sessionStorage.setItem("carePlanTemplates",JSON.stringify(t))}},{key:"getCarePlanTemplates",value:function(){return JSON.parse(sessionStorage.getItem("carePlanTemplates"))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"c/Vb":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return a});var i=function(t){return t.PATIENT_EDUCATION_APPOINTMENT="PATIENT_EDUCATION_APPOINTMENT",t.CARE_PLAN_MONITORING="CARE_PLAN_MONITORING",t.TREATMENT_MANAGEMENT_SERVICE="TREATMENT_MANAGEMENT_SERVICE",t.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE="ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE",t.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B="ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B",t.CARE_MANAGEMENT_TIME="CARE_MANAGEMENT_TIME",t.NON_COMPLEX_TMS="NON_COMPLEX_TMS",t.NON_COMPLEX_TMS_PHYSICIAN="NON_COMPLEX_TMS_PHYSICIAN",t.NON_COMPLEX_ADDITIONAL_TMS="NON_COMPLEX_ADDITIONAL_TMS",t.NON_COMPLEX_ADDITIONAL_TMS_B="NON_COMPLEX_ADDITIONAL_TMS_B",t.COMPLEX_TMS="COMPLEX_TMS",t.COMPLEX_ADDITIONAL_TMS="COMPLEX_ADDITIONAL_TMS",t.UNKNOWN="UNKNOWN",t}({}),a=[{label:"Device Educations",value:"99453",cptCode:i.PATIENT_EDUCATION_APPOINTMENT,checked:!1},{label:"Careplan",value:"99454",cptCode:i.CARE_PLAN_MONITORING,checked:!1},{label:"Treatment Management Service",value:"99457",cptCode:i.TREATMENT_MANAGEMENT_SERVICE,checked:!1},{label:"Additional Treatment Management Service A",value:"99458",cptCode:i.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE,checked:!1},{label:"Additional Treatment Management Service B",value:"99458B",cptCode:i.ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B,checked:!1},{label:"CMT",value:"99484",cptCode:i.CARE_MANAGEMENT_TIME,checked:!1},{label:"CCM - Non-complex 20 min",value:"99490",cptCode:i.NON_COMPLEX_TMS,checked:!1},{label:"CCM - Non-complex Additional 20 min",value:"99439",cptCode:i.NON_COMPLEX_ADDITIONAL_TMS,checked:!1},{label:"CCM - Non-complex Additional B 20 min",value:"99439B",cptCode:i.NON_COMPLEX_ADDITIONAL_TMS_B,checked:!1},{label:"CCM - 30 mins (Physician)",value:"99491",cptCode:i.NON_COMPLEX_TMS_PHYSICIAN,checked:!1},{label:"CCM - Complex 60 mins",value:"99487",cptCode:i.COMPLEX_TMS,checked:!1},{label:"CCM - Additional Complex 30 mins",value:"99489",cptCode:i.COMPLEX_ADDITIONAL_TMS,checked:!1}]},c36b:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return o}),n.d(e,"e",function(){return r}),n.d(e,"a",function(){return c});var i={editable:!0,spellcheck:!0,height:"15rem",minHeight:"2rem",placeholder:"Feel free to jot down any notes before your appointment. You can also choose from a list of note templates below.",translate:"no",defaultParagraphSeparator:"p",toolbarHiddenButtons:[["subscript","superscript","justifyFull","fontName"],["customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]},a={editable:!0,spellcheck:!0,height:"9rem",width:"25rem",minHeight:"2rem",placeholder:"Enter plan of care here...",translate:"no",defaultParagraphSeparator:"p",toolbarHiddenButtons:[["undo","redo","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","fontName","indent","outdent","heading"],["fontSize","textColor","backgroundColor","customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]},o={editable:!0,spellcheck:!0,height:"32rem",width:"60rem",minHeight:"2rem",placeholder:"Enter plan of care here...",translate:"no",outline:!0,defaultParagraphSeparator:"p",toolbarHiddenButtons:[["strikeThrough","subscript","superscript","justifyFull","fontName"],["backgroundColor","customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]},r={editable:!0,spellcheck:!0,height:"8rem",showToolbar:!1,minHeight:"2rem",placeholder:"Enter plan of care here...",translate:"no",defaultParagraphSeparator:"p",toolbarHiddenButtons:[["undo","redo","bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","fontName","indent","outdent","insertUnorderedList","insertOrderedList","heading"],["fontSize","textColor","backgroundColor","customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]},c={editable:!0,spellcheck:!0,height:"15rem",width:"25rem",minHeight:"2rem",placeholder:"Enter plan of care here...",translate:"no",defaultParagraphSeparator:"p",toolbarHiddenButtons:[["undo","redo","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","fontName","indent","outdent","heading"],["fontSize","textColor","backgroundColor","customClasses","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]}},cA1j:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),a=n("tk/3"),o=function(){var t=function(){function t(e){u(this,t),this.http=e,this.featureHighlightMap=new Map,this.FEATURE_HIGHLIGHT_CONFIGS="feature_highlight_configs"}return p(t,[{key:"initialize",value:function(){var t=this;return new Promise(function(e,n){t.http.get("./assets/configs/feature-highlight-configs.json").toPromise().then(function(n){t.featureHighlightConfigJson=JSON.stringify(n),localStorage.setItem(t.FEATURE_HIGHLIGHT_CONFIGS,t.featureHighlightConfigJson),t.initializeFeatureConfigMap(),e()},function(t){n()})})}},{key:"initializeFeatureConfigMap",value:function(){var t=this,e=JSON.parse(this.featureHighlightConfigJson);Object.keys(e).forEach(function(n){t.featureHighlightMap.set(n,e[n])})}},{key:"clearAllItemsInLocalStorageExceptFeatureHighlight",value:function(){if(this.featureHighlightConfigJson=localStorage.getItem(this.FEATURE_HIGHLIGHT_CONFIGS),null!=this.featureHighlightConfigJson){for(var t=new Map,e=0,n=Object.keys(JSON.parse(this.featureHighlightConfigJson));e<n.length;e++)for(var i=n[e],a=0;a<localStorage.length;a++)if(localStorage.key(a).startsWith(i)){t.set(localStorage.key(a),localStorage.getItem(localStorage.key(a)));break}localStorage.clear(),t.forEach(function(t,e){return localStorage.setItem(e,t)}),localStorage.setItem(this.FEATURE_HIGHLIGHT_CONFIGS,this.featureHighlightConfigJson)}else localStorage.clear()}},{key:"getFeatureHighlightConfig",value:function(t){return this.featureHighlightMap.get(t)}},{key:"setFeatureConfigs",value:function(){var t=this;this.featureHighlightConfigJson=localStorage.getItem(this.FEATURE_HIGHLIGHT_CONFIGS),null==this.featureHighlightConfigJson?this.http.get("./assets/configs/feature-highlight-configs.json").toPromise().then(function(e){t.featureHighlightConfigJson=JSON.stringify(e),localStorage.setItem(t.FEATURE_HIGHLIGHT_CONFIGS,t.featureHighlightConfigJson),t.initializeFeatureConfigMap()}):this.initializeFeatureConfigMap()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.bc(a.c))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},cauy:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("rqHP"),a=function t(){u(this,t),this.firstName="",this.lastName="",this.fullName="",this.username="",this.password="",this.dateOfBirth=0,this.profileTags=[],this.dxCodes=[],this.email="",this.authenticationProvider="COOEY",this.country="",this.mobile="",this.type="",this.zipCode=null,this.insuranceInformation=new i.a,this.externalSources=new Array}},cnAw:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o});var i=function t(){u(this,t),this.overallStatus="APPROVED",this.type=a.HOME_VISIT,this.ownerType=o.TENANT_ADMIN},a=function(t){return t.HOME_VISIT="HOME_VISIT",t.HOSPITAL_VISIT="HOSPITAL_VISIT",t.VIDEO_CALL="VIDEO_CALL",t.AUDIO_CALL="AUDIO_CALL",t}({}),o=function(t){return t.PATIENT="PATIENT",t.TENANT="TENANT",t.GUARDIAN="GUARDIAN",t.ADMIN="ADMIN",t.CARE_TAKER="CARE_TAKER",t.USER="USER",t.GROUP_ADMIN="GROUP_ADMIN",t.TENANT_ADMIN="TENANT_ADMIN",t.SUPER_ADMIN="SUPER_ADMIN",t.DUTY_NURSE="DUTY_NURSE",t}({})},dRHE:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("WoUL"),a=n("fXoL"),o=function(){var t=function(){function t(e){u(this,t),this.translationService=e}return p(t,[{key:"transform",value:function(t,e){var n=this.translationService.wordMap.get(t);return n?((null==e?void 0:e.length)&&(null==e||e.forEach(function(t){n=null==n?void 0:n.replace("{".concat(t[0],"}"),t[1])})),n):t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Rb(i.a))},t.\u0275pipe=a.Qb({name:"translate",type:t,pure:!0}),t}()},dRj7:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.LESS_THAN="LESS_THAN",t.GREATER_THAN="GREATER_THAN",t.EQUAL_TO="EQUAL_TO",t.BETWEEN="BETWEEN",t}({})},dh1a:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var i=n("fXoL"),a=n("ofXK"),o=n("cA1j"),r=n("SHZf"),c=n("WoUL"),s=n("UFn0");function l(t){return function(){return t.initialize()}}var d=function(){var t=function(){function t(e){u(this,t),this.translationService=e,e.setLanguage()}return p(t,null,[{key:"forRoot",value:function(){return{ngModule:t,providers:[o.a,{provide:i.d,useFactory:l,deps:[o.a],multi:!0}]}}}]),t}();return t.\u0275mod=i.Pb({type:t}),t.\u0275inj=i.Ob({factory:function(e){return new(e||t)(i.bc(c.a))},imports:[[a.c,s.a,r.a.forRoot()]]}),t}()},eKjZ:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t,e){var n=Date.now()-new Date(t).getTime(),i=new Date(n);return Math.abs(i.getUTCFullYear()-1970)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"userAge",type:t,pure:!0}),t}()},eq8A:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("fXoL"),a=n("dEAy"),o=n("B+r4"),r=n("PTRe"),c=n("3Pt+"),s=n("OzZK"),l=n("RwU8"),d=n("C2AL"),b=function(){var t=function(){function t(e){u(this,t),this.modalRef=e,this.reason="",this.loading=!1}return p(t,[{key:"ngOnInit",value:function(){}},{key:"disable",value:function(){this.modalRef.destroy({isConfirmed:!0,reason:this.reason})}},{key:"cancel",value:function(){this.modalRef.destroy({isConfirmed:!1,reason:""})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Rb(a.e))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-confirm-modal"]],decls:15,vars:9,consts:[["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[3,"nzMaxCharacterCount"],["rows","5","nz-input","",3,"ngModel","ngModelChange"],["nz-row","","nzJustify","end",1,"space-vertical",3,"nzGutter"],["nz-col","","nzSpan","4"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"nzLoading","disabled","click"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Xb(2,"p"),i.Xc(3," If you are proceeding to disable the staff, please specify the reason and click Confirm! "),i.Wb(),i.Wb(),i.Wb(),i.Xb(4,"div",0),i.Xb(5,"div",1),i.Xb(6,"nz-textarea-count",2),i.Xb(7,"textarea",3),i.ec("ngModelChange",function(t){return e.reason=t}),i.Wb(),i.Wb(),i.Wb(),i.Wb(),i.Xb(8,"div",4),i.Xb(9,"div",5),i.Xb(10,"button",6),i.ec("click",function(){return e.cancel()}),i.Xc(11," Cancel "),i.Wb(),i.Wb(),i.Xb(12,"div",5),i.Xb(13,"button",7),i.ec("click",function(){return e.disable()}),i.Xc(14," Confirm "),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.rc("nzGutter",24),i.Db(1),i.rc("nzSpan",24),i.Db(3),i.rc("nzGutter",24),i.Db(1),i.rc("nzSpan",24),i.Db(1),i.rc("nzMaxCharacterCount",100),i.Db(1),i.rc("ngModel",e.reason),i.Db(1),i.rc("nzGutter",24),i.Db(5),i.rc("nzLoading",e.loading)("disabled",0==e.reason.length))},directives:[o.c,o.a,r.f,r.b,c.d,c.u,c.x,s.a,l.a,d.a],styles:[".space-vertical[_ngcontent-%COMP%]{margin-top:18px;margin-right:0!important}"]}),t}()},fEa1:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),a=n("tyNb"),o=function(){var t=function(){function t(e,n){var i=this;u(this,t),this._router=e,this._activatedRoute=n,this.queryParams=this._activatedRoute.snapshot.queryParams,this._activatedRoute.queryParams.subscribe(function(t){i.queryParams=t})}return p(t,[{key:"setParameter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;this._router.navigate([],{queryParams:t,queryParamsHandling:e?"":"merge",relativeTo:this._activatedRoute,replaceUrl:n})}},{key:"getParameterValue",value:function(t){return this.queryParams[t]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.bc(a.g),i.bc(a.a))},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},fQ3Y:function(t,e,n){"use strict";n.d(e,"a",function(){return Qt});var i=n("geco"),a=(n("azu5"),n("HZ0a")),r=n("x6g7"),s=n("4iVq"),l=n("BrXI"),d=n("igu/"),b=n("FrsH"),h=n("fXoL"),g=n("bNXi"),f=n("tyNb"),v=n("F6ss"),m=n("oyxB"),S=n("ofXK"),y=n("3/1E"),T=n("ZKr6"),C=n("5vDB"),E=n("OzZK"),I=n("RwU8"),M=n("C2AL"),A=n("qAZ0"),_=n("B+r4"),D=n("dRHE"),z=n("OkQO");function O(t,e){if(1&t&&(h.Xb(0,"p",13),h.Xb(1,"strong"),h.Xc(2),h.Wb(),h.Wb()),2&t){var n=h.ic().$implicit;h.Db(2),h.Yc(null==n?null:n.raisedFor)}}function k(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"span",14),h.Xc(2),h.jc(3,"alertMessage"),h.Wb(),h.Ub()),2&t){var n=h.ic().$implicit;h.Db(2),h.Zc(" ",h.mc(3,1,null==n?null:n.type,null==n?null:n.alertMessageParameters,null==n?null:n.message)," ")}}function N(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"span",14),h.Xc(2),h.jc(3,"alertMessage"),h.Wb(),h.Ub()),2&t){var n=h.ic().$implicit;h.Db(2),h.Zc(" ",h.mc(3,1,null==n?null:n.type,null==n?null:n.alertMessageParameters,null==n?null:n.message)," ")}}function P(t,e){if(1&t&&(h.Vb(0),h.Sb(1,"span",15),h.jc(2,"alertMessage"),h.Ub()),2&t){var n=h.ic().$implicit;h.Db(1),h.sc("innerHtml",h.nc(2,1,null==n?null:n.type,null==n?null:n.alertMessageParameters,null==n?null:n.message,n),h.Mc)}}function R(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",19),h.ec("click",function(){h.Lc(n);var t=h.ic(2).$implicit;return h.ic(2).closeAlert(t.id)}),h.Xc(1),h.jc(2,"translate"),h.Wb()}2&t&&(h.Db(1),h.Zc(" ",h.kc(2,1,"MARKED_AS_CLOSED")," "))}function X(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",20),h.ec("click",function(){h.Lc(n);var t=h.ic(2).$implicit;return h.ic(2).view(t)}),h.Xc(1),h.jc(2,"translate"),h.Wb()}2&t&&(h.Db(1),h.Zc(" ",h.kc(2,1,"COMMON.VIEW")," "))}function L(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"span",16),h.Vc(2,R,3,3,"button",17),h.Vc(3,X,3,3,"button",18),h.Wb(),h.Ub()),2&t){var n=h.ic().$implicit;h.Db(2),h.rc("ngIf","VERY_LOW"==n.priority),h.Db(1),h.rc("ngIf","VITAL_LIMIT_CROSSED"==n.type||"TODO_TASK_SKIPPED"==n.type||"FORM_ALERT"==n.type||"PRIORITISED"==n.type)}}var w=function(){return["CLOSE_PATIENT_ALERT"]};function W(t,e){if(1&t&&(h.Xb(0,"div",6),h.Xb(1,"div",7),h.Xb(2,"p",8),h.Xb(3,"strong"),h.Xc(4),h.jc(5,"date"),h.Wb(),h.Wb(),h.Vc(6,O,3,1,"p",9),h.Xb(7,"p",10),h.Vc(8,k,4,5,"ng-container",1),h.Vc(9,N,4,5,"ng-container",1),h.Vc(10,P,3,6,"ng-container",1),h.Wb(),h.Wb(),h.Sb(11,"div",11),h.Vc(12,L,4,2,"ng-container",12),h.Sb(13,"nz-divider"),h.Wb()),2&t){var n=e.$implicit;h.Db(4),h.Yc(h.lc(5,6,null==n?null:n.createdOn,"medium")),h.Db(2),h.rc("ngIf","FORM_ALERT"==(null==n?null:n.type)),h.Db(2),h.rc("ngIf","CAREPLAN_ASSIGNED"==n.type||"CONSENT_SUBMITTED"==n.type),h.Db(1),h.rc("ngIf","CAREPLAN_ASSIGNED"!=n.type&&"CONSENT_SUBMITTED"!=n.type&&"PRIORITISED"!=n.type),h.Db(1),h.rc("ngIf","PRIORITISED"==n.type),h.Db(2),h.rc("isFeaturePermitted",h.xc(9,w))}}function V(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div"),h.Vc(1,W,14,10,"div",4),h.Sb(2,"br"),h.Xb(3,"nz-pagination",5),h.ec("nzPageIndexChange",function(t){return h.Lc(n),h.ic().getPatientsAlerts("OPEN",t)}),h.Wb(),h.Wb()}if(2&t){var i=h.ic();h.Db(1),h.rc("ngForOf",null==i.openAlerts?null:i.openAlerts.result),h.Db(2),h.rc("nzPageIndex",i.openAlertsPage)("nzTotal",null==i.openAlerts||null==i.openAlerts.metaData?null:i.openAlerts.metaData.totalCount)}}function x(t,e){1&t&&h.Sb(0,"nz-spin",21)}function U(t,e){1&t&&(h.Xb(0,"div",22),h.Xb(1,"strong",22),h.Xc(2),h.jc(3,"translate"),h.Wb(),h.Wb()),2&t&&(h.Db(2),h.Yc(h.kc(3,1,"COMMON.NOALERTMESSAGE")))}function F(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"span",14),h.Xc(2),h.jc(3,"alertMessage"),h.Wb(),h.Ub()),2&t){var n=h.ic().$implicit;h.Db(2),h.Zc(" ",h.mc(3,1,null==n?null:n.type,null==n?null:n.alertMessageParameters,null==n?null:n.message)," ")}}function H(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"div",25),h.Sb(2,"span",15),h.jc(3,"alertMessage"),h.Wb(),h.Ub()),2&t){var n=h.ic().$implicit;h.Db(2),h.sc("innerHtml",h.nc(3,1,null==n?null:n.type,null==n?null:n.alertMessageParameters,null==n?null:n.message,n),h.Mc)}}function B(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"span",14),h.Xc(2),h.jc(3,"alertMessage"),h.Wb(),h.Ub()),2&t){var n=h.ic().$implicit;h.Db(2),h.Zc(" ",h.mc(3,1,null==n?null:n.type,null==n?null:n.alertMessageParameters,null==n?null:n.message)," ")}}function j(t,e){if(1&t){var n=h.Yb();h.Xb(0,"button",26),h.ec("click",function(){h.Lc(n);var t=h.ic().$implicit;return h.ic(2).view(t)}),h.Xc(1),h.jc(2,"translate"),h.Wb()}2&t&&(h.Db(1),h.Yc(h.kc(2,1,"COMMON.VIEW")))}function G(t,e){if(1&t&&(h.Xb(0,"div",6),h.Xb(1,"p",8),h.Xb(2,"strong"),h.Xc(3),h.jc(4,"date"),h.Wb(),h.Wb(),h.Xb(5,"div",23),h.Xb(6,"p",10),h.Vc(7,F,4,5,"ng-container",1),h.Vc(8,H,4,6,"ng-container",1),h.Vc(9,B,4,5,"ng-container",1),h.Wb(),h.Wb(),h.Vc(10,j,3,3,"button",24),h.Sb(11,"nz-divider"),h.Wb()),2&t){var n=e.$implicit;h.Db(3),h.Yc(h.lc(4,5,null==n?null:n.createdOn,"medium")),h.Db(4),h.rc("ngIf","CAREPLAN_ASSIGNED"==n.type||"CONSENT_SUBMITTED"==n.type),h.Db(1),h.rc("ngIf","PRIORITISED"==n.type),h.Db(1),h.rc("ngIf","CAREPLAN_ASSIGNED"!=n.type&&"CONSENT_SUBMITTED"!=n.type&&"PRIORITISED"!=n.type),h.Db(1),h.rc("ngIf","VITAL_LIMIT_CROSSED"==n.type||"TODO_TASK_SKIPPED"==n.type||"FORM_ALERT"==n.type)}}function Y(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div"),h.Vc(1,G,12,8,"div",4),h.Sb(2,"br"),h.Xb(3,"nz-pagination",5),h.ec("nzPageIndexChange",function(t){return h.Lc(n),h.ic().getPatientsAlerts("CLOSED",t)}),h.Wb(),h.Wb()}if(2&t){var i=h.ic();h.Db(1),h.rc("ngForOf",null==i.closedAlerts?null:i.closedAlerts.result),h.Db(2),h.rc("nzPageIndex",i.closedAlertsPage)("nzTotal",null==i.closedAlerts||null==i.closedAlerts.metaData?null:i.closedAlerts.metaData.totalCount)}}function q(t,e){1&t&&h.Sb(0,"nz-spin",21)}function Z(t,e){1&t&&(h.Xb(0,"div",22),h.Xb(1,"strong"),h.Xc(2),h.jc(3,"translate"),h.Wb(),h.Wb()),2&t&&(h.Db(2),h.Yc(h.kc(3,1,"COMMON.NOALERTMESSAGE")))}var Q,K=((Q=function(){function t(e,n,i,a,o,r,c){u(this,t),this._patientsService=e,this._notificationsService=n,this._patientsEventLogger=i,this._router=a,this._alertService=o,this._drawerRef=r,this._dataSharingService=c,this.allPatients=!1,this.openAlertsPage=1,this.closedAlertsPage=1,this.linkedAlertVitals=new Array}return p(t,[{key:"ngOnDestroy",value:function(){}},{key:"ngOnInit",value:function(){this.allPatients?(this.getAllPatientsAlerts(l.a.OPEN,1),this.getAllPatientsAlerts(l.a.CLOSED,1)):(this.getPatientsAlerts(l.a.OPEN,1),this.getPatientsAlerts(l.a.CLOSED,1)),this.getPatientInformation()}},{key:"getOffset",value:function(t){return 1!==t?10*(t-1):0}},{key:"getPatientsAlerts",value:function(t,e){var n=this;this.loading=!0;var i=new s.a;i.patientId=this.patientId,i.status=t,i.offset=this.getOffset(e),this._alertService.fetchAlerts(i).subscribe(function(i){t===l.a.OPEN?n.openAlerts=i:n.closedAlerts=i,t===l.a.OPEN?n.openAlertsPage=e:n.closedAlertsPage=e,n.loading=!1})}},{key:"getAllPatientsAlerts",value:function(t,e){var n=this;this.loading=!0;var i=new s.a;i.status=t,i.offset=this.getOffset(e),this._alertService.fetchAlerts(i).subscribe(function(i){t===l.a.OPEN?n.openAlerts=i:n.closedAlerts=i,t===l.a.OPEN?n.openAlertsPage=e:n.closedAlertsPage=e,n.loading=!1})}},{key:"closeAlert",value:function(t){var e=this;this._alertService.closeAlert(t).subscribe(function(){e._patientsEventLogger.patientAlertEvent(e.patientId,"alert_mark_as_closed"),e._notificationsService.success("Success","Alert Closed Successfully"),e._dataSharingService.triggerAlertRefresh(),e.ngOnInit()})}},{key:"view",value:function(t){var e,n=this,i=!1,a=null;switch(t.type==b.a.PRIORITISED.toString()?(e=t.id,a=t.status,this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers,t.linkedAlerts.forEach(function(t,e){n.linkedAlertVitals[e]=t.alertContext.id}),t=t.linkedAlerts[0],i=!0):(this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers),this.alertId=t.id,this._patientsEventLogger.patientAlertEvent(this.patientId,"view_alert"),t.type){case"TODO_TASK_SKIPPED":this.viewSkippedTaskAlert(t);break;case"VITAL_LIMIT_CROSSED":this.viewVitalLimitAlert(t,e,a,i);break;case"FORM_ALERT":this.viewFormAlert(t);break;case"CAREPLAN_ASSIGNED":case"CONSENT_SUBMITTED":this.viewEpisode(t)}}},{key:"viewEpisode",value:function(t){this._router.navigate(["episodes/details/".concat(t.patientId,"/").concat(t.alertMessageParameters.EPISODE_ID)],{queryParams:{blueprintId:t.alertMessageParameters.EPISODE_BLUEPRINT_ID}})}},{key:"viewFormAlert",value:function(t){var e,n,i,a,o=null===(i=null===(n=null===(e=this.patientInfo)||void 0===e?void 0:e.patientState)||void 0===n?void 0:n.assessmentScores)||void 0===i?void 0:i.filter(function(e){return e.name==t.raisedFor});this._router.navigate(["patient/assessment-trend",this.patientId],{queryParams:{patientId:this.patientId,alert:t.id,blueprintId:null===(a=null==o?void 0:o[0])||void 0===a?void 0:a.parentFormId}}),this.closeDrawer()}},{key:"viewVitalLimitAlert",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._router.navigate(["patient/vital-trend",t.patientId],{queryParams:{patientId:t.patientId,patientName:this.patientName,dob:this.dob,isPrioritisedAlert:i,alertId:this.alertId,prioritisedAlertId:e,prioritisedAlertStatus:n,linkedVitals:JSON.stringify(this.linkedAlertVitals),phoneNumbers:JSON.stringify(this.phoneNumbers)}}),this.closeDrawer()}},{key:"viewSkippedTaskAlert",value:function(t){this._router.navigate(["patient/vital-trend",this.patientId],{queryParams:{patientId:this.patientId,patientName:this.patientInfo.fullName,dob:this.patientInfo.dateOfBirth,alert:JSON.stringify(t),phoneNumbers:JSON.stringify(this.phoneNumbers)}}),this.closeDrawer()}},{key:"getPatientInformation",value:function(){var t=this;this._patientsService.fetchPatientById(this.patientId).subscribe(function(e){t.patientInfo=e})}},{key:"closeDrawer",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._drawerRef.close(t)}}]),t}()).\u0275fac=function(t){return new(t||Q)(h.Rb(i.a),h.Rb(g.b),h.Rb(a.a),h.Rb(f.g),h.Rb(r.a),h.Rb(v.c),h.Rb(d.a))},Q.\u0275cmp=h.Lb({type:Q,selectors:[["app-alerts-dialog"]],inputs:{patientId:"patientId",patient:"patient",episodeId:"episodeId",careplanId:"careplanId",carePlanStartDate:"carePlanStartDate",tmsPercent:"tmsPercent",additionalTMSPercent:"additionalTMSPercent",allPatients:"allPatients",phoneNumbers:"phoneNumbers"},decls:11,vars:12,consts:[[3,"nzTitle"],[4,"ngIf"],["class","spinner","nzSimple","",4,"ngIf"],["class","no-alerts",4,"ngIf"],["class","alerts-container",4,"ngFor","ngForOf"],[1,"align-right",3,"nzPageIndex","nzTotal","nzPageIndexChange"],[1,"alerts-container"],[1,"block-inline","block-8"],[1,"note-date"],["class","note-heading",4,"ngIf"],[1,"alert","alert-msg"],[1,"block-inline","block-2"],[4,"isFeaturePermitted"],[1,"note-heading"],[1,"alert-message"],[1,"alert-message",3,"innerHtml"],[2,"float","right","margin-right","10px","margin-bottom","10px"],["nz-button","","nzType","danger","class","btn-closed",3,"click",4,"ngIf"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],["nz-button","","nzType","danger",1,"btn-closed",3,"click"],["nz-button","","nzType","primary",3,"click"],["nzSimple","",1,"spinner"],[1,"no-alerts"],[1,"block-inline","block-10"],["nz-button","","nzType","primary","class","view-btn",3,"click",4,"ngIf"],["nz-col","","nzSpan","11"],["nz-button","","nzType","primary",1,"view-btn",3,"click"]],template:function(t,e){1&t&&(h.Xb(0,"nz-tabset"),h.Xb(1,"nz-tab",0),h.jc(2,"translate"),h.Vc(3,V,4,3,"div",1),h.Vc(4,x,1,0,"nz-spin",2),h.Vc(5,U,4,3,"div",3),h.Wb(),h.Xb(6,"nz-tab",0),h.jc(7,"translate"),h.Vc(8,Y,4,3,"div",1),h.Vc(9,q,1,0,"nz-spin",2),h.Vc(10,Z,4,3,"div",3),h.Wb(),h.Wb()),2&t&&(h.Db(1),h.sc("nzTitle",h.kc(2,8,"ALERTS.OPEN")),h.Db(2),h.rc("ngIf",!e.loading&&(null==e.openAlerts||null==e.openAlerts.result?null:e.openAlerts.result.length)),h.Db(1),h.rc("ngIf",e.loading),h.Db(1),h.rc("ngIf",!(e.loading||null!=e.openAlerts&&null!=e.openAlerts.result&&e.openAlerts.result.length)),h.Db(1),h.sc("nzTitle",h.kc(7,10,"ALERTS.CLOSED")),h.Db(2),h.rc("ngIf",!e.loading&&(null==e.closedAlerts||null==e.closedAlerts.result?null:e.closedAlerts.result.length)),h.Db(1),h.rc("ngIf",e.loading),h.Db(1),h.rc("ngIf",!(e.loading||null!=e.closedAlerts&&null!=e.closedAlerts.result&&e.closedAlerts.result.length)))},directives:[m.d,m.a,S.q,S.p,y.a,T.a,C.a,E.a,I.a,M.a,A.a,_.a],pipes:[D.a,S.e,z.a],styles:[".align-right[_ngcontent-%COMP%]{text-align:right;cursor:pointer}.alerts-container[_ngcontent-%COMP%]{margin:1%;padding:2%;border-radius:10px}#add-note[_ngcontent-%COMP%]{border-radius:15px;background-color:#f7f7f7}.block-inline[_ngcontent-%COMP%]{display:inline-block;word-wrap:break-word}.block-8[_ngcontent-%COMP%]{width:80%}.block-6[_ngcontent-%COMP%]{width:60%}.block-2[_ngcontent-%COMP%]{width:20%}.alert[_ngcontent-%COMP%]{font-size:12px}.alert-msg[_ngcontent-%COMP%]{color:gray}.no-alerts[_ngcontent-%COMP%]{width:100%;text-align:center}.spinner[_ngcontent-%COMP%]{margin-top:2%;text-align:center}.view-btn[_ngcontent-%COMP%]{float:right;margin-right:10px;margin-bottom:10px}.btn-closed[_ngcontent-%COMP%]{color:#c81c1c;background:var(--neutral-color);text-shadow:0 -1px 0 rgba(0,0,0,.12);box-shadow:0 2px 0 rgba(0,0,0,.05);border-color:red;position:relative;right:7px}.priority-tag[_ngcontent-%COMP%]{opacity:.7}"]}),Q),J=n("W9fG"),$=n("eHCX");function tt(t,e){if(1&t&&(h.Xb(0,"div",12),h.Xb(1,"div",13),h.Xc(2),h.Wb(),h.Xb(3,"div",14),h.Xc(4),h.Wb(),h.Sb(5,"br"),h.Wb()),2&t){var n=e.$implicit;h.Db(2),h.Zc(" ",(null==n?null:n.prompt)||(null==n?null:n.name)," "),h.Db(2),h.Zc(" ",null==n?null:n.value," ")}}var et=function(t){return{danger:t}};function nt(t,e){if(1&t&&(h.Xb(0,"div",12),h.Xb(1,"div",13),h.Xc(2),h.Wb(),h.Xb(3,"div",15),h.Xc(4),h.Wb(),h.Sb(5,"br"),h.Wb()),2&t){var n=e.$implicit;h.Db(2),h.Zc(" ",(null==n?null:n.prompt)||(null==n?null:n.name)," "),h.Db(1),h.rc("ngClass",h.yc(3,et,"No"===(null==n?null:n.value))),h.Db(1),h.Zc(" ",null==n?null:n.value," ")}}var it,at=((it=function(){function t(e,n){var i=this;u(this,t),this._router=e,this._drawerRef=n,this.healthScoreFormat=function(t){return"".concat(t||"-","/").concat(i.userHealthScore.baseValue||"-")}}return p(t,[{key:"ngOnInit",value:function(){this.scoreParametersSections=this.userHealthScore.healthScore.scoreCalculationHistory[this.userHealthScore.healthScore.scoreCalculationHistory.length-1].scoreParametersSections}},{key:"viewProfile",value:function(){var t="patient/view/".concat(this.patientId);this._drawerRef.close(!0),this._router.navigate([t])}},{key:"gotoHealthScoreHistory",value:function(){this._drawerRef.close(!0),this._router.navigate(["patient/healthscore/",this.patientId])}}]),t}()).\u0275fac=function(t){return new(t||it)(h.Rb(f.g),h.Rb(v.c))},it.\u0275cmp=h.Lb({type:it,selectors:[["app-health-score-details"]],inputs:{patientId:"patientId",patientName:"patientName",userHealthScore:"userHealthScore"},decls:31,vars:11,consts:[["nz-row","","nzGutter","32"],["nz-col","","nzSpan","6",3,"click"],["nzType","circle",3,"nzStrokeColor","nzFormat","nzWidth","nzPercent"],["nz-col","","nzSpan","18"],["nz-typography",""],["nz-typography","","nzType","secondary"],["nz-typography","","nzType","success"],["nz-row","",4,"ngFor","ngForOf"],[1,"text-center"],["nz-button","","nzType","primary",3,"click"],["nzType","vertical"],["nz-button","","nzType","default",3,"click"],["nz-row",""],["nz-col","","nzSpan","16",1,"heading"],["nz-col","","nzSpan","8",1,"value"],["nz-col","","nzSpan","8",1,"value",3,"ngClass"]],template:function(t,e){1&t&&(h.Sb(0,"br"),h.Xb(1,"div",0),h.Xb(2,"div",1),h.ec("click",function(){return e.gotoHealthScoreHistory()}),h.Sb(3,"nz-progress",2),h.Wb(),h.Xb(4,"div",3),h.Xb(5,"h4",4),h.Xc(6),h.Wb(),h.Xb(7,"h5",5),h.Xc(8," RI last measured on: "),h.Sb(9,"br"),h.Xc(10),h.jc(11,"date"),h.Wb(),h.Wb(),h.Wb(),h.Sb(12,"nz-divider"),h.Xb(13,"h3",6),h.Xc(14,"Vital signs"),h.Wb(),h.Sb(15,"br"),h.Vc(16,tt,6,2,"div",7),h.Sb(17,"nz-divider"),h.Xb(18,"h3",6),h.Xc(19,"Assessment"),h.Wb(),h.Sb(20,"br"),h.Vc(21,nt,6,5,"div",7),h.Sb(22,"nz-divider"),h.Xb(23,"div",8),h.Xb(24,"button",9),h.ec("click",function(){return e.viewProfile()}),h.Xc(25," View Profile "),h.Wb(),h.Vb(26),h.Sb(27,"nz-divider",10),h.Xb(28,"button",11),h.ec("click",function(){return e.gotoHealthScoreHistory()}),h.Xc(29," View History "),h.Wb(),h.Ub(),h.Sb(30,"nz-divider"),h.Wb()),2&t&&(h.Db(3),h.rc("nzStrokeColor","#a7c853")("nzFormat",e.healthScoreFormat)("nzWidth",75)("nzPercent",null==e.userHealthScore||null==e.userHealthScore.healthScore?null:e.userHealthScore.healthScore.totalScore),h.Db(3),h.Yc(e.patientName||"N/A"),h.Db(4),h.Zc(" ",h.lc(11,8,null==e.userHealthScore||null==e.userHealthScore.healthScore?null:e.userHealthScore.healthScore.calculatedOn,"medium")," "),h.Db(6),h.rc("ngForOf",e.scoreParametersSections[1].scoreParameters),h.Db(5),h.rc("ngForOf",e.scoreParametersSections[0].scoreParameters))},directives:[_.c,_.a,J.a,$.a,C.a,S.p,E.a,I.a,M.a,S.o],pipes:[S.e],styles:["[_nghost-%COMP%]     .ant-descriptions-item-label{color:var(--neutral-color)!important}[_nghost-%COMP%]     .ant-descriptions-row>td{padding:0!important}h3[_ngcontent-%COMP%]{font-size:13px}h4[_ngcontent-%COMP%]{text-transform:capitalize}[_nghost-%COMP%]     .ant-progress-text{color:#d81b60;font-size:18px;font-weight:700}.heading[_ngcontent-%COMP%]{font-size:12px;font-weight:700;padding-bottom:10px}.value[_ngcontent-%COMP%]{font-size:15px;color:var(--primary-color);font-weight:700;font-family:monospace}.danger[_ngcontent-%COMP%]{color:#d81b60}.text-center[_ngcontent-%COMP%]{text-align:center}button[_ngcontent-%COMP%]{width:45%}"]}),it),ot=n("qQcL"),rt=n("0rTH"),ct=n("0zwC"),st=n("ZE2D");function lt(t,e){if(1&t&&h.Sb(0,"img",15),2&t){var n=h.ic();h.rc("src",null==n.patientDetails?null:n.patientDetails.profilePicture,h.Oc)}}function ut(t,e){1&t&&h.Sb(0,"nz-avatar",16),2&t&&h.rc("nzShape","square")("nzSize",75)("nzIcon","user")}function dt(t,e){1&t&&(h.Vb(0),h.Xc(1,"Male"),h.Ub())}function pt(t,e){1&t&&(h.Vb(0),h.Xc(1,"Female"),h.Ub())}function bt(t,e){1&t&&(h.Vb(0),h.Xc(1,"Other"),h.Ub())}function ht(t,e){if(1&t&&(h.Xb(0,"p"),h.Xb(1,"strong"),h.Xc(2),h.Wb(),h.Wb()),2&t){var n=h.ic();h.Db(2),h.Yc(null==n.patientDetails||null==n.patientDetails.quickNote?null:n.patientDetails.quickNote.content)}}var gt,ft=((gt=function(){function t(e){u(this,t),this._drawerRef=e}return p(t,[{key:"closeDrawer",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._drawerRef.close(t)}}]),t}()).\u0275fac=function(t){return new(t||gt)(h.Rb(v.c))},gt.\u0275cmp=h.Lb({type:gt,selectors:[["app-patient-basic-info"]],inputs:{patientDetails:"patientDetails"},features:[h.Cb([rt.a])],decls:31,vars:21,consts:[["nz-row",""],["nz-col","","nzSpan","8"],[2,"text-align","center"],["alt","user-profile",3,"src",4,"ngIf"],[3,"nzShape","nzSize","nzIcon",4,"ngIf"],[1,"status-tag"],["isFullName","true",3,"patientStatus"],["nz-col","","nzSpan","16"],["nz-typography",""],["nz-typography","","nzType","secondary"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],["nz-col","","nzSpan","12"],["nz-button","","nzType","primary",3,"routerLink","click"],["alt","user-profile",3,"src"],[3,"nzShape","nzSize","nzIcon"]],template:function(t,e){1&t&&(h.Sb(0,"br"),h.Xb(1,"div",0),h.Xb(2,"div",1),h.Xb(3,"div",2),h.Vc(4,lt,1,1,"img",3),h.Vc(5,ut,1,3,"nz-avatar",4),h.Xb(6,"div",5),h.Sb(7,"app-patient-status-tag",6),h.Wb(),h.Wb(),h.Wb(),h.Xb(8,"div",7),h.Xb(9,"h4",8),h.Xc(10),h.Wb(),h.Xb(11,"h5",9),h.Xc(12),h.Xb(13,"span",10),h.Vc(14,dt,2,0,"ng-container",11),h.Vc(15,pt,2,0,"ng-container",11),h.Vc(16,bt,2,0,"ng-container",11),h.Wb(),h.Wb(),h.Xb(17,"h5",9),h.Xc(18),h.jc(19,"date"),h.Wb(),h.Xb(20,"h5",9),h.Xc(21),h.jc(22,"language"),h.Wb(),h.Wb(),h.Wb(),h.Sb(23,"br"),h.Vc(24,ht,3,1,"p",12),h.Xb(25,"div",0),h.Xb(26,"div",13),h.Xb(27,"button",14),h.ec("click",function(){return e.closeDrawer()}),h.Xc(28),h.jc(29,"translate"),h.Wb(),h.Wb(),h.Wb(),h.Sb(30,"nz-divider")),2&t&&(h.Db(4),h.rc("ngIf",null==e.patientDetails?null:e.patientDetails.profilePicture),h.Db(1),h.rc("ngIf",!(null!=e.patientDetails&&e.patientDetails.profilePicture)),h.Db(2),h.rc("patientStatus",null==e.patientDetails?null:e.patientDetails.patientStatus),h.Db(3),h.Yc((null==e.patientDetails?null:e.patientDetails.name)||"N/A"),h.Db(2),h.Zc(" ",(null==e.patientDetails?null:e.patientDetails.age)||"N/A"," years, "),h.Db(1),h.rc("ngSwitch",null==e.patientDetails?null:e.patientDetails.gender),h.Db(1),h.rc("ngSwitchCase","MALE"),h.Db(1),h.rc("ngSwitchCase","FEMALE"),h.Db(1),h.rc("ngSwitchCase","OTHER"),h.Db(2),h.Zc(" DoB: \xa0 ",h.lc(19,14,null==e.patientDetails?null:e.patientDetails.dateOfBirth,"mediumDate")||"N/A"," "),h.Db(3),h.Zc(" Language: \xa0 ",h.kc(22,17,null==e.patientDetails||null==e.patientDetails.language?null:e.patientDetails.language.locale)||"N/A"," "),h.Db(3),h.rc("ngIf",null==e.patientDetails||null==e.patientDetails.quickNote?null:e.patientDetails.quickNote.content),h.Db(3),h.tc("routerLink","/patient/view/",null==e.patientDetails?null:e.patientDetails.id,""),h.Db(1),h.Zc(" ",h.kc(29,19,"PATIENT.VIEW_PROFILE")," "))},directives:[_.c,_.a,S.q,ct.a,$.a,S.s,S.t,E.a,I.a,M.a,f.h,C.a,st.a],pipes:[S.e,rt.a,D.a],styles:["[_nghost-%COMP%]     .ant-avatar{background:#dddfe1}img[_ngcontent-%COMP%]{width:75px;height:75px}h4[_ngcontent-%COMP%]{text-transform:capitalize}h5[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}button[_ngcontent-%COMP%]{width:100%}.status-tag[_ngcontent-%COMP%]{margin-top:20px}"]}),gt),vt=n("Wfee");function mt(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"div",3),h.Xb(2,"div",4),h.Xb(3,"h5",5),h.Xc(4),h.Wb(),h.Wb(),h.Xb(5,"div",6),h.Sb(6,"app-audio-call-widget",7),h.Wb(),h.Xb(7,"div",6),h.Sb(8,"app-chat-widget",7),h.Wb(),h.Wb(),h.Ub()),2&t){var n=e.$implicit;h.Db(4),h.Zc(" ",null==n?null:n.value," "),h.Db(2),h.rc("userId",null==n?null:n.key),h.Db(2),h.rc("userId",null==n?null:n.key)}}function St(t,e){1&t&&(h.Xb(0,"div",8),h.Sb(1,"nz-alert",9),h.jc(2,"translate"),h.Wb()),2&t&&(h.Db(1),h.sc("nzMessage",h.kc(2,1,"PATIENT.NO_MONITORING_STAFF")))}var yt,Tt=((yt=function t(){u(this,t)}).\u0275fac=function(t){return new(t||yt)},yt.\u0275cmp=h.Lb({type:yt,selectors:[["app-assigned-caretakers"]],inputs:{patientDetails:"patientDetails"},decls:8,vars:9,consts:[["nz-typography","","nzType","success"],[4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","18"],["nz-typography",""],["nz-col","","nzSpan","3"],[3,"userId"],[1,"text-center"],["nzType","warning",3,"nzMessage"]],template:function(t,e){if(1&t&&(h.Xb(0,"h4",0),h.Xc(1),h.jc(2,"translate"),h.Wb(),h.Vc(3,mt,9,3,"ng-container",1),h.jc(4,"keyvalue"),h.Vc(5,St,3,3,"div",2),h.jc(6,"keyvalue"),h.Sb(7,"nz-divider")),2&t){var n=null;h.Db(1),h.Yc(h.kc(2,3,"COMMON.MONITORED_BY")),h.Db(2),h.rc("ngForOf",h.kc(4,5,null==e.patientDetails?null:e.patientDetails.assignedCaretakers)),h.Db(2),h.rc("ngIf",!(null!=e.patientDetails&&e.patientDetails.assignedCaretakers&&null!=(n=h.kc(6,7,null==e.patientDetails?null:e.patientDetails.assignedCaretakers))&&n.length))}},directives:[$.a,S.p,S.q,C.a,_.c,_.a,vt.a],pipes:[D.a,S.j],styles:[".text-center[_ngcontent-%COMP%]{text-align:center}h4[_ngcontent-%COMP%]{font-size:12px!important}h5[_ngcontent-%COMP%]{font-weight:400!important;font-size:13px!important}"]}),yt),Ct=n("ZyQt"),Et=n("wjar"),It=n("glKu");function Mt(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"nz-tag",5),h.Xc(2),h.Wb(),h.Ub()),2&t){var n=e.$implicit;h.Db(2),h.Yc(n)}}function At(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"h4",3),h.Xc(2),h.jc(3,"translate"),h.Wb(),h.Vc(4,Mt,3,1,"ng-container",4),h.Sb(5,"nz-divider"),h.Wb()),2&t){var n=h.ic();h.Db(2),h.Yc(h.kc(3,2,"COMMON.PROFILETAG")),h.Db(2),h.rc("ngForOf",null==n.patientDetails?null:n.patientDetails.profileTags)}}function _t(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"h4",3),h.Xc(2),h.jc(3,"translate"),h.Wb(),h.Sb(4,"br"),h.Xb(5,"h4",3),h.Xc(6),h.jc(7,"translate"),h.Wb(),h.Xb(8,"label"),h.Xc(9),h.Wb(),h.Sb(10,"br"),h.Xc(11,"\xa0"),h.Sb(12,"br"),h.Xb(13,"h4",3),h.Xc(14),h.jc(15,"translate"),h.Wb(),h.Xb(16,"label"),h.Xc(17),h.Wb(),h.Sb(18,"nz-divider"),h.Wb()),2&t){var n=h.ic();h.Db(2),h.Yc(h.kc(3,5,"EPISODE.PRIMARY_INSURANCE")),h.Db(4),h.Yc(h.kc(7,7,"EPISODE.CARRIER_NAME")),h.Db(3),h.Zc(" ",(null==n.patientDetails||null==n.patientDetails.insuranceInformation||null==n.patientDetails.insuranceInformation.primaryInsuranceDetails?null:n.patientDetails.insuranceInformation.primaryInsuranceDetails.carrierName)||"N/A"," "),h.Db(5),h.Yc(h.kc(15,9,"EPISODE.INSURER_MEMBER_ID")),h.Db(3),h.Zc(" ",(null==n.patientDetails||null==n.patientDetails.insuranceInformation||null==n.patientDetails.insuranceInformation.primaryInsuranceDetails?null:n.patientDetails.insuranceInformation.primaryInsuranceDetails.insuranceId)||"N/A"," ")}}function Dt(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"h4",3),h.Xc(2),h.jc(3,"translate"),h.Wb(),h.Sb(4,"br"),h.Xb(5,"h4",3),h.Xc(6),h.jc(7,"translate"),h.Wb(),h.Xb(8,"label"),h.Xc(9),h.Wb(),h.Sb(10,"br"),h.Sb(11,"br"),h.Xb(12,"h4",3),h.Xc(13),h.jc(14,"translate"),h.Wb(),h.Xb(15,"label"),h.Xc(16),h.Wb(),h.Sb(17,"nz-divider"),h.Wb()),2&t){var n=h.ic();h.Db(2),h.Yc(h.kc(3,5,"EPISODE.SECONDARY_INSURANCE")),h.Db(4),h.Yc(h.kc(7,7,"EPISODE.CARRIER_NAME")),h.Db(3),h.Zc(" ",(null==n.patientDetails||null==n.patientDetails.insuranceInformation||null==n.patientDetails.insuranceInformation.secondaryInsuranceDetails?null:n.patientDetails.insuranceInformation.secondaryInsuranceDetails.carrierName)||"N/A"," "),h.Db(4),h.Yc(h.kc(14,9,"EPISODE.INSURER_MEMBER_ID")),h.Db(3),h.Zc(" ",(null==n.patientDetails||null==n.patientDetails.insuranceInformation||null==n.patientDetails.insuranceInformation.secondaryInsuranceDetails?null:n.patientDetails.insuranceInformation.secondaryInsuranceDetails.insuranceId)||"N/A"," ")}}function zt(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"h4",3),h.Xc(2),h.jc(3,"translate"),h.Wb(),h.Xb(4,"h4"),h.Xc(5),h.Wb(),h.Xb(6,"h4",6),h.Xc(7),h.jc(8,"date"),h.jc(9,"date"),h.Wb(),h.Sb(10,"nz-divider"),h.Wb()),2&t){var n=h.ic();h.Db(2),h.Yc(h.kc(3,4,"PATIENT.CARE_PLAN_DETAILS")),h.Db(3),h.Yc((null==n.patientDetails?null:n.patientDetails.careplanName)||"N/A"),h.Db(2),h.ad(" ",h.lc(8,6,null==n.patientDetails?null:n.patientDetails.careplanStartDate,"mediumDate")," - ",h.lc(9,9,null==n.patientDetails?null:n.patientDetails.careplanEndDate,"mediumDate")," ")}}function Ot(t,e){if(1&t&&(h.Xb(0,"div",7),h.Xb(1,"div",8),h.Xb(2,"h4",3),h.Xc(3),h.jc(4,"translate"),h.Wb(),h.Wb(),h.Xb(5,"div",9),h.Xc(6),h.jc(7,"date"),h.Wb(),h.Wb()),2&t){var n=h.ic().$implicit;h.Db(3),h.Yc(h.kc(4,2,"TABLEHEADER.COMPLETEDON")),h.Db(3),h.Zc(" ",h.lc(7,4,null==n?null:n.completedOn,"mediumDate")," ")}}function kt(t,e){if(1&t&&(h.Vb(0),h.Xb(1,"div",7),h.Xb(2,"div",8),h.Xb(3,"h4",3),h.Xc(4),h.jc(5,"translate"),h.Wb(),h.Wb(),h.Xb(6,"div",9),h.Xc(7),h.Wb(),h.Wb(),h.Xb(8,"div",7),h.Xb(9,"div",8),h.Xb(10,"h4",3),h.Xc(11),h.jc(12,"translate"),h.Wb(),h.Wb(),h.Xb(13,"div",9),h.Xc(14),h.Wb(),h.Wb(),h.Vc(15,Ot,8,7,"div",10),h.Xb(16,"div",7),h.Xb(17,"div",8),h.Xb(18,"h4",3),h.Xc(19,"Scheduled On:"),h.Wb(),h.Wb(),h.Xb(20,"div",9),h.Xc(21),h.jc(22,"date"),h.Wb(),h.Wb(),h.Ub()),2&t){var n=e.$implicit;h.Db(4),h.Zc("",h.kc(5,6,"COMMON.NAME"),":"),h.Db(3),h.Zc(" ",(null==n?null:n.name)||"N/A"," "),h.Db(4),h.Yc(h.kc(12,8,"TABLEHEADER.COMPLETED")),h.Db(3),h.Zc(" ",null!=n&&n.completed?"Yes":"No"," "),h.Db(1),h.rc("ngIf",null==n?null:n.completedOn),h.Db(6),h.Zc(" ",h.lc(22,10,null==n?null:n.scheduledOn,"mediumDate")," ")}}function Nt(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"h4",3),h.Xc(2),h.jc(3,"translate"),h.Wb(),h.Sb(4,"br"),h.Vc(5,kt,23,13,"ng-container",4),h.Sb(6,"nz-divider"),h.Wb()),2&t){var n=h.ic();h.Db(2),h.Yc(h.kc(3,2,"PATIENT.DEVICE_SETUP_DETAILS")),h.Db(3),h.rc("ngForOf",null==n.patientDetails?null:n.patientDetails.deviceSetupStatuses)}}function Pt(t,e){if(1&t&&(h.Xb(0,"nz-tag",12),h.Xc(1),h.Wb()),2&t){var n=e.$implicit;h.Db(1),h.Yc(n)}}function Rt(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"h4",3),h.Xc(2),h.jc(3,"translate"),h.Wb(),h.Vc(4,Pt,2,1,"nz-tag",11),h.Sb(5,"br"),h.Sb(6,"br"),h.Wb()),2&t){var n=h.ic();h.Db(2),h.Yc(h.kc(3,2,"COMMON.DIAGNOSIS")),h.Db(2),h.rc("ngForOf",null==n.patientDetails?null:n.patientDetails.icdCodes)}}function Xt(t,e){if(1&t&&(h.Xb(0,"nz-tag",12),h.Xc(1),h.Wb()),2&t){var n=e.$implicit;h.Db(1),h.Yc(n)}}function Lt(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"h4",3),h.Xc(2),h.Wb(),h.Vc(3,Xt,2,1,"nz-tag",11),h.Sb(4,"br"),h.Sb(5,"br"),h.Wb()),2&t){var n=h.ic();h.Db(2),h.Zc("",(null==n.patientDetails?null:n.patientDetails.episodeType)||""," Activities"),h.Db(1),h.rc("ngForOf",null==n.patientDetails?null:n.patientDetails.cptCodes)}}function wt(t,e){if(1&t){var n=h.Yb();h.Xb(0,"div",13),h.Xb(1,"button",14),h.ec("click",function(){return h.Lc(n),h.ic().gotoEpisode()}),h.Xc(2),h.jc(3,"translate"),h.Wb(),h.Sb(4,"nz-divider"),h.Wb()}2&t&&(h.Db(2),h.Zc(" ",h.kc(3,1,"PATIENT.VIEW_EPISODE")," "))}function Wt(t,e){if(1&t&&(h.Vb(0),h.Sb(1,"br"),h.Xb(2,"div",7),h.Xb(3,"div",15),h.Xb(4,"strong"),h.Xc(5),h.Wb(),h.Wb(),h.Xb(6,"div",16),h.Sb(7,"app-audio-call-widget",17),h.Wb(),h.Wb(),h.Ub()),2&t){var n=h.ic().$implicit,i=h.ic(2);h.Db(5),h.Yc((null==i.emergencyContacts[n]?null:i.emergencyContacts[n].name)||"N/A"),h.Db(2),h.rc("userId",null==i.emergencyContacts[n]?null:i.emergencyContacts[n].id)}}function Vt(t,e){if(1&t&&(h.Vb(0),h.Vc(1,Wt,8,2,"ng-container",1),h.Ub()),2&t){var n=e.$implicit,i=h.ic(2);h.Db(1),h.rc("ngIf",i.emergencyContacts[n])}}function xt(t,e){if(1&t){var n=h.Yb();h.Vb(0),h.Sb(1,"br"),h.Xb(2,"h4",18),h.ec("click",function(){return h.Lc(n),h.ic(2).closeDrawer()}),h.Xc(3," View Emergency Contacts \xa0 "),h.Sb(4,"app-icons",19),h.Wb(),h.Ub()}if(2&t){var i=h.ic(2);h.Db(2),h.tc("routerLink","/patient/view/",null==i.patientDetails?null:i.patientDetails.id,"")}}var Ut=function(){return[0,1]};function Ft(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"h4",3),h.Xc(2),h.jc(3,"translate"),h.Wb(),h.Vc(4,Vt,2,1,"ng-container",4),h.Vc(5,xt,5,1,"ng-container",1),h.Sb(6,"nz-divider"),h.Wb()),2&t){var n=h.ic();h.Db(2),h.Yc(h.kc(3,3,"PATIENT.EMGERGENCY_CONTACTS")),h.Db(2),h.rc("ngForOf",h.xc(5,Ut)),h.Db(1),h.rc("ngIf",(null==n.emergencyContacts?null:n.emergencyContacts.length)>2)}}function Ht(t,e){if(1&t&&(h.Vb(0),h.Sb(1,"br"),h.Xb(2,"div",7),h.Xb(3,"div",15),h.Xb(4,"strong"),h.Xc(5),h.Wb(),h.Wb(),h.Xb(6,"div",16),h.Sb(7,"app-audio-call-widget",17),h.Wb(),h.Wb(),h.Ub()),2&t){var n=h.ic().$implicit,i=h.ic(2);h.Db(5),h.Yc((null==i.guardians[n]?null:i.guardians[n].fullName)||"N/A"),h.Db(2),h.rc("userId",null==i.guardians[n]?null:i.guardians[n].id)}}function Bt(t,e){if(1&t&&(h.Vb(0),h.Vc(1,Ht,8,2,"ng-container",1),h.Ub()),2&t){var n=e.$implicit,i=h.ic(2);h.Db(1),h.rc("ngIf",i.guardians[n])}}function jt(t,e){if(1&t){var n=h.Yb();h.Vb(0),h.Sb(1,"br"),h.Xb(2,"h4",18),h.ec("click",function(){return h.Lc(n),h.ic(2).closeDrawer()}),h.Xc(3," View Guardians \xa0 "),h.Sb(4,"app-icons",19),h.Wb(),h.Ub()}if(2&t){var i=h.ic(2);h.Db(2),h.tc("routerLink","/patient/view/",null==i.patientDetails?null:i.patientDetails.id,"")}}function Gt(t,e){if(1&t&&(h.Xb(0,"div"),h.Xb(1,"h4",3),h.Xc(2),h.jc(3,"translate"),h.Wb(),h.Vc(4,Bt,2,1,"ng-container",4),h.Vc(5,jt,5,1,"ng-container",1),h.Wb()),2&t){var n=h.ic();h.Db(2),h.Yc(h.kc(3,3,"PATIENT.GURADIANS")),h.Db(2),h.rc("ngForOf",h.xc(5,Ut)),h.Db(1),h.rc("ngIf",(null==n.guardians?null:n.guardians.length)>2)}}var Yt,qt,Zt=((qt=function(t){o(n,t);var e=c(n);function n(t,i,a,o){var r;return u(this,n),(r=e.call(this))._router=t,r._drawerRef=i,r._patientsService=a,r._dataSharingService=o,r._dataSharingService.tenantSettings.subscribe(function(t){var e;t&&(r.episodeBlueprintIdMap=new Map,null===(e=null==t?void 0:t.episodeBlueprints)||void 0===e||e.forEach(function(t){r.episodeBlueprintIdMap.set(t.type,t.id)}))}),r}return p(n,[{key:"ngOnInit",value:function(){var t=this;this._patientsService.fetchEmergencyContactsForPatient(this.patientDetails.id).subscribe(function(e){return t.emergencyContacts=e}),this._patientsService.fetchGuardiansForPatient(this.patientDetails.id).subscribe(function(e){return t.guardians=e})}},{key:"viewProfile",value:function(){var t="patients/view/".concat(this.patientDetails.id);this._drawerRef.close(!0),this._router.navigate([t])}},{key:"gotoEpisode",value:function(){this.closeDrawer();var t=this.episodeBlueprintIdMap.get(this.patientDetails.episodeType);t&&this._router.navigate(["episodes/details/".concat(this.patientDetails.id,"/").concat(this.patientDetails.episodeId)],{queryParams:{blueprintId:t}})}},{key:"closeDrawer",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._drawerRef.close(t)}}]),n}(ot.a)).\u0275fac=function(t){return new(t||qt)(h.Rb(f.g),h.Rb(v.c),h.Rb(i.a),h.Rb(d.a))},qt.\u0275cmp=h.Lb({type:qt,selectors:[["app-info"]],inputs:{patientDetails:"patientDetails"},features:[h.Ab],decls:13,vars:12,consts:[[3,"patientDetails"],[4,"ngIf"],["class","episodeAction",4,"ngIf"],["nz-typography","","nzType","success"],[4,"ngFor","ngForOf"],["nzColor","#EFFEE2"],["nz-typography","","nzType","secondary"],["nz-row",""],["nz-col","","nzSpan","8"],["nz-col","","nzSpan","16",1,"text-right"],["nz-row","",4,"ngIf"],["nzColor","#D9F5FF",4,"ngFor","ngForOf"],["nzColor","#D9F5FF"],[1,"episodeAction"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzSpan","18"],["nz-col","","nzSpan","6"],[3,"userId"],["nz-typography","","nzType","success","actionable","",3,"routerLink","click"],["name","arrowRight","originalStyle","true"]],template:function(t,e){1&t&&(h.Sb(0,"app-patient-basic-info",0),h.Sb(1,"app-assigned-caretakers",0),h.Vc(2,At,6,4,"div",1),h.Vc(3,_t,19,11,"div",1),h.Vc(4,Dt,18,11,"div",1),h.Vc(5,zt,11,12,"div",1),h.Vc(6,Nt,7,4,"div",1),h.Xb(7,"div"),h.Vc(8,Rt,7,4,"div",1),h.Vc(9,Lt,6,2,"div",1),h.Wb(),h.Vc(10,wt,5,3,"div",2),h.Vc(11,Ft,7,6,"div",1),h.Vc(12,Gt,6,6,"div",1)),2&t&&(h.rc("patientDetails",e.patientDetails),h.Db(1),h.rc("patientDetails",e.patientDetails),h.Db(1),h.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.profileTags)&&(null==e.patientDetails||null==e.patientDetails.profileTags?null:e.patientDetails.profileTags.length)),h.Db(1),h.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.insuranceInformation)&&(null==e.patientDetails||null==e.patientDetails.insuranceInformation?null:e.patientDetails.insuranceInformation.primaryInsuranceDetails)&&(null==e.patientDetails||null==e.patientDetails.insuranceInformation||null==e.patientDetails.insuranceInformation.primaryInsuranceDetails?null:e.patientDetails.insuranceInformation.primaryInsuranceDetails.insuranceId)),h.Db(1),h.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.insuranceInformation)&&(null==e.patientDetails||null==e.patientDetails.insuranceInformation?null:e.patientDetails.insuranceInformation.secondaryInsured)),h.Db(1),h.rc("ngIf",null==e.patientDetails?null:e.patientDetails.careplanId),h.Db(1),h.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.deviceSetupStatuses)&&(null==e.patientDetails||null==e.patientDetails.deviceSetupStatuses?null:e.patientDetails.deviceSetupStatuses.length)),h.Db(2),h.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.icdCodes)&&(null==e.patientDetails||null==e.patientDetails.icdCodes?null:e.patientDetails.icdCodes.length)),h.Db(1),h.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.cptCodes)&&(null==e.patientDetails||null==e.patientDetails.cptCodes?null:e.patientDetails.cptCodes.length)),h.Db(1),h.rc("ngIf",null==e.patientDetails?null:e.patientDetails.episodeId),h.Db(1),h.rc("ngIf",e.emergencyContacts&&(null==e.emergencyContacts?null:e.emergencyContacts.length)),h.Db(1),h.rc("ngIf",e.guardians&&(null==e.guardians?null:e.guardians.length)))},directives:[ft,Tt,S.q,$.a,S.p,C.a,Ct.a,_.c,_.a,E.a,I.a,M.a,Et.a,f.h,It.a],pipes:[D.a,S.e],styles:[".text-right[_ngcontent-%COMP%]{text-align:right}.text-center[_ngcontent-%COMP%]{text-align:center}h4[_ngcontent-%COMP%]{font-size:12px}nz-tag[_ngcontent-%COMP%]{background:#effee2 0 0 no-repeat padding-box;color:#0f2015;font-size:11px}app-icons[_ngcontent-%COMP%]{vertical-align:middle}.episodeAction[_ngcontent-%COMP%]{width:100%;text-align:center}.episodeAction[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:75%;height:45px}"]}),qt),Qt=((Yt=function(){function t(e){u(this,t),this._drawerService=e}return p(t,[{key:"alerts",value:function(t,e,n,i,a,o,r,c,s){return this._drawerService.create({nzContent:K,nzTitle:e,nzContentParams:{patientId:t,episodeId:i,careplanId:a,carePlanStartDate:o,tmsPercent:r,additionalTMSPercent:c,allPatients:n,phoneNumbers:s},nzMask:!0,nzMaskStyle:{background:"transparent"},nzMaskClosable:!0,nzWidth:350})}},{key:"basicInfo",value:function(t){return this._drawerService.create({nzContent:Zt,nzContentParams:{patientDetails:t},nzMask:!0,nzMaskStyle:{background:"transparent"},nzMaskClosable:!0,nzWidth:350})}},{key:"healthScoreDetails",value:function(t,e,n){return this._drawerService.create({nzContent:at,nzContentParams:{patientId:t,patientName:e,userHealthScore:n},nzMask:!0,nzMaskStyle:{background:"transparent"},nzMaskClosable:!0,nzWidth:350})}}]),t}()).\u0275fac=function(t){return new(t||Yt)(h.bc(v.d))},Yt.\u0275prov=h.Nb({token:Yt,factory:Yt.\u0275fac,providedIn:"root"}),Yt)},fgTL:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.ALL_PATIENTS="ALL_PATIENTS",t.EPISODES="EPISODES",t.NO_ACTIVE_EPISODES="NO_ACTIVE_EPISODES",t.CARE_PLANS="CARE_PLANS",t.NO_ACTIVE_CARE_PLANS="NO_ACTIVE_CARE_PLANS",t.INACTIVE_PATIENTS="INACTIVE_PATIENTS",t.RPM_VITAL_COMPLIANCE="RPM_VITAL_COMPLIANCE",t.HEALTH_SCORE="HEALTH_SCORE",t.DST="DST",t.ON_BOARDING="ON_BOARDING",t.VITAL_DAYS_REMAINING="VITAL_DAYS_REMAINING",t.TMS_REMAINING="TMS_REMAINING",t.CMT="CMT",t.CONSENT_FORM="CONSENT_FORM",t.PHYSICIAN_ORDER="PHYSICIAN_ORDER",t.CUSTOM="CUSTOM",t.VITALS_ACTIVITY="VITALS_ACTIVITY",t.ASSESSMENT_ACTIVITY="ASSESSMENT_ACTIVITY",t.ASSESSMENT_COMPLIANCE="ASSESSMENT_COMPLIANCE",t.PATIENTS_WITH_IN_COMPLETE_DST="PATIENTS_WITH_IN_COMPLETE_DST",t.CCM_CMT_REMAINING="CCM_CMT_REMAINING",t.PATIENT_NOT_SERVICED="PATIENT_NOT_SERVICED",t.PATIENT_CREATION_DATE="PATIENT_CREATION_DATE",t}({})},fhRi:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL"),a=n("ofXK"),o=function(){var t=function(){function t(e){u(this,t),this._datePipe=e}return p(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MMM dd, yyyy hh:mm a";if(null==t?void 0:t.length)return 23<(null==t?void 0:t.length)&&(t=null==t?void 0:t.substring(0,23)),this._datePipe.transform(new Date("".concat(t,"Z")),e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Rb(a.e))},t.\u0275pipe=i.Qb({name:"utcToLocalTime",type:t,pure:!0}),t}()},gBMA:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t,e,n,i,a){var o,r;if(!t)return"normal";t=t.toString();var c="";return(null==i?void 0:i.vitalOutOfLimit)&&(null===(o=null==i?void 0:i.parameterStates)||void 0===o?void 0:o.some(function(t){return t.parameter===e}))?c="abnormal":i?c="normal":i||(c=(null===(r=null==n?void 0:n.contexts)||void 0===r?void 0:r.length)?this.checkFromContexts(n,t,a):this.checkFromParameters(n,e,t)),c}},{key:"checkFromParameters",value:function(t,e,n){var i="normal",a=t.parameters.find(function(t){return t.type===e});if(!a)return i;var o=a.globalLimit.minimum,r=a.globalLimit.maximum;try{null!=o&&parseInt(n)<o&&(i="abnormal"),null!=r&&parseInt(n)>r&&(i="abnormal")}catch(c){}return i}},{key:"checkFromContexts",value:function(t,e,n){var i,a,o="normal";if(!n||"N/A"===n)return o;if(null===(i=null==t?void 0:t.contexts)||void 0===i||i.forEach(function(t){var e=t.options.find(function(t){return t.label===n});e&&(a=e)}),!a)return o;var r=null==a?void 0:a.limit.minimum,c=null==a?void 0:a.limit.maximum;try{null!=r&&parseInt(e)<r&&(o="abnormal"),null!=c&&parseInt(e)>c&&(o="abnormal")}catch(s){}return o}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"vitalFieldLimit",type:t,pure:!0}),t}()},gSz3:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("SxV6"),a=n("AytR"),o=n("fXoL"),r=n("tk/3"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl="".concat(a.g.url,"/v3/user-alerts/vital")}return p(t,[{key:"fetchVitalBlueprintsOfUser",value:function(t){return this._http.get("".concat(this.rootUrl,"/").concat(t)).pipe(Object(i.a)())}},{key:"editVitalBlueprintsOfUser",value:function(t){return this._http.put(this.rootUrl,t).pipe(Object(i.a)())}},{key:"deleteVitalBlueprintOfUser",value:function(t,e){return this._http.delete("".concat(this.rootUrl,"/").concat(t,"/").concat(e)).pipe(Object(i.a)())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(r.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},gbDW:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t),this.enabledEpisodeBlueprintTypes=new Set}return p(t,[{key:"transform",value:function(t,e){var n=this;return!(!e&&0==(null==e?void 0:e.length))&&null!=e&&0!=e.length&&(null==e||e.forEach(function(t){(null==t?void 0:t.archived)||n.enabledEpisodeBlueprintTypes.add(t.type)}),this.enabledEpisodeBlueprintTypes.has(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"isEpisodeTypeEnabled",type:t,pure:!0}),t}()},geco:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i,a=n("/5ms"),o=n("nLCl"),r=n("IQJ1"),c=n("S9gE"),s=function(t){return t.NAME="NAME",t.ALERTS="ALERTS",t.VITAL_DAYS_REMAINING="VITAL_DAYS_REMAINING",t.TMS="TMS",t.ADDITIONAL_TMS="ADDITIONAL_TMS",t.CMT="CMT",t.EPISODE_START_DATE="EPISODE_START_DATE",t.EPISODE_END_DATE="EPISODE_END_DATE",t.CONSENT_VALID_UPTO="CONSENT_VALID_UPTO",t.PHYSICIAN_ORDER_VALID_UPTO="PHYSICIAN_ORDER_VALID_UPTO",t}({}),l=n("SxV6"),d=n("tk/3"),b=n("AytR"),h=n("fgTL"),g=n("dRj7"),f=n("fXoL"),v=n("tyNb"),m=((i=function(){function t(e,n){u(this,t),this._http=e,this._activatedRoute=n,this.rootUrl=b.g.url}return p(t,[{key:"setSelectedTabIndex",value:function(t){this.tabsetTabSelector=t}},{key:"getSelectedTabIndex",value:function(){return this.tabsetTabSelector}},{key:"fetchPatientById",value:function(t){return this._http.get("".concat(this.rootUrl,"/v3/patients/").concat(t))}},{key:"fetchPatientsList",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.ALERTS,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"DESC",p=arguments.length>6&&void 0!==arguments[6]?arguments[6]:h.a.ALL_PATIENTS,b=arguments.length>7?arguments[7]:void 0,f=arguments.length>8?arguments[8]:void 0,v=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,m=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,S=arguments.length>11&&void 0!==arguments[11]?arguments[11]:null,y=arguments.length>12&&void 0!==arguments[12]?arguments[12]:null,T=arguments.length>13&&void 0!==arguments[13]?arguments[13]:0,C=arguments.length>14&&void 0!==arguments[14]?arguments[14]:0,E=arguments.length>15&&void 0!==arguments[15]?arguments[15]:g.a.LESS_THAN,I=arguments.length>16&&void 0!==arguments[16]?arguments[16]:a.a.PENDING_ON_BOARDINGS,M=arguments.length>17?arguments[17]:void 0,A=arguments.length>18?arguments[18]:void 0,_=arguments.length>19?arguments[19]:void 0,D=arguments.length>20&&void 0!==arguments[20]?arguments[20]:r.a.JSON,z=arguments.length>21?arguments[21]:void 0,O=arguments.length>22?arguments[22]:void 0,k=arguments.length>23?arguments[23]:void 0,N=arguments.length>24?arguments[24]:void 0,P=arguments.length>25?arguments[25]:void 0,R=arguments.length>26&&void 0!==arguments[26]?arguments[26]:null,X=arguments.length>27&&void 0!==arguments[27]?arguments[27]:null,L=arguments.length>28&&void 0!==arguments[28]?arguments[28]:null,w=arguments.length>29&&void 0!==arguments[29]?arguments[29]:null,W=arguments.length>30&&void 0!==arguments[30]?arguments[30]:null,V=arguments.length>31&&void 0!==arguments[31]?arguments[31]:null,x=arguments.length>32&&void 0!==arguments[32]?arguments[32]:"ALL",U=arguments.length>33&&void 0!==arguments[33]?arguments[33]:null,F=arguments.length>34&&void 0!==arguments[34]?arguments[34]:null,H="".concat(this.rootUrl,"/v3/patients/");z&&(n=0,i=9999999);var B=m?m[0]:new Date((new Date).setDate((new Date).getDate()-1)),j=m?m[1]:new Date,G={offset:"".concat(n),limit:"".concat(i),filter:p,sortBy:l,order:u,format:D,staff:o,physician:c,site:v,episodeBlueprint:null!=b?b:null,selectedEpisodeType:null!=f?f:null,carePlanBlueprint:y,dstFilter:null!=I?I:null,tmsFilter:null!=M?M:null,cmtFilter:null!=A?A:null,ccmCMTFilter:null!=_?_:null,consentFormStatus:null!=O?O:null,physicianOrderStatus:null!=k?k:null,filterOperation:E,firstValue:"".concat(T),secondValue:"".concat(C),patientStatus:null!=N?N:null,episodeStatus:null!=P?P:null,searchKey:S,startDate:new Date(B).toISOString().split("T")[0],endDate:new Date(j).toISOString().split("T")[0],vitalFilter:null!=R?R:null,assessmentFilter:null!=X?X:null,assessmentFilterType:null!=L?L:null,rpmVitalCompliance:null!=w?w:null,onBoardingFilter:null!=W?W:null,languages:null!=V?V:null,assignedStaffType:x,metaValue:this._activatedRoute.snapshot.queryParamMap.get("metaValue"),smsSent:null!==(t=this._activatedRoute.snapshot.queryParamMap.get("smsSent"))&&void 0!==t?t:null,totalContactAttempts:null!==(e=this._activatedRoute.snapshot.queryParamMap.get("totalContactAttempts"))&&void 0!==e?e:null,patientCreationStartDate:U,patientCreationEndDate:F},Y=new d.h;return Object.keys(G).forEach(function(t){return G[t]&&(Y=Y.append(t,G[t]))}),this._http.get(H,{params:Y})}},{key:"fetchAllCaretakers",value:function(){return this._http.get("".concat(this.rootUrl,"/v2/users/?type=CARE_TAKER&limit=-1")).pipe(Object(l.a)())}},{key:"fetchCaretakersForPatient",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.MONITORING_STAFF;return this._http.get("".concat(this.rootUrl,"/v2/users/").concat(t,"/caretakers?role=").concat(e))}},{key:"fetchEmergencyContactsForPatient",value:function(t){return this._http.get("".concat(this.rootUrl,"/v2/users/").concat(t,"/contacts")).pipe(Object(l.a)())}},{key:"fetchGuardiansForPatient",value:function(t){return this._http.get("".concat(this.rootUrl,"/v2/users/").concat(t,"/guardians")).pipe(Object(l.a)())}},{key:"fetchPatientDetails",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.a.BASIC_DETAILS,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i="".concat(this.rootUrl,"/v2/one-view/patients/details/").concat(t,"?detailType=").concat(e);return n&&(i="".concat(i,"&episodeId=").concat(n)),this._http.get(i).pipe(Object(l.a)())}},{key:"getSpecificUser",value:function(t){return this._http.get(this.rootUrl+"/v2/users/"+t).pipe(Object(l.a)())}},{key:"fetchUsersByEmail",value:function(t,e){var n="".concat(this.rootUrl,"/v2/users/unique/").concat(t);return e&&(n+="?userId=".concat(e)),this._http.get(n)}},{key:"fetchAllCustomFilters",value:function(){var t=localStorage.getItem("loggedInUser");return this._http.get("".concat(this.rootUrl,"/v2/one-view/patients/custom-filters/").concat(t)).pipe(Object(l.a)())}},{key:"createCustomFilter",value:function(t){var e=localStorage.getItem("loggedInUser"),n=localStorage.getItem("loggedInTenant"),i="".concat(this.rootUrl,"/v2/one-view/patients/custom-filters");return t.userId=e,t.tenantId=n,this._http.post(i,JSON.stringify(t)).pipe(Object(l.a)())}},{key:"updateCustomFilter",value:function(t){var e=localStorage.getItem("loggedInUser"),n=localStorage.getItem("loggedInTenant"),i="".concat(this.rootUrl,"/v2/one-view/patients/custom-filters");return t.userId=e,t.tenantId=n,this._http.put(i,JSON.stringify(t)).pipe(Object(l.a)())}},{key:"deletePatient",value:function(t){return this._http.delete(this.rootUrl+"/v2/users/"+t+"/removeCareTaker/")}},{key:"fetchCareplanDetails",value:function(t){return this._http.get(this.rootUrl+"/v2/careplans/stats/patients/"+t).pipe(Object(l.a)())}},{key:"fetchPatientsNotes",value:function(t){return this._http.get(this.rootUrl+"/v2/one-view/patients/"+t+"/notes").pipe(Object(l.a)())}},{key:"fetchPatientsAllNotes",value:function(t){return this._http.get(this.rootUrl+"/v2/one-view/patients/"+t+"/notes/all").pipe(Object(l.a)())}},{key:"fetchPatientsAlerts",value:function(t,e,n){return this._http.get(this.rootUrl+"/v2/one-view/patients/"+t+"/alerts?type="+e+"&offset="+n).pipe(Object(l.a)())}},{key:"fetchAllPatientsAlerts",value:function(t,e){return this._http.get(this.rootUrl+"/v2/one-view/patients/duty-nurse/get-all-alerts/"+t+"?offset="+e).pipe(Object(l.a)())}},{key:"disableUser",value:function(t,e){return this._http.patch(this.rootUrl+"/v2/users/"+t,e).pipe(Object(l.a)())}},{key:"addNoteForPatient",value:function(t){var e=localStorage.getItem("loggedInTenant");return t.tenantId=e,this._http.post(this.rootUrl+"/v2/notes",JSON.stringify(t))}},{key:"addNoteForPatientWithId",value:function(t,e){return this._http.post(this.rootUrl+"/v2/notes/user/"+t,JSON.stringify(e))}},{key:"getNotes",value:function(t){return this._http.get(this.rootUrl+"/v2/notes/user/"+t).pipe(Object(l.a)())}},{key:"updateAlert",value:function(t){var e=localStorage.getItem("loggedInTenant");return t.tenantId=e,t.closedBy=localStorage.getItem("loggedInUser"),this._http.put(this.rootUrl+"/v2/alerts/",JSON.stringify(t))}},{key:"getAllVitals",value:function(t,e){return this._http.get(this.rootUrl+"/v2/one-view/patients/"+t+"/vitals/allVitals?primary="+e).pipe(Object(l.a)())}},{key:"getVitalHistory",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,o=this.rootUrl+"/v2/one-view/patients/"+t+"/vitals/"+e+"?limit="+a;return isNaN(n)||0==n||isNaN(i)||0==i||(o=o+"&startDate="+n+"&endDate="+i),this._http.get(o).pipe(Object(l.a)())}},{key:"fetchBHIPatientAssessment",value:function(t,e,n,i){return this._http.get("".concat(this.rootUrl,"/v2/one-view/patients/").concat(t,"/bhi-assessment/").concat(e,"?startDate=").concat(n,"&endDate=").concat(i)).pipe(Object(l.a)())}},{key:"fetchPatientAssessment",value:function(t,e,n){return this._http.get("".concat(this.rootUrl,"/v2/one-view/patients/").concat(t,"/assessment-history?startDate=").concat(e,"&endDate=").concat(n)).pipe(Object(l.a)())}},{key:"getTenantGlobalForms",value:function(t){return this._http.get("".concat(this.rootUrl,"/v1/globalforms/tenant")).pipe(Object(l.a)())}},{key:"saveBulkNoteForPatients",value:function(t){var e=localStorage.getItem("loggedInTenant"),n=localStorage.getItem("loggedInUser");return t.tenantId=e,t.addedBy=n,t.createdOn=(new Date).getTime(),this._http.post(this.rootUrl+"/v2/notes/users",JSON.stringify(t))}},{key:"fetchHealthScore",value:function(t,e,n){e&&n||(e=0,n=0);var i="".concat(this.rootUrl,"/v2/health_score/patients/").concat(t);return i=e&&n?"".concat(i,"?platform=WEB&startTime=").concat(e,"&endTime=").concat(n):"".concat(i,"?limit=10"),this._http.get(i)}},{key:"fetchPatientsWithoutCaretakers",value:function(){var t=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/users/patients-without-caretakers/"+t).pipe(Object(l.a)())}},{key:"fetchVitalNote",value:function(t){return this._http.get(this.rootUrl+"/v2/notes/"+t).pipe(Object(l.a)())}},{key:"fetchNotesForPatient",value:function(t,e){return this._http.get(this.rootUrl+"/v2/notes/user/"+t+"?vitalType="+e).pipe(Object(l.a)())}},{key:"fetchConsentNotesForPatient",value:function(t){return this._http.get(this.rootUrl+"/v2/notes/user/"+t+"?type=CONSENT").pipe(Object(l.a)())}},{key:"fetchBaseLineHealthScore",value:function(t){return this._http.get(this.rootUrl+"/v2/health_score/base-value/patient/"+t).pipe(Object(l.a)())}},{key:"getAllAlerts",value:function(t,e,n){return this._http.get(this.rootUrl+"/v2/alerts/tenant/"+t+"/alerts?type="+e+"&offset="+n).pipe(Object(l.a)())}},{key:"bulkUploadUsers",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this._http.post("".concat(b.g.url,"/v2/bulk-upload/users?allowPartialCreation=").concat(e,"&withPhysician=").concat(n),JSON.stringify(t)).pipe(Object(l.a)())}},{key:"savePatient",value:function(t){return this._http.post("".concat(b.g.url,"/v3/patients/"),JSON.stringify(t))}},{key:"updatePatient",value:function(t){return this._http.put("".concat(b.g.url,"/v3/patients/"),JSON.stringify(t))}},{key:"bulkAssignStaff",value:function(t,e){return this._http.post("".concat(b.g.url,"/v2/users/").concat(t,"/caretakers/assign"),JSON.stringify(e))}},{key:"unAssignClinician",value:function(t,e){return this._http.delete("".concat(this.rootUrl,"/v2/users/").concat(t,"/caretakers/").concat(e))}},{key:"resetPassword",value:function(t){return this._http.get(this.rootUrl+"/v2/users/"+t+"/recovery/")}},{key:"createNewGuardian",value:function(t,e){return this._http.post("".concat(b.g.url,"/v2/users/").concat(t,"/guardians"),JSON.stringify(e))}},{key:"updateGuardianUser",value:function(t,e){return this._http.put(this.rootUrl+"/v2/users/"+t+"/guardians",JSON.stringify(e))}},{key:"deleteGuardian",value:function(t){return this._http.delete("".concat(b.g.url,"/v2/users/guardians/").concat(t))}},{key:"createContact",value:function(t,e){return this._http.post("".concat(b.g.url,"/v2/users/").concat(t,"/contacts"),JSON.stringify(e))}},{key:"updateContact",value:function(t,e){return this._http.put("".concat(b.g.url,"/v2/users/").concat(t,"/contacts"),JSON.stringify(e))}},{key:"deleteContact",value:function(t,e){return this._http.delete("".concat(b.g.url,"/v2/users/").concat(t,"/contacts/").concat(e))}},{key:"assignAllergyToPatient",value:function(t,e){return this._http.post("".concat(b.g.url,"/v3/patients/").concat(t,"/allergies/add"),JSON.stringify(e))}},{key:"updateAllergiesForPatient",value:function(t,e){return this._http.put("".concat(b.g.url,"/v3/patients/").concat(t,"/allergies/update"),JSON.stringify(e))}},{key:"updatePatientStatus",value:function(t,e){return this._http.put("".concat(b.g.url,"/v3/patients/status/").concat(t),JSON.stringify(e))}},{key:"validatePatientProfile",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EPISODE";return this._http.get(this.rootUrl+"/v3/patients/"+t+"/profile-validation?feature="+e)}},{key:"updatePatientSite",value:function(t,e){return this._http.put("".concat(b.g.url,"/v3/patients/").concat(t,"/update/site/").concat(e),null)}},{key:"updatePatientDxCodes",value:function(t,e){return this._http.put("".concat(b.g.url,"/v3/patients/dxCodes/").concat(t),e)}},{key:"queryCCDA",value:function(t,e){return this._http.post("".concat(b.g.url,"/v1/redox/query/").concat(t,"/").concat(e),{})}},{key:"getAvailableLanguages",value:function(t){return this._http.get("".concat(b.g.url,"/v3/patients/available/languages"))}},{key:"markPrimaryMonitoringStaff",value:function(t,e){return this._http.put("".concat(b.g.url,"/v3/patients/").concat(e,"/mark/primary/").concat(t),null)}},{key:"qualifyPatients",value:function(t){return this._http.put(this.rootUrl+"/v3/user-qualification/patients",t)}},{key:"updateNote",value:function(t){return this._http.put(this.rootUrl+"/v2/notes/"+t.id,JSON.stringify(t))}}]),t}()).\u0275fac=function(t){return new(t||i)(f.bc(d.c),f.bc(v.a))},i.\u0275prov=f.Nb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},glKu:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i,a={appartment:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="apartment" aria-hidden="true"><path d="M908 640H804V488c0-4.4-3.6-8-8-8H548v-96h108c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16H368c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h108v96H228c-4.4 0-8 3.6-8 8v152H116c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16H292v-88h440v88H620c-8.8 0-16 7.2-16 16v288c0 8.8 7.2 16 16 16h288c8.8 0 16-7.2 16-16V656c0-8.8-7.2-16-16-16zm-564 76v168H176V716h168zm84-408V140h168v168H428zm420 576H680V716h168v168z"/></svg>',appointment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="#347aff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" data-name="vuesax/linear/note-favorite"><path d="M8 2v3"/><path data-name="Vector" d="M16 2v3M21 8.5v5.13a5.24 5.24 0 00-7.74 6.82A5.265 5.265 0 0014.68 22H8c-3.5 0-5-2-5-5V8.5c0-3 1.5-5 5-5h8c3.5 0 5 2 5 5zM7 11h6M7 16h2.62"/><path data-name="Vector" d="M23 17.75a5.176 5.176 0 01-.76 2.7 4.64 4.64 0 01-1.04 1.24 5.2 5.2 0 01-6.52.31 5.265 5.265 0 01-1.42-1.55 5.211 5.211 0 011.21-6.79A5.246 5.246 0 0123 17.75z"/><path data-name="Vector" d="M17.75 20.25a2.5 2.5 0 012.5-2.5 2.5 2.5 0 01-2.5-2.5 2.5 2.5 0 01-2.5 2.5 2.5 2.5 0 012.5 2.5z"/></g></svg>',appstore:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="appstore" aria-hidden="true"><path d="M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"/></svg>',arrowLeft:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="arrow-left" aria-hidden="true"><path d="M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"/></svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><defs><style>.b{fill:none;stroke:#a7c853;stroke-linecap:round;stroke-width:2px}</style></defs><g transform="translate(-208.14 -219.14)"><circle stroke="#e9e9e9" cx="8" cy="8" r="8" transform="translate(208.14 219.14)" fill="#e9e9e9"/><path class="b" d="M215.122 224.087l3.052 3.052M215.122 230.191l3.052-3.052"/></g></svg>',audioCall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.082 17.063"><path class="a" d="M14.462 11.832l-1.958-1.553a2.067 2.067 0 00-1.306-.459 2.1 2.1 0 00-1.606.741c-.247.3-.423.476-.512.582a4.013 4.013 0 01-1.941-1.182A3.728 3.728 0 015.957 8.02c.106-.088.282-.247.582-.512a2.1 2.1 0 00.282-2.911L5.267 2.639a2.127 2.127 0 00-2.5-.618 6.267 6.267 0 00-1.7 1.112c-.6.6-1.429 1.994-.441 4.676a15.173 15.173 0 003.494 5.152c2.435 2.435 5.293 3.952 7.446 3.952a3.291 3.291 0 002.382-.9 6.267 6.267 0 001.112-1.694 2.041 2.041 0 00-.598-2.487zm-.423 2.029a4.9 4.9 0 01-.882 1.341 2.094 2.094 0 01-1.57.565c-1.782 0-4.358-1.341-6.634-3.617C1.846 9.026.467 5.356 1.899 3.927a5.5 5.5 0 011.341-.882.942.942 0 011.147.282l1.535 1.994a.963.963 0 01-.124 1.324c-.406.353-.67.582-.741.653-.6.6-.018 2.153 1.288 3.458a4.646 4.646 0 002.788 1.535.912.912 0 00.67-.229c.071-.071.318-.335.653-.741a.935.935 0 01.723-.335.958.958 0 01.6.212l1.959 1.547a.909.909 0 01.3 1.116zM9.61 5.126a.621.621 0 00-.776.653.6.6 0 00.494.565 1.987 1.987 0 01.917.512 1.842 1.842 0 01.512.917.681.681 0 00.565.494.627.627 0 00.653-.776 3.185 3.185 0 00-2.364-2.364z"/><path class="a" d="M13.809 8.461a.626.626 0 00.67-.688 5.536 5.536 0 00-1.641-3.511 5.67 5.67 0 00-3.511-1.641.626.626 0 00-.688.67.61.61 0 00.565.582 4.391 4.391 0 014.005 4.005.675.675 0 00.6.583z"/><path class="a" d="M14.586 2.515A8.084 8.084 0 009.116.154a.612.612 0 00-.635.67.615.615 0 00.6.582 6.905 6.905 0 014.605 2.011 6.8 6.8 0 011.994 4.605.629.629 0 00.582.6.621.621 0 00.67-.635 7.985 7.985 0 00-2.346-5.472z"/></svg>',back:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="arrow-left" aria-hidden="true"><path d="M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"/></svg>',bell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.527 16.216"><path d="M12.282 10.849a1.441 1.441 0 01-.445 2.811H9.479a2.753 2.753 0 01-5.432 0H1.69a1.44 1.44 0 01-.447-2.809V6.9a5.539 5.539 0 013.664-5.192A1.7 1.7 0 016.751.249 1.707 1.707 0 018.62 1.708 5.542 5.542 0 0112.284 6.9v3.948zM8.569 13.66h-3.61a1.86 1.86 0 003.61 0zm3.271-1.987a.447.447 0 01-.445-.447V6.901a4.646 4.646 0 00-3.3-4.43c-.324-.066-.361-.324-.361-.592 0-.555-.492-.736-.981-.736s-.959.186-.959.736c0 .256-.025.5-.322.582A4.642 4.642 0 002.14 6.9v4.325a.448.448 0 01-.447.447.547.547 0 100 1.094H11.84a.547.547 0 100-1.094z" fill="#8b8b8b" stroke="#8b8b8b" stroke-width=".5"/></svg>',branch:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="branches" aria-hidden="true"><path d="M740 161c-61.8 0-112 50.2-112 112 0 50.1 33.1 92.6 78.5 106.9v95.9L320 602.4V318.1c44.2-15 76-56.9 76-106.1 0-61.8-50.2-112-112-112s-112 50.2-112 112c0 49.2 31.8 91 76 106.1V706c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1v-27.8l423.5-138.7a50.52 50.52 0 0034.9-48.2V378.2c42.9-15.8 73.6-57 73.6-105.2 0-61.8-50.2-112-112-112zm-504 51a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm96 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0zm408-491a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"/></svg>',calendar:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="calendar" aria-hidden="true"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"/></svg>',callDisconnect:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><defs><style>.b{fill:#fff}</style></defs><circle cx="30" cy="30" r="30" stroke="none" fill="#ff3939" stroke-width="2"/><path class="b" d="M24.85 30.797l-2.467-2.471a6.956 6.956 0 01-.6-.662l.164.21a5.042 5.042 0 01-.623-1.075c.034.083.07.166.1.249a5.022 5.022 0 01-.341-1.236c.013.091.026.184.036.275a5.056 5.056 0 010-1.313 8.62 8.62 0 00-.036.275 5.053 5.053 0 01.337-1.241c-.034.083-.07.166-.1.249a4.92 4.92 0 01.628-1.069l-.164.21a9.941 9.941 0 01.864-.916l1.108-1.108c.1-.1.2-.21.306-.3l-.21.164a.744.744 0 01.125-.073l-.249.1a.8.8 0 01.135-.039 8.62 8.62 0 01-.275.036.651.651 0 01.174 0 8.62 8.62 0 00-.275-.036.617.617 0 01.135.039l-.249-.1a.865.865 0 01.125.073l-.21-.164c.145.119.273.265.4.4l.877.877 1.98 1.98c.161.161.343.317.488.493l-.164-.21a.745.745 0 01.073.125c-.034-.083-.07-.166-.1-.249a.8.8 0 01.039.135 8.62 8.62 0 01-.036-.275.651.651 0 010 .174 8.62 8.62 0 00.036-.275.617.617 0 01-.039.135c.034-.083.07-.166.1-.249a.865.865 0 01-.073.125l.164-.21c-.153.184-.34.348-.511.517-.254.254-.509.509-.76.763a2.742 2.742 0 00-.786 1.259 2.547 2.547 0 00.649 2.4c.205.21.415.415.623.626a1.039 1.039 0 001.469-1.469 9.872 9.872 0 01-.748-.763l.164.21a1.562 1.562 0 01-.184-.311c.034.083.07.166.1.249a1.707 1.707 0 01-.106-.374c.013.091.026.184.036.275a1.607 1.607 0 010-.387 8.62 8.62 0 00-.036.275 1.652 1.652 0 01.1-.374c-.034.083-.07.166-.1.249a1.552 1.552 0 01.182-.311l-.164.21a7.954 7.954 0 01.636-.654l.794-.794a1.608 1.608 0 00.057-2.333c-.117-.122-.236-.236-.356-.356l-1.69-1.69-1.472-1.474c-.039-.039-.075-.078-.114-.114a1.662 1.662 0 00-1.5-.431 2.183 2.183 0 00-1.093.745l-1.5 1.5a5.964 5.964 0 00-1.708 3.787 5.733 5.733 0 00.228 2.056 6.169 6.169 0 001.1 2.066 16.159 16.159 0 001.34 1.372l1.6 1.6.1.1a1.052 1.052 0 001.469 0 1.064 1.064 0 000-1.474zM39.478 36.384l-1.734 1.734a5.749 5.749 0 01-.545.491l.21-.164a4.921 4.921 0 01-1.069.628l.249-.1a4.882 4.882 0 01-1.241.337 8.62 8.62 0 01.275-.036 5.059 5.059 0 01-1.313 0c.091.013.184.026.275.036a4.991 4.991 0 01-1.241-.337l.249.1a4.936 4.936 0 01-1.075-.623l.21.164a8.807 8.807 0 01-.838-.779c-.384-.387-.773-.773-1.16-1.16l-2.837-2.837-.67-.67v1.469l2.51-2.51.358-.358h-1.469l2.287 2.287a9.931 9.931 0 001.064 1 2.454 2.454 0 002.113.345 2.805 2.805 0 001.168-.742l.758-.758c.179-.179.348-.376.542-.537l-.21.164a.744.744 0 01.125-.073l-.249.1a.8.8 0 01.135-.039 8.62 8.62 0 01-.275.036.651.651 0 01.174 0 8.62 8.62 0 00-.275-.036.617.617 0 01.135.039l-.249-.1a.861.861 0 01.125.073l-.21-.164c.145.119.273.265.4.4l.877.877 1.98 1.98c.161.161.343.317.488.493l-.164-.21a.747.747 0 01.073.125c-.034-.083-.07-.166-.1-.249a.8.8 0 01.039.135 8.62 8.62 0 01-.036-.275.648.648 0 010 .174 8.62 8.62 0 00.036-.275.615.615 0 01-.039.135c.034-.083.07-.166.1-.249a.865.865 0 01-.073.125l.164-.21a.454.454 0 00-.052.049 1.078 1.078 0 00-.3.735 1.066 1.066 0 00.3.734 1.039 1.039 0 00.735.3 1.061 1.061 0 00.735-.3 1.634 1.634 0 00-.031-2.3l-.389-.389-1.531-1.531c-.478-.478-.955-.953-1.43-1.43-.088-.088-.174-.177-.262-.262a1.635 1.635 0 00-1.565-.41 1.707 1.707 0 00-.753.462l-.789.789a7.992 7.992 0 01-.672.654l.21-.163a1.553 1.553 0 01-.311.182l.249-.1a1.445 1.445 0 01-.374.1 8.62 8.62 0 01.275-.036 1.606 1.606 0 01-.387 0c.091.013.184.026.275.036a1.543 1.543 0 01-.374-.106l.249.1a1.565 1.565 0 01-.311-.184l.21.164a4.917 4.917 0 01-.395-.376l-.709-.709-1.653-1.653-.382-.382a1.055 1.055 0 00-1.469 0l-2.51 2.51-.358.358a1.055 1.055 0 000 1.469l1.555 1.555 2.622 2.622a9.278 9.278 0 002.352 1.939 5.968 5.968 0 003.094.626 5.857 5.857 0 002.993-1.067 11.951 11.951 0 001.316-1.194l1.181-1.181.08-.08a1.042 1.042 0 00-1.474-1.474z"/><path class="b" d="M39.489 19.439l-.537.537-1.461 1.461-2.16 2.16-2.624 2.624-2.876 2.876-2.912 2.912-2.715 2.715-2.287 2.287-1.643 1.645c-.26.26-.524.519-.781.781l-.034.034a1.039 1.039 0 001.469 1.469l.537-.537 1.461-1.461 2.16-2.16 2.624-2.624 2.874-2.875 2.912-2.912 2.715-2.715 2.287-2.287 1.646-1.646c.26-.26.524-.519.781-.781l.034-.034a1.039 1.039 0 10-1.469-1.469z"/></svg>',callFilled:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path data-name="Path 2" d="M15.12 11a10.171 10.171 0 01-3.138-.5.869.869 0 00-.9.213l-1.4 1.751A13.5 13.5 0 013.564 6.4L5.3 4.924a.907.907 0 00.213-.907 9.913 9.913 0 01-.5-3.138.888.888 0 00-.88-.879H1.058C.578 0 0 .213 0 .88A15.246 15.246 0 0015.12 16a.933.933 0 00.88-1.049v-3.067a.888.888 0 00-.88-.88z" fill="#a6c853"/></svg>',chat:'<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path class="cls-1" d="M275.69 98.46a6.56 6.56 0 00-6.56-6.56H85.33a6.56 6.56 0 000 13.13h183.8a6.56 6.56 0 006.56-6.57zM164.1 144.41H85.33a6.56 6.56 0 000 13.13h78.77a6.56 6.56 0 100-13.13zM426.67 301.95h-183.8a6.56 6.56 0 000 13.13h183.8a6.56 6.56 0 000-13.13z"/><path class="cls-1" d="M439.79 210h-93.23a71.75 71.75 0 007.9-32.82v-105A72.29 72.29 0 00282.26 0h-210A72.29 72.29 0 000 72.21v105a72.43 72.43 0 0052.51 69.48v48.67A6.57 6.57 0 0063.72 300l50.59-50.59h51.13a71.78 71.78 0 00-7.9 32.82v105a72.29 72.29 0 0072.2 72.21h168l50.59 50.59a6.57 6.57 0 0011.21-4.64v-48.63A72.43 72.43 0 00512 387.28v-105A72.29 72.29 0 00439.79 210zm-328.2 26.26a6.56 6.56 0 00-4.64 1.92l-41.31 41.36v-38a6.56 6.56 0 00-5.26-6.43 59.23 59.23 0 01-47.25-57.89v-105a59.14 59.14 0 0159.08-59.09h210a59.14 59.14 0 0159.07 59.08v105a58.71 58.71 0 01-10 32.82 59.54 59.54 0 01-12 13.13 58.77 58.77 0 01-37.08 13.13H111.59zm387.28 151a59.22 59.22 0 01-47.25 57.89 6.57 6.57 0 00-5.26 6.44v38L405 448.28a6.56 6.56 0 00-4.64-1.92H229.74a59.14 59.14 0 01-59.07-59.08v-105a58.71 58.71 0 0110-32.82h101.59a72.07 72.07 0 0055.65-26.26h101.88a59.14 59.14 0 0159.08 59.08z"/><path class="cls-1" d="M321.64 354.46h-78.77a6.56 6.56 0 100 13.13h78.77a6.56 6.56 0 100-13.13z"/></svg>',checkCircle:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="check-circle" aria-hidden="true"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"/><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/></svg>',check:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="check" aria-hidden="true"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"/></svg>',clock:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="clock-circle" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"/></svg>',clone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.883 19.202"><path d="M2.219.102a.432.432 0 00-.391.432v1.3H.491A.432.432 0 00.1 2.26v16.41a.432.432 0 00.432.432h12.092a.432.432 0 00.432-.432v-1.3h1.3a.432.432 0 00.432-.432V3.555a.432.432 0 00-.128-.31L11.632.222a.432.432 0 00-.3-.121H2.219zm.472.864H10.9v2.589a.449.449 0 00.432.432h2.591v12.524H2.691v-1.08a.432.432 0 10-.864 0v1.511a.432.432 0 00.432.432h9.933v.864H.964v-4.1h5.324l-.857.749a.433.433 0 10.567.655l1.727-1.511a.432.432 0 000-.655L6 11.862a.433.433 0 10-.567.655l.864.756H.964V2.691h.864v9.292a.432.432 0 10.864 0zm9.069.607l1.552 1.552H11.76z" fill="#8a8a8a" stroke="#8a8a8a" stroke-width=".2"/></svg>',closeBtn:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><g data-name="Group 14011" transform="translate(.039)"><circle data-name="Ellipse 18" cx="8" cy="8" r="8" transform="translate(-.039)" fill="#efefef"/><g data-name="Group 65" fill="none" stroke="#eb5858" stroke-linecap="round" stroke-width="2"><path data-name="Line 56" d="M4.993 4.989l5.5 5.543"/><path data-name="Line 57" d="M4.993 10.532l5.5-5.543"/></g></g></svg>',closeCircle:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="close-circle" aria-hidden="true"><path d="M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"/><path d="M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/></svg>',close:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="close" aria-hidden="true"><path d="M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"/></svg>',consentDenied:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22.54 21.12L20.41 19l2.13-2.12-1.42-1.42L19 17.59l-2.12-2.13-1.42 1.42L17.59 19l-2.13 2.12 1.42 1.42L19 20.41l2.12 2.13M6 2a2 2 0 00-2 2v16c0 1.11.89 2 2 2h7.81c-.36-.62-.61-1.3-.73-2H6V4h7v5h5v4.08c.33-.05.67-.08 1-.08.34 0 .67.03 1 .08V8l-6-6M8 12v2h8v-2m-8 4v2h5v-2z"/></svg>',consentSigned:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="#a8cc56" d="M23.5 17l-5 5-3.5-3.5 1.5-1.5 2 2 3.5-3.5 1.5 1.5M6 2a2 2 0 00-2 2v16c0 1.11.89 2 2 2h7.81c-.36-.62-.61-1.3-.73-2H6V4h7v5h5v4.08c.33-.05.67-.08 1-.08.34 0 .67.03 1 .08V8l-6-6M8 12v2h8v-2m-8 4v2h5v-2z"/></svg>',control:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="control" aria-hidden="true"><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM340 683v77c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-77c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198V264c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v221c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8s0 .1.1.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8 0 0 0 .1-.1.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7zM620 539v221c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V539c-10.1 3.3-20.8 5-32 5s-21.9-1.8-32-5zm64-198v-77c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v77c10.1-3.3 20.8-5 32-5s21.9 1.8 32 5zm-64 198c10.1 3.3 20.8 5 32 5s21.9-1.8 32-5c41.8-13.5 72-52.7 72-99s-30.2-85.5-72-99c-10.1-3.3-20.8-5-32-5s-21.9 1.8-32 5c-41.8 13.5-72 52.7-72 99s30.2 85.5 72 99zm.1-115.7c.3-.6.7-1.2 1-1.8v-.1l1.2-1.8c.1-.2.2-.3.3-.5.3-.5.7-.9 1-1.4.1-.1.2-.3.3-.4.5-.6.9-1.1 1.4-1.6l.3-.3 1.2-1.2.4-.4c.5-.5 1-.9 1.6-1.4.6-.5 1.1-.9 1.7-1.3.2-.1.3-.2.5-.3.5-.3.9-.7 1.4-1 .1-.1.3-.2.4-.3.6-.4 1.2-.7 1.9-1.1.1-.1.3-.1.4-.2.5-.3 1-.5 1.6-.8l.6-.3c.7-.3 1.3-.6 2-.8.7-.3 1.4-.5 2.1-.7.2-.1.4-.1.6-.2.6-.2 1.1-.3 1.7-.4.2 0 .3-.1.5-.1.7-.2 1.5-.3 2.2-.4.2 0 .3 0 .5-.1.6-.1 1.2-.1 1.8-.2h.6c.8 0 1.5-.1 2.3-.1s1.5 0 2.3.1h.6c.6 0 1.2.1 1.8.2.2 0 .3 0 .5.1.7.1 1.5.2 2.2.4.2 0 .3.1.5.1.6.1 1.2.3 1.7.4.2.1.4.1.6.2.7.2 1.4.4 2.1.7.7.2 1.3.5 2 .8l.6.3c.5.2 1.1.5 1.6.8.1.1.3.1.4.2.6.3 1.3.7 1.9 1.1.1.1.3.2.4.3.5.3 1 .6 1.4 1 .2.1.3.2.5.3.6.4 1.2.9 1.7 1.3s1.1.9 1.6 1.4l.4.4 1.2 1.2.3.3c.5.5 1 1.1 1.4 1.6.1.1.2.3.3.4.4.4.7.9 1 1.4.1.2.2.3.3.5l1.2 1.8v.1a36.18 36.18 0 015.1 18.5c0 6-1.5 11.7-4.1 16.7-.3.6-.7 1.2-1 1.8v.1l-1.2 1.8c-.1.2-.2.3-.3.5-.3.5-.7.9-1 1.4-.1.1-.2.3-.3.4-.5.6-.9 1.1-1.4 1.6l-.3.3-1.2 1.2-.4.4c-.5.5-1 .9-1.6 1.4-.6.5-1.1.9-1.7 1.3-.2.1-.3.2-.5.3-.5.3-.9.7-1.4 1-.1.1-.3.2-.4.3-.6.4-1.2.7-1.9 1.1-.1.1-.3.1-.4.2-.5.3-1 .5-1.6.8l-.6.3c-.7.3-1.3.6-2 .8-.7.3-1.4.5-2.1.7-.2.1-.4.1-.6.2-.6.2-1.1.3-1.7.4-.2 0-.3.1-.5.1-.7.2-1.5.3-2.2.4-.2 0-.3 0-.5.1-.6.1-1.2.1-1.8.2h-.6c-.8 0-1.5.1-2.3.1s-1.5 0-2.3-.1h-.6c-.6 0-1.2-.1-1.8-.2-.2 0-.3 0-.5-.1-.7-.1-1.5-.2-2.2-.4-.2 0-.3-.1-.5-.1-.6-.1-1.2-.3-1.7-.4-.2-.1-.4-.1-.6-.2-.7-.2-1.4-.4-2.1-.7-.7-.2-1.3-.5-2-.8l-.6-.3c-.5-.2-1.1-.5-1.6-.8-.1-.1-.3-.1-.4-.2-.6-.3-1.3-.7-1.9-1.1-.1-.1-.3-.2-.4-.3-.5-.3-1-.6-1.4-1-.2-.1-.3-.2-.5-.3-.6-.4-1.2-.9-1.7-1.3s-1.1-.9-1.6-1.4l-.4-.4-1.2-1.2-.3-.3c-.5-.5-1-1.1-1.4-1.6-.1-.1-.2-.3-.3-.4-.4-.4-.7-.9-1-1.4-.1-.2-.2-.3-.3-.5l-1.2-1.8v-.1c-.4-.6-.7-1.2-1-1.8-2.6-5-4.1-10.7-4.1-16.7s1.5-11.7 4.1-16.7z"/></svg>',cursorNoborder:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.76 39.76"><path class="a" d="M24.91 39.76a1.2 1.2 0 01-1.118-.769L17.51 22.582.76 15.962a1.2 1.2 0 01.03-2.238L38.152.073a1.2 1.2 0 011.536 1.537l-1.587 4.342a1.2 1.2 0 01-2.249-.822l.7-1.923L4.566 14.892l14.311 5.656a1.2 1.2 0 01.678.685l5.33 13.914 9.19-25.156a1.2 1.2 0 112.249.821L26.036 38.973a1.2 1.2 0 01-1.115.787z"/></svg>',deleteMessage:'<svg xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 512 451.17"><path fill-rule="nonzero" d="M262.8.14h.29c69.73 2.11 132.31 26.93 177.12 65.35 45.9 39.35 73.43 92.99 71.71 151.56v.29c-1.09 35.02-12.53 67.7-31.87 96.15-19.82 29.15-47.89 53.83-81.5 71.98-37.22 20.09-77.61 32.59-118.38 36-37.2 3.12-74.77-1.3-110.64-14.38L23.09 451.17l41.98-105.89c-18.02-16.02-32.08-33.47-42.44-51.71-18.67-32.9-25.39-68.32-21.62-102.85 3.72-34.27 17.8-67.57 40.74-96.53 17.64-22.28 40.51-41.97 67.88-57.5 22.12-12.56 46.75-22.28 73.01-28.53C207.81 2.18 234.78-.69 262.8.14zm-97.75 279.2c32.01-8.88 52.85-27.45 58.03-59.77 1.41-8.79-.56-2.15-6.52 2.31-19.47 14.56-57.74 9.41-63.05-23.86-10.69-58.91 62.96-69.1 84.76-36.57 5.07 7.56 8.43 16.38 9.64 26.08 5.25 42.16-16.36 79.7-54.31 97.34-7.02 3.27-14.41 5.81-22.38 7.69-3.99.81-6.89-1.36-8.22-5.04-1.13-3.12-1.52-6.58 2.05-8.18zm110.88 0c32.02-8.88 52.85-27.45 58.03-59.77 1.41-8.79-.56-2.15-6.52 2.31-19.47 14.56-57.74 9.41-63.05-23.86-10.68-58.91 62.96-69.1 84.76-36.57 5.07 7.56 8.43 16.38 9.64 26.08 5.25 42.16-16.35 79.7-54.31 97.34-7.02 3.27-14.42 5.81-22.38 7.69-3.99.81-6.88-1.36-8.22-5.04-1.14-3.12-1.52-6.58 2.05-8.18zM262.08 36.88h-.28c-24.47-.72-48.25 1.83-70.66 7.16-23.03 5.49-44.39 13.88-63.35 24.64-23.26 13.2-42.52 29.73-57.22 48.28-18.6 23.48-29.99 50.27-32.96 77.64-2.96 27.11 2.34 54.94 17.01 80.81 10.08 17.76 24.57 34.67 43.8 49.91l10.73 8.5-23.85 60.15 85.68-25.79 5.91 2.32c32.24 12.7 66.36 17.07 100.25 14.22 35.73-2.99 71.21-13.98 103.97-31.68 28.52-15.39 52.13-36.02 68.53-60.16 15.53-22.83 24.7-48.91 25.53-76.69l.01-.29c1.32-46.83-21.27-90.19-58.9-122.45-38.76-33.24-93.23-54.71-154.2-56.57z"/></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.403 19.429"><path d="M.693 6.728h.721l.748 10.6a2.272 2.272 0 002.265 2.1h7.553a2.272 2.272 0 002.265-2.1l.745-10.6h.721a.7.7 0 00.693-.693V4.443a2.271 2.271 0 00-2.285-2.253h-2.493v-.319A1.864 1.864 0 009.766 0H6.633a1.863 1.863 0 00-1.855 1.871v.319H2.285A2.271 2.271 0 000 4.443v1.593a.7.7 0 00.693.692zm12.2 10.5a.91.91 0 01-.912.844H4.423a.91.91 0 01-.912-.844l-.741-10.5h10.866zm-6.76-15.36a.507.507 0 01.506-.518H9.77a.507.507 0 01.506.518v.319H6.131zM1.355 4.44a.916.916 0 01.932-.9h11.835a.916.916 0 01.932.9v.932h-13.7z" fill="#8a8a8a"/></svg>',deploymentUnit:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="deployment-unit" aria-hidden="true"><path d="M888.3 693.2c-42.5-24.6-94.3-18-129.2 12.8l-53-30.7V523.6c0-15.7-8.4-30.3-22-38.1l-136-78.3v-67.1c44.2-15 76-56.8 76-106.1 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 49.3 31.8 91.1 76 106.1v67.1l-136 78.3c-13.6 7.8-22 22.4-22 38.1v151.6l-53 30.7c-34.9-30.8-86.8-37.4-129.2-12.8-53.5 31-71.7 99.4-41 152.9 30.8 53.5 98.9 71.9 152.2 41 42.5-24.6 62.7-73 53.6-118.8l48.7-28.3 140.6 81c6.8 3.9 14.4 5.9 22 5.9s15.2-2 22-5.9L674.5 740l48.7 28.3c-9.1 45.7 11.2 94.2 53.6 118.8 53.3 30.9 121.5 12.6 152.2-41 30.8-53.6 12.6-122-40.7-152.9zm-673 138.4a47.6 47.6 0 01-65.2-17.6c-13.2-22.9-5.4-52.3 17.5-65.5a47.6 47.6 0 0165.2 17.6c13.2 22.9 5.4 52.3-17.5 65.5zM522 463.8zM464 234a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm170 446.2l-122 70.3-122-70.3V539.8l122-70.3 122 70.3v140.4zm239.9 133.9c-13.2 22.9-42.4 30.8-65.2 17.6-22.8-13.2-30.7-42.6-17.5-65.5s42.4-30.8 65.2-17.6c22.9 13.2 30.7 42.5 17.5 65.5z"/></svg>',direct:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 39.76 39.76"><path class="a" d="M24.91 39.76a1.2 1.2 0 01-1.118-.769L17.51 22.582.76 15.962a1.2 1.2 0 01.03-2.238L38.152.073a1.2 1.2 0 011.536 1.537l-1.587 4.342a1.2 1.2 0 01-2.249-.822l.7-1.923L4.566 14.892l14.311 5.656a1.2 1.2 0 01.678.685l5.33 13.914 9.19-25.156a1.2 1.2 0 112.249.821L26.036 38.973a1.2 1.2 0 01-1.115.787z"/></svg>',disabledAudio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.743 20.806"><g data-name="Group 13854"><g data-name="Group 13812" fill="#ff3939" stroke="#ff3939" stroke-width=".3"><path data-name="Path 9" d="M15.782 15.575l-1.958-1.553a2.067 2.067 0 00-1.306-.459 2.1 2.1 0 00-1.606.741c-.247.3-.423.476-.512.582a4.013 4.013 0 01-1.941-1.182 3.728 3.728 0 01-1.182-1.941c.106-.088.282-.247.582-.512a2.1 2.1 0 00.282-2.911L6.587 6.382a2.127 2.127 0 00-2.5-.618 6.267 6.267 0 00-1.7 1.112c-.6.6-1.429 1.994-.441 4.676a15.173 15.173 0 003.494 5.152c2.435 2.435 5.293 3.952 7.446 3.952a3.291 3.291 0 002.382-.9 6.267 6.267 0 001.112-1.694 2.041 2.041 0 00-.598-2.487zm-.423 2.029a4.9 4.9 0 01-.882 1.341 2.094 2.094 0 01-1.57.565c-1.782 0-4.358-1.341-6.634-3.617-3.107-3.124-4.486-6.794-3.054-8.223a5.5 5.5 0 011.341-.882.942.942 0 011.147.282l1.535 1.994a.963.963 0 01-.124 1.324c-.406.353-.67.582-.741.653-.6.6-.018 2.153 1.288 3.458a4.646 4.646 0 002.788 1.535.912.912 0 00.67-.229c.071-.071.318-.335.653-.741a.935.935 0 01.723-.335.958.958 0 01.6.212l1.959 1.547a.909.909 0 01.3 1.116z"/><path data-name="Path 10" d="M10.93 8.869a.621.621 0 00-.776.653h0a.6.6 0 00.494.565 1.987 1.987 0 01.917.512 1.842 1.842 0 01.512.917.681.681 0 00.565.494h0a.627.627 0 00.653-.776 3.185 3.185 0 00-2.364-2.364z"/><path data-name="Path 11" d="M15.129 12.204a.626.626 0 00.67-.688 5.536 5.536 0 00-1.641-3.511 5.67 5.67 0 00-3.511-1.641.626.626 0 00-.688.67.61.61 0 00.565.582 4.391 4.391 0 014.005 4.005.675.675 0 00.6.583z"/><path data-name="Path 12" d="M15.906 6.258a8.084 8.084 0 00-5.47-2.361.612.612 0 00-.635.67h0a.615.615 0 00.6.582 6.905 6.905 0 014.605 2.011A6.8 6.8 0 0117 11.765a.629.629 0 00.582.6h0a.621.621 0 00.67-.635 7.985 7.985 0 00-2.346-5.472z"/></g><g data-name="Rectangle 1065" transform="rotate(43 1.364 3.463)" fill="#fc3939" stroke="#f0f2f5" stroke-linecap="round"><rect width="26" height="4" rx="2" stroke="none"/><rect x=".5" y=".5" width="25" height="3" rx="1.5" fill="none"/></g></g></svg>',disabledSms:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.743 20.657"><g data-name="Group 13852"><g data-name="Group 11936"><g data-name="Group 1966"><g data-name="Group 1886"><path data-name="Path 4" d="M14.345 16.142a6 6 0 000-11.993H7.397a6 6 0 00-1.561 11.788c-.014.5-.014 2.413-.014 2.413a.889.889 0 001.518.72l3.554-2.927zm-3.9-1.262l-.175.144-3.183 2.613v-2.738l-.521-.093a4.735 4.735 0 01.834-9.4h6.948a4.734 4.734 0 010 9.468h-3.9zm4.989-5.365a.631.631 0 000-1.262h-8.76a.631.631 0 000 1.262zm-4.031 2.524a.631.631 0 000-1.262h-4.83a.631.631 0 000 1.262z" fill="#ff3939" stroke="#ff3939" stroke-width=".3" fill-rule="evenodd"/></g></g></g><g data-name="Rectangle 1053" transform="rotate(43 1.364 3.463)" fill="#fc3939" stroke="#f0f2f5" stroke-linecap="round"><rect width="26" height="4" rx="2" stroke="none"/><rect x=".5" y=".5" width="25" height="3" rx="1.5" fill="none"/></g></g></svg>',disabledVideo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26.256 20.657"><g data-name="Group 13853"><g data-name="Group 13811"><g data-name="Group 1"><path data-name="Path 1" d="M6.161 3.489h9.407a2.993 2.993 0 012.993 2.993v7.7a2.993 2.993 0 01-2.993 2.989H6.161a2.993 2.993 0 01-2.993-2.993v-7.7a2.993 2.993 0 012.993-2.989zm0 1.71a1.283 1.283 0 00-1.283 1.283v7.7a1.283 1.283 0 001.283 1.283h9.407a1.283 1.283 0 001.283-1.283v-7.7a1.283 1.283 0 00-1.283-1.283zm14.707.89l2.85-.8a2 2 0 012.534 1.921v6.244a2 2 0 01-2.534 1.921l-2.85-.8a2 2 0 01-1.457-1.921V8.006a2 2 0 011.457-1.917zm.462 1.647a.285.285 0 00-.208.274v4.644a.285.285 0 00.208.274l2.85.8a.285.285 0 00.362-.274V7.207a.285.285 0 00-.362-.274z" fill="#ff3939"/></g></g><g data-name="Rectangle 1066" transform="rotate(43 1.364 3.463)" fill="#fc3939" stroke="#f0f2f5" stroke-linecap="round"><rect width="26" height="4" rx="2" stroke="none"/><rect x=".5" y=".5" width="25" height="3" rx="1.5" fill="none"/></g></g></svg>',done:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53.739 41.503"><defs><style>.a{stroke:#8a8a8a}</style></defs><path class="a" d="M7.068 22.911l12.24 11.52M46.668 7.071l-27.36 27.36"/></svg>',downArrowCircle:'<svg style="border-radius:50%;padding:0 inherit" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 122.883 122.882"><path d="M0 61.441c0-16.966 6.877-32.327 17.996-43.445C29.115 6.877 44.475 0 61.441 0c16.967 0 32.327 6.877 43.446 17.996s17.996 26.479 17.996 43.445-6.877 32.326-17.996 43.445c-11.119 11.118-26.479 17.995-43.446 17.995-16.966 0-32.326-6.877-43.445-17.995C6.877 93.768 0 78.407 0 61.441zm42.166-9.936a4.507 4.507 0 00-6.285 6.46l22.521 21.839 3.142-3.23-3.146 3.244a4.52 4.52 0 006.391-.099c.049-.052.098-.104.145-.158l22.084-21.596a4.507 4.507 0 00-6.285-6.46L61.531 70.284 42.166 51.505zm-17.78-27.119C14.903 33.869 9.038 46.97 9.038 61.441s5.865 27.572 15.349 37.055c9.482 9.483 22.583 15.349 37.055 15.349s27.573-5.865 37.055-15.349c9.484-9.482 15.35-22.584 15.35-37.055 0-14.472-5.865-27.573-15.35-37.056-9.483-9.482-22.585-15.347-37.056-15.347s-27.572 5.865-37.055 15.348z" fill="#fff"/></svg>',down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 407.437 407.437"><path d="M386.258 91.567l-182.54 181.945L21.179 91.567 0 112.815 203.718 315.87l203.719-203.055z"/></svg>',download:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="download" aria-hidden="true"><path d="M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"/></svg>',duration:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 23"><path d="M13 1H7v2h6V1zM9 14h2V8H9v6zm8.03-6.61l1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42A8.962 8.962 0 0010 4a9 9 0 00-9 9c0 4.97 4.02 9 9 9a8.994 8.994 0 007.03-14.61zM10 20c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" fill="#000" fill-rule="nonzero"/></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.462 19.468"><g class="a"><path class="b" d="M15.74 19.318H2.962c-1.55 0-2.812-1.273-2.812-2.838V3.702C.15 2.166 1.411.916 2.962.916h7.604V2.28H2.962c-.811 0-1.447.624-1.447 1.421V16.48c0 .799.663 1.474 1.447 1.474h12.779c.77 0 1.422-.65 1.446-1.429V8.902H18.552v7.578c0 1.565-1.261 2.838-2.812 2.838z"/><path class="c" d="M15.74 19.168c1.468 0 2.662-1.221 2.662-2.688V9.052h-1.065v7.428h.001c0 .881-.716 1.624-1.597 1.624H2.962c-.881 0-1.597-.743-1.597-1.624V3.701c0-.881.716-1.571 1.597-1.571h7.454V1.066H2.962C1.494 1.066.3 2.234.3 3.702V16.48c0 1.468 1.194 2.688 2.662 2.688H15.74m0 .3H2.962C1.329 19.468 0 18.128 0 16.48V3.702C0 2.083 1.329.766 2.962.766h7.754V2.43H2.962c-.727 0-1.297.558-1.297 1.271V16.48c0 .718.594 1.324 1.297 1.324h12.779c.688 0 1.271-.58 1.296-1.277V8.752h1.665v7.728c0 1.648-1.329 2.988-2.962 2.988z"/></g><g class="a"><path class="b" d="M8.007 12.117a.687.687 0 01-.482-.2.69.69 0 01-.18-.648l.752-3.011a.68.68 0 01.18-.317L15.42.798c.412-.412 1-.648 1.612-.648.614 0 1.201.236 1.612.648.43.43.668 1.002.668 1.611s-.237 1.181-.668 1.612l-7.143 7.143a.677.677 0 01-.317.18l-3.012.753a.67.67 0 01-.165.02zm1.37-3.345l-.432 1.725 1.725-.431 5.774-5.774-1.294-1.294-5.774 5.774zm6.738-6.74l1.294 1.294.27-.27a.909.909 0 00.268-.647.909.909 0 00-.268-.647.917.917 0 00-.647-.258.917.917 0 00-.647.258l-.27.27z"/><path class="c" d="M17.032.3c-.551 0-1.103.201-1.506.604L8.383 8.047a.532.532 0 00-.14.247l-.752 3.011a.535.535 0 00.516.662.518.518 0 00.129-.016l3.012-.753a.527.527 0 00.247-.14l7.143-7.143c.402-.402.624-.937.624-1.506a2.11 2.11 0 00-.624-1.505A2.123 2.123 0 0017.032.3m.377 3.238l-1.506-1.506.376-.376c.201-.201.477-.302.753-.302s.552.101.753.302c.201.201.312.468.312.753s-.111.552-.312.753l-.376.376m-8.67 7.165l.502-2.008 5.909-5.909 1.506 1.506-5.909 5.909-2.008.502M17.032 0c.653 0 1.28.252 1.718.692.46.458.712 1.068.712 1.717s-.253 1.26-.712 1.718l-7.143 7.143a.827.827 0 01-.388.22l-3.01.752a.838.838 0 01-.79-.219.84.84 0 01-.22-.79l.753-3.012a.829.829 0 01.219-.386L15.314.692A2.438 2.438 0 0117.032 0zm.377 3.114l.164-.164a.76.76 0 00.224-.541.76.76 0 00-.224-.54.766.766 0 00-.541-.215.766.766 0 00-.54.214l-.165.164 1.082 1.082zm-1.177 1.178L15.15 3.21 9.512 8.848l-.36 1.443 1.442-.36 5.638-5.639z"/></g></svg>',ellipsis:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="ellipsis" aria-hidden="true"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"/></svg>',emailSentFailed:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 85.5 67.415"><defs><style>.b{fill:none;stroke:#f0f2f5;stroke-linecap:round;stroke-width:4px}</style></defs><path d="M65.607 67.415a19.894 19.894 0 10-19.894-19.893 19.894 19.894 0 0019.894 19.893z" fill="#ff3939"/><path class="b" d="M60.05 41.965l11.113 11.113M71.163 41.965L60.05 53.078"/><path d="M38.479 43.9H4.117V12.4l28.159 13.256a1.935 1.935 0 001.555 0L61.989 12.4v7.994a1.809 1.809 0 003.617 0V2.309A1.809 1.809 0 0063.8.5H2.309A1.809 1.809 0 00.5 2.309v43.4a1.809 1.809 0 001.809 1.809h36.17a1.809 1.809 0 000-3.617zm23.51-39.783v4.268L33.053 22 4.117 8.385V4.117z" fill="#262626" stroke="#2b2b2b"/></svg>',emailSent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 85.5 67.415"><path class="a" d="M65.607 67.415a19.894 19.894 0 10-19.894-19.893 19.894 19.894 0 0019.894 19.893zM55.28 48.046a1.809 1.809 0 012.55 0l4.16 4.16 10.471-10.472a1.809 1.809 0 012.55 2.55L63.256 56.04a1.809 1.809 0 01-2.55 0l-5.426-5.426a1.809 1.809 0 010-2.568z"/><path class="b" d="M38.479 43.9H4.117V12.4l28.159 13.256a1.935 1.935 0 001.555 0L61.989 12.4v7.994a1.809 1.809 0 003.617 0V2.309A1.809 1.809 0 0063.8.5H2.309A1.809 1.809 0 00.5 2.309v43.4a1.809 1.809 0 001.809 1.809h36.17a1.809 1.809 0 000-3.617zm23.51-39.783v4.268L33.053 22 4.117 8.385V4.117z"/></svg>',email:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.505 15.5"><path class="a" d="M15.5 7.291A7.821 7.821 0 008.544.038a7.753 7.753 0 10-1.549 15.428 6.352 6.352 0 00.791.033 7.394 7.394 0 004.286-1.319.736.736 0 00-.824-1.22 6.263 6.263 0 01-7.879-9.659A6.255 6.255 0 0114.05 7.356a6.549 6.549 0 01-.33 2.407 1.428 1.428 0 01-1.352.956 1.407 1.407 0 01-1.418-1.418V4.654a.767.767 0 00-.758-.758.746.746 0 00-.758.758v.231a3.466 3.466 0 00-2.077-.659 3.544 3.544 0 102.308 6.231 2.919 2.919 0 005.44-.165 9.279 9.279 0 00.395-3.001zM7.357 9.829a2.077 2.077 0 112.077-2.077A2.089 2.089 0 017.357 9.83z"/></svg>',enteredby:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.33 15.33"><defs><clipPath id="a"><path data-name="Path 861" d="M8-11.846a2.012 2.012 0 012.01 2.012A2.012 2.012 0 018-7.822a2.012 2.012 0 01-2.014-2.012A2.012 2.012 0 018-11.846m0 8.623c2.846 0 5.845 1.4 5.845 2.012v1.054H2.154v-1.054c0-.613 3-2.012 5.845-2.012M8-13.667a3.831 3.831 0 00-3.834 3.833A3.831 3.831 0 008-6a3.831 3.831 0 003.832-3.832A3.831 3.831 0 008-13.667zm0 8.623C5.44-5.044.333-3.76.333-1.211v2.874h15.33v-2.874c0-2.549-5.106-3.833-7.663-3.833z" transform="translate(-.333 13.667)" fill="none"/></clipPath><clipPath id="b"><path data-name="Path 860" d="M-55 917.927h1207.237V-1024H-55z" transform="translate(55 1024)" fill="none"/></clipPath></defs><g data-name="Group 13013" clip-path="url(#a)"><g data-name="Group 13012" transform="translate(-63.619 -1161.63)" clip-path="url(#b)"><path data-name="Path 859" d="M62.469 1160.48h17.63v17.63h-17.63z"/></g></g></svg>',environment:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="environment" aria-hidden="true"><path d="M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"/></svg>',esclation:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 18.75"><defs><clipPath id="a"><path data-name="Path 872" d="M3.75-6.875h7.5V-5h-7.5zm0-3.75h7.5v1.875h-7.5zM9.375-20h-7.5A1.881 1.881 0 000-18.125v15A1.873 1.873 0 001.866-1.25h11.259A1.881 1.881 0 0015-3.125v-11.25zm3.75 16.875H1.875v-15h6.563v4.688h4.688z" transform="translate(0 20)" fill="none"/></clipPath><clipPath id="b"><path data-name="Path 871" d="M-55 519.437h984.375V-1064H-55z" transform="translate(55 1064)" fill="none"/></clipPath></defs><g data-name="Group 13031"><g data-name="Group 13030" clip-path="url(#a)"><g data-name="Group 13029" transform="translate(-51.562 -978.75)" clip-path="url(#b)"><path data-name="Path 870" d="M50.625 977.812H67.5v20.625H50.625z"/></g></g></g></svg>',exclamationCircle:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="exclamation-circle" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"/></svg>',eyeInvisible:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="eye-invisible" aria-hidden="true"><path d="M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"/><path d="M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"/></svg>',fileAdd:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="file-add" aria-hidden="true"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM544 472c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V644h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V472z"/></svg>',fileExclamation:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="file-exclamation" aria-hidden="true"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM472 744a40 40 0 1080 0 40 40 0 10-80 0zm16-104h48c4.4 0 8-3.6 8-8V448c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v184c0 4.4 3.6 8 8 8z"/></svg>',file:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="file-text" aria-hidden="true"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"/></svg>',filterSaved:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 40"><g data-name="Group 82"><g data-name="Group 81"><path data-name="Icon feather-filter" d="M42 2H2l16 18.92V34l8 4V20.92z" fill="#a9cc54" stroke="#a9cc54" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"/></g><path data-name="Icon awesome-check-circle" d="M43.58 24.473a7.178 7.178 0 11-7.178-7.179 7.178 7.178 0 017.178 7.179zm-8.009 3.8l5.326-5.326a.463.463 0 000-.655l-.655-.655a.463.463 0 00-.655 0l-4.343 4.345-2.028-2.028a.463.463 0 00-.655 0l-.655.655a.463.463 0 000 .655l3.01 3.01a.463.463 0 00.656 0z" fill="#d81b60"/></g></svg>',filter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.234 16.151"><path d="M12.97 8.55h0a2.077 2.077 0 01-4.041 0h-8.2a.479.479 0 110-.958h8.2a2.077 2.077 0 014.041 0h.535a.479.479 0 110 .958zm-2.02-1.6a1.118 1.118 0 101.118 1.125 1.119 1.119 0 00-1.118-1.118zM5.305 2.805h0a2.077 2.077 0 01-4.041 0H.729a.479.479 0 110-.958h.535a2.077 2.077 0 014.041 0h8.2a.479.479 0 010 .958zM3.284 1.208a1.118 1.118 0 101.118 1.118 1.119 1.119 0 00-1.118-1.118zm4.9 13.1h0a2.077 2.077 0 01-4.041 0H.734a.479.479 0 110-.958h3.404a2.077 2.077 0 014.041 0h5.326a.479.479 0 010 .958zm-2.02-1.6a1.118 1.118 0 101.118 1.118 1.119 1.119 0 00-1.123-1.119z" fill="#fff" stroke="#fff" stroke-width=".5"/></svg>',formFilled:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.378 38.004"><path class="a" d="M30.185 9.108a.3.3 0 00-.117-.234.057.057 0 00-.059-.059c-.059-.059-.117-.176-.176-.234L21.227.326c-.059-.059-.117-.117-.176-.117h-.059a.352.352 0 00-.234-.059H4.775A4.635 4.635 0 00.15 4.775v28.454a4.635 4.635 0 004.625 4.625h20.726a4.635 4.635 0 004.625-4.625V9.459c.117-.176.117-.293.059-.351zm-8.548-5.621l5.035 4.8h-2.459a2.6 2.6 0 01-2.576-2.576zm3.981 32.2H4.892a2.6 2.6 0 01-2.576-2.576V4.658a2.6 2.6 0 012.576-2.576h14.7V5.77a4.635 4.635 0 004.625 4.625h3.981V33.17a2.588 2.588 0 01-2.58 2.518zM23.45 21.52a.987.987 0 01-1 1H8.23a1.039 1.039 0 01-1.054-1 1 1 0 011.054-1h14.227a1.026 1.026 0 01.993 1zM7.057 15.197a.987.987 0 011-1h14.227a.987.987 0 011 1 1.026 1.026 0 01-1 1H8.05a1.026 1.026 0 01-.991-1zm16.393 12.7a.987.987 0 01-1 1H8.23a1.039 1.039 0 01-1.054-1 1 1 0 011.054-1h14.227a.987.987 0 01.993 1.004z"/></svg>',form:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.378 38.004"><path class="a" d="M30.185 9.108a.3.3 0 00-.117-.234.057.057 0 00-.059-.059c-.059-.059-.117-.176-.176-.234L21.227.326c-.059-.059-.117-.117-.176-.117h-.059a.352.352 0 00-.234-.059H4.775A4.635 4.635 0 00.15 4.775v28.454a4.635 4.635 0 004.625 4.625h20.726a4.635 4.635 0 004.625-4.625V9.459c.117-.176.117-.293.059-.351zm-8.548-5.621l5.035 4.8h-2.459a2.6 2.6 0 01-2.576-2.576zm3.981 32.2H4.892a2.6 2.6 0 01-2.576-2.576V4.658a2.6 2.6 0 012.576-2.576h14.7V5.77a4.635 4.635 0 004.625 4.625h3.981V33.17a2.588 2.588 0 01-2.58 2.518zM23.45 21.52a.987.987 0 01-1 1H8.23a1.039 1.039 0 01-1.054-1 1 1 0 011.054-1h14.227a1.026 1.026 0 01.993 1zM7.057 15.197a.987.987 0 011-1h14.227a.987.987 0 011 1 1.026 1.026 0 01-1 1H8.05a1.026 1.026 0 01-.991-1zm16.393 12.7a.987.987 0 01-1 1H8.23a1.039 1.039 0 01-1.054-1 1 1 0 011.054-1h14.227a.987.987 0 01.993 1.004z"/></svg>',fullscreenExit:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="fullscreen-exit" aria-hidden="true"><path d="M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"/></svg>',fullscreen:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="fullscreen" aria-hidden="true"><path d="M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"/></svg>',graph:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 19 19"><image width="19" height="19" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAEAYAAACTrr2IAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gUEDAsh7cx66QAAArxJREFUeNrt3aFP1GEcx/Hnx52OP4HARlA3slOpRDOwO2YBAtBIBCL/gvUIEJwgt1mxUZjApp1N6ASyxR0/g0Y3y23PbZ/X6y/4POW9fdPTFOC/jtvLdul0fb2cNNfNp8PD2nvGZar2AKAeAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACAMEEAIIJAAQTAAgmABBMACCYAECwbu0BTKaPm183l1/OzzeDZlDK3l7tPePSbj359nR7d/fdwavXx9sPD7X31CYA/FMzaAbl+8xMOWmuy8raWu0943vXr4WfW/v75aCUIgBOAEgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACAMEEAIIJAATrHreX7XK7uFh7yLh0hp3Tqd7NTa/3pj8c3t/X3gOTrPvn55fz89pDxmW0OuqN+hsbpZR+GR4d1d4Dk8wJAMEEAIIJAAQTAAgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACAMG6tQdMig/vr58tvZ2d7eyU0ry4uKi9Z1ymnpfS/lhd7d8t3H3+cnVVew+TRQD+6uw83o7Out1y0lx3V+bmau8Zl8fbdqE5m54uTWlKU3sNk8YJAMEEAIIJAAQTAAgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQDABgGACAMEEAIIJAAQTAAgmABBMACCYAEAwAYBgAgDBBACCCQAEEwAIJgAQTAAgmABAMAGAYAIAwQQAggkABBMACCYAEEwAIJgAQLDfNBBQdlExihoAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDUtMDRUMTI6MTE6MzMrMDA6MDCkD5PyAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA1LTA0VDEyOjExOjMzKzAwOjAw1VIrTgAAAABJRU5ErkJggg=="/></svg>',greenFilledForm:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53 53"><g fill="#a7c853" stroke="#a7c853"><path d="M5 0h28a20 20 0 0120 20v28a5 5 0 01-5 5H20A20 20 0 010 33V5a5 5 0 015-5z" stroke="none"/><path d="M5 .5h28A19.5 19.5 0 0152.5 20v28a4.5 4.5 0 01-4.5 4.5H20A19.5 19.5 0 01.5 33V5A4.5 4.5 0 015 .5z" fill="none"/></g><path d="M36.875 19.657h0a.209.209 0 00-.08-.161.039.039 0 00-.04-.04c-.04-.04-.08-.121-.121-.161h0l-5.914-5.673h0c-.04-.04-.08-.08-.121-.08h-.04a.242.242 0 00-.161-.04H19.414a3.185 3.185 0 00-3.178 3.178v19.553a3.185 3.185 0 003.178 3.178h14.243a3.185 3.185 0 003.178-3.178V19.901c.08-.124.08-.2.04-.244zm-5.874-3.862l3.46 3.3h-1.69a1.786 1.786 0 01-1.77-1.77zm2.736 22.128H19.494a1.786 1.786 0 01-1.77-1.77V16.601a1.786 1.786 0 011.77-1.77h10.1v2.535a3.185 3.185 0 003.178 3.178h2.736v15.651a1.778 1.778 0 01-1.773 1.728zm-1.489-9.736a.678.678 0 01-.684.684h-9.777a.714.714 0 01-.724-.684.688.688 0 01.724-.684h9.777a.705.705 0 01.684.683zm-11.265-4.345a.678.678 0 01.684-.684h9.777a.678.678 0 01.684.684.705.705 0 01-.684.684h-9.777a.705.705 0 01-.684-.685zm11.265 8.731a.678.678 0 01-.684.684h-9.777a.714.714 0 01-.724-.684.688.688 0 01.724-.684h9.777a.678.678 0 01.684.683z" fill="#fff" stroke="#fff" stroke-width=".3"/></svg>',help:'<svg viewBox="0 0 12.7 12.7" xmlns="http://www.w3.org/2000/svg"><g transform="translate(0 -284.3)" stroke-width=".706"><circle cx="6.35" cy="290.65" r="3.881" fill="none" fill-opacity=".585" stroke="#000"/><path d="M5.292 289.944c0-.705.352-1.058 1.058-1.058.706 0 1.058.353 1.058 1.058 0 .706-1.058 0-1.058 1.412" fill="none" fill-rule="evenodd" stroke="#000"/><path d="M5.997 292.061h.706v.706h-.706z"/></g></svg>',high:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.5 9.9c-.5.3-1.1.1-1.4-.3s-.1-1.1.4-1.4l5-3c.3-.2.7-.2 1 0l5 3c.5.3.6.9.3 1.4-.3.5-.9.6-1.4.3L8 7.2 3.5 9.9z"/></svg>',highest:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M3.479 7.9c-.5.3-1.1.1-1.4-.4s-.1-1 .4-1.3l5-3c.3-.2.7-.2 1 0l5 3c.5.3.6.9.3 1.4-.2.4-.8.6-1.3.3l-4.5-2.7-4.5 2.7z"/><path d="M3.479 12.2c-.5.3-1.1.2-1.4-.3s-.1-1.1.4-1.4l5-3c.3-.2.7-.2 1 0l5 3c.5.3.6.9.3 1.4-.3.5-.9.6-1.4.3l-4.4-2.7-4.5 2.7z"/></svg>',history:'<svg viewBox="64 64 896 896" data-icon="history" aria-hidden="true"><path d="M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"/></svg>',home:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 230.262 230.262"><path d="M228.065 125.587l-51.619-51.615V23.263a7.5 7.5 0 00-7.5-7.5 7.5 7.5 0 00-7.5 7.5v35.709L120.43 17.96a7.5 7.5 0 00-10.606 0L2.197 125.587a7.5 7.5 0 000 10.606 7.502 7.502 0 0010.608 0l18.72-18.72v89.525a7.5 7.5 0 007.5 7.5H191.24a7.5 7.5 0 007.5-7.5v-89.524l18.721 18.719a7.477 7.477 0 005.303 2.196 7.478 7.478 0 005.304-2.197 7.5 7.5 0 00-.003-10.605zm-44.326 73.912H46.524v-97.025l68.604-68.604 68.611 68.606v97.023z"/></svg>',icBlank:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 80 80"><image width="80" height="80" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACAEAYAAACTrr2IAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAABgAAAAYADwa0LPAAAAB3RJTUUH5gYdBB02FiV5hAAAJm5JREFUeNrt3XdAk8cbB/Dv84ahgDhwVXEVFUeLm4BYt4j8nERGAG21de+FglWwrooD696jCmHjaHFRcRMEF24LDqriwIkiCMn9/pBQa4wKRKJyn3/U917unhy+lzdv7p4DOI7jOI4reaioFexsnpjYPdHI6NkVRabB1pEj0Q2O1NrVFZfZEjxo0ADeaIQYIyONAczELNg8fszuYBKUp07hIpoy440bL1UWm347IjBwBhHNIKVS1x3FcV+iQg8AgYEJjk5JX38teCkIdaOjsQDTqJ+lpbYCYz2wGJZ79uj9+UImXOnb18W1A4WFP3um6w7juC9JgQeA/Hf8u7m+Bo1OntT2ha8W4FzUg35EhFuSjVlEcN++uuoo2e6EUr3G16hBXopbercDAthzlIOtvT1mIQGHypTR+IN3aA4mpqQIy3CezfD0dE0Rp0Tulss1nR4yNG6OU1Lnzso2lEXYsAEiOGJGjRq6et0lzs9ohbYZGViOr/C/mBjlWGU1tnvcOI9LrU9HjrxxQ9fhaVuBB4Bg7/j/SepOmsSs2DQ08ffXeGIzhEF5/jwaUzyapqWplXuzhwggwhFUhLJePQyBP7rUrKmpOvaUSQShfXv3Iba3wsIOHiyuDpINOHK/55Fq1eig3kH9Q0lJbDbMccLMrMAVpVInHDtwQDpZ/DwirUMHze3J10m2nT4Ne3yDLU2aFNfr5DSoSx7M99EjPBBuKTY1aSJ1aJW1fdE//+g6LG3RK/BPRLJpLNLVFVYAzVAvpq9ZBpX39HRrYLswfF1gIAAg6i31zHr1hy9jzJcJQsOu8TPO1124kA2AA2s6dqxavTKhq/J/rq4ANqAYBwAK1TfXnzJvHlvHDqJKIS58la9ZAGLS0wEMRuN3nLcUV+D44AF24htsKa5XyWmUzAJpRvnyGKMwFE3w9wfQDIukUl2HpS0FHgBYLlpRbP36ABL+U5CEphh28aKb1LZUeOe8C/8DqB7ybW995H7PI9OnZ/bWG6XXcvRobMNY8hCEf+tn3+NugwYANhRnB7HVbDJWtGv3KtjXCv5BWTx48QLeNAgdjh7VWMFo6EN88yYe54TmPJo6FcDgd7UniiY7weOnnxT9sUwxZOZMKHGd4qpUKc7XXKJdYZZsgK0tjmMQjTM2zj/eHsfItX17hOo6QO0q+B2AD9XHPiMjgAXC8LXj5liLQenphQ2k17E2lXa0yciQLZVflLTPzkYNPIFZ6dL5J6xFC4QYGUFSvB1E02GFP4yM2Ow3jkdRd7Y1OdlNIU6JNO/SRWMFAfl/q/Qh7bm4iHuFhV27BgAI8/Qs3lfLBTvKFzj1SUxkfgDQokV+wQkMxURjYwAjMEbXUWqPUPQqOI77XBV8ADjFjuLakydqxy9hHZaXL1/YQFTfLuAw9mBwqVJvlrOu+AkOjx/ruL847otS4AGA9uE6k+Xdor7OHw1Zx0aNAhsca+q0rFatgtab4ZEbaejTrRvcYYMIUvt2grqTEepfvarrDuO4L0mBBwDWGmZIjY5WK8h7aCeqLwTR1RUrYlksa8f03vuMYXPk8Wq9L5qZkUDnMGPePI3t5iirYtquXbruMI77khR4AFA0JQcsW7Mm/yn4G5gUT3HD0fHOitLLKn69f39It+N9nJa1bbt6VWLC4EH6+r/fOTOhX2Vj46CFch+JvURicIO1FD2Oj0dV5oMFFhZqDdrROOhfuvTVkazZ6amfzgDAWjITSqIiT6XmPi3MijrTpZLzey30C5WZxB9yGuvlhbXMgP7R/M5daOtggZ65uWwOHVOe7drVXSzuFbVg//7i7iBZg3hTJ+Xff8OX7SXnunWLu33uE5EBc/hcvy4dbGMe0aJOHV2Hoy2F/hbALcP6u8jF8+djNa1Bj5UrtRaR6sL/mh2iy8OG6erCV2G7kEHjwsN11T73iVDiCjP78v4fFHoAICICGJMeEG+I+GH4cGzGRPQZPBjVEcwmF2I+QN6tfv47/lpbSficdet03UF6Ccpqwu1ffkF57EVaYqKu4+GKmTnNw6NTp3J6l/7T2NrPT9fhaJvWP+ts/S3ewmOUqanwI2uVVaZnT5pGd9G2UycYs7twq1GDkhCOgdnZKE9WTP/6dXYD/dnE6OiqsZnrH1bcs6cDdaCDlJur6455k+oZRhnP3IXpWaNH03OsppVdu1JbXGRXK1TQdXycdrBkmkhRjx6RF8piy969QlOT0kLT335zcW0cHhb+8qWu4+M4juM4jiu6934EUH1dR8NwH7X9/ZEKU9x/8YK6CKb015gxbv9Y+4Y//euvjxVgsKVc7pQ0eDCbhmjCzz9jOy3Cpfv3aZNys7LDoEFuxraSqEonT+q6Iznuc6RxAAi6Em/h5DB2LE1go6j/okVqM/QyyQPZCgW2YQxzmznz0g7rUd96zJxZ1BRer1YFlinz4qpegP4vq1ezAPREmbcsv7TGWhbw/Lkwn1ngce/erqtsfSKtYmJ03aEc9zlRGwBkZ+IznH52d8fPbD012rpV09RcNZ40EVYxMTm3cpcpMzw8+le1axq14N69Dw0k6JncTeJjZUWWyGA/h4Z+cKahvIGAcqkuO2Nn52Yp9o7qceaMtjsqNPR4iLNz1arKAay/Mm3+fBbBErGpSxeYUW+WaWCg7fa4kol6Ip0ic3LYLFREz9hYxTOA+Uyc6DlGnBK5++ZNrben+ktoaPx2Z+c6dRQXMEd5MykJluw3VDMxKXCNhjQWs27fZveV/wjT3d3fl8FHZhVvIVk5cCA82R8IWbZMbRnwh8r7GrFs1oPNmYlNmzrWd6y/Kzk7u6gdFPRM7tbjbpUqNBDfGbQ8fRp90ALWVatq71fAce9wFLVx6eFDdBfVzu3atKm2MxLlzwNQELur9PP313jhD8EDtubCBVqCTTDdtk1jjdlsMX6uVo1C6bSye0yMLCV+rOShj48q80/+VOBncjenyM2b4c0CEbN+vcYLPwhySBhTTThSZRFW7ygWgJwGDZ5uNBtnhNGjtdVBNI3uGpz69Vd+4XM6YYfraFChAjIUS/R+XLRI29VTaEhcdee+desqetJ3iq2XL6tl4smb889m4iSONWkifSp2j3iZnBwceHyzJGnsWDgyM1Zr3jzsQSUaqK+vsSU5UrBz715sRDmWZm6O1TCjwY0aaTw/b+QjJjQno++/d1tufTs84Y8/ZH7HOzs17tMHlspZ1CAyUu3n8u5Ant4TLTVbVLv2kKEtW61Zm5NT2A6StZe3lZjeuKGWs3AJzUC37Gx6yHyZ9blz2v7FcCUTM8QFOtqwoVo6/bzchNJW4pRIK+3NO9FTpmOHMt3VFduQ858LX8UUaWzT8uXuGTYekbX//tud4KEqirAKCAixiLdwcoiLU9Zg1XEsJERjck8bWKCHvT1sAHpXUqxluA1HuVw0Wk8kkKuri2vL22HhqamqYqmfdUzk+agoGYsv5+R78CCC2UQKyUvZBeTfgZQ7nbMv3Tfv+NrCPxykVIzGFGNjBgAnXjsOXGEOV664XbaxiTRv2VJbvxCuZHv1kfjIEYAFAnZ2+QUWbDFqmZgA6KHN9gSWRv1wWnOWWnZCKSOn9es1lavSXIuGsxSha7NmCMdYtvGPPz44AtUtPqEvWxMQ8LSfXg0zedu2Lq4tW71+4au5x9bjnua42J9UQWjTsaM2O4vjvjQCLYcVhr/lVjzvVtp9beu1EScvXXpfRS4utrfCwh4+dAsXx0Wa9uyJQfSS1Zg8WbW4583z83cEqkqlsMDJSepmczPSbPz4D71lFx1kjUQHNS8SYsE0jp1r3Ph99XBcSSawmfgaiW9Jd72G6eHErVsFrTB/kdAzcdvIxf7+mKTcCbt27VQ7/WAMDNmE4GDBjwYJx5s3d18rHhpx8h0PFTU472xzs1FoWpqmAQbDUA1/FiGNN8eVAHowQ0+Uecv32B3oFCY9f47dRWtA6tB6YETdY8de/cvBAUAw5gBwKVq9qglHMr94scQ2Kwt449sLf/Y9thgawgHTi7dLOe7zwbMCFxLPCMR9FBPggKXF9/+q4PsClDBsFP2ODo8fA8znP1uCXccAPG7cWJYQv9Qp6eFDXcfJfSG+YQ9Y/bJlsQ0gj38PU2PypIBHj7TdnOYBwAvd2G9EmIzwot6uf84oFOfJeds2Nhpg4gkT8gtUU6STmQ1FFD4dOsf9R7KG407MkxlERWE5lmuzOQpuJO8umf/oEZuGnyEvVy6/RLXYxwpgc54+1XW/qAX+PWtIe4jU4lbpiIbYvG+ftIpN2QgTe/vCthMaEsuc+5qYKBcb1VUsPnaMjWaBNObbb3X9+rkSIgVHMObKlayphhNyvxOLB1Az2k7a2x+DZCyOSZpv2oRgiked77/X9evVFpaLMBY/YoR7P5uFkTdXrChqfRtZLPuelSpV6lHpP55lTZpE1dGA/WVvj5p4gJqFWLvAcW/BDMmDjmZloQXbzWrs358zt/Qq44Hz5vWv2mThlnvPn2u7PQoalJggXV2xIp3KvfJy1PHjmAAL9PiMs57mvfOLDqbuEQZ06+bi4uISFqZQ6DosjvsU5T9tVK3Dz+yuP03PdOpUWsSUeNC2LcwwEGaf7nJXNpA6UdeMDBiwrxAZFSWqnjpHWLR8Ob/wOY7jOI7jOI7jOI7jOI7jOI7jOI7jOI7juJKkyMsOQ0NDQ52dRSLF0NpjlS09PdGLlWYTXF2xnHWk4ZaWOE/72ci3LJbZzI6SlDF4UR98e+8e9uEevM6cYa6slfLM+vXuJjbBUQP27dN1B3Hcl6zQA4BqowyFSPk/Zcq2bXiJc6gjFmstsv60jA0JDCx7/sH0F8N//FFbef45jvtXgQeA0JDzfZ37Ghgop2dMVEw/doz5ATSjRYuPFuFejEC/9eulG21ORPT+6SdddVRg4OHD7u7ly4v2GnTIqjFrFlvI4ulOly64Ri5sQsWKuoqL496pMetIyx49Qi4a4tCBA0zA8ZcHfXzcTWyCd1a5e7fAA4DMW54liRkxAlY4jZXLlmk6j6biJlo8eMDOYQ+uP3misUJ/SsLZypU1bkiSlzVYOCD0YF5isWuGtUXkzYSE4uq/0NC46s7OFSooVpCFcs+pUxrTnnPcZ4DGU1d8e++e8JvSRDjfvHmBMwLRWoxmIg8PthQD3zp6KOgSfMePd7sq/iHCKiAARu+uL/pK9JVudQ0NH1erML30pDVraCfGUmD//vkn5CXeUI5gQ3DV0xMOAAyKbwBQHqTeimZz5mAI+pGSX/jc540tYntwtnJlpbcQqcxdtKjAAwAbiDo0IS+N+OuLhmeQPQtLTpZeEj+NFAICPrQ+1Wf70NC46s6yceMUQWSjlPTrp7Yp6f+QRXPfsZPQx+qwZbSb0hwcEMz6/adAlY14J3xw9B37F3CcLnWim7CuXh2jmS92GRqqDrPtrDub7+BQ8JyAlrTu1a06++9mIqPYbLJIS8MIjCpMnKp9BWT+8q6S+1lZwBt7BYay3dhepgwkKPiGpUVAFmwevjIxYbMB3H7teCbZsE4XL7oZiVMiv7eyKs6YOO5DyebFG0t2xsYCAFq3b59fcBYG5G1qyrMCc1wJVuABgBayhmiXkaFWkIjSCDA1LWwgqmcBOIw9GFyqlNoJLuSAXm9pl+O4QivwAMC2Yhli3/KZNxW98KRx46Bncrced6tUKWi9T73LlzbW79hR7bN/HpqAjszs+nVddxjHfUkKPgDUxxQ03bNHreAnpGCHnp5QF18b9AsIYIwx4P0bHPx+58yEfpWNjdlUUrA6v/6qsV1LBOKPt7TLcVyhFfwZwFfogQVr16Ir7rMN6pt4sgD0RBmpNHhPfBVJckREaGjCVGdnS8v88ryBQZYSP1by8Lvv9Edlrc5cdugQLuMOSr/lYZobeaDajRtZAzOTy+wqwK7DHMe9V6GnAgddiyfJmLlzSc7icHPKlPf+QHUEs8np6RiAhRRnaIhZSMChMmU0N/BqApBq9+DCbiJaVLKW8kCJwdWratmSVfsmSFlHVLtxo7jj4rgPsgGVcN3cXG0P0FOIxbUnT4qwFiBvERDVfKz0Cw5GLqwwvW/fIgecd+HjAkax5KlTpSk2osjpc+fqqv9kVvLOkpVLl8IbsxAzcqSu4uA4rcpba1Pk1YC+jDFfJggNWsd3PLvcxwfP0Y9E3t7wRiPEGBl9aD00HIthmZam3MSq4urYse69bBdHBIeG6rqfQkMSE5z7li2r6JQrKI0TErAPOXhWr56u4+K4wqABeIbaN28q07HupVfLllrfhVQ24Mj9nkeqVYOr3h39qu7uCKHerHbHjjBhJrS3Rg240NdYkJNDI9g6VL56lYGs0S46Omdvqd5GviEhH2sHlKJS7ZvwfK/eKP3oadNoFDrD2t4eyxGP6Hd8lOE4XZqM4+idmUm3aRJNiI0VXJWT6Rs/P9XEO12Hx3Ecx3GcLrz3I4CMxTEJa98ebSgKG+bOxUWYIf3FC/qHpSsHTpzoZmwriap08uTHCjBoUPwqSfPevekxJmLKtGkwQRXmdPeuyEGZJXIbPdrF1fZWWHhyctFb4riSR+MAEPRM7ibx8fSkl/BgkzdswB5UooH6+vkntCMHtiIriyTKv5EzfrxbnG2lSPOVK4sakCrhiGJ8xiKlrb8/miMSX40e/eYMQVW+AbovNGMrunUr7jwBHPclUBsAgsrIAyUGjo5kDXus3b5dNcPvvTWNgSGbEBxsVDfXPFc5eHCvY20q7Wjz4XP3Axsca+q0rFYtYbZwhDaEhHxoijHVQCDMZWOEkzY2H+uOQPUQ8AXTtzFw8/UFAKXc3p79xTrSL8bG2m7vi3UJU3Hz2TPqz8pR4u7dwrSsstR25kwX1w4UFv7sma7DK2nyB4AtFxIT+9z/6iu9FbnmQvtz52CH62hQoUKBa5yImWzL5cvsMsrQLBcXdxOb4Ig5SUmaTg+yi/OR1OjRg5rRaJhu2lTYdskPYL4nTggzU1NFM8Vibe0OvJGdYr1YuXKlGr4sK2IJCfBle8m5bl3t/QpKODsaB/1Ll4zccnbkjLS2LugbB1c0+VOBRSa55hQ9e7bGCzBvSi4NhBkbcOSIxhoXYBr1s7SkFfDFMbk8uGL8dqfYH39UFceyWNaO6em9+ojh708VqDLmbd/+3gs/gLyYf2Qk/kFZPHjx4s1iVW5CZUCNDoqAwYO11UGl5NlBeoazZvEL/yM5ygKQ06BB5kn9dfoH/Px0HU5JQ1t/i7dwcjA3F/VjixFy9araZ33VnP/2ynMUJBZXPZM9JX3o2bN35hoNMzs7axbiWAM65+WlaRVffkM/UTvc3bqVWcAcHnXqwJsFIsbOTmNkc3EBnTMzaQ+eU/LIkW5f2YwKX7hxY3CafGnfCQMGsANoxa5v2KD2cwuRgp3Xrom8UvWFXvXqFfVOgE8F1jIZ7cftWrVgxAJhKBLlH8+7c5Tesvkz0qhBA12HWVLo6d1BA0qWStkeVMLrF76KE0VR1Lp10qTWGyKGnToFgjeGqQqnTAkZGjfHKSkmRlmejMl661Y8wnNMVl8OzNaxg6ji6QkAiHlHRCk4gjFXrrBjSMRuZ2epiU1w+MJ/P0K4VhWPDF+4aVOwQfxzSfMhQ9SeFeRdqIoWtYKVq1u3BgCEHT5c2A6ihzCEn6kpA4ATrx1fB7BVFy64/WizNtKcZwT6ULLUeFuJ28WLOAog57UL3Q6OZFm2LELxp65jLEkE9hPq4XjHjppOoNWopzRbvVpTuesqW59Iq5gY0RO9LGGKtTWNwgY2Mi6uwJHcgScmBgWJ6r2YICxp0ULTswMiIoAxtpvtIYd16zRVx84xJYZ37qzrDua4T5lAjVl3zP7mmzcLVOmDXetbT4nqofkhnoqLa8tWYeGpqU9m6Q2qGNSuHQZQLJotWpS/uOdNqq8R/QDmO2SIdJxNcoSth8eHPg1mh9lMZTXNOweRIYIx69tvdd3BHPcpE1gzWoiGlSqplZiyPczpn39U77gfWuGQoS1brVmbkyPNEntH/DxhAipiCxvcuzciqTNcT55ED0RCtn+/cjStFo20tXW7bGMTabVmTUEDr3Yx+9SDEbdu5X8WfwP1wVF26S2vi+O4fHpvpgtWYQOpE3XNyMDkojUg3WhzIvLZjh0AAJcdOxAGf20E3oE60EHKzZX5xYslti9ewBJ4fWMRFgUZzSlVCg7F2Z0c93nhWYE5rgQr+L4AJQybAht0zcgAcBMnzMzyjxsxOf3VsKEsU+4jGZySous4Pxs92BzY1az5aobpa8et8AKBT58iFEBbXQdZcvAB4H3aoAG67N6NM4hBh6FD84+rpkhvx4/A11/rOszPxpsXvspKuCBh1y4AE3UdYkmih5/RCm0zMtRy9G1DW8y0tZVlys0lxz/hdzhX1hjtjY1hCSDiteNt8AwHnj4FABgUqmYAgOgcKyt0mjpV4SZ4KKt264ZgFojbtWrp+mV/Me7QHExMSREtEk0TFvr6wlXXAZUsJAuTr5GcDwvTWk6/TwQl0Uyc8fJymyv+MyJ5/vyi1pe/JqBJdhe9VTNnwgUOaGxvj660kpXj3zZ8sN6sAereuwdgJa3cvVu0SO+uEOfr++pr5HfsIs19FP9OBT6NBpR88iTs2TQ0+Yz/Q5fHXqQlJoqelEkSqtnZubg2Dg8Lf/lS12Fx3Kcof+5+/o4+D7FYf/fcuVQR0+hou3Y4T/vZyPLldR2oRp3YElRPS2P7KJcmR0VlW2f2NFk7a9YA6kCbKStL1+FxHMdxHMdxHMdxHMdxHMdxHMdxHMdxHMdxXHHQ2uagwZK4f/o27NZNuZkmKWe7uQm1YYry9erBDANhZqB5Nn4qzJD64gUcKV6YdOoU+1vxDxu9caM0qbV3xLBTp3TdQRz3JSv0AKDaNlsZmGusrBkUxKR4ihuOjkWOSJVCbB+9wNWAANHvNyyEM15e2srzz3Hcvwq8HDg0NDTU2VkkUgzNzVS2jIrCcihwvEMHrUWkSi/uzgCMH694WDNTsVCpBACETZqkq44KDY2r7uxcurRiizBZ0cvLCzfwG2V06ULZLJDZlSqlq7i4gmHRFEzm9+8rzJVhwmAvL09D21th4WfPajpftjuhVK/xNWqQl+KW3u2AAGTjb+ZTu7bG+n1oC7llZ9MoJFPK/v3GdUWzs47OndvjZMuWf7TMzNT1639Tge8AZCyOOYX+8AOCKZ5CNm7UeKJqP4EUGosb70jy+Q1rhfply2IbxpKHoJ6hqDcWs0Clkg6JHNnPTZq4dW3VP2rBuXPF1UGhIbHMua+JieJI6abKgXFxaI3VWK+eRJX7zGzGRPRJSJDutjkS4Wltrem0YIt4L0mvkBA2izlBz8WlwO3k7XcgWqTnJ+ovFn9qqx4LkRJMcAZ++EFTKbMhW5j/+mvZ9IeWL1qUKSNtJU6JtKpQQdOfop3ssKhfpUq0nhajys6dahXmDQxKO0W0YNC/f3F3kOJ7o1+VTWfM4Bf+F2YxxIgwMnrveXWQiuqlSxe6nbydspTRCluFxZw5un7Zbyp4RqBEnEKDt2yEsRpe2JeaKnWzVkY89fH50GzCLi62t8LCHj4MDT3ex9l58GCFgkGJtLQ3z6Op6IEFTZoACC7WHpqLOHTq1QtAB7z+SFL1rGI6LWXfPH5crDFxhVeG9Sbf27eFccJV1mn4cABAlObThcFIEO5PmaKcQBMUk6pUYZG4A6N69TT+gIY7WtYLLemH3r2xGXLMGzFC192gUvABIAkgH1NTGAF4PZewM5xhduMGERGefngacRUXF2vXsLA7d2T+8ouS9i9eoAaewOy1kbcteuGbsmXxG4CTxddBtJT1R2y5cmz2GwW1sRHlzp9/dSfD9x/4jCzM/1vU+092cRGnhIVduAAgBWFiMVq9+/zgGvFVneTx8cyfAXjto0Uy24hh5csDaKjrDngdzwpcSJRIz5hVwQc67svGFrM9NPzz+X9R8AFAzDayRc+fqx0/QN6YZ2xc2EBWr0pMGDxIXx+jMIPtVt+nAF3xC+RvaZfjuEIr+ADQGhkwu3lT7fhNfIenjRsHBh4+7O5e8AxCpkNyWj5YY2en8duAaZSA/ampuu4wjvuSFHwACKUAlIlR3983b4chYa3Bxmz72bM/tDrVOz9VoiHsgOanpOSm9KHwmJgPrZfjuPcr8ADA2rCK5Ld+ver7ebUThrDB2DlsWPAI+QinOatWBQ1KTJCurljxzdOCRxyv1vti/fqmN3O/fxC2axdbioG0zNZWrb7yMMa8u3eF61md6fH27bruMI77khR6KrDsgtxEUmHlSrUNM960DhbomZuLBBxn3a9cwQxaTVcMDVGV+WCBhcV7GxohOMH6hx+kD61vR0zevLm4O0jWXt5WYnrjBobAH11q1swvWEIz0C07mx4yX2ZdfBOTuE8b+xFlaXSjRmrfYu2lmThz/750o/jPiOTKlXUdp0qhB4DoK9FXutU1NHxiUyHNaNCuXVgOQ61OCSb0ZWsCAqRuNjcjzcaP11UHBaXK7zht3rCBjuI67RgwQFdxcJ83GocdyJDJ3O7YzInY6+6u63hUCv01oGN9x/q7krOzRSvLLBUSHBwwFz+j87Jlmrbrfq+8HYpoK+1gW0aN0vWFr5JroLjDzk6ZgiicwPE7d3QdD/eZqY5gNjk9XVjCNgtldbeWRROtLQdWCQ2Nt3B2btQo15G1Utb74QcaQH+gaadO+JHFoXn16sikQchRKJDGPOCYkoJFGM4G7NqVc1Rxlj1dv75/VbumUQvu3dN1x7wpf98EAPpH/f2FGgAldunC9lICc+OLgbg889l4+l92NqIojq3/6y945gTkGnl5STe2qbSjze3bug6P4ziO4zjuAwRfjp/bZ2eTJrKj8aUlqdu3yyrLTzkdk8kCAxMcnZI+/rbYQYPkc537tmkjGxBv4ZQbHS0bF99BsnvjxtDQ4yHOzlWr6rp/OO5zpvEZQFAZeaDEwNGRTmM/Sw4NxXEMonGvTfU9hVhce/KEajF7qjpwoNsI2xbh0ZGRRQ2IMcYAouC68UqnX6ZMQW08pFq//PJqX3m9fxcv5a0+FA0XfSd0tbd3cWk1Oyzs8mVddyjHfU7UBoAQcdxKp7F2dsoowRveMTE4yHbT8Hc85FItiz0JJ6QtWSJaVGa8EOflVdBdeVUThihX4Zb94++/w54Fkmu3bu99AQPwDLVv3mTS3CY5fcTij/WwJTTkfF/nvgYGytPPXihPjxnD/PEE/eztqS5bwPpob/NU5QkspuD0dJqNTei4c6eoWeoOYfWqVTwlGvcx5A8Ar1JeVaig2EzXlAeTkuCJk/iuevUCV+hFE9ik48dZqvKIQuzqKiVb2k7Xr2s6X7b72AZJcuvWSBeuIzM4GCI4YkaNGgV+JanUCccOHHDzsn4Wkdax44fmI3ifnc0TE7snGhk9f56ba2Bw6BDzA2hGixZa+w28Tw9EQrZ/f1XjF/PS9bt27UAd6CDl5hZb+9wXLX8egDJEmMfO+flpuvBpPHXFt/fu4RiG4EfNM9+YP1tI862tkSjUFZ09eVI2QN7CyaRnz/zyvFt82W75WUnyxImwFiqxSgcOvPfC98YMfHfoUH6qsTfVZH+hdfv2wffinzot8/TUVgc966tYZ2AwfXqxX/gqO+EEaceOac9LS836jxlT7O1zXzTh9ztHT/eZWLkyW4qRygODBqmdkTexh5pSR1bR2dnkqN767MpiMbNDbdbzHTkBk1kgzShfHunoR2u2bZMFy82dHixaFNLluFQyfPt2PMJzTJ4/H3tQiQbq66v9fN4UYrqOWFzz9na7Jo6OGNu+PUunsXD18tLY7mIYUgNvb9VAU+Qe+h1B+EYi0dHvJ59QG6YYqPs4uC8LBcXGbXZqMWoU3SFLqr1kidoZl3EHo7ZskfrZ9I5or56TLz9JaBPaSA+WL4c3GiHmA3KtabIVzXH41i0sIS9ckkqlFuLFERUOH1YV52cltqoZr8w9cwan4AyhcWO1eu7AExNtbKTjbJIjbOPjCxtO8NfycMmc9HQ2G+Y4YWaWX5B3JyRdanMmwlF7GYGCy8vdJD63b7MVGIvLX32VX5CCIxhz5Yr0Z5uJEW0tLbXVHleyCcJsYReJu3TRdIJyJBshLFu2TFO5lGwp0mXTJpov0lOmiMVIQlMMu3ixwJHIkYKde/eK+ueUF9o2a/bmha+iehjGEgCWsGKFxvq+RwCa2tt/rI77WBmB2Hq6jn6fT0YZ7vMmsH1IgEg9ySdNxU20ePDgipnNzUZhiYnvq0iVrlvU9IWhsMraGv1pGRsSGKjxB1RrBrriPrZOn35psdj9m+xu3Vxcv3seFn7//vva0zNgwSKbvXs1nvAX0nD1LclLOY7LJ2A++wNn1Zcnss0UiJjU1BlENIPesu5fAxfXDhQW/uyZNEe8NdLe05PtZ7fIctCg/Fv7ZgiD8vx5IYbtZkO7dJFWsOkRUXrmzIK28+iR/rby5W/c0JiX4B6y0f3V3H2O495OT23dssox7MXFom9g4L7WVhI+Z926V/9atw5/QpWNdeGHZGXVZMjQlq3WrM3Jkd2JF0vOZWbCkgHVTEzyT7DAI3yV97quFWOPctxnhGcF5rgSrOD7ApQw7BckoXtmJvDfbwFYH/YHedatKzseP0gyY98+rTW4nEXheOXK+Akp/znejo7Cj2dF5rSLDwDvk4zmeHjgACwBoF+//OOqj05b2QIkde6sxRZTkPSWo11gjY6xsQCisF/XncJ9KfQwFxfQOTNT7fv7/7Fd7GDz5jKfeB+JTIvvcNrizR4igAiTWR0Wa2SEbQB5vFbelZLY2Lx3zGNFaOdGrl2O3pQp6Kg3W29yt264BTeap57k9KNxIw9Uu3FDJIiChdO//AJXeBdb29wXj4J7yi9Ixv/5J5PiKW44Ouo6IK1xY2KEz5ghJVuKID+/ola39bd4CycHc3PRclYX/osWIRJTUaprV5yFAXmbmmot7rrkwXwfPUIQatLt7dtFNi+PC+u8vD7061GOKwh6tey3Xj2aQEvQ4uRJWLLf/vM0/XOTN2POJFKvfbZRs2af6r7sHPcpENwzbDwiXv79N1vIRuNE8+YkgylqRUfDGmtZwGfw0OkoauPSw4d0iqJZh3XrlHVyxIarbGz4hc9xHMdxHMdxb/N//k8kTbnDAN0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMjItMDYtMjlUMDQ6Mjk6NTQrMDA6MDBuOOiSAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIyLTA2LTI5VDA0OjI5OjU0KzAwOjAwH2VQLgAAACh0RVh0ZGF0ZTp0aW1lc3RhbXAAMjAyMi0wNi0yOVQwNDoyOTo1NCswMDowMEhwcfEAAAAASUVORK5CYII="/></svg>',inbox:'<svg viewBox="0 0 1024 1024" fill="currentColor" data-icon="inbox" aria-hidden="true"><path d="M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"/></svg>',infoCircle:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="info-circle" aria-hidden="true"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"/></svg>',insertAfter:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path fill="#494c4e" d="M3 12a1 1 0 011 1v1h1a1 1 0 010 2H4v1a1 1 0 01-2 0v-1H1a1 1 0 010-2h1v-1a1 1 0 011-1zm7 2h6v2h-6v-2zm-2-1v4a1 1 0 001 1h8a1 1 0 001-1v-4a1 1 0 00-1-1H9a1 1 0 00-1 1zM0 1v8a1 1 0 001 1h16a1 1 0 001-1V1a1 1 0 00-1-1H1a1 1 0 00-1 1zm16 5v2H2V6h14zm0-4v2H2V2h14z"/></svg>',insertBefore:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path fill="#494c4e" d="M3 0a1 1 0 011 1v1h1a1 1 0 010 2H4v1a1 1 0 01-2 0V4H1a1 1 0 010-2h1V1a1 1 0 011-1zm7 2h6v2h-6V2zM8 1v4a1 1 0 001 1h8a1 1 0 001-1V1a1 1 0 00-1-1H9a1 1 0 00-1 1zM0 9v8a1 1 0 001 1h16a1 1 0 001-1V9a1 1 0 00-1-1H1a1 1 0 00-1 1zm16 5v2H2v-2h14zm0-4v2H2v-2h14z"/></svg>',left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><path d="M15 18l-6-6 6-6"/></svg>',link:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="link" aria-hidden="true"><path d="M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"/></svg>',loading:'<svg viewBox="0 0 1024 1024" fill="currentColor" data-icon="loading" aria-hidden="true" class="anticon-spin"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"/></svg>',logout:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="logout" aria-hidden="true"><path d="M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"/></svg>',low:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12.5 6.1c.5-.3 1.1-.1 1.4.4.3.5.1 1.1-.3 1.3l-5 3c-.3.2-.7.2-1 0l-5-3c-.6-.2-.7-.9-.4-1.3.2-.5.9-.7 1.3-.4L8 8.8l4.5-2.7z"/></svg>',lowest:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M12.505 8.145c.5-.3 1.1-.1 1.4.4s.1 1-.4 1.3l-5 3c-.3.2-.7.2-1 0l-5-3c-.5-.3-.6-.9-.3-1.4.2-.4.8-.6 1.3-.3l4.5 2.7 4.5-2.7z"/><path d="M12.505 3.845c.5-.3 1.1-.2 1.4.3s.1 1.1-.4 1.4l-5 3c-.3.2-.7.2-1 0l-5-3c-.5-.3-.6-.9-.3-1.4.3-.5.9-.6 1.4-.3l4.4 2.7 4.5-2.7z"/></svg>',mail:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="mail" aria-hidden="true"><path d="M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"/></svg>',medicineBox:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="medicine-box" aria-hidden="true"><path d="M839.2 278.1a32 32 0 00-30.4-22.1H736V144c0-17.7-14.3-32-32-32H320c-17.7 0-32 14.3-32 32v112h-72.8a31.9 31.9 0 00-30.4 22.1L112 502v378c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V502l-72.8-223.9zM360 184h304v72H360v-72zm480 656H184V513.4L244.3 328h535.4L840 513.4V840zM652 572H544V464c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v108H372c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h108v108c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V636h108c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"/></svg>',mediumPriority:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path class="st0" d="M3 4h10c.6 0 1 .4 1 1s-.4 1-1 1H3c-.6 0-1-.4-1-1s.4-1 1-1zm0 6h10c.6 0 1 .4 1 1s-.4 1-1 1H3c-.6 0-1-.4-1-1s.4-1 1-1z"/></svg>',menu:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="menu" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"/></svg>',micMute:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22.1 23.521"><path class="a" d="M11.68 23.521h-1.676v-2.9a8.965 8.965 0 01-5.907-3.01l1.186-1.186a7.321 7.321 0 0012.884-4.765.838.838 0 011.675 0 9.015 9.015 0 01-8.162 8.96v2.9zm-.838-6.489a5.356 5.356 0 01-4.17-2l.6-.6.6-.6a3.695 3.695 0 006.67-2.172V7.169l.93-.93.745-.745v6.166a5.378 5.378 0 01-5.375 5.372zm-7.949-1.156a9 9 0 01-1.051-4.216.838.838 0 011.675 0 7.248 7.248 0 00.625 2.965l-.209.209-1.039 1.041zM5.668 13.1a5.329 5.329 0 01-.2-1.44V5.372a5.37 5.37 0 0110.225-2.3l-.363.362-.932.933a3.7 3.7 0 00-7.255 1v6.253L6.13 12.64l-.46.46z"/><path class="a" d="M20.331 1.439l-.537.537-1.461 1.461-2.16 2.16-2.624 2.624-2.876 2.876-2.912 2.912-2.715 2.715-2.287 2.287-1.643 1.645c-.26.26-.524.519-.781.781l-.034.034A1.039 1.039 0 001.77 22.94l.537-.537 1.461-1.461 2.16-2.16 2.624-2.624 2.874-2.875 2.912-2.912 2.715-2.715 2.287-2.287 1.646-1.646c.26-.26.524-.519.781-.781l.034-.034a1.039 1.039 0 10-1.469-1.469z"/></svg>',minus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus"><path d="M5 12h14"/></svg>',moreFilled:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path d="M30 16c4.411 0 8-3.589 8-8s-3.589-8-8-8-8 3.589-8 8 3.589 8 8 8zM30 44c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8zM30 22c-4.411 0-8 3.589-8 8s3.589 8 8 8 8-3.589 8-8-3.589-8-8-8z"/></svg>',more:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 31 31"><defs><style>.b{fill:#8a8a8a}</style></defs><path fill="none" d="M0 0h31v31H0z"/><g transform="translate(13.286 8.086)"><circle class="b" cx="2" cy="2" r="2" transform="translate(-.285 -.086)"/><circle class="b" cx="2" cy="2" r="2" transform="translate(-.285 5.914)"/><circle class="b" cx="2" cy="2" r="2" transform="translate(-.285 11.914)"/></g></svg>',notification:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.527 16.216"><path d="M12.282 10.849a1.441 1.441 0 01-.445 2.811H9.479a2.753 2.753 0 01-5.432 0H1.69a1.44 1.44 0 01-.447-2.809V6.9a5.539 5.539 0 013.664-5.192A1.7 1.7 0 016.751.249 1.707 1.707 0 018.62 1.708 5.542 5.542 0 0112.284 6.9v3.948zM8.569 13.66h-3.61a1.86 1.86 0 003.61 0zm3.271-1.987a.447.447 0 01-.445-.447V6.901a4.646 4.646 0 00-3.3-4.43c-.324-.066-.361-.324-.361-.592 0-.555-.492-.736-.981-.736s-.959.186-.959.736c0 .256-.025.5-.322.582A4.642 4.642 0 002.14 6.9v4.325a.448.448 0 01-.447.447.547.547 0 100 1.094H11.84a.547.547 0 100-1.094z" fill="#8b8b8b" stroke="#8b8b8b" stroke-width=".5"/></svg>',paperClip:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="paper-clip" aria-hidden="true"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"/></svg>',patient:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="none" stroke="#347aff" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" data-name="vuesax/linear/user-tag"><path d="M18 18.86h-.76a2.988 2.988 0 00-2.12.87l-1.71 1.69a2.022 2.022 0 01-2.83 0l-1.71-1.69a3 3 0 00-2.12-.87H6a2.983 2.983 0 01-3-2.97V4.98a2.983 2.983 0 013-2.97h12a2.983 2.983 0 013 2.97v10.91a2.99 2.99 0 01-3 2.97z"/><path data-name="Vector" d="M14.33 7.67A2.33 2.33 0 1112 5.34a2.33 2.33 0 012.33 2.33zM16 15.66c0-1.8-1.79-3.26-4-3.26s-4 1.46-4 3.26"/></g></svg>',pauseCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pause-circle"><circle cx="12" cy="12" r="10"/><path d="M10 15V9M14 15V9"/></svg>',pdf:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.74 18.325"><defs><clipPath id="a"><path data-name="Path 620" d="M72.82-152.114v-3.471h1.124a4.065 4.065 0 01.833.052.909.909 0 01.5.339 1.079 1.079 0 01.2.676 1.128 1.128 0 01-.116.537.954.954 0 01-.295.343 1.015 1.015 0 01-.363.164 4 4 0 01-.727.05h-.457v1.309zm.7-2.884v.984h.38a1.814 1.814 0 00.554-.054.463.463 0 00.219-.171.469.469 0 00.079-.27.449.449 0 00-.112-.313.483.483 0 00-.281-.154 3.345 3.345 0 00-.5-.023h-.338zm2.531-.588h1.281a2.492 2.492 0 01.66.066 1.152 1.152 0 01.523.32 1.511 1.511 0 01.332.562 2.582 2.582 0 01.113.821 2.282 2.282 0 01-.107.739 1.518 1.518 0 01-.372.613 1.221 1.221 0 01-.492.277 2.1 2.1 0 01-.621.074h-1.316zm.7.588v2.3h.523a1.894 1.894 0 00.424-.033.651.651 0 00.283-.144.739.739 0 00.184-.335 2.281 2.281 0 00.071-.636 2.084 2.084 0 00-.071-.617.8.8 0 00-.2-.336.667.667 0 00-.325-.163 3.137 3.137 0 00-.575-.033h-.315zm2.808 2.884v-3.471h2.38v.585h-1.677v.821h1.449v.588h-1.449v1.475h-.7z" transform="translate(-72.82 155.585)" fill="none"/></clipPath><clipPath id="b"><path data-name="Path 622" d="M34.516-338.932a.273.273 0 00.273.273.274.274 0 00.273-.273v-7.694h9.578l2.5 2.5v5.193a.273.273 0 00.273.273.273.273 0 00.273-.273v-5.306a.273.273 0 00-.08-.193l-2.66-2.66a.272.272 0 00-.194-.081h-9.963a.273.273 0 00-.273.273v7.967zm13.173 7.263a.273.273 0 00-.273-.273.273.273 0 00-.273.273v2.274h-12.08v-2.274a.273.273 0 00-.273-.273.273.273 0 00-.273.273v2.548a.274.274 0 00.273.273h12.625a.273.273 0 00.273-.273v-2.548z" transform="translate(-34.516 347.173)" fill="none"/></clipPath><clipPath id="c"><path data-name="Path 624" d="M223.4-346.895a.273.273 0 00-.273-.273.273.273 0 00-.273.273v1.331a1.6 1.6 0 00.471 1.133 1.6 1.6 0 001.133.471h1.331a.273.273 0 00.273-.273.273.273 0 00-.273-.273h-1.331a1.054 1.054 0 01-.746-.311 1.054 1.054 0 01-.311-.746v-1.331z" transform="translate(-222.854 347.168)" fill="none"/></clipPath><clipPath id="d"><path data-name="Path 626" d="M1.359-189.323H17v-6.716H1.359zm15.919.547H1.085a.273.273 0 01-.273-.273v-7.263a.273.273 0 01.273-.273h16.193a.273.273 0 01.273.273v7.263a.273.273 0 01-.273.273z" transform="translate(-.812 196.586)" fill="none"/></clipPath><clipPath id="e"><path data-name="Path 628" d="M75.7-287.92a.274.274 0 00-.273.273.274.274 0 00.273.273h5.893a.274.274 0 00.273-.273.273.273 0 00-.273-.273z" transform="translate(-75.422 287.92)" fill="none"/></clipPath><clipPath id="f"><path data-name="Path 630" d="M75.7-259.41a.273.273 0 00-.273.273.274.274 0 00.273.273H84a.274.274 0 00.273-.273.273.273 0 00-.273-.273z" transform="translate(-75.422 259.41)" fill="none"/></clipPath><clipPath id="g"><path data-name="Path 632" d="M75.7-230.89a.274.274 0 00-.273.273.273.273 0 00.273.273H84a.273.273 0 00.273-.273.274.274 0 00-.273-.273z" transform="translate(-75.422 230.89)" fill="none"/></clipPath></defs><g data-name="Group 13246"><g data-name="Group 13239" transform="translate(3.81 10.137)" clip-path="url(#a)"><path data-name="Path 619" d="M-.053-.053h9.226v3.577H-.053z"/></g><g data-name="Group 13240" transform="translate(1.783)" clip-path="url(#b)"><path data-name="Path 621" d="M-.053-.053h13.278v18.431H-.053z"/></g><g data-name="Group 13241" transform="translate(11.748)" clip-path="url(#c)"><path data-name="Path 623" d="M-.053-.053h3.314v3.314H-.053z"/></g><g data-name="Group 13242" transform="translate(0 7.967)" clip-path="url(#d)"><path data-name="Path 625" d="M-.053-.053h16.846v7.916H-.053z"/></g><g data-name="Group 13243" transform="translate(3.948 3.135)" clip-path="url(#e)"><path data-name="Path 627" d="M-.053-.053h6.546V.6H-.053z"/></g><g data-name="Group 13244" transform="translate(3.948 4.643)" clip-path="url(#f)"><path data-name="Path 629" d="M-.053-.053h8.95V.6h-8.95z"/></g><g data-name="Group 13245" transform="translate(3.948 6.152)" clip-path="url(#g)"><path data-name="Path 631" d="M-.053-.053h8.95V.6h-8.95z"/></g></g></svg>',phoneNormal:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="phone" aria-hidden="true"><path d="M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 01-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 00-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 00285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"/></svg>',phone:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35.963 35.922"><path class="a" d="M30.561 24.973l-4.162-3.3a4.392 4.392 0 00-2.775-.975 4.457 4.457 0 00-3.412 1.575c-.525.637-.9 1.012-1.087 1.237a8.528 8.528 0 01-4.124-2.512 7.923 7.923 0 01-2.513-4.124c.225-.187.6-.525 1.237-1.087a4.468 4.468 0 00.6-6.187l-3.3-4.162a4.519 4.519 0 00-5.324-1.312 13.317 13.317 0 00-3.6 2.362c-1.275 1.275-3.037 4.237-.937 9.936a32.242 32.242 0 007.424 10.949c5.174 5.174 11.248 8.4 15.823 8.4a6.994 6.994 0 005.062-1.912 13.317 13.317 0 002.362-3.6 4.337 4.337 0 00-1.274-5.288zm-.9 4.312a10.41 10.41 0 01-1.873 2.849 4.45 4.45 0 01-3.337 1.2c-3.787 0-9.261-2.85-14.1-7.686C3.752 19.011.828 11.212 3.865 8.175A11.683 11.683 0 016.715 6.3a2 2 0 012.437.6l3.262 4.237a2.047 2.047 0 01-.262 2.812c-.862.75-1.425 1.237-1.575 1.387-1.275 1.275-.037 4.574 2.737 7.349 2.024 2.025 4.349 3.266 5.924 3.266a1.937 1.937 0 001.425-.487c.15-.15.675-.712 1.387-1.575a1.987 1.987 0 011.537-.712 2.036 2.036 0 011.275.45l4.162 3.3a1.932 1.932 0 01.637 2.358zM20.251 10.725a1.32 1.32 0 00-1.65 1.387 1.278 1.278 0 001.05 1.2 4.222 4.222 0 011.95 1.087 3.913 3.913 0 011.087 1.95 1.447 1.447 0 001.2 1.05 1.332 1.332 0 001.387-1.65 6.768 6.768 0 00-5.024-5.024z"/><path class="a" d="M29.174 17.81a1.33 1.33 0 001.423-1.461 11.765 11.765 0 00-3.487-7.461 12.048 12.048 0 00-7.461-3.487 1.33 1.33 0 00-1.462 1.425 1.3 1.3 0 001.2 1.237 9.33 9.33 0 018.51 8.511 1.434 1.434 0 001.277 1.236z"/><path class="a" d="M30.824 5.176A17.179 17.179 0 0019.201.154a1.3 1.3 0 00-1.35 1.425 1.307 1.307 0 001.275 1.235 14.674 14.674 0 019.786 4.274 14.458 14.458 0 014.237 9.786 1.336 1.336 0 001.237 1.275 1.32 1.32 0 001.425-1.35 16.968 16.968 0 00-4.987-11.623z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.082 16.081"><defs><style>.a{fill:#8a8a8a}</style></defs><path class="a" d="M6.851 11.21V5.652c0-.255.005-.513 0-.768v-.01L5.57 5.61l.543.317 1.3.755 1.576.916 1.358.79c.221.129.441.262.664.387l.01.005V7.31l-.543.317-1.3.755-1.576.916-1.358.79c-.221.129-.445.254-.664.387l-.01.005a.882.882 0 00-.392.509.872.872 0 00.085.656.857.857 0 00.509.392.889.889 0 00.656-.085l.543-.317 1.3-.755 1.576-.916 1.358-.79c.221-.129.445-.254.664-.387l.01-.005a.86.86 0 000-1.47l-.543-.317-1.3-.755-1.576-.916-1.358-.79c-.221-.129-.441-.261-.664-.387l-.01-.005a.853.853 0 00-1.283.736V11.214a.887.887 0 00.249.6.855.855 0 001.206 0 .892.892 0 00.251-.604z"/><path class="a" d="M14.382 8.041a7.37 7.37 0 01-.065.969l.031-.227a7.182 7.182 0 01-.494 1.812l.085-.2a7.255 7.255 0 01-.937 1.606l.133-.172a7.3 7.3 0 01-1.306 1.306l.172-.133a7.217 7.217 0 01-1.606.937l.2-.085a7.22 7.22 0 01-1.812.494l.227-.031a7.4 7.4 0 01-1.94 0l.227.031a7.181 7.181 0 01-1.812-.494l.2.085a7.255 7.255 0 01-1.603-.938l.172.133a7.3 7.3 0 01-1.306-1.306l.133.172a7.217 7.217 0 01-.937-1.606l.085.2a7.22 7.22 0 01-.494-1.812l.031.227a7.4 7.4 0 010-1.94l-.031.227a7.181 7.181 0 01.494-1.812l-.085.2a7.255 7.255 0 01.938-1.603l-.133.172a7.3 7.3 0 011.306-1.306l-.173.132a7.217 7.217 0 011.606-.937l-.2.085A7.22 7.22 0 017.3 1.733l-.227.031a7.4 7.4 0 011.94 0l-.227-.031a7.182 7.182 0 011.812.494l-.2-.085a7.255 7.255 0 011.606.937l-.172-.133a7.3 7.3 0 011.306 1.306l-.133-.172a7.217 7.217 0 01.937 1.606 57.001 57.001 0 01-.085-.2 7.221 7.221 0 01.494 1.812l-.031-.227a7.416 7.416 0 01.065.971.887.887 0 00.249.6.855.855 0 001.206 0 .876.876 0 00.249-.6 8.018 8.018 0 00-1.451-4.6 8.631 8.631 0 00-.818-.995 8.479 8.479 0 00-.971-.845A8.034 8.034 0 005.855.308a8.012 8.012 0 00-3.973 2.567 8.772 8.772 0 00-.751 1.049 8.432 8.432 0 00-.569 1.17 7.889 7.889 0 00-.542 2.4 8.018 8.018 0 004.64 7.842 8.524 8.524 0 001.23.456 8.674 8.674 0 001.318.244 8.024 8.024 0 008.758-6.682 8.928 8.928 0 00.116-1.313.887.887 0 00-.249-.6.855.855 0 00-1.206 0 .89.89 0 00-.245.6z"/></svg>',plusCircle:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="plus-circle" aria-hidden="true"><path d="M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"/><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"/></svg>',plus:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="plus" aria-hidden="true"><defs><style/></defs><path d="M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"/><path d="M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"/></svg>',profileDelete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25.889 25.897"><defs><style>.a{fill:#262626}.b{fill:none;stroke:#ff3939;stroke-linecap:round;stroke-width:3px}</style></defs><path class="a" d="M13.441 13.905a4.664 4.664 0 114.664-4.664 4.661 4.661 0 01-4.664 4.664zm0-7.561a2.926 2.926 0 102.926 2.926 2.936 2.936 0 00-2.926-2.926z"/><path class="a" d="M8.459 25.9a1.454 1.454 0 01-.348-.058 13.471 13.471 0 1117.7-17.728.863.863 0 01-1.593.666A11.726 11.726 0 108.807 24.22a.886.886 0 01.463 1.13.873.873 0 01-.811.55z"/><path class="a" d="M7.3 21.03a.729.729 0 01-.463-.145.885.885 0 01-.29-1.188 8.069 8.069 0 0110.283-3.1.875.875 0 11-.724 1.593 6.457 6.457 0 00-2.636-.579 6.352 6.352 0 00-5.417 3.042 1.006 1.006 0 01-.753.377z"/><path class="b" d="M18.164 18.253l5.471 5.471M23.635 18.253l-5.471 5.471"/></svg>',profileEdit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 27.328 26.447"><defs><style>.a{fill:#262626}</style></defs><path class="a" d="M13.441 13.905a4.664 4.664 0 114.664-4.664 4.661 4.661 0 01-4.664 4.664zm0-7.561a2.926 2.926 0 102.926 2.926 2.936 2.936 0 00-2.926-2.926z"/><path class="a" d="M8.459 25.9a1.454 1.454 0 01-.348-.058 13.471 13.471 0 1117.7-17.728.863.863 0 01-1.593.666A11.726 11.726 0 108.807 24.22a.886.886 0 01.463 1.13.873.873 0 01-.811.55z"/><path class="a" d="M7.3 21.03a.729.729 0 01-.463-.145.885.885 0 01-.29-1.188 8.069 8.069 0 0110.283-3.1.875.875 0 11-.724 1.593 6.457 6.457 0 00-2.636-.579 6.352 6.352 0 00-5.417 3.042 1.006 1.006 0 01-.753.377z"/><path d="M13.383 26.447h-.116a1.391 1.391 0 01-1.39-1.388v-.116l.985-3.969a1.807 1.807 0 01.521-1.217l8.256-8.256c.956-.9 2.694-.492 4.2 1.014a5.474 5.474 0 011.333 2.028 2.082 2.082 0 01-.319 2.173l-8.285 8.256a1.806 1.806 0 01-1.217.521zm1.246-5.446v.232l-.84 3.331 3.331-.84h.116a.169.169 0 00.116-.029l8.225-8.226a2.736 2.736 0 00-.956-1.767 2.591 2.591 0 00-1.767-.956l-8.227 8.256z" fill="#a7c853"/></svg>',profile:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17.857 17.857"><path d="M8.929 0a8.929 8.929 0 108.929 8.929A8.931 8.931 0 008.929 0zM3.647 14.487a6.742 6.742 0 015.282-2.918 6.742 6.742 0 015.282 2.918 7.659 7.659 0 01-10.564 0zm5.282-4.427a2.616 2.616 0 112.616-2.616 2.614 2.614 0 01-2.616 2.617zm6.137 3.471a8.561 8.561 0 00-3.949-2.867 3.873 3.873 0 10-4.326 0 8.561 8.561 0 00-3.949 2.867 7.56 7.56 0 01-1.534-4.6 7.646 7.646 0 1113.758 4.6z" fill="#8b8b8b"/></svg>',pullRequest:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="pull-request" aria-hidden="true"><path d="M788 705.9V192c0-8.8-7.2-16-16-16H602v-68.8c0-6-7-9.4-11.7-5.7L462.7 202.3a7.14 7.14 0 000 11.3l127.5 100.8c4.7 3.7 11.7.4 11.7-5.7V240h114v465.9c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c.1-49.2-31.7-91-75.9-106.1zM752 860a48.01 48.01 0 010-96 48.01 48.01 0 010 96zM384 212c0-61.8-50.2-112-112-112s-112 50.2-112 112c0 49.2 31.8 91 76 106.1V706c-44.2 15-76 56.9-76 106.1 0 61.8 50.2 112 112 112s112-50.2 112-112c0-49.2-31.8-91-76-106.1V318.1c44.2-15.1 76-56.9 76-106.1zm-160 0a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm96 600a48.01 48.01 0 01-96 0 48.01 48.01 0 0196 0z"/></svg>',record:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><circle cx="11" cy="11" r="11" fill="#888"/></svg>',recoverPassword:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28.373 28.828"><defs><style>.a{fill:#262626}</style></defs><path class="a" d="M13.441 13.905a4.664 4.664 0 114.664-4.664 4.661 4.661 0 01-4.664 4.664zm0-7.561a2.926 2.926 0 102.926 2.926 2.936 2.936 0 00-2.926-2.926z"/><path class="a" d="M8.459 25.9a1.454 1.454 0 01-.348-.058 13.471 13.471 0 1117.7-17.728.863.863 0 01-1.593.666A11.726 11.726 0 108.807 24.22a.886.886 0 01.463 1.13.873.873 0 01-.811.55z"/><path class="a" d="M7.3 21.03a.729.729 0 01-.463-.145.885.885 0 01-.29-1.188 8.069 8.069 0 0110.283-3.1.875.875 0 11-.724 1.593 6.457 6.457 0 00-2.636-.579 6.352 6.352 0 00-5.417 3.042 1.006 1.006 0 01-.753.377z"/><g><path d="M16.314 28.286a.442.442 0 01-.442.442h-1.766a.442.442 0 010-.883h1.767a.442.442 0 01.441.441zm3.534-.442h-1.767a.442.442 0 100 .883h1.767a.442.442 0 000-.883zm3.975 0h-1.767a.442.442 0 000 .883h1.767a.442.442 0 000-.883zm3.975 0h-1.766a.442.442 0 000 .883h1.767a.442.442 0 000-.883zm-11.614-3.4a.441.441 0 00-.625 0l-.571.571-.571-.571a.442.442 0 10-.625.625l.571.571-.571.571a.442.442 0 10.625.625l.571-.571.571.571a.442.442 0 10.625-.625l-.571-.571.571-.571a.441.441 0 00.001-.629zm3.975 0a.441.441 0 00-.625 0l-.571.571-.571-.571a.442.442 0 10-.625.625l.571.571-.571.571a.442.442 0 10.625.625l.571-.571.571.571a.445.445 0 10.63-.629l-.571-.571.571-.571a.441.441 0 000-.625zm3.975 0a.441.441 0 00-.625 0l-.571.571-.571-.571a.442.442 0 10-.625.625l.571.571-.571.571a.442.442 0 10.625.625l.571-.571.571.571a.442.442 0 10.625-.625l-.571-.571.571-.571a.441.441 0 00.001-.629zm3.4 1.2l.571-.571a.442.442 0 10-.625-.625l-.571.571-.571-.571a.442.442 0 10-.625.625l.571.571-.571.571a.442.442 0 10.625.625l.571-.571.571.571a.442.442 0 10.625-.625zm-2.368-8.129v4.154a1.327 1.327 0 01-1.325 1.325h-5.783a1.327 1.327 0 01-1.325-1.325v-4.162a.442.442 0 01.442-.442h.818v-.881a2.96 2.96 0 015.921 0v.881h.817a.442.442 0 01.441.442zm-6.3-.442h4.154v-.889a2.077 2.077 0 00-4.154 0zm5.413.883h-6.663v3.712a.442.442 0 00.442.442h5.789a.442.442 0 00.442-.442z" fill="#a7c853" stroke="#a7c853" stroke-width=".2"/></g></svg>',reload:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="reload" aria-hidden="true"><path d="M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"/></svg>',reschedule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><defs><style>.a{fill:#8a8a8a}</style></defs><path class="a" d="M16.122 18H1.878A1.88 1.88 0 010 16.122V3.379A1.881 1.881 0 011.879 1.5h14.242A1.881 1.881 0 0118 3.379v12.743A1.88 1.88 0 0116.122 18zM1.879 3a.38.38 0 00-.379.379v12.743a.378.378 0 00.378.378h14.244a.378.378 0 00.378-.378V3.379A.38.38 0 0016.121 3H1.879zM17.25 6H.75a.75.75 0 010-1.5h16.5a.75.75 0 010 1.5zM3.75 3.75A.75.75 0 013 3V.75a.75.75 0 111.5 0V3a.75.75 0 01-.75.75zm10.5 0A.75.75 0 0113.5 3V.75a.75.75 0 011.5 0V3a.75.75 0 01-.75.75z"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(3.359 9)"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(3.359 12)"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(12.315 9)"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(12.315 12)"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(7.837 9)"/><circle class="a" cx="1.12" cy="1.12" r="1.12" transform="translate(7.837 12)"/></svg>',retweet:'<svg viewBox="0 0 1024 1024" fill="currentColor" data-icon="retweet" aria-hidden="true"><path d="M136 552h63.6c4.4 0 8-3.6 8-8V288.7h528.6v72.6c0 1.9.6 3.7 1.8 5.2a8.3 8.3 0 0011.7 1.4L893 255.4c4.3-5 3.6-10.3 0-13.2L749.7 129.8a8.22 8.22 0 00-5.2-1.8c-4.6 0-8.4 3.8-8.4 8.4V209H199.7c-39.5 0-71.7 32.2-71.7 71.8V544c0 4.4 3.6 8 8 8zm752-80h-63.6c-4.4 0-8 3.6-8 8v255.3H287.8v-72.6c0-1.9-.6-3.7-1.8-5.2a8.3 8.3 0 00-11.7-1.4L131 768.6c-4.3 5-3.6 10.3 0 13.2l143.3 112.4c1.5 1.2 3.3 1.8 5.2 1.8 4.6 0 8.4-3.8 8.4-8.4V815h536.6c39.5 0 71.7-32.2 71.7-71.8V480c-.2-4.4-3.8-8-8.2-8z"/></svg>',right:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="right" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"/></svg>',safetyCertificate:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="safety-certificate" aria-hidden="true"><path d="M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"/></svg>',save:'<svg viewBox="64 64 896 896" data-icon="save" aria-hidden="true"><path d="M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"/></svg>',scissor:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="scissor" aria-hidden="true"><path d="M567.1 512l318.5-319.3c5-5 1.5-13.7-5.6-13.7h-90.5c-2.1 0-4.2.8-5.6 2.3l-273.3 274-90.2-90.5c12.5-22.1 19.7-47.6 19.7-74.8 0-83.9-68.1-152-152-152s-152 68.1-152 152 68.1 152 152 152c27.7 0 53.6-7.4 75.9-20.3l90 90.3-90.1 90.3A151.04 151.04 0 00288 582c-83.9 0-152 68.1-152 152s68.1 152 152 152 152-68.1 152-152c0-27.2-7.2-52.7-19.7-74.8l90.2-90.5 273.3 274c1.5 1.5 3.5 2.3 5.6 2.3H880c7.1 0 10.7-8.6 5.6-13.7L567.1 512zM288 370c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80zm0 444c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"/></svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.485 13.481"><path stroke="#fff" fill="none" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round" d="M9.639 9.635l3.2 3.2zM.651 5.641a4.993 4.993 0 115 4.994 4.993 4.993 0 01-5-4.994z"/></svg>',setting:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="setting" aria-hidden="true"><path d="M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"/></svg>',share:'<svg fill="currentColor" data-name="share_black_24dp (1)" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path data-name="Path 612" d="M14.667 13.253a2.232 2.232 0 00-1.524.615L7.6 10.551a2.684 2.684 0 00.07-.559 2.684 2.684 0 00-.07-.559l5.48-3.285a2.29 2.29 0 001.587.647A2.363 2.363 0 0017 4.4a2.334 2.334 0 10-4.667 0 2.684 2.684 0 00.07.559L6.92 8.242a2.29 2.29 0 00-1.587-.647 2.4 2.4 0 000 4.8 2.29 2.29 0 001.587-.647l5.538 3.325a2.263 2.263 0 102.209-1.814z"/></svg>',sms:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.236 15.491"><path d="M13.092 12.143a6 6 0 000-11.993H6.144a6 6 0 00-1.561 11.788c-.014.5-.014 2.413-.014 2.413a.889.889 0 001.518.72l3.554-2.927zm-3.9-1.262l-.175.144-3.183 2.613V10.9l-.521-.093a4.735 4.735 0 01.834-9.4h6.948a4.734 4.734 0 010 9.468h-3.9zm4.989-5.365a.631.631 0 000-1.262h-8.76a.631.631 0 000 1.262zM10.15 8.04a.631.631 0 000-1.262H5.32a.631.631 0 000 1.262z"/></svg>',star:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 21"><g data-name="Group 13757" transform="translate(-520 -4796)"><circle data-name="Ellipse 178" cx="10.5" cy="10.5" r="10.5" transform="translate(520 4796)" fill="#a7c953"/><g data-name="Group 13239" fill="none"><path data-name="Path 898" d="M522.5 4798h16v16h-16z"/><path data-name="Path 899" d="M522.5 4798h16v16h-16z"/></g><g data-name="Group 13240"><path data-name="Path 900" d="M530.5 4809.644l3.708 2.356-.984-4.44 3.276-2.987-4.314-.386L530.5 4800l-1.686 4.187-4.314.386 3.276 2.987-.984 4.44z" fill="#fff"/></g></g></svg>',startRecord:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 45 45"><g class="a"><circle class="c" cx="22.5" cy="22.5" r="22.5"/><circle class="d" cx="22.5" cy="22.5" r="21.5"/></g><circle class="b" cx="11" cy="11" r="11" transform="translate(12 11)"/></svg>',startedRecording:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22"><circle cx="11" cy="11" r="11" fill="#ff3939"/></svg>',stopRecord:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 31 31"><g transform="translate(-885 -747)"><circle cx="15.5" cy="15.5" r="15.5" transform="translate(885 747)" fill="#ff3939" opacity=".67"/><g transform="translate(892 753)" fill="#fff" stroke="#ff3939"><rect width="18" height="18" rx="3" stroke="none"/><rect x=".5" y=".5" width="17" height="17" rx="2.5" fill="none"/></g></g></svg>',stop:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.05 30.05"><g fill="#030104"><path d="M18.993 10.688h-7.936a.342.342 0 00-.346.342v8.022c0 .189.155.344.346.344h7.936c.19 0 .344-.154.344-.344V11.03a.342.342 0 00-.344-.342z"/><path d="M15.026 0C6.729 0 .001 6.726.001 15.025S6.729 30.05 15.026 30.05c8.298 0 15.023-6.726 15.023-15.025S23.324 0 15.026 0zm0 27.54c-6.912 0-12.516-5.604-12.516-12.515 0-6.914 5.604-12.517 12.516-12.517 6.913 0 12.514 5.603 12.514 12.517 0 6.911-5.601 12.515-12.514 12.515z"/></g></svg>',swap:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="swap" aria-hidden="true"><path d="M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"/></svg>',unlock:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="unlock" aria-hidden="true"><path d="M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"/></svg>',upArrowCircle:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 330 330"><path d="M165 0C74.019 0 0 74.019 0 165s74.019 165 165 165 165-74.019 165-165S255.981 0 165 0zm90.606 205.606C252.678 208.535 248.839 210 245 210s-7.678-1.464-10.606-4.394l-69.396-69.393-69.392 69.393c-5.857 5.858-15.355 5.858-21.213 0-5.858-5.857-5.858-15.355 0-21.213l79.998-80a15 15 0 0121.213 0l80.002 80c5.859 5.858 5.859 15.356 0 21.213z"/></svg>',up:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="up" aria-hidden="true"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"/></svg>',upload:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="upload" aria-hidden="true"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"/></svg>',userAdd:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="usergroup-add" aria-hidden="true"><path d="M892 772h-80v-80c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v80h-80c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h80v80c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-80h80c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM373.5 498.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.8-1.7-203.2 89.2-203.2 200 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.8-1.1 6.4-4.8 5.9-8.8zM824 472c0-109.4-87.9-198.3-196.9-200C516.3 270.3 424 361.2 424 472c0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C357 742.6 326 814.8 324 891.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5C505.8 695.7 563 672 624 672c110.4 0 200-89.5 200-200zm-109.5 90.5C690.3 586.7 658.2 600 624 600s-66.3-13.3-90.5-37.5a127.26 127.26 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4-.1 34.2-13.4 66.3-37.6 90.5z"/></svg>',user:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="user" aria-hidden="true"><path d="M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"/></svg>',videoCall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 23.088 13.682"><path d="M2.993 0H12.4a2.993 2.993 0 012.993 2.993v7.7a2.993 2.993 0 01-2.993 2.989H2.993A2.993 2.993 0 010 10.689v-7.7A2.993 2.993 0 012.993 0zm0 1.71A1.283 1.283 0 001.71 2.993v7.7a1.283 1.283 0 001.283 1.283H12.4a1.283 1.283 0 001.283-1.283v-7.7A1.283 1.283 0 0012.4 1.71zM17.7 2.6l2.85-.8a2 2 0 012.534 1.921v6.244a2 2 0 01-2.534 1.921l-2.85-.8a2 2 0 01-1.457-1.921V4.517A2 2 0 0117.7 2.6zm.462 1.647a.285.285 0 00-.208.274v4.644a.285.285 0 00.208.274l2.85.8a.285.285 0 00.362-.274V3.718a.285.285 0 00-.362-.274z"/></svg>',view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20.766 13.002"><defs><style>.a{stroke:none}</style></defs><path class="a" d="M10.383 13C4.765 13 .351 7.222.15 6.981a.846.846 0 010-.963c.2-.241 4.615-6.019 10.233-6.019s10.032 5.738 10.233 6.019a.846.846 0 010 .963C20.415 7.263 16.001 13 10.383 13zM1.836 6.539c1.124 1.324 4.575 4.856 8.547 4.856s7.424-3.571 8.547-4.9c-1.124-1.324-4.615-4.9-8.547-4.9-3.973.05-7.424 3.622-8.547 4.946z"/><path class="a" d="M10.383 9.952a3.411 3.411 0 113.411-3.411 3.408 3.408 0 01-3.411 3.411zm0-5.217a1.806 1.806 0 101.806 1.806 1.8 1.8 0 00-1.806-1.806z"/></svg>',wifi:'<svg viewBox="64 64 896 896" fill="currentColor" data-icon="wifi" aria-hidden="true"><path d="M723 620.5C666.8 571.6 593.4 542 513 542s-153.8 29.6-210.1 78.6a8.1 8.1 0 00-.8 11.2l36 42.9c2.9 3.4 8 3.8 11.4.9C393.1 637.2 450.3 614 513 614s119.9 23.2 163.5 61.5c3.4 2.9 8.5 2.5 11.4-.9l36-42.9c2.8-3.3 2.4-8.3-.9-11.2zm117.4-140.1C751.7 406.5 637.6 362 513 362s-238.7 44.5-327.5 118.4a8.05 8.05 0 00-1 11.3l36 42.9c2.8 3.4 7.9 3.8 11.2 1C308 472.2 406.1 434 513 434s205 38.2 281.2 101.6c3.4 2.8 8.4 2.4 11.2-1l36-42.9c2.8-3.4 2.4-8.5-1-11.3zm116.7-139C835.7 241.8 680.3 182 511 182c-168.2 0-322.6 59-443.7 157.4a8 8 0 00-1.1 11.4l36 42.9c2.8 3.3 7.8 3.8 11.1 1.1C222 306.7 360.3 254 511 254c151.8 0 291 53.5 400 142.7 3.4 2.8 8.4 2.3 11.2-1.1l36-42.9c2.9-3.4 2.4-8.5-1.1-11.3zM448 778a64 64 0 10128 0 64 64 0 10-128 0z"/></svg>',xls:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.192 17.772"><defs><clipPath id="a"><path data-name="Path 634" d="M4.2-552.686v-6.965a.342.342 0 01.342-.342h8.625a.341.341 0 01.242.1l3.582 3.582a.341.341 0 01.1.242v13.506a.342.342 0 01-.342.342H4.538a.342.342 0 01-.342-.342v-3.057h-2.96a.342.342 0 01-.342-.342v-6.383a.342.342 0 01.342-.342H4.2zm9.309-6.139l.007 2.6h2.6zm2.9 3.288h-3.23a.343.343 0 01-.34-.342l-.009-3.43H4.88v6.623h6.92a.342.342 0 01.342.342v6.383a.342.342 0 01-.342.342H4.88v2.715H16.4v-12.633zM11.463-552H1.578v5.7h9.885z" transform="translate(-.894 559.993)" fill="none"/></clipPath><clipPath id="b"><path data-name="Path 636" d="M52.42-262.951l1.041-1.573-.945-1.444h.712l.594.9.594-.9h.713l-.947 1.445 1.039 1.573h-.731l-.668-1.022-.67 1.022z" transform="translate(-52.42 265.968)" fill="none"/></clipPath><clipPath id="c"><path data-name="Path 638" d="M151.14-262.175v-2.992h.611v2.482h1.513v.51z" transform="translate(-151.14 265.167)" fill="none"/></clipPath><clipPath id="d"><path data-name="Path 640" d="M226.659-265.613l.594-.059a.723.723 0 00.216.438.654.654 0 00.44.139.676.676 0 00.442-.124.371.371 0 00.149-.291.281.281 0 00-.063-.183.505.505 0 00-.219-.13q-.106-.038-.485-.132a1.64 1.64 0 01-.685-.3.789.789 0 01-.277-.609.783.783 0 01.13-.433.817.817 0 01.375-.306 1.5 1.5 0 01.593-.105 1.255 1.255 0 01.852.252.89.89 0 01.3.671l-.611.021a.519.519 0 00-.166-.335.6.6 0 00-.383-.1.683.683 0 00-.412.109.222.222 0 00-.1.188.231.231 0 00.09.183 1.581 1.581 0 00.559.2 2.973 2.973 0 01.655.217.85.85 0 01.333.307.9.9 0 01.12.481.883.883 0 01-.145.486.86.86 0 01-.407.337 1.706 1.706 0 01-.656.11 1.309 1.309 0 01-.879-.264 1.147 1.147 0 01-.366-.769z" transform="translate(-226.659 267.708)" fill="none"/></clipPath></defs><g data-name="Group 13251"><g data-name="Group 13247" clip-path="url(#a)"><path data-name="Path 633" d="M-.032-.032h16.256v17.835H-.032z"/></g><g data-name="Group 13248" transform="translate(1.636 9.331)" clip-path="url(#b)"><path data-name="Path 635" d="M-.032-.032h2.865v3.081H-.032z"/></g><g data-name="Group 13249" transform="translate(4.769 9.357)" clip-path="url(#c)"><path data-name="Path 637" d="M-.032-.032h2.187v3.055H-.032z"/></g><g data-name="Group 13250" transform="translate(7.165 9.276)" clip-path="url(#d)"><path data-name="Path 639" d="M-.031-.032h2.516v3.191H-.031z"/></g></g></svg>'},o=n("fXoL"),r=["iconContainer"],c=((i=function(){function t(e){u(this,t),this.renderer=e,this.size="18px",this.altColorScheme=!1,this.originalStyle=!1,this.primaryColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color"),this.darkGreyColor=getComputedStyle(document.documentElement).getPropertyValue("--dark-grey"),this.color=this.darkGreyColor,this.altColor=this.primaryColor}return p(t,[{key:"onMouseEnter",value:function(){this.originalStyle||this.changeStylings(!0,this.altColor)}},{key:"onMouseLeave",value:function(){this.originalStyle||this.changeStylings(!1)}},{key:"ngAfterViewInit",value:function(){var t;this.altColorScheme&&(t=[this.altColor,this.color],this.color=t[0],this.altColor=t[1]);var e=this.renderer.createElement("span");try{if(e.innerHTML=a[this.name],this.renderer.setStyle(e.firstChild,"width",this.size),this.renderer.setStyle(e.firstChild,"height",this.size),this.originalStyle)return void this.renderer.appendChild(this.iconContainer.nativeElement,e);this.renderer.setStyle(e.firstChild,"padding-top","2px"),this.renderer.appendChild(this.iconContainer.nativeElement,e),this.changeStylings()}catch(n){}}},{key:"changeStylings",value:function(){var t,e,n=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.color,o=this.iconContainer.nativeElement.getElementsByTagName("path");o&&(null===(t=Array.from(o))||void 0===t||t.forEach(function(t){return n.addStylings(t,a,i)}));var r=this.iconContainer.nativeElement.getElementsByTagName("g");r&&(null===(e=Array.from(r))||void 0===e||e.forEach(function(t){return n.addStylings(t,a,i)}))}},{key:"addStylings",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.color,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.renderer.setStyle(t,"fill",this.fill?this.fill:e),this.strokeWidth&&this.renderer.setStyle(t,"stroke-width",this.strokeWidth),n&&this.strokeColor?this.renderer.setStyle(t,"stroke",this.altColor):this.strokeColor&&this.renderer.setStyle(t,"stroke",this.strokeColor)}}]),t}()).\u0275fac=function(t){return new(t||i)(o.Rb(o.F))},i.\u0275cmp=o.Lb({type:i,selectors:[["app-icons"]],viewQuery:function(t,e){var n;1&t&&o.ed(r,1),2&t&&o.Hc(n=o.fc())&&(e.iconContainer=n.first)},hostBindings:function(t,e){1&t&&o.ec("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{name:"name",size:"size",color:"color",altColor:"altColor",fill:"fill",strokeColor:"strokeColor",strokeWidth:"strokeWidth",altColorScheme:"altColorScheme",originalStyle:"originalStyle"},decls:2,vars:0,consts:[["iconContainer",""]],template:function(t,e){1&t&&o.Sb(0,"span",null,0)},styles:["span[_ngcontent-%COMP%]{cursor:pointer}"]}),i)},gssi:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){var t=function t(){u(this,t)};return t.TAB_NAME="tab_name",t.APPOINTMENT_ID="appointment_id",t.APPOINTMENT_ACTION_NAME="appointment_action_name",t.APPOINTMENT_PARAMETERS="appointment_parameters",t.APPOINTMENT_TYPE="appointment_type",t.UNATTENDED_REASON="unattended_reason",t.ACTION_REJECT="reject",t.ACTION_DELETE="delete",t.ACTION_CONFIRM="confirm",t.ACTION_RESCHEDULE="reschedule",t.ACTION_VIDEOCALL="videocall",t.ACTION_SMS="sms",t.ACTION_VIEW="view",t.ACTION_EDIT="edit",t.APPOINTMENT_TAB="APPOINTMENT_TAB",t.APPOINTMENT_ACTION="APPOINTMENT_ACTION",t.APPOINTMENT_CREATE_NEW="APPOINTMENT_CREATE_NEW",t.APPOINTMENT_UNATTENDED_REASON="APPOINTMENT_UNATTENDED_REASON",t}()},i7mu:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"e",function(){return o}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return c}),n.d(e,"d",function(){return s});var i=n("FYUs"),a=function t(){u(this,t),this.level=r.TENANT_LEVEL,this.type=c.VITALS,this.criteria=new Array,this.priority=i.a.VERY_HIGH,this.active=!0},o=function(t){return t.CUSTOM="CUSTOM",t.GENERAL="GENERAL",t}({}),r=function(t){return t.PATIENT_LEVEL="PATIENT_LEVEL",t.TENANT_LEVEL="TENANT_LEVEL",t.GLOBAL_LEVEL="GLOBAL_LEVEL",t}({}),c=function(t){return t.VITALS="VITALS",t.FORMS="FORMS",t.ACTIVITIES="ACTIVITIES",t.MONITORING="MONITORING",t}({}),s=function t(){u(this,t),this.operation=l.AND,this.condition=d.HIGH,this.frequency=new p},l=function(t){return t.AND="AND",t.OR="OR",t}({}),d=function(t){return t.LOW="LOW",t.HIGH="HIGH",t}({}),p=function t(){u(this,t),this.withInDays=2,this.occurrence=2}},iUtR:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&!i){var a=t.getTime()-e.getTime();n=this.intervalToDuration(a)}else n=this.intervalToDuration(t);return[isNaN(n.hours)?0:n.hours,isNaN(n.minutes)?0:n.minutes,isNaN(n.seconds)?0:n.seconds].map(function(t){return String(t).padStart(2,"0")}).join(":")}},{key:"intervalToDuration",value:function(t){var e=Math.floor(t/864e5),n=Math.floor(t/36e5)-24*e,i=Math.floor(t/6e4)-(24*e*60+60*n);return{days:e,hours:n,minutes:i,seconds:Math.floor(t/1e3)-(24*e*60*60+60*n*60+60*i)}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"timer",type:t,pure:!0}),t}()},idJI:function(t,e,n){"use strict";n.d(e,"a",function(){return g});var i=n("fXoL"),a=n("dEAy"),o=n("B+r4"),r=n("ofXK"),c=n("OzZK"),s=n("RwU8"),l=n("C2AL");function d(t,e){1&t&&(i.Vb(0),i.Xb(1,"p",4),i.Xc(2," The list of patients who haven\u2019t been assigned to a staff member, can be obtained by filtering the patients or by using the same widget from your dashboard. All open appointments(if any) of this staff will be canceled and we will download a file for you with the details of the canceled appointments (if any). "),i.Wb(),i.Ub())}function b(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"p"),i.Xc(2),i.Wb(),i.Ub()),2&t){var n=i.ic();i.Db(2),i.Zc("The selected patients are now assigned to ",n.selectedMonitoringStaffName,"")}}function h(t,e){if(1&t&&(i.Vb(0),i.Xb(1,"p"),i.Xc(2),i.Wb(),i.Ub()),2&t){var n=i.ic();i.Db(2),i.Zc("",n.selectedMonitoringStaffName," is assigned to the selected patients as primary staff.")}}var g=function(){var t=function(){function t(e){var n=this;u(this,t),this.modalRef=e,this.isAssignPrimary=!1,this.referer="BULK_ASSIGN_MONITORING_STAFF",this.okay=function(){return n.modalRef.destroy()}}return p(t,[{key:"ngOnInit",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Rb(a.e))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-bulk-monitoring-staff-assign-success-modal"]],inputs:{isAssignPrimary:"isAssignPrimary",selectedMonitoringStaffName:"selectedMonitoringStaffName",referer:"referer"},decls:8,vars:6,consts:[["nz-row","",3,"nzGutter"],["nz-col","",2,"text-align","center",3,"nzSpan"],[4,"ngIf"],["nz-button","","nzType","primary",2,"width","179px",3,"nzSize","click"],[1,"text"]],template:function(t,e){1&t&&(i.Xb(0,"div",0),i.Xb(1,"div",1),i.Vc(2,d,3,0,"ng-container",2),i.Vc(3,b,3,1,"ng-container",2),i.Vc(4,h,3,1,"ng-container",2),i.Xb(5,"span"),i.Xb(6,"button",3),i.ec("click",function(){return e.okay()}),i.Xc(7," Okay "),i.Wb(),i.Wb(),i.Wb(),i.Wb()),2&t&&(i.rc("nzGutter",24),i.Db(1),i.rc("nzSpan",24),i.Db(1),i.rc("ngIf","DISABLE_MONITORING_STAFF"==e.referer),i.Db(1),i.rc("ngIf","DISABLE_MONITORING_STAFF"!=e.referer&&!e.isAssignPrimary),i.Db(1),i.rc("ngIf","DISABLE_MONITORING_STAFF"!=e.referer&&e.isAssignPrimary),i.Db(2),i.rc("nzSize","medium"))},directives:[o.c,o.a,r.q,c.a,s.a,l.a],styles:[".vertical-center-modal{display:flex;align-items:center;justify-content:center}  .vertical-center-modal .ant-modal{top:0}.text[_ngcontent-%COMP%]{font:normal normal 600 15px/24px Nunito;letter-spacing:0;text-align:center}"]}),t}()},ighe:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("tk/3"),a=n("AytR"),o=n("SxV6"),r=n("fXoL"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootURL=a.g.url}return p(t,[{key:"assignConsentTaskViaApp",value:function(t){return this._http.get("".concat(this.rootURL,"/v2/consent-form/generate/patient-consent/action-item/").concat(t)).pipe(Object(o.a)())}},{key:"assignConsentTaskViaSMS",value:function(t){return this._http.get("".concat(this.rootURL,"/v2/consent-form/generate/patient-consent/sms/action-item/").concat(t)).pipe(Object(o.a)())}},{key:"assignConsentFormToPatientAndEpisode",value:function(t,e){return this._http.post("".concat(this.rootURL,"/v2/episodes/").concat(t,"/consent-files/add"),JSON.stringify(e))}},{key:"addPhysicianOrderToPatientAndEpisode",value:function(t,e){return this._http.post("".concat(this.rootURL,"/v2/episodes/").concat(t,"/physician-order/add"),JSON.stringify(e))}},{key:"deleteEpisodeConsent",value:function(t,e){return this._http.post("".concat(this.rootURL,"/v2/episodes/").concat(t,"/consent-files/delete"),JSON.stringify(e))}},{key:"fetchICDCodes",value:function(t){return this._http.get("https://clinicaltables.nlm.nih.gov/api/icd10cm/v3/search?sf=code,name&df=code,name&authenticity_token=&terms=".concat(t)).pipe(Object(o.a)())}},{key:"saveEpisode",value:function(t){return this._http.post("".concat(this.rootURL,"/v2/episodes"),JSON.stringify(t)).pipe(Object(o.a)())}},{key:"updateEpisode",value:function(t){return this._http.put("".concat(this.rootURL,"/v2/episodes/").concat(t.id,"/edit"),JSON.stringify(t)).pipe(Object(o.a)())}},{key:"fetchEpisode",value:function(t){return this._http.get("".concat(this.rootURL,"/v2/episodes/").concat(t)).pipe(Object(o.a)())}},{key:"fetchEpisodeDetails",value:function(t){return this._http.get("".concat(this.rootURL,"/v3/episodes/").concat(t))}},{key:"fetchActiveEpisodes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,r="".concat(this.rootURL,"/v2/episodes/active/patients/").concat(t,"?offset=").concat(n,"&limit=").concat(e);return i&&(r="".concat(r,"&blueprintId=").concat(i)),(null==a?void 0:a.length)&&(r="".concat(r,"&episodeStatus=").concat(a)),this._http.get(r).pipe(Object(o.a)())}},{key:"fetchEpisodePrefillData",value:function(t){return this._http.get("".concat(this.rootURL,"/v2/episodes/").concat(t,"/episode/prefill")).pipe(Object(o.a)())}},{key:"uploadConsent",value:function(t,e,n,i){return this._http.post("".concat(this.rootURL,"/v1/assets/upload/").concat(n,"?filename=").concat(t,"&asset-type=").concat(i),e)}},{key:"revokeConsent",value:function(t,e){return this._http.put(a.g.url+"/ehealth/v2/consent-form/revoke/"+t,e).pipe(Object(o.a)())}},{key:"getDigitalConsent",value:function(t,e,n){var a="".concat(this.rootURL,"/v2/consent-form/patient-consent-available/").concat(t,"?episodeType=").concat(e,"&consentType=").concat(n),r=(new i.g).set("bypass","true");return this._http.get(a,{headers:r,responseType:"text"}).pipe(Object(o.a)())}},{key:"getDigitalDoctorsOrder",value:function(t,e,n){return this._http.get("".concat(this.rootURL,"/v2/consent-form/doctors-order-available/").concat(t,"?episodeId=").concat(e,"&consentType=").concat(n),{responseType:"text"}).pipe(Object(o.a)())}},{key:"denyConsent",value:function(t){return this._http.put(this.rootURL+"/ehealth/v2/consent-form/deny/",t).pipe(Object(o.a)())}},{key:"submitConsent",value:function(t){return this._http.post(this.rootURL+"/ehealth/v2/consent-form/submit/digital/consent/without-action-item",t).pipe(Object(o.a)())}},{key:"submitDoctorsOrder",value:function(t){return this._http.post(this.rootURL+"/ehealth/v2/consent-form/submit/physician/consent/",t).pipe(Object(o.a)())}},{key:"denyDoctorsOrder",value:function(t){return this._http.post(this.rootURL+"/ehealth/v2/consent-form/submit/physician/consent/deny",t).pipe(Object(o.a)())}},{key:"suspendEpisode",value:function(t,e){return this._http.post("".concat(this.rootURL,"/v2/episodes/").concat(t),e)}},{key:"suspendEpisodeNew",value:function(t){return this._http.put("".concat(this.rootURL,"/v3/episodes/suspend"),t)}},{key:"reviveEpisode",value:function(t){return this._http.put("".concat(this.rootURL,"/v3/episodes/revive/").concat(t),{})}},{key:"fetchDeviceSpecifications",value:function(){return this._http.get(this.rootURL+"/v3/device-specifications")}},{key:"assignDeviceSetupTask",value:function(t,e){return this._http.post(this.rootURL+"/v2/episodes/"+t+"/education-tasks",e)}},{key:"rescheduleAppointment",value:function(t,e,n){return this._http.put(this.rootURL+"/v2/episodes/reschedule-dst/".concat(t,"/").concat(e),n)}},{key:"fetchActionItemById",value:function(t){return this._http.get(this.rootURL+"/v2/actions/".concat(t))}},{key:"updateActionItem",value:function(t){return this._http.put(this.rootURL+"/v2/actions/".concat(null==t?void 0:t.id),t)}},{key:"submitAcceptConsent",value:function(t){return this._http.post(a.g.url+"/ehealth/v2/consent-form/submit/digital/consent/sms/accept",t).pipe(Object(o.a)())}},{key:"submitDenyConsent",value:function(t){return this._http.put(a.g.url+"/ehealth/v2/consent-form/sms/deny",t).pipe(Object(o.a)())}},{key:"fetchPatientCommunication",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"CMT";return this._http.get("".concat(a.g.url,"/v2/episodes/patient-communications/").concat(t,"?communicationType=").concat(i))}},{key:"fetchAllPatientCommunications",value:function(t,e,n,i){var o="".concat(a.g.url,"/v3/episodes/patient-communications/").concat(t,"?startDate=").concat(e,"&endDate=").concat(n);return(null==i?void 0:i.length)&&(o="".concat(o,"&serviceCodes=").concat(i.join())),this._http.get(o)}},{key:"switchCCMEpisodeComplexity",value:function(t){return this._http.put(this.rootURL+"/v3/episodes/ccm-complexity/".concat(t,"/switch"),{})}},{key:"bulkUploadPatientCommunicationNotes",value:function(t){return this._http.post(this.rootURL+"/v2/bulk-upload/patient-communication/".concat(t),{})}},{key:"postEpisodeEvent",value:function(t,e,n){return this._http.post(this.rootURL+"/v3/episodes/".concat(t,"/").concat(e,"/events"),n)}},{key:"fetchEpisodeEvents",value:function(t){return this._http.get(this.rootURL+"/v3/episodes/".concat(t,"/events"))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(i.c))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"igu/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("7RJT"),a=n("fXoL"),o=function(){var t=function(){function t(){u(this,t),this.careplanDetails=new i.BehaviorSubject(null),this.featureConfigs=new i.BehaviorSubject(null),this.featureNomenclatures=new i.BehaviorSubject(null),this.userDetails=new i.BehaviorSubject(null),this.patientDetails=new i.BehaviorSubject(null),this.tenantSettings=new i.BehaviorSubject(null),this.chatTrigger=new i.BehaviorSubject(null),this.chatMessageInboundTrigger=new i.BehaviorSubject(null),this.chatMessageOutboundTrigger=new i.BehaviorSubject(null),this.chatSessionRefreshTrigger=new i.BehaviorSubject(null),this.videoCallTrigger=new i.BehaviorSubject(null),this.voiceCallTrigger=new i.BehaviorSubject(null),this.alertRefreshTrigger=new i.BehaviorSubject(!1),this.voicecallDisconnectTrigger=new i.BehaviorSubject(!1),this.patientAssessmentTrigger=new i.BehaviorSubject(null),this.timerTrigger=new i.BehaviorSubject(null),this.stickyNoteTrigger=new i.BehaviorSubject(null),this.updateStickyNoteTrigger=new i.BehaviorSubject(null),this.stickyNoteEditorRefreshTrigger=new i.BehaviorSubject(null),this.draftRefreshTrigger=new i.BehaviorSubject(!1),this.loginRefreshTrigger=new i.BehaviorSubject(!1),this.subtenantChangeTrigger=new i.BehaviorSubject([]),this.subTenantTrigger=new i.BehaviorSubject(null),this.assignedTenantSettings=new i.BehaviorSubject(new Map),this.isLoggedInSubject=new i.BehaviorSubject(this.isSessionTokenAvailable()),this.isCheckedInSubject=new i.BehaviorSubject(this.isCheckedInSessionAvailable()),this.loggedInUserNameSubject=new i.BehaviorSubject(this.loggedInUserNameAvailable())}return p(t,[{key:"setVoicecallDisconnectTrigger",value:function(t){this.voicecallDisconnectTrigger.next(t)}},{key:"onVoiceCallDisconnect",value:function(){return this.voicecallDisconnectTrigger.asObservable()}},{key:"setVoiceCallInitiated",value:function(t){this.voiceCallTrigger.next(t)}},{key:"getVoiceCallInitiated",value:function(){return this.voiceCallTrigger.asObservable()}},{key:"triggerAlertRefresh",value:function(){this.alertRefreshTrigger.next(!0)}},{key:"onAlertRefreshTriggered",value:function(){return this.alertRefreshTrigger.asObservable()}},{key:"isSessionTokenAvailable",value:function(){return!!localStorage.getItem("accessToken")}},{key:"initiatePatientTrigger",value:function(t){(null==t?void 0:t.url)&&this.patientAssessmentTrigger.next(t)}},{key:"getPatientAssessmentTrigger",value:function(){return this.patientAssessmentTrigger.asObservable()}},{key:"setLoggedIn",value:function(t){this.isLoggedInSubject.next(t)}},{key:"isLoggedIn",value:function(){return this.isLoggedInSubject.asObservable()}},{key:"loggedInUserNameAvailable",value:function(){return localStorage.getItem("loggedInUserName")}},{key:"setLoggedInUserName",value:function(t){this.loggedInUserNameSubject.next(t)}},{key:"getLoggedInUserName",value:function(){return this.loggedInUserNameSubject.asObservable()}},{key:"isCheckedInSessionAvailable",value:function(){return null!=localStorage.getItem("checkinSessionToken")}},{key:"setCheckedIn",value:function(t){this.isCheckedInSubject.next(t)}},{key:"isCheckedIn",value:function(){return this.isCheckedInSubject.asObservable()}},{key:"setTimer",value:function(t){this.timerTrigger.next(t)}},{key:"getTimer",value:function(){return this.timerTrigger.asObservable()}},{key:"setStickNote",value:function(t){this.stickyNoteTrigger.next(t)}},{key:"updateStickyNote",value:function(t){this.updateStickyNoteTrigger.next(t)}},{key:"getUpdatedStickyNote",value:function(){return this.updateStickyNoteTrigger.asObservable()}},{key:"getStickNote",value:function(){return this.stickyNoteTrigger.asObservable()}},{key:"refreshStickNoteEditor",value:function(t){return this.stickyNoteEditorRefreshTrigger.next(t)}},{key:"onRefreshStickNoteEditor",value:function(){return this.stickyNoteEditorRefreshTrigger.asObservable()}},{key:"triggerDraftRefresh",value:function(){this.draftRefreshTrigger.next(!0)}},{key:"onDraftRefreshTriggered",value:function(){return this.draftRefreshTrigger.asObservable()}},{key:"triggerLoginPageRefresh",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.loginRefreshTrigger.next(t)}},{key:"onLoginPageRefreshTriggered",value:function(){return this.loginRefreshTrigger.asObservable()}},{key:"triggerSubTenantChange",value:function(t){this.subtenantChangeTrigger.next(t)}},{key:"onSubTenantChange",value:function(){return this.subtenantChangeTrigger.asObservable()}},{key:"setSubTenant",value:function(t){this.subTenantTrigger.next(t)}},{key:"getSubTenant",value:function(){return this.subTenantTrigger.asObservable()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},isHH:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("WoUL"),a=n("AytR"),o=n("UXun"),r=n("fXoL"),c=n("tk/3"),s=n("bNXi"),l=function(){var t=function(){function t(e,n,i){u(this,t),this._http=e,this._translateService=n,this._notificationsService=i,this.rootUrl=a.g.url}return p(t,[{key:"getAllCourses",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0;if(this.carePlanTemplates$)return this.carePlanTemplates$;var i=localStorage.getItem("loggedInTenant");return this.endPoint="".concat(this.rootUrl,"/v2/careplans/blueprints/?tenantId=").concat(i,"&offset=").concat(t,"&limit=").concat(e),n&&(this.endPoint+="&type="+n),this.carePlanTemplates$=this._http.get(this.endPoint).pipe(Object(o.a)(1)),this.carePlanTemplates$}},{key:"getCourseById",value:function(t){return this.endPoint=this.rootUrl+"/v2/careplans/blueprints/"+t+"/",this._http.get(this.endPoint)}},{key:"getInterventionBlueprintPerCarePlan",value:function(t){return this.endPoint=this.rootUrl+"/v2/careplans/intervention-blueprints/"+t,this._http.get(this.endPoint)}},{key:"assignCareplanToPatient",value:function(t){return this.endPoint=this.rootUrl+"/v2/careplans/assignements",this._http.post(this.endPoint,t)}},{key:"assignCareplanToEpisode",value:function(t,e){return this.endPoint=this.rootUrl+"/v2/episodes/"+e+"/careplans/"+t,this._http.post(this.endPoint,{})}},{key:"createCourse",value:function(t){return this.endPoint=this.rootUrl+"/v2/careplans/blueprints/",this._http.post(this.endPoint,t)}},{key:"createBulkInterventionsForNewCareplanBlueprint",value:function(t){return this.endPoint=this.rootUrl+"/v2/careplans/multi/intervention-blueprints",this._http.post(this.endPoint,t)}},{key:"updateBulkInterventionsForCareplanBlueprint",value:function(t){return this.endPoint=this.rootUrl+"/v2/careplans/multi/intervention-blueprints",this._http.put(this.endPoint,t)}},{key:"updateCourse",value:function(t){return this.endPoint=this.rootUrl+"/v2/careplans/blueprints/",this._http.put(this.endPoint,t)}},{key:"getAssignedCareplanById",value:function(t){return this.endPoint=this.rootUrl+"/v2/careplans/"+t,this._http.get(this.endPoint)}},{key:"getInterventionsForCarePlan",value:function(t){return this.endPoint=this.rootUrl+"/v2/careplans/"+t+"/interventions",this._http.get(this.endPoint)}},{key:"suspendExistingcareplans",value:function(t){return this._http.put(this.rootUrl+"/v3/careplans/users/"+t+"/status/suspension",{})}},{key:"editExistingCareplan",value:function(t){return this._http.put(this.rootUrl+"/v3/careplans/"+t.careplanId,t)}},{key:"validation",value:function(t,e,n,i){var a=this,o=!0;return i&&(i.length=0),t.name&&""!==t.name&&0!==t.name.length||(i?i.push("name"):this._translateService.get("ERROR.CAREPLANNAMEEMPTY").subscribe(function(t){a._notificationsService.error("Care Plan",t)}),o=!1),t.tags&&void 0!==t.tags&&0!==t.tags.length||(i?i.push("tags"):this._translateService.get("ERROR.TAGEMPTY").subscribe(function(t){a._notificationsService.error("Care Plan",t)}),o=!1),"ASSIGN"!==e&&"EPISODE"!==e||(o=this.validateSchdeules(n)),o}},{key:"validateSchdeules",value:function(t){var e=this,n=!0;return Array.from(t.keys()).forEach(function(i){t.get(i).forEach(function(t){t.schedules&&t.schedules.length||(e._notificationsService.error("Care Plan","Please Enter Schedule For ".concat(t.name)),n=!1)})}),n}},{key:"getActiveCareplansForAPatient",value:function(t,e){return this.endPoint=this.rootUrl+"/v3/careplans/active/"+t,e&&(this.endPoint=this.endPoint+"?careplanType="+e),this._http.get(this.endPoint)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(c.c),r.bc(i.a),r.bc(s.b))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},jWZy:function(t,e,n){"use strict";n.d(e,"a",function(){return j});var i,a=n("geco"),o=n("Z93s"),r=n("fXoL"),c=n("dEAy"),s=n("OzZK"),l=n("RwU8"),d=n("C2AL"),b=n("nJia"),h=n("glKu"),g=n("dRHE"),f=n("ofXK"),v=((i=function(){function t(e){u(this,t),this._modalRef=e,this.vitalNote=new o.a}return p(t,[{key:"closeDialog",value:function(){this._modalRef.close()}}]),t}()).\u0275fac=function(t){return new(t||i)(r.Rb(c.e))},i.\u0275cmp=r.Lb({type:i,selectors:[["app-vital-note"]],inputs:{vitalNote:"vitalNote"},decls:14,vars:9,consts:[[1,"close"],["nz-button","","nz-tooltip","",3,"nzTooltipTitle","click"],["name","close"],[1,"notes-container"],[1,"note"],[1,"note-date"],[1,"note-addedBy"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"button",1),r.ec("click",function(){return e.closeDialog()}),r.jc(2,"translate"),r.Sb(3,"app-icons",2),r.Wb(),r.Wb(),r.Xb(4,"div",3),r.Xb(5,"p",4),r.Xc(6),r.Wb(),r.Xb(7,"p",5),r.Xb(8,"strong"),r.Xc(9),r.jc(10,"date"),r.Wb(),r.Wb(),r.Xb(11,"p",6),r.Xb(12,"strong"),r.Xc(13),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(1),r.sc("nzTooltipTitle",r.kc(2,4,"COMMON.CLOSE")),r.Db(5),r.Yc(null==e.vitalNote?null:e.vitalNote.content),r.Db(3),r.Yc(r.lc(10,6,null==e.vitalNote?null:e.vitalNote.createdOn,"medium")),r.Db(4),r.Zc("Added By: ",(null==e.vitalNote?null:e.vitalNote.addedBy)||"N/A",""))},directives:[s.a,l.a,d.a,b.d,h.a],pipes:[g.a,f.e],styles:[".close[_ngcontent-%COMP%]{text-align:right}.notes-container[_ngcontent-%COMP%]{margin:1%;padding:2%;border-radius:5px;border:1px solid #d3d3d3}.note[_ngcontent-%COMP%]{color:gray}.note[_ngcontent-%COMP%], .note-addedBy[_ngcontent-%COMP%], .note-date[_ngcontent-%COMP%]{font-size:12px}.note-addedBy[_ngcontent-%COMP%]{text-align:right}"]}),i),m=n("igu/"),S=n("2hFh"),y=n("bNXi"),T=n("rMZv"),C=n("SKKP"),E=n("TaO5"),I=n("3Pt+"),M=n("IIEM"),A=n("xhqf"),_=n("gBMA");function D(t,e){1&t&&(r.Xb(0,"th",1),r.Xc(1),r.jc(2,"translate"),r.Wb()),2&t&&(r.rc("nzAlign","center"),r.Db(1),r.Zc(" ",r.kc(2,2,"COMMON.CONTEXT")," "))}function z(t,e){if(1&t&&(r.Xb(0,"th",1),r.Xc(1),r.Wb()),2&t){var n=e.$implicit;r.rc("nzAlign","center"),r.Db(1),r.Zc(" ",null==n?null:n.label," ")}}function O(t,e){1&t&&(r.Vb(0),r.Xb(1,"th",1),r.Xc(2,"Vitals "),r.Sb(3,"br"),r.Xc(4," Verified"),r.Wb(),r.Xb(5,"th",1),r.Xc(6,"Document "),r.Sb(7,"br"),r.Xc(8," Verified"),r.Wb(),r.Ub()),2&t&&(r.Db(1),r.rc("nzAlign","center"),r.Db(4),r.rc("nzAlign","center"))}function k(t,e){if(1&t&&(r.Xb(0,"td",8),r.Xc(1),r.jc(2,"vitalContext"),r.Wb()),2&t){var n=r.ic().$implicit;r.rc("nzAlign","center"),r.Db(1),r.Zc(" ",r.kc(2,2,n)," ")}}function N(t,e){1&t&&r.Sb(0,"nz-badge",14)}var P=function(t,e,n,i,a){return[t,e,n,i,a]};function R(t,e){if(1&t&&(r.Xb(0,"td",12),r.jc(1,"vitalFieldLimit"),r.jc(2,"vitalContext"),r.Xc(3),r.Xb(4,"span"),r.Vc(5,N,1,0,"nz-badge",13),r.Wb(),r.Wb()),2&t){var n=e.ngIf,i=r.ic().$implicit,a=r.ic().$implicit,o=r.ic();r.sc("ngClass",r.oc(1,4,r.Cc(12,P,n,null==i?null:i.type,o.vitalBlueprint,a.vitalstate,r.kc(2,10,a)))),r.rc("nzAlign","center"),r.Db(3),r.Zc(" ",n," "),r.Db(2),r.rc("ngIf",o.linkedVitals.has(null==a?null:a.id))}}function X(t,e){if(1&t&&(r.Vb(0),r.Vc(1,R,6,18,"td",11),r.Ub()),2&t){var n=e.$implicit,i=r.ic().$implicit,a=r.ic();r.Db(1),r.rc("ngIf",a.getParameterValue(n,i))}}function L(t,e){if(1&t){var n=r.Yb();r.Xb(0,"label",17),r.ec("ngModelChange",function(t){r.Lc(n);var e=r.ic(2).$implicit;return(null==e?null:e.additionalParameterMap).flowsheetVerified=t}),r.Wb()}if(2&t){var i=r.ic(2).$implicit;r.rc("ngModel",null==i?null:i.additionalParameterMap.flowsheetVerified)}}function w(t,e){1&t&&r.Sb(0,"label",18)}function W(t,e){if(1&t){var n=r.Yb();r.Xb(0,"label",17),r.ec("ngModelChange",function(t){r.Lc(n);var e=r.ic(2).$implicit;return(null==e?null:e.additionalParameterMap).mdmVerified=t}),r.Wb()}if(2&t){var i=r.ic(2).$implicit;r.rc("ngModel",null==i?null:i.additionalParameterMap.mdmVerified)}}function V(t,e){1&t&&r.Sb(0,"label",18)}function x(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"td",8),r.Vc(2,L,1,1,"label",15),r.Vc(3,w,1,0,"label",16),r.Wb(),r.Xb(4,"td",8),r.Vc(5,W,1,1,"label",15),r.Vc(6,V,1,0,"label",16),r.Wb(),r.Ub()),2&t){var n=r.ic().$implicit;r.Db(1),r.rc("nzAlign","center"),r.Db(1),r.rc("ngIf",null==n?null:n.additionalParameterMap),r.Db(1),r.rc("ngIf",!(null!=n&&n.additionalParameterMap)),r.Db(1),r.rc("nzAlign","center"),r.Db(1),r.rc("ngIf",null==n?null:n.additionalParameterMap),r.Db(1),r.rc("ngIf",!(null!=n&&n.additionalParameterMap))}}var U=function(t){return{"shaded-row":t}};function F(t,e){if(1&t&&(r.Vb(0),r.Xb(1,"tr",7),r.Xb(2,"td",8),r.Xc(3),r.jc(4,"date"),r.Wb(),r.Xb(5,"td",9),r.jc(6,"date"),r.Xc(7),r.jc(8,"date"),r.Wb(),r.Xb(9,"td",8),r.Xc(10),r.jc(11,"deviceName"),r.Wb(),r.Xb(12,"td",8),r.Xc(13),r.Wb(),r.Vc(14,k,3,4,"td",10),r.Vc(15,X,2,1,"ng-container",5),r.Vc(16,x,7,6,"ng-container",4),r.Wb(),r.Ub()),2&t){var n=e.$implicit,i=e.index,a=r.ic();r.Db(1),r.rc("ngClass",r.yc(27,U,i%2==0)),r.Db(1),r.rc("nzAlign","center"),r.Db(1),r.ad("",r.lc(4,16,(null==n?null:n.takenAt)+"Z","MMM d, h:mm a")," ",a.standardTimeZone,""),r.Db(2),r.uc("nzTooltipTitle","This vital was received on our portal on ",r.lc(6,19,(null==n?null:n.createdAt)+"Z","MMM dd, hh:mm a")," ",a.standardTimeZone,""),r.rc("nzAlign","center"),r.Db(2),r.ad(" ",r.lc(8,22,(null==n?null:n.createdAt)+"Z","MMM d, h:mm a")," ",a.standardTimeZone,""),r.Db(2),r.rc("nzAlign","center"),r.Db(1),r.Yc(r.kc(11,25,null==n?null:n.deviceType)),r.Db(2),r.rc("nzAlign","center"),r.Db(1),r.Yc(null==n?null:n.platform),r.Db(1),r.rc("ngIf",a.vitalContext),r.Db(1),r.rc("ngForOf",null==a.vitalBlueprint?null:a.vitalBlueprint.parameters),r.Db(1),r.rc("ngIf",null==a.tenantConfig||null==a.tenantConfig.redoxConfig?null:a.tenantConfig.redoxConfig.enabled)}}function H(t,e){1&t&&(r.Xb(0,"em"),r.Xc(1),r.jc(2,"translate"),r.Wb(),r.Xb(3,"em"),r.Xc(4),r.jc(5,"translate"),r.Wb()),2&t&&(r.Db(1),r.Yc(r.kc(2,2,"ALERT.FOOTER.VITALS_TREND")),r.Db(3),r.Zc(" ",r.kc(5,4,"ALERT.FOOTER.ABOVE_BELOW"),""))}var B,j=((B=function(){function t(e,n,i,a,o){var r=this;u(this,t),this._notificationsService=e,this._patientsService=n,this._modalService=i,this._dataSharingService=a,this._timezoneService=o,this.linkedVitals=new Set,this.deprecatedParamsMap=new Map,this.deprecatedParamsMap.set("PULSERATE","HEART_RATE"),this.deprecatedParamsMap.set("HEARTRATE","HEART_RATE"),this.deprecatedParamsMap.set("RESPIRATIONS","RESPIRATION"),this.deprecatedParamsMap.set("GLUCOSE","BLOOD_GLUCOSE"),this.standardTimeZone=this._timezoneService.getTimeZone(),this._dataSharingService.tenantSettings.subscribe(function(t){return r.tenantConfig=t})}return p(t,[{key:"ngAfterViewInit",value:function(){this.vitalBlueprint.contexts&&this.vitalBlueprint.contexts.length&&(this.vitalContext=this.vitalBlueprint.contexts[0])}},{key:"getParameterValue",value:function(t,e){var n=this;try{var i=t.type,a=t.label,o=JSON.parse(e.parameters),r=o[i=Object.keys(o).find(function(t){var e;return t.toLowerCase()===i.toLowerCase()||t.toLowerCase()===a.toLowerCase()||t.toLowerCase()===(null===(e=n.deprecatedParamsMap.get(i))||void 0===e?void 0:e.toLowerCase())})];return"null"==r||null==r||""==r||"NOTES"==r||"notes"==r?"-":r}catch(c){}return 0}},{key:"viewNoteForVital",value:function(t){var e=this;t?this._patientsService.fetchVitalNote(t).subscribe(function(t){e._modalService.create({nzContent:v,nzComponentParams:{vitalNote:t},nzWidth:600,nzClosable:!1,nzFooter:null})}):this._notificationsService.error("Vitals","Note not available!")}}]),t}()).\u0275fac=function(t){return new(t||B)(r.Rb(y.b),r.Rb(a.a),r.Rb(c.f),r.Rb(m.a),r.Rb(S.a))},B.\u0275cmp=r.Lb({type:B,selectors:[["app-vitals-table"]],inputs:{patientName:"patientName",patientId:"patientId",vitalBlueprint:"vitalBlueprint",vitals:"vitals",careplanId:"careplanId",linkedVitals:"linkedVitals"},decls:22,vars:26,consts:[[3,"nzFrontPagination","nzShowPagination","nzSize","nzNoResult","nzFooter","nzBordered"],[1,"thead",3,"nzAlign"],["class","thead",3,"nzAlign",4,"ngIf"],["class","thead",3,"nzAlign",4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["vitalTableFooter",""],[3,"ngClass"],[3,"nzAlign"],["nz-tooltip","",3,"nzAlign","nzTooltipTitle"],[3,"nzAlign",4,"ngIf"],[3,"nzAlign","ngClass",4,"ngIf"],[3,"nzAlign","ngClass"],["nzColor","#f50","nzStatus","processing",4,"ngIf"],["nzColor","#f50","nzStatus","processing"],["nz-checkbox","","nzDisabled","",3,"ngModel","ngModelChange",4,"ngIf"],["nz-checkbox","","nzDisabled","",4,"ngIf"],["nz-checkbox","","nzDisabled","",3,"ngModel","ngModelChange"],["nz-checkbox","","nzDisabled",""]],template:function(t,e){if(1&t&&(r.Xb(0,"nz-table",0),r.Xb(1,"thead"),r.Xb(2,"tr"),r.Xb(3,"th",1),r.Xc(4),r.jc(5,"translate"),r.Wb(),r.Xb(6,"th",1),r.Xc(7),r.jc(8,"translate"),r.Wb(),r.Xb(9,"th",1),r.Xc(10),r.jc(11,"translate"),r.Wb(),r.Xb(12,"th",1),r.Xc(13),r.jc(14,"translate"),r.Wb(),r.Vc(15,D,3,4,"th",2),r.Vc(16,z,2,2,"th",3),r.Vc(17,O,9,2,"ng-container",4),r.Wb(),r.Wb(),r.Xb(18,"tbody"),r.Vc(19,F,17,29,"ng-container",5),r.Wb(),r.Wb(),r.Vc(20,H,6,6,"ng-template",null,6,r.Wc)),2&t){var n=r.Ic(21);r.rc("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","middle")("nzNoResult",null)("nzFooter",n)("nzBordered",!1),r.Db(3),r.rc("nzAlign","center"),r.Db(1),r.Yc(r.kc(5,18,"PARAMETERS.MEASUREDON")),r.Db(2),r.rc("nzAlign","center"),r.Db(1),r.Yc(r.kc(8,20,"PARAMETERS.RECEIVED_ON")),r.Db(2),r.rc("nzAlign","center"),r.Db(1),r.Zc(" ",r.kc(11,22,"COMMON.MEASURED_WITH"),""),r.Db(2),r.rc("nzAlign","center"),r.Db(1),r.Yc(r.kc(14,24,"COMMON.PLATFORM")),r.Db(2),r.rc("ngIf",e.vitalContext),r.Db(1),r.rc("ngForOf",null==e.vitalBlueprint?null:e.vitalBlueprint.parameters),r.Db(1),r.rc("ngIf",null==e.tenantConfig||null==e.tenantConfig.redoxConfig?null:e.tenantConfig.redoxConfig.enabled),r.Db(2),r.rc("ngForOf",e.vitals)}},directives:[T.f,T.n,T.o,T.e,T.l,T.a,f.q,f.p,T.i,f.o,b.d,C.a,E.a,I.u,I.x],pipes:[g.a,f.e,M.a,A.a,_.a],styles:[".thead[_ngcontent-%COMP%]{font-weight:700}.normal[_ngcontent-%COMP%]{color:var(--primary-color)}.abnormal[_ngcontent-%COMP%]{color:#c81c1c}.shaded-row[_ngcontent-%COMP%]{background-color:#f6f6f6}td[_ngcontent-%COMP%]{color:var(--light-black);font-size:12px}[_nghost-%COMP%]     .ant-table-thead>tr>th{text-align:center!important}[_nghost-%COMP%]     .ant-badge-status-dot{width:10px;height:10px}[_nghost-%COMP%]     .ant-badge-status-processing:after{border:1px solid #f50}"]}),B)},jYVc:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("tk/3"),a=n("aJGj"),o=n("vLqr"),r=n("AytR"),c=n("fXoL"),s=function(){var t=function(){function t(e,n){u(this,t),this._http=e,this._handler=n,this.rootUrl=r.g.url,this._httpClientNoInterceptor=new i.c(n)}return p(t,[{key:"logInUser",value:function(t){return this._http.post(this.rootUrl+"/v3/auth/grant-type/user-credentials",JSON.stringify(t))}},{key:"generateOTPForUser",value:function(t){var e=this.rootUrl+"/v2/sessions/otp/generate",n={headers:new i.g({"Content-Type":"application/json"})};return this._httpClientNoInterceptor.post(e,JSON.stringify(t),n)}},{key:"verifyOTPForUser",value:function(t){var e=this.rootUrl+"/v2/sessions/otp/verify",n={headers:new i.g({"Content-Type":"application/json"})};return this._httpClientNoInterceptor.post(e,JSON.stringify(t),n)}},{key:"refreshAccessToken",value:function(){var t=this.rootUrl+"/v3/auth/grant-type/refresh-token",e={refreshToken:localStorage.getItem("refreshToken")};if(!e.refreshToken)throw Object(o.throwError)(null);return this._http.post(t,JSON.stringify(e))}},{key:"getSessionById",value:function(t){return this._http.get(this.rootUrl+"/v2/sessions/".concat(t))}},{key:"archiveSecurityToken",value:function(){var t=this.rootUrl+"/v3/auth/security-token/invalidate",e={refreshToken:localStorage.getItem("refreshToken")};return(null==e?void 0:e.refreshToken)?this._http.put(t,JSON.stringify(e)):a.EMPTY}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.bc(i.c),c.bc(i.b))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},jZiR:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("igu/"),a=n("fXoL"),o=function(){var t=function(){function t(e){u(this,t),this._dataSharingService=e}return p(t,[{key:"initialize",value:function(){var t,e,n=this;null===(e=null===(t=this._dataSharingService)||void 0===t?void 0:t.tenantSettings)||void 0===e||e.subscribe(function(t){t&&n.setTheme(t)})}},{key:"initializeWithConfig",value:function(t){t&&this.setTheme(t)}},{key:"setTheme",value:function(t){var e,n,i=null===(e=null==t?void 0:t.portalConfig)||void 0===e?void 0:e.colorConfiguration,a=null===(n=null===document||void 0===document?void 0:document.documentElement)||void 0===n?void 0:n.style;null==a||a.setProperty("--primary-color",null==i?void 0:i.primaryColor),null==a||a.setProperty("--primary-color-dark",null==i?void 0:i.primaryDarkColor),null==a||a.setProperty("--primary-color-light",null==i?void 0:i.primaryLightColor),null==a||a.setProperty("--secondary-color",null==i?void 0:i.secondaryColor),null==a||a.setProperty("--secondary-color-dark",null==i?void 0:i.secondaryDarkColor),null==a||a.setProperty("--secondary-color-light",null==i?void 0:i.secondaryLightColor),null==a||a.setProperty("--tertiary-color",null==i?void 0:i.tertiaryColor),null==a||a.setProperty("--tertiary-color-dark",null==i?void 0:i.tertiaryDarkColor),null==a||a.setProperty("--tertiary-color-light",null==i?void 0:i.tertiaryLightColor),null==a||a.setProperty("--neutral-color",null==i?void 0:i.neutralColor),null==a||a.setProperty("--black",null==i?void 0:i.blackColor),null==a||a.setProperty("--light-black",null==i?void 0:i.blackLightColor),null==a||a.setProperty("--dark-grey",null==i?void 0:i.greyDarkColor),null==a||a.setProperty("--medium-grey",null==i?void 0:i.greyMediumColor),null==a||a.setProperty("--grey",null==i?void 0:i.greyColor),null==a||a.setProperty("--light-grey",null==i?void 0:i.greyLightColor),null==a||a.setProperty("--success-color",null==i?void 0:i.successColor),null==a||a.setProperty("--warning-color",null==i?void 0:i.warningColor),null==a||a.setProperty("--warning-color-light",null==i?void 0:i.warningLightColor),null==a||a.setProperty("--error-color",null==i?void 0:i.errorColor),null==a||a.setProperty("--body-background",null==i?void 0:i.backgroundColor)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(i.a))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},k90p:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("x6g7"),a=n("2hFh"),o=n("fXoL"),r=n("B+r4"),c=n("eHCX"),s=n("ofXK"),l=n("dRHE"),d=n("gBMA"),b=n("xhqf"),h=function(t,e,n,i,a){return[t,e,n,i,a]};function g(t,e){if(1&t&&(o.Xb(0,"div"),o.Xb(1,"p",8),o.Xc(2),o.Xb(3,"span",9),o.jc(4,"vitalFieldLimit"),o.jc(5,"vitalContext"),o.Xc(6),o.Wb(),o.Wb(),o.Wb()),2&t){var n=e.$implicit,i=o.ic();o.Db(2),o.Zc("",null==n?null:n.label," "),o.Db(1),o.sc("ngClass",o.oc(4,3,o.Cc(11,h,i.getParameterValue(n,i.vital),null==n?null:n.type,i.vitalBlueprint,i.vital.vitalstate,o.kc(5,9,i.vital)))),o.Db(3),o.Zc(" ",i.getParameterValue(n,i.vital)||"-","")}}var f=function(){var t=function(){function t(e,n){u(this,t),this._alertService=e,this._timezoneService=n,this.linkedAlerts=new Array,this.deprecatedParamsMap=new Map,this.deprecatedParamsMap.set("PULSERATE","HEART_RATE"),this.deprecatedParamsMap.set("HEARTRATE","HEART_RATE"),this.deprecatedParamsMap.set("RESPIRATIONS","RESPIRATION"),this.deprecatedParamsMap.set("GLUCOSE","BLOOD_GLUCOSE")}return p(t,[{key:"ngOnInit",value:function(){this.standardTimeZone=this._timezoneService.getTimeZone()}},{key:"getParameterValue",value:function(t,e){var n=this;try{var i=t.type,a=t.label,o=JSON.parse(e.parameters),r=o[i=Object.keys(o).find(function(t){var e;return t.toLowerCase()===i.toLowerCase()||t.toLowerCase()===a.toLowerCase()||t.toLowerCase()===(null===(e=n.deprecatedParamsMap.get(i))||void 0===e?void 0:e.toLowerCase())})];return"null"==r||null==r||""==r||"NOTES"==r||"notes"==r?"-":r}catch(c){}return 0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Rb(i.a),o.Rb(a.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-last-measured-vital"]],inputs:{vitalBlueprint:"vitalBlueprint",vital:"vital",vitalLabel:"vitalLabel"},decls:12,vars:10,consts:[[1,"header"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","16",1,"middle"],["id","last-values-heading-wrapper"],["id","last-value-heading"],["nz-typography","","id","last-value-sub-heading"],["nz-col","","nzSpan","8",1,"middle"],[4,"ngFor","ngForOf"],[2,"font-weight","bold"],[1,"vitals-values",3,"ngClass"]],template:function(t,e){1&t&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"div",2),o.Xb(3,"div",3),o.Xb(4,"h3",4),o.Xc(5),o.jc(6,"translate"),o.Wb(),o.Xb(7,"h5",5),o.Xc(8),o.jc(9,"date"),o.Wb(),o.Wb(),o.Wb(),o.Xb(10,"div",6),o.Vc(11,g,7,17,"div",7),o.Wb(),o.Wb(),o.Wb()),2&t&&(o.Db(5),o.ad("",o.kc(6,5,"COMMON.LAST_MEASURED")," ",e.vitalLabel,""),o.Db(3),o.ad(" ",o.lc(9,7,(null==e.vital?null:e.vital.takenAt)+"Z","MMM dd, yyyy, hh:mm a")," ",e.standardTimeZone," "),o.Db(3),o.rc("ngForOf",null==e.vitalBlueprint?null:e.vitalBlueprint.parameters))},directives:[r.c,r.a,c.a,s.p,s.o],pipes:[l.a,s.e,d.a,b.a],styles:["#last-values-heading-wrapper[_ngcontent-%COMP%]{padding-left:26px;width:100%}#last-value-heading[_ngcontent-%COMP%]{font-size:16px;font-weight:700}#last-value-sub-heading[_ngcontent-%COMP%]{color:#949494}.clear-thead[_ngcontent-%COMP%]{background:transparent!important;font-size:14px;color:var(--light-black);border-bottom:none;text-align:center!important}.clear-td[_ngcontent-%COMP%]{font-size:20px;font-weight:300;border-bottom:none}.normal[_ngcontent-%COMP%]{color:var(--primary-color);font-size:15px}.abnormal[_ngcontent-%COMP%]{color:#c81c1c}[_nghost-%COMP%]     .ant-table table{margin-top:-21px}.header[_ngcontent-%COMP%]{background:var(--neutral-color);width:100%;min-height:200px;border-radius:5px;padding:14px}.vitals-measured[_ngcontent-%COMP%]{padding-top:35px}.vitals-values[_ngcontent-%COMP%]{padding-left:10px}.middle[_ngcontent-%COMP%], .middle-200[_ngcontent-%COMP%]{margin-top:calc(100%/2 - 200px);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content}"]}),t}()},k9Ba:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=[{name:"Tech Support",type:"TECH_SUPPORT",configs:{VIDEO_CALL:{context:"TECH_SUPPORT",duration:0,note:"Spoke to the patient over the phone to understand the issue(s)."},CALL:{context:"TECH_SUPPORT",duration:10,note:"Spoke to the patient over the phone to understand the issue(s)."},HOME_VISIT:{context:"TECH_SUPPORT",duration:20,note:"Visited patient's home and resolved the tech issues that the patient was experiencing."},OTHER:{context:"TECH_SUPPORT",duration:0,note:"Spoke to the patient over the phone to understand the issue(s)."}}},{name:"Making arrangements for the delivery of monitoring equipment to the patient",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Educating the patient regarding the use of the monitoring equipment and data transmission",type:"ONBOARDING",configs:{VIDEO_CALL:{context:null,duration:0,note:"Patient educated on how to use the device, measure vitals and how the values are transmitted for review by the care team. The patient expressed understanding and was successfully onboarded to the program."},CALL:{context:null,duration:0,note:"Patient educated on how to use the device, measure vitals and how the values are transmitted for review by the care team. The patient expressed understanding and was successfully onboarded to the program."},HOME_VISIT:{context:"ONBOARDING",duration:20,note:"Patient educated on how to use the device, measure vitals and how the values are transmitted for review by the care team. The patient expressed understanding and was successfully onboarded to the program."},OTHER:{context:"ONBOARDING",duration:20,note:"Patient educated on how to use the device, measure vitals and how the values are transmitted for review by the care team. The patient expressed understanding and was successfully onboarded to the program."}}},{name:"Responding to any questions received from a patient regarding data collection and transmission",type:"PATIENT_ENGAGEMENT",configs:{VIDEO_CALL:{context:"PATIENT_ENGAGEMENT",duration:0,note:"Spoke to the patient. Emphasized the importance of taking medications on time and following the advice provided by the physician. Checked on symptoms."},CALL:{context:"PATIENT_ENGAGEMENT",duration:10,note:"Spoke to the patient. Emphasized the importance of taking medications on time and following the advice provided by the physician. Checked on symptoms."},HOME_VISIT:{context:"PATIENT_ENGAGEMENT",duration:20,note:"Visited patient's home and resolved any issues that the patient was experiencing."},CLINIC_VISIT:{context:"PATIENT_ENGAGEMENT",duration:20,note:"Spoke to the patient. Emphasized the importance of taking medications on time and following the advice provided by the physician. Checked on symptoms."},OTHER:{context:"PATIENT_ENGAGEMENT",duration:0,note:"Spoke to the patient. Emphasized the importance of taking medications on time and following the advice provided by the physician. Checked on symptoms."}}},{name:"Activities related to retrieving, organizing, or compiling the patient\u2019s data for review",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Following up with a patient whose data is not being transmitted properly or received in a timely manner",type:"DATA_TRANSMISSION",configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:"DATA_TRANSMISSION_ISSUE",duration:10,note:"Visited patient's home and resolved the data transmission issues that the patient was experiencing."},OTHER:{context:null,duration:0,note:"Spoke to the patient to understand the issue that the patient was experiencing. Helped the patient resolve the issue."}}},{name:"Addressing any data quality issue with the patient or third party (e.g., monitoring vendor, device vendor)",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Reviewing and posting the data",type:"DATA_REVIEW_MD",configs:{VIDEO_CALL:{context:null,duration:0,note:"Patient information reviewed by MD/Clinician."},CALL:{context:null,duration:0,note:"Patient information reviewed by MD/Clinician."},HOME_VISIT:{context:null,duration:0,note:"Patient information reviewed by MD/Clinician."},OTHER:{context:"DATA_REVIEW_MD",duration:5,note:"Patient information reviewed by MD/Clinician."}}},{name:"Validating the data",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Comparing the data to the patient\u2019s prior reported data",type:"DATA_REVIEW_PATIENT",configs:{VIDEO_CALL:{context:null,duration:0,note:"Reviewed vital signs and other patient data."},CALL:{context:null,duration:0,note:"Reviewed vital signs and other patient data."},HOME_VISIT:{context:null,duration:0,note:"Reviewed vital signs and other patient data."},OTHER:{context:"DATA_REVIEW_PATIENT",duration:5,note:"Reviewed vital signs and other patient data."}}},{name:"Reviewing the patient\u2019s electronic health record",type:"DATA_REVIEW_EHR",configs:{VIDEO_CALL:{context:null,duration:0,note:"Reviewed patient chart in EHR."},CALL:{context:null,duration:0,note:"Reviewed patient chart in EHR."},HOME_VISIT:{context:null,duration:0,note:"Reviewed patient chart in EHR."},OTHER:{context:"DATA_REVIEW_EHR",duration:5,note:"Reviewed patient chart in EHR."}}},{name:"Comparing the data to established parameters",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Communicating specific data to other providers as directed by established protocol or upon request",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Consulting with the physician and/or other clinicians to determine what action is warranted based on...",type:"ESCALATION",configs:{VIDEO_CALL:{context:null,duration:0,note:"Escalated to clinic\u2019s staff for further advice after review of patient data."},CALL:{context:null,duration:0,note:"Escalated to clinic\u2019s staff for further advice after review of patient data."},HOME_VISIT:{context:null,duration:0,note:"Escalated to clinic\u2019s staff for further advice after review of patient data."},OTHER:{context:"ESCALATION",duration:10,note:"Escalated to clinic\u2019s staff for further advice after review of patient data."}}},{name:"Discussing with the patient possible explanations for results outside established normal ranges",type:"ALERT_MANAGEMENT",configs:{VIDEO_CALL:{context:null,duration:0,note:"Reviewed alert(s)."},CALL:{context:"ALERT_MANAGEMENT",duration:5,note:"Reviewed alert(s)."},HOME_VISIT:{context:null,duration:0,note:"Reviewed alert(s)."},OTHER:{context:null,duration:0,note:"Reviewed alert(s)."}}},{name:"Acting on directives from the patient\u2019s physician or other practitioner",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Counseling, educating, and following up with the patient in response to reported results",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Modifying the patient\u2019s care plan based on reported results",type:"CARE_PLAN_MODIFICATION",configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:"CARE_PLAN_MODIFICATION",duration:5,note:"Discussed the observations on the vital signs data generated by the patient for the current month with the MD for further modification in patient's care plan."}}},{name:"Documenting any of the aforementioned activities",type:null,configs:{VIDEO_CALL:{context:null,duration:0,note:""},CALL:{context:null,duration:0,note:""},HOME_VISIT:{context:null,duration:0,note:""},OTHER:{context:null,duration:0,note:""}}},{name:"Care Coordination",type:"CARE_COORDINATION",configs:{CALL:{context:"CARE_COORDINATION",duration:20,note:"Activities related to retrieving, organizing, or compiling the patient\u2019s data for review."},OUTBOUND_CALL:{context:"CARE_COORDINATION",duration:20,note:"Activities related to retrieving, organizing, or compiling the patient\u2019s data for review."},INBOUND_CALL:{context:"CARE_COORDINATION",duration:20,note:"Activities related to retrieving, organizing, or compiling the patient\u2019s data for review."}}},{name:"Reviewing patient\u2019s medicinal information",type:"MEDICATION_REVIEW",configs:{OTHER:{context:"MEDICATION_REVIEW",duration:10,note:"Reviewed the medicinal data for the patient for the current month and shared the report with the MD for further review & advice"}}},{name:"Assessing/Reviewing patient",type:"ASSESSMENT_REVIEW",configs:{CALL:{context:"ASSESSMENT_REVIEW",duration:10,note:"Assessed/Reviewed patient's health"}}},{name:"Text Reminder",type:"TEXT_REMINDER",configs:{OTHER:{context:"TEXT_REMINDER",duration:5,note:"Text reminder sent to patient after review of patient data."}}},{name:"Others",type:"OTHERS",configs:{CALL:{context:"OTHERS",duration:0,note:""}}}]},kiQV:function(t){t.exports=JSON.parse('{"a":"3.5.3"}')},l6l4:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("AytR"),a=n("tk/3"),o=n("SxV6"),r=n("fXoL"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=i.g.url}return p(t,[{key:"checkReportStatus",value:function(t){return this._http.get(this.rootUrl+"/v2/reports/status/"+t).pipe(Object(o.a)())}},{key:"generatePatientSummaryReport",value:function(t,e,n){return this._http.post("".concat(this.rootUrl,"/v2/reports/summary/patients/").concat(t,"?startTime=").concat(e,"&endTime=").concat(n),{}).pipe(Object(o.a)())}},{key:"generateWeeklyReport",value:function(t,e,n){var i=localStorage.getItem("loggedInTenant");window.open("".concat(this.rootUrl,"/v2/billing/hourly/csv/tenant/").concat(i,"/?start=").concat(t,"&end=").concat(e,"&userType=").concat(n))}},{key:"generateCaretakersReport",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return this._http.get("".concat(this.rootUrl,"/v2/reports/getreport/?start=").concat(t,"&end=").concat(e,"&caretakerId=").concat(n)).pipe(Object(o.a)())}},{key:"fetchCaretakersReport",value:function(t){window.open("".concat(this.rootUrl,"/v2/reports/dwnreports/").concat(t.fileName,"/"))}},{key:"generateGeneralAssessmentReport",value:function(t,e){return this._http.get("".concat(this.rootUrl,"/v3/analytics/general-assessment-report/?startTime=").concat(t,"&endTime=").concat(e)).pipe(Object(o.a)())}},{key:"generateActivityReport",value:function(t){return this._http.get("".concat(this.rootUrl,"/v3/analytics/activity-report/?month=").concat(t)).pipe(Object(o.a)())}},{key:"generateBHIReport",value:function(t,e){return this._http.get("".concat(this.rootUrl,"/v3/analytics/bhi-report/?startDate=").concat(t,"&endDate=").concat(e)).pipe(Object(o.a)())}},{key:"generatePatientEnrollmentReport",value:function(t,e){return this._http.get("".concat(this.rootUrl,"/v3/analytics/patient-enrollment/?startDate=").concat(t,"&endDate=").concat(e)).pipe(Object(o.a)())}},{key:"generatePatientClosureReport",value:function(t,e){return this._http.get("".concat(this.rootUrl,"/v3/analytics/patient-closure/?startDate=").concat(t,"&endDate=").concat(e)).pipe(Object(o.a)())}},{key:"generateCareStaffDetailReport",value:function(t,e){return this._http.get("".concat(this.rootUrl,"/v3/analytics/care-staff-detail/?startDate=").concat(t,"&endDate=").concat(e)).pipe(Object(o.a)())}},{key:"generateStaffReviewReport",value:function(t,e){return this._http.get("".concat(this.rootUrl,"/v3/analytics/staff-review/?startDate=").concat(t,"&endDate=").concat(e)).pipe(Object(o.a)())}},{key:"generateStaffDetailedReviewReport",value:function(t,e,n){return this._http.get("".concat(this.rootUrl,"/v3/analytics/staff-review/").concat(t,"?startDate=").concat(e,"&endDate=").concat(n)).pipe(Object(o.a)())}},{key:"generatePatientCommunicationReviewReport",value:function(t,e,n){return this._http.get("".concat(this.rootUrl,"/v3/analytics/patient-communication/global-timer/").concat(t,"?startDate=").concat(e,"&endDate=").concat(n)).pipe(Object(o.a)())}},{key:"generatePatientTerminationReport",value:function(t,e){return this._http.get("".concat(this.rootUrl,"/v3/analytics/patient-termination/?startDate=").concat(t,"&endDate=").concat(e)).pipe(Object(o.a)())}},{key:"generatePatientConsentDeniedReport",value:function(t,e){return this._http.get("".concat(this.rootUrl,"/v3/analytics/patient-consent-denied/?startDate=").concat(t,"&endDate=").concat(e)).pipe(Object(o.a)())}},{key:"fetchBlobForReport",value:function(t){var e=new a.g({bypass:"yes"});return this._http.get(t,{headers:e,responseType:"blob"})}},{key:"generateBillingReport",value:function(t){return this._http.post(this.rootUrl+"/v3/analytics/billing-report",t).pipe(Object(o.a)())}},{key:"generateAuditReport",value:function(t){return this._http.post(this.rootUrl+"/v3/analytics/audit-report",t).pipe(Object(o.a)())}},{key:"generateVitalHistoryReport",value:function(t){var e="".concat(this.rootUrl,"/v3/analytics/vital-history-report"),n=new a.h({fromObject:t});return this._http.get(e,{params:n})}},{key:"upload",value:function(t,e){return this._http.post(this.rootUrl+"/v2/media/upload/"+t,e,{observe:"response",responseType:"text"})}},{key:"shareReport",value:function(t){return this._http.post("".concat(this.rootUrl,"/v3/analytics/share-report"),JSON.stringify(t))}},{key:"fetchPatientSummary",value:function(t,e,n){var i="".concat(this.rootUrl,"/v3/analytics/patient-summary/").concat(t),o=new a.h;return o=(o=o.append("startDate",e)).append("endDate",n),this._http.get(i,{params:o})}},{key:"fetchVitalSnapshot",value:function(t,e,n,i){var o="".concat(this.rootUrl,"/v3/analytics/vital/snapshot/").concat(t,"/").concat(e),r=new a.h;return r=(r=r.append("startDate",n)).append("endDate",i),this._http.get(o,{params:r})}},{key:"generateBusinessReport",value:function(t,e,n,i){return this.fetchBusinessReport(t,e,n,i,"JSON")}},{key:"downloadBusinessReport",value:function(t,e,n,i){return this.fetchBusinessReport(t,e,n,i,"XLSX")}},{key:"fetchBusinessReport",value:function(t,e,n,i,r){var c="".concat(this.rootUrl,"/v3/analytics/business-report"),s=new a.h;return s=(s=s.append("startDate",e)).append("endDate",n),i&&(s=s.append("gender",String(i))),s=(s=s.append("responseType",r)).append("type",t),this._http.get(c,{params:s}).pipe(Object(o.a)())}},{key:"bulkExportReport",value:function(t){return this._http.post("".concat(this.rootUrl,"/v3/analytics/export-bulk-report"),JSON.stringify(t),{responseType:"text"})}},{key:"smsReport",value:function(t){var e="".concat(this.rootUrl,"/v3/analytics/sms-report?offset=").concat(t.offset,"&limit=").concat(t.limit);return null!=t.patientId&&(e+="&patientId=".concat(t.patientId)),null!=t.operationType&&(e+="&operationType=".concat(t.operationType)),null!=t.startTime&&null!=t.endTime&&(e+="&startTime=".concat(t.startTime,"&endTime=").concat(t.endTime)),this._http.get(e)}},{key:"getReport",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EMAIL",n="".concat(this.rootUrl,"/v3/analytics/report/").concat(e,"?offset=").concat(t.offset,"&limit=").concat(t.limit);return null!=t.patientId&&(n+="&patientId=".concat(t.patientId)),null!=t.reportType&&(n+="&reportType=".concat(t.reportType)),null!=t.startTime&&null!=t.endTime&&(n+="&startTime=".concat(t.startTime,"&endTime=").concat(t.endTime)),this._http.get(n)}},{key:"generateAllPatientSummaryReport",value:function(t,e,n){var i="".concat(this.rootUrl,"/v3/analytics/patient-summary-all?startDate=").concat(t,"&endDate=").concat(e);return(null!=n||n.length>0)&&(i+="&staffId=".concat(n)),this._http.get(i).pipe(Object(o.a)())}},{key:"generatePatientByPrimaryDxReport",value:function(t,e,n){return this._http.get("".concat(this.rootUrl,"/v3/analytics/primary-dx/?startDate=").concat(e,"&endDate=").concat(n,"&primaryDx=").concat(t)).pipe(Object(o.a)())}},{key:"generatePatientInventoryReport",value:function(t,e){return this._http.get("".concat(this.rootUrl,"/v3/analytics/primary-inventory-report/?startDate=").concat(t,"&endDate=").concat(e)).pipe(Object(o.a)())}},{key:"generateCombinedClientSignOff",value:function(t){return this._http.get("".concat(this.rootUrl,"/v3/analytics/combined-client-sign-off/?yearMonth=").concat(t))}},{key:"shareBillingReport",value:function(t){return this._http.post("".concat(this.rootUrl,"/v3/analytics/billing-report/send-email"),JSON.stringify(t)).pipe(Object(o.a)())}},{key:"generatePatientCommunicationReport",value:function(t,e,n){return this._http.get("".concat(this.rootUrl,"/v3/analytics/patient-communication/").concat(t,"/").concat(e,"/").concat(n))}},{key:"generatePlanOfCareReport",value:function(t,e){return this._http.get("".concat(this.rootUrl,"/v3/analytics/plan-of-care/").concat(t,"/").concat(e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(a.c))},t.\u0275prov=r.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},m3lz:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("BoNt"),a=n("bp6e"),o=n("UXun"),r=n("fXoL"),c=function(){var t=function(){function t(e,n){u(this,t),this._sitesService=e,this._storeService=n,this.userLocationMap=new Map,this.initializeLocationsMap()}return p(t,[{key:"transform",value:function(){var t,e=this;if("object"==typeof(arguments.length<=0?void 0:arguments[0]))return(null===(t=arguments.length<=0?void 0:arguments[0])||void 0===t?void 0:t.map(function(t){var n=e.userLocationMap.get(null==t?void 0:t.id);if(n&&(null==n?void 0:n.name))return null==n?void 0:n.name}).filter(function(t){return!!t}).join(", "))||"N/A";var n=this.userLocationMap.get(arguments.length<=0?void 0:arguments[0]);return(null==n?void 0:n.name)||"N/A"}},{key:"initializeLocationsMap",value:function(){var t,e=this;this.createLocationsMap(this._storeService.getSites()),(null===(t=this.userLocationMap)||void 0===t?void 0:t.size)||(this.sites$=this._sitesService.getAllSites(0,999,null,!1,localStorage.getItem("loggedInUserAssignedTenants")).pipe(Object(o.a)()),this.sites$.subscribe(function(t){e.createLocationsMap(null==t?void 0:t.result),e._storeService.setAllTenantSites(null==t?void 0:t.result)}))}},{key:"createLocationsMap",value:function(t){var e=this;t&&(null==t||t.forEach(function(t){return e.userLocationMap.set(null==t?void 0:t.id,t)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Rb(i.a),r.Rb(a.a))},t.\u0275pipe=r.Qb({name:"userLocations",type:t,pure:!0}),t}()},mLmo:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("igu/"),a=n("fXoL"),o=function(){var t=function(){function t(e){var n=this;u(this,t),this._dataSharingService=e,this.blueprintNamesMap=new Map,this.$tenantSettinsObserver=this._dataSharingService.tenantSettings.subscribe(function(t){var e;t&&(null===(e=null==t?void 0:t.episodeBlueprints)||void 0===e||e.forEach(function(t){n.blueprintNamesMap.set(null==t?void 0:t.type,null==t?void 0:t.name)}))})}return p(t,[{key:"transform",value:function(t,e,n){var i=this.blueprintNamesMap.get(t)||t;return e&&(i="".concat(e," ").concat(i)),n&&(i="".concat(i," ").concat(n)),i}},{key:"ngOnDestroy",value:function(){this.$tenantSettinsObserver.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Rb(i.a))},t.\u0275pipe=a.Qb({name:"episodeName",type:t,pure:!1}),t}()},mUTz:function(t,e,n){"use strict";n.d(e,"a",function(){return C});var i=n("fXoL"),a=n("+gyu"),o=n("dEAy"),r=n("zAKX"),c=n("3Pt+"),s=n("ofXK"),l=n("glKu"),d=n("nJia"),b=n("C2AL"),h=n("FwiY"),g=n("B+r4"),f=n("OzZK"),v=n("RwU8");function m(t,e){if(1&t&&i.Sb(0,"nz-option",9),2&t){var n=e.$implicit;i.rc("nzValue",n)("nzLabel",null==n?null:n.title)}}function S(t,e){if(1&t&&(i.Vb(0),i.Vc(1,m,1,2,"nz-option",8),i.Ub()),2&t){var n=e.ngIf;i.Db(1),i.rc("ngForOf",null==n?null:n.content)}}function y(t,e){1&t&&(i.Xb(0,"nz-option",10),i.Sb(1,"span",11),i.Xc(2," Loading Templates... "),i.Wb())}function T(t,e){if(1&t){var n=i.Yb();i.Vb(0),i.Xb(1,"div"),i.Xc(2," Do you want to append or replace the existing note? "),i.Wb(),i.Xb(3,"div",12),i.Xb(4,"div",13),i.Xb(5,"button",14),i.ec("click",function(){return i.Lc(n),i.ic().replaceNote()}),i.Xc(6,"Replace"),i.Wb(),i.Wb(),i.Xb(7,"div",13),i.Xb(8,"button",15),i.ec("click",function(){return i.Lc(n),i.ic().appendNote()}),i.Xc(9,"Append"),i.Wb(),i.Wb(),i.Wb(),i.Ub()}}var C=function(){var t=function(){function t(e,n){u(this,t),this._noteTemplatesService=e,this._modalService=n,this.pageNumber=0,this.limit=10,this.onTemplateSelected=new i.n,this.isModalVisible=!1,this.getNoteTemplates()}return p(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(t){t.note&&t.note.currentValue&&(this.note=t.note.currentValue)}},{key:"getNoteTemplates",value:function(){this.noteTemplates$=this._noteTemplatesService.fetchNoteTemplates(this.pageNumber,this.limit,this.searchKey,this.tenantId)}},{key:"setTemplate",value:function(t){var e,n;null!=this.note&&0!=(null===(n=null===(e=this.note)||void 0===e?void 0:e.trim())||void 0===n?void 0:n.length)?(this.noteTemplate=t,this.isModalVisible=!0):this.onTemplateSelected.emit(null==t?void 0:t.template)}},{key:"replaceNote",value:function(){var t;this.onTemplateSelected.emit(null===(t=this.noteTemplate)||void 0===t?void 0:t.template),this.closeModal()}},{key:"appendNote",value:function(){var t;this.onTemplateSelected.emit("".concat(this.note," ").concat(null===(t=this.noteTemplate)||void 0===t?void 0:t.template)),this.closeModal()}},{key:"closeModal",value:function(){this.isModalVisible=!1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Rb(a.a),i.Rb(o.f))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-note-template-picker"]],inputs:{note:"note",tenantId:"tenantId",pageNumber:"pageNumber",limit:"limit",searchKey:"searchKey"},outputs:{onTemplateSelected:"onTemplateSelected"},features:[i.Bb],decls:10,vars:6,consts:[[1,"heading-info-icon"],["ngModel","","nzPlaceHolder","Select a template",3,"ngModelChange"],[4,"ngIf","ngIfElse"],["loading",""],[1,"info-icon"],["name","infoCircle","nzTooltipTitle","These templates are available for everyone to use. If you can't find the template you need, contact your admin.","nzTooltipPlacement","rightBottom","nz-tooltip","",1,"infoCirle"],["nzTitle","Note Template",3,"nzVisible","nzFooter","nzVisibleChange","nzOnCancel"],[4,"nzModalContent"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["nzDisabled","","nzCustomContent",""],["nz-icon","","nzType","loading",1,"loading-icon"],["nz-row","","nzJustify","end","nzGutter","16",1,"footer-btn-div"],["nz-col",""],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){if(1&t&&(i.Xb(0,"div",0),i.Xb(1,"nz-select",1),i.ec("ngModelChange",function(t){return e.setTemplate(t)}),i.Vc(2,S,2,1,"ng-container",2),i.jc(3,"async"),i.Vc(4,y,3,0,"ng-template",null,3,i.Wc),i.Wb(),i.Xb(6,"div",4),i.Sb(7,"app-icons",5),i.Wb(),i.Wb(),i.Xb(8,"nz-modal",6),i.ec("nzVisibleChange",function(t){return e.isModalVisible=t})("nzOnCancel",function(){return e.closeModal()}),i.Vc(9,T,10,0,"ng-container",7),i.Wb()),2&t){var n=i.Ic(5);i.Db(2),i.rc("ngIf",i.kc(3,4,e.noteTemplates$))("ngIfElse",n),i.Db(6),i.rc("nzVisible",e.isModalVisible)("nzFooter",null)}},directives:[r.d,c.u,c.x,s.q,l.a,d.d,o.a,o.b,s.p,r.a,b.a,h.a,g.c,g.a,f.a,v.a],pipes:[s.b],styles:[".heading-info-icon[_ngcontent-%COMP%]{display:flex}.info-icon[_ngcontent-%COMP%]{margin-left:10px;margin-top:5px}.footer-btn-div[_ngcontent-%COMP%]{padding-top:32px}"]}),t}()},mfqL:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("fXoL"),o=n("tk/3"),r=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=i.g.url}return p(t,[{key:"getTags",value:function(t,e,n,i){localStorage.getItem("loggedInTenant");var a=this.rootUrl+"/v2/tenants/tags?appliesTo="+t+"&limit="+e+"&offset="+n;return i&&(a=a+"&requestTenantIds="+i),this._http.get(a,{observe:"response"})}},{key:"getTagsByLimit",value:function(t,e){return this._http.get(this.rootUrl+"/v2/tenants/tags?limit="+t+"&offset="+e,{observe:"response"})}},{key:"getALLTags",value:function(t){return this._http.get(this.rootUrl+"/v2/tenants/alltags/"+t)}},{key:"getAllTags",value:function(){return this._http.get(this.rootUrl+"/v2/tenants/tags")}},{key:"getTagById",value:function(t){var e=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/tenants/"+e+"/tags/"+t)}},{key:"create",value:function(t){return this._http.post(this.rootUrl+"/v2/tenants/"+t.tenantId+"/tags/",t)}},{key:"update",value:function(t){return localStorage.getItem("loggedInTenant"),this._http.put(this.rootUrl+"/v2/tenants/"+t.tenantId+"/tags/",t)}},{key:"deleteTagById",value:function(t){var e=localStorage.getItem("loggedInTenant");return this._http.delete(this.rootUrl+"/v2/tenants/"+e+"/tags/"+t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac}),t}()},nJQN:function(t,e,n){"use strict";n.d(e,"a",function(){return y});var i=n("fXoL"),a=n("FYUs"),o=n("zAKX"),r=n("3Pt+"),c=n("ofXK"),s=n("glKu"),l=n("Laz3"),d=n("dRHE");function b(t,e){if(1&t&&(i.Xb(0,"nz-option",3),i.Xb(1,"span",4),i.Sb(2,"app-icons",5),i.jc(3,"alertPriorityColor"),i.Wb(),i.Xb(4,"span"),i.jc(5,"alertPriorityColor"),i.Xc(6),i.jc(7,"translate"),i.jc(8,"alertPriorityColor"),i.Wb(),i.Wb()),2&t){var n=e.$implicit,a=i.ic(),o=null,r=null;i.rc("nzValue",n)("nzHide",null==a.priorityDetails||null==(o=a.priorityDetails.get(n))?null:o.disabled),i.Db(2),i.sc("color",i.kc(3,8,n)),i.rc("name",null==a.priorityDetails||null==(r=a.priorityDetails.get(n))?null:r.icon),i.Db(2),i.Sc("color",i.lc(5,10,n,"TEXT_COLOR")),i.Db(2),i.Zc(" ",i.kc(7,13,i.lc(8,15,n,"TEXT"))," ")}}function h(t,e){if(1&t&&(i.Sb(0,"app-icons",10),i.jc(1,"alertPriorityColor")),2&t){var n=i.ic(2);i.sc("color",i.kc(1,1,n.priority))}}function g(t,e){if(1&t&&(i.Sb(0,"app-icons",11),i.jc(1,"alertPriorityColor")),2&t){var n=i.ic(2);i.sc("color",i.kc(1,1,n.priority))}}function f(t,e){if(1&t&&(i.Sb(0,"app-icons",12),i.jc(1,"alertPriorityColor")),2&t){var n=i.ic(2);i.sc("color",i.kc(1,1,n.priority))}}function v(t,e){if(1&t&&(i.Sb(0,"app-icons",13),i.jc(1,"alertPriorityColor")),2&t){var n=i.ic(2);i.sc("color",i.kc(1,1,n.priority))}}function m(t,e){if(1&t&&(i.Xb(0,"span",4),i.Vc(1,h,2,3,"app-icons",6),i.Vc(2,g,2,3,"app-icons",7),i.Vc(3,f,2,3,"app-icons",8),i.Vc(4,v,2,3,"app-icons",9),i.Wb(),i.Xb(5,"span"),i.jc(6,"alertPriorityColor"),i.Xc(7),i.jc(8,"translate"),i.jc(9,"alertPriorityColor"),i.Wb()),2&t){var n=i.ic();i.Db(1),i.rc("ngIf","VERY_HIGH"==n.priority),i.Db(1),i.rc("ngIf","HIGH"==n.priority),i.Db(1),i.rc("ngIf","LOW"==n.priority),i.Db(1),i.rc("ngIf","VERY_LOW"==n.priority),i.Db(1),i.Sc("color",i.lc(6,8,n.priority,"TEXT_COLOR")),i.Db(2),i.Zc(" ",i.kc(8,11,i.lc(9,13,n.priority,"TEXT"))," ")}}var S=function(){return{height:"auto"}},y=function(){var t=function(){function t(e){u(this,t),this.cd=e,this.priority="MEDIUM",this.disabled=!1,this.disabledPriorities=new Array,this.onPriorityChange=new i.n,this.priorities=Object.keys(a.a),this.priorityDetails=new Map([["VERY_HIGH",{icon:"highest",text:"PRIORITY.NEED_IMMEDIATE_ATTENTION",disabled:!1}],["HIGH",{icon:"high",text:"PRIORITY.IMPORTANT",disabled:!1}],["LOW",{icon:"low",text:"PRIORITY.NEED_IMMEDIATE_ATTENTION",disabled:!1}],["VERY_LOW",{icon:"lowest",text:"PRIORITY.INFORMATIONAL_ALERT",disabled:!1}]])}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.priorities.splice(2,1),this.disabledPriorities.forEach(function(e){t.priorityDetails.has(e)&&(t.priorityDetails.get(e).disabled=!0)})}},{key:"onAlertPriorityChange",value:function(t){this.priority=t,this.onPriorityChange.emit(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Rb(i.h))},t.\u0275cmp=i.Lb({type:t,selectors:[["app-alert-priority-dropdown"]],inputs:{priority:"priority",disabled:"disabled",disabledPriorities:"disabledPriorities"},outputs:{onPriorityChange:"onPriorityChange"},decls:4,vars:6,consts:[["nzPlaceHolder","Select Priority",3,"ngModel","nzCustomTemplate","nzDropdownStyle","nzDisabled","ngModelChange"],["nzCustomContent","",3,"nzValue","nzHide",4,"ngFor","ngForOf"],["defaultTemplate",""],["nzCustomContent","",3,"nzValue","nzHide"],[2,"vertical-align","middle"],["size","16px",3,"name","color"],["size","16px","name","highest",3,"color",4,"ngIf"],["size","16px","name","high",3,"color",4,"ngIf"],["size","16px","name","low",3,"color",4,"ngIf"],["size","16px","name","lowest",3,"color",4,"ngIf"],["size","16px","name","highest",3,"color"],["size","16px","name","high",3,"color"],["size","16px","name","low",3,"color"],["size","16px","name","lowest",3,"color"]],template:function(t,e){if(1&t&&(i.Xb(0,"nz-select",0),i.ec("ngModelChange",function(t){return e.priority=t})("ngModelChange",function(t){return e.onAlertPriorityChange(t)}),i.Vc(1,b,9,18,"nz-option",1),i.Wb(),i.Vc(2,m,10,16,"ng-template",null,2,i.Wc)),2&t){var n=i.Ic(3);i.rc("ngModel",e.priority)("nzCustomTemplate",n)("nzDropdownStyle",i.xc(5,S))("nzDisabled",e.disabled),i.Db(1),i.rc("ngForOf",e.priorities)}},directives:[o.d,r.u,r.x,c.p,o.a,s.a,c.q],pipes:[l.a,d.a],styles:["[_nghost-%COMP%]     .ant-select-item{padding-top:0!important}[_nghost-%COMP%]     .ant-badge-status-dot{width:12px!important;height:12px!important}[_nghost-%COMP%]     .ant-select-item-option-active{border-left:3px solid var(--primary-color)}.cdk-virtual-scroll-orientation-vertical[_ngcontent-%COMP%]{height:auto!important}[_nghost-%COMP%]     .ant-select-disabled.ant-select:not(.ant-select-customize-input) .ant-select-selector{border:1px solid #00000014}"],changeDetection:0}),t}()},nLCl:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.PATIENT="PATIENT",t.TENANT_ADMIN="TENANT_ADMIN",t.LOCATION_ADMIN="LOCATION_ADMIN",t.MONITORING_STAFF="MONITORING_STAFF",t.PHYSICIAN="PHYSICIAN",t.CUSTOM="CUSTOM",t.ENROLMENT_STAFF="ENROLMENT_STAFF",t.MANAGER_STAFF="MANAGER_STAFF",t}({})},ncKW:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i,a=function(t){return t.FIRST_NURSE_CALL="First Nurse Call",t.MONTHLY_NURSE_CALL="Monthly Nurse Call",t.PATIENT_FOLLOW_UP="Patient Follow Up",t.POST_TOC_FOLLOW_UP="Post TOC Follow Up",t.FIRST_TOC_CALL="First TOC Call",t.SECOND_TOC_CALL="Second TOC Call",t.THIRD_TOC_CALL="Third TOC Call",t.ANNUAL_PHYSICAL="Annual Physical",t.CHECK_UP="Check Up",t}({}),o=n("fXoL"),r=((i=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t){return a[t]}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275pipe=o.Qb({name:"purposeLabel",type:i,pure:!0}),i)},o3v3:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("MXg9"),a=n("fXoL"),o=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"getApplicablePatientStatuses",value:function(t){var e;switch(t){case i.a.ALL:e=null;break;case i.a.ACTIVE:case i.a.REGISTERED:case i.a.NOT_ONBOARDED:case i.a.SUSPENDED:case i.a.FLAGGED_FOR_DISQUALIFICATION:case i.a.DISCHARGED:e=[t];break;default:e=null}return e}},{key:"getSelectedPatientStatus",value:function(t){return"object"==typeof t?(null==t?void 0:t.length)>1?i.a.ALL:t[0]:t}},{key:"filterInvalidParamsForPatientStatus",value:function(t,e){return!t||"RPM"!==e&&"GENERAL"!==e||("object"==typeof t?0==(t=t.filter(function(t){return t===i.a.ACTIVE||t===i.a.REGISTERED})).length&&(t=null):t!==i.a.ACTIVE&&t!==i.a.REGISTERED&&(t=null)),t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},oYoK:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i,a=n("7Xlp"),r=function(){var t=function t(){u(this,t)};return t.SOURCE="source",t.SEARCH_KEY="search_key",t.ACTION_NAME="action_name",t.DEVICE_ID="device_id",t.PATIENT_ID="patient_id",t.DEVICE_ACTION="DEVICE_ACTION",t.DEVICE_SEARCH="DEVICE_SEARCH",t}(),s=n("fXoL"),l=((i=function(t){o(n,t);var e=c(n);function n(){var t;return u(this,n),(t=e.call(this)).SOURCE="devices",t}return p(n,[{key:"devicesActionEvent",value:function(t,e,n){var i=this.getCommonProperties();i[r.SOURCE]=this.SOURCE,i[r.ACTION_NAME]=n,i[r.DEVICE_ID]=e,i[r.PATIENT_ID]=t,this.logEvent(r.DEVICE_ACTION,i)}},{key:"devicesSearchEvent",value:function(t){var e=this.getCommonProperties();e[r.SEARCH_KEY]=t,e[r.SOURCE]=this.SOURCE,this.logEvent(r.DEVICE_SEARCH,e)}}]),n}(a.a)).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Nb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},osXl:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t){var e="";switch(t){case"ALL":e="All";break;case"ACTIVE":e="Active";break;case"REGISTERED":e="Registered";break;case"NOT_ONBOARDED":e="Not Onboarded";break;case"SUSPENDED":e="Suspended";break;case"FLAGGED_FOR_DISQUALIFICATION":e="Flagged For Disqualification";break;case"DISCHARGED":e="Discharged";break;default:e=""}return e}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"patientStatusName",type:t,pure:!0}),t}()},pSeI:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n("XFrI"),a=n("igu/"),o=n("fXoL"),r=n("ofXK"),c=n("dRHE");function s(t,e){if(1&t&&(o.Xb(0,"span",3),o.Xc(1),o.jc(2,"translate"),o.Wb()),2&t){var n=o.ic(2);o.Db(1),o.ad("",n.prefix," ",o.kc(2,2,n.displayName),"")}}function l(t,e){if(1&t&&(o.Xb(0,"span",3),o.Xc(1),o.jc(2,"translate"),o.Wb()),2&t){var n=o.ic(2);o.Db(1),o.Yc(o.kc(2,1,n.displayName))}}function d(t,e){if(1&t&&(o.Vb(0),o.Vc(1,s,3,4,"span",2),o.Vc(2,l,3,3,"span",2),o.Ub()),2&t){var n=o.ic();o.Db(1),o.rc("ngIf",null==n.prefix?null:n.prefix.length),o.Db(1),o.rc("ngIf",!(null!=n.prefix&&n.prefix.length))}}function b(t,e){if(1&t&&(o.Xb(0,"span",3),o.Xc(1),o.Wb()),2&t){var n=o.ic(2);o.Db(1),o.ad("",n.prefix," ",n.default,"")}}function h(t,e){if(1&t&&(o.Xb(0,"span",3),o.Xc(1),o.Wb()),2&t){var n=o.ic(2);o.Db(1),o.Yc(n.default)}}function g(t,e){if(1&t&&(o.Vc(0,b,2,2,"span",2),o.Vc(1,h,2,1,"span",2)),2&t){var n=o.ic();o.rc("ngIf",null==n.prefix?null:n.prefix.length),o.Db(1),o.rc("ngIf",!(null!=n.prefix&&n.prefix.length))}}var f=function(){var t=function(){function t(e){u(this,t),this._dataSharingService=e,this.prefix="",this.featureNomenclatures=new i.a}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._dataSharingService.featureNomenclatures.subscribe(function(e){t.featureNomenclatures=e;var n=t.nomenclature,i=t.subProperty;t.featureNomenclatures&&t.subProperty&&t.featureNomenclatures[t.nomenclature]&&t.featureNomenclatures[t.nomenclature][i]?t.displayName=t.featureNomenclatures[t.nomenclature][i]:t.featureNomenclatures&&t.featureNomenclatures[n]&&(t.displayName=t.featureNomenclatures[n].name)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Rb(a.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-nomenclature"]],inputs:{nomenclature:"nomenclature",default:"default",subProperty:"subProperty",prefix:"prefix"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["defaultString",""],["id","header-title",4,"ngIf"],["id","header-title"]],template:function(t,e){if(1&t&&(o.Vc(0,d,3,2,"ng-container",0),o.Vc(1,g,2,2,"ng-template",null,1,o.Wc)),2&t){var n=o.Ic(2);o.rc("ngIf",e.displayName)("ngIfElse",n)}},directives:[r.q],pipes:[c.a],styles:[""]}),t}()},pe0G:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("fXoL"),o=n("tk/3"),r=function(){var t=function(){function t(e){u(this,t),this.http=e}return p(t,[{key:"insertDraft",value:function(t){return this.http.post(Object(i.d)(),t)}},{key:"markAsDraft",value:function(t,e){return this.http.put(Object(i.s)(e),null,{headers:{id:t}})}},{key:"getFormsWithBody",value:function(t,e,n,a){return this.http.post(Object(i.m)(e,n,a),t)}},{key:"getForms",value:function(t,e,n){return this.http.post(Object(i.m)(t,e,n),{})}},{key:"getEvalForms",value:function(t,e){return this.http.get(Object(i.k)(t,e))}},{key:"getSingleForm",value:function(t){return this.http.get(Object(i.r)(),{headers:{id:t}})}},{key:"getSingleEvalForm",value:function(t){return this.http.get(Object(i.p)(),{headers:{id:t}})}},{key:"getDirectEvalFormDetails",value:function(t){return this.http.get(Object(i.n)(),{headers:{id:t}})}},{key:"updateFormCriterias",value:function(t,e){return this.http.put(Object(i.v)(),t,{headers:{id:e}})}},{key:"getPatientEvalForms",value:function(t,e,n){return this.http.get(Object(i.l)(e,n),{headers:{id:t}})}},{key:"getPatientDirectForms",value:function(t,e,n){return this.http.get(Object(i.j)(e,n),{headers:{id:t}})}},{key:"insertForm",value:function(t){return this.http.post(Object(i.e)(),t)}},{key:"getDrafts",value:function(t,e,n){return this.http.post(Object(i.o)(t,e,n),{})}},{key:"getSingleEvalFormByActionItemId",value:function(t){return this.http.get(Object(i.q)(),{headers:{id:t}})}},{key:"updateForm",value:function(t,e){return this.http.put(Object(i.u)(e),t)}},{key:"saveDraft",value:function(t,e){return this.http.put(Object(i.t)(e),t)}},{key:"removeForm",value:function(t){return this.http.delete(Object(i.f)(),{headers:{formId:t}})}},{key:"cloneForm",value:function(t){return this.http.post(Object(i.c)(),{formId:t})}},{key:"checkIfFormAlreadyAssigned",value:function(t){return this.http.get(Object(i.b)(t))}},{key:"fetchFormActionItemsForPatient",value:function(t){return this.http.get(Object(i.h)(t))}},{key:"fetchLastEvaluatedForms",value:function(t){return this.http.get(Object(i.i)(t))}},{key:"assignOnDemandForm",value:function(t,e,n){var a=Object(i.a)(t,e);return n&&(a="".concat(a,"?ownerId=").concat(n)),this.http.get(a)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"q+jA":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i,a=n("7Xlp"),r=function(){var t=function t(){u(this,t)};return t.SOURCE="source",t.SEARCH_KEY="search_key",t.FORM_ID="form_id",t.PARAMETER="parameter",t.FORM_NAME="form_name",t.ACTION_NAME="action_name",t.STATE="state",t.PATIENT_ID="patient_id",t.FORM_SEARCH="FORM_SEARCH",t.FORM_ACTION="FORM_ACTION",t.FORM_EVALUATED_VIEW="FORM_EVALUATED_VIEW",t}(),s=n("fXoL"),l=((i=function(t){o(n,t);var e=c(n);function n(){return u(this,n),e.call(this)}return p(n,[{key:"formsSearchEvent",value:function(t,e){var n=this.getCommonProperties();n[r.SEARCH_KEY]=t,n[r.SOURCE]="forms",n[r.STATE]=e,this.logEvent(r.FORM_SEARCH,n)}},{key:"formsActionEvent",value:function(t,e,n,i){var a=this.getCommonProperties();a[r.SOURCE]="forms",a[r.STATE]=n,a[r.FORM_ID]=t,a[r.ACTION_NAME]=i,a[r.FORM_NAME]=e,this.logEvent(r.FORM_ACTION,a)}},{key:"evaluatedFormViewEvent",value:function(t,e,n){var i=this.getCommonProperties();i[r.SOURCE]="forms",i[r.FORM_ID]=t,i[r.PATIENT_ID]=e,i[r.FORM_NAME]=n,this.logEvent(r.FORM_EVALUATED_VIEW,i)}}]),n}(a.a)).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Nb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},q5r7:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("AytR"),a=n("fXoL"),o=n("tk/3"),r=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=i.g.url,this.letterNode="".concat(this.rootUrl,"/v3/direct-mail/templates/letter/default")}return p(t,[{key:"create",value:function(t){return this._http.post("".concat(this.letterNode,"/new"),t)}},{key:"bulkUpload",value:function(t){return this._http.post("".concat(this.letterNode,"/bulk-new"),t)}},{key:"update",value:function(t){return this._http.put("".concat(this.letterNode,"/update"),t)}},{key:"delete",value:function(t){return this._http.delete("".concat(this.letterNode,"/").concat(t))}},{key:"fetchDefaultLetterTemplates",value:function(){return this._http.get("".concat(this.letterNode,"/list"))}},{key:"fetchDefaultLetterTemplateById",value:function(t){return this._http.get("".concat(this.letterNode,"/").concat(t))}},{key:"fetchAnnouncementLetterTemplate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"announcement";return this._http.get("".concat(this.rootUrl,"/v3/direct-mail/templates/letter/list?searchKey=").concat(e,"&language=").concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.bc(o.c))},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},qQcL:function(t,e,n){"use strict";n.d(e,"a",function(){return b});var i=n("SP7D"),a=n("ds6q"),o=n("tyNb"),r=n("ubvD"),c=n("7Xlp"),s=n("BcC3"),l=n("4RGM"),d=n("fXoL"),b=function(){var t=function(){function t(){var e=this;u(this,t),this.headerLeft="0";var n=r.a.getInjector();this.activatedRoute=n.get(o.a),this._applicationInsightsService=n.get(c.a),this._routeHelperService=n.get(i.a),this.unsubscribed=new a.Subject,this._applicationInsightsService.pageViewEvent(this.constructor.name,this.activatedRoute.snapshot._routerState.url),this.sidebarSub$=this._routeHelperService.isSidebarCollapsed().subscribe(function(t){e.sidebarCollapsed=t,e.resizeHeader()}),this.boundary=localStorage.getItem("loggedInUserBoundary");var d=localStorage.getItem("loggedInUserAssignedTenants");this.isAccessAcrossSubTenants=this.boundary==s.a.ACROSS_SUB_TENANTS,d&&this.isAccessAcrossSubTenants&&(this.selectedAssignedSubTenant=d.split(",")[0]),this.isAccessAcrossSubTenants||localStorage.setItem(l.a.REQUEST_TENANT_IDS,localStorage.getItem("loggedInTenant"))}return p(t,[{key:"resizeHeader",value:function(){this.headerLeft=this.sidebarCollapsed?"0":"150px"}},{key:"ngOnDestroy",value:function(){this._applicationInsightsService.pageDestroyEvent(this.constructor.name,this.activatedRoute.snapshot._routerState.url),this.unsubscribed.next(),this.unsubscribed.complete(),this.sidebarSub$.unsubscribe(),this.isAccessAcrossSubTenants&&localStorage.getItem(l.a.REQUEST_TENANT_TEMP_IDS)&&localStorage.removeItem(l.a.REQUEST_TENANT_TEMP_IDS)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Lb({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t}()},rbUg:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var i=n("bKRa"),a=n("tyNb"),o=n("UFn0"),r=n("5+WD"),c=n("ofXK"),s=n("3Pt+"),l=n("Dwgb"),d=n("7pIB"),p=n("SHZf"),b=n("KZX/"),h=n("icpI"),g=n("WoUL"),f=n("mUB+"),v=n("fXoL"),m=function(){var t=function t(e){u(this,t),this.translationService=e,e.setLanguage()};return t.\u0275mod=v.Pb({type:t}),t.\u0275inj=v.Ob({factory:function(e){return new(e||t)(v.bc(g.a))},providers:[l.a],imports:[[o.a,h.b,b.a,c.c,s.o,s.B,d.a,r.c,f.b,p.a.forRoot(),a.k,i.a]]}),t}()},rmZX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"formatHtml",value:function(t){return t.toLowerCase().startsWith("<html>")?t:"".concat("<html><head>".concat(t).replace("<div","</head><body><div"),"</body</html>")}},{key:"beautifyDynamicValues",value:function(t,e,n){var i=new RegExp("{{PracticeColor}}","g"),a=new RegExp("{{PracticeLogoLink}}","g");return null==n&&(n="#a7c853"),null==t?void 0:t.replace(i,n).replace(a,e)}},{key:"revertBackToRaw",value:function(t,e,n){null==n&&(n="#a7c853");var i=new RegExp(n,"g"),a=new RegExp(e,"g");return null==t?void 0:t.replace(i,"{{PracticeColor}}").replace(a,"{{PracticeLogoLink}}")}},{key:"validateMergeVariables",value:function(t,e){var n=t.match(/{{(\w*)}}/g);if(null==n)return[];var i=n.map(function(t){return t.replace(/[{}]/g,"")});console.log(i);var a=i.filter(function(t){return!e.includes(t)});return console.log(a),a}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},rqHP:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("CLv8"),a=function t(){u(this,t),this.secondaryInsured=!1,this.primaryInsuranceDetails=new i.a,this.secondaryInsuranceDetails=new i.a,this.tertiaryInsuranceDetails=new i.a}},"s/pX":function(t,e,i){"use strict";i.d(e,"a",function(){return F});var a=i("fXoL"),o=i("cp0P"),r=i("nLCl"),c=i("IZEq"),s=i("x6g7"),l=i("i7mu"),d=i("FYUs"),b=i("FrsH"),h=i("qAZ0"),g=i("ofXK"),f=i("B+r4"),v=i("eHCX"),m=i("Ff2k"),S=i("JA5x"),y=i("ZyQt"),T=i("nJia"),C=i("OzZK"),E=i("RwU8"),I=i("C2AL"),M=i("FwiY"),A=i("Laz3"),_=i("dRHE");function D(t,e){1&t&&(a.Xb(0,"nz-tag",14),a.Xc(1," Custom Alert "),a.Wb())}function z(t,e){1&t&&(a.Xb(0,"nz-tag",15),a.Xc(1," Disabled "),a.Wb())}function O(t,e){if(1&t&&(a.Vb(0),a.Xb(1,"div",16),a.Xb(2,"span",17),a.Xc(3),a.Wb(),a.Wb(),a.Ub()),2&t){var n=a.ic();a.Db(3),a.Zc(" ",n.rule.text," ")}}function k(t,e){if(1&t&&(a.Vb(0),a.Xb(1,"div",18),a.Xb(2,"div",19),a.Xb(3,"div",20),a.Xb(4,"span",21),a.Xc(5),a.jc(6,"translate"),a.Wb(),a.Wb(),a.Xb(7,"div",20),a.Xb(8,"span",22),a.Xc(9),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Xb(10,"div",23),a.Xb(11,"div",19),a.Xb(12,"div",20),a.Sb(13,"span",21),a.Wb(),a.Xb(14,"div",20),a.Xb(15,"span",17),a.Xc(16),a.Wb(),a.Wb(),a.Wb(),a.Wb(),a.Ub()),2&t){var n=a.ic();a.Db(5),a.Zc(" ",a.kc(6,4,"ALERT.RULE_NAME")," "),a.Db(3),a.rc("nzTooltipTitle",null==n.rule?null:n.rule.name),a.Db(1),a.Zc(" ",null==n.rule?null:n.rule.name," "),a.Db(7),a.Zc(" ",n.updatedString," ")}}function N(t,e){if(1&t){var n=a.Yb();a.Xb(0,"button",24),a.ec("click",function(){return a.Lc(n),a.ic().editRule()}),a.Xb(1,"span",25),a.Xc(2),a.jc(3,"translate"),a.Wb(),a.Xb(4,"span",26),a.Sb(5,"i",27),a.Wb(),a.Wb()}2&t&&(a.Db(2),a.Zc(" ",a.kc(3,1,"COMMON.EDIT")," "))}var P,R=((P=function(){function t(e){u(this,t),this._alertModalService=e,this.refreshRule=new a.n,this.text="When a patient\u2019s {PARAM_SIGN} is {CONDITION} the prescribed limit for {OCCURENCE} consecutive readings within {WITH_IN_DAYS} days."}return p(t,[{key:"ngOnInit",value:function(){this.rule.summaryType!=l.e.GENERAL&&(this.vitalSign=this.rule.criteria[0].paramType,this.condition=this.rule.criteria[0].condition,this.occurrence=this.rule.criteria[0].frequency.occurrence,this.withInDays=this.rule.criteria[0].frequency.withInDays,this.updatedString=this.text.replace("{PARAM_SIGN}",this.vitalSign).replace("{CONDITION}",this.condition).replace("{OCCURENCE}",this.occurrence.toString()).replace("{WITH_IN_DAYS}",this.withInDays.toString()))}},{key:"editRule",value:function(){var t=this;this._alertModalService.showAlertRuleCreateModal(this.rule.level,this.rule.patientId,"EDIT",this.rule).afterClose.subscribe(function(e){e&&t.refreshRule.emit()})}}]),t}()).\u0275fac=function(t){return new(t||P)(a.Rb(c.a))},P.\u0275cmp=a.Lb({type:P,selectors:[["alert-summary-card"]],inputs:{rule:"rule"},outputs:{refreshRule:"refreshRule"},decls:25,vars:33,consts:[[3,"nzHoverable"],[1,"alert-card-priority-tag"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","4",1,"priority-container"],[1,"priority-tag",3,"nzColor"],["class","custom-alert-tag","nzColor","#8bc34a33",4,"ngIf"],["class","custom-alert-tag","nzColor","default",4,"ngIf"],["nz-col","","nzSpan","8"],["nz-col","","nzSpan","4",1,"date-container"],[1,"alert-date"],["nz-row","",1,"main-detail-container",3,"nzGutter"],[4,"ngIf"],["nz-col","","nzSpan","4",1,"view-btn-container"],["nz-button","","class","view-btn","nzType","primary",3,"click",4,"ngIf"],["nzColor","#8bc34a33",1,"custom-alert-tag"],["nzColor","default",1,"custom-alert-tag"],["nz-col","","nzSpan","20"],[1,"alert-message",2,"padding-left","8px"],["nz-col","","nzSpan","4"],[1,"detail-container"],["nz-row",""],[1,"detail-title"],["nz-tooltip","",1,"detail-value",3,"nzTooltipTitle"],["nz-col","","nzSpan","16"],["nz-button","","nzType","primary",1,"view-btn",3,"click"],[1,"btn-text"],[1,"view-btn-icon"],["nz-icon","","nzType","right-circle","nzTheme","fill"]],template:function(t,e){1&t&&(a.Xb(0,"nz-card",0),a.Sb(1,"span",1),a.jc(2,"alertPriorityColor"),a.Xb(3,"div",2),a.Xb(4,"div",3),a.Xb(5,"nz-tag",4),a.jc(6,"alertPriorityColor"),a.jc(7,"alertPriorityColor"),a.Xc(8),a.jc(9,"translate"),a.jc(10,"alertPriorityColor"),a.Wb(),a.Wb(),a.Xb(11,"div",3),a.Vc(12,D,2,0,"nz-tag",5),a.Wb(),a.Xb(13,"div",3),a.Vc(14,z,2,0,"nz-tag",6),a.Wb(),a.Sb(15,"div",7),a.Xb(16,"div",8),a.Xb(17,"span",9),a.Xc(18),a.jc(19,"date"),a.Wb(),a.Wb(),a.Wb(),a.Xb(20,"div",10),a.Vc(21,O,4,1,"ng-container",11),a.Vc(22,k,17,6,"ng-container",11),a.Xb(23,"div",12),a.Vc(24,N,6,3,"button",13),a.Wb(),a.Wb(),a.Wb()),2&t&&(a.rc("nzHoverable",!0),a.Db(1),a.Sc("background",a.kc(2,17,null==e.rule?null:e.rule.priority)),a.Db(2),a.rc("nzGutter",64),a.Db(2),a.Sc("color",a.lc(6,19,null==e.rule?null:e.rule.priority,"TEXT_COLOR")),a.sc("nzColor",a.lc(7,22,null==e.rule?null:e.rule.priority,"TAG_BG")),a.Db(3),a.Zc(" ",a.kc(9,25,a.lc(10,27,null==e.rule?null:e.rule.priority,"TEXT"))," "),a.Db(4),a.rc("ngIf","GENERAL"!=e.rule.summaryType),a.Db(2),a.rc("ngIf",!e.rule.active),a.Db(4),a.Zc(" ",a.lc(19,30,null==e.rule?null:e.rule.updatedOn,"medium")," "),a.Db(2),a.rc("nzGutter",64),a.Db(1),a.rc("ngIf","GENERAL"==e.rule.summaryType),a.Db(1),a.rc("ngIf","GENERAL"!=e.rule.summaryType),a.Db(2),a.rc("ngIf","GENERAL"!=e.rule.summaryType))},directives:[S.a,f.c,f.a,y.a,g.q,T.d,C.a,E.a,I.a,M.a],pipes:[A.a,_.a,g.e],styles:[".priority-container[_ngcontent-%COMP%]{text-align:left;padding-left:40px!important}.date-container[_ngcontent-%COMP%]{text-align:center}.priority-indicator[_ngcontent-%COMP%]{width:5px;height:43px;background:#ff5151 0 0 no-repeat padding-box;border-radius:3px;opacity:1;position:absolute;padding:0}.priority-tag[_ngcontent-%COMP%]{color:#814646}.custom-alert-tag[_ngcontent-%COMP%]{color:var(--tertiary-color)}.detail-container[_ngcontent-%COMP%]{margin-left:12px}nz-card[_ngcontent-%COMP%]{border-radius:0;border-radius:10px 10px 10px 10px;width:100%}.view-btn[_ngcontent-%COMP%]{opacity:1}.view-btn-icon[_ngcontent-%COMP%]{opacity:1;margin-left:6px}.btn-text[_ngcontent-%COMP%]{opacity:1}.detail-title[_ngcontent-%COMP%]{height:19px;font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px;color:#888;display:inline-block;vertical-align:top;line-height:normal}.detail-title[_ngcontent-%COMP%], .detail-value[_ngcontent-%COMP%]{text-align:left;opacity:1;cursor:default}.detail-value[_ngcontent-%COMP%]{height:24px;font:normal normal 700 14px/23px Nunito;letter-spacing:-.36px;color:var(--light-black);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.main-detail-container[_ngcontent-%COMP%]{margin-top:14px}.alert-date[_ngcontent-%COMP%]{width:165px;text-align:left;font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px;color:#888;opacity:1;cursor:default}.view-btn-container[_ngcontent-%COMP%]{text-align:center}.alert-message[_ngcontent-%COMP%]{opacity:1}.alert-message[_ngcontent-%COMP%], .alert-value[_ngcontent-%COMP%]{text-align:left;letter-spacing:-.36px;cursor:default}.alert-value[_ngcontent-%COMP%]{color:#eb5858}.alert-type[_ngcontent-%COMP%]{text-align:left;letter-spacing:-.36px;color:var(--light-black);cursor:default}.alert-value-divider[_ngcontent-%COMP%]{height:20px;width:2px;background:var(--light-black);border-radius:10px}[_nghost-%COMP%]     .ant-card-hoverable:hover{box-shadow:3px 5px 5px #00000036;background:#f1f1f1 0 0 no-repeat padding-box}.alert-card-priority-tag[_ngcontent-%COMP%]{position:absolute;height:100%;width:8px;left:0;top:0;border-radius:10px 0 0 10px}[_nghost-%COMP%]     .ant-card-body{padding:15px}[_nghost-%COMP%]     .ant-btn-primary{color:#c6c6c6;background:#efefef;text-shadow:none;border:.5px solid transparent}[_nghost-%COMP%]     .ant-btn-primary:focus{color:#c6c6c6!important;background-color:#efefef!important;border:.5px solid transparent!important}"]}),P),X=i("QlLE");function L(t,e){if(1&t&&(a.Xb(0,"h3",7),a.Xc(1),a.Wb()),2&t){var n=a.ic();a.Db(1),a.Zc(" Active alerts for ",n.loggedInTenantName," ")}}function w(t,e){if(1&t){var n=a.Yb();a.Xb(0,"nz-list-item"),a.Xb(1,"alert-summary-card",9),a.ec("refreshRule",function(t){return a.Lc(n),a.ic(2).onAlertChange(t)}),a.Wb(),a.Wb()}if(2&t){var i=e.$implicit;a.Db(1),a.rc("rule",i)}}function W(t,e){if(1&t&&(a.Xb(0,"nz-list"),a.Vc(1,w,2,1,"nz-list-item",8),a.Wb()),2&t){var n=a.ic();a.Db(1),a.rc("ngForOf",n.rules)}}function V(t,e){if(1&t){var n=a.Yb();a.Xb(0,"button",12),a.ec("click",function(){return a.Lc(n),a.ic(2).createAlert()}),a.Xc(1,"Create Alert"),a.Wb()}}function x(t,e){if(1&t&&(a.Xb(0,"nz-empty",10),a.Vc(1,V,2,0,"ng-template",null,11,a.Wc),a.Wb()),2&t){var n=a.Ic(2);a.rc("nzNotFoundFooter",n)}}var U,F=((U=function(){function t(e,n){var i=this;u(this,t),this._alertService=e,this._alertModalService=n,this.patientId=null,this.patientName=null,this.level=l.c.TENANT_LEVEL,this.rules=new Array,this.refresh=new a.n,this.page=0,this.alertConfigs=new Map,this.fetchRules=function(){return i._alertService.getAlertRule(l.c.TENANT_LEVEL,i.page)},this.fetchPatientRules=function(){return i._alertService.getAlertRule(l.c.PATIENT_LEVEL,i.page,i.patientId)},this.loggedInUserRole=localStorage.getItem("loggedInUserRole"),this.loggedInTenantName=localStorage.getItem("loggedInTenantName"),this.isTenantAdmin=this.loggedInUserRole==r.a.TENANT_ADMIN}return p(t,[{key:"allRules",get:function(){return this.rules},set:function(t){t&&(this.rules=n(t))}},{key:"ngOnDestroy",value:function(){}},{key:"ngOnInit",value:function(){this.level==l.c.PATIENT_LEVEL&&this.init()}},{key:"init",value:function(){var t=this;this.loading=!0;var e=this.level==l.c.PATIENT_LEVEL?this.fetchPatientRules():this.fetchRules();Object(o.a)([e]).subscribe(function(e){var i=new Array;i.push.apply(i,n(e[0].result)),t.processRules(i),t.loading=!1})}},{key:"onSubTenantSelected",value:function(t){this.init()}},{key:"processGeneralRules",value:function(t){var e=new Array;for(var n in t.configs)if(t.configs[n].enabled){var i=new l.a;if(i.active=!0,i.level=l.c.TENANT_LEVEL,i.summaryType=l.e.GENERAL,n==b.a.VITAL_LIMIT_CROSSED||n==b.a.TODO_TASK_SKIPPED)i.type=l.b.VITALS,i.text=n==b.a.VITAL_LIMIT_CROSSED?"When a patient\u2019s recorded vital is above or below the limit.":"When a patient skip a vital reading.";else if(n==b.a.CAREPLAN_ASSIGNED||n==b.a.CONSENT_SUBMITTED)i.type=l.b.MONITORING,i.text=n==b.a.CAREPLAN_ASSIGNED?"When a care plan has been assigned to the patient as part of any episode.":"When a consent form has been submitted by a patient for any episode.";else{if(n!=b.a.FORM_ALERT)continue;i.type=l.b.FORMS,i.text="When the patient\u2019s assessment score crosses the limit."}i.updatedOn=0==t.configs[n].updatedOn?t.updatedOn:t.configs[n].updatedOn,i.summaryType=l.e.GENERAL,i.priority=t.configs[n].priority,e.push(i)}return e}},{key:"processRules",value:function(t){var e,i=t.filter(function(t){return t.active});this.rules=this.sortByPriority(i);var a=t.filter(function(t){return!t.active}),o=this.sortByPriority(a);o.length>0&&(e=this.rules).push.apply(e,n(o))}},{key:"sortByPriority",value:function(t){var e=new Array;return new Array(d.a.VERY_HIGH,d.a.HIGH,d.a.MEDIUM,d.a.LOW,d.a.VERY_LOW).forEach(function(i){var a=t.filter(function(t){return t.priority==i});null!=a&&a.length>0&&e.push.apply(e,n(a))}),e}},{key:"onAlertChange",value:function(t){this.refresh.emit(!0)}},{key:"createAlert",value:function(){var t=this;this._alertModalService.showAlertRuleCreateModal(this.level,this.patientId).afterClose.subscribe(function(e){return t.onAlertChange(null)})}}]),t}()).\u0275fac=function(t){return new(t||U)(a.Rb(s.a),a.Rb(c.a))},U.\u0275cmp=a.Lb({type:U,selectors:[["alert-summary"]],inputs:{patientId:"patientId",loading:"loading",patientName:"patientName",level:"level",allRules:"allRules"},outputs:{refresh:"refresh"},decls:9,vars:5,consts:[["nzTip","Loading...",2,"min-height","50vh",3,"nzSpinning"],[3,"ngClass"],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","24"],["nz-typography","","class","title",4,"ngIf"],[4,"ngIf"],["nzNotFoundImage","https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",3,"nzNotFoundFooter",4,"ngIf"],["nz-typography","",1,"title"],[4,"ngFor","ngForOf"],[2,"width","100%",3,"rule","refreshRule"],["nzNotFoundImage","https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",3,"nzNotFoundFooter"],["footerTpl",""],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){1&t&&(a.Xb(0,"nz-spin",0),a.Xb(1,"div",1),a.Xb(2,"div",2),a.Xb(3,"div",3),a.Vc(4,L,2,1,"h3",4),a.Wb(),a.Wb(),a.Xb(5,"div",2),a.Xb(6,"div",3),a.Vc(7,W,2,1,"nz-list",5),a.Vc(8,x,3,1,"nz-empty",6),a.Wb(),a.Wb(),a.Wb(),a.Wb()),2&t&&(a.rc("nzSpinning",e.loading),a.Db(1),a.rc("ngClass","PATIENT_LEVEL"!=e.level?"container spl-container":"container"),a.Db(3),a.rc("ngIf","PATIENT_LEVEL"!=e.level),a.Db(3),a.rc("ngIf",0!=e.rules.length),a.Db(1),a.rc("ngIf",!e.loading&&0==e.rules.length))},directives:[h.a,g.o,f.c,f.a,g.q,v.a,m.a,g.p,m.e,R,X.b,C.a,E.a,I.a],styles:["[_nghost-%COMP%]     .ant-list-item{padding:3px 0}.spl-container[_ngcontent-%COMP%]{padding-top:60px!important}.quick-action[_ngcontent-%COMP%]{padding:20px;height:100px;background:var(--neutral-color);width:100%;bottom:0;cursor:pointer}.icon-btn[_ngcontent-%COMP%], .quick-action[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-btn[_ngcontent-%COMP%]{width:50px;height:50px;background:#e9e9e9;border-radius:50%;flex-direction:column;margin:10px}.app-icon[_ngcontent-%COMP%]{margin-top:30%;margin-right:0}.right-btn[_ngcontent-%COMP%]{font-size:12px;margin-left:6px;color:var(--primary-color)}.create-alert-span[_ngcontent-%COMP%]{width:200px;display:flex;align-items:center}.title[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px}"]}),U)},sG7K:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("AytR"),a=n("SxV6"),o=n("fXoL"),r=n("tk/3"),c=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl="".concat(i.g.url,"/v3")}return p(t,[{key:"fetchVitalBlueprintsForTenant",value:function(t){var e="".concat(this.rootUrl).concat(i.g.api.getBlueprints,"?state='ALL'");return t&&(e=e+"&requestTenantIds="+t),this._http.get(e).pipe(Object(a.a)())}},{key:"updateVitalBlueprint",value:function(t){return this._http.put("".concat(this.rootUrl).concat(i.g.api.getBlueprints),JSON.stringify(t)).pipe(Object(a.a)())}},{key:"changeVitalBlueprintStatus",value:function(t){return this._http.patch("".concat(this.rootUrl).concat(i.g.api.getBlueprints,"/").concat(t),{}).pipe(Object(a.a)())}},{key:"fetchVitalBlueprintById",value:function(t){return this._http.get("".concat(this.rootUrl).concat(i.g.api.getBlueprints,"/").concat(t)).pipe(Object(a.a)())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(r.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},sIYb:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("fXoL"),a=n("ZyQt"),o=["*"],r=function(){var t=function(){function t(){u(this,t),this.select=new i.n}return p(t,[{key:"emitEvent",value:function(){this.select.emit({type:this.type,mode:this.mode})}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Lb({type:t,selectors:[["app-communication-action"]],inputs:{label:"label",mode:"mode",type:"type",selectedType:"selectedType"},outputs:{select:"select"},ngContentSelectors:o,decls:3,vars:3,consts:[[3,"nzColor","nzMode","click"]],template:function(t,e){1&t&&(i.qc(),i.Xb(0,"nz-tag",0),i.ec("click",function(){return e.emitEvent()}),i.pc(1),i.Xc(2),i.Wb()),2&t&&(i.rc("nzColor",e.type===e.selectedType?"green":null)("nzMode","default"),i.Db(2),i.Zc(" ",e.label,"\n"))},directives:[a.a],styles:[".ant-tag[_ngcontent-%COMP%]{width:100%;text-align:center;height:30px;border:1px solid var(--grey);border-radius:3px;font-size:10px;line-height:3;cursor:pointer;color:#000}.ant-tag-green[_ngcontent-%COMP%]{color:var(--neutral-color);background:var(--primary-color);border:1px solid var(--primary-color)}"]}),t}()},t2pg:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t){return localStorage.getItem(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"tenantName",type:t,pure:!0}),t}()},t6gT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.PATIENT_CONSENT="PATIENT_CONSENT",t.DEFAULT="DEFAULT",t.LEAD="LEAD",t.APPOINTMENT="APPOINTMENT",t}({})},tbdY:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o}),n.d(e,"e",function(){return r}),n.d(e,"d",function(){return c});var i=function(t){return t.SMS="SMS",t.LETTER="LETTER",t.AUDIO_CALL="AUDIO_CALL",t}({}),a=function(t){return t.PENDING="PENDING",t.COMPLETED="COMPLETED",t.CANCELLED="CANCELLED",t.RESCHEDULED="RESCHEDULED",t}({}),o=function(t){return t.CALL_NOT_ANSWERED="CALL_NOT_ANSWERED",t.CALL_RESCHEDULED="CALL_RESCHEDULED",t.CALL_SCHEDULED="CALL_SCHEDULED",t.HARD_NO="HARD_NO",t.SOFT_NO="SOFT_NO",t.HARD_YES="HARD_YES",t.SOFT_YES="SOFT_YES",t.NOT_ELIGIBLE="NOT_ELIGIBLE",t.LETTER_SEND="LETTER_SEND",t.SMS_SEND="SMS_SEND",t}({}),r=function(t){return t.NEW="NEW",t.ELIGIBLE="ELIGIBLE",t.ACTIVE="ACTIVE",t.NOT_ELIGIBLE="NOT_ELIGIBLE",t.CONVERTED="CONVERTED",t.LOST="LOST",t.FLAGGED_FOR_ELIGIBILITY_RECHECK="FLAGGED_FOR_ELIGIBILITY_RECHECK",t}({}),c=function(){function t(){u(this,t)}return p(t,null,[{key:"getLatestLeadFollowUp",value:function(e){return t.sortFollowUp(e.followUps)[0]}},{key:"getLatestCompletedLeadFollowUp",value:function(e){var n=e.followUps.filter(function(t){return t.status==a.COMPLETED});return t.sortFollowUp(n)[0]}},{key:"sortFollowUp",value:function(t){return t.sort(function(t,e){return t.step>=e.step?-1:1})}}]),t}()},tkii:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function t(){u(this,t),this.pdfreportEnabled=!1,this.careplanEnabled=!1,this.engagementEnabled=!1,this.pccEnabled=!1,this.leadsEnabled=!1}},ua0i:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t.RPM="RPM",t.CCM="CCM",t.TOC="TOC",t.HHA="HHA",t.HEALTH_SCORE="HEALTH_SCORE",t.GENERAL="GENERAL",t.BHI="BHI",t}({})},ubvD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){u(this,t)}return p(t,null,[{key:"setInjector",value:function(e){this.injector||(t.injector=e)}},{key:"getInjector",value:function(){return t.injector}}]),t}()},vDSh:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("EhJz"),a=n("NoME"),o=n("fXoL"),r=function(){var t=function(){function t(){u(this,t),this.twentyFourHoursInMillis=864e5,this.currentDate=new Date}return p(t,[{key:"transform",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CURRENT_DAY";if(!t)return!1;var n=new Date(new Date(t).setHours(23,59,59,999)+this.twentyFourHoursInMillis),o=!1;switch(e){case"CURRENT_DAY":o=Object(i.a)(n,this.currentDate);break;case"TODAY":var r=new Date(t);o=r.getDate()===this.currentDate.getDate()&&r.getMonth()===this.currentDate.getMonth()&&r.getFullYear()===this.currentDate.getFullYear();break;case"MONTH":o=new Date(t).getMonth()===this.currentDate.getMonth()&&new Date(t).getFullYear()===this.currentDate.getFullYear();break;case"MONTH_OR_FUTURE":o=new Date(t).getMonth()>=this.currentDate.getMonth()&&new Date(t).getFullYear()>=this.currentDate.getFullYear();break;case"DAYS":return Object(a.a)(this.currentDate,new Date(t))}return o}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=o.Qb({name:"dateCompare",type:t,pure:!0}),t}()},vduv:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("igu/"),a=n("fXoL"),o=function(){var t=function(){function t(e,n,i){u(this,t),this._dataSharingService=e,this._viewContainerRef=n,this._templateRef=i}return p(t,[{key:"isTenantFeatureEnabled",set:function(t){var e,n=this;this._dataSharingService.assignedTenantSettings.subscribe(function(i){var a,o;(null==i?void 0:i.size)&&(null===(a=null==t?void 0:t.feature)||void 0===a?void 0:a.length)&&(e=i,null!=t&&null!=t?(null===(o=null==t?void 0:t.tenantId)||void 0===o?void 0:o.length)?n.checkIfPermitted(e,t.feature,t.tenantId):n.checkIfPermitted(e,t.feature):n.enableFeature())})}},{key:"checkIfPermitted",value:function(t,e,n){var i=!1;if(null==n?void 0:n.length)i=this.userHasAccess(t.get(n),e);else for(var a=0,o=Array.from(t.entries());a<o.length;a++){var r=o[a];if(this.userHasAccess(r[1],e)){i=!0;break}}i?this.enableFeature():this.disableFeature()}},{key:"userHasAccess",value:function(t,e){if(!e)return!1;var n=e.replaceAll("?","").split("."),i=t;return n.forEach(function(t){return i=!(!i||null==i[t])&&i[t]}),i}},{key:"enableFeature",value:function(){this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"disableFeature",value:function(){this._viewContainerRef.clear()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.Rb(i.a),a.Rb(a.R),a.Rb(a.N))},t.\u0275dir=a.Mb({type:t,selectors:[["","isTenantFeatureEnabled",""]],inputs:{isTenantFeatureEnabled:"isTenantFeatureEnabled"}}),t}()},vj4F:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("/XTn"),a=n("fXoL"),o=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"getApplicableEpisodeStatuses",value:function(t){var e;switch(t){case i.a.ALL:e=null;break;case i.a.COMPLETED:case i.a.SUSPENDED:case i.a.PAUSED:case i.a.IN_PROGRESS:case i.a.PENDING_START:case i.a.SCHEDULED:e=[t];break;default:e=null}return e}},{key:"getSelectedEpisodeStatus",value:function(t){return"object"==typeof t?(null==t?void 0:t.length)>1?i.a.ALL:t[0]:t}},{key:"filterInvalidParamsForEpisodeStatus",value:function(t,e){return!t||"ALL_PATIENTS"!==e&&"NO_ACTIVE_EPISODES"!==e||(t=null),t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=a.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},w0ih:function(t,i,a){"use strict";a.d(i,"a",function(){return I});var o=a("Q+ul"),r=a("fXoL"),c=a("B+r4"),s=a("ofXK"),l=a("rMZv");function d(t,e){if(1&t&&(r.Xb(0,"tr",9),r.Xb(1,"td",13),r.Xc(2),r.Wb(),r.Xb(3,"td",14),r.Vb(4),r.Xc(5),r.Ub(),r.Wb(),r.Xb(6,"td",14),r.Vb(7),r.Xc(8),r.Ub(),r.Wb(),r.Wb()),2&t){var n=e.$implicit;r.Db(2),r.Zc(" ",null==n?null:n.label," "),r.Db(1),r.rc("nzAlign","center"),r.Db(2),r.Zc(" ",(null==n||null==n.globalLimit?null:n.globalLimit.minimum)||"Not Set"," "),r.Db(1),r.rc("nzAlign","center"),r.Db(2),r.Zc(" ",(null==n||null==n.globalLimit?null:n.globalLimit.maximum)||"Not Set"," ")}}var b=function(){return["16.5%","16.5%","16.5%"]};function h(t,e){if(1&t&&(r.Xb(0,"nz-table",7,8),r.Xb(2,"tr",9),r.Xb(3,"th",10),r.Xc(4,"Parameter"),r.Wb(),r.Xb(5,"th",11),r.Xc(6,"Min Limit"),r.Wb(),r.Xb(7,"th",11),r.Xc(8,"Max Limit"),r.Wb(),r.Wb(),r.Vc(9,d,9,5,"tr",12),r.Wb()),2&t){var n=r.Ic(1),i=r.ic();r.rc("nzData",null==i.vitalBlueprint?null:i.vitalBlueprint.parameters)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small")("nzNoResult",null)("nzWidthConfig",r.xc(10,b))("nzBordered",!1),r.Db(5),r.rc("nzAlign","center"),r.Db(2),r.rc("nzAlign","center"),r.Db(2),r.rc("ngForOf",null==n?null:n.data)}}function g(t,e){if(1&t&&(r.Xb(0,"tr",9),r.Xb(1,"td",13),r.Xc(2),r.Wb(),r.Xb(3,"td",14),r.Vb(4),r.Xc(5),r.Ub(),r.Wb(),r.Xb(6,"td",14),r.Vb(7),r.Xc(8),r.Ub(),r.Wb(),r.Wb()),2&t){var n=e.$implicit;r.Db(2),r.Zc(" ",null==n?null:n.label," "),r.Db(1),r.rc("nzAlign","center"),r.Db(2),r.Zc(" ",(null==n||null==n.limit?null:n.limit.minimum)||"Not Set"," "),r.Db(1),r.rc("nzAlign","center"),r.Db(2),r.Zc(" ",(null==n||null==n.limit?null:n.limit.maximum)||"Not Set"," ")}}function f(t,e){if(1&t&&(r.Xb(0,"nz-table",7,15),r.Xb(2,"tr",9),r.Xb(3,"th",10),r.Xc(4,"Parameter"),r.Wb(),r.Xb(5,"th",11),r.Xc(6,"Min Limit"),r.Wb(),r.Xb(7,"th",11),r.Xc(8,"Max Limit"),r.Wb(),r.Wb(),r.Vc(9,g,9,5,"tr",12),r.Wb()),2&t){var n=r.Ic(1),i=r.ic();r.rc("nzData",i.contexts)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small")("nzNoResult",null)("nzWidthConfig",r.xc(10,b))("nzBordered",!1),r.Db(5),r.rc("nzAlign","center"),r.Db(2),r.rc("nzAlign","center"),r.Db(2),r.rc("ngForOf",null==n?null:n.data)}}var v,m=((v=function(){function t(){u(this,t)}return p(t,[{key:"ngOnInit",value:function(){var t,e,n;(null===(t=this.vitalBlueprint)||void 0===t?void 0:t.contexts)&&(this.contexts=null===(n=null===(e=this.vitalBlueprint)||void 0===e?void 0:e.contexts[0])||void 0===n?void 0:n.options)}}]),t}()).\u0275fac=function(t){return new(t||v)},v.\u0275cmp=r.Lb({type:v,selectors:[["app-global-limits"]],inputs:{vitalBlueprint:"vitalBlueprint"},decls:10,vars:2,consts:[[1,"header"],["nz-row",""],["nz-col","","nzSpan","10","id","reference-range"],[1,"reference-header"],["nz-col","","nzSpan","13"],["id","reference-sub-heading",1,"reference-header"],[3,"nzData","nzFrontPagination","nzShowPagination","nzSize","nzNoResult","nzWidthConfig","nzBordered",4,"ngIf"],[3,"nzData","nzFrontPagination","nzShowPagination","nzSize","nzNoResult","nzWidthConfig","nzBordered"],["limitsTable",""],[1,"data-headers"],[1,"clear-thead"],[1,"limits-head",3,"nzAlign"],["class","data-headers",4,"ngFor","ngForOf"],[1,"reference-td"],[1,"min-max-limit",3,"nzAlign"],["glucoseLimitsTable",""]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"div",2),r.Xb(3,"p",3),r.Xc(4,"Reference Range"),r.Wb(),r.Wb(),r.Xb(5,"div",4),r.Xb(6,"p",5),r.Xc(7,"For all patients"),r.Wb(),r.Wb(),r.Wb(),r.Vc(8,h,10,11,"nz-table",6),r.Vc(9,f,10,11,"nz-table",6),r.Wb()),2&t&&(r.Db(8),r.rc("ngIf","Blood Glucose"!=(null==e.vitalBlueprint?null:e.vitalBlueprint.label)),r.Db(1),r.rc("ngIf","Blood Glucose"==(null==e.vitalBlueprint?null:e.vitalBlueprint.label)))},directives:[c.c,c.a,s.q,l.f,l.o,l.e,l.l,l.a,s.p],styles:[".reference-header[_ngcontent-%COMP%]{color:#000;font-weight:700;padding-left:23px;padding-top:15px;font-size:15px}.reference-td[_ngcontent-%COMP%]{font-size:12px;padding-left:22px;color:#000;font-size:14px}#reference-sub-heading[_ngcontent-%COMP%]{text-align:center;padding-left:0}.clear-thead[_ngcontent-%COMP%]{padding-left:22px}.clear-thead[_ngcontent-%COMP%], .limits-head[_ngcontent-%COMP%]{background-color:transparent!important;color:#000;font-size:13px;font-weight:600}[_nghost-%COMP%]     .ant-table-thead>tr>th{height:30px!important}[_nghost-%COMP%]     .ant-table table{border-spacing:0!important}.header[_ngcontent-%COMP%]{background:var(--neutral-color);min-height:200px!important;border-radius:5px 0 0 5px;padding-top:14px;padding-bottom:14px}.min-max-limit[_ngcontent-%COMP%]{color:#000;font-weight:700}.data-headers[_ngcontent-%COMP%]{box-shadow:none!important}"]}),v);function S(t,e){if(1&t&&(r.Xb(0,"tr",4),r.Xb(1,"td",5),r.Xc(2),r.Wb(),r.Xb(3,"td",5),r.Xc(4),r.Wb(),r.Wb()),2&t){var n=e.$implicit;r.Db(2),r.Zc(" ",null==n?null:n.min," "),r.Db(2),r.Zc(" ",null==n?null:n.max," ")}}function y(t,e){1&t&&(r.Xb(0,"table"),r.Xb(1,"tr",4),r.Xb(2,"td",8),r.Xc(3,"-"),r.Wb(),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.rc("colSpan",2))}var T,C,E=((C=function(){function t(){u(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||C)},C.\u0275cmp=r.Lb({type:C,selectors:[["app-individual-limits"]],inputs:{patientName:"patientName",individualLimits:"individualLimits",showGlucose:"showGlucose"},decls:12,vars:9,consts:[[1,"header"],[3,"ngClass"],[3,"nzNoResult","nzTitle","nzData","nzFrontPagination","nzShowPagination","nzSize","nzBordered"],["limitsTable",""],[1,"data-headers"],["nzAlign","center"],["class","data-headers",4,"ngFor","ngForOf"],["emptyData",""],["nzAlign","center",3,"colSpan"]],template:function(t,e){if(1&t&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Xb(2,"nz-table",2,3),r.Xb(4,"tr",4),r.Xb(5,"td",5),r.Xc(6,"Min Limit"),r.Wb(),r.Xb(7,"td",5),r.Xc(8,"Max Limit"),r.Wb(),r.Wb(),r.Vc(9,S,5,2,"tr",6),r.Wb(),r.Wb(),r.Vc(10,y,4,1,"ng-template",null,7,r.Wc),r.Wb()),2&t){var n=r.Ic(3),i=r.Ic(11);r.Db(1),r.rc("ngClass",e.showGlucose?"card-height-data":"card-data"),r.Db(1),r.rc("nzNoResult",i)("nzTitle","For "+e.patientName)("nzData",e.individualLimits)("nzFrontPagination",!1)("nzShowPagination",!1)("nzSize","small")("nzBordered",!1),r.Db(7),r.rc("ngForOf",n.data)}},directives:[s.o,l.f,l.o,l.e,l.a,s.p],styles:[".card-data[_ngcontent-%COMP%]{background-color:var(--primary-color);color:var(--neutral-color);padding-top:20px;padding-bottom:13px;min-height:200px}[_nghost-%COMP%]     .ant-table-title{color:var(--neutral-color);font-size:16px}.header[_ngcontent-%COMP%]{min-height:200px!important;border-radius:0 5px 5px 0;overflow:hidden}.card-height-data[_ngcontent-%COMP%]{height:200px;background-color:var(--primary-color);color:var(--neutral-color);padding-top:20px;padding-bottom:14px}[_nghost-%COMP%]     td{border-bottom:none!important;background-color:var(--primary-color);color:var(--neutral-color);font-weight:800;font-size:13px}[_nghost-%COMP%]     .ant-card-body{padding:0}[_nghost-%COMP%]     .ant-table table{border-spacing:0 5px!important}[_nghost-%COMP%]     .ant-table.ant-table-small{margin-top:5px;font-size:11px}[_nghost-%COMP%]     .ant-table.ant-table-small .ant-table-title{font-weight:700;text-align:center;padding:0}.data-headers[_ngcontent-%COMP%]{box-shadow:none!important}"]}),C),I=((T=function(){function t(){u(this,t)}return p(t,[{key:"ngOnInit",value:function(){this.sortIndividualUserLimits()}},{key:"ngOnChanges",value:function(){this.sortIndividualUserLimits()}},{key:"sortIndividualUserLimits",value:function(){var t,i,a=this,r=new o.a;if(r.label="-",r.max="-",r.min="-",this.sortedIndividualLimits=[],this.context)this.sortedIndividualLimits=this.individualLimits;else{var c,s=e(null===(t=this.vitalBlueprint)||void 0===t?void 0:t.parameters);try{var l=function(){var t,e=c.value,o=null===(i=a.individualLimits)||void 0===i?void 0:i.filter(function(t){return t.label===e.type});o=(null==o?void 0:o.length)>0?o:[r],(t=a.sortedIndividualLimits).push.apply(t,n(o))};for(s.s();!(c=s.n()).done;)l()}catch(u){s.e(u)}finally{s.f()}}}}]),t}()).\u0275fac=function(t){return new(t||T)},T.\u0275cmp=r.Lb({type:T,selectors:[["app-global-and-individual-limits"]],inputs:{vitalBlueprint:"vitalBlueprint",patientName:"patientName",individualLimits:"individualLimits",context:"context",showGlucose:"showGlucose"},features:[r.Bb],decls:5,vars:4,consts:[["nz-row",""],["nz-col","","nzFlex","6"],[3,"vitalBlueprint"],["nz-col","","nzFlex","4"],[3,"patientName","individualLimits","showGlucose"]],template:function(t,e){1&t&&(r.Xb(0,"div",0),r.Xb(1,"div",1),r.Sb(2,"app-global-limits",2),r.Wb(),r.Xb(3,"div",3),r.Sb(4,"app-individual-limits",4),r.Wb(),r.Wb()),2&t&&(r.Db(2),r.rc("vitalBlueprint",e.vitalBlueprint),r.Db(2),r.rc("patientName",e.patientName)("individualLimits",e.sortedIndividualLimits)("showGlucose",e.showGlucose))},directives:[c.c,c.a,m,E],styles:[""]}),T)},wb4W:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i,a,o=n("fXoL"),r=((i=function(){function t(){u(this,t)}return p(t,[{key:"replacer",value:function(t,e){return e instanceof Map?{dataType:"Map",value:Array.from(e.entries())}:e}},{key:"reviver",value:function(t,e){return"object"==typeof e&&null!==e&&"Map"===e.dataType?new Map(e.value):e}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275prov=o.Nb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),c=n("igu/"),s=((a=function(){function t(e,n){var i=this;u(this,t),this._mapUtils=e,this._dataSharingService=n,this.getCount=function(){return i.getTimeTrackingNoteDrafts().size},this.generateDraftId=function(){return(new Date).getTime()*Math.random()*123456}}return p(t,[{key:"getTimeTrackingNoteDrafts",value:function(){var e=localStorage.getItem(t.TIME_TRACKING_NOTES);return e?JSON.parse(e,this._mapUtils.reviver):new Map}},{key:"processTimeTrackingNotes",value:function(){var t=new Array;return this.getTimeTrackingNoteDrafts().forEach(function(e,n){return t.push(JSON.parse(e))}),t}},{key:"removeTimeTrackingNotes",value:function(e){var n=localStorage.getItem(t.TIME_TRACKING_NOTES);if(n){var i=JSON.parse(n,this._mapUtils.reviver);i.delete(e),0==i.size&&localStorage.removeItem(t.TIME_TRACKING_NOTES);var a=JSON.stringify(i,this._mapUtils.replacer);localStorage.setItem(t.TIME_TRACKING_NOTES,a),this._dataSharingService.triggerDraftRefresh()}}},{key:"updateDraft",value:function(e){var n=this.getTimeTrackingNoteDrafts();n.set(e.patientId,JSON.stringify(e));var i=JSON.stringify(n,this._mapUtils.replacer);localStorage.setItem(t.TIME_TRACKING_NOTES,i),this._dataSharingService.triggerDraftRefresh()}}]),t}()).TIME_TRACKING_NOTES="time_tracking_notes",a.\u0275fac=function(t){return new(t||a)(o.bc(r),o.bc(c.a))},a.\u0275prov=o.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},wjar:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function t(){u(this,t),this.cursor="pointer"};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Mb({type:t,selectors:[["","actionable",""]],hostVars:2,hostBindings:function(t,e){2&t&&i.Sc("cursor",e.cursor)}}),t}()},wsR7:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t),this.vitalsMap=new Map([["BLOOD_PRESSURE","Blood Pressure"],["SPO2","SpO2"],["WEIGHT","Weight"],["HEART_RATE","Heart Rate"],["BLOOD_GLUCOSE","Blood Glucose"],["RESPIRATIONS","Respiratory Rate"],["RESPIRATION","Respiratory Rate"],["IRREGULAR_HEARTBEAT","IHB"],["SYSTOLIC","Systolic"],["DIASTOLIC","Diastolic"],["PULSE_PRESSURE","Pulse Pressure"],["HEARTRATE","Heart Rate"],["SPO2","SpO2"],["GLUCOSE","Blood Glucose"],["HEART_RATE_VARIABILITY","Heart Rate Variability"],["WEIGHT","Weight"]])}return p(t,[{key:"transform",value:function(t){return t?this.vitalsMap.get(t)||t:"N/A"}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"vitalName",type:t,pure:!0}),t}()},x6g7:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("IEkc"),a=n("XNiG"),o=n("AytR"),r=n("i7mu"),c=n("fXoL"),s=n("tk/3"),l=function(){var t=function(){function t(e,n){u(this,t),this._http=e,this._staffSessionPingService=n,this.rootUrl=o.g.url,this.alertBaseUrl=this.rootUrl+"/v3/alerts/",this.alertRuleBaseUrl=this.alertBaseUrl+"prioritise",this.alertConfigBaseUrl=this.alertBaseUrl+"config",this.notify=new a.a,this.notifyObservable$=this.notify.asObservable()}return p(t,[{key:"fetchAlerts",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.alertBaseUrl;return n+=e?"count?offset=".concat(t.offset,"&limit=").concat(t.limit):"?offset=".concat(t.offset,"&limit=").concat(t.limit),t.patientId&&null!=t.patientId&&(n="".concat(n,"&patientId=").concat(t.patientId)),t.status&&null!=t.status&&(n="".concat(n,"&status=").concat(t.status)),t.priorities&&null!=t.priorities&&(n="".concat(n,"&priorities=").concat(t.priorities)),t.direction&&null!=t.direction&&(n="".concat(n,"&sortOrder=").concat(t.direction)),t.countType&&null!=t.countType&&(n="".concat(n,"&countType=").concat(t.countType)),n="".concat(n,"&patientType=").concat(t.patientType),this._http.get(n)}},{key:"getAlertDetail",value:function(t){return this._http.get(this.alertBaseUrl+t)}},{key:"closeAlert",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={remark:e},i=this.alertBaseUrl+t;return this._staffSessionPingService.updateStaffSession({type:"ALERT_CLOSED",value:Object.assign(Object.assign({},n),{alertId:t})}),this._http.put(i,n)}},{key:"closeAllAlerts",value:function(){var t=this.alertBaseUrl+"markAll";return this._staffSessionPingService.updateStaffSession({type:"BULK_ALERT_CLOSED"}),this._http.put(t,null)}},{key:"emailEscalate",value:function(t,e){return this._http.put(this.alertBaseUrl+"escalate/email/"+t,{emails:e})}},{key:"saveAlertRule",value:function(t){return this._http.post(this.alertRuleBaseUrl+"/setup/rule",t)}},{key:"updateAlertRule",value:function(t){return this._http.put(this.alertRuleBaseUrl+"/update/rule",t)}},{key:"getAlertRule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.b.VITALS,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50,o=arguments.length>5?arguments[5]:void 0,c=this.alertRuleBaseUrl+"/rules/".concat(t,"?limit=").concat(a,"&offset=").concat(e);return i&&(c+="&ruleType=".concat(i)),t==r.c.PATIENT_LEVEL&&null!=n&&null!=n&&(c+="&patientId=".concat(n)),o&&(c+="&search=".concat(o)),this._http.get(c)}},{key:"saveAlertConfigs",value:function(t){return this._http.post(this.alertConfigBaseUrl,t)}},{key:"getAlertConfig",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"All";return this._http.get(this.alertConfigBaseUrl+"?assignedTenants="+t)}},{key:"notifyChildren",value:function(t){t&&this.notify.next(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.bc(s.c),c.bc(i.a))},t.\u0275prov=c.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},xYn2:function(t,e,n){"use strict";n.d(e,"a",function(){return C});var i=n("mrSG"),a=n("fXoL"),o=n("/KA4"),r=n("ofXK"),c=n("B+r4"),s=n("IvDN"),l=n("nJia"),d=n("eHCX"),b=n("OzZK"),h=n("C2AL"),g=n("ZyQt");function f(t,e){if(1&t&&(a.Xb(0,"div",10),a.Sb(1,"img",11),a.Wb()),2&t){var n=a.ic();a.Db(1),a.sc("nzTooltipTitle",n.tooltipContent)}}function v(t,e){if(1&t&&(a.Xb(0,"div",12),a.Xc(1),a.jc(2,"date"),a.Xb(3,"strong"),a.Xc(4),a.jc(5,"date"),a.Wb(),a.Wb()),2&t){var n=a.ic();a.Db(1),a.ad(" Notes added ",null!=n.note&&n.note.appointmentStartDate?"for Appointment on "+a.lc(2,3,null==n.note?null:n.note.appointmentStartDate,"medium"):""," by ",null==n.note?null:n.note.addedByFullName," | "),a.Db(3),a.Yc(a.lc(5,6,null==n.note?null:n.note.createdOn,"medium"))}}function m(t,e){if(1&t){var n=a.Yb();a.Xb(0,"button",13),a.ec("click",function(){a.Lc(n);var t=a.ic();return t.editNote(t.note)}),a.Xc(1,"Edit Note"),a.Wb()}}function S(t,e){1&t&&(a.Xb(0,"p",14),a.Xb(1,"strong"),a.Xc(2,"Edit History: "),a.Wb(),a.Wb())}function y(t,e){if(1&t&&(a.Xc(0," Note edited on "),a.Xb(1,"strong"),a.Xc(2),a.jc(3,"date"),a.Wb(),a.Xc(4," by "),a.Xb(5,"strong"),a.Xc(6),a.Wb(),a.Xc(7," because: "),a.Xb(8,"strong"),a.Xc(9),a.Wb()),2&t){var n=a.ic().$implicit;a.Db(2),a.Yc(a.lc(3,3,(null==n?null:n.changedAt)+"Z","medium")),a.Db(4),a.Yc(null==n?null:n.contextText),a.Db(3),a.Yc(null==n?null:n.reason)}}function T(t,e){if(1&t&&(a.Xb(0,"nz-collapse-panel",15),a.Xb(1,"div",16),a.Xb(2,"div",17),a.Xb(3,"nz-tag",18),a.Sb(4,"pre",1),a.Wb(),a.Wb(),a.Xb(5,"div",5),a.Xc(6," to "),a.Wb(),a.Xb(7,"div",17),a.Xb(8,"nz-tag",19),a.Sb(9,"pre",1),a.Wb(),a.Wb(),a.Wb(),a.Vc(10,y,10,6,"ng-template",null,20,a.Wc),a.Wb()),2&t){var n=e.$implicit,i=a.Ic(11);a.rc("nzHeader",i),a.Db(4),a.rc("innerHTML",null==n?null:n.previousContent,a.Mc),a.Db(5),a.rc("innerHTML",null==n?null:n.currentContent,a.Mc)}}var C=function(){var t=function(){function t(){u(this,t),this.hideEdit=!1,this.hideFooter=!1,this.edit=new a.n}return p(t,[{key:"ngOnInit",value:function(){}},{key:"editNote",value:function(t){this.edit.emit(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Lb({type:t,selectors:[["app-note-timeline-item"]],inputs:{note:"note",hideEdit:"hideEdit",hideFooter:"hideFooter"},outputs:{edit:"edit"},decls:11,vars:6,consts:[[1,"current-note"],[3,"innerHTML"],["class","important-note",4,"ngIf"],["nz-row","","nzGutter","16","nzAlign","middle",2,"margin-bottom","8px"],["nz-col","","class","note-footer","nz-typography","","nzType","secondary",4,"ngIf"],["nz-col",""],["nz-button","","nzType","link",3,"click",4,"ngIf"],["style","margin-bottom: 0px !important;",4,"ngIf"],["nzGhost",""],[3,"nzHeader",4,"ngFor","ngForOf"],[1,"important-note"],["src","../../../../../../assets/images/star.png","nzTooltipPlacement","rightBottom","nz-tooltip","",1,"star",3,"nzTooltipTitle"],["nz-col","","nz-typography","","nzType","secondary",1,"note-footer"],["nz-button","","nzType","link",3,"click"],[2,"margin-bottom","0px !important"],[3,"nzHeader"],["nz-row","","nzGutter","16"],["nz-col","","nzFlex","1"],["nzColor","error",1,"change-tag"],["nzColor","success",1,"change-tag"],["headerTitle",""]],template:function(t,e){1&t&&(a.Xb(0,"div"),a.Xb(1,"div",0),a.Sb(2,"pre",1),a.Vc(3,f,2,1,"div",2),a.Wb(),a.Xb(4,"div",3),a.Vc(5,v,6,9,"div",4),a.Xb(6,"div",5),a.Vc(7,m,2,0,"button",6),a.Wb(),a.Wb(),a.Vc(8,S,3,0,"p",7),a.Xb(9,"nz-collapse",8),a.Vc(10,T,12,3,"nz-collapse-panel",9),a.Wb(),a.Wb()),2&t&&(a.Db(2),a.rc("innerHTML",null==e.note?null:e.note.content,a.Mc),a.Db(1),a.rc("ngIf","IMPORTANT"==(null==e.note?null:e.note.priority.level)),a.Db(2),a.rc("ngIf",!e.hideFooter),a.Db(2),a.rc("ngIf",!e.hideEdit),a.Db(1),a.rc("ngIf",e.note.noteChangeHistory),a.Db(2),a.rc("ngForOf",null==e.note.noteChangeHistory?null:e.note.noteChangeHistory.slice().reverse()))},directives:[r.q,c.c,c.a,s.a,r.p,l.d,d.a,b.a,h.a,s.c,g.a],pipes:[r.e],styles:["pre[_ngcontent-%COMP%]{font-size:14px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;font-family:Nunito}.note-footer[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0!important}.h-100[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]     .ant-tabs-content-holder{padding-top:16px;height:100%;overflow-y:scroll}[_nghost-%COMP%]     .ant-tabs-tab{height:48px!important}.change-tag[_ngcontent-%COMP%]{width:100%;padding-top:8px}.star[_ngcontent-%COMP%]{width:16px;height:16px;margin-left:10px;margin-bottom:1px}.current-note[_ngcontent-%COMP%]{display:flex}"]}),Object(i.b)([Object(o.a)(),Object(i.c)("design:type",Boolean)],t.prototype,"hideEdit",void 0),Object(i.b)([Object(o.a)(),Object(i.c)("design:type",Boolean)],t.prototype,"hideFooter",void 0),t}()},xhqf:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t){var e;if(!t||!t.context)return"N/A";try{var n=JSON.parse(t.context);return e=n[Object.keys(n)[0]],JSON.parse(e).label}catch(i){}return e&&(e=e.trim()),e||"N/A"}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.Qb({name:"vitalContext",type:t,pure:!0}),t}()},xnfs:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=function(t){return t.SMS="SMS",t.MMS="MMS",t}({}),a=function t(){u(this,t),this.messageType=i.SMS}},yWgs:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),a=function(){var t=function(){function t(){u(this,t)}return p(t,[{key:"decodeToken",value:function(t){var e=JSON.parse(atob(null==t?void 0:t.split(".")[1]));return delete Object.assign(e,{userId:e.sub}).sub,e}},{key:"parseJwt",value:function(t){var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(e).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(n)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},yffR:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("tk/3"),a=n("AytR"),o=n("fXoL"),r=function(){var t=function(){function t(e){u(this,t),this._http=e,this.rootUrl=a.g.url,this.letterNode="".concat(this.rootUrl,"/v3/direct-mail/templates/letter"),this.sentLetterNode="".concat(this.rootUrl,"/v3/direct-mail/letters"),this.retryLetterNode="".concat(this.rootUrl,"/v3/direct-mail/mail/retry")}return p(t,[{key:"create",value:function(t){return this._http.post("".concat(this.letterNode,"/new"),t)}},{key:"update",value:function(t){return this._http.put("".concat(this.letterNode,"/update"),t)}},{key:"delete",value:function(t){return this._http.delete("".concat(this.letterNode,"/").concat(t))}},{key:"fetchLetterTemplates",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a="".concat(this.letterNode,"/list"),o={pageNumber:e,limit:n,searchKey:t},r=new i.h;return Object.keys(o).forEach(function(t){return o[t]&&(r=r.append(t,o[t]))}),this._http.get(a,{params:r})}},{key:"fetchLetterTemplateById",value:function(t){return this._http.get("".concat(this.letterNode,"/").concat(t))}},{key:"fetchLetterTemplateByTypeAndLanguage",value:function(t,e){var n="".concat(this.letterNode),a={type:t,language:e},o=new i.h;return Object.keys(a).forEach(function(t){return a[t]&&(o=o.append(t,a[t]))}),this._http.get(n,{params:o})}},{key:"fetchLetterTemplateByType",value:function(t){var e="".concat(this.letterNode),n={type:t},a=new i.h;return Object.keys(n).forEach(function(t){return n[t]&&(a=a.append(t,n[t]))}),this._http.get(e,{params:a})}},{key:"fetchSentLetter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o="".concat(this.sentLetterNode,"/"),r={pageNumber:e,limit:n,searchKey:t,onlyError:a},c=new i.h;return Object.keys(r).forEach(function(t){return r[t]&&(c=c.append(t,r[t]))}),this._http.get(o,{params:c})}},{key:"fetchAllLetterTemplates",value:function(){return this._http.get("".concat(this.rootUrl,"/v3/direct-mail/templates/letter/list"))}},{key:"retryLetterQueue",value:function(t){return this._http.post("".concat(this.retryLetterNode,"/").concat(t),{})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(i.c))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},yob6:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i,a=n("7Xlp"),r=function(){var t=function t(){u(this,t)};return t.SOURCE="source",t.SEARCH_KEY="search_key",t.ID="id",t.PATIENT_ID="patient_id",t.PARAMETER="parameter",t.ACTION_NAME="action_name",t.STATE="state",t.LINK="link",t.LEAD_LINK_FETCH="LEAD_LINK_FETCH",t.LEAD_ACTION="LEAD_ACTION",t.LEAD_SEARCH="LEAD_SEARCH",t.LEAD_CONVERT_TO_PATIENT="LEAD_CONVERT_TO_PATIENT",t}(),s=n("fXoL"),l=((i=function(t){o(n,t);var e=c(n);function n(){var t;return u(this,n),(t=e.call(this)).SOURCE="leads",t}return p(n,[{key:"leadsActionEvent",value:function(t,e){var n=this.getCommonProperties();n[r.SOURCE]=this.SOURCE,n[r.ID]=t,n[r.ACTION_NAME]=e,this.logEvent(r.LEAD_ACTION,n)}},{key:"convertLeadsToPatientEvent",value:function(t,e){var n=this.getCommonProperties();n[r.PATIENT_ID]=t,n[r.ID]=e,this.logEvent(r.LEAD_CONVERT_TO_PATIENT,n)}},{key:"leadsSearchEvent",value:function(t){var e=this.getCommonProperties();e[r.SEARCH_KEY]=t,e[r.SOURCE]=this.SOURCE,this.logEvent(r.LEAD_SEARCH,e)}},{key:"leadsLinkFetchEvent",value:function(t){var e=this.getCommonProperties();e[r.SOURCE]=this.SOURCE,e[r.LINK]=t,this.logEvent(r.LEAD_LINK_FETCH,e)}}]),n}(a.a)).\u0275fac=function(t){return new(t||i)},i.\u0275prov=s.Nb({token:i,factory:i.\u0275fac,providedIn:"root"}),i)},zUnb:function(i,a,r){"use strict";r.r(a);var s=r("jhN1"),d=r("Y+n1"),b=r("ZlwT");r("kiQV");var h,g,f="https://stage.cooeyhealth.com",v=r("4Ign"),m=r("fXoL"),S=((h=function(){function t(e){u(this,t),this._routeReuseHelperService=e,this.nonStorableRoutes=["login","logout","video-call/:patientId","video-call/:id"]}return p(t,[{key:"shouldDetach",value:function(t){return this.isStorableRoute(t)}},{key:"store",value:function(t,e){this.isStorableRoute(t)&&this._routeReuseHelperService.getStoredRoutes().set(t.url.join("/")||t.parent.url.join("/"),e)}},{key:"shouldAttach",value:function(t){if(this.isStorableRoute(t))return!!this._routeReuseHelperService.getStoredRoutes().get(t.url.join("/")||t.parent.url.join("/"))}},{key:"retrieve",value:function(t){if(this.isStorableRoute(t))return this._routeReuseHelperService.getStoredRoutes().get(t.url.join("/")||t.parent.url.join("/"))}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}},{key:"isStorableRoute",value:function(t){if(!t.routeConfig)return null;if(t.routeConfig.loadChildren)return null;if(navigator.webdriver)return null;var e=t.routeConfig.path||"";return this.nonStorableRoutes.findIndex(function(t){return t===e})>-1?(this._routeReuseHelperService.clearAllStoredRoutes(),!1):t.data&&t.data.retainState}}]),t}()).\u0275fac=function(t){return new(t||h)(m.bc(v.a))},h.\u0275prov=m.Nb({token:h,factory:h.\u0275fac}),h),y=r("tyNb"),T=r("bnsq"),C=r("tk/3"),E=r("ofXK"),I=r("3Pt+"),M=r("KZX/"),A=r("SHZf"),_=r("UFn0"),D=((g=function t(){u(this,t)}).\u0275mod=m.Pb({type:g}),g.\u0275inj=m.Ob({factory:function(t){return new(t||g)},imports:[[E.c,_.a,I.o,M.a,A.a]]}),g),z=r("IEkc"),O=r("R0Ic"),k=r("igu/"),N=function t(){u(this,t)},P=r("wb4W"),R=r("OE57"),X=r("M34a"),L=r("piIK"),w=r("QBjw"),W=r("c/Vb"),V=r("ighe"),x=r("/XTn"),U=r("OTIt"),F=r("IKCb"),H=r("cnAw"),B=r("ZPfs"),j=r("r0o6"),G=r("FWPb"),Y=r("geco"),q=r("dEAy"),Z=r("bNXi"),Q=r("eHCX"),K=r("5vDB"),J=r("B+r4"),$=r("EGpF"),tt=r("OzZK"),et=r("RwU8"),nt=r("C2AL"),it=r("zAKX"),at=r("rMZv"),ot=r("QlLE"),rt=r("dRHE");function ct(t,e){if(1&t&&m.Sb(0,"nz-option",15),2&t){var n=e.$implicit,i=m.ic(3);m.sc("nzValue",n.episodeType),m.rc("nzLabel",i.episodeTypeBlueprintMap.get(n.episodeType).name)}}function st(t,e){if(1&t){var n=m.Yb();m.Xb(0,"tr"),m.Xb(1,"td",20),m.ec("nzCheckedChange",function(t){m.Lc(n);var i=e.$implicit;return m.ic(4).onItemChecked(i,t)}),m.Wb(),m.Xb(2,"td"),m.Xc(3),m.Wb(),m.Xb(4,"td"),m.Xc(5),m.jc(6,"date"),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit,a=m.ic(4);m.Db(1),m.rc("nzChecked",a.setOfCheckedId.has(i.id))("nzDisabled",i.disabled),m.Db(2),m.Yc((null==i?null:i.attenderName)||"N/A"),m.Db(2),m.Yc(m.lc(6,4,null==i||null==i.schedule?null:i.schedule.startDate,"medium"))}}function lt(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",16),m.Xb(2,"div",12),m.Xb(3,"p",6),m.Xc(4," Choose from the below list of appointments to complete one: "),m.Wb(),m.Xb(5,"nz-table",17,18),m.Xb(7,"thead"),m.Xb(8,"tr"),m.Sb(9,"th"),m.Xb(10,"th"),m.Xc(11),m.jc(12,"translate"),m.Wb(),m.Xb(13,"th"),m.Xc(14),m.jc(15,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(16,"tbody"),m.Vc(17,st,7,7,"tr",19),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.Ic(6),i=m.ic(3),a=m.Ic(2);m.Db(5),m.rc("nzData",null==i.upcomingAppointments?null:i.upcomingAppointments.result)("nzLoading",i.appointmentLoading)("nzShowPagination",!1)("nzNoResult",a),m.Db(6),m.Yc(m.kc(12,7,"TABLEHEADER.ASSIGNEDTO")),m.Db(3),m.Yc(m.kc(15,9,"COMMON.DATE_TIME")),m.Db(3),m.rc("ngForOf",n.data)}}function ut(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",4),m.Xb(2,"div",12),m.Xb(3,"nz-select",13),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic(2).episodeType=t}),m.Vc(4,ct,1,2,"nz-option",14),m.Wb(),m.Wb(),m.Wb(),m.Vc(5,lt,18,11,"ng-container",9),m.Ub()}if(2&t){var i=m.ic(2);m.Db(3),m.rc("ngModel",i.episodeType)("nzLoading",i.episodeLoading),m.Db(1),m.rc("ngForOf",i.activeEpisodes),m.Db(1),m.rc("ngIf",!i.isAppointmentIdPassed)}}function dt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",2),m.Xb(1,"h4",3),m.Xc(2),m.Wb(),m.Sb(3,"nz-divider"),m.Xb(4,"div",4),m.Xb(5,"div",5),m.Xb(6,"p",6),m.Xc(7," Do you want to add time spent towards any Episode? "),m.Wb(),m.Wb(),m.Xb(8,"div",7),m.Xb(9,"nz-switch",8),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().addToEpisode=t}),m.Wb(),m.Wb(),m.Wb(),m.Vc(10,ut,6,4,"ng-container",9),m.Vb(11),m.Xb(12,"div",4),m.Xb(13,"div",10),m.Sb(14,"nz-divider"),m.Xb(15,"button",11),m.ec("click",function(){return m.Lc(n),m.ic().proceed()}),m.Xc(16,"Proceed"),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb()}if(2&t){var i=m.ic();m.Db(2),m.Zc("Do you want to add time spent towards ",(null==i.episodeNoteTypeMap?null:i.episodeNoteTypeMap.get(i.episodeType))||"CMT","?"),m.Db(7),m.rc("ngModel",i.addToEpisode),m.Db(1),m.rc("ngIf",i.addToEpisode),m.Db(5),m.rc("disabled",i.episodeLoading||i.appointmentLoading)}}function pt(t,e){1&t&&(m.Xb(0,"span"),m.Xc(1," No Appointments Scheduled "),m.Wb())}function bt(t,e){if(1&t&&(m.Xb(0,"nz-empty",21),m.Vc(1,pt,2,0,"ng-template",null,22,m.Wc),m.Wb()),2&t){var n=m.Ic(2);m.rc("nzNotFoundContent",n)}}var ht,gt,ft=((ht=function(){function t(e,n,i,a,o,r,c,s,l){u(this,t),this._router=e,this._modalRef=n,this._modalService=i,this._patientsService=a,this._episodesService=o,this._dataSharingService=r,this._appointmentsService=c,this._notificationService=s,this._patientCommunicationModalService=l,this.bypassEpisodeSelection=!1,this.checked=!1,this.indeterminate=!1,this.dateRange=[],this.addToEpisode=!0,this.setOfCheckedId=new Set,this.isAppointmentIdPassed=!1,this.activeEpisodes=new Array,this.activeEpisodeMap=new Map,this.episodeTypeBlueprintMap=new Map,this.upcomingAppointments=new w.a,this.note="",this.episodeNoteTypeMap=new Map([["RPM","TMS"],["GENERAL","CMT"],["BHI","CMT"],["CCM","CMT"],["TOC","CMT"]])}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.getUserDetails(),this._dataSharingService.tenantSettings.subscribe(function(e){e&&(t.tenantSettings=e,e.episodeBlueprints.filter(function(t){return!t.archived}).forEach(function(e){return t.episodeTypeBlueprintMap.set(e.type,e)}))}),this.getPatientActiveEpisodes(),this.appointmentId?(this.isAppointmentIdPassed=!0,this.episodeId&&(this.bypassEpisodeSelection=!0,this.getEpisodeDetailsAndProceed())):this.getUpcomingAppointments(),this.staffId&&(this.staffIdPassed=!0)}},{key:"getUserDetails",value:function(){var t=this;this._patientsService.fetchPatientById(this.patientId).subscribe(function(e){return t.patient=e})}},{key:"getEpisodeDetailsAndProceed",value:function(){var t=this;this._episodesService.fetchEpisode(this.episodeId).subscribe(function(e){t.episodeType=null==e?void 0:e.episodeType,t._modalRef.close(),t.showTMSPopup()})}},{key:"onBlueprintChange",value:function(t){}},{key:"getPatientActiveEpisodes",value:function(){var t=this;this.episodeLoading=!0,this._episodesService.fetchActiveEpisodes(this.patientId,-1,0,null,[x.a.SCHEDULED,x.a.IN_PROGRESS]).subscribe(function(e){var n;if((null==e?void 0:e.totalCount)>0&&(t.activeEpisodes=e.result,t.activeEpisodes.forEach(function(e){return t.activeEpisodeMap.set(e.episodeType,e)}),t.activeEpisodes.length))if(t.episodeId){var i=null===(n=t.activeEpisodes)||void 0===n?void 0:n.find(function(e){return t.episodeId===(null==e?void 0:e.id)});i&&(t.episodeType=null==i?void 0:i.episodeType)}else t.episodeType=t.activeEpisodes[0].episodeType,t.episodeId=t.activeEpisodes[0].id;t.episodeLoading=!1})}},{key:"onItemChecked",value:function(t,e){this.staffId=t.attenderId,this.updateCheckedSet(t.id,e)}},{key:"updateCheckedSet",value:function(t,e){e?(this.setOfCheckedId.clear(),this.setOfCheckedId.add(t),this.appointmentId=t):(this.setOfCheckedId.delete(t),this.appointmentId=void 0)}},{key:"getUpcomingAppointments",value:function(){var t,e,n,i,a=this;this.appointmentLoading=!0,n=null===(t=Object(X.a)(new Date))||void 0===t?void 0:t.getTime(),i=null===(e=Object(L.a)(new Date))||void 0===e?void 0:e.getTime(),this._appointmentsService.fetchUpcomingAppointments(0,n,i,void 0,"null",null,this.patientId).subscribe(function(t){a.upcomingAppointments=t,a.setOfCheckedId.clear(),a.upcomingAppointments.result&&a.upcomingAppointments.result.length>0&&a.onItemChecked(a.upcomingAppointments.result[0],!0),a.appointmentLoading=!1})}},{key:"proceed",value:function(){if(!this.addToEpisode)return this._modalRef.close(),void this.setNoteAndCompleteAppointment();this._modalRef.close(),this.showTMSPopup()}},{key:"setNoteAndCompleteAppointment",value:function(){this.note=this.stickyNote,this.completeAppointment()}},{key:"showTMSPopup",value:function(){switch(this.episodeType){case"CCM":this.showCMTForCCM();break;case"RPM":this.showTMSforRPM();break;case"GENERAL":this.showCMTforGeneral();break;case"TOC":this.onToCCMTClick()}}},{key:"showCMTforGeneral",value:function(){var t,e,n,i,a=this;this._patientCommunicationModalService.createCMTModal(this.patientName,this.patientId,null===(t=this.activeEpisodeMap.get(this.episodeType))||void 0===t?void 0:t.id,W.a.CARE_MANAGEMENT_TIME,null===(e=this.appointmentTime[0])||void 0===e?void 0:e.getTime(),null===(n=this.appointmentTime[1])||void 0===n?void 0:n.getTime(),new Date(null===(i=this.activeEpisodeMap.get(this.episodeType))||void 0===i?void 0:i.endDate).getTime(),this.stickyNote,this.timerId).afterClose.subscribe(function(t){t&&a.completeAppointment()})}},{key:"onToCCMTClick",value:function(){var t,e,n=this,i={id:this.patient.id,name:null===(t=this.patient)||void 0===t?void 0:t.fullName,dxCodes:this.patient.healthInfo.dxCodes,episode:{id:null===(e=this.activeEpisodeMap.get(this.episodeType))||void 0===e?void 0:e.id}};this._patientCommunicationModalService.createTOCTMS(i,"GLOBAL_TIMER",void 0,[this.appointmentTime[0],this.appointmentTime[1]],this.stickyNote,this.timerId).afterClose.subscribe(function(t){t&&n.completeAppointment()})}},{key:"showTMSforRPM",value:function(){var t,e,n,i,a=this;this._patientCommunicationModalService.createTMSModal(this.patient,null===(t=this.activeEpisodeMap.get(this.episodeType))||void 0===t?void 0:t.id,"TMS",W.a.TREATMENT_MANAGEMENT_SERVICE,new Date(null===(e=this.activeEpisodeMap.get(this.episodeType))||void 0===e?void 0:e.endDate),[null===(n=this.appointmentTime[0])||void 0===n?void 0:n.getTime(),null===(i=this.appointmentTime[1])||void 0===i?void 0:i.getTime()],this.stickyNote,void 0,"GLOBAL_TIMER",void 0,this.timerId).afterClose.subscribe(function(t){t&&a.completeAppointment()})}},{key:"showCMTForCCM",value:function(){var t=this;this._episodesService.fetchEpisodeDetails(this.episodeId).subscribe(function(e){var n,i,a={id:t.patientId,dxCodes:null===(i=null===(n=t.patient)||void 0===n?void 0:n.healthInfo)||void 0===i?void 0:i.dxCodes,episode:{id:t.episodeId,startDate:e.startDate,endDate:e.endDate,blueprintId:e.blueprintId,totalNonComplexTMSCompleted:e.patientComplianceCount[99490],totalNonComplexAdditionalTMSCompleted:e.patientComplianceCount[99439],totalNonComplexTMSPhysicianCompleted:e.patientComplianceCount[99491],totalComplexTMSCompleted:e.patientComplianceCount[99487],totalComplexAdditionalTMSCompleted:e.patientComplianceCount[99489]}};t._modalService.create({nzContent:F.a,nzComponentParams:{patient:a,blueprint:null==e?void 0:e.blueprintId,stickyNote:t.stickyNote,serviceCode:(null==e?void 0:e.serviceCodes)[99490]?W.a.NON_COMPLEX_TMS:W.a.COMPLEX_TMS,staff:t.staffId,autoCMTOverRide:!0,appointmentTime:t.appointmentTime,referrer:"GLOBAL_TIMER",draftId:t.draftId,timerId:t.timerId},nzStyle:{top:"50px"},nzWidth:775,nzFooter:null,nzClosable:!0,nzMaskClosable:!1}).afterClose.subscribe(function(e){t.updateAppointment(((null==e?void 0:e.mode)===B.a.CALL||(null==e?void 0:e.mode)===B.a.OUTBOUND_CALL)&&!1===(null==e?void 0:e.billable))})})}},{key:"completeAppointment",value:function(){this.updateAppointment(!1)}},{key:"updateAppointment",value:function(t){var e=this;if(this.appointmentId){var n={appointmentId:this.appointmentId,patientId:this.patientId,caretakerId:this.staffId,episodeId:this.episodeId,appointmentType:H.c.AUDIO_CALL,note:this.note},i=this._appointmentsService.completeAppointment(n),a=this._appointmentsService.updateAttemptCount(n);Object(j.a)(function(){return t},a,i).subscribe(function(n){e._notificationService.success("Appointment","Appointment attempt count updated!"),e._dataSharingService.setTimer({state:"COMPLETED",data:null}),t?e._appointmentsService.fetchAppointmentDetailsById(e.appointmentId).subscribe(function(t){e._modalService.create({nzContent:G.a,nzComponentParams:{appointment:null==t?void 0:t.appointment},nzWidth:850,nzFooter:null}).afterClose.subscribe(function(){return e._dataSharingService.setTimer({state:"COMPLETED",data:null})})}):(e._modalService.confirm({nzTitle:"Follow Up Appointment",nzContent:"Do you want to create a follow up appointment for ".concat(null==n?void 0:n.attendeeName,"?"),nzOnOk:function(){return e._router.navigate(["appointments/create",e.patientId])}}),e._dataSharingService.setTimer({state:"COMPLETED",data:null}))})}else this._dataSharingService.setTimer({state:"COMPLETED",data:null})}}]),t}()).\u0275fac=function(t){return new(t||ht)(m.Rb(y.g),m.Rb(q.e),m.Rb(q.f),m.Rb(Y.a),m.Rb(V.a),m.Rb(k.a),m.Rb(R.a),m.Rb(Z.b),m.Rb(U.a))},ht.\u0275cmp=m.Lb({type:ht,selectors:[["app-episode-appointment-confirm-tms"]],inputs:{referrer:"referrer",staffId:"staffId",patientId:"patientId",episodeId:"episodeId",stickyNote:"stickyNote",patientName:"patientName",episodeType:"episodeType",appointmentId:"appointmentId",appointmentTime:"appointmentTime",autoCMTOverRide:"autoCMTOverRide",draftId:"draftId",timerId:"timerId"},decls:3,vars:1,consts:[["class","container",4,"ngIf"],["empty",""],[1,"container"],["nz-typography",""],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","20"],["nz-typography","","nzType","secondary"],["nz-col","","nzSpan","4",1,"episode-btn"],["nzCheckedChildren","Yes","nzUnCheckedChildren","No",3,"ngModel","ngModelChange"],[4,"ngIf"],["nz-col","","nzSpan","24",2,"text-align","right"],["nz-button","","nzType","primary",3,"disabled","click"],["nz-col","","nzSpan","24"],[3,"ngModel","nzLoading","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],["nz-row","","nzGutter","64",2,"margin-top","18px"],[3,"nzData","nzLoading","nzShowPagination","nzNoResult"],["rowSelectionTable",""],[4,"ngFor","ngForOf"],[3,"nzChecked","nzDisabled","nzCheckedChange"],["nzNotFoundImage","https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",3,"nzNotFoundContent"],["contentTpl",""]],template:function(t,e){1&t&&(m.Vc(0,dt,17,4,"div",0),m.Vc(1,bt,3,1,"ng-template",null,1,m.Wc)),2&t&&m.rc("ngIf",!e.bypassEpisodeSelection)},directives:[E.q,Q.a,K.a,J.c,J.a,$.a,I.u,I.x,tt.a,et.a,nt.a,it.d,E.p,it.a,at.f,at.n,at.o,at.e,at.l,at.i,at.j,ot.b],pipes:[rt.a,E.e],styles:["h4[_ngcontent-%COMP%]{padding-top:10px}.episode-btn[_ngcontent-%COMP%]{display:flex!important}[_nghost-%COMP%]     .ant-checkbox-wrapper{padding-left:16px;padding-right:8px;border-spacing:0!important}[_nghost-%COMP%]     .ant-checkbox-inner:after{border-color:var(--primary-color)}[_nghost-%COMP%]     .ant-checkbox-disabled .ant-checkbox-inner{background:gray 0 0 no-repeat padding-box;opacity:.5}[_nghost-%COMP%]     .ant-checkbox-disabled .ant-checkbox-inner:after{border-color:var(--neutral-color)!important}"]}),ht),vt=r("iUtR"),mt=r("AytR"),St=((gt=function(){function t(e){u(this,t),this._http=e,this.rootURL=mt.g.url}return p(t,[{key:"startTimer",value:function(t){return this._http.post("".concat(this.rootURL,"/v1/global-timer/").concat(t),{})}},{key:"updateTimer",value:function(t,e){return this._http.put("".concat(this.rootURL,"/v1/global-timer/").concat(t),{note:e})}},{key:"suspendTimer",value:function(t){return this._http.delete("".concat(this.rootURL,"/v1/global-timer/").concat(t),{})}}]),t}()).\u0275fac=function(t){return new(t||gt)(m.bc(C.c))},gt.\u0275prov=m.Nb({token:gt,factory:gt.\u0275fac,providedIn:"root"}),gt),yt=r("5+WD"),Tt=r("JA5x"),Ct=r("glKu"),Et=r("FwiY");function It(t,e){if(1&t){var n=m.Yb();m.Xb(0,"span",11),m.Xb(1,"a",12),m.ec("click",function(){return m.Lc(n),m.ic(2).max()}),m.Sb(2,"span",13),m.Wb(),m.Wb()}}function Mt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",1),m.Xb(1,"nz-card"),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Xb(4,"strong",4),m.Xc(5,"Appointment with: "),m.Wb(),m.Xb(6,"p",5),m.Xc(7),m.jc(8,"titlecase"),m.Wb(),m.Xb(9,"strong",4),m.Xc(10,"Start Time:"),m.Wb(),m.Xb(11,"p",5),m.Xc(12),m.jc(13,"date"),m.Wb(),m.Wb(),m.Xb(14,"div",6),m.Xb(15,"strong",7),m.Xc(16),m.jc(17,"timer"),m.Wb(),m.Xb(18,"button",8),m.ec("click",function(){return m.Lc(n),m.ic().endTimer()}),m.Sb(19,"app-icons",9),m.Wb(),m.Wb(),m.Vc(20,It,3,0,"span",10),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=m.ic();m.Db(1),m.rc("@inOutAnimation",void 0),m.Db(6),m.Yc(m.kc(8,5,null==i.timerEvent||null==i.timerEvent.data?null:i.timerEvent.data.attendeeName)),m.Db(5),m.Zc(" ",m.lc(13,7,i.timerStart,"medium")," "),m.Db(4),m.Zc(" ",m.lc(17,10,i.timerValue,i.timerStart)," "),m.Db(4),m.rc("ngIf",i.isMinimized&&i.timerEvent.showStickyNote)}}var At,_t,Dt,zt,Ot,kt=((_t=function(){function t(e,n,i,a,o){u(this,t),this._dataSharingService=e,this._modalService=n,this.draftHelper=i,this._timerPipe=a,this._globalTimerService=o,this.isMinimized=!0}return p(t,[{key:"handleClose",value:function(t){var e;this.timerId&&this._globalTimerService.updateTimer(this.timerId,null===(e=this.noteEvent)||void 0===e?void 0:e.data).subscribe(function(t){})}},{key:"ngOnDestroy",value:function(){var t;this.stickNoteSubscriber&&this.stickNoteSubscriber.unsubscribe(),this.stickNoteUpdateSubscriber&&this.stickNoteUpdateSubscriber.unsubscribe(),this.timerSubscriber&&this.timerSubscriber.unsubscribe(),this.timerId&&this._globalTimerService.updateTimer(this.timerId,null===(t=this.noteEvent)||void 0===t?void 0:t.data).subscribe(function(t){})}},{key:"ngOnInit",value:function(){var t=this;this.timerSubscriber=this._dataSharingService.getTimer().subscribe(function(e){e&&"START"===(null==e?void 0:e.state)&&t.globalTimerInitialize(e)})}},{key:"globalTimerInitialize",value:function(t){var e=this;this.timerEvent=t,this._globalTimerService.startTimer(this.timerEvent.data.attendeeId).subscribe(function(n){e.timerId=null==n?void 0:n.id,e.startTimer(),(null==t?void 0:t.showStickyNote)&&e.registerStickNoteObservers()},function(n){var i;e._modalService.confirm({nzTitle:"Patient Tracking",nzContent:"".concat(null===(i=null==n?void 0:n.error)||void 0===i?void 0:i.message,". Do you want to take over and start a new session?"),nzOnOk:function(){var n,i;e._globalTimerService.suspendTimer(null===(i=null===(n=e.timerEvent)||void 0===n?void 0:n.data)||void 0===i?void 0:i.attendeeId).subscribe(function(){e.globalTimerInitialize(t)})},nzOnCancel:function(){e.timerEnd=new Date,e._dataSharingService.setTimer({state:"END",start:e.timerStart,end:e.timerEnd,data:null,showStickyNote:!1}),clearInterval(e.timerIntervalId),e.timerIntervalId=void 0,e.clearTimer()}})})}},{key:"registerStickNoteObservers",value:function(){var t=this;this.stickNoteSubscriber=this._dataSharingService.getStickNote().subscribe(function(e){e&&(t.isMinimized="MINIMIZED"==e.state||"COMPLETED"==e.state,t.noteEvent=e,"COMPLETED"==e.state&&t.endTimer())}),this.stickNoteUpdateSubscriber=this._dataSharingService.getUpdatedStickyNote().subscribe(function(e){var n,i,a,o;t.noteEvent.data=e;var r=new N;r.startTime=t.timerStart,r.endTime=new Date,r.patientName=t.timerEvent.data.attendeeName,r.patientId=t.timerEvent.data.attendeeId,r.staffId=null===(i=null===(n=t.timerEvent)||void 0===n?void 0:n.data)||void 0===i?void 0:i.attenderId,r.referrer="GLOBAL_TIMER",r.appointmentId=t.timerEvent.data.id,r.episodeId=null===(o=null===(a=t.timerEvent)||void 0===a?void 0:a.data)||void 0===o?void 0:o.episodeId,r.stickyNote=t.noteEvent.data,r.autoCMTOverRide=!0,r.timerId=t.timerId,r.tenantId=t.timerEvent.data.tenantId,r.draftId=t.draftHelper.generateDraftId().toString(),t.draftHelper.updateDraft(r)})}},{key:"startTimer",value:function(){var t=this;this.timerStart=new Date,this.timerEnd=void 0,this.timerValue=new Date,this.timerIntervalId=setInterval(function(){var e,n;t.timerValue=new Date;var i=t._timerPipe.transform(t.timerValue,t.timerStart),a=t.draftHelper.getTimeTrackingNoteDrafts().get(null===(n=null===(e=t.timerEvent)||void 0===e?void 0:e.data)||void 0===n?void 0:n.attendeeId);if(null==a?void 0:a.length){var o=JSON.parse(a);o.endTime=new Date,t.draftHelper.updateDraft(o)}"01:00:00"===i&&t.endTimer()},1e3),this.timerEvent.showStickyNote&&(this.noteEvent={patientId:this.timerEvent.data.attendeeId,patientName:this.timerEvent.data.attendeeName,tenantId:this.timerEvent.data.tenantId,state:"MAXIMIZED",data:""},this._dataSharingService.setStickNote(this.noteEvent))}},{key:"endTimer",value:function(){this.timerEnd=new Date,this._dataSharingService.setTimer({state:"END",start:this.timerStart,end:this.timerEnd,data:null,showStickyNote:!1}),this.showConfirm(),clearInterval(this.timerIntervalId),this.timerIntervalId=void 0,this.stickNoteSubscriber.unsubscribe(),this.stickNoteUpdateSubscriber.unsubscribe()}},{key:"clearTimer",value:function(){this.timerValue=void 0,this.timerStart=void 0,this.timerEnd=void 0,this.timerEvent=void 0,this.timerIntervalId=void 0}},{key:"showConfirm",value:function(){var t,e,n,i,a,o,r,c,s,l,u,d,p,b=this;this._modalService.create({nzContent:ft,nzFooter:null,nzStyle:{visibility:this.timerEvent.data.id&&(null===(e=null===(t=this.timerEvent)||void 0===t?void 0:t.data)||void 0===e?void 0:e.episodeId)?"hidden":"visible"},nzBodyStyle:{paddingTop:"0px"},nzComponentParams:{patientName:null===(i=null===(n=this.timerEvent)||void 0===n?void 0:n.data)||void 0===i?void 0:i.attendeeName,patientId:null===(o=null===(a=this.timerEvent)||void 0===a?void 0:a.data)||void 0===o?void 0:o.attendeeId,stickyNote:null===(r=this.noteEvent)||void 0===r?void 0:r.data,autoCMTOverRide:!0,appointmentTime:[this.timerStart,this.timerEnd],staffId:null===(s=null===(c=this.timerEvent)||void 0===c?void 0:c.data)||void 0===s?void 0:s.attenderId,referrer:"GLOBAL_TIMER",appointmentId:null===(u=null===(l=this.timerEvent)||void 0===l?void 0:l.data)||void 0===u?void 0:u.id,episodeId:null===(p=null===(d=this.timerEvent)||void 0===d?void 0:d.data)||void 0===p?void 0:p.episodeId,timerId:this.timerId},nzMaskClosable:!1,nzCloseOnNavigation:!1,nzWidth:725}).afterClose.subscribe(function(t){var e,n;b.clearTimer(),localStorage.removeItem(null===(n=null===(e=b.timerEvent)||void 0===e?void 0:e.data)||void 0===n?void 0:n.attendeeId)})}},{key:"min",value:function(){this.noteEvent.state="MINIMIZED",this._dataSharingService.setStickNote(this.noteEvent)}},{key:"max",value:function(){this.noteEvent.state="MAXIMIZED",this._dataSharingService.setStickNote(this.noteEvent)}}]),t}()).\u0275fac=function(t){return new(t||_t)(m.Rb(k.a),m.Rb(q.f),m.Rb(P.a),m.Rb(vt.a),m.Rb(St))},_t.\u0275cmp=m.Lb({type:_t,selectors:[["app-global-timer"]],hostBindings:function(t,e){1&t&&m.ec("beforeunload",function(t){return e.handleClose(t)},!1,m.Kc)},features:[m.Cb([vt.a])],decls:1,vars:1,consts:[["class","container","cdkDrag","",4,"ngIf"],["cdkDrag","",1,"container"],["nz-row",""],["nz-col","","nzSpan","16"],["nz-typography","","nzType","secondary"],["nz-typography",""],["nz-col","","nzSpan","8"],["nz-typography","","nzType","success",1,"timer"],["nz-button","","nzType","text","nzShape","circle",1,"stop-btn",3,"click"],["size","45","name","stop","color","red"],["class","stick-note-btn",4,"ngIf"],[1,"stick-note-btn"],[3,"click"],["nz-icon","","nzType","snippets","nzTheme","fill",2,"font-size","20px","padding","10px"]],template:function(t,e){1&t&&m.Vc(0,Mt,21,13,"div",0),2&t&&m.rc("ngIf",e.timerStart&&!e.timerEnd)},directives:[E.q,yt.a,Tt.a,J.c,J.a,Q.a,tt.a,nt.a,Ct.a,Et.a],pipes:[E.A,E.e,vt.a],styles:[".container[_ngcontent-%COMP%]{position:fixed;left:15px;bottom:15px;z-index:1001}nz-card[_ngcontent-%COMP%]{width:300px;border:1px solid #ddd;box-shadow:0 4px 20px rgba(0,0,0,.5)}.timer[_ngcontent-%COMP%]{font-size:18px;text-align:center;display:block;margin-bottom:5px}button[_ngcontent-%COMP%]{margin:auto;display:block}.stop-btn[_ngcontent-%COMP%]{height:auto}.stick-note-btn[_ngcontent-%COMP%]{position:absolute;bottom:-1px;right:-1px;width:40px;height:40px;background:#000000c2;border-top-left-radius:10px;border-bottom-right-radius:15px}"],data:{animation:[Object(O.m)("inOutAnimation",[Object(O.l)(":enter",[Object(O.k)({right:-300,opacity:0}),Object(O.e)("0.3s ease-out",Object(O.k)({right:0,opacity:1}))]),Object(O.l)(":leave",[Object(O.k)({right:0,opacity:1}),Object(O.e)("0.3s ease-in",Object(O.k)({right:-300,opacity:0}))])])]}}),_t),Nt=((At=function(){function t(e){u(this,t),this._modalService=e,this.appVersion=mt.g.VERSION}return p(t,[{key:"checkVersion",value:function(){var t=this;if(!Object(m.Y)()){var e=localStorage.getItem("appVersion");e||(localStorage.setItem("appVersion",this.appVersion),e=this.appVersion),e!==this.appVersion&&this._modalService.confirm({nzTitle:"New update available",nzContent:"Click OK to reload and continue using the latest version of the portal",nzOnOk:function(){return t.clearStorageAndReload()}})}}},{key:"clearStorageAndReload",value:function(){localStorage.clear(),sessionStorage.clear(),localStorage.setItem("appVersion",this.appVersion),window.location.replace("/")}}]),t}()).\u0275fac=function(t){return new(t||At)(m.bc(q.f))},At.\u0275prov=m.Nb({token:At,factory:At.\u0275fac,providedIn:"root"}),At),Pt=r("PqYM"),Rt=r("xgIS"),Xt=r("eIep"),Lt=r("MtjB"),wt=r("vkgz"),Wt=r("3E0/"),Vt=r("Kj3r"),xt=r("JX91"),Ut=new m.r("ConnectionServiceOptionsToken"),Ft=((Dt=function(){function t(e,n){u(this,t),this.http=e,this.stateChangeEventEmitter=new m.n,this.currentState={hasInternetAccess:!1,hasNetworkConnection:window.navigator.onLine},this.serviceOptions={enableHeartbeat:!1,heartbeatUrl:"//internethealthtest.org",heartbeatInterval:1e5,heartbeatRetryInterval:1e5,requestMethod:"head"},this.checkNetworkState(),this.checkInternetState()}return p(t,[{key:"checkInternetState",value:function(){var t=this;this.httpSubscription&&this.httpSubscription.unsubscribe(),this.serviceOptions.enableHeartbeat?this.httpSubscription=Object(Pt.a)(0,this.serviceOptions.heartbeatInterval).pipe(Object(Xt.a)(function(){return t.http[t.serviceOptions.requestMethod](t.serviceOptions.heartbeatUrl,{responseType:"text"})}),Object(Lt.a)(function(e){return e.pipe(Object(wt.a)(function(e){console.error("Http error:",e),t.currentState.hasInternetAccess=!1,t.emitEvent()}),Object(Wt.a)(t.serviceOptions.heartbeatRetryInterval))})).subscribe(function(e){t.currentState.hasInternetAccess=!0,t.emitEvent()}):(this.currentState.hasInternetAccess=!1,this.emitEvent())}},{key:"checkNetworkState",value:function(){var t=this;this.onlineSubscription=Object(Rt.a)(window,"online").subscribe(function(){t.currentState.hasNetworkConnection=!0,t.checkInternetState(),t.emitEvent()}),this.offlineSubscription=Object(Rt.a)(window,"offline").subscribe(function(){t.currentState.hasNetworkConnection=!1,t.checkInternetState(),t.emitEvent()})}},{key:"emitEvent",value:function(){this.stateChangeEventEmitter.emit(this.currentState)}},{key:"ngOnDestroy",value:function(){try{this.offlineSubscription.unsubscribe(),this.onlineSubscription.unsubscribe(),this.httpSubscription.unsubscribe()}catch(t){}}},{key:"monitor",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return t?this.stateChangeEventEmitter.pipe(Object(Vt.a)(300),Object(xt.a)(this.currentState)):this.stateChangeEventEmitter.pipe(Object(Vt.a)(300))}},{key:"updateOptions",value:function(t){this.checkInternetState()}}]),t}()).\u0275fac=function(t){return new(t||Dt)(m.bc(C.c),m.bc(Ut,8))},Dt.\u0275prov=m.Nb({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt),Ht=r("XFrI"),Bt=r("KCkQ"),jt=r("+lv+"),Gt=r("W0aR"),Yt=r("7Xlp"),qt=r("5zaD"),Zt=r("ZVns"),Qt=r("l5mm"),Kt=function t(){u(this,t)},Jt=r("WoUL"),$t=function(){var t=function t(){u(this,t)};return t.APP_VERSION="dev",t.ENVIRONMENT="dev",t.URI="uri",t.CLASS_NAME="class_name",t.TENANT_ID="tenant_id",t.USER_ID="user_id",t.PHONE_NUMBER="phone_number",t.TENANT_NAME="tenant_name",t.ACCESS_TOKEN="access_token",t.ERROR_MSG="error_msg",t.SELECTED_NAME="selected_name",t.SOURCE="source",t.EMAIL_TO="email_to",t.REPORT_NAME="report_name",t.PATIENT_ID="patient_id",t.FILE_NAME="file_name",t.ERROR_REASON="error_reason",t.DRAWER_ITEM_SELECTED="DRAWER_ITEM_SELECTED",t.BUTTON_CLICKED="BUTTON_CLICKED",t.TAB_SELECTED="TAB_SELECTED",t.WIDGET_SELECTED="WIDGET_SELECTED",t.LIST_ITEM_SELECTED="LIST_ITEM_SELECTED",t.PAGE_VIEW="PAGE_VIEW",t.PAGE_DESTROY="PAGE_DESTROY",t.PAGE_PREV="PAGE_PREV",t.PAGE_NEXT="PAGE_NEXT",t.PAGE_GOTO="PAGE_GOTO",t.PICTURE_UPLOAD="PICTURE_UPLOAD",t.REPORT_DOWNLOAD_START="REPORT_DOWNLOAD_START",t.REPORT_DOWNLOAD_SUCCESS="REPORT_DOWNLOAD_SUCCESS",t.REPORT_DOWNLOAD_FAILURE="REPORT_DOWNLOAD_FAILURE",t.REPORT_SHARE="REPORT_SHARE",t}(),te=function(){var t=function t(){u(this,t)};return t.STRINGS=["CALL.INITIATING_CALL","CALL.CONNECTED","CALL.DISCONNECTED","CALL.INPUT_AUDIO_RESOURCE","CALL.OUTPUT_AUDIO_RESOURCE","CALL.OUTPUT_AUDIO_DEVICES_NOT_FOUND","CALL.INPUT_AUDIO_DEVICES_NOT_FOUND"],t.CALL_PARAMS={codecPreferences:["opus","pcmu"],fakeLocalDTMF:!0,debug:!1},t.AUDIO_CONSTRAINTS={autoGainControl:!1,echoCancellation:!0,noiseSuppression:!1},t}(),ee=((zt=function(t){o(n,t);var e=c(n);function n(){return u(this,n),e.apply(this,arguments)}return n}($t)).TWILIO_ONERROR="TWILIO_ONERROR",zt.VOICE_CALL_SID="VOICE_CALL_SID",zt.TOKEN_ACQUIRED="TOKEN_ACQUIRED",zt.INPUT_DEVICE_ERROR="INPUT_DEVICE_ERROR",zt.OUTPUT_DEVICE_ERROR="OUTPUT_DEVICE_ERROR",zt.VOICE_CALL_CONNECTED="VOICE_CALL_CONNECTED",zt.VOICE_CALL_SESSION_ID="VOICE_CALL_SESSION_ID",zt.VOICE_CALL_DISCONNECT="VOICE_CALL_DISCONNECT",zt.VOICECALL_TWILIO_ERROR="VOICECALL_TWILIO_ERROR",zt.TRIGGER_SUBSCRIBED="VOICECALL_TRIGGER_SUBSCRIBED",zt.VOICE_CALL_RECORDING_SID="VOICE_CALL_RECORDING_SID",zt.VOICE_CALL_RECORDING_STARTED="VOICE_CALL_RECORDING_STARTED",zt.VOICE_CALL_RECORDING_STOPPED="VOICE_CALL_RECORDING_STOPPED",zt),ne=r("W4mZ"),ie=r("BZRL"),ae=r("t6gT"),oe=r("KC2T"),re=((Ot=function(){function t(e,n){u(this,t),this.rendererFactory2=e,this._appointmentModalsService=n}return p(t,[{key:"postGlobalMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];window.postMessage({payload:JSON.stringify(t),type:e,state:n},window.location.origin)}},{key:"postParentWindowMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];window.opener.postMessage({payload:JSON.stringify(t),type:e,state:n},window.location.origin)}},{key:"addMessageEventHandler",value:function(){var t=this;this.renderer=this.rendererFactory2.createRenderer(null,null),this.renderer.listen("window","message",function(e){localStorage.getItem("sessionToken")&&e.origin===window.location.origin&&e.data&&e.data.payload&&t.handleMessageEvents(e.data)})}},{key:"handleMessageEvents",value:function(t){var e=JSON.parse(t.payload);switch(t.type){case"VIDEO_APPOINTMENT":case"AUDIO_CALL_APPOINTMENT":this._appointmentModalsService.showCallAppointmentNotesModal(e.appointmentId,e.callSessionId,t.type)}}}]),t}()).\u0275fac=function(t){return new(t||Ot)(m.bc(m.G),m.bc(oe.a))},Ot.\u0275prov=m.Nb({token:Ot,factory:Ot.\u0275fac,providedIn:"root"}),Ot),ce=r("ZPpM");function se(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",11),m.ec("click",function(){return m.Lc(n),m.ic(2).showConsentScript()}),m.Sb(1,"app-icons",12),m.Wb()}}function le(t,e){if(1&t&&m.Sb(0,"app-full-name",13),2&t){var n=m.ic(2);m.sc("firstName",n.user.firstName),m.sc("lastName",n.user.lastName)}}function ue(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-icons",17),m.ec("click",function(){return m.Lc(n),m.ic(3).startRecording()}),m.Wb()}}function de(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-icons",18),m.ec("click",function(){return m.Lc(n),m.ic(3).stopRecording()}),m.Wb()}}function pe(t,e){if(1&t&&(m.Xb(0,"button",14),m.Vc(1,ue,1,0,"app-icons",15),m.Vc(2,de,1,0,"app-icons",16),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.rc("ngIf",!n.recordingStarted),m.Db(1),m.rc("ngIf",n.recordingStarted)}}function be(t,e){1&t&&(m.Xb(0,"button",14),m.Sb(1,"app-icons",19),m.Wb())}function he(t,e){1&t&&m.Sb(0,"app-icons",23)}function ge(t,e){1&t&&m.Sb(0,"app-icons",24)}function fe(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",20),m.ec("click",function(){return m.Lc(n),m.ic(2).mute()}),m.Vc(1,he,1,0,"app-icons",21),m.Vc(2,ge,1,0,"app-icons",22),m.Wb()}if(2&t){var i=m.ic(2);m.Db(1),m.rc("ngIf",i.isMuted),m.Db(1),m.rc("ngIf",!i.isMuted)}}function ve(t,e){if(1&t&&(m.Xb(0,"h3"),m.Xc(1),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.ad(" ",n.minutes," : ",n.seconds," ")}}var me=function(t,e,n){return{"voice-call-default-view":t,"voice-call-consent-view":e,"voice-call-consent-script-expanded-view":n}},Se=function(t){return{color:t}};function ye(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",1),m.Xb(1,"nz-card"),m.Vc(2,se,2,0,"div",2),m.Xb(3,"strong"),m.Vc(4,le,1,2,"app-full-name",3),m.Wb(),m.Xb(5,"div",4),m.Xc(6),m.Wb(),m.Xb(7,"div",5),m.Xb(8,"button",6),m.ec("click",function(){return m.Lc(n),m.ic().stopRecordingAndDisconnect()}),m.Sb(9,"app-icons",7),m.Wb(),m.Vc(10,pe,3,2,"button",8),m.Vc(11,be,2,0,"button",8),m.Vc(12,fe,3,2,"button",9),m.Vc(13,ve,2,2,"h3",10),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=m.ic();m.rc("ngClass",m.Ac(10,me,"PATIENT_CONSENT"!==i.voiceCallContext,"PATIENT_CONSENT"==i.voiceCallContext,i.consentScriptExpanded)),m.Db(1),m.rc("@inOutAnimation",void 0),m.Db(1),m.rc("ngIf","PATIENT_CONSENT"==i.voiceCallContext),m.Db(2),m.rc("ngIf",i.user),m.Db(1),m.rc("ngStyle",m.yc(14,Se,i.isCallConnected?"#a7c853":"#888888")),m.Db(1),m.Yc(i.callStatus),m.Db(4),m.rc("ngIf",i.isCallConnected&&i.enableRecording&&i.isSessionCreated),m.Db(1),m.rc("ngIf",!i.isCallConnected),m.Db(1),m.rc("ngIf",i.isCallConnected),m.Db(1),m.rc("ngIf",i.isCallConnected)}}var Te,Ce,Ee,Ie,Me=((Ce=function(){function t(e,n,i,a,o,r,c,s,l){u(this,t),this.voiceCallService=e,this.ngZone=n,this.translationService=i,this.dataSharingService=a,this.appInsightsService=o,this.notificationService=r,this.consentScriptService=c,this._globalEventsService=s,this.consentService=l,this.recordingStarted=!1,this.callStatus="Initiating Call",this.isCallActive=!1,this.callDuration=0,this.isCallConnected=!1,this.enableRecording=!1,this.isSessionCreated=!1,this.consentScriptExpanded=!1,this.voicecallDetails={}}return p(t,[{key:"initiateCall",value:function(t,e,n){var i=this;this.initTranslationStrings(),this.properties[ee.USER_ID]=t.id,this.user=t,this.toNumber=e,this.isCallActive=!0,this.voiceCallService.getTwilioCapabilityToken(t.id,n).subscribe(function(t){i.token=t.token,i.phoneNumber=t.phoneNumber,i.properties[ee.PHONE_NUMBER]=i.phoneNumber,i.appInsightsService.logEvent(ee.TOKEN_ACQUIRED,i.properties),i.initiateTwilio(e)})}},{key:"initTranslationStrings",value:function(){var t,e=this;this.$translationSubscription=(t=this.translationService).getMultiple.apply(t,n(te.STRINGS)).subscribe(function(t){e.translatedStrings=t,e.callStatus=e.translatedStrings.get("CALL.INITIATING_CALL")})}},{key:"ngOnInit",value:function(){var t=this;this.voiceCallContext===ae.a.PATIENT_CONSENT&&(this.scriptSubscription=this.consentScriptService.getShowConsentScriptObservable().subscribe(function(e){return t.consentScriptExpanded=e}))}},{key:"ngOnDestroy",value:function(){this.disconnect(),null!=this.scriptSubscription&&this.scriptSubscription.unsubscribe()}},{key:"stopRecordingAndDisconnect",value:function(){var t=this;this.recordingStarted?(this.recordingStarted=!1,this.voiceCallService.stopVoiceCallRecording(this.voicecallDetails.voicecallSessionId,this.voicecallDetails.callRecordingId).subscribe(function(){t.appInsightsService.logEvent(ee.VOICE_CALL_RECORDING_STOPPED,t.properties),t.disconnect()})):this.disconnect()}},{key:"disconnect",value:function(){var t=this;this.stopTimer(),this.device&&this.ngZone.run(function(){t.device.disconnectAll(),t.device.destroy(),t.callDuration=0,clearInterval(t.timeInterval)})}},{key:"createSession",value:function(){var t,e,n=this,i=(arguments.length>0&&void 0!==arguments[0]||ae.a.DEFAULT,this.toNumber);null===(e=null===(t=this.user)||void 0===t?void 0:t.phoneNumbers)||void 0===e||e.forEach(function(t){(null==t?void 0:t.preferred)&&(i=null==t?void 0:t.number)});var a=new Kt;a.callSid=this.connection.parameters.CallSid,a.initiatedBy=localStorage.getItem("loggedInUser"),a.toUserId=this.user.id,a.toNumber=i,a.context=this.voiceCallContext,a.tenantId=this.user.tenantId,this.voiceCallService.createAudiocallSession(a).subscribe(function(t){n.isSessionCreated=!0,n.voicecallDetails.voicecallSessionId=t.id,n.properties[ee.VOICE_CALL_SESSION_ID]=n.voicecallDetails.voicecallSessionId,n.appInsightsService.logEvent(ee.VOICE_CALL_CONNECTED,n.properties)})}},{key:"initiateTwilio",value:function(t){var e=this;this.device=new qt.Device,this.device.setup(this.token,te.CALL_PARAMS),this.deviceCheck()||this.disconnect(),this.device.audio.setAudioConstraints(te.AUDIO_CONSTRAINTS).then(function(){e.device.on("ready",function(n){return e.onReady(n,t)}),e.device.on("error",function(t){return e.onError(t)}),e.device.on("connect",function(t){return e.onConnect(t)}),e.device.on("disconnect",function(t){return e.onDisconnect(t)})},function(t){e.properties.AUDIO_ERROR=t,e.appInsightsService.logEvent("CALL_CONNECTED",e.properties),e.device.audio.unsetAudioConstraints()})}},{key:"deviceCheck",value:function(){var t=!0;return null!=this.device.audio.availableOutputDevices&&0!=this.device.audio.availableOutputDevices.length||(this.appInsightsService.logEvent(ee.OUTPUT_DEVICE_ERROR,this.properties),this.notificationService.error(this.translatedStrings.get("CALL.OUTPUT_AUDIO_RESOURCE"),this.translatedStrings.get("CALL.OUTPUT_AUDIO_DEVICES_NOT_FOUND")),t=!1),null!=this.device.audio.availableInputDevices&&0!=this.device.audio.availableInputDevices.length||(this.appInsightsService.logEvent(ee.INPUT_DEVICE_ERROR,this.properties),this.notificationService.error(this.translatedStrings.get("CALL.OUTPUT_AUDIO_RESOURCE"),this.translatedStrings.get("CALL.INPUT_AUDIO_DEVICES_NOT_FOUND")),t=!1),t}},{key:"onReady",value:function(t,e){var n,i,a,o,r,c,s,l,u;(u=e?null===(i=null===(n=this.user)||void 0===n?void 0:n.phoneNumbers)||void 0===i?void 0:i.filter(function(t){return(null==t?void 0:t.number)==e}):null===(o=null===(a=this.user)||void 0===a?void 0:a.phoneNumbers)||void 0===o?void 0:o.filter(function(t){return null==t?void 0:t.preferred}))&&u.length>0&&(s=null===(r=u[0])||void 0===r?void 0:r.number,l=null===(c=u[0])||void 0===c?void 0:c.countryCode),s&&t.connect({To:l+s,From:this.phoneNumber})}},{key:"onError",value:function(t){var e=this;this.properties[ee.VOICECALL_TWILIO_ERROR]=t,this.appInsightsService.logEvent(ee.TWILIO_ONERROR,this.properties),this.ngZone.run(function(){return e.isCallActive=!1}),this.dataSharingService.setVoicecallDisconnectTrigger(!0)}},{key:"onConnect",value:function(t){var e=this;this.properties[ee.VOICE_CALL_SID]=t.parameters.CallSid,this.appInsightsService.logEvent(ee.VOICE_CALL_CONNECTED,this.properties),this.connection=t,this.createSession(),this.startTimer(),this.isCallConnected=!0,this.callStatus=this.translatedStrings.get("CALL.CONNECTED"),this.isMuted=t.isMuted(),this.activeCallSID=t.parameters.CallSid,this.ngZone.run(function(){return e.callStatus=e.translatedStrings.get("CALL.CONNECTED")})}},{key:"onDisconnect",value:function(t){var e=this;this.ngZone.run(function(){e.isCallActive=!1,e.callStatus=e.translatedStrings.get("CALL.DISCONNECTED")}),this.appInsightsService.logEvent(ee.VOICE_CALL_DISCONNECT,this.properties),this.dataSharingService.setVoiceCallInitiated(null),null!=this.voiceCallContext&&this.voiceCallContext===ae.a.PATIENT_CONSENT?this.consentService.setConsentCallDisconnect(this.voicecallDetails):this.dataSharingService.setVoicecallDisconnectTrigger(!0),this.handleAppointmentEvent()}},{key:"handleAppointmentEvent",value:function(){this.appointmentId&&this._globalEventsService.handleMessageEvents({payload:'{\n          "appointmentId": "'.concat(this.appointmentId,'",\n          "callSessionId": "').concat(this.properties[ee.VOICE_CALL_SID],'"\n        }'),type:"AUDIO_CALL_APPOINTMENT",state:!0})}},{key:"startTimer",value:function(){var t=this,e=Object(Qt.a)(1e3);this.timerSubscribe=e.subscribe(function(e){t.minutes=(""+~~(e/60)).padStart(2,"0"),t.seconds=(""+~~(e%60)).padStart(2,"0")})}},{key:"stopTimer",value:function(){null!=this.timerSubscribe&&this.timerSubscribe.unsubscribe()}},{key:"startRecording",value:function(){var t=this;this.recordingStarted=!0,this.voiceCallService.startVoiceCallRecording(this.voicecallDetails.voicecallSessionId).subscribe(function(e){t.voicecallDetails.callRecordingId=e.sid,t.voicecallDetails.callRecordingUri=e.uri,t.properties[ee.VOICE_CALL_RECORDING_SID]=t.voicecallDetails.callRecordingId,t.appInsightsService.logEvent(ee.VOICE_CALL_RECORDING_STARTED,t.properties)})}},{key:"stopRecording",value:function(){var t=this;this.recordingStarted=!1,null!=this.voicecallDetails&&this.voiceCallService.stopVoiceCallRecording(this.voicecallDetails.voicecallSessionId,this.voicecallDetails.callRecordingId).subscribe(function(e){t.appInsightsService.logEvent(ee.VOICE_CALL_RECORDING_STOPPED,t.properties)})}},{key:"mute",value:function(){this.connection.mute(!this.isMuted),this.isMuted=!this.isMuted}},{key:"showConsentScript",value:function(){this.consentScriptExpanded=!this.consentScriptExpanded,this.consentScriptService.setShowConsentScriptObservable(this.consentScriptExpanded)}}]),t}()).\u0275fac=function(t){return new(t||Ce)(m.Rb(Zt.a),m.Rb(m.A),m.Rb(Jt.a),m.Rb(k.a),m.Rb(Yt.a),m.Rb(Z.b),m.Rb(ne.a),m.Rb(re),m.Rb(ie.a))},Ce.\u0275cmp=m.Lb({type:Ce,selectors:[["app-voice-call"]],features:[m.Cb([Zt.a])],decls:1,vars:1,consts:[["cdkDrag","",3,"ngClass",4,"ngIf"],["cdkDrag","",3,"ngClass"],["class","consent-script-button",3,"click",4,"ngIf"],[3,"firstName","lastName",4,"ngIf"],[3,"ngStyle"],[1,"controls-and-duration"],["nz-button","","nzShape","circle",2,"width","60px","height","60px","padding","0px",3,"click"],["size","60","name","callDisconnect","color","#ffffff","altColor","#ffffff","strokeColor","#ffffff","strokeWidth","0"],["nz-button","","nzShape","circle",4,"ngIf"],["nz-button","","nzShape","circle",3,"click",4,"ngIf"],[4,"ngIf"],[1,"consent-script-button",3,"click"],["size","40px","name","greenFilledForm","originalStyle","true"],[3,"firstName","lastName"],["nz-button","","nzShape","circle"],["size","20","name","startedRecording","color","red",3,"click",4,"ngIf"],["size","20","name","stopRecord","color","red",3,"click",4,"ngIf"],["size","20","name","startedRecording","color","red",3,"click"],["size","20","name","stopRecord","color","red",3,"click"],["size","20","name","micMute","altColor","red","color","grey"],["nz-button","","nzShape","circle",3,"click"],["size","20","name","micMute","color","red",4,"ngIf"],["size","20","name","micMute","color","black",4,"ngIf"],["size","20","name","micMute","color","red"],["size","20","name","micMute","color","black"]],template:function(t,e){1&t&&m.Vc(0,ye,14,16,"div",0),2&t&&m.rc("ngIf",e.isCallActive)},directives:[E.q,yt.a,E.o,Tt.a,E.r,tt.a,et.a,nt.a,Ct.a,ce.a],styles:[".voice-call-default-view[_ngcontent-%COMP%]{position:fixed;right:15px;top:15px;z-index:1001}.voice-call-consent-view[_ngcontent-%COMP%]{position:fixed;right:100px;bottom:100px;z-index:1001}.voice-call-consent-script-expanded-view[_ngcontent-%COMP%]{position:fixed;right:500px;bottom:100px;z-index:1001}nz-card[_ngcontent-%COMP%]{width:300px;margin-top:20px;margin-right:20px;border-radius:15px;border:1px solid #ddd;box-shadow:0 4px 24px rgba(0,0,0,.5)}.consent-script-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.controls-and-duration[_ngcontent-%COMP%]{height:80px;margin-top:30px;display:flex;flex-direction:row;justify-content:flex-start;align-items:center;align-content:center}.controls-and-duration[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-left:auto;margin-right:30px}button[_ngcontent-%COMP%]{background-color:#f0f2f6;border-style:none;margin-right:10px;height:40px;width:40px;padding-top:9px}app-icons[_ngcontent-%COMP%]{cursor:pointer}"],data:{animation:[Object(O.m)("inOutAnimation",[Object(O.l)(":enter",[Object(O.k)({right:-300,opacity:0}),Object(O.e)("0.3s ease-out",Object(O.k)({right:0,opacity:1}))]),Object(O.l)(":leave",[Object(O.k)({right:0,opacity:1}),Object(O.e)("0.3s ease-in",Object(O.k)({right:-300,opacity:0}))])])]}}),Ce),Ae=((Te=function t(e){u(this,t),this.viewContainerRef=e}).\u0275fac=function(t){return new(t||Te)(m.Rb(m.R))},Te.\u0275dir=m.Mb({type:Te,selectors:[["","voicecallHost",""]]}),Te),_e=r("SP7D"),De=r("0+cO"),ze=r("D+TJ"),Oe=r("5P38"),ke=((Ie=function t(e){u(this,t),this.viewContainerRef=e}).\u0275fac=function(t){return new(t||Ie)(m.Rb(m.R))},Ie.\u0275dir=m.Mb({type:Ie,selectors:[["","globalTimerHost",""]]}),Ie),Ne=((Ee=function t(e){u(this,t),this.viewContainerRef=e}).\u0275fac=function(t){return new(t||Ee)(m.Rb(m.R))},Ee.\u0275dir=m.Mb({type:Ee,selectors:[["","globalNotesHost",""]]}),Ee),Pe=r("+gyu"),Re=r("c36b"),Xe=r("mUB+"),Le=r("mUTz");function we(t,e){if(1&t){var n=m.Yb();m.Xb(0,"span",20),m.ec("click",function(){m.Lc(n);var t=m.ic(2);return t.maxMin(!t.minScreen)}),m.Wb()}}function We(t,e){if(1&t){var n=m.Yb();m.Xb(0,"span",21),m.ec("click",function(){m.Lc(n);var t=m.ic(2);return t.maxMin(!t.minScreen)}),m.Wb()}}function Ve(t,e){1&t&&(m.Xb(0,"label",22),m.Xc(1,"Required"),m.Wb())}var xe=function(t){return{border:t}};function Ue(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",1),m.Xb(1,"nz-card",2),m.Xb(2,"div",3),m.Xb(3,"div",4),m.Xb(4,"strong"),m.Xb(5,"p",5),m.Xc(6,"Time Tracking Notes"),m.Wb(),m.Wb(),m.Wb(),m.Xb(7,"div",6),m.Xb(8,"span",7),m.ec("click",function(){return m.Lc(n),m.ic().minimize()}),m.Wb(),m.Wb(),m.Xb(9,"div",8),m.Vc(10,we,1,0,"span",9),m.Vc(11,We,1,0,"span",10),m.Wb(),m.Wb(),m.Xb(12,"div",3),m.Xb(13,"div",11),m.Xb(14,"angular-editor",12,13),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().content=t})("ngModelChange",function(t){return m.Lc(n),m.ic().onNoteChanged(t)}),m.jc(16,"translate"),m.Wb(),m.Vc(17,Ve,2,0,"label",14),m.Wb(),m.Wb(),m.Sb(18,"br"),m.Xb(19,"div",15),m.Xb(20,"div",16),m.Xb(21,"app-note-template-picker",17),m.ec("onTemplateSelected",function(t){return m.Lc(n),m.ic().setTemplate(t)}),m.Wb(),m.Wb(),m.Xb(22,"div",18),m.Xb(23,"button",19),m.ec("click",function(){return m.Lc(n),m.ic().saveNote()}),m.Xc(24," Stop "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=m.ic();m.Db(1),m.rc("@inOutAnimation",void 0),m.Db(1),m.rc("nzGutter",16),m.Db(1),m.rc("nzSpan",20),m.Db(4),m.rc("nzSpan",2),m.Db(2),m.rc("nzSpan",2),m.Db(1),m.rc("ngIf",i.minScreen),m.Db(1),m.rc("ngIf",!i.minScreen),m.Db(1),m.rc("nzGutter",16),m.Db(1),m.rc("nzSpan",24),m.Db(1),m.sc("placeholder",m.kc(16,19,"COMMON.ENTER_NOTES")),m.rc("ngModel",i.content)("ngStyle",m.yc(21,xe,i.isInputEmpty?"1px solid red":""))("config",i.config),m.Db(3),m.rc("ngIf",i.isInputEmpty),m.Db(4),m.rc("note",i.content)("pageNumber",i.pageNumber)("limit",i.limit)("searchKey",i.searchKey)("tenantId",i.tenantId)}}var Fe,He,Be,je=((Fe=function(){function t(e,n){u(this,t),this._noteTemplatesService=e,this._dataSharingService=n,this.state="RESTORED",this.showTemplate=!0,this.close=new m.n,this.showNotes=!0,this.content="",this.isLoadingSaveNote=!1,this.isInputEmpty=!1,this.minScreen=!0,this.config="MAXIMIZED"==this.state?Re.d:Re.c}return p(t,[{key:"ngOnInit",value:function(){}},{key:"closeDialog",value:function(){this.close.emit()}},{key:"onNoteChanged",value:function(t){this.isInputEmpty=0===(null==t?void 0:t.length),this._dataSharingService.updateStickyNote(t)}},{key:"setTemplate",value:function(t){this.content=t,this._dataSharingService.updateStickyNote(t)}},{key:"saveNote",value:function(){this.showNotes=!1,this._dataSharingService.setStickNote({patientId:this.patientId,patientName:this.patientName,data:this.content,tenantId:this.tenantId,state:"COMPLETED"})}},{key:"minimize",value:function(){this.showNotes=!1,this._dataSharingService.setStickNote({patientId:this.patientId,patientName:this.patientName,tenantId:this.tenantId,data:this.content,state:"MINIMIZED"})}},{key:"maxMin",value:function(t){this.minScreen=t,this._dataSharingService.refreshStickNoteEditor({patientId:this.patientId,patientName:this.patientName,tenantId:this.tenantId,data:this.content,state:this.minScreen?"RESTORED":"MAXIMIZED"})}}]),t}()).\u0275fac=function(t){return new(t||Fe)(m.Rb(Pe.a),m.Rb(k.a))},Fe.\u0275cmp=m.Lb({type:Fe,selectors:[["app-notes-basic"]],inputs:{patientId:"patientId",tenantId:"tenantId",patientName:"patientName",state:"state",showTemplate:"showTemplate"},outputs:{close:"close"},decls:1,vars:1,consts:[["class","container notes-container","cdkDrag","",4,"ngIf"],["cdkDrag","",1,"container","notes-container"],[1,"note-card"],["nz-row","",3,"nzGutter"],["nz-col","","cdkDragHandle","",1,"title",3,"nzSpan"],["id","patient"],["nz-col","","id","minimize",2,"cursor","default",3,"nzSpan"],["nz-icon","","nzType","minus","nzTheme","outline",2,"font-size","18px",3,"click"],["nz-col","","id","maximize",2,"cursor","default",3,"nzSpan"],["style","font-size: 18px;","nz-icon","","nzType","fullscreen","nzTheme","outline",3,"click",4,"ngIf"],["style","font-size: 18px;","nz-icon","","nzType","fullscreen-exit","nzTheme","outline",3,"click",4,"ngIf"],["nz-col","",3,"nzSpan"],[3,"ngModel","ngStyle","placeholder","config","ngModelChange"],["note",""],["style","color:red",4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","18"],[3,"note","pageNumber","limit","searchKey","tenantId","onTemplateSelected"],["nz-col","","nzSpan","6",2,"text-align","right"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","fullscreen","nzTheme","outline",2,"font-size","18px",3,"click"],["nz-icon","","nzType","fullscreen-exit","nzTheme","outline",2,"font-size","18px",3,"click"],[2,"color","red"]],template:function(t,e){1&t&&m.Vc(0,Ue,25,23,"div",0),2&t&&m.rc("ngIf",e.showNotes)},directives:[E.q,yt.a,Tt.a,J.c,J.a,yt.b,nt.a,Et.a,Xe.a,I.u,I.x,E.r,Le.a,tt.a,et.a],pipes:[rt.a],styles:[".close[_ngcontent-%COMP%]{float:right;cursor:pointer}#patient[_ngcontent-%COMP%]{border-left:2px solid var(--primary-color);padding-left:10px;font:normal normal 700 16px/19px Nunito}#add-note-container[_ngcontent-%COMP%]{width:95%}#add-note-input[_ngcontent-%COMP%]{margin:2% 1% 2% 2%;width:70%}.block-inline[_ngcontent-%COMP%]{display:inline-block}#save-note[_ngcontent-%COMP%]{border-radius:10px;margin-left:5%;background-color:#f7f7f7}.notes-container[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;z-index:999}.note[_ngcontent-%COMP%]{color:gray}.note[_ngcontent-%COMP%], .note-addedBy[_ngcontent-%COMP%], .note-date[_ngcontent-%COMP%]{font-size:12px}.note-addedBy[_ngcontent-%COMP%]{text-align:right}.infoCirle[_ngcontent-%COMP%]{position:relative;vertical-align:text-top;left:14px}.title[_ngcontent-%COMP%]{cursor:move}#minimize[_ngcontent-%COMP%]{cursor:default}#minimize[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:var(--primary-color)}.note-card[_ngcontent-%COMP%]{border:1px solid #ddd;box-shadow:0 4px 20px rgba(0,0,0,.5)}"],data:{animation:[Object(O.m)("inOutAnimation",[Object(O.l)(":enter",[Object(O.k)({right:-300,opacity:0}),Object(O.e)("0.3s ease-out",Object(O.k)({right:0,opacity:1}))]),Object(O.l)(":leave",[Object(O.k)({right:0,opacity:1}),Object(O.e)("0.3s ease-in",Object(O.k)({right:-300,opacity:0}))])])]}}),Fe),Ge=r("jZiR"),Ye=r("zM63"),qe=((He=function(){function t(e){u(this,t),this.elementRef=e,this.isInitialized=!1}return p(t,[{key:"ngDoCheck",value:function(){if(!this.isInitialized){var t=this.elementRef.nativeElement.querySelector(".ng-spinner");null!=t&&(t.setAttribute("style","bottom: 15px; top: auto;"),this.isInitialized=!0)}}}]),t}()).\u0275fac=function(t){return new(t||He)(m.Rb(m.l))},He.\u0275dir=m.Mb({type:He,selectors:[["","appSpinnerPosition",""]]}),He),Ze=r("qAZ0"),Qe=r("yW9e"),Ke=r("7RJT"),Je=((Be=function(){function t(){u(this,t),this.tourEvent=new Ke.BehaviorSubject(null)}return p(t,[{key:"getTourEvent",value:function(){return this.tourEvent}},{key:"setTourEvent",value:function(t){this.tourEvent.next(t)}}]),t}()).\u0275fac=function(t){return new(t||Be)},Be.\u0275prov=m.Nb({token:Be,factory:Be.\u0275fac,providedIn:"root"}),Be),$e=r("H9Vc"),tn=r("nJia"),en=r("wjar");function nn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",7),m.Xb(1,"div",8),m.Xb(2,"h4",9),m.Xc(3),m.Wb(),m.Wb(),m.Xb(4,"div",10),m.Xb(5,"button",11),m.ec("break",function(t){return m.Lc(n),m.ic(2).break(t)})("done",function(t){return m.Lc(n),m.ic(2).done(t)}),m.Xc(6," \xd7 "),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=m.ic().ngIf;m.Db(2),m.rc("nzTooltipTitle",i.title),m.Db(1),m.Zc(" ",i.title," ")}}function an(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",14),m.Xb(1,"button",15),m.ec("prev",function(t){return m.Lc(n),m.ic(3).previous(t)}),m.Xc(2),m.Wb(),m.Wb()}if(2&t){var i=m.ic(2).ngIf;m.Db(2),m.Zc(" ",i.ctrlBtns.prev," ")}}function on(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",16),m.Xb(1,"button",17),m.ec("next",function(t){return m.Lc(n),m.ic(3).next(t)}),m.Xc(2),m.Wb(),m.Wb()}if(2&t){var i=m.ic(2).ngIf;m.rc("nzOffset",i.options.withoutPrev||0===i.index?"12":"0"),m.Db(2),m.Zc(" ",i.ctrlBtns.next," ")}}function rn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",14),m.Xb(1,"button",18),m.ec("break",function(t){return m.Lc(n),m.ic(3).break(t)})("done",function(t){return m.Lc(n),m.ic(3).done(t)}),m.Xc(2),m.Wb(),m.Wb()}if(2&t){var i=m.ic(2).ngIf;m.Db(2),m.Zc(" ",i.ctrlBtns.done," ")}}function cn(t,e){if(1&t&&(m.Xb(0,"div",7),m.Vc(1,an,3,1,"div",12),m.Vc(2,on,3,2,"div",13),m.Vc(3,rn,3,1,"div",12),m.Wb()),2&t){var n=m.ic().ngIf;m.Db(1),m.rc("ngIf",!n.options.withoutPrev&&n.index),m.Db(1),m.rc("ngIf",n.index+1!==n.total),m.Db(1),m.rc("ngIf",n.index+1===n.total)}}function sn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"p",5),m.Xb(1,"strong"),m.Xc(2,"Need more detailed info:"),m.Wb(),m.Xc(3," Find our "),m.Xb(4,"strong",19),m.ec("click",function(){return m.Lc(n),m.ic(2).redirectToHelpGuides()}),m.Xc(5,"help guides"),m.Wb(),m.Xc(6," which takes you step by step through the entire portal or view our "),m.Xb(7,"strong",19),m.ec("click",function(){return m.Lc(n),m.ic(2).redirectToHelpGuides("videos")}),m.Xc(8," tutorial videos "),m.Wb(),m.Xc(9," of the same. "),m.Wb()}}var ln=function(t){return[t]};function un(t,e){if(1&t&&(m.Xb(0,"nz-card",2),m.Vc(1,nn,7,2,"ng-template",null,3,m.Wc),m.Vc(3,cn,4,3,"ng-template",null,4,m.Wc),m.Xb(5,"p",5),m.Xc(6),m.Wb(),m.Vc(7,sn,10,0,"p",6),m.Wb()),2&t){var n=e.ngIf,i=m.Ic(2),a=m.Ic(4);m.rc("nzTitle",i)("nzActions",m.yc(4,ln,a)),m.Db(6),m.Yc(n.description),m.Db(1),m.rc("ngIf",n.showHelpRedirect)}}var dn,pn=((dn=function(){function t(e,n,i){u(this,t),this._guidedTourService=e,this._guidedTourStatusService=n,this._router=i}return p(t,[{key:"previous",value:function(t){this._guidedTourStatusService.setTourEvent(t)}},{key:"next",value:function(t){this._guidedTourStatusService.setTourEvent(t)}},{key:"done",value:function(t){this._guidedTourStatusService.setTourEvent(t)}},{key:"break",value:function(t){this._guidedTourStatusService.setTourEvent(t)}},{key:"redirectToHelpGuides",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"docs";this._guidedTourService.stopTour(),this._router.navigate(["support/help-guides"],{queryParams:{type:t}})}}]),t}()).\u0275fac=function(t){return new(t||dn)(m.Rb($e.c),m.Rb(Je),m.Rb(y.g))},dn.\u0275cmp=m.Lb({type:dn,selectors:[["app-tour-template"]],decls:4,vars:3,consts:[["refToExportAs","steps$"],[3,"nzTitle","nzActions",4,"ngIf"],[3,"nzTitle","nzActions"],["tourTitle",""],["tourActions",""],["nz-typography",""],["nz-typography","",4,"ngIf"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","21"],["nz-typography","","nzEllipsis","","nz-tooltip","","nzType","success",3,"nzTooltipTitle"],["nz-col","","nzSpan","3"],["nz-button","","nzType","link","stepEvent","close",3,"break","done"],["nz-col","","nzSpan","12",4,"ngIf"],["nz-col","","nzSpan","12",3,"nzOffset",4,"ngIf"],["nz-col","","nzSpan","12"],["nz-button","","stepEvent","prev",3,"prev"],["nz-col","","nzSpan","12",3,"nzOffset"],["nz-button","","nzType","primary","stepEvent","next",3,"next"],["nz-button","","nzType","primary","stepEvent","close",3,"break","done"],["nz-typography","","nzType","success","actionable","",3,"click"]],template:function(t,e){if(1&t&&(m.Xb(0,"ng-tour-template",null,0),m.Vc(2,un,8,6,"nz-card",1),m.jc(3,"async"),m.Wb()),2&t){var n=m.Ic(1);m.Db(2),m.rc("ngIf",m.kc(3,1,n.steps$))}},directives:[$e.d,E.q,Tt.a,Q.a,J.c,J.a,tn.d,tt.a,nt.a,$e.b,et.a,en.a],pipes:[E.b],styles:[".ant-card[_ngcontent-%COMP%]{padding:10px;border-radius:0;background:transparent;border:none}button[_ngcontent-%COMP%]{width:90%;text-transform:capitalize}[_nghost-%COMP%]     .ant-btn-link{font-size:20px!important;padding-top:0!important;margin-top:-10px!important}[_nghost-%COMP%]     .tour-step-modal:after{top:2rem!important}[_nghost-%COMP%]     .right-aligned .tour-step-modal{left:calc(100% - 500px)!important;border-radius:35px 20px}[_nghost-%COMP%]     .right-aligned-center .tour-step-modal{left:calc(100% - 800px)!important;border-radius:35px 20px}[_nghost-%COMP%]     .left-aligned .tour-step-modal{left:100px!important;border-radius:20px 35px}[_nghost-%COMP%]     .left-aligned-center .tour-step-modal{left:500px!important;border-radius:20px 35px}"]}),dn),bn=r("bDfm");function hn(t,e){1&t&&m.Sb(0,"app-icons",10)}function gn(t,e){1&t&&m.Sb(0,"app-icons",11)}var fn=function(t){return{"minimized-container":t}},vn=function(t){return{"minimized-header":t}},mn=function(t){return{"minimized-frame":t}};function Sn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",1),m.Xb(1,"div",2),m.Xb(2,"div",3),m.Xb(3,"div",4),m.Xc(4),m.jc(5,"titlecase"),m.Wb(),m.Wb(),m.Xb(6,"div"),m.Xb(7,"button",5),m.ec("click",function(){return m.Lc(n),m.ic().toggle()}),m.Vc(8,hn,1,0,"app-icons",6),m.Vc(9,gn,1,0,"app-icons",7),m.Wb(),m.Wb(),m.Xb(10,"div"),m.Xb(11,"button",5),m.ec("click",function(){return m.Lc(n),m.ic().closeWindowEvent()}),m.Sb(12,"app-icons",8),m.Wb(),m.Wb(),m.Wb(),m.Sb(13,"iframe",9),m.Wb()}if(2&t){var i=m.ic();m.rc("ngClass",m.yc(10,fn,i.minimized))("cdkDragDisabled",i.minimized),m.Db(1),m.rc("ngClass",m.yc(12,vn,i.minimized)),m.Db(3),m.Zc(" ",m.kc(5,8,i.patientName)," "),m.Db(4),m.rc("ngIf",i.minimized),m.Db(1),m.rc("ngIf",!i.minimized),m.Db(4),m.rc("ngClass",m.yc(14,mn,i.minimized))("src",i.url,m.Nc)}}var yn,Tn,Cn=((yn=function(){function t(e,n,i){u(this,t),this._dataSharingService=e,this._modalService=n,this._notificationsService=i,this.minimized=!1,this.close=new m.n}return p(t,[{key:"onMessage",value:function(t){var e,n,i,a;(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.canClose)&&!(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.success)?this.close.emit():(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.canClose)&&(null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.success)&&this.closeWebForm()}},{key:"toggle",value:function(){this.minimized=!this.minimized}},{key:"closeWebForm",value:function(){var t=this;this.showConfirm(),setTimeout(function(){t._dataSharingService.triggerAlertRefresh()},2e3),this.close.emit()}},{key:"showConfirm",value:function(){var t=this;this._modalService.confirm({nzTitle:"Notes",nzContent:"Do you want to add a note?",nzOkText:"Ok",nzCancelText:"Cancel",nzOnOk:function(){return t.addNote()}})}},{key:"addNote",value:function(){var t=this,e=this._modalService.create({nzContent:bn.a,nzComponentParams:{patientId:this.patientId,patientName:this.patientName},nzStyle:{width:"800px"},nzClosable:!0,nzFooter:null});this.notesDialog$=e.afterClose.subscribe(function(e){null!=e&&t._notificationsService.success("Notes","Note for patient added successfully!")})}},{key:"ngOnDestroy",value:function(){var t;null===(t=this.notesDialog$)||void 0===t||t.unsubscribe()}},{key:"closeWindowEvent",value:function(){null===window||void 0===window||window.postMessage({success:!1,canClose:!0,data:{}},"*")}}]),t}()).\u0275fac=function(t){return new(t||yn)(m.Rb(k.a),m.Rb(q.f),m.Rb(Z.b))},yn.\u0275cmp=m.Lb({type:yn,selectors:[["app-assessment-form"]],hostBindings:function(t,e){1&t&&m.ec("message",function(t){return e.onMessage(t)},!1,m.Kc)},inputs:{patientId:"patientId",patientName:"patientName",url:"url"},outputs:{close:"close"},decls:1,vars:1,consts:[["id","patient-assessment-container","cdkDrag","",3,"ngClass","cdkDragDisabled",4,"ngIf"],["id","patient-assessment-container","cdkDrag","",3,"ngClass","cdkDragDisabled"],["id","header","cdkDragHandle","",3,"ngClass"],["id","patient-name-container"],["id","patient-name"],["nz-button","","nzSize","small","nzType","link",3,"click"],["name","up",4,"ngIf"],["name","minus",4,"ngIf"],["name","close"],["id","patient-assessment-frame","title","assessment","width","100%","height","650",3,"ngClass","src"],["name","up"],["name","minus"]],template:function(t,e){1&t&&m.Vc(0,Sn,14,16,"div",0),2&t&&m.rc("ngIf",e.url)},directives:[E.q,yt.a,E.o,yt.b,tt.a,nt.a,Ct.a],pipes:[E.A],styles:["#patient-assessment-container[_ngcontent-%COMP%]{width:400px;top:25px;position:fixed;z-index:99999!important;left:calc((100vh/2) + 150px)}#header[_ngcontent-%COMP%]{display:flex;flex-direction:row;background-color:#404040;color:var(--neutral-color);margin:0;padding:10px;cursor:pointer;border-radius:5px 5px 0 0}#patient-name-container[_ngcontent-%COMP%]{flex:1;text-overflow:ellipsis}#patient-name[_ngcontent-%COMP%]{top:5px;left:5px;position:relative}.minimized-container[_ngcontent-%COMP%]{height:50px;top:unset!important;left:unset!important;bottom:-5px;right:50px}.minimized-frame[_ngcontent-%COMP%]{visibility:hidden}"]}),yn),En=r("XNiG"),In=r("1G5W"),Mn=r("x6g7"),An=r("CIkO"),_n=r("4iVq"),Dn=r("ZE2D"),zn=((Tn=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t){var e=t.split(" "),n=e[0].charAt(0);return e.length>1&&(n+=e[e.length-1].charAt(0)),n}}]),t}()).\u0275fac=function(t){return new(t||Tn)},Tn.\u0275pipe=m.Qb({name:"nameFirstLetters",type:Tn,pure:!0}),Tn);function On(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"nz-card",3),m.Xb(2,"h4",4),m.Sb(3,"nz-avatar",5),m.jc(4,"nameFirstLetters"),m.Xb(5,"span",6),m.Xc(6),m.Wb(),m.Xb(7,"span",7),m.Xb(8,"button",8),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic(2).removeTimeTrackingNotes(t.patientId)}),m.Sb(9,"span",9),m.Wb(),m.Wb(),m.Xb(10,"span",7),m.Xb(11,"button",10),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic(2).save(t)}),m.Sb(12,"span",11),m.Wb(),m.Wb(),m.Wb(),m.Xb(13,"p",12),m.Xc(14),m.jc(15,"date"),m.jc(16,"date"),m.Wb(),m.Xb(17,"div",13),m.Sb(18,"p",14),m.Wb(),m.Wb(),m.Ub()}if(2&t){var i=e.$implicit;m.Db(1),m.rc("nzHoverable",!0),m.Db(2),m.sc("nzText",m.kc(4,6,i.patientName)),m.Db(3),m.Zc(" ",i.patientName," "),m.Db(8),m.ad(" ",m.lc(15,8,i.startTime,"dd MMM | h:mm a")," - ",m.lc(16,11,i.endTime,"dd MMM | h:mm a"),""),m.Db(4),m.sc("innerHtml",i.stickyNote,m.Mc)}}function kn(t,e){if(1&t&&(m.Vb(0),m.Vc(1,On,19,14,"ng-container",2),m.Ub()),2&t){var n=m.ic();m.Db(1),m.rc("ngForOf",n.drafts)}}function Nn(t,e){1&t&&(m.Xb(0,"span"),m.Xc(1," No Drafts "),m.Wb())}function Pn(t,e){if(1&t&&(m.Xb(0,"div",15),m.Xb(1,"nz-empty",16),m.Vc(2,Nn,2,0,"ng-template",null,17,m.Wc),m.Wb(),m.Wb()),2&t){var n=m.Ic(3);m.Db(1),m.rc("nzNotFoundContent",n)}}var Rn,Xn=((Rn=function(){function t(e,n,i){u(this,t),this.draftHelper=e,this._modalService=n,this._dataSharingService=i,this.isEmpty=!1,this.patientNotes=new Map,this.drafts=new Array}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.init(),this._dataSharingService.onDraftRefreshTriggered().subscribe(function(){return t.init()})}},{key:"init",value:function(){this.drafts=n(this.draftHelper.processTimeTrackingNotes()),this.isEmpty=0==this.drafts.length}},{key:"removeTimeTrackingNotes",value:function(t){this.draftHelper.removeTimeTrackingNotes(t),this.isEmpty=0==this.draftHelper.getCount()}},{key:"save",value:function(t){this._modalService.create({nzContent:ft,nzFooter:null,nzStyle:{visibility:t.appointmentId&&t.episodeId?"hidden":"visible"},nzBodyStyle:{paddingTop:"0px"},nzComponentParams:{patientId:t.patientId,stickyNote:t.stickyNote,autoCMTOverRide:t.autoCMTOverRide,appointmentTime:[new Date(t.startTime),new Date(t.endTime)],staffId:t.staffId,referrer:t.referrer,appointmentId:t.appointmentId,episodeId:t.episodeId,timerId:null==t?void 0:t.timerId,draftId:t.draftId},nzMaskClosable:!1,nzCloseOnNavigation:!1,nzWidth:725})}}]),t}()).\u0275fac=function(t){return new(t||Rn)(m.Rb(P.a),m.Rb(q.f),m.Rb(k.a))},Rn.\u0275cmp=m.Lb({type:Rn,selectors:[["app-time-tracking-note-history"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["empty",""],[4,"ngFor","ngForOf"],[1,"draft-card",3,"nzHoverable"],["nz-typography",""],[2,"color","#f56a00","background-color","#fde3cf",3,"nzText"],[2,"padding-left","5px"],[2,"position","relative","float","right","margin-right","5px"],["nz-button","","nzType","danger","nzShape","circle",3,"click"],["nz-icon","","nzType","delete"],["nz-button","","nzType","primary","nzShape","circle",3,"click"],["nz-icon","","nzType","save"],["nz-typography","","nzType","secondary"],[2,"height","200px","width","100%","white-space","nowrap","overflow","scroll"],["nz-typography","",3,"innerHtml"],[1,"container"],["nzNotFoundImage","https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",3,"nzNotFoundContent"],["noDraft",""]],template:function(t,e){if(1&t&&(m.Vc(0,kn,2,1,"ng-container",0),m.Vc(1,Pn,4,1,"ng-template",null,1,m.Wc)),2&t){var n=m.Ic(2);m.rc("ngIf",!e.isEmpty)("ngIfElse",n)}},directives:[E.q,E.p,Tt.a,Q.a,Dn.a,tt.a,et.a,nt.a,Et.a,ot.b],pipes:[zn,E.e],styles:[".draft-card[_ngcontent-%COMP%]{background:var(--neutral-color) 0 0 no-repeat padding-box;margin-bottom:3px}[_nghost-%COMP%]     .ant-card-hoverable:hover{box-shadow:3px 5px 5px #00000036;background:#f1f1f1 0 0 no-repeat padding-box}.draft-card[_ngcontent-%COMP%] >   .ant-card-body{padding:10px 10px 10px 18px}[_nghost-%COMP%]     .ant-empty{padding-top:75%}"]}),Rn),Ln=r("F6ss"),wn=r("jPNr"),Wn=r("Szod"),Vn=r("Jlwr"),xn=r("8yaK");function Un(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"span",1),m.Xc(2),m.Xb(3,"span",2),m.Xc(4," :"),m.Wb(),m.Xc(5),m.Xb(6,"span",2),m.Xc(7,":"),m.Wb(),m.Xc(8),m.Wb(),m.Xc(9," \xa0\xa0\xa0\xa0\xa0\xa0\n"),m.Ub()),2&t){var n=m.ic();m.Db(2),m.Zc("",(null==n.timerTick?null:n.timerTick.hours)<10?"0"+(null==n.timerTick?null:n.timerTick.hours):null==n.timerTick?null:n.timerTick.hours," "),m.Db(3),m.Zc(" ",(null==n.timerTick?null:n.timerTick.minutes)<10?"0"+(null==n.timerTick?null:n.timerTick.minutes):null==n.timerTick?null:n.timerTick.minutes," "),m.Db(3),m.Zc(" ",(null==n.timerTick?null:n.timerTick.seconds)<10?"0"+(null==n.timerTick?null:n.timerTick.seconds):null==n.timerTick?null:n.timerTick.seconds," ")}}var Fn,Hn=((Fn=function(){function t(e,n,i,a){var o=this;if(u(this,t),this._dataSharingService=e,this._staffSessionService=n,this._staffSessionPingService=i,this._sessionTimerService=a,!JSON.parse(sessionStorage.getItem("sessionTimerId"))){var r=Date.now().toString();sessionStorage.setItem("sessionTimerId",r),this._sessionTimerService.getLatestClockTime().subscribe(function(t){t&&o.updateClock(t)})}this._staffSessionService.fetchStaffSessionsSummary(localStorage.getItem("loggedInUser")).subscribe(function(t){o.latestTimerTick={hours:parseInt((null==t?void 0:t.totalPingServiceMinutes)/60),minutes:parseInt((null==t?void 0:t.totalPingServiceMinutes)%60),seconds:parseInt((null==t?void 0:t.totalPingServiceSeconds)%60),timer:JSON.parse(sessionStorage.getItem("sessionTimerId"))},o.timeoutSubscription=setTimeout(function(){o.timeIntervalSubscription=setInterval(function(){var t,e,n,i=new Date;i.setHours(null===(t=o.latestTimerTick)||void 0===t?void 0:t.hours,null===(e=o.latestTimerTick)||void 0===e?void 0:e.minutes,(null===(n=o.latestTimerTick)||void 0===n?void 0:n.seconds)+1),o.updateClock(i)},1e3)},1e3)})}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._dataSharingService.tenantSettings.subscribe(function(e){var n;e&&(t.pollingIntervalInMinutes=null===(n=null==e?void 0:e.staffSessionConfig)||void 0===n?void 0:n.pollingInterval)})}},{key:"ngOnDestroy",value:function(){this.timeoutSubscription&&clearTimeout(this.timeoutSubscription),this.timeIntervalSubscription&&clearInterval(this.timeIntervalSubscription)}},{key:"updateClock",value:function(t){var e=new Date;t&&e.setHours(null==t?void 0:t.getHours(),null==t?void 0:t.getMinutes(),null==t?void 0:t.getSeconds());var n={hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),timer:JSON.parse(sessionStorage.getItem("sessionTimerId"))};this.latestTimerTick=JSON.parse(JSON.stringify(n)),this.timerTick=JSON.parse(JSON.stringify(n)),this.timerTickOff()}},{key:"timerTickOff",value:function(){var t;0>=this.latestTimerTick.minutes||this.latestTimerTick.minutes===(null===(t=this.lastTimerTick)||void 0===t?void 0:t.minutes)||(this.lastTimerTick=JSON.parse(JSON.stringify(this.latestTimerTick)),0==this.latestTimerTick.minutes%this.pollingIntervalInMinutes&&this._staffSessionPingService.staffSessionPolling())}}]),t}()).\u0275fac=function(t){return new(t||Fn)(m.Rb(k.a),m.Rb(Vn.a),m.Rb(z.a),m.Rb(xn.a))},Fn.\u0275cmp=m.Lb({type:Fn,selectors:[["app-session-timer"]],decls:1,vars:1,consts:[[4,"ngIf"],["id","timer"],[1,"blink"]],template:function(t,e){1&t&&m.Vc(0,Un,10,3,"ng-container",0),2&t&&m.rc("ngIf",e.timerTick)},directives:[E.q],styles:["#timer[_ngcontent-%COMP%]{color:var(--primary-color);font-size:18px;font-weight:700;word-spacing:-2px}.blink[_ngcontent-%COMP%]{-webkit-animation:blinker 1s linear infinite;animation:blinker 1s linear infinite}@-webkit-keyframes blinker{50%{opacity:0}}@keyframes blinker{50%{opacity:0}}"]}),Fn),Bn=r("SKKP"),jn=r("ZKr6"),Gn=r("Nqz0"),Yn=r("Q8cG"),qn=r("MZxW");function Zn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"em",24),m.ec("click",function(){return m.Lc(n),m.ic().changeSidebarState(!0)}),m.Wb()}2&t&&m.rc("nzType","menu-unfold")}function Qn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"em",24),m.ec("click",function(){return m.Lc(n),m.ic().changeSidebarState(!1)}),m.Wb()}2&t&&m.rc("nzType","menu-fold")}function Kn(t,e){if(1&t&&(m.Vb(0),m.Vb(1),m.Sb(2,"sub-tenant-select",26),m.jc(3,"async"),m.Ub(),m.Ub()),2&t){var n=m.ic(2);m.Db(2),m.rc("mode",m.kc(3,3,n.subTenantToggleMode$))("nzMaxTagCount",1)("listSelectedSubTenants",n.selectedTenantIds)}}function Jn(t,e){if(1&t&&(m.Vb(0),m.Vc(1,Kn,4,5,"ng-container",25),m.jc(2,"async"),m.Ub()),2&t){var n=m.ic();m.Db(1),m.rc("ngIf",m.kc(2,1,n.showToggle$))}}var $n=function(){return{status:"OPEN"}};function ti(t,e){if(1&t&&(m.Xb(0,"nz-badge",27),m.Sb(1,"app-icons",28),m.Wb()),2&t){var n=m.ic();m.rc("nzCount",n.alertCount),m.Db(1),m.rc("queryParams",m.xc(2,$n))}}function ei(t,e){1&t&&(m.Xb(0,"h3",29),m.Xc(1," Currently viewing. "),m.Wb())}var ni,ii=function(){return["VIEW_PATIENT_ALERT"]},ai=((ni=function(){function t(e,n,i,a,o,r,c,s){u(this,t),this._dataSharingService=e,this._routeHelperService=n,this._alertService=i,this._drawerService=a,this._draftHelper=o,this._modalService=r,this._globalTimerService=c,this._router=s,this.alertCount=0,this.loading=!0,this.TASK_REFRESH_INTERVAL_MS=6e4,this.autoRefresh$=Object(An.interval)(this.TASK_REFRESH_INTERVAL_MS).pipe(Object(xt.a)(0)),this.draftCount=0,this.unsubscribed=new En.a,this.logoURL="https://api.cooeyhealth.com/v2/media/7c753e81-4bd5-4351-98e9-4e1942e108f0:Cooey_Health-Logo.png",this.alertFetchRequest=new _n.a}return p(t,[{key:"ngOnInit",value:function(){var t,e=this;if(this._dataSharingService.tenantSettings.subscribe(function(t){t&&t.logoURL&&(e.logoURL=t.logoURL)}),this.sidebarCollapsed$=this._routeHelperService.isSidebarCollapsed(),this.loggedInUserName$=this._dataSharingService.getLoggedInUserName(),this.showToggle$=this._routeHelperService.shouldShowSubTenantToggle(),this.subTenantToggleMode$=this._routeHelperService.subTenantToggleMode(),this.autoRefresh$.pipe(Object(In.a)(this.unsubscribed)).subscribe(function(){return e.autoRefreshComponents()}),this._dataSharingService.onAlertRefreshTriggered().subscribe(function(){return e.fetchAlertCount()}),this.draftCount=this._draftHelper.getCount(),this.draftCount){var n=this._draftHelper.processTimeTrackingNotes(),i=n[(null==n?void 0:n.length)-1];(null===(t=new Date(null==i?void 0:i.endTime))||void 0===t?void 0:t.getTime())>Date.now()-3e5&&this._modalService.confirm({nzTitle:"Patient Timer: ".concat(null==i?void 0:i.patientName),nzContent:"Your previous patient timer was paused abruptly. Would you like to save it as a TMS/CMT entry or start afresh?",nzOkText:"Save as TMS/CMT",nzCancelText:"Restart",nzOnOk:function(){var t;(null===(t=null==i?void 0:i.timerId)||void 0===t?void 0:t.length)&&e._globalTimerService.updateTimer(null==i?void 0:i.timerId,null==i?void 0:i.stickyNote).subscribe(function(t){}),e.saveDraftPopup(i)},nzOnCancel:function(){e._globalTimerService.suspendTimer(null==i?void 0:i.patientId).subscribe(function(){e.startTimer(null==i?void 0:i.patientId,null==i?void 0:i.patientName,null==i?void 0:i.episodeId)})}})}this._dataSharingService.onDraftRefreshTriggered().subscribe(function(){return e.draftCount=e._draftHelper.getCount()})}},{key:"changeSidebarState",value:function(t){this._routeHelperService.setSidebarCollapsed(!t)}},{key:"autoRefreshComponents",value:function(){this.fetchAlertCount()}},{key:"fetchAlertCount",value:function(){var t=this,e=sessionStorage.getItem("patientType");e&&(this.alertFetchRequest.patientType=e),this._alertService.fetchAlerts(this.alertFetchRequest,!0).subscribe(function(e){t.alertCount=e&&0!=e.length?e[0].count:0})}},{key:"cleanUp",value:function(){this._router.navigate(["authorization/logout"])}},{key:"ngOnDestroy",value:function(){this.unsubscribed.next(),this.unsubscribed.complete()}},{key:"showDraft",value:function(){this._drawerService.create({nzContent:Xn,nzClosable:!0,nzMaskClosable:!0,nzMask:!1,nzFooter:null,nzWidth:400,nzTitle:"Draft"})}},{key:"saveDraftPopup",value:function(t){this._modalService.create({nzContent:ft,nzFooter:null,nzStyle:{visibility:t.appointmentId&&t.episodeId?"hidden":"visible"},nzBodyStyle:{paddingTop:"0px"},nzComponentParams:{patientId:t.patientId,stickyNote:t.stickyNote,autoCMTOverRide:t.autoCMTOverRide,appointmentTime:[new Date(t.startTime),new Date(t.endTime)],staffId:t.staffId,referrer:t.referrer,appointmentId:t.appointmentId,episodeId:t.episodeId,timerId:null==t?void 0:t.timerId,draftId:t.draftId},nzMaskClosable:!1,nzCloseOnNavigation:!1,nzWidth:725})}},{key:"startTimer",value:function(t,e,n){var i=localStorage.getItem("loggedInUserAccountType"),a=localStorage.getItem("loggedInUser");this._dataSharingService.setTimer({state:"START",data:{attendeeId:t,attendeeName:e,attenderId:"CARE_TAKER"===i?a:null,episodeId:n},showStickyNote:!0})}}]),t}()).\u0275fac=function(t){return new(t||ni)(m.Rb(k.a),m.Rb(_e.a),m.Rb(Mn.a),m.Rb(Ln.d),m.Rb(P.a),m.Rb(q.f),m.Rb(St),m.Rb(y.g))},ni.\u0275cmp=m.Lb({type:ni,selectors:[["app-main-header"]],decls:37,vars:20,consts:[["nz-row","","nzJustify","end"],["nz-col","","nzSpan","6"],["nz-row","","id","logo-container","nzGutter","24"],["nz-col","","nzSpan","18",1,"centerize"],["actionable","","routerLink","/dashboard","nz-page-header-avatar","","nzShape","square",3,"nzSrc"],["nz-col","","nzSpan","2","nzOffset","1","actionable","",1,"centerize"],["class","trigger","nz-icon","",3,"nzType","click",4,"ngIf"],["nz-col","","nzSpan","8"],["id","actions"],[4,"isAccessAcrossTenantEnabled"],["nz-col","","nzSpan","10"],[1,"draft-tag",3,"nzCount"],["nz-icon","","nzType","reconciliation",2,"font-size","20px","color","#262626",3,"click"],["class","alert-tag",3,"nzCount",4,"isFeaturePermitted"],["nz-dropdown","","nzPlacement","bottomRight",3,"nzDropdownMenu"],["id","username"],["color","#262626","size","10px","name","down"],["menu","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item","","routerLink","/settings/password-reset"],["color","#a7c853","size","12px","name","unlock"],["nz-menu-item","",3,"click"],["color","#a7c853","size","12px","name","logout"],["titleTemplate",""],["nz-icon","",1,"trigger",3,"nzType","click"],[4,"ngIf"],[2,"width","300px",3,"mode","nzMaxTagCount","listSelectedSubTenants"],[1,"alert-tag",3,"nzCount"],["color","#262626","size","20px","name","bell","routerLink","/alerts","routerLinkActive","active",3,"queryParams"],[2,"color","white"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Sb(4,"nz-avatar",4),m.Wb(),m.Xb(5,"div",5),m.Vc(6,Zn,1,1,"em",6),m.jc(7,"async"),m.Vc(8,Qn,1,1,"em",6),m.jc(9,"async"),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"div",7),m.Xb(11,"div",8),m.Vc(12,Jn,3,3,"ng-container",9),m.Wb(),m.Wb(),m.Xb(13,"div",10),m.Xb(14,"div",8),m.Sb(15,"app-session-timer"),m.Xb(16,"nz-badge",11),m.Xb(17,"span",12),m.ec("click",function(){return e.showDraft()}),m.Wb(),m.Wb(),m.Vc(18,ti,2,3,"nz-badge",13),m.Xb(19,"a",14),m.Xb(20,"p",15),m.Xc(21),m.jc(22,"async"),m.Sb(23,"app-icons",16),m.Wb(),m.Wb(),m.Xb(24,"nz-dropdown-menu",null,17),m.Xb(26,"ul",18),m.Xb(27,"li",19),m.Sb(28,"app-icons",20),m.Xc(29),m.jc(30,"translate"),m.Wb(),m.Xb(31,"li",21),m.ec("click",function(){return e.cleanUp()}),m.Sb(32,"app-icons",22),m.Xc(33),m.jc(34,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Vc(35,ei,2,0,"ng-template",null,23,m.Wc)),2&t){var n=m.Ic(25);m.Db(4),m.rc("nzSrc",e.logoURL),m.Db(2),m.rc("ngIf",m.kc(7,9,e.sidebarCollapsed$)),m.Db(2),m.rc("ngIf",!m.kc(9,11,e.sidebarCollapsed$)),m.Db(8),m.rc("nzCount",e.draftCount),m.Db(2),m.rc("isFeaturePermitted",m.xc(19,ii)),m.Db(1),m.rc("nzDropdownMenu",n),m.Db(2),m.Zc(" ",m.kc(22,13,e.loggedInUserName$)," "),m.Db(8),m.Zc("\xa0\xa0 ",m.kc(30,15,"TITLE.CHANGEPASWORD")," "),m.Db(4),m.Zc("\xa0\xa0 ",m.kc(34,17,"HEADER.LOGOUT")," ")}},directives:[J.c,J.a,Dn.a,wn.a,en.a,y.h,E.q,Wn.a,Hn,Bn.a,nt.a,Et.a,jn.a,Gn.a,Gn.b,Ct.a,Gn.e,Yn.c,Yn.e,qn.a,y.i],pipes:[E.b,rt.a],styles:["#logo-container[_ngcontent-%COMP%]{padding:0 0 0 5px;width:200px}#logo-container[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:18px;vertical-align:middle}#tenant-name[_ngcontent-%COMP%]{background-color:#1a3c64;font-size:10px}[_nghost-%COMP%]     .ant-avatar-image{width:100%;height:50px}[_nghost-%COMP%]     .ant-avatar>img{height:25px;margin-top:12.5px;-o-object-fit:scale-down;object-fit:scale-down}.centerize[_ngcontent-%COMP%]{text-align:center}#actions[_ngcontent-%COMP%]{float:right;display:inline-flex}a[_ngcontent-%COMP%]{color:var(--light-black);font-weight:700;height:50px;margin-right:15px}#username[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}app-icons[_ngcontent-%COMP%]{vertical-align:middle}.alert-tag[_ngcontent-%COMP%]{height:24px;width:24px;margin-top:13px;padding:2px}[_nghost-%COMP%]     .ant-badge-count{font-size:10px}[_nghost-%COMP%]     .ant-badge-multiple-words{padding:0 6px}[_nghost-%COMP%]     .ant-tag{height:25px;margin-right:0}#timer-action[_ngcontent-%COMP%]{margin-top:8px}.draft-tag[_ngcontent-%COMP%]{height:24px;margin-top:13px;padding:2px}.alert-tag[_ngcontent-%COMP%], .draft-tag[_ngcontent-%COMP%]{margin-right:20px}"]}),ni),oi=r("nLCl"),ri=r("pe0G"),ci=r("9xQM");function si(t,e){if(1&t&&(m.Xb(0,"nz-option",4),m.Xb(1,"div",5),m.Xb(2,"div",6),m.Xb(3,"label",7),m.Xc(4),m.Wb(),m.Wb(),m.Xb(5,"div",8),m.Xb(6,"label",9),m.jc(7,"externalSources"),m.Xc(8),m.jc(9,"externalSources"),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"div",5),m.Xb(11,"div",6),m.Xb(12,"label",10),m.Xc(13," Primary Insurance Carrier Name "),m.Wb(),m.Xb(14,"label",7),m.Xc(15),m.Wb(),m.Wb(),m.Xb(16,"div",8),m.Xb(17,"label",10),m.Xc(18," Insurer Member ID "),m.Wb(),m.Xb(19,"label",7),m.Xc(20),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.ic().$implicit;m.rc("nzValue",n)("nzLabel",null==n?null:n.name),m.Db(3),m.rc("nzTooltipTitle",null==n?null:n.name),m.Db(1),m.Zc(" ",null==n?null:n.name," "),m.Db(2),m.sc("nzTooltipTitle",m.lc(7,10,null==n?null:n.externalSources,"HOSPITAL_INTERNAL_ID")),m.Db(2),m.Zc(" ID: ",m.lc(9,13,null==n?null:n.externalSources,"HOSPITAL_INTERNAL_ID")," "),m.Db(6),m.rc("nzTooltipTitle",null==n||null==n.insuranceInformation||null==n.insuranceInformation.primaryInsuranceDetails?null:n.insuranceInformation.primaryInsuranceDetails.carrierName),m.Db(1),m.Zc(" ",(null==n||null==n.insuranceInformation||null==n.insuranceInformation.primaryInsuranceDetails?null:n.insuranceInformation.primaryInsuranceDetails.carrierName)||"N/A"," "),m.Db(4),m.rc("nzTooltipTitle",null==n||null==n.insuranceInformation||null==n.insuranceInformation.primaryInsuranceDetails?null:n.insuranceInformation.primaryInsuranceDetails.insuranceId),m.Db(1),m.Zc(" ",(null==n||null==n.insuranceInformation||null==n.insuranceInformation.primaryInsuranceDetails?null:n.insuranceInformation.primaryInsuranceDetails.insuranceId)||"N/A"," ")}}function li(t,e){if(1&t&&(m.Vb(0),m.Vc(1,si,21,16,"nz-option",3),m.Ub()),2&t){var n=m.ic();m.Db(1),m.rc("ngIf",!n.isLoading)}}function ui(t,e){1&t&&(m.Xb(0,"nz-option",11),m.Sb(1,"app-icons",12),m.Xc(2," Loading Data... "),m.Wb())}var di,pi=((di=function(){function t(e){var n=this;u(this,t),this._patientsService=e,this.isLoading=!0,this.getPatientList=function(t){return n._patientsService.fetchPatientsList(0,5,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)},this.searchChange$=new Ke.BehaviorSubject(""),this.users=[],this.isLoading=!1,this.selected=new m.n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.searchChange$.asObservable().pipe(Object(Vt.a)(500)).pipe(Object(Xt.a)(this.getPatientList)).subscribe(function(e){t.users=null==e?void 0:e.result,t.isLoading=!1})}},{key:"onSearch",value:function(t){this.isLoading=!0,this.searchChange$.next(t)}},{key:"propogate",value:function(t){t&&this.selected.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||di)(m.Rb(Y.a))},di.\u0275cmp=m.Lb({type:di,selectors:[["app-patient-search"]],outputs:{selected:"selected"},decls:3,vars:4,consts:[["nzPlaceHolder","Search by patient name","nzShowSearch","","nzServerSearch","","ngModel","",3,"nzSize","nzSuffixIcon","ngModelChange","nzOnSearch"],[4,"ngFor","ngForOf"],["nzCustomContent","","nzDisabled","",4,"ngIf"],["nzCustomContent","",3,"nzValue","nzLabel",4,"ngIf"],["nzCustomContent","",3,"nzValue","nzLabel"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","14"],["nz-typography","","nzEllipsis","","nz-tooltip","",3,"nzTooltipTitle"],["nz-col","","nzSpan","10"],["nz-typography","","nzType","secondary","nzEllipsis","","nz-tooltip","",3,"nzTooltipTitle"],["nz-typography","","nzType","secondary",1,"heading"],["nzCustomContent","","nzDisabled",""],["name","loading","size","12px"]],template:function(t,e){1&t&&(m.Xb(0,"nz-select",0),m.ec("ngModelChange",function(t){return e.propogate(t)})("nzOnSearch",function(t){return e.onSearch(t)}),m.Vc(1,li,2,1,"ng-container",1),m.Vc(2,ui,3,0,"nz-option",2),m.Wb()),2&t&&(m.rc("nzSize","large")("nzSuffixIcon","search"),m.Db(1),m.rc("ngForOf",e.users),m.Db(1),m.rc("ngIf",e.isLoading))},directives:[it.d,I.u,I.x,E.p,E.q,it.a,J.c,J.a,Q.a,tn.d,Ct.a],pipes:[ci.a],styles:["[_nghost-%COMP%]     .ant-select:not(.ant-select-customize-input) .ant-select-selector{background-color:#efefef;border:none}label[_ngcontent-%COMP%]{display:block;font-size:11px}[_nghost-%COMP%]     .ant-typography .ant-typography-secondary{font-size:10px}.heading[_ngcontent-%COMP%]{display:block;margin-bottom:-5px}"]}),di),bi=r("Ujc4"),hi=r("ZyQt"),gi=r("eKjZ");function fi(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"h4",2),m.Xc(2," Fill out a patient assessment "),m.Wb(),m.Sb(3,"br"),m.Xb(4,"p",3),m.Xb(5,"strong"),m.Xc(6,"You can search for a patient and fill out any open assessments on their behalf."),m.Wb(),m.Wb(),m.Xb(7,"app-patient-search",4),m.ec("selected",function(t){return m.Lc(n),m.ic().patientSelected(t)}),m.Wb(),m.Sb(8,"br"),m.Sb(9,"br"),m.Xb(10,"p",3),m.Xc(11," We recommend you obtain the patient's consent before you fill out any assessment on their behalf. "),m.Wb(),m.Ub()}}function vi(t,e){if(1&t&&m.Sb(0,"img",19),2&t){var n=m.ic(2);m.rc("src",null==n.patient?null:n.patient.profilePicture,m.Oc)}}function mi(t,e){1&t&&m.Sb(0,"nz-avatar",20),2&t&&m.rc("nzShape","square")("nzSize",60)("nzIcon","user")}function Si(t,e){1&t&&(m.Vb(0),m.Xc(1,"Male"),m.Ub())}function yi(t,e){1&t&&(m.Vb(0),m.Xc(1,"Female"),m.Ub())}function Ti(t,e){1&t&&(m.Vb(0),m.Xc(1,"Other"),m.Ub())}function Ci(t,e){1&t&&(m.Xb(0,"nz-tag",28),m.Xc(1,"Care Plan Assessment"),m.Wb()),2&t&&m.rc("nzColor","green")}function Ei(t,e){1&t&&(m.Xb(0,"nz-tag",28),m.Xc(1,"On Demand Assessment"),m.Wb()),2&t&&m.rc("nzColor","orange")}function Ii(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",21),m.Xb(2,"div",22),m.Vc(3,Ci,2,1,"nz-tag",23),m.Vc(4,Ei,2,1,"nz-tag",23),m.Xb(5,"h4",3),m.Xc(6),m.Wb(),m.Xb(7,"p",10),m.Xc(8),m.jc(9,"date"),m.Wb(),m.Wb(),m.Xb(10,"div",6),m.Xb(11,"p",24),m.Xc(12),m.Wb(),m.Wb(),m.Xb(13,"div",25),m.Xb(14,"div",26),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic(2).navigate(t)}),m.Sb(15,"app-icons",27),m.Wb(),m.Wb(),m.Wb(),m.Sb(16,"nz-divider"),m.Ub()}if(2&t){var i=e.$implicit,a=m.ic(2);m.Db(3),m.rc("ngIf","CAREPLAN"===(null==i?null:i.parentType)),m.Db(1),m.rc("ngIf","ADHOCTASK"===(null==i?null:i.parentType)),m.Db(2),m.Yc(null==i?null:i.title),m.Db(2),m.Zc("Last measured: ",m.lc(9,6,null==a.lastEvaluatedForms[null==i||null==i.parameters?null:i.parameters.formBlueprintId]?null:a.lastEvaluatedForms[null==i||null==i.parameters?null:i.parameters.formBlueprintId].assessedOn,"mediumDate")||"N/A"," "),m.Db(3),m.rc("nzType",(null==i?null:i.scheduledOn)<a.currentDate?"danger":"primary"),m.Db(1),m.Zc(" ",(null==i?null:i.scheduledOn)<a.currentDate?"Overdue":"Due Today"," ")}}function Mi(t,e){1&t&&(m.Vb(0),m.Xb(1,"label",10),m.Xc(2," No assessment forms available for this patient. "),m.Wb(),m.Ub())}function Ai(t,e){1&t&&(m.Xb(0,"div",29),m.Sb(1,"nz-spin",30),m.Wb())}function _i(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"h4",2),m.Xc(2," Pending Assessments "),m.Wb(),m.Sb(3,"br"),m.Xb(4,"div",5),m.Xb(5,"div",6),m.Xb(6,"div"),m.Vc(7,vi,1,1,"img",7),m.Vc(8,mi,1,3,"nz-avatar",8),m.Wb(),m.Wb(),m.Xb(9,"div",9),m.Xb(10,"h4",3),m.Xc(11),m.Wb(),m.Xb(12,"h5",10),m.Xc(13),m.jc(14,"userAge"),m.Xb(15,"span",11),m.Vc(16,Si,2,0,"ng-container",12),m.Vc(17,yi,2,0,"ng-container",12),m.Vc(18,Ti,2,0,"ng-container",12),m.Wb(),m.Wb(),m.Xb(19,"h5",10),m.Xc(20),m.jc(21,"date"),m.Wb(),m.Wb(),m.Xb(22,"div",13),m.Sb(23,"app-audio-call-widget",14),m.Wb(),m.Wb(),m.Sb(24,"br"),m.Xb(25,"div",5),m.Xb(26,"div",15),m.Xb(27,"button",16),m.ec("click",function(){return m.Lc(n),m.ic().closeDrawer()}),m.Xc(28),m.jc(29,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Sb(30,"br"),m.Sb(31,"br"),m.Vc(32,Ii,17,9,"ng-container",17),m.Vc(33,Mi,3,0,"ng-container",1),m.Vc(34,Ai,2,0,"div",18),m.Ub()}if(2&t){var i=m.ic();m.Db(7),m.rc("ngIf",null==i.patient?null:i.patient.profilePicture),m.Db(1),m.rc("ngIf",!(null!=i.patient&&i.patient.profilePicture)),m.Db(3),m.Yc((null==i.patient?null:i.patient.name)||"N/A"),m.Db(2),m.Zc(" ",m.kc(14,16,null==i.patient?null:i.patient.dateOfBirth)||"N/A"," years, "),m.Db(2),m.rc("ngSwitch",null==i.patient?null:i.patient.gender),m.Db(1),m.rc("ngSwitchCase","MALE"),m.Db(1),m.rc("ngSwitchCase","FEMALE"),m.Db(1),m.rc("ngSwitchCase","OTHER"),m.Db(2),m.Zc(" DoB: \xa0 ",m.lc(21,18,null==i.patient?null:i.patient.dateOfBirth,"mediumDate")||"N/A"," "),m.Db(3),m.rc("userId",null==i.patient?null:i.patient.id)("phoneNumbers",null==i.patient?null:i.patient.phoneNumbers),m.Db(4),m.tc("routerLink","/patient/view/",null==i.patient?null:i.patient.id,""),m.Db(1),m.Zc(" ",m.kc(29,21,"PATIENT.VIEW_PROFILE")," "),m.Db(4),m.rc("ngForOf",i.forms),m.Db(1),m.rc("ngIf",!(i.loading||null!=i.forms&&i.forms.length)),m.Db(1),m.rc("ngIf",i.loading)}}var Di,zi=((Di=function(){function t(e,n,i,a,o){var r=this;u(this,t),this._formService=e,this._drawerRef=n,this._domSanitizer=i,this._dataSharingService=a,this._router=o,this.rootURL=mt.g.webFormRootURL,this.currentDate=(new Date).setHours(0,0,0,0),this.lastEvaluatedForms=new Map,this.router$=this._router.events.subscribe(function(t){var e;t instanceof y.d&&(null===(e=r._drawerRef)||void 0===e||e.close())})}return p(t,[{key:"onMessage",value:function(t){var e,n;(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.canClose)&&(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.success)&&this.closeWebForm()}},{key:"ngOnDestroy",value:function(){var t,e;null===(t=this.router$)||void 0===t||t.unsubscribe(),null===(e=this.notesDialog$)||void 0===e||e.unsubscribe()}},{key:"patientSelected",value:function(t){this.patient=t,this.fetchLastEvaluatedForms(),this.fetchFormActionItems()}},{key:"fetchLastEvaluatedForms",value:function(){var t,e=this;this._formService.fetchLastEvaluatedForms(null===(t=this.patient)||void 0===t?void 0:t.id).subscribe(function(t){e.lastEvaluatedForms=null==t?void 0:t.data})}},{key:"fetchFormActionItems",value:function(){var t,e=this;this.loading=!0,this._formService.fetchFormActionItemsForPatient(null===(t=this.patient)||void 0===t?void 0:t.id).subscribe(function(t){e.loading=!1,(null==t?void 0:t.length)&&(null==t||t.forEach(function(t){t.parameters=JSON.parse(null==t?void 0:t.parameters),(null==t?void 0:t.scheduledOn)||(t.scheduledOn=new Date(null==t?void 0:t.scheduledAt).setHours(23))}),e.forms=t)})}},{key:"navigate",value:function(t){var e,n,i=localStorage.getItem("sessionToken"),a="".concat(this.rootURL,"web-form/").concat(null===(e=null==t?void 0:t.parameters)||void 0===e?void 0:e.formBlueprintId,"/").concat(i,"/").concat(null==t?void 0:t.patientId,"/").concat(null==t?void 0:t.id,"?source=portal&sourceType=").concat(null===(n=null==t?void 0:t.parentType)||void 0===n?void 0:n.toLowerCase()),o=this._domSanitizer.bypassSecurityTrustResourceUrl(a);this._dataSharingService.initiatePatientTrigger({patientId:this.patient.id,patientName:this.patient.name,url:o})}},{key:"closeWebForm",value:function(){var t=this;this.loading=!0,this.forms=[],this.fetchLastEvaluatedForms(),setTimeout(function(){t.fetchFormActionItems()},2e3)}},{key:"closeDrawer",value:function(){this._drawerRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Di)(m.Rb(ri.a),m.Rb(Ln.c),m.Rb(s.b),m.Rb(k.a),m.Rb(y.g))},Di.\u0275cmp=m.Lb({type:Di,selectors:[["app-patient-assessment"]],hostBindings:function(t,e){1&t&&m.ec("message",function(t){return e.onMessage(t)},!1,m.Kc)},decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],["nz-typography","","nzType","success"],["nz-typography",""],[3,"selected"],["nz-row",""],["nz-col","","nzSpan","6"],["alt","user-profile",3,"src",4,"ngIf"],[3,"nzShape","nzSize","nzIcon",4,"ngIf"],["nz-col","","nzSpan","16"],["nz-typography","","nzType","secondary"],[3,"ngSwitch"],[4,"ngSwitchCase"],["nz-col","","nzSpan","2"],[3,"userId","phoneNumbers"],["nz-col","","nzSpan","24"],["nz-button","","nzType","primary","nzSize","large",3,"routerLink","click"],[4,"ngFor","ngForOf"],["id","loader",4,"ngIf"],["alt","user-profile",3,"src"],[3,"nzShape","nzSize","nzIcon"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","14"],[3,"nzColor",4,"ngIf"],["nz-typography","",3,"nzType"],["nz-col","","nzSpan","4"],[1,"anchor",3,"click"],["name","arrowRight"],[3,"nzColor"],["id","loader"],["nzSimple",""]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Vc(1,fi,12,0,"ng-container",1),m.Vc(2,_i,35,23,"ng-container",1),m.Wb()),2&t&&(m.Db(1),m.rc("ngIf",!e.patient),m.Db(1),m.rc("ngIf",e.patient))},directives:[E.q,Q.a,pi,J.c,J.a,E.s,E.t,bi.a,tt.a,et.a,nt.a,y.h,E.p,Dn.a,Ct.a,K.a,hi.a,Ze.a],pipes:[gi.a,E.e,rt.a],styles:[".container[_ngcontent-%COMP%]{padding:15px 0!important}strong[_ngcontent-%COMP%]{font-weight:bolder}p[_ngcontent-%COMP%]{font-size:12px;line-height:2}[_nghost-%COMP%]     .ant-avatar{background:#dddfe1}img[_ngcontent-%COMP%]{width:60px;height:60px}[_nghost-%COMP%]     .ant-tag{font-size:9px;margin-bottom:10px;padding:0 5px;line-height:18px}h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0!important}button[_ngcontent-%COMP%]{width:100%}.anchor[_ngcontent-%COMP%]{text-align:right;line-height:2.5}nz-divider[_ngcontent-%COMP%]{margin-top:0}iframe[_ngcontent-%COMP%]{margin-bottom:-10px}#loader[_ngcontent-%COMP%]{text-align:center}"]}),Di),Oi=r("pSeI"),ki=r("PzCk"),Ni=r("U2hf"),Pi=r("vduv");function Ri(t,e){if(1&t&&(m.Xb(0,"div",25),m.Sb(1,"app-icons",26),m.Wb()),2&t){var n=m.ic(4);m.Db(1),m.rc("color",n.iconColor)("strokeColor",n.iconColor)("fill",n.iconColor)}}function Xi(t,e){if(1&t&&(m.Xb(0,"div",25),m.Sb(1,"app-icons",27),m.Wb()),2&t){var n=m.ic(4);m.Db(1),m.rc("color",n.iconColor)("altColor",n.iconColor)}}function Li(t,e){if(1&t&&(m.Xb(0,"div",22),m.Xb(1,"div",23),m.Xc(2,"Quick Actions"),m.Wb(),m.Vc(3,Ri,2,3,"div",24),m.Vc(4,Xi,2,2,"div",24),m.Wb()),2&t){var n=m.ic(3);m.Db(3),m.rc("ngIf",!n.subMenuMap.quickLinks),m.Db(1),m.rc("ngIf",n.subMenuMap.quickLinks)}}function wi(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"li",28),m.Xb(2,"a",29),m.ec("click",function(){m.Lc(n);var t=m.ic(3);return t.showQuickLinkAction("PATIENT_ASSESSMENT"),t.logDrawerEvent("fill-assessment")}),m.Xb(3,"span"),m.Xc(4," Assessments "),m.Wb(),m.Wb(),m.Wb(),m.Ub()}}function Wi(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",29),m.ec("click",function(){m.Lc(n);var t=m.ic(4);return t.showQuickLinkAction("ASSIGN_STAFF"),t.logDrawerEvent("staff-assigner")}),m.Xc(2," Assign staff "),m.Wb(),m.Wb()}}var Vi=function(){return["ASSIGN_MONITORING_STAFF_TO_PATIENT"]};function xi(t,e){1&t&&(m.Vb(0),m.Vc(1,Wi,3,0,"li",6),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,Vi)))}var Ui=function(){return["VIEW_ASSESSMENT"]};function Fi(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",20),m.ec("nzOpenChange",function(t){return m.Lc(n),m.ic(2).subMenuMap.quickLinks=t})("nzOpenChange",function(){return m.Lc(n),m.ic(2).openHandler("quickLinks")}),m.Vc(1,Li,5,2,"ng-template",null,21,m.Wc),m.Xb(3,"ul",10),m.Vc(4,wi,5,0,"ng-container",15),m.Vc(5,xi,2,2,"ng-container",4),m.Wb(),m.Wb()}if(2&t){var i=m.Ic(2),a=m.ic(2);m.rc("nzOpen",a.subMenuMap.quickLinks)("nzTitle",i),m.Db(4),m.rc("isFeaturePermitted",m.xc(4,Ui)),m.Db(1),m.rc("ngIf",a.isTenantAdmin)}}var Hi=function(){return["ASSIGN_MONITORING_STAFF_TO_PATIENT","VIEW_ASSESSMENT"]};function Bi(t,e){1&t&&(m.Vb(0),m.Vc(1,Fi,6,5,"li",19),m.Ub()),2&t&&(m.Db(1),m.rc("anyFeaturePermitted",m.xc(1,Hi)))}var ji=function(t){return{role:t}};function Gi(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"li",11),m.Xb(2,"a",30),m.ec("click",function(){return m.Lc(n),m.ic().logDrawerEvent("staff")}),m.Xb(3,"span"),m.Sb(4,"app-nomenclature",31),m.jc(5,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Ub()}if(2&t){var i=m.ic();m.Db(2),m.rc("queryParams",m.yc(4,ji,"TENANT_ADMIN"!==i.loggedInUserRole?"MONITORING_STAFF":"PHYSICIAN")),m.Db(2),m.sc("default",m.kc(5,2,"MENU.STAFF"))}}function Yi(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",32),m.ec("click",function(){m.Lc(n);var t=m.ic();return t.navigateToPatient(),t.logDrawerEvent("patient")}),m.Xb(2,"span"),m.Sb(3,"app-nomenclature",33),m.jc(4,"translate"),m.Wb(),m.Wb(),m.Wb()}2&t&&(m.Db(3),m.sc("default",m.kc(4,1,"MENU.PATIENTS")))}var qi=function(t){return{userType:t}};function Zi(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",34),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("staff-work-list")}),m.Xb(2,"span"),m.Sb(3,"app-nomenclature",35),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=m.ic(2);m.Db(1),m.rc("queryParams",m.yc(1,qi,"MONITORING_STAFF"===i.loggedInUserRole?"PATIENT":"LEAD"))}}var Qi=function(){return["VIEW_WORK_LIST"]};function Ki(t,e){1&t&&(m.Vb(0),m.Vc(1,Zi,4,3,"li",6),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,Qi)))}var Ji=function(){return{tab:"upcoming"}};function $i(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"li",11),m.Xb(2,"a",36),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("appointments")}),m.Xb(3,"span"),m.Sb(4,"app-nomenclature",37),m.jc(5,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Ub()}2&t&&(m.Db(2),m.rc("queryParams",m.xc(4,Ji)),m.Db(2),m.sc("default",m.kc(5,2,"MENU.APPOINTMENT")))}var ta=function(){return["VIEW_APPOINTMENT"]};function ea(t,e){1&t&&(m.Vb(0),m.Vc(1,$i,6,5,"ng-container",15),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,ta)))}var na=function(){return{tab:"ACTIVE"}},ia=function(){return{exact:!0}};function aa(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",18),m.Xb(1,"a",39),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("leads")}),m.Xb(2,"span"),m.Sb(3,"app-nomenclature",40),m.jc(4,"translate"),m.Wb(),m.Wb(),m.Wb()}2&t&&(m.Db(1),m.rc("queryParams",m.xc(5,na))("routerLinkActiveOptions",m.xc(6,ia)),m.Db(2),m.sc("default",m.kc(4,3,"MENU.LEADS")))}function oa(t,e){1&t&&m.Sb(0,"nz-divider")}var ra=function(){return["VIEW_LEAD"]};function ca(t,e){1&t&&(m.Vb(0),m.Vc(1,aa,5,7,"li",38),m.Vc(2,oa,1,0,"nz-divider",15),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(2,ra)),m.Db(1),m.rc("isFeaturePermitted",m.xc(3,ra)))}var sa=function(){return{program:"CCM"}};function la(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"li",11),m.Xb(2,"a",41),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("compliance")}),m.Xb(3,"span"),m.Xc(4,"Compliance"),m.Wb(),m.Wb(),m.Wb(),m.Sb(5,"nz-divider"),m.Ub()}2&t&&(m.Db(2),m.rc("queryParams",m.xc(1,sa)))}var ua=function(){return["VIEW_COMPLIANCE"]};function da(t,e){1&t&&(m.Vb(0),m.Vc(1,la,6,2,"ng-container",15),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,ua)))}function pa(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"li",11),m.Xb(2,"a",42),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("order-device")}),m.Xb(3,"span"),m.Xc(4),m.jc(5,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Sb(6,"nz-divider"),m.Ub()}2&t&&(m.Db(4),m.Yc(m.kc(5,1,"DEVICE_ORDER.DEVICE_ORDER")))}var ba=function(){return{feature:"deviceConfig?.deviceOrderEnabled"}};function ha(t,e){1&t&&(m.Vb(0),m.Vc(1,pa,7,3,"ng-container",7),m.Ub()),2&t&&(m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(1,ba)))}function ga(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"li",11),m.Xb(2,"a",43),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("careplan-assignments")}),m.Xb(3,"span"),m.Xc(4," Active Care Plans "),m.Wb(),m.Wb(),m.Wb(),m.Sb(5,"nz-divider"),m.Ub()}}var fa=function(){return["VIEW_CARE_PLAN_TEMPLATE"]};function va(t,e){1&t&&(m.Vb(0),m.Vc(1,ga,6,0,"ng-container",15),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,fa)))}function ma(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"li",11),m.Xb(2,"a",44),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("analytics-reports")}),m.Xb(3,"span"),m.Xc(4,"Reports"),m.Wb(),m.Wb(),m.Wb(),m.Sb(5,"nz-divider"),m.Ub()}}var Sa=function(){return["VIEW_REPORT"]};function ya(t,e){1&t&&(m.Vb(0),m.Vc(1,ma,6,0,"ng-container",15),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,Sa)))}var Ta=function(){return{tab:"non-complex"}};function Ca(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"li",11),m.Xb(2,"a",45),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("billing-reports")}),m.Xb(3,"span"),m.Xc(4,"Billing"),m.Wb(),m.Wb(),m.Wb(),m.Sb(5,"nz-divider"),m.Ub()}2&t&&(m.Db(2),m.rc("queryParams",m.xc(1,Ta)))}var Ea=function(){return["VIEW_BILLING"]};function Ia(t,e){1&t&&(m.Vb(0),m.Vc(1,Ca,6,2,"ng-container",15),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,Ea)))}function Ma(t,e){if(1&t&&(m.Xb(0,"div",25),m.Sb(1,"app-icons",26),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.rc("color",n.iconColor)("strokeColor",n.iconColor)("fill",n.iconColor)}}function Aa(t,e){if(1&t&&(m.Xb(0,"div",25),m.Sb(1,"app-icons",27),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.rc("color",n.iconColor)("altColor",n.iconColor)}}function _a(t,e){if(1&t&&(m.Xb(0,"div",22),m.Xb(1,"div",46),m.Xc(2,"Configure"),m.Wb(),m.Vc(3,Ma,2,3,"div",24),m.Vc(4,Aa,2,2,"div",24),m.Wb()),2&t){var n=m.ic();m.Db(3),m.rc("ngIf",!n.subMenuMap.configure),m.Db(1),m.rc("ngIf",n.subMenuMap.configure)}}function Da(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",47),m.ec("click",function(){return m.Lc(n),m.ic().logDrawerEvent("sites")}),m.Xb(2,"span"),m.Sb(3,"app-nomenclature",48),m.jc(4,"translate"),m.Wb(),m.Wb(),m.Wb()}2&t&&(m.Db(3),m.sc("default",m.kc(4,1,"MENU.SITES")))}function za(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",50),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("roles")}),m.Xb(2,"span"),m.Sb(3,"app-nomenclature",51),m.jc(4,"translate"),m.Wb(),m.Wb(),m.Wb()}2&t&&(m.Db(3),m.sc("default",m.kc(4,1,"PORTAL.ROLE")))}var Oa=function(){return["ADD_ROLE","EDIT_ROLE","VIEW_ROLE","DELETE_ROLE"]};function ka(t,e){1&t&&(m.Vb(0),m.Vc(1,za,5,3,"li",49),m.Ub()),2&t&&(m.Db(1),m.rc("anyFeaturePermitted",m.xc(1,Oa)))}function Na(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",52),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("crm-settings")}),m.Xb(2,"span"),m.Xc(3," Genesys "),m.Wb(),m.Wb(),m.Wb()}}var Pa=function(){return["VIEW_CRM_CONFIG"]};function Ra(t,e){1&t&&(m.Vb(0),m.Vc(1,Na,4,0,"li",6),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,Pa)))}function Xa(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",53),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("vital-blueprints")}),m.Xb(2,"span"),m.Xc(3," Vital Signs "),m.Wb(),m.Wb(),m.Wb()}}var La=function(){return["VIEW_VITAL_BLUEPRINT"]};function wa(t,e){1&t&&(m.Vb(0),m.Vc(1,Xa,4,0,"li",6),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,La)))}function Wa(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",54),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("forms")}),m.Xb(2,"span"),m.Sb(3,"app-nomenclature",55),m.jc(4,"translate"),m.Wb(),m.Wb(),m.Wb()}2&t&&(m.Db(3),m.sc("default",m.kc(4,1,"MENU.SURVEY")))}var Va=function(){return["VIEW_FORM"]};function xa(t,e){1&t&&(m.Vb(0),m.Vc(1,Wa,5,3,"li",6),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,Va)))}var Ua=function(){return{tab:"SUMMARY"}};function Fa(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"li",11),m.Xb(2,"a",56),m.ec("click",function(){return m.Lc(n),m.ic().logDrawerEvent("alerts_configuration")}),m.Xb(3,"span"),m.Xc(4),m.jc(5,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Ub()}2&t&&(m.Db(2),m.rc("queryParams",m.xc(4,Ua)),m.Db(2),m.Zc(" ",m.kc(5,2,"ALERTS")," "))}function Ha(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",57),m.ec("click",function(){return m.Lc(n),m.ic().logDrawerEvent("tags")}),m.Xb(2,"span"),m.Sb(3,"app-nomenclature",58),m.jc(4,"translate"),m.Wb(),m.Wb(),m.Wb()}2&t&&(m.Db(3),m.sc("default",m.kc(4,1,"TITLE.TAG")))}function Ba(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",59),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("course-contents")}),m.Xb(2,"span"),m.Sb(3,"app-nomenclature",60),m.jc(4,"translate"),m.Wb(),m.Wb(),m.Wb()}2&t&&(m.Db(3),m.sc("default",m.kc(4,1,"COURSECONTENT.TITLE")))}var ja=function(){return["VIEW_COURSE"]};function Ga(t,e){1&t&&(m.Vb(0),m.Vc(1,Ba,5,3,"li",6),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,ja)))}function Ya(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",61),m.ec("click",function(){return m.Lc(n),m.ic().logDrawerEvent("insurance-payers")}),m.Xb(2,"span"),m.Sb(3,"app-nomenclature",62),m.Wb(),m.Wb(),m.Wb()}}var qa=function(){return{type:"default"}};function Za(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",63),m.ec("click",function(){return m.Lc(n),m.ic().logDrawerEvent("diagnosis-codes")}),m.Xb(2,"span"),m.Sb(3,"app-nomenclature",64),m.Wb(),m.Wb(),m.Wb()}2&t&&(m.Db(1),m.rc("queryParams",m.xc(1,qa)))}function Qa(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",65),m.ec("click",function(){return m.Lc(n),m.ic().logDrawerEvent("billing-rate")}),m.Xb(2,"span"),m.Sb(3,"app-nomenclature",66),m.Wb(),m.Wb(),m.Wb()}}function Ka(t,e){if(1&t&&(m.Xb(0,"div",25),m.Sb(1,"app-icons",26),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.rc("color",n.iconColor)("strokeColor",n.iconColor)("fill",n.iconColor)}}function Ja(t,e){if(1&t&&(m.Xb(0,"div",25),m.Sb(1,"app-icons",27),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.rc("color",n.iconColor)("altColor",n.iconColor)}}function $a(t,e){if(1&t&&(m.Xb(0,"div",22),m.Xb(1,"div",46),m.Xc(2,"Templates"),m.Wb(),m.Vc(3,Ka,2,3,"div",24),m.Vc(4,Ja,2,2,"div",24),m.Wb()),2&t){var n=m.ic();m.Db(3),m.rc("ngIf",!n.subMenuMap.templates),m.Db(1),m.rc("ngIf",n.subMenuMap.templates)}}function to(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",68),m.Xb(1,"a",69),m.ec("click",function(){return m.Lc(n),m.ic(2).logDrawerEvent("careplan-templates")}),m.Xb(2,"span"),m.Xc(3," Care Plan "),m.Wb(),m.Wb(),m.Wb()}}var eo=function(){return{feature:"careplanConfig?.enabled"}};function no(t,e){1&t&&(m.Vb(0),m.Vc(1,to,4,0,"li",67),m.Ub()),2&t&&(m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(1,eo)))}function io(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",11),m.Xb(1,"a",70),m.ec("click",function(){return m.Lc(n),m.ic(3).logDrawerEvent("sms-templates")}),m.Xc(2),m.jc(3,"translate"),m.Wb(),m.Wb()}2&t&&(m.Db(2),m.Zc(" ",m.kc(3,1,"SMS")," "))}var ao=function(){return["VIEW_SMS_TEMPLATE"]};function oo(t,e){1&t&&(m.Vb(0),m.Vc(1,io,4,3,"li",6),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,ao)))}var ro=function(){return{feature:"smsConfig?.enableConversation"}};function co(t,e){1&t&&(m.Vb(0),m.Vc(1,oo,2,2,"ng-container",7),m.Ub()),2&t&&(m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(1,ro)))}function so(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"li",11),m.Xb(2,"a",71),m.ec("click",function(){return m.Lc(n),m.ic().logDrawerEvent("letter-templates")}),m.Xc(3," Letter "),m.Wb(),m.Wb(),m.Ub()}}var lo,uo=function(){return["VIEW_STAFF","VIEW_MONITORING_STAFF","VIEW_PHYSICIAN"]},po=function(){return["VIEW_PATIENT"]},bo=function(){return{feature:"crmConfig?.enabled"}},ho=function(){return{feature:"appointmentConfig?.appointmentEnabled"}},go=function(){return{feature:"userConfig?.leadsEnabled"}},fo=function(){return{feature:"complianceConfig?.enabled"}},vo=function(){return{feature:"reportConfig?.enabled"}},mo=function(){return{feature:"billingConfig?.enabled"}},So=function(){return["VIEW_SITE"]},yo=function(){return{feature:"securityConfigs?.customRolesConfig?.enabled"}},To=function(){return{feature:"vitalConfig?.enabled"}},Co=function(){return{feature:"featureConfigs?.formsEnabled"}},Eo=function(){return["VIEW_TAG"]},Io=function(){return{feature:"contentConfig?.enabled"}},Mo=function(){return{feature:"smsConfig?.enabled"}},Ao=function(){return{feature:"directMailConfig?.directMailEnabled"}},_o=function(){return{type:"docs"}},Do=((lo=function(){function t(e,n,i,a){u(this,t),this._router=e,this._drawerService=n,this._dataSharingService=i,this._applicationInsights=a,this.subMenuMap={quickLinks:!1,configure:!1,templates:!1,log:!1},this.loggedInUserRole=localStorage.getItem("loggedInUserRole"),this.isTenantAdmin=this.loggedInUserRole==oi.a.TENANT_ADMIN,this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color")}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.loggedInUserRole=localStorage.getItem("loggedInUserRole"),this.isTenantAdmin=this.loggedInUserRole==oi.a.TENANT_ADMIN,this._dataSharingService.assignedTenantSettings.subscribe(function(e){e&&(t.assignedTenantSettings=e)})}},{key:"logDrawerEvent",value:function(t){this._applicationInsights.drawerEvent(t)}},{key:"openHandler",value:function(t){for(var e in this.subMenuMap)e!==t&&(this.subMenuMap[e]=!1)}},{key:"showQuickLinkAction",value:function(t){switch(t){case"PATIENT_ASSESSMENT":this._drawerService.create({nzContent:zi,nzContentParams:{},nzMask:!0,nzMaskStyle:{background:"transparent"},nzMaskClosable:!0,nzWidth:400});break;case"ASSIGN_STAFF":this._router.navigate(["/bulk/assign/monitoring-staff"])}}},{key:"navigateToPatient",value:function(){for(var t,e,n=0,i=Array.from(this.assignedTenantSettings.entries());n<i.length;n++){var a=i[n];if(a[1].episodeBlueprints&&a[1].episodeBlueprints.length>0){e=a[1];break}}var o=null===(t=null==e?void 0:e.episodeBlueprints)||void 0===t?void 0:t.filter(function(t){return!(null==t?void 0:t.archived)});if(null==o?void 0:o.length){var r=o[0];this._router.navigate(["patient"],{queryParams:{filter:"EPISODES","sub-filter":null==r?void 0:r.type,episodeStatus:x.a.IN_PROGRESS,episodeBlueprint:null==r?void 0:r.id}})}else this._router.navigate(["patient"],{queryParams:{filter:"ALL_PATIENTS"}})}}]),t}()).\u0275fac=function(t){return new(t||lo)(m.Rb(y.g),m.Rb(Ln.d),m.Rb(k.a),m.Rb(Yt.a))},lo.\u0275cmp=m.Lb({type:lo,selectors:[["app-sidebar"]],decls:59,vars:59,consts:[["nz-menu","","nzMode","inline"],["nz-menu-item","","routerLink","/dashboard","routerLinkActive","active",3,"click"],["routerLink","/dashboard","routerLinkActive","active",3,"click"],["nomenclature","dashboard",3,"default"],[4,"ngIf"],[4,"anyFeaturePermitted"],["nz-menu-item","","routerLinkActive","active",4,"isFeaturePermitted"],[4,"isTenantFeatureEnabled"],["nz-submenu","",1,"vertical-gutter-15",3,"nzOpen","nzTitle","nzOpenChange"],["configureTitle",""],[1,"templates-menu"],["nz-menu-item","","routerLinkActive","active"],["routerLink","/settings","routerLinkActive","active",3,"click"],["nz-menu-item","","routerLinkActive","active",4,"ngIf"],["templatesTitle",""],[4,"isFeaturePermitted"],["routerLink","/templates/note-templates","routerLinkActive","active",3,"click"],["routerLink","/support/help-guides","routerLinkActive","active",3,"queryParams","click"],["nz-menu-item",""],["nz-submenu","","class","vertical-gutter-15","class","quick-links-container",3,"nzOpen","nzTitle","nzOpenChange",4,"anyFeaturePermitted"],["nz-submenu","",1,"quick-links-container",3,"nzOpen","nzTitle","nzOpenChange"],["quickLinksTitle",""],["nz-row",""],["nz-col","","nzSpan","21",1,"quick-links"],["nz-col","","nzSpan","3",4,"ngIf"],["nz-col","","nzSpan","3"],["name","downArrowCircle","size","14px",3,"color","strokeColor","fill"],["name","upArrowCircle","size","14px",3,"color","altColor"],["nz-menu-item","","routerLinkActive","active","nz-tooltip","","nzTooltipTitle","Fill an assessment"],["routerLinkActive","active",3,"click"],["routerLink","/staff","routerLinkActive","active",3,"queryParams","click"],["nomenclature","staff",3,"default"],[3,"click"],["nomenclature","patients",3,"default"],["routerLink","/staff/work-list","routerLinkActive","active",3,"queryParams","click"],["nomenclature","staffWorkList","default","Work List"],["routerLink","/appointments","routerLinkActive","active",3,"queryParams","click"],["nomenclature","appointments",3,"default"],["nz-menu-item","",4,"isFeaturePermitted"],["routerLink","/leads","routerLinkActive","active",3,"queryParams","routerLinkActiveOptions","click"],["nomenclature","leads",3,"default"],["routerLink","/compliance/patient-communication-notes","routerLinkActive","active",3,"queryParams","click"],["routerLink","/device-order","routerLinkActive","active",3,"click"],["routerLink","/cplanassignments","routerLinkActive","active",3,"click"],["routerLink","/analytics/reports","routerLinkActive","active",3,"click"],["routerLink","/billing","routerLinkActive","active",3,"queryParams","click"],["nz-col","","nzSpan","21"],["routerLink","/sites","routerLinkActive","active",3,"click"],["nomenclature","sites",3,"default"],["nz-menu-item","","routerLinkActive","active",4,"anyFeaturePermitted"],["routerLink","/staff/custom-roles/list/roles",3,"click"],["nomenclature","roles",3,"default"],["routerLink","/crm-settings","routerLinkActive","active",3,"click"],["routerLink","/vital-blueprints","routerLinkActive","active",3,"click"],["routerLink","/forms","routerLinkActive","active",3,"click"],["nomenclature","forms",3,"default"],["routerLink","/alerts/configuration","routerLinkActive","active",3,"queryParams","click"],["routerLink","/tags","routerLinkActive","active",3,"click"],["nomenclature","tags",3,"default"],["routerLink","/course-contents","routerLinkActive","active",3,"click"],["nomenclature","courses",3,"default"],["routerLink","/insurance-payers","routerLinkActive","active",3,"click"],["nomenclature","insurancePayers","default","Insurance Payers"],["routerLink","/diagnosis-codes","routerLinkActive","active",3,"queryParams","click"],["nomenclature","diagnosisCodes","default","Diagnosis Codes"],["routerLink","episodes/billing-rate","routerLinkActive","active",3,"click"],["nomenclature","billingRate","default","Episode Billing Rate"],["nz-menu-item","","routerLinkActive","active","nz-tooltip","","nzTooltipTitle","Care Plan",4,"isTenantFeatureEnabled"],["nz-menu-item","","routerLinkActive","active","nz-tooltip","","nzTooltipTitle","Care Plan"],["routerLink","/careplan-templates","routerLinkActive","active",3,"click"],["routerLink","/sms-templates","routerLinkActive","active",3,"click"],["routerLink","/templates/letter-templates","routerLinkActive","active",3,"click"]],template:function(t,e){if(1&t&&(m.Xb(0,"ul",0),m.Xb(1,"li",1),m.ec("click",function(){return e.logDrawerEvent("dashboard")}),m.Xb(2,"a",2),m.ec("click",function(){return e.logDrawerEvent("dashboard")}),m.Xb(3,"span"),m.Sb(4,"app-nomenclature",3),m.jc(5,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Vc(6,Bi,2,2,"ng-container",4),m.Sb(7,"nz-divider"),m.Vc(8,Gi,6,6,"ng-container",5),m.Vc(9,Yi,5,3,"li",6),m.Vc(10,Ki,2,2,"ng-container",7),m.Sb(11,"nz-divider"),m.Vc(12,ea,2,2,"ng-container",7),m.Vc(13,ca,3,4,"ng-container",7),m.Vc(14,da,2,2,"ng-container",7),m.Vc(15,ha,2,2,"ng-container",4),m.Vc(16,va,2,2,"ng-container",7),m.Vc(17,ya,2,2,"ng-container",7),m.Vc(18,Ia,2,2,"ng-container",7),m.Xb(19,"li",8),m.ec("nzOpenChange",function(t){return e.subMenuMap.configure=t})("nzOpenChange",function(){return e.openHandler("configure")}),m.Vc(20,_a,5,2,"ng-template",null,9,m.Wc),m.Xb(22,"ul",10),m.Xb(23,"li",11),m.Xb(24,"a",12),m.ec("click",function(){return e.logDrawerEvent("settings")}),m.Xb(25,"span"),m.Xc(26),m.jc(27,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Vc(28,Da,5,3,"li",6),m.Vc(29,ka,2,2,"ng-container",7),m.Vc(30,Ra,2,2,"ng-container",7),m.Vc(31,wa,2,2,"ng-container",7),m.Vc(32,xa,2,2,"ng-container",7),m.Vc(33,Fa,6,5,"ng-container",4),m.Vc(34,Ha,5,3,"li",6),m.Vc(35,Ga,2,2,"ng-container",7),m.Vc(36,Ya,4,0,"li",13),m.Vc(37,Za,4,2,"li",13),m.Vc(38,Qa,4,0,"li",13),m.Wb(),m.Wb(),m.Xb(39,"li",8),m.ec("nzOpenChange",function(t){return e.subMenuMap.templates=t})("nzOpenChange",function(){return e.openHandler("templates")}),m.Vc(40,$a,5,2,"ng-template",null,14,m.Wc),m.Xb(42,"ul",10),m.Vc(43,no,2,2,"ng-container",15),m.Vc(44,co,2,2,"ng-container",7),m.Xb(45,"li",11),m.Xb(46,"a",16),m.ec("click",function(){return e.logDrawerEvent("note-templates")}),m.Xc(47," Note "),m.Wb(),m.Wb(),m.Vc(48,so,4,0,"ng-container",7),m.Wb(),m.Wb(),m.Sb(49,"nz-divider"),m.Xb(50,"li",11),m.Xb(51,"a",17),m.ec("click",function(){return e.logDrawerEvent("help-guides")}),m.Xb(52,"span"),m.Xc(53),m.jc(54,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(55,"li",18),m.Sb(56,"a"),m.Wb(),m.Xb(57,"li",18),m.Sb(58,"a"),m.Wb(),m.Wb()),2&t){var n=m.Ic(21),i=m.Ic(41);m.Db(4),m.sc("default",m.kc(5,33,"MENU.DASHBOARD")),m.Db(2),m.rc("ngIf","ENROLMENT_STAFF"!==e.loggedInUserRole),m.Db(2),m.rc("anyFeaturePermitted",m.xc(39,uo)),m.Db(1),m.rc("isFeaturePermitted",m.xc(40,po)),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(41,bo)),m.Db(2),m.rc("isTenantFeatureEnabled",m.xc(42,ho)),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(43,go)),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(44,fo)),m.Db(1),m.rc("ngIf",e.isTenantAdmin),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(45,eo)),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(46,vo)),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(47,mo)),m.Db(1),m.rc("nzOpen",e.subMenuMap.configure)("nzTitle",n),m.Db(7),m.Yc(m.kc(27,35,"HEADER.SETTING")),m.Db(2),m.rc("isFeaturePermitted",m.xc(48,So)),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(49,yo)),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(50,bo)),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(51,To)),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(52,Co)),m.Db(1),m.rc("ngIf",e.isTenantAdmin),m.Db(1),m.rc("isFeaturePermitted",m.xc(53,Eo)),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(54,Io)),m.Db(1),m.rc("ngIf",e.isTenantAdmin),m.Db(1),m.rc("ngIf",e.isTenantAdmin),m.Db(1),m.rc("ngIf",e.isTenantAdmin),m.Db(1),m.rc("nzOpen",e.subMenuMap.templates)("nzTitle",i),m.Db(4),m.rc("isFeaturePermitted",m.xc(55,fa)),m.Db(1),m.rc("isTenantFeatureEnabled",m.xc(56,Mo)),m.Db(4),m.rc("isTenantFeatureEnabled",m.xc(57,Ao)),m.Db(3),m.rc("queryParams",m.xc(58,_o)),m.Db(2),m.Yc(m.kc(54,37,"MENU.HELP_GUIDES"))}},directives:[Yn.c,nt.a,Yn.e,y.h,y.i,y.j,Oi.a,E.q,K.a,ki.a,jn.a,Ni.a,Pi.a,Yn.g,J.c,J.a,Ct.a,tn.d],pipes:[rt.a],styles:["[_nghost-%COMP%]     .ant-divider-horizontal{width:130px;min-width:100px;margin:3px auto 0;border-top:1px solid #e6e6e6}li[_ngcontent-%COMP%]{border-left:5px solid var(--neutral-color);padding-right:0!important}a[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{line-height:40px!important;margin-top:0!important;margin-bottom:0!important;font:normal normal 600 12px/16px Nunito;letter-spacing:0;color:#5b5454}[_nghost-%COMP%]     .ant-menu-submenu-title{line-height:30px!important;padding-right:16px!important}ul[_ngcontent-%COMP%]{margin:auto;border-right:0}[_nghost-%COMP%]     .ant-menu-submenu-arrow{display:none}[_nghost-%COMP%]     .ant-menu-item:after{border-right:none}li.active[_ngcontent-%COMP%]{background-color:transparent!important;color:var(--primary-color);border-radius:5px;border-left:5px solid var(--primary-color)}[_nghost-%COMP%]     .ant-menu-item-selected{background:transparent!important}.active[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.vertical-gutter-15[_ngcontent-%COMP%]{margin-top:10px!important;margin-bottom:-10px!important}.templates-menu[_ngcontent-%COMP%]{width:100%;margin-left:-20px;margin-top:-15px}.templates-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:12px}app-icons[_ngcontent-%COMP%]{vertical-align:sub;margin-right:5px}.ant-menu-sub.ant-menu-inline[_ngcontent-%COMP%]{margin-bottom:5px}.ant-menu-inline[_ngcontent-%COMP%]   .ant-menu-item[_ngcontent-%COMP%]:not(:last-child), .ant-menu-vertical-left[_ngcontent-%COMP%]   .ant-menu-item[_ngcontent-%COMP%]:not(:last-child), .ant-menu-vertical-right[_ngcontent-%COMP%]   .ant-menu-item[_ngcontent-%COMP%]:not(:last-child), [_nghost-%COMP%]     .ant-menu-vertical .ant-menu-item:not(:last-child){margin-bottom:-4px!important}.ant-menu-inline[_ngcontent-%COMP%] > .ant-menu-item[_ngcontent-%COMP%], .ant-menu-inline[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%], .ant-menu-vertical-left[_ngcontent-%COMP%] > .ant-menu-item[_ngcontent-%COMP%], .ant-menu-vertical-left[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%], .ant-menu-vertical-right[_ngcontent-%COMP%] > .ant-menu-item[_ngcontent-%COMP%], .ant-menu-vertical-right[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%], .ant-menu-vertical[_ngcontent-%COMP%] > .ant-menu-submenu[_ngcontent-%COMP%] > .ant-menu-submenu-title[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-menu-vertical>.ant-menu-item{margin-bottom:-4px!important}[_nghost-%COMP%]     .ant-menu-submenu-title{margin-bottom:0}.quick-links-container[_ngcontent-%COMP%]{margin-top:-5px}.quick-links[_ngcontent-%COMP%]{font-size:11px}"]}),lo),zo=r("PTRe"),Oo=r("+oEP");function ko(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",8),m.ec("click",function(t){return m.Lc(n),m.ic(2).emitSearchKey(t)}),m.Sb(1,"app-icons",9),m.Wb()}2&t&&(m.Db(1),m.rc("originalStyle",!0))}function No(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"nz-input-group",5),m.Xb(2,"input",6),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().searchKey=t})("keyup",function(t){return m.Lc(n),m.ic().emitSearchKey(t)}),m.jc(3,"async"),m.Wb(),m.Wb(),m.Vc(4,ko,2,1,"ng-template",null,7,m.Wc),m.Ub()}if(2&t){var i=m.Ic(5),a=m.ic();m.Db(1),m.rc("nzAddOnAfter",i),m.Db(1),m.sc("placeholder",m.kc(3,3,a.searchPlaceholder$)),m.rc("ngModel",a.searchKey)}}function Po(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"button",12),m.ec("click",function(){return m.Lc(n),m.ic(4).emitSecondaryAction()}),m.Xc(2),m.Wb(),m.Ub()}if(2&t){var i=m.ic(3).ngIf;m.Db(1),m.rc("nzContent",null==i?null:i.info),m.Db(1),m.Zc(" ",null==i?null:i.title," ")}}function Ro(t,e){if(1&t&&(m.Vb(0),m.Vc(1,Po,3,2,"ng-container",4),m.Ub()),2&t){var n=m.ic(2).ngIf;m.Db(1),m.rc("ngIf",null==n?null:n.enabled)}}function Xo(t,e){if(1&t&&(m.Vb(0),m.Vc(1,Ro,2,1,"ng-container",11),m.Ub()),2&t){var n=m.ic().ngIf;m.Db(1),m.rc("isFeaturePermitted",null==n?null:n.permissions)}}function Lo(t,e){if(1&t&&(m.Vb(0),m.Vc(1,Xo,2,1,"ng-container",10),m.Ub()),2&t){var n=m.ic();m.Db(1),m.rc("isTenantFeatureEnabled",null==n.primaryAction?null:n.primaryAction.feature)}}function wo(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"button",13),m.ec("click",function(){return m.Lc(n),m.ic(4).emitAction()}),m.Xc(2),m.Wb(),m.Ub()}if(2&t){var i=m.ic(3).ngIf,a=m.ic();m.Db(1),m.rc("nzContent",null==i?null:i.info)("disabled",a.primaryButtonEnabled),m.Db(1),m.Zc(" ",null==i?null:i.title," ")}}function Wo(t,e){if(1&t&&(m.Vb(0),m.Vc(1,wo,3,3,"ng-container",4),m.Ub()),2&t){var n=m.ic(2).ngIf;m.Db(1),m.rc("ngIf",null==n?null:n.enabled)}}function Vo(t,e){if(1&t&&(m.Vb(0),m.Vc(1,Wo,2,1,"ng-container",11),m.Ub()),2&t){var n=m.ic().ngIf;m.Db(1),m.rc("isFeaturePermitted",null==n?null:n.permissions)}}function xo(t,e){if(1&t&&(m.Vb(0),m.Vc(1,Vo,2,1,"ng-container",10),m.Ub()),2&t){var n=e.ngIf;m.Db(1),m.rc("isTenantFeatureEnabled",null==n?null:n.feature)}}function Uo(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",21),m.ec("click",function(){m.Lc(n);var t=m.ic(2).$implicit;return m.ic(5).emitMultiAction(null==t?null:t.value)}),m.Xc(1),m.Wb()}if(2&t){var i=m.ic(2).$implicit;m.Db(1),m.Zc(" ",null==i?null:i.title," ")}}function Fo(t,e){if(1&t&&(m.Vb(0),m.Vc(1,Uo,2,1,"li",20),m.Ub()),2&t){var n=m.ic().$implicit;m.Db(1),m.rc("isFeaturePermitted",null==n?null:n.permissions)}}function Ho(t,e){if(1&t&&(m.Vb(0),m.Vc(1,Fo,2,1,"ng-container",10),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.rc("isTenantFeatureEnabled",null==n?null:n.feature)}}function Bo(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"button",15),m.Xc(2),m.Sb(3,"app-icons",16),m.Wb(),m.Xb(4,"nz-dropdown-menu",null,17),m.Xb(6,"ul",18),m.Vc(7,Ho,2,1,"ng-container",19),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.Ic(5),i=m.ic(3).ngIf;m.Db(1),m.rc("nzDropdownMenu",n),m.Db(1),m.Zc(" ",null==i?null:i.title," \xa0 "),m.Db(5),m.rc("ngForOf",null==i?null:i.actions)}}function jo(t,e){if(1&t&&(m.Vb(0),m.Vc(1,Bo,8,3,"ng-container",4),m.Ub()),2&t){var n=m.ic(2).ngIf;m.Db(1),m.rc("ngIf",null==n?null:n.enabled)}}function Go(t,e){if(1&t&&(m.Vb(0),m.Vc(1,jo,2,1,"ng-container",14),m.Ub()),2&t){var n=m.ic().ngIf;m.Db(1),m.rc("anyFeaturePermitted",null==n?null:n.permissions)}}function Yo(t,e){if(1&t&&(m.Vb(0),m.Vc(1,Go,2,1,"ng-container",10),m.Ub()),2&t){var n=e.ngIf;m.Db(1),m.rc("isTenantFeatureEnabled",null==n?null:n.feature)}}var qo,Zo,Qo,Ko,Jo=((qo=function(){function t(e,n,i){var a=this;u(this,t),this._dataSharingService=e,this._routeHelperService=n,this._location=i,this.primaryButtonEnabled=!0,this.title$=this._routeHelperService.getTitleForRoute(),this.isSearchEnabled$=this._routeHelperService.isSearchEnabled(),this.primaryAction$=this._routeHelperService.getPrimaryAction(),this._routeHelperService.getPrimaryEnableAction().subscribe(function(t){return a.primaryButtonEnabled=t}),this.secondaryAction$=this._routeHelperService.getSecondaryAction(),this.multiAction$=this._routeHelperService.getMultiAction(),this.searchPlaceholder$=this._routeHelperService.getPlaceholderForSearch(),this.searchReset$=this._routeHelperService.searchReset().subscribe(function(t){t&&(a.searchKey=void 0)})}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._dataSharingService.tenantSettings.subscribe(function(e){e&&(t.tenantConfig=e)})}},{key:"ngOnDestroy",value:function(){var t;null===(t=this.searchReset$)||void 0===t||t.unsubscribe()}},{key:"emitSearchKey",value:function(t){"keyup"!==t.type||this.searchKey||this._routeHelperService.setSearch(this.searchKey),"keyup"===t.type&&13!==t.keyCode||this._routeHelperService.setSearch(this.searchKey)}},{key:"emitAction",value:function(){this._routeHelperService.setPrimaryActionTriggered()}},{key:"emitPrimaryActionEnable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._routeHelperService.setPrimaryEnableAction(t)}},{key:"emitSecondaryAction",value:function(){this._routeHelperService.setSecondaryActionTriggered()}},{key:"emitMultiAction",value:function(t){this._routeHelperService.setMultiActionTriggered(t)}},{key:"goBack",value:function(){this._location.back()}}]),t}()).\u0275fac=function(t){return new(t||qo)(m.Rb(k.a),m.Rb(_e.a),m.Rb(E.l))},qo.\u0275cmp=m.Lb({type:qo,selectors:[["app-actions-header"]],decls:15,vars:15,consts:[["nz-row",""],["nz-col","","nzXs","8","nzSm","6","nzMd","6","nzLg","6"],["id","back-action","name","back","altColor","#ffffff","color","#ffffff",3,"click"],["nz-col","","nzXs","16","nzSm","18","nzMd","18","nzLg","18","id","actionsWrapper"],[4,"ngIf"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","",1,"search",3,"placeholder","ngModel","ngModelChange","keyup"],["searchIconButton",""],["nz-button","","nzType","primary","nzSearch","",3,"click"],["size","14px","name","search",3,"originalStyle"],[4,"isTenantFeatureEnabled"],[4,"isFeaturePermitted"],["nz-button","","nzType","primary","nz-popover","","nzPlacement","bottom",1,"action","secondary-action",3,"nzContent","click"],["nz-button","","nzType","primary","nz-popover","","nzPlacement","bottom",1,"action",3,"nzContent","disabled","click"],[4,"anyFeaturePermitted"],["nz-button","","nzType","primary","nz-dropdown","",1,"action",3,"nzDropdownMenu"],["stroke","2px","size","10px","color","#ffffff","name","down"],["multiActionDropdown","nzDropdownMenu"],["nz-menu",""],[4,"ngFor","ngForOf"],["nz-menu-item","",3,"click",4,"isFeaturePermitted"],["nz-menu-item","",3,"click"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"h3"),m.Xb(3,"app-icons",2),m.ec("click",function(){return e.goBack()}),m.Wb(),m.Xc(4),m.jc(5,"async"),m.Wb(),m.Wb(),m.Xb(6,"div",3),m.Vc(7,No,6,5,"ng-container",4),m.jc(8,"async"),m.Vc(9,Lo,2,1,"ng-container",4),m.jc(10,"async"),m.Vc(11,xo,2,1,"ng-container",4),m.jc(12,"async"),m.Vc(13,Yo,2,1,"ng-container",4),m.jc(14,"async"),m.Wb(),m.Wb()),2&t&&(m.Db(4),m.Zc("",m.kc(5,5,e.title$)," "),m.Db(3),m.rc("ngIf",m.kc(8,7,e.isSearchEnabled$)),m.Db(2),m.rc("ngIf",m.kc(10,9,e.secondaryAction$)),m.Db(2),m.rc("ngIf",m.kc(12,11,e.primaryAction$)),m.Db(2),m.rc("ngIf",m.kc(14,13,e.multiAction$)))},directives:[J.c,J.a,Ct.a,E.q,nt.a,zo.c,zo.b,I.d,I.u,I.x,tt.a,et.a,Ni.a,Pi.a,jn.a,Oo.a,ki.a,Gn.d,Gn.b,Gn.e,Yn.c,E.p,Yn.e],pipes:[E.b],styles:["#back-action[_ngcontent-%COMP%]{margin-right:16px;vertical-align:sub}h3[_ngcontent-%COMP%]{color:var(--neutral-color)}#actionsWrapper[_ngcontent-%COMP%]{text-align:right;height:50px}app-icons[_ngcontent-%COMP%]{vertical-align:middle}.search[_ngcontent-%COMP%]{background:#393939;color:var(--neutral-color);border:none;height:30px;outline:none}[_nghost-%COMP%]     .ant-input-group-addon{background-color:transparent}[_nghost-%COMP%]     .ant-input-search>.ant-input-group>.ant-input-group-addon .ant-input-search-button{padding:5px 10px;border-radius:5px;height:30px}[_nghost-%COMP%]     .ant-input-group-wrapper{width:inherit;vertical-align:middle;margin-right:15px}[_nghost-%COMP%]     .ant-btn{height:30px;line-height:1}.action[_ngcontent-%COMP%]{margin-right:15px}.action[_ngcontent-%COMP%]:last-child{margin-right:0}.secondary-action[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--primary-color);color:var(--primary-color);transition:all .3s}.secondary-action[_ngcontent-%COMP%]:focus{background:transparent!important;color:var(--primary-color)!important}.secondary-action[_ngcontent-%COMP%]:hover{background-color:var(--primary-color)!important;border-color:var(--primary-color)!important;color:var(--neutral-color)!important}"]}),qo),$o=r("VGjC"),tr=((Ko=function(){function t(e){u(this,t),this._http=e,this.rootUrl=mt.g.url}return p(t,[{key:"fetchChatSessions",value:function(){var t=localStorage.getItem("loggedInUser");if(t)return this._http.get(this.rootUrl+"/v2/chats/sessions/users/"+t)}},{key:"createChatSession",value:function(t){return this._http.post(this.rootUrl+"/v2/chats/sessions",JSON.stringify(t))}},{key:"fetchChatMessagesHistory",value:function(t){if(t)return this._http.get(this.rootUrl+"/v2/chats/messages/sessions/"+t)}},{key:"setLastSeenForUser",value:function(t,e){return this._http.put(this.rootUrl+"/v2/chats/sessions/"+e+"/participants/"+t,{})}},{key:"getChatSessionsForUser",value:function(t){if(t)return this._http.get(this.rootUrl+"/v2/chats/sessions/users/"+t)}},{key:"addParticipant",value:function(t,e){return this._http.post(this.rootUrl+"/v2/chats/sessions/"+t+"/participants/"+e,{})}},{key:"removeParticipant",value:function(t,e){return this._http.delete(this.rootUrl+"/v2/chats/sessions/"+t+"/participants/"+e)}},{key:"getChatSession",value:function(t){if(t)return this._http.get(this.rootUrl+"/v2/chats/sessions/"+t)}}]),t}()).\u0275fac=function(t){return new(t||Ko)(m.bc(C.c))},Ko.\u0275prov=m.Nb({token:Ko,factory:Ko.\u0275fac,providedIn:"root"}),Ko),er=((Qo=function(){function t(){u(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Qo)},Qo.\u0275cmp=m.Lb({type:Qo,selectors:[["app-chat-session-header"]],inputs:{unreadMessageCount:"unreadMessageCount"},decls:5,vars:1,consts:[[2,"flex","1 auto"],[3,"nzCount"]],template:function(t,e){1&t&&(m.Xb(0,"div"),m.Xc(1," Conversations\n"),m.Wb(),m.Sb(2,"div",0),m.Xb(3,"div"),m.Sb(4,"nz-badge",1),m.Wb()),2&t&&(m.Db(4),m.rc("nzCount",e.unreadMessageCount))},directives:[Bn.a],styles:["[_nghost-%COMP%]{background-color:#404040;color:var(--neutral-color);display:block;margin:0;padding:12px;cursor:pointer;border-radius:5px 5px 0 0;display:flex;flex-direction:row}"]}),Qo),nr=((Zo=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t,e){return this.getParticipantNames(t,e)}},{key:"getParticipantNames",value:function(t,e){if(null!=t.name&&""!==t.name)return t.name;var n=t.chatParticipations.filter(function(t){return t.participantId!==e}).map(function(t){return t.participantName});return 1==n.length?n[0]:n[0]+" and "+(n.length-1)+" Others"}}]),t}()).\u0275fac=function(t){return new(t||Zo)},Zo.\u0275pipe=m.Qb({name:"chatSessionName",type:Zo,pure:!0}),Zo);function ir(t,e){if(1&t&&m.Sb(0,"nz-avatar",7),2&t){m.ic();var n=m.Ic(9);m.rc("nzText",n)}}function ar(t,e){if(1&t&&(m.Sb(0,"nz-avatar",8),m.jc(1,"chatSessionName")),2&t){var n=m.ic(),i=m.Ic(9);m.rc("nzTitle",m.lc(1,2,n.chatSession,n.userId))("nzText",i)}}function or(t,e){if(1&t&&(m.Xb(0,"div",12),m.Xb(1,"div",13),m.Xc(2),m.Wb(),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(2),m.Yc(n.participantName)}}function rr(t,e){if(1&t&&(m.Xb(0,"div"),m.Vc(1,or,3,1,"div",11),m.Wb()),2&t){var n=e.$implicit,i=m.ic(2);m.Db(1),m.rc("ngIf",n.participantId!==i.userId)}}function cr(t,e){if(1&t&&(m.Xb(0,"nz-spin",9),m.Vc(1,rr,2,1,"div",10),m.Wb()),2&t){var n=m.ic();m.rc("nzSpinning",n.isUserLoading),m.Db(1),m.rc("ngForOf",n.chatSession.chatParticipations)}}var sr,lr=((sr=function(){function t(e,n){u(this,t),this.userService=e,this._router=n,this.isUserLoading=!1}return p(t,[{key:"ngOnInit",value:function(){this.userId=this.userService.getCurrentUserId()}},{key:"loadUser",value:function(t){var e=this;this.isUserLoading=!0,this.userService.getUser(t.participantId).subscribe(function(t){"PATIENT"===t.type&&e._router.navigate(["patient/view/",t.id]),"CARE_TAKER"===t.type&&e._router.navigate(["caretakers/view",t.id]),e.isUserLoading=!1})}}]),t}()).\u0275fac=function(t){return new(t||sr)(m.Rb($o.a),m.Rb(y.g))},sr.\u0275cmp=m.Lb({type:sr,selectors:[["app-chat-session"]],inputs:{chatSession:"chatSession"},features:[m.Cb([$o.a])],decls:10,vars:7,consts:[[2,"display","flex","flex-direction","row","padding","10px"],["nzIcon","user","nzSize","small","style","color:#ed9c4c; background-color:#ffcf9f; min-width: 24px;","nz-popover","","nzType","primary",3,"nzText",4,"ngIf"],["nzIcon","team","nzSize","small","nz-popover","","nzType","primary","style","color:#328093; background-color:#81bdcc; min-width: 24px;",3,"nzTitle","nzText",4,"ngIf"],[2,"margin-left","10px","flex","1 1 auto"],[3,"nzCount"],[2,"margin","0px"],["sessionInfoTemplate",""],["nzIcon","user","nzSize","small","nz-popover","","nzType","primary",2,"color","#ed9c4c","background-color","#ffcf9f","min-width","24px",3,"nzText"],["nzIcon","team","nzSize","small","nz-popover","","nzType","primary",2,"color","#328093","background-color","#81bdcc","min-width","24px",3,"nzTitle","nzText"],["nzTip","Loading...",3,"nzSpinning"],[4,"ngFor","ngForOf"],["style","display: flex;flex-direction: row; padding-top: 12px;",4,"ngIf"],[2,"display","flex","flex-direction","row","padding-top","12px"],[2,"flex","1 1 auto"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Vc(1,ir,1,1,"nz-avatar",1),m.Vc(2,ar,2,5,"nz-avatar",2),m.Xb(3,"div",3),m.Xc(4),m.jc(5,"chatSessionName"),m.Wb(),m.Sb(6,"nz-badge",4),m.Wb(),m.Sb(7,"nz-divider",5),m.Vc(8,cr,2,2,"ng-template",null,6,m.Wc)),2&t&&(m.Db(1),m.rc("ngIf",e.chatSession.chatParticipations.length<3),m.Db(1),m.rc("ngIf",e.chatSession.chatParticipations.length>=3),m.Db(2),m.Yc(m.lc(5,4,e.chatSession,e.userId)),m.Db(2),m.rc("nzCount",e.chatSession.unreadMessageCount))},directives:[E.q,Bn.a,K.a,Dn.a,Oo.a,Ze.a,E.p],pipes:[nr],styles:["[_nghost-%COMP%]{cursor:pointer}"]}),sr);function ur(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-icons",8),m.ec("click",function(){return m.Lc(n),m.ic(2).filterSessions()}),m.Wb()}}function dr(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-chat-session",9),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic(2).activateConversation(t)}),m.Wb()}2&t&&m.rc("chatSession",e.$implicit)}function pr(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",2),m.Xb(1,"nz-spin",3),m.Xb(2,"nz-input-group",4),m.Xb(3,"input",5),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().searchKey=t})("keyup",function(){return m.Lc(n),m.ic().filterSessions()}),m.Wb(),m.Wb(),m.Vc(4,ur,1,0,"ng-template",null,6,m.Wc),m.Vc(6,dr,1,1,"app-chat-session",7),m.Wb(),m.Wb()}if(2&t){var i=m.Ic(5),a=m.ic();m.Db(1),m.rc("nzSpinning",a.isLoading),m.Db(1),m.rc("nzSuffix",i),m.Db(1),m.rc("ngModel",a.searchKey),m.Db(3),m.rc("ngForOf",a.chatSessions)}}var br,hr,gr=((br=function(){function t(e,n){u(this,t),this.dataSharingService=e,this.zone=n,this.isCollapsed=!0,this.isLoading=!1,this.chatSessions=[],this.unreadMessageCount=0,this.chatSessionSelected=new m.n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.dataSharingService.chatTrigger.subscribe(function(e){null!=e&&t.addChatSessionToTheTop(e)})}},{key:"updateUnreadMessageCount",value:function(){var t=this;this.unreadMessageCount=0,this.chatSessions.forEach(function(e){t.unreadMessageCount+=e.unreadMessageCount}),this.totalChatSessions=Object.assign([{}],this.chatSessions)}},{key:"addChatSessionToTheTop",value:function(t){var e=this;null==this.chatSessions.find(function(e){return e.id===t.id})&&this.zone.run(function(){e.chatSessions.unshift(t)}),this.activateConversation(t)}},{key:"toggle",value:function(){this.isCollapsed=!this.isCollapsed}},{key:"activateConversation",value:function(t){this.chatSessions.find(function(e){return e.id===t.id&&(t.unreadMessageCount=0,!0)}),this.chatSessionSelected.next(t),this.updateUnreadMessageCount()}},{key:"activateConversationForSessionId",value:function(t){var e=this.chatSessions.find(function(e){return e.id===t});null!=e&&this.activateConversation(e)}},{key:"filterSessions",value:function(){if(this.searchKey&&""!==this.searchKey){var t=new RegExp(this.searchKey,"gi");this.chatSessions=this.totalChatSessions.filter(function(e){if(e.type&&"GROUP"===e.type){var n=e.chatParticipations.filter(function(e){return e.participantName&&e.participantName.match(t)});return n&&n.length||e.name&&e.name.match(t)}return e.name&&e.name.match(t)})}else this.chatSessions=this.totalChatSessions}}]),t}()).\u0275fac=function(t){return new(t||br)(m.Rb(k.a),m.Rb(m.A))},br.\u0275cmp=m.Lb({type:br,selectors:[["app-chat-sessions"]],outputs:{chatSessionSelected:"chatSessionSelected"},features:[m.Cb([tr])],decls:2,vars:2,consts:[[3,"unreadMessageCount","click"],["class","chat-sessions-container","style","height: 300px; background:#fff;  display: flex; flex-direction: column; border: solid thin #ddd;",4,"ngIf"],[1,"chat-sessions-container",2,"height","300px","background","#fff","display","flex","flex-direction","column","border","solid thin #ddd"],[2,"flex","1","overflow","auto",3,"nzSpinning"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Search",1,"search",3,"ngModel","ngModelChange","keyup"],["suffixIconSearch",""],[3,"chatSession","click",4,"ngFor","ngForOf"],["name","search",3,"click"],[3,"chatSession","click"]],template:function(t,e){1&t&&(m.Xb(0,"app-chat-session-header",0),m.ec("click",function(){return e.toggle()}),m.Wb(),m.Vc(1,pr,7,4,"div",1)),2&t&&(m.rc("unreadMessageCount",e.unreadMessageCount),m.Db(1),m.rc("ngIf",!e.isCollapsed))},directives:[er,E.q,Ze.a,nt.a,zo.c,zo.d,zo.b,I.d,I.u,I.x,E.p,Ct.a,lr],styles:[".search[_ngcontent-%COMP%]{border:0;border-bottom:1px solid #d3d3d3}"]}),br),fr=function(){function t(){u(this,t)}return p(t,[{key:"connect",value:function(t){return this.ws=new WebSocket(t),this.ws}},{key:"disconnect",value:function(){this.ws.close()}}]),t}(),vr=function t(){u(this,t),this.sentOn=(new Date).getTime()},mr=function(t){return t.TEXT="TEXT",t.FILE="FILE",t}({}),Sr=((hr=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t,e){return"ja"==navigator.language.split("-")[0]?t.lastName+" "+t.firstName:t.firstName+" "+t.lastName}}]),t}()).\u0275fac=function(t){return new(t||hr)},hr.\u0275pipe=m.Qb({name:"fullName",type:hr,pure:!0}),hr);function yr(t,e){if(1&t&&(m.Xb(0,"nz-option",4),m.jc(1,"fullName"),m.Xb(2,"div"),m.Xc(3),m.jc(4,"fullName"),m.Wb(),m.Xb(5,"div"),m.Xb(6,"nz-tag",5),m.Xc(7),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.ic().$implicit;m.rc("nzValue",n)("nzLabel",m.kc(1,5,n)),m.Db(3),m.Zc(" ",m.kc(4,7,n)," "),m.Db(3),m.rc("nzColor","magenta"),m.Db(1),m.Yc(n.type)}}function Tr(t,e){if(1&t&&(m.Vb(0),m.Vc(1,yr,8,9,"nz-option",3),m.Ub()),2&t){var n=m.ic();m.Db(1),m.rc("ngIf",!n.isLoading)}}function Cr(t,e){1&t&&(m.Xb(0,"nz-option",6),m.Sb(1,"app-icons",7),m.Xc(2," Loading Data... "),m.Wb())}var Er,Ir,Mr=((Er=function(){function t(e,n,i,a){u(this,t),this.modal=e,this.userService=n,this.chatService=i,this.dataSharingService=a,this.users=[],this.searchText="",this.selectedUsers=[],this.isLoading=!1}return p(t,[{key:"ngOnInit",value:function(){}},{key:"addParticipants",value:function(){var t=this;return new Promise(function(e){var n=0;t.selectedUsers.forEach(function(i){t.chatService.addParticipant(t.chatSession.id,i.id).subscribe(function(i){n+=1,t.selectedUsers.length===n&&(t.dataSharingService.chatSessionRefreshTrigger.next(t.chatSession),e(),t.modal.close())},function(i){n+=1,t.selectedUsers.length===n&&(t.dataSharingService.chatSessionRefreshTrigger.next(t.chatSession),e(),t.modal.close())})})})}},{key:"onSearch",value:function(t){var e=this;t.length>2&&(this.isLoading=!0,this.userService.searchUsers(t).subscribe(function(t){e.users=t,e.isLoading=!1}))}}]),t}()).\u0275fac=function(t){return new(t||Er)(m.Rb(q.e),m.Rb($o.a),m.Rb(tr),m.Rb(k.a))},Er.\u0275cmp=m.Lb({type:Er,selectors:[["app-add-chat-participant"]],inputs:{chatSession:"chatSession"},decls:3,vars:4,consts:[["nzMode","multiple","nzPlaceHolder","Select users","nzAllowClear","","nzShowSearch","",2,"width","100%",3,"ngModel","nzServerSearch","ngModelChange","nzOnSearch"],[4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nzCustomContent","",3,"nzValue","nzLabel",4,"ngIf"],["nzCustomContent","",3,"nzValue","nzLabel"],[3,"nzColor"],["nzDisabled","","nzCustomContent",""],["name","loading"]],template:function(t,e){1&t&&(m.Xb(0,"nz-select",0),m.ec("ngModelChange",function(t){return e.selectedUsers=t})("nzOnSearch",function(t){return e.onSearch(t)}),m.Vc(1,Tr,2,1,"ng-container",1),m.Vc(2,Cr,3,0,"nz-option",2),m.Wb()),2&t&&(m.rc("ngModel",e.selectedUsers)("nzServerSearch",!0),m.Db(1),m.rc("ngForOf",e.users),m.Db(1),m.rc("ngIf",e.isLoading))},directives:[it.d,I.u,I.x,E.p,E.q,it.a,hi.a,Ct.a],pipes:[Sr],styles:[""]}),Er),Ar=["*"],_r=((Ir=function(){function t(){u(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Ir)},Ir.\u0275cmp=m.Lb({type:Ir,selectors:[["app-conversation-header"]],ngContentSelectors:Ar,decls:1,vars:0,template:function(t,e){1&t&&(m.qc(),m.pc(0))},styles:["[_nghost-%COMP%]{background-color:#404040;color:var(--neutral-color);display:block;margin:0;padding:10px;cursor:pointer;border-radius:5px 5px 0 0}"]}),Ir),Dr=r("D9mS");function zr(t,e){if(1&t&&(m.Xb(0,"div"),m.Xc(1),m.Wb()),2&t){var n=m.ic();m.Db(1),m.Zc(" ",n.chatMessage.content,"\n")}}function Or(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"img",2),m.ec("click",function(){return m.Lc(n),m.ic().openImage()}),m.Wb(),m.Wb()}if(2&t){var i=m.ic();m.Db(1),m.rc("src",i.chatMessage.content,m.Oc)}}function kr(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"img",3),m.ec("click",function(){return m.Lc(n),m.ic().openGoogleMaps()}),m.Wb(),m.Wb()}if(2&t){var i=m.ic();m.Db(1),m.rc("src",i.getGoogleMapsUrl(),m.Oc)}}var Nr,Pr,Rr=((Pr=function(){function t(e){u(this,t),this.domSanitizer=e}return p(t,[{key:"ngOnInit",value:function(){}},{key:"getGoogleMapsUrl",value:function(){var t=this.chatMessage.content.split(":");return this.domSanitizer.bypassSecurityTrustResourceUrl("https://maps.googleapis.com/maps/api/staticmap?center="+t[0]+","+t[1]+"&zoom=19&size=150x150&key=AIzaSyCySGsZgXtvenjp06bwyxsL4vtqIsAa4E4")}},{key:"openImage",value:function(){window.open(this.chatMessage.content,"_blank")}},{key:"openGoogleMaps",value:function(){var t=this.chatMessage.content.split(":");window.open("https://www.google.com/maps/search/?api=1&query="+t[0]+","+t[1],"_blank")}}]),t}()).\u0275fac=function(t){return new(t||Pr)(m.Rb(s.b))},Pr.\u0275cmp=m.Lb({type:Pr,selectors:[["app-message"]],inputs:{chatMessage:"chatMessage",userId:"userId"},decls:6,vars:7,consts:[[4,"ngIf"],[2,"color","#666","font-size","10px"],[2,"cursor","pointer","margin-bottom","5px","width","150px",3,"src","click"],[2,"cursor","pointer","margin-bottom","5px",3,"src","click"]],template:function(t,e){1&t&&(m.Vc(0,zr,2,1,"div",0),m.Vc(1,Or,2,1,"div",0),m.Vc(2,kr,2,1,"div",0),m.Xb(3,"div",1),m.Xc(4),m.jc(5,"date"),m.Wb()),2&t&&(m.rc("ngIf","TEXT"===e.chatMessage.type),m.Db(1),m.rc("ngIf","IMAGE"===e.chatMessage.type),m.Db(1),m.rc("ngIf","LOCATION"===e.chatMessage.type),m.Db(2),m.Zc(" ",m.lc(5,4,e.chatMessage.sentOn,"medium"),"\n"))},directives:[E.q],pipes:[E.e],styles:["[_nghost-%COMP%]{margin:10px;display:inline-block;height:auto;border-radius:5px;padding:10px}"]}),Pr),Xr=((Nr=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t,e){var n=t.chatParticipations.find(function(t){return t.participantId===e});return null==n&&console.log(t),n.participantName}}]),t}()).\u0275fac=function(t){return new(t||Nr)},Nr.\u0275pipe=m.Qb({name:"participantName",type:Nr,pure:!0}),Nr),Lr=["messagesContainer"];function wr(t,e){if(1&t&&(m.Xb(0,"div",34),m.Xc(1),m.jc(2,"participantName"),m.Wb()),2&t){var n=m.ic(2).$implicit,i=m.ic(3);m.Db(1),m.Zc(" ",m.lc(2,1,i.chatSession,n.fromUserId),"")}}function Wr(t,e){1&t&&(m.Xb(0,"div",35),m.Xc(1,"Me"),m.Wb())}function Vr(t,e){if(1&t&&(m.Xb(0,"div",30),m.Sb(1,"nz-avatar",31),m.Vc(2,wr,3,4,"div",32),m.Vc(3,Wr,2,0,"div",33),m.Wb()),2&t){var n=m.ic().$implicit,i=m.ic(3);m.rc("ngStyle",i.getSenderStyle(n,i.userId)),m.Db(2),m.rc("ngIf",n.fromUserId!==i.userId),m.Db(1),m.rc("ngIf",n.fromUserId===i.userId)}}function xr(t,e){if(1&t&&(m.Xb(0,"div",27),m.Vc(1,Vr,4,3,"div",28),m.Sb(2,"app-message",29),m.Wb()),2&t){var n=e.$implicit,i=m.ic(3);m.Db(1),m.rc("ngIf",i.isNewConversation(n)),m.Db(1),m.rc("chatMessage",n)("userId",i.userId)("ngStyle",i.getMessageStyle(n))}}function Ur(t,e){if(1&t&&(m.Xb(0,"div",24,25),m.Vc(2,xr,3,4,"div",26),m.Wb()),2&t){var n=m.ic(2);m.Db(2),m.rc("ngForOf",n.chatMessages)}}function Fr(t,e){1&t&&(m.Xb(0,"span"),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"SMS.NO_MESSAGES")," "))}function Hr(t,e){if(1&t&&(m.Xb(0,"nz-empty",36),m.Vc(1,Fr,3,3,"ng-template",null,37,m.Wc),m.Wb()),2&t){var n=m.Ic(2);m.rc("nzNotFoundImage","https://gw.alipayobjects.com/mdn/miniapp_social/afts/img/A*pevERLJC9v0AAAAAAAAAAABjAQAAAQ/original")("nzNotFoundContent",n)}}function Br(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",38),m.ec("click",function(){return m.Lc(n),m.ic(2).sendMessage()}),m.Sb(1,"app-icons",39),m.Wb()}}function jr(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-icons",40),m.ec("click",function(){return m.Lc(n),m.ic(2).attachFile()}),m.Wb()}}function Gr(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",12),m.Xb(1,"div",13),m.Xb(2,"div",1),m.ec("click",function(){return m.Lc(n),m.ic().toggle()}),m.Sb(3,"div"),m.Wb(),m.Xb(4,"div"),m.Xb(5,"button",14),m.Sb(6,"app-icons",15),m.Wb(),m.Xb(7,"button",16),m.ec("click",function(){return m.Lc(n),m.ic().addParticipant()}),m.Sb(8,"app-icons",17),m.Wb(),m.Wb(),m.Wb(),m.Vc(9,Ur,3,1,"div",18),m.Vc(10,Hr,3,2,"nz-empty",19),m.Xb(11,"div"),m.Xb(12,"nz-input-group",20),m.Xb(13,"input",21),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().message=t})("keyup",function(t){return m.Lc(n),m.ic().onKey(t)}),m.Wb(),m.Wb(),m.Vc(14,Br,2,0,"ng-template",null,22,m.Wc),m.Vc(16,jr,1,0,"ng-template",null,23,m.Wc),m.Wb(),m.Wb()}if(2&t){var i=m.Ic(15),a=m.ic(),o=m.Ic(13);m.Db(5),m.rc("nzContent",o),m.Db(4),m.rc("ngIf",a.chatMessages.length>0),m.Db(1),m.rc("ngIf",0==a.chatMessages.length),m.Db(2),m.rc("nzAddOnAfter",i),m.Db(1),m.rc("ngModel",a.message)}}function Yr(t,e){if(1&t&&(m.Xb(0,"div",44),m.Xb(1,"div",45),m.Xc(2),m.Wb(),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(2),m.Yc(n.participantName)}}function qr(t,e){if(1&t&&(m.Xb(0,"div"),m.Vc(1,Yr,3,1,"div",43),m.Wb()),2&t){var n=e.$implicit,i=m.ic(2);m.Db(1),m.rc("ngIf",n.participantId!==i.userId)}}function Zr(t,e){if(1&t&&(m.Xb(0,"nz-spin",41),m.Vc(1,qr,2,1,"div",42),m.Wb()),2&t){var n=m.ic();m.rc("nzSpinning",n.isUserLoading),m.Db(1),m.rc("ngForOf",n.chatSession.chatParticipations)}}var Qr,Kr=((Qr=function(){function t(e,i,a,o,r,c){var s=this;u(this,t),this.chatService=e,this.userService=i,this.dataSharingService=a,this.zone=o,this.modalService=r,this.http=c,this.chatMessages=[],this.closeEvent=new m.n,this.rootUrl=mt.g.url,this.isLoading=!1,this.isCollapsed=!1,this.unreadMessageCount=0,this.isFileUploadActive=!1,this.fileList=[],this.showUploadList={showPreviewIcon:!0,showRemoveIcon:!0,hidePreviewIconInNonImage:!1},this.handlePreview=function(t){return!0},this.handleUpload=function(t){var e=new C.g({bypass:"yes"});s.http.post(s.rootUrl+"/v2/media/upload/"+t.file.name,t.file,{headers:e,observe:"response",responseType:"text"}).subscribe(function(t){if(200==t.status){var e=s.rootUrl+"/v2/media/"+t,i=s.fileList.findIndex(function(t){return t.uid===s.file.uid});s.fileList[i].url=e,s.fileList[i].status="done",s.fileList=n(s.fileList)}else console.log("File not uploaded!!")},function(t){console.log("Error")})}}return p(t,[{key:"handleCancel",value:function(){}},{key:"handleOk",value:function(){}},{key:"ngOnInit",value:function(){var t=this;this.fetchSessionMessages(),this.userId=this.userService.getCurrentUserId(),this.dataSharingService.chatMessageInboundTrigger.subscribe(function(e){null!=e&&t.chatSession.id===e.sessionId&&(t.isCollapsed&&(t.unreadMessageCount+=1),t.appendMessage(e),t.recordMessagesFetchEvent())})}},{key:"updateChatSession",value:function(t){var e=this;this.isLoading=!0,this.chatService.getChatSession(t).subscribe(function(t){e.chatSession=t,e.isLoading=!1})}},{key:"fetchSessionMessages",value:function(){var t=this;this.isLoading=!0,this.chatService.fetchChatMessagesHistory(this.chatSession.id).subscribe(function(e){t.chatMessages=e,t.sortMessages(),t.isLoading=!1,t.scrollToBottomAsync(),t.recordMessagesFetchEvent()},function(e){t.isLoading=!1})}},{key:"recordMessagesFetchEvent",value:function(){this.chatService.setLastSeenForUser(this.userId,this.chatSession.id).subscribe(function(t){})}},{key:"sortMessages",value:function(){this.chatMessages=this.chatMessages.sort(function(t,e){return t.sentOn-e.sentOn})}},{key:"scrollToBottomAsync",value:function(){var t=this;setTimeout(function(){t.scrollToBottom()},200)}},{key:"scrollToBottom",value:function(){try{null!=this.messagesContainer&&(this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight)}catch(t){console.log(t)}}},{key:"toggle",value:function(){this.unreadMessageCount=0,this.isCollapsed=!this.isCollapsed,this.scrollToBottomAsync()}},{key:"appendMessage",value:function(t){var e=this;this.chatMessages.push(t),this.zone.run(function(){e.sortMessages()}),this.scrollToBottomAsync()}},{key:"sendMessage",value:function(){if(this.message){var t=new vr;t.content=this.message,t.type=mr.TEXT,t.fromUserId=this.userId,t.sessionId=this.chatSession.id,this.appendMessage(t),this.message="",this.recordMessagesFetchEvent(),this.dataSharingService.chatMessageOutboundTrigger.next(t)}}},{key:"close",value:function(){this.closeEvent.next(this.chatSession)}},{key:"isNewConversation",value:function(t){var e=this.chatMessages.indexOf(t);return!(e>0&&t.fromUserId===this.chatMessages[e-1].fromUserId)}},{key:"getMessageStyle",value:function(t){return this.userId===t.fromUserId?{float:"right","background-color":"#ffcf9f"}:{float:"left","background-color":"#8adda0"}}},{key:"getSenderStyle",value:function(t,e){return t.fromUserId===e?{display:"flex","flex-direction":"row-reverse","margin-left":"10px"}:{display:"flex","flex-direction":"row","margin-right":"10px"}}},{key:"addParticipant",value:function(){this.modalService.create({nzTitle:"Add People to chat",nzContent:Mr,nzComponentParams:{chatSession:this.chatSession},nzFooter:[{label:"Confirm",onClick:function(t){return t.addParticipants()}}]})}},{key:"onKey",value:function(t){"Enter"===t.key&&null!=this.message&&""!==this.message&&this.sendMessage()}},{key:"attachFile",value:function(){this.isFileUploadActive=!0}}]),t}()).\u0275fac=function(t){return new(t||Qr)(m.Rb(tr),m.Rb($o.a),m.Rb(k.a),m.Rb(m.A),m.Rb(q.f),m.Rb(C.c))},Qr.\u0275cmp=m.Lb({type:Qr,selectors:[["app-conversation"]],viewQuery:function(t,e){var n;1&t&&m.ed(Lr,1),2&t&&m.Hc(n=m.fc())&&(e.messagesContainer=n.first)},inputs:{chatSession:"chatSession",chatMessages:"chatMessages"},outputs:{closeEvent:"closeEvent"},features:[m.Cb([tr,$o.a])],decls:20,vars:17,consts:[[2,"display","flex","flex-direction","row"],[2,"flex","1","text-overflow","ellipsis",3,"click"],[3,"nzCount"],["nz-button","","nzType","primary","nzSize","small","nzType","link",3,"click"],["name","close"],[3,"nzSpinning"],["style","height: 300px; background-color:#fff; display: flex; flex-direction: column;",4,"ngIf"],["sessionInfoTemplate",""],["nzTitle","Modal Title",3,"nzVisible","nzOkLoading","nzVisibleChange","nzOnCancel","nzOnOk"],["nzListType","picture-card",3,"nzFileList","nzShowButton","nzShowUploadList","nzPreview","nzCustomRequest","nzFileListChange"],["name","plus"],[1,"ant-upload-text"],[2,"height","300px","background-color","#fff","display","flex","flex-direction","column"],[2,"background-color","#e1e1e1","display","flex","flex-direction","row"],["nz-button","","nzType","primary","nzType","link","nz-popover","",3,"nzContent"],["name","infoCircle"],["nz-button","","nzType","primary","nzType","link","nz-tooltip","","nzTitle","Add People to chat",3,"click"],["name","userAdd"],["style","flex: 1; overflow: auto;padding-top: 10px;",4,"ngIf"],["style","flex: 1; overflow: auto;",3,"nzNotFoundImage","nzNotFoundContent",4,"ngIf"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","","placeholder","Your message..",2,"border-radius","0px",3,"ngModel","ngModelChange","keyup"],["suffixIconButton",""],["attachmentTemplate",""],[2,"flex","1","overflow","auto","padding-top","10px"],["messagesContainer",""],["style","clear: both;",4,"ngFor","ngForOf"],[2,"clear","both"],[3,"ngStyle",4,"ngIf"],[3,"chatMessage","userId","ngStyle"],[3,"ngStyle"],["nzIcon","user","nzSize","small",2,"margin-left","10px","margin-right","10px"],["style","flex: 1 auto;",4,"ngIf"],["style","flex: 1 auto; text-align: right;",4,"ngIf"],[2,"flex","1 auto"],[2,"flex","1 auto","text-align","right"],[2,"flex","1","overflow","auto",3,"nzNotFoundImage","nzNotFoundContent"],["contentTpl",""],["nz-button","","nzType","primary",2,"border-radius","0px",3,"click"],["name","right"],["nz-tooltip","","nzTooltipTitle","Add Attachment","name","paperClip",3,"click"],["nzTip","Loading...",3,"nzSpinning"],[4,"ngFor","ngForOf"],["style","display: flex;flex-direction: row; padding-top: 12px;",4,"ngIf"],[2,"display","flex","flex-direction","row","padding-top","12px"],[2,"flex","1 1 auto"]],template:function(t,e){1&t&&(m.Xb(0,"app-conversation-header"),m.Xb(1,"div",0),m.Xb(2,"div",1),m.ec("click",function(){return e.toggle()}),m.Xb(3,"div"),m.Xc(4),m.jc(5,"chatSessionName"),m.Wb(),m.Wb(),m.Xb(6,"div"),m.Sb(7,"nz-badge",2),m.Xb(8,"button",3),m.ec("click",function(){return e.close()}),m.Sb(9,"app-icons",4),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"nz-spin",5),m.Vc(11,Gr,18,5,"div",6),m.Wb(),m.Vc(12,Zr,2,2,"ng-template",null,7,m.Wc),m.Xb(14,"nz-modal",8),m.ec("nzVisibleChange",function(t){return e.isFileUploadActive=t})("nzOnCancel",function(){return e.handleCancel()})("nzOnOk",function(){return e.handleOk()}),m.Xb(15,"nz-upload",9),m.ec("nzFileListChange",function(t){return e.fileList=t}),m.Sb(16,"app-icons",10),m.Xb(17,"div",11),m.Xc(18),m.jc(19,"translate"),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(4),m.Zc(" ",m.lc(5,12,e.chatSession,e.userId)," "),m.Db(3),m.rc("nzCount",e.unreadMessageCount),m.Db(3),m.rc("nzSpinning",e.isLoading),m.Db(1),m.rc("ngIf",!e.isCollapsed),m.Db(3),m.rc("nzVisible",e.isFileUploadActive)("nzOkLoading",e.isOkLoading),m.Db(1),m.rc("nzFileList",e.fileList)("nzShowButton",e.fileList.length<5)("nzShowUploadList",e.showUploadList)("nzPreview",e.handlePreview)("nzCustomRequest",e.handleUpload),m.Db(3),m.Yc(m.kc(19,15,"COMMON.UPLOAD")))},directives:[_r,Bn.a,tt.a,nt.a,Ct.a,Ze.a,E.q,q.a,Dr.a,Oo.a,tn.d,zo.c,zo.b,I.d,I.u,I.x,E.p,Rr,E.r,Dn.a,ot.b,et.a],pipes:[nr,rt.a,Xr],styles:["[_nghost-%COMP%]{border:thin solid #ddd;background-color:var(--neutral-color)}"]}),Qr);function Jr(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-conversation",2),m.ec("closeEvent",function(t){return m.Lc(n),m.ic().closeConversation(t)}),m.Wb()}if(2&t){var i=e.$implicit,a=e.index,o=m.ic();m.rc("chatSession",i)("ngStyle",o.getChatWindowStyle(i,a))}}var $r,tc=(($r=function(){function t(e,n,i,a){u(this,t),this.userService=e,this.dataSharingService=n,this.zone=i,this.chatService=a,this.conversationWindowWidth=240,this.gapWidth=50,this.isEnabled=!0,this.openSessions=[],this.maxChatWindows=1,this.webSocketConnector=new fr,this.retryCount=0}return p(t,[{key:"ngAfterViewInit",value:function(){this.windowWidth=window.innerWidth,this.maxChatWindows=Math.round(this.windowWidth/(this.conversationWindowWidth+this.gapWidth)),this.initializeChat()}},{key:"initializeChat",value:function(){var t=this;this.userId=this.userService.getCurrentUserId();var e=mt.g.chatURL+this.userId+"/devices/A81EA9C8-1E90-44FB-B71C-E1A96DBC0ADF";this.fetchSessions();var n=this.webSocketConnector.connect(e);n.onopen=function(){t.retryCount=0},n.onmessage=function(e){var n=JSON.parse(e.data);null!=t.openSessions.find(function(t){return t.id===n.sessionId})?t.dataSharingService.chatMessageInboundTrigger.next(n):t.chatSessionsComponent.activateConversationForSessionId(n.sessionId)},n.onclose=function(){t.retryCount<5&&(t.retryCount+=1,t.initializeChat())},this.dataSharingService.chatMessageOutboundTrigger.subscribe(function(t){null!=t&&n.send(JSON.stringify(t))}),this.dataSharingService.chatSessionRefreshTrigger.subscribe(function(e){null!=e&&t.fetchSessions()})}},{key:"fetchSessions",value:function(){var t=this;this.chatSessions=[],this.chatSessionsComponent.isLoading=!0;var e=this.openSessions;this.openSessions=[],this.chatService.fetchChatSessions().subscribe(function(n){t.chatSessions=n,t.updateChatSessionsComponent(),t.updateOpenSessions(e)})}},{key:"updateOpenSessions",value:function(t){var e=this;this.zone.run(function(){var n=[];t.forEach(function(t){var i=e.chatSessions.findIndex(function(e){return e.id===t.id});i>-1&&n.push(e.chatSessions[i])}),e.openSessions=n})}},{key:"updateChatSessionsComponent",value:function(){this.chatSessionsComponent.chatSessions=this.chatSessions,this.chatSessionsComponent.updateUnreadMessageCount(),this.chatSessionsComponent.isLoading=!1}},{key:"activateSession",value:function(t){var e=this;this.zone.run(function(){e.openSessions.some(function(e){return e==t})?t.isCollapsed=!1:(e.openSessions.length<e.maxChatWindows||e.openSessions.splice(0,1),e.openSessions.push(t))})}},{key:"onResize",value:function(t){this.windowWidth=window.innerWidth}},{key:"getChatWindowStyle",value:function(t,e){return{right:240*(e+1)+50+"px",width:"230px",bottom:"0px",position:"fixed","z-index":100,"box-shadow":"0 4px 24px rgba(0,0,0,.1)"}}},{key:"closeConversation",value:function(t){var e=this;this.zone.run(function(){var n=e.openSessions.findIndex(function(e){if(e.id===t.id)return!0});n>-1&&e.openSessions.splice(n,1)})}}]),t}()).\u0275fac=function(t){return new(t||$r)(m.Rb($o.a),m.Rb(k.a),m.Rb(m.A),m.Rb(tr))},$r.\u0275cmp=m.Lb({type:$r,selectors:[["app-messaging"]],viewQuery:function(t,e){var n;1&t&&m.ed(gr,1),2&t&&m.Hc(n=m.fc())&&(e.chatSessionsComponent=n.first)},hostBindings:function(t,e){1&t&&m.ec("resize",function(t){return e.onResize(t)},!1,m.Kc)},features:[m.Cb([$o.a,tr])],decls:2,vars:1,consts:[[1,"chat-sessions-container",2,"right","50px","width","230px","bottom","0px","position","fixed","z-index","100 !important","box-shadow","0 4px 24px rgba(0,0,0,.1)",3,"chatSessionSelected"],[3,"chatSession","ngStyle","closeEvent",4,"ngFor","ngForOf"],[3,"chatSession","ngStyle","closeEvent"]],template:function(t,e){1&t&&(m.Xb(0,"app-chat-sessions",0),m.ec("chatSessionSelected",function(t){return e.activateSession(t)}),m.Wb(),m.Vc(1,Jr,1,2,"app-conversation",1)),2&t&&(m.Db(1),m.rc("ngForOf",e.openSessions))},directives:[gr,E.p,Kr,E.r],styles:[""]}),$r);function ec(t,e){1&t&&(m.Xb(0,"nz-header"),m.Sb(1,"app-main-header"),m.Wb())}function nc(t,e){1&t&&m.Sb(0,"app-sidebar")}function ic(t,e){if(1&t&&(m.Xb(0,"nz-sider",12),m.Vc(1,nc,1,0,"app-sidebar",4),m.Wb()),2&t){var n=m.ic();m.rc("nzCollapsedWidth",0)("nzTrigger",null)("nzCollapsed",n.sidebarCollapsed),m.Db(1),m.rc("ngIf",!n.sidebarCollapsed)}}var ac=function(t){return{left:t}};function oc(t,e){if(1&t&&(m.Xb(0,"nz-header",13),m.Sb(1,"app-actions-header"),m.Wb()),2&t){var n=m.ic();m.rc("ngStyle",m.yc(1,ac,n.headerLeft))}}function rc(t,e){1&t&&m.Sb(0,"app-messaging")}var cc=function(){return["CHAT"]};function sc(t,e){1&t&&(m.Vb(0),m.Vc(1,rc,1,0,"app-messaging",14),m.Ub()),2&t&&(m.Db(1),m.rc("isFeaturePermitted",m.xc(1,cc)))}var lc,uc,dc=function(t){return{"content-container":t}},pc=((lc=function(){function t(e,n,i,a,o,r,c,s,l,d,p,b,h,g,f,v,m,S,y,T){var C=this;u(this,t),this._dataSharingService=e,this.idle=n,this._routeHelperService=i,this.router=a,this.modalService=o,this._tenantConfig=r,this._titleService=c,this._cdRef=s,this.applicationInsightsService=l,this._networkMonitorService=d,this._translationsService=p,this._permissionService=b,this._globalEventsService=h,this.componentFactoryResolver=g,this._applicationVersionService=f,this.permissionHelper=v,this._dashboardService=m,this._widgetsService=S,this._staffSessionPingService=y,this._whitelabelService=T,this.itsTheme=!0,this.isReverseArrow=!1,this.logoutModal=null,this.modal=null,this.featureConfigs=new Bt.a,this.featureNomenclatures=new Ht.a,this.isAdminEnabled=!1,this.videoCallInitiated=!1,this.mainHeader$=this._routeHelperService.isMainHeaderEnabled(),this.actionsHeader$=this._routeHelperService.isActionsHeaderEnabled(),this.sidebar$=this._routeHelperService.isSidebarEnabled(),this.isLoggedIn=e.isLoggedIn(),this._routeHelperService.isSidebarCollapsed().subscribe(function(t){C.sidebarCollapsed=t,C.resizeHeader()}),this.registerRouterSubscription(),this._globalEventsService.addMessageEventHandler(),this._staffSessionPingService.inititalize(),this._whitelabelService.initialize()}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._applicationVersionService.checkVersion(),this.registerCommunicationTriggers(),this.registerGlobalTimer(),this.registerStickyNote(),this.registerPatientAssessmentTrigger(),this._translationsService.getMultiple("COMMON.BTN_OK","LOGOUT.USER_ACTIVITY","LOGOUT.USER_GONE_IDEL","LOGOUT.USER_GONE_IDEL_2_MINS").subscribe(function(e){t.translatedStrings=e}),window.addEventListener("storage",function(t){"pageRefresh"==t.key&&(localStorage.removeItem("pageRefresh"),location.reload())}),this.autoLogout(),this.subscribeToUserDetails(),this.loadDetails(),this.initAutoLogout(),this.networkState$=this._networkMonitorService.monitor();var e=window.location.pathname;e&&e.includes("video-call")&&(this.videoCallInitiated=!0),Object(Rt.a)(window,"resize").pipe(Object(Vt.a)(50)).subscribe(function(e){t.resizeHeader(),t._routeHelperService.setSidebarCollapsed((null===window||void 0===window?void 0:window.innerHeight)>(null===window||void 0===window?void 0:window.innerWidth))}),(null===window||void 0===window?void 0:window.innerHeight)>(null===window||void 0===window?void 0:window.innerWidth)&&this._routeHelperService.setSidebarCollapsed(!0)}},{key:"resizeHeader",value:function(){this.headerLeft=this.sidebarCollapsed?"0":"150px"}},{key:"registerCommunicationTriggers",value:function(){this.registerVoicecallTrigger()}},{key:"registerVoicecallTrigger",value:function(){var t=this;this._dataSharingService.getVoiceCallInitiated().subscribe(function(e){if(null!=e&&null!=e.patient){var n={};n[ee.TRIGGER_SUBSCRIBED]=t.router.url,null!=t.voicecallViewContainerRef&&t.voicecallViewContainerRef.clear(),t.voicecallViewContainerRef=t.voicecallHost.viewContainerRef;var i=t.componentFactoryResolver.resolveComponentFactory(Me);t.voicecallComponentRef=t.voicecallViewContainerRef.createComponent(i),t.voicecallComponentRef.instance.properties=n,null!=e.appointmentId&&(t.voicecallComponentRef.instance.appointmentId=e.appointmentId),t.voicecallComponentRef.instance.enableRecording=null!=e.enableRecording&&e.enableRecording,t.voicecallComponentRef.instance.voiceCallContext=e.context,t.voicecallComponentRef.instance.properties=n,t.voicecallComponentRef.instance.initiateCall(e.patient,e.toNumber,e.tenantId)}}),this._dataSharingService.onVoiceCallDisconnect().subscribe(function(e){e&&(t.voicecallViewContainerRef.clear(),t.voicecallComponentRef.instance.ngOnDestroy=function(){return t.voicecallComponentRef.destroy()})})}},{key:"registerGlobalTimer",value:function(){var t=this;this._dataSharingService.getTimer().subscribe(function(e){var n,i,a;if(e){if("START"===(null==e?void 0:e.state)?t._staffSessionPingService.updateStaffSession({type:"TIMER_STARTED",value:null==e?void 0:e.data}):"COMPLETED"===(null==e?void 0:e.state)&&t._staffSessionPingService.updateStaffSession({type:"TIMER_ENDED",value:null==e?void 0:e.data}),"START"!==(null==e?void 0:e.state)&&t.globalTimerViewRef&&t.globalNotesViewRef)return null===(n=t.globalTimerViewRef)||void 0===n||n.clear(),void(null===(i=t.globalNotesViewRef)||void 0===i||i.clear());t.globalTimerViewRef&&(null===(a=t.globalTimerViewRef)||void 0===a||a.clear()),t.globalTimerViewRef=t.globalTimerHost.viewContainerRef,t.globalTimerContainerRef=t.globalTimerViewRef.createComponent(t.componentFactoryResolver.resolveComponentFactory(kt))}})}},{key:"registerStickyNote",value:function(){var t=this;this._dataSharingService.getStickNote().subscribe(function(e){var n;e&&(t.globalNotesViewRef&&(null===(n=t.globalNotesViewRef)||void 0===n||n.clear()),t.globalNotesViewRef=t.globalNotesHost.viewContainerRef,t.globalNotesContainerRef=t.globalNotesViewRef.createComponent(t.componentFactoryResolver.resolveComponentFactory(je)),t.globalNotesContainerRef.instance.patientId=e.patientId,t.globalNotesContainerRef.instance.patientName=e.patientName,t.globalNotesContainerRef.instance.tenantId=e.tenantId,t.globalNotesContainerRef.instance.showNotes=!("MINIMIZED"==e.state||"COMPLETED"==e.state),t.globalNotesContainerRef.instance.content=e.data,t.globalNotesContainerRef.instance.config=Re.c)}),this._dataSharingService.onRefreshStickNoteEditor().subscribe(function(e){e&&t.globalNotesViewRef&&e&&(t.globalNotesViewRef.clear(),t.globalNotesViewRef.remove(),t.globalNotesContainerRef.destroy(),t.globalNotesViewRef=t.globalNotesHost.viewContainerRef,t.globalNotesContainerRef=t.globalNotesViewRef.createComponent(t.componentFactoryResolver.resolveComponentFactory(je)),t.globalNotesContainerRef.instance.patientId=e.patientId,t.globalNotesContainerRef.instance.patientName=e.patientName,t.globalNotesContainerRef.instance.tenantId=e.tenantId,t.globalNotesContainerRef.instance.showNotes=!("MINIMIZED"==e.state||"COMPLETED"==e.state),t.globalNotesContainerRef.instance.content=e.data,"MAXIMIZED"==e.state?(t.globalNotesContainerRef.instance.state="MAXIMIZED",t.globalNotesContainerRef.instance.minScreen=!1,t.globalNotesContainerRef.instance.config=Re.d):(t.globalNotesContainerRef.instance.state="RESTORED",t.globalNotesContainerRef.instance.minScreen=!0,t.globalNotesContainerRef.instance.config=Re.c))})}},{key:"registerRouterSubscription",value:function(){var t=this;this.routerSubscription=this.router.events.subscribe(function(e){var n;if(e instanceof y.b&&(t._routeHelperService.setDataForRoute({reset:!0}),t._routeHelperService.setDataForRoute(null===(n=null==e?void 0:e.snapshot)||void 0===n?void 0:n.data)),e instanceof y.c&&setTimeout(function(){return window.scroll(0,0)},500),e instanceof y.e){var i=t.getActivatedComponent(e.state.root);i&&t.applicationInsightsService.logPageView("".concat(i.name),e.urlAfterRedirects)}})}},{key:"registerPatientAssessmentTrigger",value:function(){var t=this;this._dataSharingService.getPatientAssessmentTrigger().subscribe(function(e){(null==e?void 0:e.url)&&(null==e?void 0:e.patientId)&&(null==e?void 0:e.patientName)&&(t.assessmentPatientId=null==e?void 0:e.patientId,t.assessmentPatientName=null==e?void 0:e.patientName,t.patientAssessmentURL=null==e?void 0:e.url)})}},{key:"closePatientAsssessment",value:function(){this.patientAssessmentURL=void 0}},{key:"getActivatedComponent",value:function(t){return t.firstChild?this.getActivatedComponent(t.firstChild):t.component}},{key:"createModalForLogoutInfo",value:function(){var t,e,n=this;null==this.logoutModal&&(this._translationsService.get("LOGOUT.AUTO_LOGOUT_HEADER").subscribe(function(e){return t=e}),this._translationsService.get("LOGOUT.AUTO_LOGOUT_SESSION_EXPIRED").subscribe(function(t){return e=t}),this.logoutModal=this.modalService.info({nzTitle:t,nzContent:e,nzOnOk:function(){n.logoutModal&&(n.logoutModal.destroy(),n.logoutModal=null)}}))}},{key:"createModalForIdleStartInfo",value:function(){var t=this;null==this.logoutModal&&(null==this.modal2MinsB4&&(this.modal2MinsB4=this.modalService.info({nzTitle:this.translatedStrings.get("LOGOUT.USER_ACTIVITY"),nzContent:this.translatedStrings.get("LOGOUT.USER_GONE_IDEL_2_MINS"),nzOkText:this.translatedStrings.get("COMMON.BTN_OK"),nzOnOk:function(){t.modal2MinsB4=null}})),setTimeout(function(){t.modal2MinsB4&&(t.modal2MinsB4.destroy(),t.modal2MinsB4=null,t.modal=t.modalService.info({nzTitle:t.translatedStrings.get("LOGOUT.USER_ACTIVITY"),nzContent:t.translatedStrings.get("LOGOUT.USER_GONE_IDEL"),nzOkText:t.translatedStrings.get("COMMON.BTN_OK"),nzOnOk:function(){t.modal=null}}),setTimeout(function(){t.modal&&(t.modal.destroy(),t.modal=null)},5e3))},12e4))}},{key:"autoLogout",value:function(){this.idle.setIdle(1675),this.idle.setTimeout(1800),this.idle.setInterrupts(jt.a),this.idle.watch()}},{key:"checkIfUserAlreadyLoggedOut",value:function(){return"/authorization/login"===this.router.url||"/authorization/logout"===this.router.url}},{key:"logoutUser",value:function(){this.autoLogout(),this.checkIfUserAlreadyLoggedOut()||this.logout()}},{key:"initAutoLogout",value:function(){var t=this;this.idle.onTimeout.subscribe(function(){t.logoutUser(),t.checkIfUserAlreadyLoggedOut()||t.createModalForLogoutInfo()}),this.idle.onIdleStart.subscribe(function(){t.checkIfUserAlreadyLoggedOut()||t.createModalForIdleStartInfo()})}},{key:"ngDoCheck",value:function(){this._cdRef.detectChanges()}},{key:"subscribeToUserDetails",value:function(){var t=this;this.permissionHelper.getAllPermissionStrings(),this._permissionService.loadUserRolePermissions(),this._dataSharingService.getLoggedInUserName().subscribe(function(e){t._titleService.setTitle("Portal: "+(e||""))}),this._dataSharingService.featureConfigs.subscribe(function(e){t.featureConfigs=e}),this._dataSharingService.tenantSettings.subscribe(function(e){t.partnerLogoURL=localStorage.getItem("logoUrl"),t.tenantConfig=e}),this._dataSharingService.featureNomenclatures.subscribe(function(e){t.featureNomenclatures=e})}},{key:"loadDetails",value:function(){var t=this;window.navigator.webdriver||this.applicationInsightsService.setUserId(localStorage.getItem("loggedInUser")),localStorage.getItem("accessToken")&&(this._tenantConfig.getConfigSetting().subscribe(function(e){var n;t.partnerLogoURL=localStorage.getItem("logoUrl"),t._dataSharingService.featureConfigs.next(null==e?void 0:e.featureConfigs),t._dataSharingService.featureNomenclatures.next(e.featureNomenclatures),t._dataSharingService.tenantSettings.next(e),t.idle.setTimeout(100*((null===(n=null==e?void 0:e.staffSessionConfig)||void 0===n?void 0:n.inactivityInterval)||15))}),this.fetchAllAssignedTenantConfigsForUser(),this.setFavicon(),this._dashboardService.fetchEnabledWidgets().subscribe(function(e){return t._widgetsService.setDashboardConfig(e)}))}},{key:"fetchAllAssignedTenantConfigsForUser",value:function(){var t=this;this._tenantConfig.getAllAssignedTenantConfigSettings().subscribe(function(e){var n=new Map;e.result.forEach(function(t){return n.set(t.tenantId,t)}),t._dataSharingService.assignedTenantSettings.next(n)})}},{key:"setFavicon",value:function(){var t=localStorage.getItem("accessToken"),e=document.querySelector("#faviconURL");t&&(e.href=localStorage.getItem("faviconUrl"))}},{key:"logout",value:function(){this.router.navigate(["authorization/logout"])}}]),t}()).\u0275fac=function(t){return new(t||lc)(m.Rb(k.a),m.Rb(jt.b),m.Rb(_e.a),m.Rb(y.g),m.Rb(q.f),m.Rb(Gt.a),m.Rb(s.c),m.Rb(m.h),m.Rb(Yt.a),m.Rb(Ft),m.Rb(Jt.a),m.Rb(T.a),m.Rb(re),m.Rb(m.j),m.Rb(Nt),m.Rb(De.a),m.Rb(ze.a),m.Rb(Oe.a),m.Rb(z.a),m.Rb(Ge.a))},lc.\u0275cmp=m.Lb({type:lc,selectors:[["app-root"]],viewQuery:function(t,e){var n;1&t&&(m.ed(Ae,1),m.ed(ke,1),m.ed(Ne,1)),2&t&&(m.Hc(n=m.fc())&&(e.voicecallHost=n.first),m.Hc(n=m.fc())&&(e.globalTimerHost=n.first),m.Hc(n=m.fc())&&(e.globalNotesHost=n.first))},hostVars:4,hostBindings:function(t,e){2&t&&m.Jb("primary-theme",e.primaryTheme)("its-theme",e.itsTheme)},decls:29,vars:39,consts:[["appSpinnerPosition","","color","#d81b60"],["progressBar",""],[3,"nzTip","nzSpinning"],[1,"full-height"],[4,"ngIf"],[3,"ngClass"],["style","z-index: 100;","nzTheme","light","nzWidth","150px","nzCollapsible","",3,"nzCollapsedWidth","nzTrigger","nzCollapsed",4,"ngIf"],["class","container","id","actions-header",3,"ngStyle",4,"ngIf"],["voicecallHost",""],["globalTimerHost",""],["globalNotesHost",""],[3,"patientId","patientName","url","close"],["nzTheme","light","nzWidth","150px","nzCollapsible","",2,"z-index","100",3,"nzCollapsedWidth","nzTrigger","nzCollapsed"],["id","actions-header",1,"container",3,"ngStyle"],[4,"isFeaturePermitted"]],template:function(t,e){1&t&&(m.Sb(0,"ng-progress",0,1),m.Xb(2,"nz-spin",2),m.jc(3,"translate"),m.Xb(4,"nz-layout",3),m.Vc(5,ec,2,0,"nz-header",4),m.jc(6,"async"),m.jc(7,"async"),m.Xb(8,"nz-layout",5),m.jc(9,"async"),m.Vc(10,ic,2,4,"nz-sider",6),m.jc(11,"async"),m.jc(12,"async"),m.Xb(13,"nz-layout"),m.Vc(14,oc,2,3,"nz-header",7),m.jc(15,"async"),m.jc(16,"async"),m.Xb(17,"nz-content",5),m.jc(18,"async"),m.jc(19,"async"),m.jc(20,"async"),m.Sb(21,"router-outlet"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Tb(22,8),m.Tb(23,9),m.Tb(24,10),m.Vc(25,sc,2,2,"ng-container",4),m.jc(26,"async"),m.Sb(27,"app-tour-template"),m.Xb(28,"app-assessment-form",11),m.ec("close",function(){return e.closePatientAsssessment()}),m.Wb()),2&t&&(m.Db(2),m.sc("nzTip",m.kc(3,11,"COMMON.LOST_CONNECTION")),m.rc("nzSpinning",!1),m.Db(3),m.rc("ngIf",m.kc(6,13,e.isLoggedIn)&&!e.videoCallInitiated&&e.tenantConfig&&m.kc(7,15,e.mainHeader$)),m.Db(3),m.rc("ngClass",m.yc(35,dc,m.kc(9,17,e.isLoggedIn))),m.Db(2),m.rc("ngIf",m.kc(11,19,e.isLoggedIn)&&!e.videoCallInitiated&&e.tenantConfig&&m.kc(12,21,e.sidebar$)),m.Db(4),m.rc("ngIf",m.kc(15,23,e.isLoggedIn)&&!e.videoCallInitiated&&e.tenantConfig&&m.kc(16,25,e.actionsHeader$)),m.Db(3),m.rc("ngClass",m.yc(37,dc,m.kc(18,27,e.isLoggedIn)&&!e.videoCallInitiated&&e.tenantConfig&&m.kc(19,29,e.actionsHeader$)&&m.kc(20,31,e.mainHeader$))),m.Db(8),m.rc("ngIf",(null==e.tenantConfig||null==e.tenantConfig.chatConfig?null:e.tenantConfig.chatConfig.enabled)&&m.kc(26,33,e.isLoggedIn)&&!e.videoCallInitiated),m.Db(3),m.rc("patientId",e.assessmentPatientId)("patientName",e.assessmentPatientName)("url",e.patientAssessmentURL))},directives:[Ye.b,qe,Ze.a,Qe.d,E.q,E.o,Qe.a,y.l,Ae,ke,Ne,pn,Cn,Qe.c,ai,Qe.f,Do,E.r,Jo,jn.a,tc],pipes:[rt.a,E.b],styles:["[_nghost-%COMP%]     .ant-layout-sider-children{position:fixed;overflow:auto;-ms-overflow-style:none;scrollbar-width:none;margin-top:5px;max-width:150px}nz-header[_ngcontent-%COMP%]{position:fixed;z-index:999;width:100%;background:var(--neutral-color) 0 0 no-repeat padding-box}nz-sider[_ngcontent-%COMP%]{box-shadow:0 0 10px #dcdcdc}[_nghost-%COMP%]     .ant-layout-header{padding:0}#actions-header[_ngcontent-%COMP%]{left:0;right:0;padding-top:0!important;padding-bottom:0!important;width:auto;background:var(--light-black) 0 0 no-repeat padding-box}.full-height[_ngcontent-%COMP%]{min-height:100vh}.content-container[_ngcontent-%COMP%]{margin-top:50px}[_nghost-%COMP%]     .ant-layout-sider-zero-width-trigger{top:unset!important}.sidebarSlider[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:10px}.sidebarSliderFull[_ngcontent-%COMP%]{left:60px;transform:rotate(180deg)}"]}),lc),bc=r("bKRa"),hc=r("rbUg"),gc=r("icpI"),fc=r("mLmo"),vc=((uc=function t(){u(this,t)}).\u0275mod=m.Pb({type:uc}),uc.\u0275inj=m.Ob({factory:function(t){return new(t||uc)},providers:[fc.a],imports:[[E.c,_.a,y.k,A.a.forRoot(),I.o,M.a,hc.a,bc.a,gc.b]]}),uc),mc=r("aOTX"),Sc=r("T5gh"),yc=r("Dwgb"),Tc=r("pxUr"),Cc=r("0W7X"),Ec=r("qQcL");function Ic(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"tr"),m.Xb(2,"td"),m.Xc(3),m.Wb(),m.Xb(4,"td"),m.Xc(5),m.Wb(),m.Xb(6,"td"),m.Xc(7),m.Wb(),m.Wb(),m.Ub()),2&t){var n=e.$implicit,i=m.ic();m.Db(3),m.Yc(n.caretakerName),m.Db(2),m.Yc(i.isMonthly?n.patientCommunicationQuickSummary.communicationMinutesMonthly:n.patientCommunicationQuickSummary.communicationMinutesToday),m.Db(2),m.Yc(i.isMonthly?n.patientCommunicationQuickSummary.monthlyTimerPercentage:n.patientCommunicationQuickSummary.todayTimerPercentage)}}var Mc,Ac,_c,Dc=((_c=function t(){u(this,t)}).\u0275fac=function(t){return new(t||_c)},_c.\u0275cmp=m.Lb({type:_c,selectors:[["app-caretaker-communication-list"]],inputs:{communications:"communications",isMonthly:"isMonthly"},decls:17,vars:3,consts:[[3,"nzData"],["communicationTable",""],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(m.Xb(0,"div"),m.Xb(1,"h3"),m.Xb(2,"strong"),m.Xc(3),m.Wb(),m.Wb(),m.Vb(4),m.Xb(5,"nz-table",0,1),m.Xb(7,"thead"),m.Xb(8,"tr"),m.Xb(9,"th"),m.Xc(10,"Staff Name"),m.Wb(),m.Xb(11,"th"),m.Xc(12,"Minutes Logged"),m.Wb(),m.Xb(13,"th"),m.Xc(14,"Timer Percentage(%)"),m.Wb(),m.Wb(),m.Wb(),m.Xb(15,"tbody"),m.Vc(16,Ic,8,3,"ng-container",2),m.Wb(),m.Wb(),m.Ub(),m.Wb()),2&t){var n=m.Ic(6);m.Db(3),m.Zc(" ",e.isMonthly?"Monthly Minutes Logged by Staff":" Minutes Logged Today by Staff",""),m.Db(2),m.rc("nzData",e.communications),m.Db(11),m.rc("ngForOf",n.data)}},directives:[at.f,at.n,at.o,at.e,at.l,at.i,E.p],styles:[".title[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-table-thead>tr>th, td[_ngcontent-%COMP%]{text-align:center!important}[_nghost-%COMP%]     .ant-table-thead>tr>th{height:50px!important}[_nghost-%COMP%]     tr.ant-table-placeholder{display:none}"]}),_c),zc=((Ac=function(){function t(e,n){u(this,t),this._widgetsService=e,this._element=n}return p(t,[{key:"ngAfterViewInit",value:function(){this._widgetsService.isSectionsEnabled(this.sections)?this.enableSection():this.disableSection()}},{key:"enableSection",value:function(){this._element.nativeElement.style.display="block"}},{key:"disableSection",value:function(){this._element.nativeElement.style.display="none"}}]),t}()).\u0275fac=function(t){return new(t||Ac)(m.Rb(Oe.a),m.Rb(m.l))},Ac.\u0275dir=m.Mb({type:Ac,selectors:[["","dashboardSections",""]],inputs:{sections:["dashboardSections","sections"]}}),Ac),Oc=((Mc=function(){function t(e,n){u(this,t),this._widgetsService=e,this._element=n}return p(t,[{key:"ngAfterViewInit",value:function(){this._widgetsService.isWidgetEnabled(this.widget,this.subWidget)?this.enableWidget():this.disableWidget()}},{key:"enableWidget",value:function(){this._element.nativeElement.style.display="block"}},{key:"disableWidget",value:function(){this._element.nativeElement.style.display="none"}}]),t}()).\u0275fac=function(t){return new(t||Mc)(m.Rb(Oe.a),m.Rb(m.l))},Mc.\u0275dir=m.Mb({type:Mc,selectors:[["","dashboardWidget",""]],inputs:{widget:["dashboardWidget","widget"],subWidget:"subWidget"}}),Mc);function kc(t,e){if(1&t&&(m.Xb(0,"div",6),m.Sb(1,"app-icons",7),m.Wb()),2&t){var n=m.ic();m.Db(1),m.rc("name",(null==n.iconMap?null:n.iconMap.get(n.name))||"appointment")("color",n.iconColor)("strokeColor",n.iconColor)("fill","clock"===(null==n.iconMap?null:n.iconMap.get(n.name))?n.iconColor:"none")}}function Nc(t,e){if(1&t&&(m.Xb(0,"strong"),m.Xc(1),m.Wb()),2&t){var n=m.ic();m.Db(1),m.ad("",n.count," ",n.suffix,"")}}function Pc(t,e){1&t&&(m.Xb(0,"strong"),m.Xc(1),m.Wb()),2&t&&(m.Db(1),m.Yc("-"))}function Rc(t,e){if(1&t&&(m.Xb(0,"strong",8),m.Xc(1),m.Wb()),2&t){var n=m.ic();m.Db(1),m.ad("",n.count2," ",n.suffix2,"")}}var Xc,Lc=((Xc=function t(){u(this,t),this.iconMap=new Map([["COMPLETED_DST","notification"],["COMPLETED_APPOINTMENTS_THIS_MONTH","notification"],["LOGGED_INTERACTION","appointment"],["STAFF_SESSION_MINUTES","appointment"],["PATIENT_FOLLOW_UP","clock"],["RESOLVED_ALERTS","patient"],["LOGGED_INTERACTION_MONTH","appointment"],["LOGGED_INTERACTION_TIMER","appointment"],["LOGGED_INTERACTION_MONTH_TIMER","appointment"],["STAFF_SESSION_MINUTES_MONTH","appointment"]]),this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--secondary-color")}).\u0275fac=function(t){return new(t||Xc)},Xc.\u0275cmp=m.Lb({type:Xc,selectors:[["app-quick-progress-subwidget"]],inputs:{name:"name",count:"count",suffix:"suffix",count2:"count2",suffix2:"suffix2"},decls:11,vars:7,consts:[["nz-row","","nzGutter","24"],["nz-col","","nzSpan","3",4,"ngIf"],["nz-col","","nzSpan","21"],[2,"display","block"],[4,"ngIf"],["class","second-row",4,"ngIf"],["nz-col","","nzSpan","3"],["size","18px",3,"name","color","strokeColor","fill"],[1,"second-row"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Vc(1,kc,2,4,"div",1),m.Xb(2,"div",2),m.Xb(3,"label"),m.Xc(4),m.jc(5,"translate"),m.Wb(),m.Xb(6,"span",3),m.Vc(7,Nc,2,2,"strong",4),m.Vc(8,Pc,2,1,"strong",4),m.Wb(),m.Xb(9,"span",3),m.Vc(10,Rc,2,2,"strong",5),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(1),m.rc("ngIf",e.name),m.Db(3),m.Yc(m.kc(5,5,e.name)),m.Db(3),m.rc("ngIf",e.count||0===e.count),m.Db(1),m.rc("ngIf",!e.count&&0!==e.count),m.Db(2),m.rc("ngIf",e.count2||0===e.count2))},directives:[J.c,E.q,J.a,Ct.a],pipes:[rt.a],styles:["[_nghost-%COMP%]     .ant-row{max-width:25ch}label[_ngcontent-%COMP%]{display:block}strong[_ngcontent-%COMP%]{color:var(--secondary-color);font:normal normal 600 16px/24px Nunito}app-icons[_ngcontent-%COMP%]{vertical-align:sub;pointer-events:none}.second-row[_ngcontent-%COMP%]{font:normal normal 600 14px/18px Nunito!important}"]}),Xc);function wc(t,e){1&t&&(m.Vb(0),m.Xc(1,"Good Morning, "),m.Ub())}function Wc(t,e){1&t&&(m.Vb(0),m.Xc(1,"Good Afternoon, "),m.Ub())}function Vc(t,e){1&t&&(m.Vb(0),m.Xc(1,"Good Evening, "),m.Ub())}function xc(t,e){if(1&t&&(m.Vb(0),m.Vc(1,wc,2,0,"ng-container",3),m.Vc(2,Wc,2,0,"ng-container",3),m.Vc(3,Vc,2,0,"ng-container",3),m.Ub()),2&t){var n=e.ngIf;m.Db(1),m.rc("ngIf",n>=0&&n<12),m.Db(1),m.rc("ngIf",n>=12&&n<17),m.Db(1),m.rc("ngIf",n>=17&&n<24)}}function Uc(t,e){if(1&t&&(m.Xb(0,"h3"),m.Vc(1,xc,4,3,"ng-container",3),m.jc(2,"date"),m.Xc(3),m.Wb()),2&t){var n=e.ngIf,i=m.ic();m.Db(1),m.rc("ngIf",m.lc(2,2,i.date,"H")),m.Db(2),m.Zc(" ",null==n||null==n.metadata?null:n.metadata.name,"! ")}}var Fc=function(){return[24,24]};function Hc(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",6),m.Xb(1,"div",7),m.Sb(2,"app-quick-progress-subwidget",8),m.Wb(),m.Xb(3,"div",9),m.Sb(4,"app-quick-progress-subwidget",10),m.Wb(),m.Xb(5,"div",11),m.jc(6,"translate"),m.Sb(7,"app-quick-progress-subwidget",12),m.Wb(),m.Xb(8,"div",13),m.ec("click",function(){m.Lc(n);var t=m.ic();return t.onLoggedMinutesSummaryClick("TENANT_ADMIN"!==t.loggedInUserType&&null)}),m.Sb(9,"app-quick-progress-subwidget",14),m.Wb(),m.Xb(10,"div",11),m.jc(11,"translate"),m.Sb(12,"app-quick-progress-subwidget",12),m.Wb(),m.Xb(13,"div",15),m.ec("click",function(){m.Lc(n);var t=m.ic();return t.onLoggedMinutesSummaryClick("TENANT_ADMIN"===t.loggedInUserType||null)}),m.Sb(14,"app-quick-progress-subwidget",16),m.Wb(),m.Xb(15,"div",17),m.Sb(16,"app-quick-progress-subwidget",8),m.Wb(),m.Wb()}if(2&t){var i=e.ngIf,a=m.ic();m.rc("nzGutter",m.xc(38,Fc)),m.Db(1),m.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","RESOLVED_ALERTS"),m.Db(1),m.rc("name","RESOLVED_ALERTS")("count",null==i?null:i.widgets.RESOLVED_ALERTS),m.Db(1),m.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","COMPLETED_APPOINTMENTS_THIS_MONTH"),m.Db(1),m.rc("name","COMPLETED_APPOINTMENTS_THIS_MONTH")("count",null==i?null:i.widgets.COMPLETED_APPOINTMENTS_THIS_MONTH),m.Db(1),m.sc("nzTooltipTitle",m.kc(6,34,"STAFF_SESSION_MINUTES_DESC")),m.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","STAFF_SESSION_MINUTES"),m.Db(2),m.rc("name","TENANT_ADMIN"===a.loggedInUserType?"STAFF_SESSION_MINUTES":"Active Session Minutes")("count",(null==a.staffSessionResponse||null==a.staffSessionResponse.metadata?null:a.staffSessionResponse.metadata.totalPingTimeClockedIn)||0),m.Db(1),m.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","LOGGED_INTERACTION"),m.Db(1),m.tc("count2","( ",null==i?null:i.widgets.LOGGED_INTERACTION_TODAY_TIMER_PERCENTAGE,"% on timer)"),m.rc("name","LOGGED_INTERACTION")("count",null==i?null:i.widgets.LOGGED_INTERACTION_TODAY),m.Db(1),m.sc("nzTooltipTitle",m.kc(11,36,"STAFF_SESSION_MINUTES_MONTH_DESC")),m.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","MONTHLY_DATA"),m.Db(2),m.rc("name","TENANT_ADMIN"===a.loggedInUserType?"STAFF_SESSION_MINUTES_MONTH":"Monthly Active Session Minutes")("count",(null==a.staffSessionResponse||null==a.staffSessionResponse.metadata?null:a.staffSessionResponse.metadata.totalPingTimeClockedInMonth)||0),m.Db(1),m.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","MONTHLY_DATA"),m.Db(1),m.tc("suffix","/ ",null==i?null:i.widgets.LOGGED_INTERACTION_TARGET," minutes"),m.tc("count2","( ",null==i?null:i.widgets.LOGGED_INTERACTION_MONTH_TIMER_PERCENTAGE,"%"),m.rc("name","LOGGED_INTERACTION_MONTH")("count",null==i?null:i.widgets.LOGGED_INTERACTION_MONTH),m.Db(1),m.rc("dashboardWidget","QUICK_PROGRESS")("subWidget","PATIENT_FOLLOW_UP"),m.Db(1),m.rc("name","PATIENT_FOLLOW_UP")("count",null==i?null:i.widgets.PATIENT_FOLLOW_UP)}}var Bc,jc,Gc=function(){return["QUICK_PROGRESS"]},Yc=((Bc=function(){function t(e,n,i,a){u(this,t),this._dashboardService=e,this._dataSharingService=n,this._staffSessionsService=i,this._nzModalService=a,this.patientType="ALL",this.careTakerIds="",this.listOfCaretakers=[],this.date=new Date,this.loggedInUserId=localStorage.getItem("loggedInUser"),this.loggedInUserType=localStorage.getItem("loggedInUserAccountType")}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.getOverviewWidget(),this.getQuickProgressWidgets(),"TENANT_ADMIN"===this.loggedInUserType?this.getStaffSessionsForTenant():this.getStaffSessionsForLoggedInUser(),this._dataSharingService.tenantSettings.subscribe(function(e){e&&(t.tenantConfig=e)})}},{key:"getOverviewWidget",value:function(){this.overview$=this._dashboardService.fetchOverviewWidget()}},{key:"getQuickProgressWidgets",value:function(){var t=this;this.quickProgress$=this._dashboardService.fetchQuickProgressWidgets(this.patientType),"TENANT_ADMIN"===this.loggedInUserType&&this._dashboardService.fetchCareTakerCommunicationSummary().subscribe(function(e){t.caretakerCommunications=e})}},{key:"getStaffSessionsForTenant",value:function(){var t=this;this._staffSessionsService.fetchStaffSessionForTenant().subscribe(function(e){t.staffSessionResponse=e})}},{key:"getStaffSessionsForLoggedInUser",value:function(){var t=this;this._staffSessionsService.fetchStaffSession(this.loggedInUserId).subscribe(function(e){t.staffSessionResponse=e})}},{key:"onLoggedMinutesSummaryClick",value:function(t){null!=t&&this._nzModalService.create({nzTitle:null,nzContent:Dc,nzComponentParams:{communications:this.caretakerCommunications,isMonthly:t},nzWidth:500,nzMaskClosable:!1,nzClosable:!0,nzOkText:null,nzFooter:null})}}]),t}()).\u0275fac=function(t){return new(t||Bc)(m.Rb(ze.a),m.Rb(k.a),m.Rb(Vn.a),m.Rb(q.f))},Bc.\u0275cmp=m.Lb({type:Bc,selectors:[["app-quick-progress"]],inputs:{patientType:"patientType"},decls:10,vars:9,consts:[[3,"nzHoverable"],[2,"display","flex"],[2,"width","50%"],[4,"ngIf"],[3,"dashboardSections"],["nz-row","",3,"nzGutter",4,"ngIf"],["nz-row","",3,"nzGutter"],["nz-tooltip","","nzTooltipTitle","Count of alerts you have resolved today","nz-col","","nzSpan","6",3,"dashboardWidget","subWidget"],[3,"name","count"],["nz-tooltip","","nzTooltipTitle","Count of regular and DST appointments you have completed today","nz-col","","nzSpan","6",3,"dashboardWidget","subWidget"],["suffix","patients",3,"name","count"],["nz-tooltip","","nz-col","","nzSpan","6",3,"nzTooltipTitle","dashboardWidget","subWidget"],["suffix","minutes",3,"name","count"],["nz-tooltip","","nzTooltipTitle","A sum of minutes of interaction such as TMS or CMT, you have logged today","nz-col","","nzSpan","6",3,"dashboardWidget","subWidget","click"],["suffix","minutes","suffix2","",3,"name","count","count2"],["nz-tooltip","","nzTooltipTitle","A sum of minutes of interaction such as TMS or CMT, you have logged in the month. Target Goal minutes is calculated based on - Total no of primary patients multiplied by 40","nz-col","","nzSpan","6",3,"dashboardWidget","subWidget","click"],["suffix2","on timer)",3,"name","count","suffix","count2"],["nz-tooltip","","nzTooltipTitle","A count of patients you have reached out to via text or audio call today.","nz-col","","nzSpan","6",3,"dashboardWidget","subWidget"]],template:function(t,e){1&t&&(m.Xb(0,"nz-card",0),m.Xb(1,"div",1),m.Xb(2,"span",2),m.Vc(3,Uc,4,5,"h3",3),m.jc(4,"async"),m.Wb(),m.Wb(),m.Xb(5,"section",4),m.Xb(6,"p"),m.Xc(7," As you complete the activities assigned to you, you can track your progress right here\u2026 "),m.Wb(),m.Vc(8,Hc,17,39,"div",5),m.jc(9,"async"),m.Wb(),m.Wb()),2&t&&(m.rc("nzHoverable",!0),m.Db(3),m.rc("ngIf",m.kc(4,4,e.overview$)),m.Db(2),m.rc("dashboardSections",m.xc(8,Gc)),m.Db(3),m.rc("ngIf",m.kc(9,6,e.quickProgress$)))},directives:[Tt.a,E.q,zc,J.c,tn.d,J.a,Oc,Lc],pipes:[E.b,E.e,rt.a],styles:["[_nghost-%COMP%]{margin-bottom:10px;display:block}nz-card[_ngcontent-%COMP%]{background:transparent linear-gradient(106deg,#fff 60%,var(--secondary-color-light) 100%) 0 0 no-repeat padding-box;border-radius:5px}[_nghost-%COMP%]     .ant-card-body{padding:28px 24px 20px 28px}h3[_ngcontent-%COMP%]{font:normal normal 600 17px/14px Nunito;letter-spacing:-.6px;color:var(--secondary-color)}p[_ngcontent-%COMP%]{font:normal normal normal 13px/28px Nunito}"]}),Bc),qc=r("oyxB"),Zc=r("kKUf"),Qc=r("4RGM"),Kc=((jc=function(){function t(e,n){u(this,t),this._widgetsService=e,this._element=n}return p(t,[{key:"ngAfterViewInit",value:function(){this._widgetsService.isWidgetsEnabled(this.section,this.subWidgets)?this.enableWidget():this.disableWidget()}},{key:"enableWidget",value:function(){this._element.nativeElement.style.display="block"}},{key:"disableWidget",value:function(){this._element.nativeElement.style.display="none"}}]),t}()).\u0275fac=function(t){return new(t||jc)(m.Rb(Oe.a),m.Rb(m.l))},jc.\u0275dir=m.Mb({type:jc,selectors:[["","dashboardSection",""]],inputs:{section:["dashboardSection","section"],subWidgets:"subWidgets"}}),jc),Jc=r("W9fG"),$c=r("OtHt"),ts=r("Wfee");function es(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",4),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function ns(t,e){if(1&t&&(m.Xb(0,"label",5),m.Xc(1),m.Wb()),2&t){var n=m.ic();m.Sc("color",n.labelColor),m.rc("ngClass",n.labelPositionClass),m.Db(1),m.Zc(" ",n.label," ")}}function is(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",6),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}var as,os,rs=((as=function(){function t(){u(this,t),this.isLoading=!0,this.showLabel=!0,this.showLoader=!0,this.labelColor="#000",this.percent=0,this.progressColor="#8BC34A",this.progressLabelPosition=cs.INSIDE}return p(t,[{key:"ngOnInit",value:function(){switch(this.progressLabelPosition){case cs.BOTTOM:this.labelPositionClass="progress-label-bottom";break;case cs.TOP:case cs.RIGHT:case cs.LEFT:this.labelPositionClass="progress-label-top";break;case cs.INSIDE:this.labelPositionClass="progress-label-inside"}}}]),t}()).\u0275fac=function(t){return new(t||as)},as.\u0275cmp=m.Lb({type:as,selectors:[["app-bar-progress"]],inputs:{isLoading:"isLoading",showLabel:"showLabel",showLoader:"showLoader",label:"label",labelColor:"labelColor",percent:"percent",progressColor:"progressColor",progressLabelPosition:"progressLabelPosition"},decls:7,vars:7,consts:[[1,"progress"],[4,"ngIf"],["class","progress-label",3,"ngClass","color",4,"ngIf"],[3,"nzPercent","nzShowInfo","nzStrokeColor","nzStrokeWidth"],["nzType","input",1,"full-width",3,"nzActive"],[1,"progress-label",3,"ngClass"],["nzType","input","nzSize","small",1,"quarter-width",3,"nzActive"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Vc(1,es,2,1,"ng-container",1),m.Vb(2),m.Vc(3,ns,2,4,"label",2),m.Ub(),m.Vc(4,is,2,1,"ng-container",1),m.Vb(5),m.Sb(6,"nz-progress",3),m.Ub(),m.Wb()),2&t&&(m.Db(1),m.rc("ngIf",e.isLoading&&e.showLabel&&e.showLoader),m.Db(2),m.rc("ngIf",e.showLabel),m.Db(1),m.rc("ngIf",e.isLoading&&e.showLoader),m.Db(2),m.rc("nzPercent",e.percent)("nzShowInfo",!1)("nzStrokeColor",e.progressColor)("nzStrokeWidth","28"))},directives:[E.q,Jc.a,$c.b,$c.c,E.o],styles:[".progress[_ngcontent-%COMP%]{margin-top:15px}.progress-label[_ngcontent-%COMP%]{position:absolute;z-index:1;font:normal normal 700 11px/22px Nunito;text-align:center;display:block;opacity:.7}.progress-label-top[_ngcontent-%COMP%]{left:25px;top:-13px!important;margin-top:5px}.progress-label-bottom[_ngcontent-%COMP%]{bottom:-20px!important;display:flex;left:25px;margin-bottom:5px}.progress-label-inside[_ngcontent-%COMP%]{bottom:10px!important;left:25px}"]}),as),cs=function(t){return t.TOP="TOP",t.BOTTOM="BOTTOM",t.RIGHT="RIGHT",t.LEFT="LEFT",t.INSIDE="INSIDE",t}({}),ss=r("gbDW"),ls=((os=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t,e,n){if(e&&e.patientCensus){switch(t){case"LOGGED_TMS":var i=(null==e?void 0:e.patientCensus.RPM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_TREATMENT_MANAGEMENT_SERVICE);this.label="".concat(i,"/ ").concat(null==e?void 0:e.patientCensus.RPM," patients completed"),this.percent=i/(null==e?void 0:e.patientCensus.RPM)*100,this.labelColor="#000",this.progressColor="#6E72CB";break;case"LOGGED_ADDITIONAL_TMS":var a=(null==e?void 0:e.patientCensus.RPM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE);this.label="".concat(a,"/ ").concat(null==e?void 0:e.patientCensus.RPM," patients completed"),this.percent=a/(null==e?void 0:e.patientCensus.RPM)*100,this.labelColor="#000",this.progressColor="#6E72CB";break;case"LOGGED_ADDITIONAL_TMS_B":var o=(null==e?void 0:e.patientCensus.RPM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B);this.label="".concat(o,"/ ").concat(null==e?void 0:e.patientCensus.RPM," patients completed"),this.percent=o/(null==e?void 0:e.patientCensus.RPM)*100,this.labelColor="#000",this.progressColor="#6E72CB";break;case"LOGGED_NON_COMPLEX_CCM":var r=(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_NON_COMPLEX_TREATMENT_MANAGEMENT_SERVICE);this.label="".concat(r,"/ ").concat(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM," patients completed"),this.percent=r/(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#6E72CB";break;case"LOGGED_NON_COMPLEX_CCM_ADDITIONAL":var c=(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_NON_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE);this.label="".concat(c,"/ ").concat(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM," patients completed"),this.percent=c/(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#FDA328";break;case"LOGGED_NON_COMPLEX_CCM_ADDITIONAL_B":var s=(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_NON_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B);this.label="".concat(s,"/ ").concat(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM," patients completed"),this.percent=s/(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#FDA328";break;case"LOGGED_NON_COMPLEX_PHYSICIAN_CCM":var l=(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_NON_COMPLEX_TMS_PHYSICIAN);this.label="".concat(l,"/ ").concat(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM," patients completed"),this.percent=l/(null==e?void 0:e.patientCensus.NON_COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#95b447";break;case"LOGGED_COMPLEX_CCM":var u=(null==e?void 0:e.patientCensus.COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_COMPLEX_TREATMENT_MANAGEMENT_SERVICE);this.label="".concat(u,"/ ").concat(null==e?void 0:e.patientCensus.COMPLEX_CCM," patients completed"),this.percent=u/(null==e?void 0:e.patientCensus.COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#8BC34A";break;case"LOGGED_COMPLEX_CCM_ADDITIONAL":var d=(null==e?void 0:e.patientCensus.COMPLEX_CCM)-(null==e?void 0:e.patientCommunicationCompliance.PENDING_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE);this.label="".concat(d,"/ ").concat(null==e?void 0:e.patientCensus.COMPLEX_CCM," patients completed"),this.percent=d/(null==e?void 0:e.patientCensus.COMPLEX_CCM)*100,this.labelColor="#000",this.progressColor="#FDA328"}switch(n){case"PERCENT":return this.percent;case"LABEL":return this.label;case"LABEL_COLOR":return this.labelColor;case"PROGRESS_COLOR":return this.progressColor}return null}}}]),t}()).\u0275fac=function(t){return new(t||os)},os.\u0275pipe=m.Qb({name:"widgetData",type:os,pure:!0}),os);function us(t,e){1&t&&m.Sb(0,"nz-skeleton-element",17),2&t&&m.rc("nzActive",!0)}function ds(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",18),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function ps(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",19),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(2),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCompliance.PATIENTS_LIKELY_TO_BE_COMPLIANT," patients ")}}function bs(t,e){1&t&&(m.Xb(0,"p"),m.Xc(1,"Most likely to record 16 vital signs this month"),m.Wb())}function hs(t,e){1&t&&(m.Xb(0,"p"),m.Xc(1,"All patients who can complete 16 vital signs this month"),m.Wb())}function gs(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",18),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function fs(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",20),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(2),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCompliance.PATIENTS_WITH_CLOSE_MONITORING," patients ")}}function vs(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",18),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function ms(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",21),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(2),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCompliance.PATIENTS_WITH_NO_VITALS," patients ")}}function Ss(t,e){if(1&t&&(m.Xb(0,"strong"),m.Xc(1),m.Wb()),2&t){var n=m.ic(3);m.Db(1),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCompliance.PATIENTS_WITH_VITAL_COMPLIANCE," patients have completed measuring 16 vitals for the month! ")}}function ys(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"br"),m.Xb(2,"div",5),m.Xb(3,"div",22),m.Xb(4,"nz-alert",23),m.Vc(5,Ss,2,1,"ng-template",null,24,m.Wc),m.Wb(),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.Ic(6);m.Db(4),m.rc("nzMessage",n)}}var Ts=function(){return["PATIENTS_WITH_VITAL_COMPLIANCE"]};function Cs(t,e){if(1&t){var n=m.Yb();m.Xb(0,"section",10),m.Xb(1,"div",3),m.Xb(2,"div",11),m.Xb(3,"h4"),m.Xc(4),m.Wb(),m.Wb(),m.Xb(5,"div",12),m.Xb(6,"div",13),m.Vc(7,us,1,1,"nz-skeleton-element",14),m.Sb(8,"nz-progress",15),m.Xc(9," \xa0 "),m.Sb(10,"nz-progress",15),m.Xc(11," \xa0 "),m.Sb(12,"nz-progress",15),m.Wb(),m.Wb(),m.Wb(),m.Xb(13,"div",3),m.Xb(14,"div",11),m.Xb(15,"p"),m.Xc(16," Here\u2019s how they are doing with their vital signs measurements. "),m.Wb(),m.Wb(),m.Xb(17,"div",12),m.Xb(18,"div",5),m.Xb(19,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("LIKELY_TO_BE_COMPLIANT")}),m.Vc(20,ds,2,1,"ng-container",7),m.Vc(21,ps,3,1,"ng-container",7),m.Vc(22,bs,2,0,"p",7),m.Vc(23,hs,2,0,"p",7),m.Xb(24,"label",8),m.Xc(25," View all "),m.Sb(26,"app-icons",9),m.Wb(),m.Wb(),m.Xb(27,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("NEEDS_FOLLOW_UP")}),m.Vc(28,gs,2,1,"ng-container",7),m.Vc(29,fs,3,1,"ng-container",7),m.Xb(30,"p"),m.Xc(31,"Patients who have not recorded any vital signs in last 3 days"),m.Wb(),m.Xb(32,"label",8),m.Xc(33," Follow up "),m.Sb(34,"app-icons",9),m.Wb(),m.Wb(),m.Xb(35,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("NO_VITALS")}),m.Vc(36,vs,2,1,"ng-container",7),m.Vc(37,ms,3,1,"ng-container",7),m.Xb(38,"p"),m.Xc(39,"Patients who have not recorded any vital signs this month"),m.Wb(),m.Xb(40,"label",8),m.Xc(41," Follow up "),m.Sb(42,"app-icons",9),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Vc(43,ys,7,1,"ng-container",7),m.Sb(44,"nz-divider"),m.Sb(45,"br"),m.Wb()}if(2&t){var i=m.ic();m.rc("dashboardSection","MONITORING")("subWidgets",m.xc(37,Ts)),m.Db(4),m.Zc("",null==i.monitoring?null:i.monitoring.patientCensus.RPM," Active RPM patients are assigned to you"),m.Db(3),m.rc("ngIf",!i.monitoring),m.Db(1),m.Rc("width: ",i.compliantPatientsProgress,""),m.rc("nzPercent",100)("nzShowInfo",!1)("nzStrokeColor","#8BC34A")("nzStrokeWidth","28"),m.Db(2),m.Rc("width: ",i.followUpPatientsProgress,""),m.rc("nzPercent",100)("nzShowInfo",!1)("nzStrokeColor","#FDA328")("nzStrokeWidth","28"),m.Db(2),m.Rc("width: ",i.nonCompliantPatientsProgress,""),m.rc("nzPercent",100)("nzShowInfo",!1)("nzStrokeColor","#6E72CB")("nzStrokeWidth","28"),m.Db(8),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(1),m.rc("ngIf",17>i.dayOfMonth),m.Db(1),m.rc("ngIf",17<=i.dayOfMonth),m.Db(3),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(5),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(5),m.rc("strokeColor",i.iconColor),m.Db(1),m.rc("ngIf",!!i.monitoring&&17<=i.dayOfMonth)}}function Es(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Is(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",21),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," patients "),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_TREATMENT_MANAGEMENT_SERVICE," ")}}function Ms(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function As(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",20),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," patients "),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE," ")}}function _s(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Ds(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",19),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," patients "),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B," ")}}function zs(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Os(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"nz-progress",15),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.rc("nzPercent",((null==n.monitoring?null:n.monitoring.patientCensus.RPM)-(null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_TREATMENT_MANAGEMENT_SERVICE))/(null==n.monitoring?null:n.monitoring.patientCensus.RPM)*100)("nzShowInfo",!1)("nzStrokeColor","#6E72CB")("nzStrokeWidth","28")}}function ks(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",30),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Ns(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"label",31),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(2),m.ad(" ",(null==n.monitoring?null:n.monitoring.patientCensus.RPM)-(null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_TREATMENT_MANAGEMENT_SERVICE)," / ",null==n.monitoring?null:n.monitoring.patientCensus.RPM," patients completed ")}}function Ps(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Rs(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"nz-progress",15),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.rc("nzPercent",((null==n.monitoring?null:n.monitoring.patientCensus.RPM)-(null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE))/(null==n.monitoring?null:n.monitoring.patientCensus.RPM)*100)("nzShowInfo",!1)("nzStrokeColor","#FDA328")("nzStrokeWidth","28")}}function Xs(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",30),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Ls(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"label",31),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(2),m.ad(" ",(null==n.monitoring?null:n.monitoring.patientCensus.RPM)-(null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE)," / ",null==n.monitoring?null:n.monitoring.patientCensus.RPM," patients completed ")}}function ws(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Ws(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"nz-progress",15),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.rc("nzPercent",((null==n.monitoring?null:n.monitoring.patientCensus.RPM)-(null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B))/(null==n.monitoring?null:n.monitoring.patientCensus.RPM)*100)("nzShowInfo",!1)("nzStrokeColor","#8BC34A")("nzStrokeWidth","28")}}function Vs(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",30),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function xs(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"label",31),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(2),m.ad(" ",(null==n.monitoring?null:n.monitoring.patientCensus.RPM)-(null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B)," / ",null==n.monitoring?null:n.monitoring.patientCensus.RPM," patients completed ")}}var Us=function(){return["PENDING_TREATMENT_MANAGEMENT_SERVICE","LOGGED_TREATMENT_MANAGEMENT_SERVICE"]};function Fs(t,e){if(1&t){var n=m.Yb();m.Xb(0,"section",10),m.Xb(1,"div",3),m.Xb(2,"div",12),m.Xb(3,"section",2),m.Xb(4,"h4"),m.Xc(5,"TMS Minutes logged this month"),m.Wb(),m.Xb(6,"p"),m.Xc(7,"An overview"),m.Wb(),m.Xb(8,"div",5),m.Xb(9,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_TMS")}),m.Vc(10,Es,2,1,"ng-container",7),m.Vc(11,Is,5,1,"ng-container",7),m.Xb(12,"p"),m.Xc(13,"Pending completion of "),m.Xb(14,"strong"),m.Xc(15,"20 minutes"),m.Wb(),m.Xc(16," of TMS"),m.Wb(),m.Xb(17,"label",8),m.Xc(18," Follow up "),m.Sb(19,"app-icons",9),m.Wb(),m.Wb(),m.Xb(20,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_ADDITIONAL_TMS")}),m.Vc(21,Ms,2,1,"ng-container",7),m.Vc(22,As,5,1,"ng-container",7),m.Xb(23,"p"),m.Xc(24,"Pending completion of "),m.Xb(25,"strong"),m.Xc(26,"40 minutes"),m.Wb(),m.Xc(27," of TMS"),m.Wb(),m.Xb(28,"label",8),m.Xc(29," Follow up "),m.Sb(30,"app-icons",9),m.Wb(),m.Wb(),m.Xb(31,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_ADDITIONAL_TMS_B")}),m.Vc(32,_s,2,1,"ng-container",7),m.Vc(33,Ds,5,1,"ng-container",7),m.Xb(34,"p"),m.Xc(35,"Pending completion of "),m.Xb(36,"strong"),m.Xc(37,"60 minutes"),m.Wb(),m.Xc(38," of TMS"),m.Wb(),m.Xb(39,"label",8),m.Xc(40," Follow up "),m.Sb(41,"app-icons",9),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(42,"div",11),m.Xb(43,"section",2),m.Vb(44),m.Xb(45,"div",25),m.Xb(46,"div",26),m.Xb(47,"span",27),m.Xb(48,"strong"),m.Xc(49,"20 minutes"),m.Wb(),m.Xc(50," of TMS "),m.Wb(),m.Wb(),m.Xb(51,"div",28),m.Vc(52,zs,2,1,"ng-container",7),m.Vc(53,Os,2,4,"ng-container",7),m.Wb(),m.Wb(),m.Vc(54,ks,2,1,"ng-container",7),m.Vc(55,Ns,3,2,"ng-container",7),m.Ub(),m.Vb(56),m.Xb(57,"div",25),m.Xb(58,"div",26),m.Xb(59,"span",27),m.Xb(60,"strong"),m.Xc(61,"40 minutes"),m.Wb(),m.Xc(62," of TMS "),m.Wb(),m.Wb(),m.Xb(63,"div",28),m.Vc(64,Ps,2,1,"ng-container",7),m.Vc(65,Rs,2,4,"ng-container",7),m.Wb(),m.Wb(),m.Vc(66,Xs,2,1,"ng-container",7),m.Vc(67,Ls,3,2,"ng-container",7),m.Ub(),m.Vb(68),m.Xb(69,"div",25),m.Xb(70,"div",26),m.Xb(71,"span",27),m.Xb(72,"strong"),m.Xc(73,"60 minutes"),m.Wb(),m.Xc(74," of TMS "),m.Wb(),m.Wb(),m.Xb(75,"div",28),m.Vc(76,ws,2,1,"ng-container",7),m.Vc(77,Ws,2,4,"ng-container",7),m.Wb(),m.Wb(),m.Vc(78,Vs,2,1,"ng-container",7),m.Vc(79,xs,3,2,"ng-container",7),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Sb(80,"nz-divider"),m.Wb()}if(2&t){var i=m.ic();m.rc("dashboardSection","MONITORING")("subWidgets",m.xc(27,Us)),m.Db(3),m.rc("dashboardWidget","MONITORING")("subWidget","PENDING_TREATMENT_MANAGEMENT_SERVICE"),m.Db(7),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(8),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(8),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(8),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("dashboardWidget","MONITORING")("subWidget","LOGGED_TREATMENT_MANAGEMENT_SERVICE"),m.Db(9),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(1),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(9),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(1),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(9),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(1),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring)}}function Hs(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Bs(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",21),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," patients "),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_NON_COMPLEX_TREATMENT_MANAGEMENT_SERVICE," ")}}function js(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Gs(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",20),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," patients "),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_NON_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE," ")}}function Ys(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function qs(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",19),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," patients "),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_NON_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE_B," ")}}function Zs(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Qs(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"app-bar-progress",34),m.jc(2,"widgetData"),m.jc(3,"widgetData"),m.jc(4,"widgetData"),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.sc("percent",m.mc(2,3,"LOGGED_NON_COMPLEX_CCM",n.monitoring,"PERCENT")),m.sc("label",m.mc(3,7,"LOGGED_NON_COMPLEX_CCM",n.monitoring,"LABEL")),m.sc("labelColor",m.lc(4,11,"LOGGED_NON_COMPLEX_CCM","LABEL_COLOR"))}}function Ks(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",30),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Js(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function $s(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"app-bar-progress",35),m.jc(2,"widgetData"),m.jc(3,"widgetData"),m.jc(4,"widgetData"),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.sc("percent",m.mc(2,3,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL",n.monitoring,"PERCENT")),m.sc("label",m.mc(3,7,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL",n.monitoring,"LABEL")),m.sc("labelColor",m.lc(4,11,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL","LABEL_COLOR"))}}function tl(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",30),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function el(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function nl(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"app-bar-progress",36),m.jc(2,"widgetData"),m.jc(3,"widgetData"),m.jc(4,"widgetData"),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.sc("percent",m.mc(2,3,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL_B",n.monitoring,"PERCENT")),m.sc("label",m.mc(3,7,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL_B",n.monitoring,"LABEL")),m.sc("labelColor",m.lc(4,11,"LOGGED_NON_COMPLEX_CCM_ADDITIONAL_B","LABEL_COLOR"))}}function il(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",30),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}var al=function(){return["PENDING_NON_COMPLEX_CCM_CARE_MANAGEMENT_TIME","LOGGED_NON_COMPLEX_CCM_CARE_MANAGEMENT_TIME"]};function ol(t,e){if(1&t){var n=m.Yb();m.Xb(0,"section",10),m.Xb(1,"div",3),m.Xb(2,"div",12),m.Xb(3,"section",2),m.Xb(4,"h4"),m.Xc(5,"Non-Complex CMT Minutes logged this month"),m.Wb(),m.Xb(6,"p"),m.Xc(7,"An overview"),m.Wb(),m.Xb(8,"div",5),m.Xb(9,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_NON_COMPLEX_TMS")}),m.Vc(10,Hs,2,1,"ng-container",7),m.Vc(11,Bs,5,1,"ng-container",7),m.Xb(12,"p"),m.Xc(13,"Pending completion of "),m.Xb(14,"strong"),m.Xc(15,"20 minutes"),m.Wb(),m.Xc(16," of CMT"),m.Wb(),m.Xb(17,"label",8),m.Xc(18," Follow up "),m.Sb(19,"app-icons",9),m.Wb(),m.Wb(),m.Xb(20,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_NON_COMPLEX_ADDITIONAL_TMS")}),m.Vc(21,js,2,1,"ng-container",7),m.Vc(22,Gs,5,1,"ng-container",7),m.Xb(23,"p"),m.Xc(24,"Pending completion of "),m.Xb(25,"strong"),m.Xc(26,"40 minutes"),m.Wb(),m.Xc(27," of CMT"),m.Wb(),m.Xb(28,"label",8),m.Xc(29," Follow up "),m.Sb(30,"app-icons",9),m.Wb(),m.Wb(),m.Xb(31,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_NON_COMPLEX_ADDITIONAL_TMS_B")}),m.Vc(32,Ys,2,1,"ng-container",7),m.Vc(33,qs,5,1,"ng-container",7),m.Xb(34,"p"),m.Xc(35,"Pending completion of "),m.Xb(36,"strong"),m.Xc(37,"60 minutes"),m.Wb(),m.Xc(38," of CMT"),m.Wb(),m.Xb(39,"label",8),m.Xc(40," Follow up "),m.Sb(41,"app-icons",9),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(42,"div",11),m.Xb(43,"section",2),m.Vb(44),m.Xb(45,"div",32),m.Xb(46,"div",33),m.Xb(47,"span",27),m.Xb(48,"strong"),m.Xc(49,"20 minutes"),m.Wb(),m.Xc(50," of CMT "),m.Wb(),m.Wb(),m.Xb(51,"div",28),m.Vc(52,Zs,2,1,"ng-container",7),m.Vc(53,Qs,5,14,"ng-container",7),m.Vc(54,Ks,2,1,"ng-container",7),m.Wb(),m.Wb(),m.Ub(),m.Vb(55),m.Xb(56,"div",32),m.Xb(57,"div",33),m.Xb(58,"span",27),m.Xb(59,"strong"),m.Xc(60,"40 minutes"),m.Wb(),m.Xc(61," of CMT "),m.Wb(),m.Wb(),m.Xb(62,"div",28),m.Vc(63,Js,2,1,"ng-container",7),m.Vc(64,$s,5,14,"ng-container",7),m.Vc(65,tl,2,1,"ng-container",7),m.Wb(),m.Wb(),m.Ub(),m.Vb(66),m.Xb(67,"div",32),m.Xb(68,"div",33),m.Xb(69,"span",27),m.Xb(70,"strong"),m.Xc(71,"60 minutes"),m.Wb(),m.Xc(72," of CMT "),m.Wb(),m.Wb(),m.Xb(73,"div",28),m.Vc(74,el,2,1,"ng-container",7),m.Vc(75,nl,5,14,"ng-container",7),m.Vc(76,il,2,1,"ng-container",7),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Sb(77,"nz-divider"),m.Wb()}if(2&t){var i=m.ic();m.rc("dashboardSection","MONITORING")("subWidgets",m.xc(24,al)),m.Db(3),m.rc("dashboardWidget","MONITORING")("subWidget","PENDING_NON_COMPLEX_CCM_CARE_MANAGEMENT_TIME"),m.Db(7),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(8),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(8),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(8),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("dashboardWidget","MONITORING")("subWidget","LOGGED_NON_COMPLEX_CCM_CARE_MANAGEMENT_TIME"),m.Db(9),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(1),m.rc("ngIf",!i.monitoring),m.Db(9),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(1),m.rc("ngIf",!i.monitoring),m.Db(9),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(1),m.rc("ngIf",!i.monitoring)}}function rl(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function cl(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",21),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," patients "),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_COMPLEX_TREATMENT_MANAGEMENT_SERVICE," ")}}function sl(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function ll(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",20),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," patients "),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE," ")}}function ul(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function dl(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"app-bar-progress",37),m.jc(2,"widgetData"),m.jc(3,"widgetData"),m.jc(4,"widgetData"),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.sc("percent",m.mc(2,3,"LOGGED_COMPLEX_CCM",n.monitoring,"PERCENT")),m.sc("label",m.mc(3,7,"LOGGED_COMPLEX_CCM",n.monitoring,"LABEL")),m.sc("labelColor",m.lc(4,11,"LOGGED_COMPLEX_CCM","LABEL_COLOR"))}}function pl(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",30),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function bl(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function hl(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"app-bar-progress",38),m.jc(2,"widgetData"),m.jc(3,"widgetData"),m.jc(4,"widgetData"),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.sc("percent",m.mc(2,3,"LOGGED_COMPLEX_CCM_ADDITIONAL",n.monitoring,"PERCENT")),m.sc("label",m.mc(3,7,"LOGGED_COMPLEX_CCM_ADDITIONAL",n.monitoring,"LABEL")),m.sc("labelColor",m.lc(4,11,"LOGGED_COMPLEX_CCM_ADDITIONAL","LABEL_COLOR"))}}function gl(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",30),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}var fl=function(){return["PENDING_COMPLEX_CCM_CARE_MANAGEMENT_TIME","LOGGED_COMPLEX_CCM_CARE_MANAGEMENT_TIME"]};function vl(t,e){if(1&t){var n=m.Yb();m.Xb(0,"section",10),m.Xb(1,"div",3),m.Xb(2,"div",12),m.Xb(3,"section",2),m.Xb(4,"h4"),m.Xc(5,"Complex CMT Minutes logged this month"),m.Wb(),m.Xb(6,"p"),m.Xc(7,"An overview"),m.Wb(),m.Xb(8,"div",5),m.Xb(9,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_COMPLEX_TREATMENT_MANAGEMENT_SERVICE")}),m.Vc(10,rl,2,1,"ng-container",7),m.Vc(11,cl,5,1,"ng-container",7),m.Xb(12,"p"),m.Xc(13,"Pending completion of "),m.Xb(14,"strong"),m.Xc(15,"20 minutes"),m.Wb(),m.Xc(16," of CMT"),m.Wb(),m.Xb(17,"label",8),m.Xc(18," Follow up "),m.Sb(19,"app-icons",9),m.Wb(),m.Wb(),m.Xb(20,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE")}),m.Vc(21,sl,2,1,"ng-container",7),m.Vc(22,ll,5,1,"ng-container",7),m.Xb(23,"p"),m.Xc(24,"Pending completion of "),m.Xb(25,"strong"),m.Xc(26,"40 minutes"),m.Wb(),m.Xc(27," of CMT"),m.Wb(),m.Xb(28,"label",8),m.Xc(29," Follow up "),m.Sb(30,"app-icons",9),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(31,"div",11),m.Xb(32,"section",2),m.Vb(33),m.Xb(34,"div",32),m.Xb(35,"div",33),m.Xb(36,"span",27),m.Xb(37,"strong"),m.Xc(38,"20 minutes"),m.Wb(),m.Xc(39," of CMT "),m.Wb(),m.Wb(),m.Xb(40,"div",28),m.Vc(41,ul,2,1,"ng-container",7),m.Vc(42,dl,5,14,"ng-container",7),m.Vc(43,pl,2,1,"ng-container",7),m.Wb(),m.Wb(),m.Ub(),m.Vb(44),m.Xb(45,"div",32),m.Xb(46,"div",33),m.Xb(47,"span",27),m.Xb(48,"strong"),m.Xc(49,"20 minutes"),m.Wb(),m.Xc(50," of CMT "),m.Wb(),m.Wb(),m.Xb(51,"div",28),m.Vc(52,bl,2,1,"ng-container",7),m.Vc(53,hl,5,14,"ng-container",7),m.Vc(54,gl,2,1,"ng-container",7),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb(),m.Wb(),m.Sb(55,"nz-divider"),m.Wb()}if(2&t){var i=m.ic();m.rc("dashboardSection","MONITORING")("subWidgets",m.xc(18,fl)),m.Db(3),m.rc("dashboardWidget","MONITORING")("subWidget","PENDING_COMPLEX_CCM_CARE_MANAGEMENT_TIME"),m.Db(7),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(8),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(8),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("dashboardWidget","MONITORING")("subWidget","LOGGED_COMPLEX_CCM_CARE_MANAGEMENT_TIME"),m.Db(9),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(1),m.rc("ngIf",!i.monitoring),m.Db(9),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(1),m.rc("ngIf",!i.monitoring)}}function ml(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Sl(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",21),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," patients "),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_CARE_MANAGEMENT_TIME," ")}}function yl(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",40),m.Sb(2,"br"),m.Sb(3,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0),m.Db(2),m.rc("nzActive",!0))}function Tl(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",41),m.Xb(2,"label",42),m.Xc(3),m.Wb(),m.Sb(4,"nz-progress",15),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.ad(" ",(null==n.monitoring?null:n.monitoring.patientCensus.BHI)-(null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_CARE_MANAGEMENT_TIME)," / ",null==n.monitoring?null:n.monitoring.patientCensus.BHI," patients completed "),m.Db(1),m.rc("nzPercent",((null==n.monitoring?null:n.monitoring.patientCensus.BHI)-(null==n.monitoring?null:n.monitoring.patientCommunicationCompliance.PENDING_CARE_MANAGEMENT_TIME))/(null==n.monitoring?null:n.monitoring.patientCensus.BHI)*100)("nzShowInfo",!1)("nzStrokeColor","#6E72CB")("nzStrokeWidth","28")}}function Cl(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function El(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",20),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," patients "),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientCompliance.PATIENTS_WITH_PENDING_ASSESSMENT," ")}}function Il(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",40),m.Sb(2,"br"),m.Sb(3,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0),m.Db(2),m.rc("nzActive",!0))}function Ml(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",41),m.Xb(2,"label",42),m.Xc(3),m.Wb(),m.Sb(4,"nz-progress",15),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(3),m.ad(" ",(null==n.monitoring?null:n.monitoring.patientCensus.BHI)-(null==n.monitoring?null:n.monitoring.patientCompliance.PATIENTS_WITH_PENDING_ASSESSMENT)," / ",null==n.monitoring?null:n.monitoring.patientCensus.BHI," patients assessed "),m.Db(1),m.rc("nzPercent",((null==n.monitoring?null:n.monitoring.patientCensus.BHI)-(null==n.monitoring?null:n.monitoring.patientCompliance.PATIENTS_WITH_PENDING_ASSESSMENT))/(null==n.monitoring?null:n.monitoring.patientCensus.BHI)*100)("nzShowInfo",!1)("nzStrokeColor","#FDA328")("nzStrokeWidth","28")}}function Al(t,e){if(1&t){var n=m.Yb();m.Xb(0,"section",2),m.Xb(1,"div",3),m.Xb(2,"div",4),m.Xb(3,"h4"),m.Xc(4),m.Wb(),m.Xb(5,"p"),m.Xc(6,"An overview"),m.Wb(),m.Xb(7,"div",5),m.Xb(8,"div",6),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_CMT")}),m.Xb(9,"section",2),m.Vc(10,ml,2,1,"ng-container",7),m.Vc(11,Sl,5,1,"ng-container",7),m.Xb(12,"p"),m.Xc(13,"Pending completion of "),m.Xb(14,"strong"),m.Xc(15,"20 minutes"),m.Wb(),m.Xc(16," of CMT"),m.Wb(),m.Xb(17,"label",8),m.Xc(18," Follow up "),m.Sb(19,"app-icons",9),m.Wb(),m.Wb(),m.Wb(),m.Xb(20,"div",39),m.Xb(21,"section",2),m.Vc(22,yl,4,2,"ng-container",7),m.Vc(23,Tl,5,6,"ng-container",7),m.Wb(),m.Wb(),m.Xb(24,"div",6),m.ec("click",function(){return m.Lc(n),m.ic().navigate("ASSESSMENT_COMPLIANCE")}),m.Xb(25,"section",2),m.Vc(26,Cl,2,1,"ng-container",7),m.Vc(27,El,5,1,"ng-container",7),m.Xb(28,"p"),m.Xc(29,"Pending completion of "),m.Xb(30,"strong"),m.Xc(31,"an assessment"),m.Wb(),m.Wb(),m.Xb(32,"label",8),m.Xc(33," Follow up "),m.Sb(34,"app-icons",9),m.Wb(),m.Wb(),m.Wb(),m.Xb(35,"div",39),m.Vc(36,Il,4,2,"ng-container",7),m.Vc(37,Ml,5,6,"ng-container",7),m.Wb(),m.Wb(),m.Wb(),m.Sb(38,"nz-divider"),m.Wb(),m.Wb()}if(2&t){var i=m.ic();m.rc("dashboardWidget","MONITORING")("subWidget","PENDING_CARE_MANAGEMENT_TIME")("dashboardWidget","MONITORING")("subWidget","LOGGED_CARE_MANAGEMENT_TIME"),m.Db(4),m.Zc("",null==i.monitoring?null:i.monitoring.patientCensus.BHI," Active BHI patients are assigned to you"),m.Db(5),m.rc("dashboardWidget","MONITORING")("subWidget","PENDING_CARE_MANAGEMENT_TIME"),m.Db(1),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(8),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("dashboardWidget","MONITORING")("subWidget","LOGGED_CARE_MANAGEMENT_TIME"),m.Db(1),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(2),m.rc("dashboardWidget","MONITORING")("subWidget","PATIENTS_WITH_PENDING_ASSESSMENT"),m.Db(1),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring),m.Db(7),m.rc("strokeColor",i.iconColor),m.Db(2),m.rc("ngIf",!i.monitoring),m.Db(1),m.rc("ngIf",!!i.monitoring)}}function _l(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Dl(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",19),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," appointments "),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientAppointmentCompliance.UPCOMING_APPOINTMENTS," ")}}function zl(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Ol(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",20),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," appointments "),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientAppointmentCompliance.PATIENTS_WITH_UNATTENDED_APPOINTMENTS," ")}}function kl(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-skeleton-element",17),m.Ub()),2&t&&(m.Db(1),m.rc("nzActive",!0))}function Nl(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"h4",21),m.Xb(2,"span",29),m.Xc(3),m.Wb(),m.Xc(4," patients "),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(3),m.Zc(" ",null==n.monitoring?null:n.monitoring.patientAppointmentCompliance.PATIENTS_WITHOUT_APPOINTMENTS," ")}}var Pl,Rl=((Pl=function(){function t(e,n,i,a,o){var r,c,s,l;u(this,t),this._dashboardService=e,this._dataSharingService=n,this._router=i,this._widgetsService=a,this._activatedRoute=o,this.dateEmitter=new m.n,this.dayOfMonth=(new Date).getDate(),this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color"),this.likelyToBeCompliantPatientsConstraint=null===(l=null===(s=null===(c=null===(r=this._widgetsService.getDashboardConfig())||void 0===r?void 0:r.config.MONITORING)||void 0===c?void 0:c.subWidgetConfigMetadata)||void 0===s?void 0:s.PATIENTS_LIKELY_TO_BE_COMPLIANT)||void 0===l?void 0:l.likelyToBeCompliantPatientsConstraint}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._activatedRoute.queryParams.subscribe(function(e){e.requestTenantIds&&localStorage.setItem(Qc.a.REQUEST_TENANT_IDS,e.requestTenantIds),t.getTenantConfig(),t.getMonitoringWidget()})}},{key:"getMonitoringWidget",value:function(){var t=this;this._dashboardService.fetchMonitoringWidget(this.patientType).subscribe(function(e){var n,i,a,o,r;t.monitoring=e,t.dateEmitter.emit(null===(i=null===(n=t.monitoring)||void 0===n?void 0:n.metadata)||void 0===i?void 0:i.requestTime);var c=null===(a=t.monitoring)||void 0===a?void 0:a.patientCompliance.PATIENTS_LIKELY_TO_BE_COMPLIANT,s=null===(o=t.monitoring)||void 0===o?void 0:o.patientCompliance.PATIENTS_WITH_CLOSE_MONITORING,l=null===(r=t.monitoring)||void 0===r?void 0:r.patientCompliance.PATIENTS_WITH_NO_VITALS,u=c+s+l;t.compliantPatientsProgress=c/u*100+"%",t.followUpPatientsProgress=s/u*100+"%",t.nonCompliantPatientsProgress=l/u*100+"%"})}},{key:"getTenantConfig",value:function(){var t=this;this._dataSharingService.tenantSettings.subscribe(function(e){var n;e&&(t.enabledEpisodeBlueprints=[],null===(n=null==e?void 0:e.episodeBlueprints)||void 0===n||n.forEach(function(e){(null==e?void 0:e.archived)||t.enabledEpisodeBlueprints.push(e)}))})}},{key:"navigate",value:function(t){var e,n,i,a,o,r,c,s,l,u,d,p,b,h,g,f,v,m,S,y,T,C,E,I,M,A,_,D,z,O,k,N,P,R,X,w,W,V,x,U,F,H,B,j,G,Y,q,Z,Q,K,J,$,tt,et,nt,it,at,ot,rt,ct,st,lt,ut,dt,pt,bt,ht,gt,ft,vt,mt,St,yt,Tt,Ct,Et,It,Mt,At,_t,Dt,zt,Ot;if(null===(n=null===(e=this.monitoring)||void 0===e?void 0:e.metadata)||void 0===n?void 0:n.episodeBlueprint){var kt=localStorage.getItem(Qc.a.REQUEST_TENANT_IDS);switch(t){case"PENDING_TMS":if(!(null===(o=null===(a=null===(i=this.monitoring)||void 0===i?void 0:i.metadata)||void 0===a?void 0:a.episodeBlueprint)||void 0===o?void 0:o.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"TMS_REMAINING","sub-filter":"RPM",episodeStatus:"IN_PROGRESS",patientStatus:"ACTIVE",episodeBlueprint:null===(s=null===(c=null===(r=this.monitoring)||void 0===r?void 0:r.metadata)||void 0===c?void 0:c.episodeBlueprint)||void 0===s?void 0:s.RPM,selectedEpisodeType:"RPM",op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,tms:"TMS_RECORDED",requestTenantIds:kt}});break;case"PENDING_ADDITIONAL_TMS":if(!(null===(d=null===(u=null===(l=this.monitoring)||void 0===l?void 0:l.metadata)||void 0===u?void 0:u.episodeBlueprint)||void 0===d?void 0:d.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"TMS_REMAINING","sub-filter":"RPM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"RPM",patientStatus:"ACTIVE",episodeBlueprint:null===(h=null===(b=null===(p=this.monitoring)||void 0===p?void 0:p.metadata)||void 0===b?void 0:b.episodeBlueprint)||void 0===h?void 0:h.RPM,op:"LESS_THAN",v1:39,v2:1,assignedStaffType:this.patientType,tms:"TMS_RECORDED",requestTenantIds:kt}});break;case"PENDING_ADDITIONAL_TMS_B":if(!(null===(v=null===(f=null===(g=this.monitoring)||void 0===g?void 0:g.metadata)||void 0===f?void 0:f.episodeBlueprint)||void 0===v?void 0:v.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"TMS_REMAINING","sub-filter":"RPM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"RPM",patientStatus:"ACTIVE",episodeBlueprint:null===(y=null===(S=null===(m=this.monitoring)||void 0===m?void 0:m.metadata)||void 0===S?void 0:S.episodeBlueprint)||void 0===y?void 0:y.RPM,op:"LESS_THAN",v1:59,v2:1,assignedStaffType:this.patientType,tms:"TMS_RECORDED",requestTenantIds:kt}});break;case"PENDING_CMT":if(!(null===(E=null===(C=null===(T=this.monitoring)||void 0===T?void 0:T.metadata)||void 0===C?void 0:C.episodeBlueprint)||void 0===E?void 0:E.BHI))break;this._router.navigate(["/patient"],{queryParams:{filter:"CMT","sub-filter":"GENERAL",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"GENERAL",patientStatus:"ACTIVE",episodeBlueprint:null===(A=null===(M=null===(I=this.monitoring)||void 0===I?void 0:I.metadata)||void 0===M?void 0:M.episodeBlueprint)||void 0===A?void 0:A.BHI,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,cmt:"CMT_RECORDED",requestTenantIds:kt}});break;case"LIKELY_TO_BE_COMPLIANT":if(!(null===(z=null===(D=null===(_=this.monitoring)||void 0===_?void 0:_.metadata)||void 0===D?void 0:D.episodeBlueprint)||void 0===z?void 0:z.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"RPM_VITAL_COMPLIANCE","sub-filter":"RPM",selectedEpisodeType:"RPM",rpmVitalCompliance:"LIKELY_TO_BE_COMPLIANT",episodeStatus:"IN_PROGRESS",patientStatus:"ACTIVE",episodeBlueprint:null===(N=null===(k=null===(O=this.monitoring)||void 0===O?void 0:O.metadata)||void 0===k?void 0:k.episodeBlueprint)||void 0===N?void 0:N.RPM,metaValue:this.likelyToBeCompliantPatientsConstraint,assignedStaffType:this.patientType,sort:"VITAL_DAYS_REMAINING",order:"ASC",requestTenantIds:kt}});break;case"NEEDS_FOLLOW_UP":if(!(null===(X=null===(R=null===(P=this.monitoring)||void 0===P?void 0:P.metadata)||void 0===R?void 0:R.episodeBlueprint)||void 0===X?void 0:X.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"RPM_VITAL_COMPLIANCE","sub-filter":"RPM",selectedEpisodeType:"RPM",rpmVitalCompliance:"NEEDS_FOLLOW_UP",episodeStatus:"IN_PROGRESS",assignedStaffType:this.patientType,patientStatus:"ACTIVE",episodeBlueprint:null===(V=null===(W=null===(w=this.monitoring)||void 0===w?void 0:w.metadata)||void 0===W?void 0:W.episodeBlueprint)||void 0===V?void 0:V.RPM,requestTenantIds:kt}});break;case"NO_VITALS":if(!(null===(F=null===(U=null===(x=this.monitoring)||void 0===x?void 0:x.metadata)||void 0===U?void 0:U.episodeBlueprint)||void 0===F?void 0:F.RPM))break;this._router.navigate(["/patient"],{queryParams:{filter:"VITAL_DAYS_REMAINING","sub-filter":"RPM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"RPM",patientStatus:"ACTIVE",episodeBlueprint:null===(j=null===(B=null===(H=this.monitoring)||void 0===H?void 0:H.metadata)||void 0===B?void 0:B.episodeBlueprint)||void 0===j?void 0:j.RPM,assignedStaffType:this.patientType,op:"GREATER_THAN",v1:16,v2:1,requestTenantIds:kt}});break;case"ASSESSMENT_COMPLIANCE":if(!(null===(q=null===(Y=null===(G=this.monitoring)||void 0===G?void 0:G.metadata)||void 0===Y?void 0:Y.episodeBlueprint)||void 0===q?void 0:q.BHI))break;this._router.navigate(["/patient"],{queryParams:{filter:"ASSESSMENT_COMPLIANCE","sub-filter":"GENERAL",selectedEpisodeType:"GENERAL",assessment:"ASSESSMENT_NOT_RECORDED",episodeStatus:"IN_PROGRESS",patientStatus:"ACTIVE",episodeBlueprint:(null===(K=null===(Q=null===(Z=this.monitoring)||void 0===Z?void 0:Z.metadata)||void 0===Q?void 0:Q.episodeBlueprint)||void 0===K?void 0:K.BHI)||(null===(tt=null===($=null===(J=this.monitoring)||void 0===J?void 0:J.metadata)||void 0===$?void 0:$.episodeBlueprint)||void 0===tt?void 0:tt.GENERAL),assignedStaffType:this.patientType,requestTenantIds:kt}});break;case"UPCOMING_APPOINTMENTS":this._router.navigate(["/appointments"],{queryParams:{tab:"upcoming",startTime:(new Date).getTime(),assignedStaffType:this.patientType,endTime:Object(L.a)(new Date).getTime(),requestTenantIds:kt}});break;case"APPOINTMENTS_FOR_MONTH":this._router.navigate(["/appointments"],{queryParams:{tab:"upcoming",startTime:(new Date).getTime(),assignedStaffType:this.patientType,endTime:Object(Zc.a)(new Date).getTime(),requestTenantIds:kt}});break;case"COMPLETED_APPOINTMENTS_THIS_DAY":this._router.navigate(["/appointments"],{queryParams:{assignedStaffType:this.patientType,tab:"completed",requestTenantIds:kt}});break;case"PENDING_NON_COMPLEX_TMS":if(!(null===(it=null===(nt=null===(et=this.monitoring)||void 0===et?void 0:et.metadata)||void 0===nt?void 0:nt.episodeBlueprint)||void 0===it?void 0:it.CCM))break;this._router.navigate(["/patient"],{queryParams:{filter:"CCM_CMT_REMAINING","sub-filter":"CCM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"CCM",patientStatus:"ACTIVE",episodeBlueprint:null===(rt=null===(ot=null===(at=this.monitoring)||void 0===at?void 0:at.metadata)||void 0===ot?void 0:ot.episodeBlueprint)||void 0===rt?void 0:rt.CCM,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,ccmCmt:"NON_COMPLEX_CMT_RECORDED",requestTenantIds:kt}});break;case"PENDING_NON_COMPLEX_ADDITIONAL_TMS":if(!(null===(lt=null===(st=null===(ct=this.monitoring)||void 0===ct?void 0:ct.metadata)||void 0===st?void 0:st.episodeBlueprint)||void 0===lt?void 0:lt.CCM))break;this._router.navigate(["/patient"],{queryParams:{filter:"CCM_CMT_REMAINING","sub-filter":"CCM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"CCM",patientStatus:"ACTIVE",episodeBlueprint:null===(pt=null===(dt=null===(ut=this.monitoring)||void 0===ut?void 0:ut.metadata)||void 0===dt?void 0:dt.episodeBlueprint)||void 0===pt?void 0:pt.CCM,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,ccmCmt:"NON_COMPLEX_ADDITIONAL_CMT_RECORDED",requestTenantIds:kt}});break;case"PENDING_COMPLEX_TREATMENT_MANAGEMENT_SERVICE":if(!(null===(gt=null===(ht=null===(bt=this.monitoring)||void 0===bt?void 0:bt.metadata)||void 0===ht?void 0:ht.episodeBlueprint)||void 0===gt?void 0:gt.CCM))break;this._router.navigate(["/patient"],{queryParams:{filter:"CCM_CMT_REMAINING","sub-filter":"CCM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"CCM",patientStatus:"ACTIVE",episodeBlueprint:null===(mt=null===(vt=null===(ft=this.monitoring)||void 0===ft?void 0:ft.metadata)||void 0===vt?void 0:vt.episodeBlueprint)||void 0===mt?void 0:mt.CCM,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,ccmCmt:"COMPLEX_CMT_RECORDED",requestTenantIds:kt}});break;case"PENDING_COMPLEX_ADDITIONAL_TREATMENT_MANAGEMENT_SERVICE":if(!(null===(Tt=null===(yt=null===(St=this.monitoring)||void 0===St?void 0:St.metadata)||void 0===yt?void 0:yt.episodeBlueprint)||void 0===Tt?void 0:Tt.CCM))break;this._router.navigate(["/patient"],{queryParams:{filter:"CCM_CMT_REMAINING","sub-filter":"CCM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"CCM",patientStatus:"ACTIVE",episodeBlueprint:null===(It=null===(Et=null===(Ct=this.monitoring)||void 0===Ct?void 0:Ct.metadata)||void 0===Et?void 0:Et.episodeBlueprint)||void 0===It?void 0:It.CCM,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,ccmCmt:"COMPLEX_ADDITIONAL_CMT_RECORDED",requestTenantIds:kt}});break;case"PENDING_NON_COMPLEX_ADDITIONAL_TMS_B":if(!(null===(_t=null===(At=null===(Mt=this.monitoring)||void 0===Mt?void 0:Mt.metadata)||void 0===At?void 0:At.episodeBlueprint)||void 0===_t?void 0:_t.CCM))break;this._router.navigate(["/patient"],{queryParams:{filter:"CCM_CMT_REMAINING","sub-filter":"CCM",episodeStatus:"IN_PROGRESS",selectedEpisodeType:"CCM",patientStatus:"ACTIVE",episodeBlueprint:null===(Ot=null===(zt=null===(Dt=this.monitoring)||void 0===Dt?void 0:Dt.metadata)||void 0===zt?void 0:zt.episodeBlueprint)||void 0===Ot?void 0:Ot.CCM,op:"LESS_THAN",v1:19,v2:1,assignedStaffType:this.patientType,ccmCmt:"NON_COMPLEX_ADDITIONAL_CMT_B_RECORDED",requestTenantIds:kt}});break;case"PATIENTS_WITH_UNATTENDED_APPOINTMENTS":this._router.navigate(["/appointments"],{queryParams:{assignedStaffType:this.patientType,tab:"unattended",requestTenantIds:kt}});break;case"PATIENTS_WITHOUT_APPOINTMENTS":this._router.navigate(["/appointments"],{queryParams:{tab:"no-appointment",requestTenantIds:kt,assignedStaffType:this.patientType}})}}}}]),t}()).\u0275fac=function(t){return new(t||Pl)(m.Rb(ze.a),m.Rb(k.a),m.Rb(y.g),m.Rb(Oe.a),m.Rb(y.a))},Pl.\u0275cmp=m.Lb({type:Pl,selectors:[["app-monitoring-widget"]],inputs:{patientType:"patientType"},outputs:{dateEmitter:"date"},features:[m.Cb([E.e])],decls:45,vars:31,consts:[[3,"dashboardSection","subWidgets",4,"ngIf"],[3,"dashboardWidget","subWidget",4,"ngIf"],[3,"dashboardWidget","subWidget"],["nz-row","",1,"monitoring-widget-container"],["nz-col","","nzSpan","24"],["nz-row",""],["nz-col","","nzSpan","6","actionable","",3,"click"],[4,"ngIf"],["nz-typography","","nzType","secondary"],["name","arrowRight","size","10px",3,"strokeColor"],[3,"dashboardSection","subWidgets"],["nz-col","","nzSpan","7"],["nz-col","","nzSpan","17"],[1,"progress-container"],["nzType","input","class","full-width",3,"nzActive",4,"ngIf"],[3,"nzPercent","nzShowInfo","nzStrokeColor","nzStrokeWidth"],["nz-col","","nzSpan","8","actionable","",3,"click"],["nzType","input",1,"full-width",3,"nzActive"],["nzType","input","nzSize","small",1,"half-width",3,"nzActive"],["nz-typography","",1,"green-patients-heading"],["nz-typography","",1,"orange-patients-heading"],["nz-typography","",1,"blue-patients-heading"],["nz-col","","nzSpan","17","nzOffset","7"],["nzType","success",1,"message",3,"nzMessage"],["message",""],["nz-row","","nzGutter","24"],["nz-col","","nzSpan","8"],[1,"tms-count"],["nz-col","","nzSpan","16"],[1,"patient-count"],["nzType","input","nzSize","small",1,"quarter-width",3,"nzActive"],[1,"tms-patients"],["nz-row","","nzGutter","24",1,"ccm-tms-row"],["nz-col","","nzSpan","8",1,"tms-count-row"],["progressColor","#6E72CB","progressLabelPosition","BOTTOM","isLoading","!!!monitoring",3,"percent","label","labelColor"],["progressColor","#FDA328","progressLabelPosition","BOTTOM","isLoading","!!!monitoring",3,"percent","label","labelColor"],["progressColor","#95b447","progressLabelPosition","BOTTOM","isLoading","!!!monitoring",3,"percent","label","labelColor"],["progressColor","#6E72CB","isLoading","!!!monitoring","progressLabelPosition","BOTTOM",3,"percent","label","labelColor"],["progressColor","#FDA328","progressLabelPosition","BOTTOM",3,"percent","label","labelColor"],["nz-col","","nzSpan","6"],["nzType","input","nzSize","small",1,"one-third-width",3,"nzActive"],[1,"bhi-progress"],[1,"bhi-patients"]],template:function(t,e){1&t&&(m.Vc(0,Cs,46,38,"section",0),m.jc(1,"isEpisodeTypeEnabled"),m.Vc(2,Fs,81,28,"section",0),m.jc(3,"isEpisodeTypeEnabled"),m.Vc(4,ol,78,25,"section",0),m.jc(5,"isEpisodeTypeEnabled"),m.Vc(6,vl,56,19,"section",0),m.jc(7,"isEpisodeTypeEnabled"),m.Vc(8,Al,39,21,"section",1),m.jc(9,"isEpisodeTypeEnabled"),m.Xb(10,"section",2),m.Xb(11,"div",3),m.Xb(12,"div",4),m.Xb(13,"h4"),m.Xc(14,"Appointments"),m.Wb(),m.Xb(15,"p"),m.Xc(16,"An overview"),m.Wb(),m.Xb(17,"div",5),m.Xb(18,"div",6),m.ec("click",function(){return e.navigate("UPCOMING_APPOINTMENTS")}),m.Xb(19,"section"),m.Vc(20,_l,2,1,"ng-container",7),m.Vc(21,Dl,5,1,"ng-container",7),m.Xb(22,"p"),m.Xc(23,"pending for today"),m.Wb(),m.Xb(24,"label",8),m.Xc(25," Follow up "),m.Sb(26,"app-icons",9),m.Wb(),m.Wb(),m.Wb(),m.Xb(27,"div",6),m.ec("click",function(){return e.navigate("PATIENTS_WITH_UNATTENDED_APPOINTMENTS")}),m.Xb(28,"section"),m.Vc(29,zl,2,1,"ng-container",7),m.Vc(30,Ol,5,1,"ng-container",7),m.Xb(31,"p"),m.Xc(32,"unattended"),m.Wb(),m.Xb(33,"label",8),m.Xc(34," Follow up "),m.Sb(35,"app-icons",9),m.Wb(),m.Wb(),m.Wb(),m.Xb(36,"div",6),m.ec("click",function(){return e.navigate("PATIENTS_WITHOUT_APPOINTMENTS")}),m.Xb(37,"section"),m.Vc(38,kl,2,1,"ng-container",7),m.Vc(39,Nl,5,1,"ng-container",7),m.Xb(40,"p"),m.Xc(41,"without appointment"),m.Wb(),m.Xb(42,"label",8),m.Xc(43," Follow up "),m.Sb(44,"app-icons",9),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.rc("ngIf",m.lc(1,16,"RPM",e.enabledEpisodeBlueprints)),m.Db(2),m.rc("ngIf",m.lc(3,19,"RPM",e.enabledEpisodeBlueprints)),m.Db(2),m.rc("ngIf",m.lc(5,22,"CCM",e.enabledEpisodeBlueprints)),m.Db(2),m.rc("ngIf",m.lc(7,25,"CCM",e.enabledEpisodeBlueprints)),m.Db(2),m.rc("ngIf",m.lc(9,28,"GENERAL",e.enabledEpisodeBlueprints)),m.Db(2),m.rc("dashboardWidget","MONITORING")("subWidget","APPOINTMENTS_WIDGET"),m.Db(10),m.rc("ngIf",!e.monitoring),m.Db(1),m.rc("ngIf",!!e.monitoring),m.Db(5),m.rc("strokeColor",e.iconColor),m.Db(3),m.rc("ngIf",!e.monitoring),m.Db(1),m.rc("ngIf",!!e.monitoring),m.Db(5),m.rc("strokeColor",e.iconColor),m.Db(3),m.rc("ngIf",!e.monitoring),m.Db(1),m.rc("ngIf",!!e.monitoring),m.Db(5),m.rc("strokeColor",e.iconColor))},directives:[E.q,Oc,J.c,J.a,en.a,Q.a,Ct.a,Kc,Jc.a,K.a,$c.b,$c.c,ts.a,rs],pipes:[ss.a,ls],styles:["[_nghost-%COMP%]{margin-bottom:10px;display:block}.monitoring-widget-container[_ngcontent-%COMP%]{margin-left:20px}h4[_ngcontent-%COMP%]{font:normal normal 700 15px/22px Nunito;letter-spacing:-.55px;width:70%}p[_ngcontent-%COMP%]{width:80%;font-size:12px}.progress-container[_ngcontent-%COMP%]{display:inline-flex;width:100%;height:auto}[_nghost-%COMP%]     .ant-progress-inner{border-radius:5px}[_nghost-%COMP%]     .ant-progress-bg{border-radius:unset!important}.green-patients-heading[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:600}.orange-patients-heading[_ngcontent-%COMP%]{color:#fda328;font-weight:600}.blue-patients-heading[_ngcontent-%COMP%]{color:#6e72cb;font-weight:600}[_nghost-%COMP%]     .ant-alert-success{background-color:#f1f7ea;font-size:12px}.message[_ngcontent-%COMP%]{text-align:center}.patient-count[_ngcontent-%COMP%]{font:normal normal 600 26px/34px Nunito}.tms-count[_ngcontent-%COMP%]{display:block;font:normal normal normal 12px/16px Nunito}.tms-patients[_ngcontent-%COMP%]{font:normal normal 700 11px/22px Nunito;color:#888;text-align:right;display:block;opacity:.7;margin-bottom:5px}.bhi-progress[_ngcontent-%COMP%]{width:75%;margin-top:20px}.bhi-patients[_ngcontent-%COMP%]{font:normal normal 700 11px/22px Nunito;color:#888;text-align:center;display:block;opacity:.7}.full-width[_ngcontent-%COMP%]{width:90%;margin-bottom:10px}.half-width[_ngcontent-%COMP%]{width:50%;margin-bottom:10px}.quarter-width[_ngcontent-%COMP%]{width:25%;margin-bottom:10px;margin-left:68.5%}.one-third-width[_ngcontent-%COMP%]{width:40%;margin-bottom:10px;margin-left:25%}nz-progress[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]     .ant-typography-secondary{font-weight:700}[_nghost-%COMP%]     .ant-typography-secondary:hover{color:var(--primary-color)}.ccm-patients[_ngcontent-%COMP%]{margin-top:7px}.ccm-tms-row[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:10px;display:flex;align-items:center;align-content:center}.tms-count-row[_ngcontent-%COMP%]{padding-left:0!important;margin-top:5px}.ccm-cmt-non-complex[_ngcontent-%COMP%]{top:5px}"]}),Pl),Xl=function(){return["RPM_PENDING_CONSENT","RPM_PENDING_PHYSICIAN_ORDER","NOT_ONBOARDED_PATIENTS","BHI_PENDING_CONSENT","BHI_PENDING_PHYSICIAN_ORDER"]};function Ll(t,e){1&t&&(m.Xb(0,"div",20),m.Xb(1,"div",5),m.Xb(2,"h4"),m.Xc(3," Tasks to be completed to onboard patients for different episodes "),m.Wb(),m.Wb(),m.Xb(4,"div",21),m.Xb(5,"div",7),m.Xb(6,"div",22),m.Xb(7,"strong"),m.Xc(8,"Consent form"),m.Wb(),m.Xc(9," needs to be obtained from "),m.Wb(),m.Xb(10,"div",5),m.Xb(11,"strong"),m.Xc(12,"Physician order"),m.Wb(),m.Xc(13," needs to be obtained for "),m.Wb(),m.Xb(14,"div",5),m.Xc(15," Patients who were "),m.Xb(16,"strong"),m.Xc(17,"not onboarded"),m.Wb(),m.Xc(18," the last month "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&m.rc("dashboardSection","ON_BOARDING")("subWidgets",m.xc(2,Xl))}function wl(t,e){1&t&&m.Sb(0,"nz-skeleton-element",28),2&t&&m.rc("nzActive",!0)}function Wl(t,e){if(1&t&&(m.Xb(0,"strong",29),m.Xc(1),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",null==n.onBoarding?null:n.onBoarding.widgets.RPM_PENDING_CONSENT," ")}}function Vl(t,e){1&t&&m.Sb(0,"nz-skeleton-element",28),2&t&&m.rc("nzActive",!0)}function xl(t,e){if(1&t&&(m.Xb(0,"strong",29),m.Xc(1),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",null==n.onBoarding?null:n.onBoarding.widgets.RPM_PENDING_PHYSICIAN_ORDER," ")}}function Ul(t,e){1&t&&m.Sb(0,"nz-skeleton-element",28),2&t&&m.rc("nzActive",!0)}function Fl(t,e){if(1&t&&(m.Xb(0,"strong",29),m.Xc(1),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",null==n.onBoarding?null:n.onBoarding.widgets.NOT_ONBOARDED_PATIENTS," ")}}var Hl=function(){return["RPM_PENDING_CONSENT","RPM_PENDING_PHYSICIAN_ORDER","NOT_ONBOARDED_PATIENTS"]};function Bl(t,e){if(1&t){var n=m.Yb();m.Xb(0,"section",23),m.Xb(1,"div",4),m.Xb(2,"div",5),m.Xb(3,"p"),m.Xc(4,"Overview"),m.Wb(),m.Wb(),m.Xb(5,"div",6),m.Xb(6,"div",7),m.Xb(7,"div",24),m.Xb(8,"span",25),m.Xc(9,"RPM"),m.Wb(),m.Wb(),m.Xb(10,"div",26),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_CONSENT","RPM")}),m.Vc(11,wl,1,1,"nz-skeleton-element",13),m.Vc(12,Wl,2,1,"strong",27),m.Xc(13," patients "),m.Sb(14,"app-icons",18),m.Wb(),m.Xb(15,"div",26),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_PHYSICIAN_ORDER","RPM")}),m.Vc(16,Vl,1,1,"nz-skeleton-element",13),m.Vc(17,xl,2,1,"strong",27),m.Xc(18," patients "),m.Sb(19,"app-icons",18),m.Wb(),m.Xb(20,"div",26),m.ec("click",function(){return m.Lc(n),m.ic().navigate("NOT_ONBOARDED","RPM")}),m.Vc(21,Ul,1,1,"nz-skeleton-element",13),m.Vc(22,Fl,2,1,"strong",27),m.Xc(23," patients "),m.Sb(24,"app-icons",18),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(25,"br"),m.Wb()}if(2&t){var i=m.ic();m.rc("dashboardSection","ON_BOARDING")("subWidgets",m.xc(14,Hl)),m.Db(10),m.rc("dashboardWidget","ON_BOARDING")("subWidget","RPM_PENDING_CONSENT"),m.Db(1),m.rc("ngIf",!i.onBoarding),m.Db(1),m.rc("ngIf",!!i.onBoarding),m.Db(3),m.rc("dashboardWidget","ON_BOARDING")("subWidget","RPM_PENDING_PHYSICIAN_ORDER"),m.Db(1),m.rc("ngIf",!i.onBoarding),m.Db(1),m.rc("ngIf",!!i.onBoarding),m.Db(3),m.rc("dashboardWidget","ON_BOARDING")("subWidget","NOT_ONBOARDED_PATIENTS"),m.Db(1),m.rc("ngIf",!i.onBoarding),m.Db(1),m.rc("ngIf",!!i.onBoarding)}}function jl(t,e){1&t&&m.Sb(0,"nz-skeleton-element",28),2&t&&m.rc("nzActive",!0)}function Gl(t,e){if(1&t&&(m.Xb(0,"strong",32),m.Xc(1),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",null==n.onBoarding?null:n.onBoarding.widgets.BHI_PENDING_CONSENT," ")}}function Yl(t,e){1&t&&m.Sb(0,"nz-skeleton-element",28),2&t&&m.rc("nzActive",!0)}function ql(t,e){if(1&t&&(m.Xb(0,"strong",32),m.Xc(1),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",null==n.onBoarding?null:n.onBoarding.widgets.BHI_PENDING_PHYSICIAN_ORDER," ")}}var Zl=function(){return["BHI_PENDING_CONSENT","BHI_PENDING_PHYSICIAN_ORDER"]};function Ql(t,e){if(1&t){var n=m.Yb();m.Xb(0,"section",23),m.Xb(1,"div",4),m.Xb(2,"div",21),m.Xb(3,"div",7),m.Xb(4,"div",24),m.Xb(5,"span",30),m.Xc(6,"BHI"),m.Wb(),m.Wb(),m.Xb(7,"div",26),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_CONSENT","BHI")}),m.Vc(8,jl,1,1,"nz-skeleton-element",13),m.Vc(9,Gl,2,1,"strong",31),m.Xc(10," patients "),m.Sb(11,"app-icons",18),m.Wb(),m.Xb(12,"div",26),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_PHYSICIAN_ORDER","BHI")}),m.Vc(13,Yl,1,1,"nz-skeleton-element",13),m.Vc(14,ql,2,1,"strong",31),m.Xc(15," patients "),m.Sb(16,"app-icons",18),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(17,"nz-divider"),m.Wb()}if(2&t){var i=m.ic();m.rc("dashboardSection","ON_BOARDING")("subWidgets",m.xc(10,Zl)),m.Db(7),m.rc("dashboardWidget","ON_BOARDING")("subWidget","BHI_PENDING_CONSENT"),m.Db(1),m.rc("ngIf",!i.onBoarding),m.Db(1),m.rc("ngIf",!!i.onBoarding),m.Db(3),m.rc("dashboardWidget","ON_BOARDING")("subWidget","BHI_PENDING_PHYSICIAN_ORDER"),m.Db(1),m.rc("ngIf",!i.onBoarding),m.Db(1),m.rc("ngIf",!!i.onBoarding)}}function Kl(t,e){1&t&&m.Sb(0,"nz-skeleton-element",28),2&t&&m.rc("nzActive",!0)}function Jl(t,e){if(1&t&&(m.Xb(0,"strong",35),m.Xc(1),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",null==n.onBoarding?null:n.onBoarding.widgets.PENDING_DST," ")}}function $l(t,e){1&t&&m.Sb(0,"nz-skeleton-element",28),2&t&&m.rc("nzActive",!0)}function tu(t,e){if(1&t&&(m.Xb(0,"strong",35),m.Xc(1),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",null==n.onBoarding?null:n.onBoarding.widgets.PENDING_MEASUREMENT," ")}}function eu(t,e){1&t&&m.Sb(0,"nz-skeleton-element",28),2&t&&m.rc("nzActive",!0)}function nu(t,e){if(1&t&&(m.Xb(0,"strong",35),m.Xc(1),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",null==n.onBoarding?null:n.onBoarding.widgets.COMPLETED_DST," ")}}function iu(t,e){if(1&t){var n=m.Yb();m.Xb(0,"section",3),m.Xb(1,"div",4),m.Xb(2,"div",5),m.Xb(3,"h4"),m.Xc(4," Device setup tasks "),m.Wb(),m.Wb(),m.Xb(5,"div",6),m.Xb(6,"div",7),m.Xb(7,"div",8),m.Xb(8,"strong"),m.Xc(9,"Pending"),m.Wb(),m.Wb(),m.Xb(10,"div",9),m.Xb(11,"strong"),m.Xc(12," Completed & awaiting first vital signs recording "),m.Wb(),m.Wb(),m.Xb(13,"div",33),m.Xb(14,"strong"),m.Xc(15,"Completed this month"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(16,"div",4),m.Xb(17,"div",5),m.Xb(18,"p"),m.Xc(19,"Overview"),m.Wb(),m.Wb(),m.Xb(20,"div",6),m.Xb(21,"div",7),m.Xb(22,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_DST")}),m.Xb(23,"label",12),m.Vc(24,Kl,1,1,"nz-skeleton-element",13),m.Vc(25,Jl,2,1,"strong",14),m.Xc(26," \xa0 patients "),m.Wb(),m.Xb(27,"label",17),m.Xc(28," Follow Up "),m.Sb(29,"app-icons",18),m.Wb(),m.Wb(),m.Xb(30,"div",11),m.ec("click",function(){return m.Lc(n),m.ic().navigate("PENDING_FIRST_VITAL")}),m.Xb(31,"label",12),m.Vc(32,$l,1,1,"nz-skeleton-element",13),m.Vc(33,tu,2,1,"strong",14),m.Xc(34," \xa0 patients "),m.Wb(),m.Xb(35,"label",34),m.Xc(36," Follow Up "),m.Sb(37,"app-icons",18),m.Wb(),m.Wb(),m.Xb(38,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("COMPLETED_DST")}),m.Xb(39,"label",12),m.Vc(40,eu,1,1,"nz-skeleton-element",13),m.Vc(41,nu,2,1,"strong",14),m.Xc(42," \xa0 patients "),m.Wb(),m.Xb(43,"label",17),m.Xc(44," Follow Up "),m.Sb(45,"app-icons",18),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(46,"nz-divider"),m.Wb()}if(2&t){var i=m.ic();m.rc("dashboardWidget","ON_BOARDING")("subWidget","PENDING_DST"),m.Db(24),m.rc("ngIf",!i.onBoarding),m.Db(1),m.rc("ngIf",!!i.onBoarding),m.Db(7),m.rc("ngIf",!i.onBoarding),m.Db(1),m.rc("ngIf",!!i.onBoarding),m.Db(7),m.rc("ngIf",!i.onBoarding),m.Db(1),m.rc("ngIf",!!i.onBoarding)}}function au(t,e){1&t&&(m.Xb(0,"div",33),m.Xb(1,"strong"),m.Xc(2,"Lead Follow-ups"),m.Wb(),m.Wb())}function ou(t,e){1&t&&m.Sb(0,"nz-skeleton-element",28),2&t&&m.rc("nzActive",!0)}function ru(t,e){if(1&t&&(m.Xb(0,"strong",35),m.Xc(1),m.Wb()),2&t){var n=m.ic();m.Db(1),m.Zc(" ",(null==n.onBoarding?null:n.onBoarding.widgets.CONVERTED_LEADS)||"0"," ")}}function cu(t,e){1&t&&(m.Xb(0,"label",34),m.Xc(1," Follow Up "),m.Sb(2,"app-icons",18),m.Wb())}function su(t,e){1&t&&m.Sb(0,"nz-skeleton-element",28),2&t&&m.rc("nzActive",!0)}function lu(t,e){if(1&t&&(m.Xb(0,"strong",35),m.Xc(1),m.Wb()),2&t){var n=m.ic();m.Db(1),m.Zc(" ",(null==n.onBoarding?null:n.onBoarding.widgets.PENDING_LEADS)||"0"," ")}}function uu(t,e){1&t&&m.Sb(0,"nz-skeleton-element",28),2&t&&m.rc("nzActive",!0)}function du(t,e){if(1&t&&(m.Xb(0,"strong",35),m.Xc(1),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",(null==n.onBoarding?null:n.onBoarding.widgets.FOLLOW_UPS)||"0"," ")}}function pu(t,e){1&t&&(m.Xb(0,"label",17),m.Xc(1," Follow Up "),m.Sb(2,"app-icons",18),m.Wb())}function bu(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",16),m.ec("click",function(){return m.Lc(n),m.ic().navigate("FOLLOW_UPS")}),m.Xb(1,"label",12),m.Vc(2,uu,1,1,"nz-skeleton-element",13),m.Vc(3,du,2,1,"strong",14),m.Xc(4," \xa0 follow-ups "),m.Wb(),m.Vc(5,pu,3,0,"label",36),m.Wb()}if(2&t){var i=m.ic();m.Db(2),m.rc("ngIf",!i.onBoarding),m.Db(1),m.rc("ngIf",!!i.onBoarding),m.Db(2),m.rc("ngIf",!1)}}var hu,gu=((hu=function(){function t(e,n,i){u(this,t),this._dashboardService=e,this._dataSharingService=n,this._router=i}return p(t,[{key:"ngOnInit",value:function(){this.getTenantConfig(),this.getOnBoardingWidget()}},{key:"getOnBoardingWidget",value:function(){var t=this;this._dashboardService.fetchOnBoardingWidget(this.patientType).subscribe(function(e){return t.onBoarding=e})}},{key:"getTenantConfig",value:function(){var t=this;this._dataSharingService.tenantSettings.subscribe(function(e){var n;e&&(t.enabledEpisodeBlueprints=[],null===(n=null==e?void 0:e.episodeBlueprints)||void 0===n||n.forEach(function(e){(null==e?void 0:e.archived)||t.enabledEpisodeBlueprints.push(e)}))})}},{key:"navigate",value:function(t,e){var n,i,a,o,r,c,s,l,u,d,p,b,h,g,f,v,m;if(null===(i=null===(n=this.onBoarding)||void 0===n?void 0:n.metadata)||void 0===i?void 0:i.episodeBlueprint){var S=localStorage.getItem(Qc.a.REQUEST_TENANT_IDS);switch(t){case"PENDING_CONSENT":this._router.navigate(["/patient"],{queryParams:{filter:"CONSENT_FORM",consentFormStatus:"TO_BE_OBTAINED",assignedStaffType:this.patientType,episodeBlueprint:null===(o=null===(a=this.onBoarding)||void 0===a?void 0:a.metadata)||void 0===o?void 0:o.episodeBlueprint[e],requestTenantIds:S}});break;case"PENDING_PHYSICIAN_ORDER":this._router.navigate(["/patient"],{queryParams:{filter:"PHYSICIAN_ORDER",physicianOrderStatus:"TO_BE_OBTAINED",episodeBlueprint:null===(c=null===(r=this.onBoarding)||void 0===r?void 0:r.metadata)||void 0===c?void 0:c.episodeBlueprint[e],assignedStaffType:this.patientType,requestTenantIds:S}});break;case"NOT_ONBOARDED":this._router.navigate(["/patient"],{queryParams:{filter:"ON_BOARDING","sub-filter":"RPM",onBoardingFilter:"NOT_ONBOARDED_LAST_MONTH",episodeBlueprint:null===(l=null===(s=this.onBoarding)||void 0===s?void 0:s.metadata)||void 0===l?void 0:l.episodeBlueprint.RPM,assignedStaffType:this.patientType,requestTenantIds:S}});break;case"PENDING_DST":this._router.navigate(["/patient"],{queryParams:{filter:"DST","sub-filter":"RPM",dstFilterType:"PENDING_ON_BOARDINGS",episodeBlueprint:null===(p=null===(d=null===(u=this.onBoarding)||void 0===u?void 0:u.metadata)||void 0===d?void 0:d.episodeBlueprint)||void 0===p?void 0:p.RPM,assignedStaffType:this.patientType,requestTenantIds:S}});break;case"PENDING_FIRST_VITAL":this._router.navigate(["/patient"],{queryParams:{filter:"VITAL_DAYS_REMAINING","sub-filter":"RPM",episodeStatus:"IN_PROGRESS",op:"EQUAL_TO",v1:"16",v2:"1",episodeBlueprint:null===(g=null===(h=null===(b=this.onBoarding)||void 0===b?void 0:b.metadata)||void 0===h?void 0:h.episodeBlueprint)||void 0===g?void 0:g.RPM,assignedStaffType:this.patientType,requestTenantIds:S}});break;case"COMPLETED_DST":this._router.navigate(["/patient"],{queryParams:{filter:"DST","sub-filter":"RPM",dstFilterType:"SUCCESSFUL_ON_BOARDINGS_FOR_MONTH",episodeBlueprint:null===(m=null===(v=null===(f=this.onBoarding)||void 0===f?void 0:f.metadata)||void 0===v?void 0:v.episodeBlueprint)||void 0===m?void 0:m.RPM,assignedStaffType:this.patientType,requestTenantIds:S}});break;case"PENDING_LEADS":this._router.navigate(["/leads"],{queryParams:{tab:"ACTIVE",assignedStaffType:this.patientType,requestTenantIds:S}});break;case"LEADS":case"CONVERTED_LEADS":case"FOLLOW_UPS":return}}}}]),t}()).\u0275fac=function(t){return new(t||hu)(m.Rb(ze.a),m.Rb(k.a),m.Rb(y.g))},hu.\u0275cmp=m.Lb({type:hu,selectors:[["app-onboarding-widget"]],inputs:{patientType:"patientType"},decls:46,vars:28,consts:[["nz-row","","class","onboarding-widget-container",3,"dashboardSection","subWidgets",4,"ngIf"],[3,"dashboardSection","subWidgets",4,"ngIf"],[3,"dashboardWidget","subWidget",4,"ngIf"],[3,"dashboardWidget","subWidget"],["nz-row","",1,"onboarding-widget-container"],["nz-col","","nzSpan","7"],["nz-col","","nzSpan","17"],["nz-row",""],["nz-col","","nzSpan","6"],["nz-col","","nzOffset","2","nzSpan","6"],["nz-col","","nzOffset","2","nzSpan","8",4,"ngIf"],["nz-col","","nzSpan","8",3,"click"],["nz-typography","","nzType","success"],["nzType","input","nzSize","small","class","full-width",3,"nzActive",4,"ngIf"],["class","dst-count",4,"ngIf"],["actionable","","nz-typography","","nzType","secondary","class","dst-action","actionable","",4,"ngIf"],["nz-col","","nzSpan","8","actionable","",3,"click"],["actionable","","nz-typography","","nzType","secondary",1,"dst-action"],["name","right","size","10px","color","gray"],["nz-col","","nzSpan","8","actionable","",3,"click",4,"ngIf"],["nz-row","",1,"onboarding-widget-container",3,"dashboardSection","subWidgets"],["nz-col","","nzOffset","7","nzSpan","17"],["nz-col","","nzOffset","3","nzSpan","7"],[3,"dashboardSection","subWidgets"],["nz-col","","nzSpan","3"],[1,"rpm"],["nz-col","","nzSpan","7","actionable","",3,"dashboardWidget","subWidget","click"],["class","rpm-count",4,"ngIf"],["nzType","input","nzSize","small",1,"full-width",3,"nzActive"],[1,"rpm-count"],[1,"bhi"],["class","bhi-count",4,"ngIf"],[1,"bhi-count"],["nz-col","","nzOffset","2","nzSpan","8"],["actionable","","nz-typography","","nzType","secondary","actionable","",1,"dst-action"],[1,"dst-count"],["actionable","","nz-typography","","nzType","secondary","class","dst-action",4,"ngIf"]],template:function(t,e){1&t&&(m.Vc(0,Ll,19,3,"div",0),m.jc(1,"isEpisodeTypeEnabled"),m.jc(2,"isEpisodeTypeEnabled"),m.Vc(3,Bl,26,15,"section",1),m.jc(4,"isEpisodeTypeEnabled"),m.Vc(5,Ql,18,11,"section",1),m.jc(6,"isEpisodeTypeEnabled"),m.Vc(7,iu,47,8,"section",2),m.jc(8,"isEpisodeTypeEnabled"),m.Xb(9,"section",3),m.Xb(10,"div",4),m.Xb(11,"div",5),m.Xb(12,"h4"),m.Xc(13," Leads "),m.Wb(),m.Wb(),m.Xb(14,"div",6),m.Xb(15,"div",7),m.Xb(16,"div",8),m.Xb(17,"strong"),m.Xc(18,"Converted "),m.Xb(19,"p"),m.Xc(20,"(Current Month)"),m.Wb(),m.Wb(),m.Wb(),m.Xb(21,"div",9),m.Xb(22,"strong"),m.Xc(23," Pending Conversion "),m.Wb(),m.Wb(),m.Vc(24,au,3,0,"div",10),m.Wb(),m.Wb(),m.Wb(),m.Xb(25,"div",4),m.Xb(26,"div",5),m.Xb(27,"p"),m.Xc(28,"Overview"),m.Wb(),m.Wb(),m.Xb(29,"div",6),m.Xb(30,"div",7),m.Xb(31,"div",11),m.ec("click",function(){return e.navigate("CONVERTED_LEADS")}),m.Xb(32,"label",12),m.Vc(33,ou,1,1,"nz-skeleton-element",13),m.Vc(34,ru,2,1,"strong",14),m.Xc(35," \xa0 leads "),m.Wb(),m.Vc(36,cu,3,0,"label",15),m.Wb(),m.Xb(37,"div",16),m.ec("click",function(){return e.navigate("PENDING_LEADS")}),m.Xb(38,"label",12),m.Vc(39,su,1,1,"nz-skeleton-element",13),m.Vc(40,lu,2,1,"strong",14),m.Xc(41," \xa0 leads "),m.Wb(),m.Xb(42,"label",17),m.Xc(43," Follow Up "),m.Sb(44,"app-icons",18),m.Wb(),m.Wb(),m.Vc(45,bu,6,3,"div",19),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.rc("ngIf",m.lc(1,13,"RPM",e.enabledEpisodeBlueprints)||m.lc(2,16,"GENERAL",e.enabledEpisodeBlueprints)),m.Db(3),m.rc("ngIf",m.lc(4,19,"RPM",e.enabledEpisodeBlueprints)),m.Db(2),m.rc("ngIf",m.lc(6,22,"GENERAL",e.enabledEpisodeBlueprints)),m.Db(2),m.rc("ngIf",m.lc(8,25,"RPM",e.enabledEpisodeBlueprints)),m.Db(2),m.rc("dashboardWidget","ON_BOARDING")("subWidget","LEADS"),m.Db(15),m.rc("ngIf",!1),m.Db(9),m.rc("ngIf",!e.onBoarding),m.Db(1),m.rc("ngIf",!!e.onBoarding),m.Db(2),m.rc("ngIf",!1),m.Db(3),m.rc("ngIf",!e.onBoarding),m.Db(1),m.rc("ngIf",!!e.onBoarding),m.Db(5),m.rc("ngIf",!1))},directives:[E.q,Oc,J.c,J.a,Q.a,en.a,Ct.a,Kc,$c.b,$c.c,K.a],pipes:[ss.a],styles:["[_nghost-%COMP%]{margin-bottom:15px;padding-top:10px;display:block}.onboarding-widget-container[_ngcontent-%COMP%]{margin-left:20px;margin-bottom:5px}h4[_ngcontent-%COMP%]{font:normal normal 600 15px/22px Nunito;letter-spacing:-.55px;width:70%}p[_ngcontent-%COMP%]{width:80%;font-size:12px}.rpm[_ngcontent-%COMP%]{background:#cbddff 0 0 no-repeat padding-box;opacity:.6;color:var(--secondary-color)}.bhi[_ngcontent-%COMP%], .rpm[_ngcontent-%COMP%]{display:block;width:50px;height:45px;border-radius:2px;font:normal normal 700 14px/20px Nunito;padding-top:14px;text-align:center}.bhi[_ngcontent-%COMP%]{background:#bde292 0 0 no-repeat padding-box;color:var(--primary-color);opacity:.8}.rpm-count[_ngcontent-%COMP%]{color:var(--secondary-color)}.bhi-count[_ngcontent-%COMP%], .rpm-count[_ngcontent-%COMP%]{font:normal normal 600 24px/24px Nunito;letter-spacing:-1.5px;display:block}.bhi-count[_ngcontent-%COMP%], .dst-count[_ngcontent-%COMP%]{color:var(--primary-color)}.dst-count[_ngcontent-%COMP%]{font:normal normal 600 26px/26px Nunito;letter-spacing:-1.5px}.dst-action[_ngcontent-%COMP%]{display:block;font:normal normal 700 12px/27px Nunito;letter-spacing:-.4px}.dst-action[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.full-width[_ngcontent-%COMP%]{width:90%;margin-bottom:10px}app-icons[_ngcontent-%COMP%]{vertical-align:middle}"]}),hu),fu=r("fhRi");function vu(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",11),m.Xb(2,"div",12),m.Xb(3,"label",13),m.Xc(4,"Patient Type"),m.Wb(),m.Wb(),m.Xb(5,"div",14),m.Xb(6,"nz-select",15),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().patientType=t})("ngModelChange",function(){return m.Lc(n),m.ic().onPatientTypeChange()}),m.Sb(7,"nz-option",16),m.Sb(8,"nz-option",17),m.Sb(9,"nz-option",18),m.Wb(),m.Wb(),m.Wb(),m.Ub()}if(2&t){var i=m.ic();m.Db(6),m.rc("ngModel",i.patientType)}}var mu,Su=((mu=function(){function t(){u(this,t),this.patientType="PRIMARY",this.patientTypeChange=new m.n,this.refresh$=new m.n,this.patientTypeEnabled=localStorage.getItem("loggedInUserRole")!==oi.a.TENANT_ADMIN&&localStorage.getItem("loggedInUserRole")!==oi.a.PHYSICIAN,this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color");var e=localStorage.getItem("loggedInUserRole");this.selectedIndex="ENROLMENT_STAFF"===e?1:0}return p(t,[{key:"refresh",value:function(){this.refresh$.next()}},{key:"onPatientTypeChange",value:function(){sessionStorage.setItem("patientType",this.patientType),this.patientTypeChange.emit(this.patientType),this.refresh()}}]),t}()).\u0275fac=function(t){return new(t||mu)},mu.\u0275cmp=m.Lb({type:mu,selectors:[["app-activities"]],inputs:{patientType:"patientType"},outputs:{patientTypeChange:"patientTypeChange",refresh$:"refresh"},decls:16,vars:13,consts:[["nz-row","","nzAlign","middle"],["nz-col","","nzSpan","6"],["nz-col","","nzSpan","10"],[4,"ngIf"],["nz-col","","nzSpan","8"],["nz-typography","","nzType","secondary",1,"align-right"],["name","reload","size","16px",3,"color","strokeColor","click"],["nzType","card",3,"nzSelectedIndex"],[3,"nzTitle"],[3,"dashboardWidget","patientType","date"],[3,"dashboardWidget","patientType"],["nz-row","","nzJustify","center","nzAlign","middle","nzGutter","12"],["nz-col",""],["nz-typography","","nzType","secondary"],["nz-col","","nzFlex","150px"],["nzPlaceHolder","Select patient type",3,"ngModel","ngModelChange"],["nzValue","ALL","nzLabel","All"],["nzValue","PRIMARY","nzLabel","Primary"],["nzValue","OTHER","nzLabel","Secondary"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"strong"),m.Xc(3,"Your activities for today"),m.Wb(),m.Wb(),m.Xb(4,"div",2),m.Vc(5,vu,10,1,"ng-container",3),m.Wb(),m.Xb(6,"div",4),m.Xb(7,"label",5),m.Xc(8),m.jc(9,"utcToLocalTime"),m.Xb(10,"app-icons",6),m.ec("click",function(){return e.refresh()}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(11,"nz-tabset",7),m.Xb(12,"nz-tab",8),m.Xb(13,"app-monitoring-widget",9),m.ec("date",function(t){return e.date=t}),m.Wb(),m.Wb(),m.Xb(14,"nz-tab",8),m.Sb(15,"app-onboarding-widget",10),m.Wb(),m.Wb()),2&t&&(m.Db(5),m.rc("ngIf",e.patientTypeEnabled),m.Db(3),m.Zc(" Last updated: ",m.kc(9,11,e.date)," \xa0\xa0 "),m.Db(2),m.rc("color",e.iconColor)("strokeColor",e.iconColor),m.Db(1),m.rc("nzSelectedIndex",e.selectedIndex),m.Db(1),m.rc("nzTitle","Monitoring"),m.Db(1),m.rc("dashboardWidget","MONITORING")("patientType",e.patientType),m.Db(1),m.rc("nzTitle","Onboarding"),m.Db(1),m.rc("dashboardWidget","ON_BOARDING")("patientType",e.patientType))},directives:[J.c,J.a,E.q,Q.a,Ct.a,qc.d,qc.a,Rl,Oc,gu,it.d,I.u,I.x,it.a],pipes:[fu.a],styles:["nz-tabset[_ngcontent-%COMP%]{margin-top:10px}.align-right[_ngcontent-%COMP%]{display:block;text-align:right}app-icons[_ngcontent-%COMP%]{vertical-align:sub}[_nghost-%COMP%]     .ant-tabs-nav{margin:0;padding:0}[_nghost-%COMP%]     .ant-tabs-nav-list{width:100%}[_nghost-%COMP%]     .ant-tabs-tab{width:50%;padding:25px!important;font-size:14px}[_nghost-%COMP%]     .ant-tabs-tab-btn{font-weight:600!important;text-align:center;width:100%}[_nghost-%COMP%]     .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn{color:var(--primary-color)!important}[_nghost-%COMP%]     .ant-tabs-tabpane{background:var(--neutral-color);padding:2%}[_nghost-%COMP%]     .ant-tabs-tab-active{border-bottom-color:var(--neutral-color)!important}"]}),mu);function yu(t,e){if(1&t&&(m.Vb(0),m.Xc(1),m.Sb(2,"app-icons",7),m.Ub()),2&t){var n=m.ic();m.Db(1),m.Zc(" ",n.count," \xa0 "),m.Db(1),m.rc("strokeColor",n.iconColor)}}var Tu,Cu=((Tu=function(){function t(e){u(this,t),this._router=e,this.patientType="ALL",this.iconColor=getComputedStyle(document.documentElement).getPropertyValue("--primary-color")}return p(t,[{key:"navigate",value:function(){if(this.episodeBlueprint){var t=localStorage.getItem(Qc.a.REQUEST_TENANT_IDS);switch(this.name){case"ALL_PATIENTS":this._router.navigate(["/patient"],{queryParams:{filter:"ALL_PATIENTS",requestTenantIds:t,assignedStaffType:this.patientType}});break;case"ACTIVE_RPM_PATIENTS":this._router.navigate(["/patient"],{queryParams:{filter:"EPISODES","sub-filter":"RPM",selectedEpisodeType:"RPM",episodeStatus:"IN_PROGRESS",episodeBlueprint:this.episodeBlueprint.RPM,requestTenantIds:t,assignedStaffType:this.patientType}});break;case"ACTIVE_GENERAL_PATIENTS":this._router.navigate(["/patient"],{queryParams:{filter:"EPISODES","sub-filter":"GENERAL",selectedEpisodeType:"GENERAL",episodeStatus:"IN_PROGRESS",episodeBlueprint:this.episodeBlueprint.BHI||this.episodeBlueprint.GENERAL,requestTenantIds:t,assignedStaffType:this.patientType}});break;case"ACTIVE_CCM_PATIENTS":this._router.navigate(["/patient"],{queryParams:{filter:"EPISODES","sub-filter":"CCM",selectedEpisodeType:"CCM",episodeStatus:"IN_PROGRESS",episodeBlueprint:this.episodeBlueprint.CCM||this.episodeBlueprint.CCM,requestTenantIds:t,assignedStaffType:this.patientType}});break;case"PATIENTS_WITHOUT_EPISODES":this._router.navigate(["/patient"],{queryParams:{filter:"NO_ACTIVE_EPISODES",requestTenantIds:t,assignedStaffType:this.patientType}});break;case"CCM_APPOINTMENTS":this._router.navigate(["/appointments"],{queryParams:{requestTenantIds:t}});break;case"LEADS":this._router.navigate(["/leads"],{queryParams:{requestTenantIds:t}});break;case"FOLLOW_UPS":this._router.navigate(["/leads/followups"],{queryParams:{requestTenantIds:t}})}}}}]),t}()).\u0275fac=function(t){return new(t||Tu)(m.Rb(y.g))},Tu.\u0275cmp=m.Lb({type:Tu,selectors:[["app-quick-view-subwidget"]],inputs:{name:"name",count:"count",episodeBlueprint:"episodeBlueprint",patientType:"patientType"},decls:12,vars:9,consts:[["actionable","",3,"click"],["nz-typography","","nzType","success"],["nz-row",""],["nz-col","","nzSpan","21"],["nz-typography","","nzEllipsis","",3,"nzEllipsisRows"],["nzSimple","",3,"nzSpinning"],[4,"ngIf"],["name","arrowRight","size","16px",3,"strokeColor"]],template:function(t,e){1&t&&(m.Xb(0,"span",0),m.ec("click",function(){return e.navigate()}),m.Xb(1,"h4",1),m.Xc(2),m.jc(3,"translate"),m.Wb(),m.Xb(4,"div",2),m.Xb(5,"div",3),m.Xb(6,"p",4),m.Xc(7),m.jc(8,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"h2",1),m.Sb(10,"nz-spin",5),m.Vc(11,yu,3,2,"ng-container",6),m.Wb(),m.Wb()),2&t&&(m.Db(2),m.Yc(m.kc(3,5,e.name)),m.Db(4),m.rc("nzEllipsisRows",2),m.Db(1),m.Zc(" ",m.kc(8,7,e.name+"_DESC")," "),m.Db(3),m.rc("nzSpinning",0!==e.count&&!e.count),m.Db(1),m.rc("ngIf",0===e.count||!!e.count))},directives:[en.a,Q.a,J.c,J.a,Ze.a,E.q,Ct.a],pipes:[rt.a],styles:["span[_ngcontent-%COMP%]{background:var(--neutral-color);display:block;padding:25px 25px 5px;min-height:160px;border-radius:5px}app-icons[_ngcontent-%COMP%]{vertical-align:middle}h4[_ngcontent-%COMP%]{letter-spacing:-.55px}p[_ngcontent-%COMP%]{font:normal normal normal 11px/20px Nunito}h2[_ngcontent-%COMP%]{letter-spacing:-2.05px}"]}),Tu);function Eu(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",1),m.Sb(2,"app-quick-view-subwidget",2),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(1),m.rc("dashboardWidget","QUICK_VIEW")("subWidget","ACTIVE_RPM_PATIENTS"),m.Db(1),m.rc("name","ACTIVE_RPM_PATIENTS")("count",null==n.quickView?null:n.quickView.widgets.ACTIVE_RPM_PATIENTS)("episodeBlueprint",null==n.quickView||null==n.quickView.metadata?null:n.quickView.metadata.episodeBlueprint)("patientType",n.patientType)}}function Iu(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",1),m.Sb(2,"app-quick-view-subwidget",2),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(1),m.rc("dashboardWidget","QUICK_VIEW")("subWidget","ACTIVE_GENERAL_PATIENTS"),m.Db(1),m.rc("name","ACTIVE_GENERAL_PATIENTS")("count",null==n.quickView?null:n.quickView.widgets.ACTIVE_GENERAL_PATIENTS)("episodeBlueprint",null==n.quickView||null==n.quickView.metadata?null:n.quickView.metadata.episodeBlueprint)("patientType",n.patientType)}}function Mu(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",1),m.Sb(2,"app-quick-view-subwidget",2),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(1),m.rc("dashboardWidget","QUICK_VIEW")("subWidget","ACTIVE_CCM_PATIENTS"),m.Db(1),m.rc("name","ACTIVE_CCM_PATIENTS")("count",null==n.quickView?null:n.quickView.widgets.ACTIVE_CCM_PATIENTS)("episodeBlueprint",null==n.quickView||null==n.quickView.metadata?null:n.quickView.metadata.episodeBlueprint)("patientType",n.patientType)}}var Au,_u,Du=((Au=function(){function t(e){u(this,t),this._dashboardService=e,this.patientType="ALL"}return p(t,[{key:"ngOnInit",value:function(){this.getQuickViewWidgets()}},{key:"getQuickViewWidgets",value:function(){var t=this;this._dashboardService.fetchQuickViewWidgets(this.patientType).subscribe(function(e){return t.quickView=e})}}]),t}()).\u0275fac=function(t){return new(t||Au)(m.Rb(ze.a))},Au.\u0275cmp=m.Lb({type:Au,selectors:[["app-quick-view"]],inputs:{patientType:"patientType"},decls:12,vars:15,consts:[["nz-row","",1,"widget-container"],["nz-col","","nzSpan","6",3,"dashboardWidget","subWidget"],[3,"name","count","episodeBlueprint","patientType"],[4,"ngIf"]],template:function(t,e){1&t&&(m.Xb(0,"div"),m.Xc(1," \xa0\xa0 "),m.Xb(2,"strong"),m.Xc(3,"Patients Quick View"),m.Wb(),m.Wb(),m.Xb(4,"div",0),m.Xb(5,"div",1),m.Sb(6,"app-quick-view-subwidget",2),m.Wb(),m.Vc(7,Eu,3,6,"ng-container",3),m.Vc(8,Iu,3,6,"ng-container",3),m.Vc(9,Mu,3,6,"ng-container",3),m.Xb(10,"div",1),m.Sb(11,"app-quick-view-subwidget",2),m.Wb(),m.Wb()),2&t&&(m.Db(5),m.rc("dashboardWidget","QUICK_VIEW")("subWidget","ALL_PATIENTS"),m.Db(1),m.rc("name","ALL_PATIENTS")("count",null==e.quickView?null:e.quickView.widgets.ALL_PATIENTS)("episodeBlueprint",null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint)("patientType",e.patientType),m.Db(1),m.rc("ngIf",null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint.RPM),m.Db(1),m.rc("ngIf",(null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint.BHI)||(null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint.GENERAL)),m.Db(1),m.rc("ngIf",null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint.CCM),m.Db(1),m.rc("dashboardWidget","QUICK_VIEW")("subWidget","PATIENTS_WITHOUT_EPISODES"),m.Db(1),m.rc("name","PATIENTS_WITHOUT_EPISODES")("count",null==e.quickView?null:e.quickView.widgets.PATIENTS_WITHOUT_EPISODES)("episodeBlueprint",null==e.quickView||null==e.quickView.metadata?null:e.quickView.metadata.episodeBlueprint)("patientType",e.patientType))},directives:[J.c,J.a,Oc,Cu,E.q],styles:[".widget-container[_ngcontent-%COMP%]{margin-top:10px;border-radius:5px;background:var(--neutral-color)}"]}),Au),zu=r("4hBO"),Ou=r("HZ0a"),ku=r("0EQZ"),Nu=r("2Vo4"),Pu=function(t){o(i,t);var e=c(i);function i(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALL";return u(this,i),(n=e.call(this))._alertService=t,n._patientType=a,n.cachedData=[],n.fetchedPages=new Set,n.complete$=new En.a,n.completeCount$=new En.a,n.disconnect$=new En.a,n.dataStream=new Nu.a(n.cachedData),n.alertFetchRequest=new _n.a,n.priorityCount=[],n.loading=!1,n.cacheLimit=10,n.patientType=a,n.alertFetchRequest.patientType=a,n}return p(i,[{key:"completed",value:function(){return this.complete$.asObservable()}},{key:"completedCount",value:function(){return this.completeCount$.asObservable()}},{key:"connect",value:function(t){return this.setup(t),this.dataStream}},{key:"disconnect",value:function(){this.disconnect$.next(),this.disconnect$.complete()}},{key:"setup",value:function(t){var e=this;this.fetchPage(0),t.viewChange.pipe(Object(In.a)(this.complete$),Object(In.a)(this.disconnect$)).subscribe(function(t){if(e.cachedData.length>=e.alertFetchRequest.limit*e.cacheLimit)e.complete$.next(),e.complete$.complete();else{var n=e.getPageForIndex(t.end);e.fetchPage(0==n?0:n)}})}},{key:"getPageForIndex",value:function(t){return Math.floor(t/this.alertFetchRequest.limit)}},{key:"fetchPage",value:function(t){this.alertFetchRequest.offset=t,this.fetchedPages.has(t)||(this.fetchedPages.add(t),this.fetchAlert(!1,t))}},{key:"clearCache",value:function(){this.cachedData=[],this.fetchedPages.clear(),this.metaData=null}},{key:"removeAlert",value:function(t){var e=this.cachedData.findIndex(function(e){return e.id==t});this.cachedData.splice(e,1),this.dataStream.next(n(this.cachedData))}},{key:"fetchAlert",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1?arguments[1]:void 0;this.loading=!0,e&&this.clearCache(),this._alertService.fetchAlerts(this.alertFetchRequest).subscribe(function(e){var a;t.completeCount$.next(e.metaData),e.result.forEach(function(t){t.linkedAlerts=t.linkedAlerts.reverse()}),(a=t.cachedData).splice.apply(a,[i*t.alertFetchRequest.limit,t.alertFetchRequest.limit].concat(n(e.result))),t.dataStream.next(n(t.cachedData)),t.lastUpdatedTime=(new Date).getTime(),t.metaData=e.metaData,t.loading=!1})}}]),i}(ku.b),Ru=r("BrXI"),Xu=r("FrsH"),Lu=r("BcC3"),wu=r("vxfF"),Wu=r("Ff2k"),Vu=r("IvDN"),xu=r("ncdi"),Uu=r("Laz3"),Fu=r("t2pg"),Hu=((_u=function(){function t(){u(this,t)}return p(t,[{key:"transform",value:function(t,e,n,i){var a="",o="";switch(t){case Xu.a.FORM_ALERT.valueOf():a="SCORE",o="RISK";break;case Xu.a.VITAL_LIMIT_CROSSED.valueOf():a=i,o="ALERT_TYPE";break;case Xu.a.PRIORITISED.valueOf():switch(n.LINKED_ALERT_TYPE){case"VITAL_LIMIT_CROSSED":a=i,o="ALERT_TYPE"}}if(null==n)return"N/A";switch(e){case"VALUE":if(null!=n[a])return n[a];break;case"ALERT_TYPE":if(null!=n[o])return n[o];break;case"VITAL_SIGN":if(null!=n.VITAL_TYPE&&null!=n.RAISED_FOR)return"BLOOD_PRESSURE"==n.VITAL_TYPE?"Blood Pressure - "+n.RAISED_FOR_LABEL:n.RAISED_FOR_LABEL}return"N/A"}}]),t}()).\u0275fac=function(t){return new(t||_u)},_u.\u0275pipe=m.Qb({name:"alertValue",type:_u,pure:!0}),_u);function Bu(t,e){if(1&t&&m.Sb(0,"nz-list-item-meta",14),2&t){m.ic();var n=m.Ic(3);m.rc("nzDescription",n)}}function ju(t,e){1&t&&(m.Vb(0),m.Xc(1," Stage 3 - "),m.Ub())}function Gu(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"span",28),m.Xc(2),m.jc(3,"tenantName"),m.Wb(),m.Ub()),2&t){var n=m.ic(2).$implicit;m.Db(2),m.Zc(" | ",m.kc(3,1,null==n||null==n.patient?null:n.patient.tenantId)," ")}}function Yu(t,e){1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"translate"),m.Ub()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"EPISODE.CONSENT_FORM")," "))}function qu(t,e){1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"translate"),m.Ub()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.CAREPLAN")," "))}function Zu(t,e){1&t&&(m.Vb(0),m.Xc(1," Rule "),m.Ub())}function Qu(t,e){1&t&&(m.Vb(0),m.Xb(1,"p",31),m.jc(2,"translate"),m.Xc(3),m.jc(4,"translate"),m.Wb(),m.Ub()),2&t&&(m.Db(1),m.sc("nzTooltipTitle",m.kc(2,2,"CONSENT.CONSENT_OBTAINED")),m.Db(2),m.Zc(" ",m.kc(4,4,"CONSENT.CONSENT_OBTAINED")," "))}function Ku(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"p",31),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic(3).$implicit;m.Db(1),m.rc("nzTooltipTitle",null==n||null==n.alertMessageParameters?null:n.alertMessageParameters.CAREPLAN_NAME),m.Db(1),m.Zc(" ",null==n||null==n.alertMessageParameters?null:n.alertMessageParameters.CAREPLAN_NAME," ")}}function Ju(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"p",31),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic(3).$implicit;m.Db(1),m.rc("nzTooltipTitle",null==n||null==n.rule?null:n.rule.name),m.Db(1),m.Zc(" ",null==n||null==n.rule?null:n.rule.name," ")}}function $u(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",29),m.Xb(2,"div",17),m.Xb(3,"label",30),m.Vc(4,Yu,3,3,"ng-container",11),m.Vc(5,qu,3,3,"ng-container",11),m.Vc(6,Zu,2,0,"ng-container",11),m.Wb(),m.Wb(),m.Xb(7,"div",17),m.Vc(8,Qu,5,6,"ng-container",11),m.Vc(9,Ku,3,2,"ng-container",11),m.Vc(10,Ju,3,2,"ng-container",11),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.ic(2).$implicit;m.Db(4),m.rc("ngIf","CONSENT_SUBMITTED"==n.type),m.Db(1),m.rc("ngIf","CAREPLAN_ASSIGNED"==n.type),m.Db(1),m.rc("ngIf","PRIORITISED"==n.type),m.Db(2),m.rc("ngIf","CONSENT_SUBMITTED"==n.type),m.Db(1),m.rc("ngIf","CAREPLAN_ASSIGNED"==n.type),m.Db(1),m.rc("ngIf","PRIORITISED"==n.type)}}function td(t,e){1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"translate"),m.Ub()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON_SELECT_VITAL_SIGN")," "))}function ed(t,e){1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"translate"),m.Ub()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.SURVEYFORM")," "))}function nd(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"p",31),m.jc(2,"alertValue"),m.Xc(3),m.jc(4,"alertValue"),m.Wb(),m.Ub()),2&t){var n=m.ic(3).$implicit;m.Db(1),m.sc("nzTooltipTitle",m.mc(2,2,null==n?null:n.type,"VITAL_SIGN",null==n?null:n.alertMessageParameters)),m.Db(2),m.Zc(" ",m.mc(4,6,null==n?null:n.type,"VITAL_SIGN",null==n?null:n.alertMessageParameters)," ")}}function id(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"p",31),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic(3).$implicit;m.Db(1),m.rc("nzTooltipTitle",null==n||null==n.alertMessageParameters?null:n.alertMessageParameters.FORM_NAME),m.Db(1),m.Zc(" ",null==n||null==n.alertMessageParameters?null:n.alertMessageParameters.FORM_NAME," ")}}function ad(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",23),m.Xb(2,"div",17),m.Xb(3,"label",30),m.Vc(4,td,3,3,"ng-container",11),m.Vc(5,ed,3,3,"ng-container",11),m.Wb(),m.Wb(),m.Xb(6,"div",17),m.Vc(7,nd,5,10,"ng-container",11),m.Vc(8,id,3,2,"ng-container",11),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.ic(2).$implicit;m.Db(4),m.rc("ngIf","VITAL_LIMIT_CROSSED"==n.type),m.Db(1),m.rc("ngIf","FORM_ALERT"==n.type),m.Db(2),m.rc("ngIf","VITAL_LIMIT_CROSSED"==n.type),m.Db(1),m.rc("ngIf","FORM_ALERT"==n.type)}}function od(t,e){1&t&&(m.Xb(0,"div",17),m.Xb(1,"label",30),m.Xc(2,"Limit"),m.Wb(),m.Wb())}function rd(t,e){if(1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"translate"),m.jc(3,"alertValue"),m.Ub()),2&t){var n=m.ic(2).$implicit;m.Db(1),m.Zc(" ",m.kc(2,1,m.nc(3,3,null==n?null:n.type,"ALERT_TYPE",null==n?null:n.alertMessageParameters,null==n||null==n.alertMessageParameters?null:n.alertMessageParameters.RAISED_FOR))," ")}}function cd(t,e){if(1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"alertValue"),m.Ub()),2&t){var n=m.ic(2).$implicit;m.Db(1),m.Zc(" ",m.mc(2,1,null==n?null:n.type,"ALERT_TYPE",null==n?null:n.alertMessageParameters)," ")}}function sd(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",17),m.Xb(1,"a",32),m.ec("click",function(){m.Lc(n);var t=m.ic(2).$implicit;return m.ic().markAsClosed(null==t?null:t.id,null==t?null:t.patientId)&&"PRIORITISED"!=(null==t?null:t.type)}),m.Xc(2),m.jc(3,"translate"),m.Sb(4,"span",33),m.Wb(),m.Wb()}2&t&&(m.Db(2),m.Zc(" ",m.kc(3,1,"ALERT.RESOLVE")," "))}function ld(t,e){if(1&t&&(m.Xb(0,"nz-timeline-item",40),m.Xb(1,"span",41),m.Xb(2,"span",42),m.Xb(3,"p",43),m.Xc(4," Measured On "),m.Wb(),m.Xb(5,"p",44),m.Xc(6),m.jc(7,"date"),m.Wb(),m.Wb(),m.Xb(8,"span",45),m.Xb(9,"p",43),m.Xc(10," Value "),m.Wb(),m.Xb(11,"p",44),m.Xb(12,"span",46),m.Xc(13),m.jc(14,"titlecase"),m.jc(15,"translate"),m.jc(16,"alertValue"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=e.$implicit;m.ic();var i=m.Ic(7);m.rc("nzDot",i),m.Db(6),m.Zc(" ",m.lc(7,3,null==n?null:n.createdOn,"dd MMM | h:mm a")," "),m.Db(7),m.Zc(" ",m.kc(14,6,m.kc(15,8,m.nc(16,10,null==n?null:n.type,"ALERT_TYPE",null==n?null:n.alertMessageParameters,null==n||null==n.alertMessageParameters?null:n.alertMessageParameters.RAISED_FOR)))," ")}}function ud(t,e){1&t&&m.Sb(0,"nz-badge",47),2&t&&m.rc("nzColor","#a7c853")}function dd(t,e){if(1&t&&(m.Sb(0,"i",48),m.Xc(1," Associated Alerts ")),2&t){m.ic();var n=m.Ic(3);m.rc("nzRotate",n.nzActive?90:0)}}function pd(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"nz-collapse",34),m.Xb(2,"nz-collapse-panel",35,36),m.Xb(4,"nz-timeline"),m.Vc(5,ld,17,15,"nz-timeline-item",37),m.Vc(6,ud,1,1,"ng-template",null,38,m.Wc),m.Wb(),m.Wb(),m.Vc(8,dd,2,1,"ng-template",null,39,m.Wc),m.Wb(),m.Ub()),2&t){var n=m.Ic(9),i=m.ic(2).$implicit;m.Db(2),m.rc("nzHeader",n)("nzActive",!1)("nzShowArrow",!1),m.Db(3),m.rc("ngForOf",i.linkedAlerts)}}function bd(t,e){if(1&t){var n=m.Yb();m.Xb(0,"nz-card",15),m.Sb(1,"span",16),m.jc(2,"alertPriorityColor"),m.Xb(3,"div",17),m.Xb(4,"div",18),m.Xb(5,"nz-tag",19),m.jc(6,"alertPriorityColor"),m.jc(7,"alertPriorityColor"),m.Vc(8,ju,2,0,"ng-container",11),m.Xc(9),m.jc(10,"translate"),m.jc(11,"alertPriorityColor"),m.Wb(),m.Wb(),m.Xb(12,"div",18),m.Xb(13,"label",20),m.Xc(14),m.jc(15,"date"),m.Wb(),m.Wb(),m.Wb(),m.Xb(16,"strong"),m.Xc(17),m.Vc(18,Gu,4,3,"ng-container",21),m.Wb(),m.Xb(19,"div",22),m.Vc(20,$u,11,6,"ng-container",11),m.Vc(21,ad,9,4,"ng-container",11),m.Xb(22,"div",23),m.Vc(23,od,3,0,"div",24),m.Xb(24,"div",17),m.Xb(25,"label",25),m.Vc(26,rd,4,8,"ng-container",11),m.Vc(27,cd,3,5,"ng-container",11),m.Wb(),m.Wb(),m.Wb(),m.Xb(28,"div",26),m.Xb(29,"div",17),m.Xb(30,"a",27),m.ec("click",function(){m.Lc(n);var t=m.ic().$implicit;return m.ic().startTimer(t)}),m.Xb(31,"span"),m.Xc(32),m.jc(33,"translate"),m.Wb(),m.Sb(34,"span",7),m.Wb(),m.Wb(),m.Vc(35,sd,5,3,"div",24),m.Wb(),m.Wb(),m.Vc(36,pd,10,4,"ng-container",11),m.Wb()}if(2&t){var i=m.ic().$implicit;m.rc("nzHoverable",!0),m.Db(1),m.Sc("background",m.mc(2,22,null==i?null:i.priority,"COLOR",null==i||null==i.alertMessageParameters?null:i.alertMessageParameters.VITAL_STAGE)),m.Db(4),m.Sc("color",m.mc(6,26,null==i?null:i.priority,"TEXT_COLOR",null==i||null==i.alertMessageParameters?null:i.alertMessageParameters.VITAL_STAGE)),m.sc("nzColor",m.mc(7,30,null==i?null:i.priority,"TAG_BG",null==i||null==i.alertMessageParameters?null:i.alertMessageParameters.VITAL_STAGE)),m.Db(3),m.rc("ngIf","Stage 3"==(null==i||null==i.alertMessageParameters?null:i.alertMessageParameters.VITAL_STAGE)),m.Db(1),m.Zc(" ",m.kc(10,34,m.lc(11,36,null==i?null:i.priority,"TEXT"))," "),m.Db(5),m.Zc(" ",m.lc(15,39,null==i?null:i.createdOn,"dd MMM | h:mm a")," "),m.Db(3),m.Zc(" ",null==i||null==i.patient?null:i.patient.fullName," "),m.Db(3),m.rc("ngIf","CONSENT_SUBMITTED"==i.type||"CAREPLAN_ASSIGNED"==i.type||"PRIORITISED"==i.type),m.Db(1),m.rc("ngIf","VITAL_LIMIT_CROSSED"==i.type||"FORM_ALERT"==i.type),m.Db(2),m.rc("ngIf","VITAL_LIMIT_CROSSED"==i.type||"FORM_ALERT"==i.type),m.Db(3),m.rc("ngIf","VITAL_LIMIT_CROSSED"==i.type),m.Db(1),m.rc("ngIf","FORM_ALERT"==i.type),m.Db(1),m.Sc("bottom","PRIORITISED"==(null==i?null:i.type)?"50px":"10px"),m.Db(4),m.Zc(" ",m.kc(33,42,"COMMON.VIEW")," "),m.Db(3),m.rc("ngIf","VERY_LOW"==(null==i?null:i.priority)),m.Db(1),m.rc("ngIf","PRIORITISED"==(null==i?null:i.type))}}function hd(t,e){if(1&t&&(m.Xb(0,"nz-list-item"),m.Vc(1,Bu,1,1,"nz-list-item-meta",12),m.Vc(2,bd,37,44,"ng-template",null,13,m.Wc),m.Wb()),2&t){var n=e.$implicit;m.Db(1),m.rc("ngIf",n)}}function gd(t,e){1&t&&m.Sb(0,"nz-list-empty")}var fd,vd=function(t){return{status:"OPEN",assignedStaffType:t}},md=((fd=function(){function t(e,n,i,a,o){u(this,t),this._alertService=e,this._router=n,this._notificationsService=i,this._dataSharingService=a,this._patientsEventLogger=o,this.patientType="ALL",this.priorityCount=[],this.alertCount=0,this.priority="ALL",this.destroy$=new En.a,this.status=Ru.a.OPEN,this.browserHeight=window.innerHeight-86+"px !important",this.listHeight=window.innerHeight-86-135+"px !important",this.linkedAlertVitals=[];var r=localStorage.getItem("loggedInUserBoundary");this.isAccessAcrossSubTenants=r==Lu.a.ACROSS_SUB_TENANTS}return p(t,[{key:"ngOnInit",value:function(){var t=this,e=localStorage.getItem("loggedInUserBoundary");this.isAccessAcrossSubTenants=e==Lu.a.ACROSS_SUB_TENANTS,this.ds=new Pu(this._alertService,this.patientType),this.priorityCount.ALL=0,this.fetchAlert(),Object(Rt.a)(window,"resize").pipe(Object(Vt.a)(50)).subscribe(function(e){t.browserHeight=window.innerHeight-86+"px !important",t.listHeight=window.innerHeight-86-142+"px !important"})}},{key:"fetchAlert",value:function(){var t=this;this.dsCountSubscribtion=this.ds.completedCount().subscribe(function(e){Object.keys(e.priorityCount).map(function(n){return t.priorityCount[n]=e.priorityCount[n]}),t.priorityCount.ALL=e.totalCount,t.updateAlertCount()})}},{key:"refresh",value:function(){this.dsSubscribed&&this.dsSubscribed.unsubscribe(),this.dsCountSubscribtion&&this.dsCountSubscribtion.unsubscribe(),this.ds.alertFetchRequest.offset=0,this.ds.fetchAlert(!0),this.fetchAlert(),this._dataSharingService.triggerAlertRefresh()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete(),this.dsCountSubscribtion.unsubscribe()}},{key:"updateAlertCount",value:function(){this.alertCount=0!=this.priorityCount.VERY_HIGH?this.priorityCount.VERY_HIGH:0}},{key:"startTimer",value:function(t){var e;this.timerRunning=!0,this.timedPatient=t;var n=localStorage.getItem("loggedInUserAccountType"),i=localStorage.getItem("loggedInUser"),a={attendeeId:null==t?void 0:t.patientId,attendeeName:null===(e=null==t?void 0:t.patient)||void 0===e?void 0:e.fullName,attenderId:"CARE_TAKER"===n?i:null};this._dataSharingService.setTimer({state:"START",data:a,showStickyNote:!0}),this.view(t)}},{key:"view",value:function(t){var e,n=this,i=!1,a=null;switch(t.type==Xu.a.PRIORITISED.toString()?(e=t.id,a=t.status,this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers,t.linkedAlerts.forEach(function(t,e){n.linkedAlertVitals[e]=t.alertContext.id}),t=t.linkedAlerts[0],i=!0):(this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers),this.alertId=t.id,this._patientsEventLogger.patientAlertEvent(t.patientId,"view_alert"),t.type){case"TODO_TASK_SKIPPED":this.viewSkippedTaskAlert(t);break;case"VITAL_LIMIT_CROSSED":this.viewVitalLimitAlert(t,e,a,i);break;case"FORM_ALERT":this.viewFormAlert(t);break;case"CAREPLAN_ASSIGNED":case"CONSENT_SUBMITTED":this.viewEpisode(t)}}},{key:"viewEpisode",value:function(t){this._router.navigate(["episodes/details/".concat(t.patientId,"/").concat(t.alertMessageParameters.EPISODE_ID)],{queryParams:{blueprintId:t.alertMessageParameters.EPISODE_BLUEPRINT_ID}})}},{key:"markAsClosed",value:function(t,e){var n=this;this._alertService.closeAlert(t).subscribe(function(t){n._patientsEventLogger.patientAlertEvent(e,"alert_mark_as_closed"),n._notificationsService.success("Success","Alert Closed Successfully"),n._dataSharingService.triggerAlertRefresh(),n.dsCountSubscribtion.unsubscribe(),n.refresh()})}},{key:"viewFormAlert",value:function(t){var e,n,i,a,o=null===(i=null===(n=null===(e=null==t?void 0:t.patient)||void 0===e?void 0:e.patientState)||void 0===n?void 0:n.assessmentScores)||void 0===i?void 0:i.filter(function(e){return e.name==t.raisedFor});this._router.navigate(["patient/assessment-trend",t.patientId],{queryParams:{patientId:t.patientId,alert:t.id,blueprintId:null===(a=null==o?void 0:o[0])||void 0===a?void 0:a.parentFormId,phoneNumbers:JSON.stringify(this.phoneNumbers)}})}},{key:"viewVitalLimitAlert",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._router.navigate(["patient/vital-trend",t.patientId],{queryParams:{patientId:t.patientId,patientName:this.patientName,dob:this.dob,isPrioritisedAlert:i,alertId:this.alertId,prioritisedAlertId:e,prioritisedAlertStatus:n,linkedVitals:JSON.stringify(this.linkedAlertVitals),phoneNumbers:JSON.stringify(this.phoneNumbers),tenantId:t.tenantId}})}},{key:"viewSkippedTaskAlert",value:function(t){var e,n,i;this._router.navigate(["patient/vital-trend",t.patientId],{queryParams:{patientId:t.patientId,patientName:null===(e=null==t?void 0:t.patient)||void 0===e?void 0:e.fullName,dob:null===(n=null==t?void 0:t.patient)||void 0===n?void 0:n.dateOfBirth,alert:JSON.stringify(t),phoneNumbers:JSON.stringify(null===(i=null==t?void 0:t.patient)||void 0===i?void 0:i.phoneNumbers),tenantId:t.patient.tenantId}})}}]),t}()).\u0275fac=function(t){return new(t||fd)(m.Rb(Mn.a),m.Rb(y.g),m.Rb(Z.b),m.Rb(k.a),m.Rb(Ou.a))},fd.\u0275cmp=m.Lb({type:fd,selectors:[["app-alerts"]],inputs:{patientType:"patientType"},decls:18,vars:10,consts:[[1,"alerts-container"],["nz-typography",""],["nz-typography","","nzType","danger"],[1,"alerts-count",2,"width","100%","display","flex"],[1,"total-alert-span"],[1,"view-all-link"],["routerLink","/alerts","routerLinkActive","active",3,"queryParams"],["nz-icon","","nzType","right-circle","nzTheme","fill"],["itemSize","72",1,"demo-infinite-container"],[3,"nzLoading"],[4,"cdkVirtualFor","cdkVirtualForOf"],[4,"ngIf"],[3,"nzDescription",4,"ngIf"],["card",""],[3,"nzDescription"],[1,"alert-card",3,"nzHoverable"],[1,"alert-card-priority-tag"],["nz-row",""],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","12","nzXl","12"],[1,"priority-tag",3,"nzColor"],["nz-typography","","nzType","secondary",1,"alert-date"],[4,"isAccessAcrossTenantEnabled"],["nz-row","","nzGutter","16"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","8","nzXl","8",1,"vital-sign"],["nz-row","",4,"ngIf"],["nz-typography","","nzEllipsis",""],["nz-col","","nzXs","12","nzSm","12","nzMd","12","nzLg","8","nzXl","8",1,"vital-sign","vital-sign-action",2,"z-index","101"],["nz-button","","nzType","link",3,"click"],[2,"color","var(--primary-color)"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","16","nzXl","16",1,"vital-sign"],["nz-typography","","nzType","secondary"],["nz-typography","","nzEllipsis","","nz-tooltip","",1,"detail-value",3,"nzTooltipTitle"],["nz-button","","nzType","link","nzDanger","",3,"click"],["nz-icon","","nzType","close-circle","nzTheme","fill"],["nzGhost",""],[3,"nzHeader","nzActive","nzShowArrow"],["p",""],["nzColor","green",3,"nzDot",4,"ngFor","ngForOf"],["customDot",""],["linkedAlertsTemplate",""],["nzColor","green",3,"nzDot"],[2,"width","100%","display","flex","flex-direction","row"],[2,"width","60%"],["nz-typography","","type","secondary",1,"detail-title","linked-detail-title"],["nz-typography","","type","primary",1,"detail-value","linked-detail-value"],[2,"width","40%","margin-left","2px"],[1,"alert-type"],["nzStatus","processing",3,"nzColor"],["nz-icon","","nzType","right-circle","nzTheme","fill",2,"font-size","16px","color","var(--primary-color)",3,"nzRotate"]],template:function(t,e){1&t&&(m.Xb(0,"nz-card",0),m.Xb(1,"h4",1),m.Xc(2," You have "),m.Xb(3,"label",2),m.Xc(4),m.Wb(),m.Sb(5,"br"),m.Xc(6," that need your immediate attention "),m.Wb(),m.Xb(7,"span",3),m.Xb(8,"span",4),m.Xc(9),m.Wb(),m.Xb(10,"span",5),m.Xb(11,"span",6),m.Xc(12," View All "),m.Sb(13,"span",7),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"cdk-virtual-scroll-viewport",8),m.Xb(15,"nz-list",9),m.Vc(16,hd,4,1,"nz-list-item",10),m.Vc(17,gd,1,0,"nz-list-empty",11),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(4),m.Zc("",e.alertCount," alerts"),m.Db(5),m.Zc(" Total alerts: ",e.priorityCount.ALL," "),m.Db(2),m.rc("queryParams",m.yc(8,vd,e.patientType)),m.Db(3),m.Sc("height",e.listHeight),m.Db(1),m.rc("nzLoading",null==e.ds?null:e.ds.loading),m.Db(1),m.rc("cdkVirtualForOf",e.ds),m.Db(1),m.rc("ngIf",0==(null==e.ds?null:e.ds.loading)&&0===e.priorityCount.ALL))},directives:[Tt.a,Q.a,y.h,y.i,nt.a,Et.a,wu.d,wu.a,Wu.a,wu.c,E.q,Wu.e,Wu.f,J.c,J.a,hi.a,Wn.a,tt.a,tn.d,Vu.a,Vu.c,xu.a,E.p,xu.b,Bn.a,Wu.b],pipes:[Uu.a,rt.a,E.e,Fu.a,Hu,E.A],styles:['.alerts-container[_ngcontent-%COMP%]{border-radius:5px;height:100%}.alerts-count[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:10px;display:block}.alert-card[_ngcontent-%COMP%]{background:var(--neutral-color) 0 0 no-repeat padding-box;margin-bottom:3px}[_nghost-%COMP%]     .ant-card-hoverable:hover{box-shadow:3px 5px 5px #00000036;background:#f1f1f1 0 0 no-repeat padding-box}.alert-card[_ngcontent-%COMP%] >   .ant-card-body{padding:10px 10px 10px 18px}nz-tag[_ngcontent-%COMP%]{font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px}.alert-date[_ngcontent-%COMP%]{font-size:10px;text-align:right;display:block;margin-top:6px}strong[_ngcontent-%COMP%]{font:normal normal 700 15px/40px Nunito}.vital-sign[_ngcontent-%COMP%]{font:normal normal 600 12px/20px Nunito;letter-spacing:-.28px}.demo-infinite-container[_ngcontent-%COMP%]{min-height:100%;border-radius:4px}nz-list[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]     .ant-list-item{padding:2px}.view-btn[_ngcontent-%COMP%]{background:#efefef 0 0 no-repeat padding-box;border-radius:25px;opacity:1;border:0 solid #efefef;margin:6px}.btn-text[_ngcontent-%COMP%]{font:normal normal normal 14px/26px Nunito;letter-spacing:-.32px;color:var(--light-black);opacity:1}.filter-container[_ngcontent-%COMP%]{padding:12px 40px;text-align:left;background-color:var(--neutral-color)}.view-btn[_ngcontent-xyg-c420][_ngcontent-%COMP%]{background:#efefef 0 0 no-repeat padding-box;border-radius:25px;opacity:1;border:0 solid #efefef;margin:6px}.ant-radio-button-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;height:32px;margin:0;padding:0 15px;color:var(--light-black);font-size:13px;line-height:30px;cursor:pointer;transition:color .3s,background .3s,border-color .3s,box-shadow .3s}.ant-layout[_ngcontent-%COMP%], .ant-layout[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, [class*=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before, [class^=ant-][_ngcontent-%COMP%], [class^=ant-][_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class^=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, [class^=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{box-sizing:border-box}[role=button][_ngcontent-%COMP%], a[_ngcontent-%COMP%], area[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:not([type=range]), label[_ngcontent-%COMP%], select[_ngcontent-%COMP%], summary[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{touch-action:manipulation}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}user[_ngcontent-%COMP%]   agent[_ngcontent-%COMP%]   stylesheet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:default}.ant-radio-group[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;color:rgba(15,32,21,.85);font-size:13px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum";display:inline-block;font-size:0;line-height:unset}.filter-container[_ngcontent-xyg-c420][_ngcontent-%COMP%]{padding:12px;text-align:center;background-color:var(--neutral-color)}body[_ngcontent-%COMP%]{margin:0;color:rgba(15,32,21,.85);font-size:13px;font-family:Nunito;font-variant:tabular-nums;line-height:1.5715;background-color:var(--light-grey);font-feature-settings:"tnum"}html[_ngcontent-%COMP%]{--antd-wave-shadow-color:var(--primary-color);--scroll-bar:0;font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:rgba(15,32,21,0)}.ant-radio-button-wrapper[_ngcontent-%COMP%]:not(:first-child):before{width:0}[_nghost-%COMP%]     .ant-radio-button-wrapper{margin:4px;border-top-width:1px;border-left-width:1px}[_nghost-%COMP%]     .ant-tag{background:#c6c6c6}[_nghost-%COMP%]     .ant-radio-group-solid .ant-radio-button-wrapper-checked:not(.ant-radio-button-wrapper-disabled){color:var(--primary-color);background:var(--neutral-color);border:1px solid}#last-updated-time[_ngcontent-%COMP%]{text-align:right;padding:10px;font:normal normal normal 11px/22px Nunito;letter-spacing:0;color:#959595;opacity:1}[_nghost-%COMP%]     .ant-btn-circle{border:none}[_nghost-%COMP%]     .ant-list-split .ant-list-item{border-bottom:none}.detail-value[_ngcontent-%COMP%]{padding:0 5px 0 0;text-align:left;font:normal normal 700 13.5px/23px Nunito;letter-spacing:-.36px;color:var(--light-black);opacity:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:0}.vital-sign-action[_ngcontent-%COMP%]{position:absolute;right:0;bottom:10px}.view-all-link[_ngcontent-%COMP%]{text-align:right;width:50%;padding-right:4px;color:var(--primary-color);cursor:pointer}.total-alert-span[_ngcontent-%COMP%]{width:50%;text-align:left;padding-left:4px}.view-all-link-btn[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]     .ant-affix{left:0!important}.priority-tag[_ngcontent-%COMP%]{font-size:.71vw}.alert-card-priority-tag[_ngcontent-%COMP%]{position:absolute;height:100%;width:8px;left:0;top:0;border-radius:10px 0 0 10px}.detail-title[_ngcontent-%COMP%]{height:19px;text-align:left;font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px;color:#888;opacity:1;display:inline-block;vertical-align:top;line-height:normal}.linked-detail-title[_ngcontent-%COMP%]{margin-bottom:1px}.linked-detail-value[_ngcontent-%COMP%]{margin-bottom:1px;font:normal normal 700 13px/23px Nunito}[_nghost-%COMP%]     .ant-timeline-item-head-custom{background:transparent;left:9px}[_nghost-%COMP%]     .ant-timeline-item-tail{border-left:2px solid #a6c853}[_nghost-%COMP%]     .ant-badge-status-dot{width:10px;height:10px}[_nghost-%COMP%]     .ant-collapse-ghost>.ant-collapse-item>.ant-collapse-content>.ant-collapse-content-box{padding-bottom:0}[_nghost-%COMP%]     .ant-badge-status-processing:after{border:1px solid #a6c853}[_nghost-%COMP%]     .ant-collapse>.ant-collapse-item.ant-collapse-no-arrow>.ant-collapse-header{padding-left:0}[_nghost-%COMP%]     nz-spin{min-height:200px}']}),fd),Sd=function(){return["MONITORING","ON_BOARDING"]},yd=function(){return["QUICK_VIEW"]},Td=function(){return["ALERTS"]};function Cd(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",1,2),m.Xb(2,"div",3),m.Xb(3,"div",4),m.Xb(4,"app-quick-progress",5),m.ec("onTenantChange",function(t){return m.Lc(n),m.ic().onTenantChange(t)}),m.Wb(),m.Sb(5,"br"),m.Xb(6,"section",6),m.Xb(7,"app-activities",7),m.ec("refresh",function(){return m.Lc(n),m.ic().refresh()})("patientTypeChange",function(t){return m.Lc(n),m.ic().selectedPatientType=t}),m.Wb(),m.Sb(8,"br"),m.Wb(),m.Xb(9,"section",6),m.Sb(10,"app-quick-view",8),m.Wb(),m.Wb(),m.Xb(11,"div",9),m.Xb(12,"nz-affix",10),m.Xb(13,"section",6),m.Sb(14,"app-alerts",8),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(15,"br"),m.Sb(16,"br"),m.Sb(17,"br"),m.Wb()}if(2&t){var i=m.Ic(1),a=m.ic();m.Db(4),m.rc("patientType",a.selectedPatientType),m.Db(2),m.rc("dashboardSections",m.xc(14,Sd)),m.Db(1),m.rc("patientType",a.selectedPatientType),m.Db(2),m.rc("dashboardSections",m.xc(15,yd)),m.Db(1),m.rc("patientType",a.selectedPatientType),m.Db(2),m.Sc("height",a.browserHeight),m.rc("nzTarget",i),m.Db(1),m.Sc("height",a.browserHeight),m.rc("dashboardSections",m.xc(16,Td)),m.Db(1),m.Sc("height",a.browserHeight),m.rc("patientType",a.selectedPatientType)}}var Ed,Id=((Ed=function(t){o(n,t);var e=c(n);function n(t,i,a){var o,r;u(this,n),(o=e.call(this))._dashboardService=t,o._dataSharingService=i,o._widgetsService=a,o.browserHeight=window.innerHeight-86+"px !important",o.selectedPatientType="ALL";var c=localStorage.getItem("loggedInUserRole"),s=localStorage.getItem("loggedInUserRoleName");return o.selectedPatientType=sessionStorage.getItem("patientType"),null==o.selectedPatientType&&(o.selectedPatientType=c!==oi.a.MONITORING_STAFF||(null===(r=null==s?void 0:s.toLowerCase())||void 0===r?void 0:r.includes("manager"))?"ALL":"PRIMARY",sessionStorage.setItem("patientType",o.selectedPatientType)),o}return p(n,[{key:"ngOnInit",value:function(){var t=this;this.loadData(),this._dataSharingService.onSubTenantChange().pipe(Object(In.a)(this.unsubscribed)).subscribe(function(e){return t.refresh()}),Object(Rt.a)(window,"resize").pipe(Object(Vt.a)(50)).subscribe(function(e){t.browserHeight=window.innerHeight-86+"px !important"})}},{key:"loadData",value:function(){var t=this;this._dashboardService.fetchEnabledWidgets().subscribe(function(e){t._widgetsService.setDashboardConfig(e),t.getWidgetPermissions()})}},{key:"getWidgetPermissions",value:function(){var t=this;this._dashboardService.fetchWidgetPermissions().subscribe(function(e){t._widgetsService.setWidgetPermissions(e),t.widgetPermissions=e,t.loaded=!0})}},{key:"refresh",value:function(){var t=this;this.loaded=!1,this._dashboardService.refreshCache().subscribe(function(){t.loaded=!0}),this._dataSharingService.triggerAlertRefresh()}}]),n}(Ec.a)).\u0275fac=function(t){return new(t||Ed)(m.Rb(ze.a),m.Rb(k.a),m.Rb(Oe.a))},Ed.\u0275cmp=m.Lb({type:Ed,selectors:[["dashboard"]],features:[m.Ab],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["target",""],["nz-row","","nzGutter","24"],["nz-col","","nzSpan","17"],[3,"patientType","onTenantChange"],[3,"dashboardSections"],[3,"patientType","refresh","patientTypeChange"],[3,"patientType"],["nz-col","","nzSpan","7",1,"alert-container"],["nzOffsetTop","20",3,"nzTarget"]],template:function(t,e){1&t&&m.Vc(0,Cd,18,17,"div",0),2&t&&m.rc("ngIf",e.loaded)},directives:[E.q,J.c,J.a,Yc,zc,Su,Du,zu.a,md],styles:[".container[_ngcontent-%COMP%]{padding-top:20px!important}.alert-container[_ngcontent-%COMP%]{height:99vh}.alert-section[_ngcontent-%COMP%]{position:fixed;height:99vh;width:93vh}"]}),Ed),Md=r("3pGX"),Ad=r("Nq9W"),_d=r("pLZG"),Dd=r("KupA");function zd(t,e){1&t&&(m.Xb(0,"th"),m.Xc(1," Sub Tenant "),m.Wb())}function Od(t,e){if(1&t&&(m.Xb(0,"span"),m.Xc(1),m.jc(2,"date"),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(1),m.Yc(m.lc(2,1,null==n?null:n.updatedOn,"MMM dd, yyyy"))}}function kd(t,e){1&t&&(m.Xb(0,"span"),m.Xc(1,"N/A"),m.Wb())}function Nd(t,e){if(1&t&&(m.Xb(0,"td"),m.Xc(1),m.jc(2,"tenantName"),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(1),m.Zc(" ",m.kc(2,1,n.tenantId)," ")}}function Pd(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-icons",10),m.ec("click",function(){m.Lc(n);var t=m.ic().$implicit;return m.ic().editCareplanTemplate(t.id)}),m.Wb()}}function Rd(t,e){if(1&t){var n=m.Yb();m.Xb(0,"span",11),m.ec("nzOnConfirm",function(){m.Lc(n);var t=m.ic().$implicit;return m.ic().deleteCareplanTemplate(t.id)}),m.jc(1,"translate"),m.Sb(2,"app-icons",12),m.Wb()}2&t&&m.sc("nzPopconfirmTitle",m.kc(1,1,"MESSAGE.DELETEMSG"))}function Xd(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-icons",13),m.ec("click",function(){m.Lc(n);var t=m.ic().$implicit;return m.ic().cloneCareplanTemplate(t.id)}),m.Wb()}}var Ld=function(){return["EDIT_CARE_PLAN_TEMPLATE"]},wd=function(){return["DELETE_CARE_PLAN_TEMPLATE"]};function Wd(t,e){if(1&t){var n=m.Yb();m.Xb(0,"tr"),m.Xb(1,"td",5),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().showCareplanTemplate(t.id)}),m.Xc(2),m.Wb(),m.Xb(3,"td"),m.Vc(4,Od,3,4,"span",6),m.Vc(5,kd,2,0,"span",6),m.Wb(),m.Vc(6,Nd,3,3,"td",3),m.Xb(7,"td"),m.Vc(8,Pd,1,0,"app-icons",7),m.Xc(9," \xa0\xa0 "),m.Vc(10,Rd,3,3,"span",8),m.Xc(11," \xa0\xa0 "),m.Vc(12,Xd,1,0,"app-icons",9),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit;m.Db(2),m.Yc(i.name),m.Db(2),m.rc("ngIf",null==i?null:i.updatedOn),m.Db(1),m.rc("ngIf",!(null!=i&&i.updatedOn)),m.Db(3),m.rc("isFeaturePermitted",m.xc(6,Ld)),m.Db(2),m.rc("isFeaturePermitted",m.xc(7,wd)),m.Db(2),m.rc("isFeaturePermitted",m.xc(8,Ld))}}var Vd,xd=function(){return{x:"1250px"}},Ud=((Vd=function(t){o(n,t);var e=c(n);function n(t,i,a,o,r,c){var s;return u(this,n),(s=e.call(this))._router=t,s._regimeService=i,s._partnerService=a,s._dataSharingService=o,s._notificationsService=r,s._careplanEventLogger=c,s.pageSize=mt.g.pageSize,s.totalCount=0,s.courses=[],s.loading=!1,s._routeHelperService.getSearch().pipe(Object(_d.a)(function(t){return null!==t}),Object(In.a)(s.unsubscribed)).subscribe(function(t){return s.applyFilter(t)}),s._routeHelperService.isPrimaryActionTriggered().pipe(Object(_d.a)(function(t){return!!t}),Object(In.a)(s.unsubscribed)).subscribe(function(){return s.createCareplanTemplate()}),s}return p(n,[{key:"ngOnInit",value:function(){var t=this;this.init(),this._dataSharingService.onSubTenantChange().pipe(Object(In.a)(this.unsubscribed)).subscribe(function(e){t.onSubTenantChange(e)})}},{key:"init",value:function(){var t=this;this.loading=!0,this._regimeService.getCourse(this.pageSize,0,this.requestTenantIds).subscribe(function(e){t.courses=e.body,t.totalCount=t._partnerService.getTotalCount(e.headers),t.loading=!1})}},{key:"onSubTenantChange",value:function(t){"object"!=typeof t||""==t||null==t||null==t?(this.requestTenantIds=void 0,this.init()):(this.requestTenantIds=t.join(),this.init())}},{key:"getCoursesOnPage",value:function(t){var e=this;this.loading=!0,this._regimeService.getCourse(this.pageSize,this.pageSize*t).subscribe(function(t){e.courses=t.body,e.loading=!1})}},{key:"getCources",value:function(t){this.getCoursesOnPage(t-1)}},{key:"applyFilter",value:function(t){var e=this;this._careplanEventLogger.careplanSearchEvent(t),""===t.trim()?this.ngOnInit():(this.loading=!0,this._regimeService.searchCourse(t,this.pageSize,0).subscribe(function(t){e.courses=t,e.loading=!1}))}},{key:"createCareplanTemplate",value:function(){this._careplanEventLogger.careplanActionEvent("","careplan_template_add"),this._router.navigate(["course/add"])}},{key:"showCareplanTemplate",value:function(t){this._careplanEventLogger.careplanActionEvent(t,"careplan_template_view"),this._router.navigate(["course/view",t])}},{key:"editCareplanTemplate",value:function(t){this._careplanEventLogger.careplanActionEvent(t,"careplan_template_edit"),this._router.navigate(["course/edit",t])}},{key:"deleteCareplanTemplate",value:function(t){var e=this;this._careplanEventLogger.careplanActionEvent(t,"careplan_template_delete"),this._regimeService.deleteBlueprint(t).subscribe(function(){e._notificationsService.success("Success","Careplan Template Deleted Successfully!"),e.ngOnInit()},function(t){e._notificationsService.error("Error","Unable To Delete: "+t.json().message)})}},{key:"cloneCareplanTemplate",value:function(t){this._careplanEventLogger.careplanActionEvent(t,"careplan_template_clone"),this._router.navigate(["course/clone",t])}}]),n}(Ec.a)).\u0275fac=function(t){return new(t||Vd)(m.Rb(y.g),m.Rb(Md.a),m.Rb(yc.a),m.Rb(k.a),m.Rb(Z.b),m.Rb(Ad.a))},Vd.\u0275cmp=m.Lb({type:Vd,selectors:[["app-regime"]],features:[m.Ab],decls:17,vars:18,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzFrontPagination","nzLoading","nzTotal","nzPageSize","nzScroll","nzPageIndexChange"],["courseTable",""],[4,"isAccessAcrossTenantEnabled"],[4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"],["name","edit",3,"click",4,"isFeaturePermitted"],["nz-popconfirm","",3,"nzPopconfirmTitle","nzOnConfirm",4,"isFeaturePermitted"],["name","clone",3,"click",4,"isFeaturePermitted"],["name","edit",3,"click"],["nz-popconfirm","",3,"nzPopconfirmTitle","nzOnConfirm"],["name","delete"],["name","clone",3,"click"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-table",1,2),m.ec("nzPageIndexChange",function(t){return e.getCources(t)}),m.Xb(3,"thead"),m.Xb(4,"tr"),m.Xb(5,"th"),m.Xc(6),m.jc(7,"translate"),m.Wb(),m.Xb(8,"th"),m.Xc(9),m.jc(10,"translate"),m.Wb(),m.Vc(11,zd,2,0,"th",3),m.Xb(12,"th"),m.Xc(13),m.jc(14,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(15,"tbody"),m.Vc(16,Wd,13,9,"tr",4),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(2);m.Db(1),m.rc("nzData",e.courses)("nzShowPagination",!0)("nzFrontPagination",!1)("nzLoading",e.loading)("nzTotal",e.totalCount)("nzPageSize",10)("nzScroll",m.xc(17,xd)),m.Db(5),m.Yc(m.kc(7,11,"COMMON.NAME")),m.Db(3),m.Yc(m.kc(10,13,"LAST_EDITED")),m.Db(4),m.Yc(m.kc(14,15,"TABLEHEADER.ACTIONS")),m.Db(3),m.rc("ngForOf",n.data)}},directives:[at.f,at.n,at.o,at.e,at.l,Wn.a,at.i,E.p,E.q,jn.a,Ct.a,Dd.a],pipes:[rt.a,E.e,Fu.a],styles:[".toolbar[_ngcontent-%COMP%]{width:80%;margin:0 auto}.toolbar[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{font-family:Lato}table[_ngcontent-%COMP%]{width:100%;margin:auto}td[_ngcontent-%COMP%]{color:grey}.headers[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#7e87a0;font-size:12px;font-weight:bolder}.paginator[_ngcontent-%COMP%]{width:100%;margin:0 auto 2%}.name[_ngcontent-%COMP%]{color:#000;font-weight:400}.actions[_ngcontent-%COMP%]{font-weight:bolder;color:var(--primary-color)}i[_ngcontent-%COMP%]{font-size:18px;margin-right:5px}[_nghost-%COMP%]     .ant-input-affix-wrapper .ant-input-suffix{right:0!important}"]}),Vd),Fd=r("mfqL"),Hd=r("4ik+");function Bd(t,e){1&t&&(m.Xb(0,"th"),m.Xc(1," Sub Tenant "),m.Wb())}function jd(t,e){if(1&t&&(m.Xb(0,"nz-tag"),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t){var n=e.$implicit;m.Db(1),m.Zc(" ",m.kc(2,1,n)," ")}}function Gd(t,e){if(1&t&&(m.Xb(0,"td"),m.Xc(1),m.jc(2,"tenantName"),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(1),m.Zc(" ",m.kc(2,1,n.tenantId)," ")}}function Yd(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-icons",7),m.ec("click",function(){m.Lc(n);var t=m.ic().$implicit;return m.ic().editTag(t.id)}),m.Wb()}}function qd(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-icons",8),m.ec("click",function(){m.Lc(n);var t=m.ic().$implicit;return m.ic().deleteTag(t.id)}),m.Wb()}}var Zd=function(){return["ADD_EDIT_TAG"]},Qd=function(){return["DELETE_TAG"]};function Kd(t,e){if(1&t&&(m.Xb(0,"tr"),m.Xb(1,"td"),m.Xc(2),m.Wb(),m.Xb(3,"td"),m.Vc(4,jd,3,3,"nz-tag",4),m.Wb(),m.Vc(5,Gd,3,3,"td",3),m.Xb(6,"td"),m.Vc(7,Yd,1,0,"app-icons",5),m.Xc(8," \xa0\xa0 "),m.Vc(9,qd,1,0,"app-icons",6),m.Wb(),m.Wb()),2&t){var n=e.$implicit;m.Db(2),m.Yc(n.name),m.Db(2),m.rc("ngForOf",n.appliesTo),m.Db(3),m.rc("isFeaturePermitted",m.xc(4,Zd)),m.Db(2),m.rc("isFeaturePermitted",m.xc(5,Qd))}}var Jd,$d=((Jd=function(t){o(n,t);var e=c(n);function n(t,i,a,o,r){var c;return u(this,n),(c=e.call(this))._tagService=t,c._router=i,c._partnerService=a,c._notificationsService=o,c._dataSharingService=r,c.totalCount=0,c.pageSize=mt.g.pageSize,c.tags=[],c.loading=!1,c._routeHelperService.isPrimaryActionTriggered().pipe(Object(Hd.filter)(function(t){return!!t}),Object(In.a)(c.unsubscribed)).subscribe(function(){return c.gotoAddTag()}),c}return p(n,[{key:"ngOnInit",value:function(){var t=this;this.loading=!0,this._dataSharingService.onSubTenantChange().subscribe(function(e){return t.onSubTenantChange(e)}),this._tagService.getTagsByLimit(this.pageSize,0).subscribe(function(e){t.tags=e.body,t.totalCount=t._partnerService.getTotalCount(e.headers),t.loading=!1})}},{key:"onSubTenantChange",value:function(t){"object"!=typeof t||""==t||null==t||null==t||(this.requestTenantIds=t),this.getTags(1)}},{key:"getTagsData",value:function(t){var e=this;this.loading=!0,this._tagService.getTagsByLimit(this.pageSize,this.pageSize*t).subscribe(function(t){e.tags=t.body,e.loading=!1})}},{key:"getTags",value:function(t){this.getTagsData(t-1)}},{key:"applyFilter",value:function(t){""===t.trim()?this.ngOnInit():this.tags=this.tags.filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())})}},{key:"deleteTag",value:function(t){var e=this;this._tagService.deleteTagById(t).subscribe(function(){e._notificationsService.success("Tags","Tag Deleted Successfully!!"),e.ngOnInit()},function(){e._notificationsService.error("Tags","Error While Deleting Tag!!")})}},{key:"gotoAddTag",value:function(){this._router.navigate(["tags/add"])}},{key:"editTag",value:function(t){this._router.navigate(["tags/edit",t])}}]),n}(Ec.a)).\u0275fac=function(t){return new(t||Jd)(m.Rb(Fd.a),m.Rb(y.g),m.Rb(yc.a),m.Rb(Z.b),m.Rb(k.a))},Jd.\u0275cmp=m.Lb({type:Jd,selectors:[["app-tag"]],features:[m.Cb([Fd.a,yc.a]),m.Ab],decls:17,vars:15,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzFrontPagination","nzTotal","nzLoading","nzPageIndexChange"],["tagsTable",""],[4,"isAccessAcrossTenantEnabled"],[4,"ngFor","ngForOf"],["name","edit",3,"click",4,"isFeaturePermitted"],["name","delete",3,"click",4,"isFeaturePermitted"],["name","edit",3,"click"],["name","delete",3,"click"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-table",1,2),m.ec("nzPageIndexChange",function(t){return e.getTags(t)}),m.Xb(3,"thead"),m.Xb(4,"tr"),m.Xb(5,"th"),m.Xc(6),m.jc(7,"translate"),m.Wb(),m.Xb(8,"th"),m.Xc(9),m.jc(10,"translate"),m.Wb(),m.Vc(11,Bd,2,0,"th",3),m.Xb(12,"th"),m.Xc(13),m.jc(14,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(15,"tbody"),m.Vc(16,Kd,10,6,"tr",4),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(2);m.Db(1),m.rc("nzData",e.tags)("nzShowPagination",!0)("nzFrontPagination",!1)("nzTotal",e.totalCount)("nzLoading",e.loading),m.Db(5),m.Yc(m.kc(7,9,"TABLEHEADER.NAME")),m.Db(3),m.Yc(m.kc(10,11,"TABLEHEADER.APPLIESTO")),m.Db(4),m.Yc(m.kc(14,13,"TABLEHEADER.ACTIONS")),m.Db(3),m.rc("ngForOf",n.data)}},directives:[at.f,at.n,at.o,at.e,at.l,Wn.a,at.i,E.p,jn.a,hi.a,Ct.a],pipes:[rt.a,Fu.a],styles:[".toolbar[_ngcontent-%COMP%]{margin:0 auto}.toolbar[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:80%;font-family:Lato}table[_ngcontent-%COMP%]{margin:auto}td[_ngcontent-%COMP%]{color:grey}.headers[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#7e87a0;font-size:12px;font-weight:bolder}.name[_ngcontent-%COMP%]{color:#000;font-weight:400}.actions[_ngcontent-%COMP%]{font-weight:bolder;color:var(--primary-color)}.mat-icon[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]     .ant-input-affix-wrapper .ant-input-suffix{right:0!important}"]}),Jd),tp=function t(){u(this,t)},ep=r("S5rh");function np(t,e){1&t&&(m.Xb(0,"label",6),m.Xc(1,"Required"),m.Wb())}function ip(t,e){if(1&t&&m.Sb(0,"nz-option",7),2&t){var n=e.$implicit;m.rc("nzLabel",n.itemName)("nzValue",n.id)}}function ap(t,e){1&t&&(m.Xb(0,"label",6),m.Xc(1,"Required"),m.Wb())}var op,rp,cp,sp=function(t){return{border:t}},lp=function(t){return{"required-input":t}},up=((cp=function(){function t(e,n){u(this,t),this.translateService=e,this.tagService=n,this.dropDownDefault="",this.dropdownList=[],this.dropdownSettings={},this.appliesToList=[{id:"PATIENT",name:"COMMON.RESIDENT"},{id:"CARE_TAKER",name:"TITLE.CARETAKERS"},{id:"FORM",name:"COMMON.SURVEYFORM"},{id:"CAREPLAN",name:"COMMON.CAREPLAN"}]}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.appliesToList.forEach(function(e){var n={};n.id=e.id,n.itemName=e.name,t.translateService.get(e.name).subscribe(function(e){n.itemName=e,t.dropdownList.push(n)})}),"Add"===this.mode||this.tagService.getTagById(this.id).subscribe(function(e){t.clone(e),e.appliesTo.forEach(function(e){var n={};n.id=e,n.itemName="PATIENT"===e?"Patient":"CARE_TAKER"===e?"Caretaker":e,t.selectedItems.push(n)})})}},{key:"clone",value:function(t){if(null===t||"object"!=typeof t)return t;for(var e in t)t.hasOwnProperty(e)&&(this.tag[e]=t[e])}},{key:"ngDoCheck",value:function(){if(document.getElementsByClassName("list-filter")[0]){var t=document.getElementsByClassName("list-filter")[0].lastElementChild;t&&(t.style.width="88%")}}}]),t}()).\u0275fac=function(t){return new(t||cp)(m.Rb(Jt.a),m.Rb(Fd.a))},cp.\u0275cmp=m.Lb({type:cp,selectors:[["tag-form"]],inputs:{tag:"tag",id:"id",mode:"mode",selectedItems:"selectedItems",tagValidations:"tagValidations"},features:[m.Cb([Fd.a])],decls:27,vars:32,consts:[[1,"tags-card"],["nz-input","","required","",3,"placeholder","ngModel","value","ngStyle","ngModelChange"],["nz-typography","","nzType","danger","style","float: right;",4,"ngIf"],["nz-input","","required","",3,"placeholder","ngModel","value","ngModelChange"],["nzMode","multiple","nzPlaceHolder","Please select",2,"width","100%",3,"ngModel","ngClass","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-typography","","nzType","danger",2,"float","right"],[3,"nzLabel","nzValue"]],template:function(t,e){1&t&&(m.Xb(0,"nz-card",0),m.Xb(1,"h3"),m.Xc(2),m.jc(3,"translate"),m.Wb(),m.Sb(4,"nz-divider"),m.Sb(5,"br"),m.Sb(6,"br"),m.Xb(7,"div"),m.Xb(8,"label"),m.Xc(9),m.jc(10,"translate"),m.Wb(),m.Xb(11,"input",1),m.ec("ngModelChange",function(t){return e.tag.name=t}),m.jc(12,"translate"),m.Wb(),m.Vc(13,np,2,0,"label",2),m.Wb(),m.Xb(14,"div"),m.Xb(15,"label"),m.Xc(16),m.jc(17,"translate"),m.Wb(),m.Xb(18,"input",3),m.ec("ngModelChange",function(t){return e.tag.description=t}),m.jc(19,"translate"),m.Wb(),m.Wb(),m.Xb(20,"div"),m.Xb(21,"label"),m.Xc(22),m.jc(23,"translate"),m.Wb(),m.Xb(24,"nz-select",4),m.ec("ngModelChange",function(t){return e.tag.appliesTo=t}),m.Vc(25,ip,1,2,"nz-option",5),m.Wb(),m.Vc(26,ap,2,0,"label",2),m.Wb(),m.Wb()),2&t&&(m.Db(2),m.Yc(m.kc(3,16,"COMMON.TAGINFO")),m.Db(7),m.Yc(m.kc(10,18,"COMMON.NAME")),m.Db(2),m.sc("placeholder",m.kc(12,20,"COMMON.NAME")),m.rc("ngModel",e.tag.name)("value",e.tag.name)("ngStyle",m.yc(28,sp,e.tagValidations.emptyName&&!e.tag.name?"1px solid red":"")),m.Db(2),m.rc("ngIf",e.tagValidations.emptyName&&!e.tag.name),m.Db(3),m.Yc(m.kc(17,22,"COMMON.DESCRIPTION")),m.Db(2),m.sc("placeholder",m.kc(19,24,"COMMON.DESCRIPTION")),m.rc("ngModel",e.tag.description)("value",e.tag.description),m.Db(4),m.Yc(m.kc(23,26,"TAG.CHOOSE_ENTITY_THIS_TAG_APPLIES_TO")),m.Db(2),m.rc("ngModel",e.tag.appliesTo)("ngClass",m.yc(30,lp,e.tagValidations.emptyEntities&&!((null==e.tag.appliesTo?null:e.tag.appliesTo.length)>0))),m.Db(1),m.rc("ngForOf",e.dropdownList),m.Db(1),m.rc("ngIf",e.tagValidations.emptyEntities&&!((null==e.tag.appliesTo?null:e.tag.appliesTo.length)>0)))},directives:[Tt.a,K.a,zo.b,I.d,I.C,I.u,I.x,E.r,E.q,it.d,E.o,E.p,Q.a,it.a],pipes:[rt.a],styles:[".tags-card[_ngcontent-%COMP%]{margin:2%;min-height:85vh}.mat-form-field[_ngcontent-%COMP%]{width:85%!important}  .selected-list .c-list .c-token{padding:10px 25px 10px 8px!important;border-radius:15px!important;background-color:#ffefd5}div[_ngcontent-%COMP%]{width:25%;height:50px;display:inline-block}div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-left:5%}[_nghost-%COMP%]     nz-select-top-control{border:1px solid #d9d9d9!important}.required-input[_ngcontent-%COMP%]     nz-select-top-control{border:1px solid red!important}"]}),cp),dp=((rp=function(t){o(n,t);var e=c(n);function n(t,i,a,o,r,c){var s;return u(this,n),(s=e.call(this)).tagService=t,s._router=i,s.translateService=a,s._notificationsService=o,s.route=r,s._location=c,s.selectedItems=[],s.modeType="Add",s.tag=new tp,s.tagValidations={emptyName:!1,emptyEntities:!1},s}return p(n,[{key:"ngOnInit",value:function(){var t="";if(this.modeType="Add",this.tag=new tp,this.route.params.forEach(function(e){t=e.id}),t)this.modeType="Edit",this.id=t,this.showTenantToggle=!1;else{this.modeType="Add",this.showTenantToggle=this.isAccessAcrossSubTenants;var e=localStorage.getItem("loggedInUserAssignedTenants");this.tag.tenantId=e.split(",")[0]}}},{key:"saveTag",value:function(){if(null==this.tag.tenantId||null==this.tag.tenantId)return this._notificationsService.error("Tag","Please choose a sub tenant."),void(this.showSubtenantChooseError=!0);this.tagValidations={emptyName:!1,emptyEntities:!1},this.tag.name&&""!=this.tag.name&&0!==this.tag.name.length||(this.tagValidations.emptyName=!0),this.tag.appliesTo&&null!==this.tag.appliesTo&&0!==this.tag.appliesTo.length||(this.tagValidations.emptyEntities=!0),this.tagValidations.emptyName||this.tagValidations.emptyEntities||("Add"===this.modeType?this.createTag():this.updateTag())}},{key:"onSubTenantChange",value:function(t){(t||null!=t)&&(this.showSubtenantChooseError=!0),this.tag.tenantId=t}},{key:"createTag",value:function(){var t=this;this.tagService.create(this.tag).subscribe(function(){t.translateService.get("ERROR.TAGSUCCESS").subscribe(function(e){t._notificationsService.success("Success",e)}),t._router.navigate(["tags"])},function(e){var n;t._notificationsService.error("Tags",null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)})}},{key:"updateTag",value:function(){var t=this;this.tagService.update(this.tag).subscribe(function(){t.translateService.get("ERROR.TAGUPDATESUCCESS").subscribe(function(e){t._notificationsService.success("Success",e)}),t._router.navigate(["tags"])},function(e){var n;t._notificationsService.error("Tags",null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.message)})}},{key:"cancel",value:function(t){this._router.navigate([t])}},{key:"goBack",value:function(){this._location.back()}}]),n}(Ec.a)).\u0275fac=function(t){return new(t||rp)(m.Rb(Fd.a),m.Rb(y.g),m.Rb(Jt.a),m.Rb(Z.b),m.Rb(y.a),m.Rb(E.l))},rp.\u0275cmp=m.Lb({type:rp,selectors:[["app-tagopr"]],features:[m.Cb([Fd.a,yc.a]),m.Ab],decls:8,vars:12,consts:[["title","addTags",3,"defaultTitle","isSearchEnabled","actionTitle","action"],[1,"container"],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","6","nzOffset","18"],["mode","SINGLE",3,"onSubTenantSelected"],[3,"mode","selectedItems","tag","id","tagValidations","selectedItemsChange","tagChange","idChange","tagValidationsChange"]],template:function(t,e){1&t&&(m.Xb(0,"app-header",0),m.ec("action",function(){return e.saveTag()}),m.jc(1,"translate"),m.jc(2,"translate"),m.Wb(),m.Xb(3,"div",1),m.Xb(4,"div",2),m.Xb(5,"div",3),m.Xb(6,"sub-tenant-select",4),m.ec("onSubTenantSelected",function(t){return e.onSubTenantChange(t)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(7,"tag-form",5),m.ec("selectedItemsChange",function(t){return e.selectedItems=t})("tagChange",function(t){return e.tag=t})("idChange",function(t){return e.id=t})("tagValidationsChange",function(t){return e.tagValidations=t}),m.Wb(),m.Wb()),2&t&&(m.sc("defaultTitle",m.kc(1,8,"FORM.TAG")),m.tc("actionTitle"," ",m.kc(2,10,"TABLEHEADER.SAVE")," "),m.rc("isSearchEnabled",!1),m.Db(7),m.rc("mode",e.modeType)("selectedItems",e.selectedItems)("tag",e.tag)("id",e.id)("tagValidations",e.tagValidations))},directives:[ep.a,J.c,J.a,qn.a,up],pipes:[rt.a],styles:[""]}),rp),pp=((op=function(){function t(e){u(this,t),this._http=e,this.rootUrl=mt.g.url}return p(t,[{key:"authorizePCC",value:function(t){var e,n=new Headers;return n.append("Content-Type","application/json"),n.append("Accept","application/json"),e=localStorage.getItem("loggedInTenant"),n.append("X-Auth-Token",localStorage.getItem("sessionToken")),this._http.get(this.rootUrl+"/v2/pcc/authorizePCC/"+e+"?code="+t,{responseType:"text"})}}]),t}()).\u0275fac=function(t){return new(t||op)(m.bc(C.c))},op.\u0275prov=m.Nb({token:op,factory:op.\u0275fac}),op);function bp(t,e){1&t&&m.Sb(0,"nz-spin",4),2&t&&m.rc("nzSize","large")}function hp(t,e){1&t&&m.Sb(0,"nz-alert",5)}function gp(t,e){if(1&t&&m.Sb(0,"nz-alert",6),2&t){var n=m.ic();m.rc("nzDescription",n.message)}}var fp,vp,mp=((vp=function(){function t(e,n){u(this,t),this.callbackService=e,this.activatedRoute=n,this.message="Please wait, Integration with PCC in progress",this.progress=!1,this.successful=!1}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.queryParams.subscribe(function(e){var n=e.code;t.progress=!0;try{t.callbackService.authorizePCC(n).subscribe(function(){t.progress=!1,t.successful=!0,t.message="Integration Completed"},function(){t.progress=!1,t.successful=!1,t.message="Problem occured, please try agian"})}catch(i){t.progress=!1,t.successful=!1,t.message="Problem occured, please try agian"}})}}]),t}()).\u0275fac=function(t){return new(t||vp)(m.Rb(pp),m.Rb(y.a))},vp.\u0275cmp=m.Lb({type:vp,selectors:[["app-callback"]],features:[m.Cb([pp])],decls:4,vars:3,consts:[[2,"display","flex","justify-content","center","align-items","center","height","100vh"],["nzSimple","",3,"nzSize",4,"ngIf"],["nzType","success","nzMessage","Integration Successful","nzDescription","Point Click Care Sync takes 10-15 minutes, please wait.","nzShowIcon","",4,"ngIf"],["nzType","error","nzMessage","Error","nzShowIcon","",3,"nzDescription",4,"ngIf"],["nzSimple","",3,"nzSize"],["nzType","success","nzMessage","Integration Successful","nzDescription","Point Click Care Sync takes 10-15 minutes, please wait.","nzShowIcon",""],["nzType","error","nzMessage","Error","nzShowIcon","",3,"nzDescription"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Vc(1,bp,1,1,"nz-spin",1),m.Vc(2,hp,1,0,"nz-alert",2),m.Vc(3,gp,1,1,"nz-alert",3),m.Wb()),2&t&&(m.Db(1),m.rc("ngIf",e.progress),m.Db(1),m.rc("ngIf",!e.progress&&e.successful),m.Db(1),m.rc("ngIf",!e.progress&&!e.successful))},directives:[E.q,Ze.a,ts.a],styles:[""]}),vp),Sp=((fp=function(){function t(e){u(this,t),this._http=e,this.rootUrl=mt.g.url}return p(t,[{key:"getAllCareplans",value:function(){return this._http.get(this.rootUrl+"/v2/careplanview/patients/"+localStorage.getItem("loggedInTenant"))}}]),t}()).\u0275fac=function(t){return new(t||fp)(m.bc(C.c))},fp.\u0275prov=m.Nb({token:fp,factory:fp.\u0275fac}),fp);function yp(t,e){1&t&&(m.Xb(0,"th"),m.Xc(1," Sub Tenant "),m.Wb())}function Tp(t,e){if(1&t&&(m.Xb(0,"td"),m.Xc(1),m.jc(2,"tenantName"),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(1),m.Zc(" ",m.kc(2,1,n.tenantId)," ")}}function Cp(t,e){if(1&t){var n=m.Yb();m.Xb(0,"tr",5),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().showCareplan(t)}),m.Xb(1,"td"),m.Xc(2),m.Wb(),m.Vc(3,Tp,3,3,"td",3),m.Xb(4,"td"),m.Xc(5),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit;m.Db(2),m.Yc(i.careplanName),m.Db(3),m.Yc(i.numOfPatients)}}var Ep,Ip=((Ep=function(t){o(n,t);var e=c(n);function n(t,i,a){var o;return u(this,n),(o=e.call(this))._careplanService=t,o.router=i,o._dataSharingService=a,o.filterVisible=!1,o.searchKey="",o.totalCount=0,o.pageSize=mt.g.pageSize,o.careplans=[],o.loading=!1,o}return p(n,[{key:"ngOnInit",value:function(){var t=this;this.init(),this._dataSharingService.onSubTenantChange().pipe(Object(In.a)(this.unsubscribed)).subscribe(function(e){t.onSubTenantChange(e)})}},{key:"init",value:function(){var t=this;this.loading=!0,this._careplanService.getAllCareplans().subscribe(function(e){t.careplans=e,t.totalCount=t.careplans.length,t.loading=!1})}},{key:"showCareplan",value:function(t){this._dataSharingService.careplanDetails.next(t),this.router.navigate(["careplans/details"])}},{key:"onSubTenantChange",value:function(t){"object"!=typeof t||""==t||null==t||null==t||(this.requestTenantIds=t.join()),this.init()}}]),n}(Ec.a)).\u0275fac=function(t){return new(t||Ep)(m.Rb(Sp),m.Rb(y.g),m.Rb(k.a))},Ep.\u0275cmp=m.Lb({type:Ep,selectors:[["app-cplan-assigments"]],features:[m.Cb([Sp,Md.a]),m.Ab],decls:14,vars:10,consts:[[1,"container"],[3,"nzData","nzShowPagination","nzLoading"],["careplanTable",""],[4,"isAccessAcrossTenantEnabled"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-table",1,2),m.Xb(3,"thead"),m.Xb(4,"tr"),m.Xb(5,"th"),m.Xc(6),m.jc(7,"translate"),m.Wb(),m.Vc(8,yp,2,0,"th",3),m.Xb(9,"th"),m.Xc(10),m.jc(11,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(12,"tbody"),m.Vc(13,Cp,6,2,"tr",4),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(2);m.Db(1),m.rc("nzData",e.careplans)("nzShowPagination",!0)("nzLoading",e.loading),m.Db(5),m.Yc(m.kc(7,6,"TABLEHEADER.PLANS")),m.Db(4),m.Yc(m.kc(11,8,"TABLEHEADER.NUMOFPATIENT")),m.Db(3),m.rc("ngForOf",n.data)}},directives:[at.f,at.n,at.o,at.e,at.l,Wn.a,at.i,E.p],pipes:[rt.a,Fu.a],styles:[".mdl-data-table[_ngcontent-%COMP%]{width:100%;margin-top:40px}.collapse[_ngcontent-%COMP%]   .collapse-section[_ngcontent-%COMP%], .collapseZone[_ngcontent-%COMP%]   .collapseZone-section[_ngcontent-%COMP%]{display:none}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar{width:.3em}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.mdl-dialog[_ngcontent-%COMP%]{max-height:500px}.errorMsg[_ngcontent-%COMP%]{color:red;font-size:8px}.errorMsgOverall[_ngcontent-%COMP%]{color:red;font-size:10px;font-weight:700}.contentpadding[_ngcontent-%COMP%]{padding:30px}.parent[_ngcontent-%COMP%]{margin:auto;display:flex;height:80%;width:80%}.child[_ngcontent-%COMP%]{margin:auto;max-width:100%;padding:40px;max-height:100%}div[_ngcontent-%COMP%]::-webkit-scrollbar{width:.3em}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.toolbar[_ngcontent-%COMP%]{width:80%;margin:0 auto}.toolbar[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{font-family:Lato}table[_ngcontent-%COMP%]{width:100%;margin:auto}td[_ngcontent-%COMP%]{color:grey}.headers[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#7e87a0;font-size:12px;font-weight:bolder}.paginator[_ngcontent-%COMP%]{margin:0 auto 2%}.name[_ngcontent-%COMP%]{color:#000;font-weight:400}.actions[_ngcontent-%COMP%]{font-weight:bolder;color:var(--primary-color)}"]}),Ep),Mp=r("bA60"),Ap=r("cauy"),_p=r("ZFQP"),Dp=r("WvvJ");function zp(t,e){if(1&t&&(m.Xb(0,"tr"),m.Xb(1,"td"),m.Xc(2),m.Wb(),m.Xb(3,"td"),m.Xc(4),m.Wb(),m.Wb()),2&t){var n=e.$implicit,i=m.ic();m.Db(2),m.Yc(n),m.Db(2),m.Yc(i.parameters[n])}}var Op,kp=((Op=function(){function t(e,n,i,a){u(this,t),this._notificationsService=e,this._route=n,this._modalService=i,this._modalRef=a}return p(t,[{key:"ngOnInit",value:function(){try{this.parameters=JSON.parse(this.actionItem.vitalContext.parameters)}catch(t){this._notificationsService.error("Vitals","Invalid Data Encountered!"),this.closeDialog()}this.parameters||(this._notificationsService.error("Vitals","No Data Available!"),this.closeDialog()),this.parameterKeys=Object.keys(this.parameters),this.careplanId=this._route.snapshot.queryParams.careplanId}},{key:"viewGraph",value:function(){this.closeDialog(),this._modalService.create({nzContent:Dp.a,nzComponentParams:{vitalType:this.actionItem.vitalContext.vitalType,patientId:this.patientId,patientName:this.patientName},nzBodyStyle:{background:"#EFF2F0 0% 0% no-repeat padding-box"},nzWidth:window.innerWidth-.2*window.innerWidth,nzClosable:!1,nzFooter:null})}},{key:"closeDialog",value:function(){this._modalRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Op)(m.Rb(Z.b),m.Rb(y.a),m.Rb(q.f),m.Rb(q.e))},Op.\u0275cmp=m.Lb({type:Op,selectors:[["app-vital-parameters"]],inputs:{actionItem:"actionItem",patientId:"patientId",patientName:"patientName"},decls:16,vars:10,consts:[["nzTemplateMode","true"],["id","head"],["id","value"],[4,"ngFor","ngForOf"],[1,"right-aligner"],["nz-button","","nzType","primary",3,"click"]],template:function(t,e){1&t&&(m.Xb(0,"nz-table",0),m.Xb(1,"thead"),m.Xb(2,"tr"),m.Xb(3,"th",1),m.Xc(4),m.jc(5,"translate"),m.Wb(),m.Xb(6,"th",2),m.Xc(7),m.jc(8,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"tbody"),m.Vc(10,zp,5,2,"tr",3),m.Wb(),m.Wb(),m.Sb(11,"br"),m.Xb(12,"div",4),m.Xb(13,"button",5),m.ec("click",function(){return e.viewGraph()}),m.Xc(14),m.jc(15,"translate"),m.Wb(),m.Wb()),2&t&&(m.Db(4),m.Zc("",m.kc(5,4,"VITAL")," "),m.Db(3),m.Yc(m.kc(8,6,"COMMON.VALUE")),m.Db(3),m.rc("ngForOf",e.parameterKeys),m.Db(4),m.Zc(" ",m.kc(15,8,"COMMON.VITAL_HISTORY_GRAPH")," "))},directives:[at.f,at.n,at.o,at.e,at.l,at.i,E.p,tt.a,et.a,nt.a],pipes:[rt.a],styles:[".right-aligner[_ngcontent-%COMP%]{text-align:right}"]}),Op);function Np(t,e){if(1&t&&(m.Xb(0,"nz-table",4),m.Xb(1,"thead"),m.Xb(2,"tr"),m.Xb(3,"th"),m.Xc(4),m.jc(5,"translate"),m.Wb(),m.Xb(6,"th"),m.Xc(7),m.jc(8,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"tbody"),m.Xb(10,"tr"),m.Xb(11,"td"),m.Xc(12),m.Wb(),m.Xb(13,"td"),m.Xc(14),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.ic();m.Db(4),m.Zc("",m.kc(5,4,"SCORE")," "),m.Db(3),m.Yc(m.kc(8,6,"COMMON.RISK")),m.Db(5),m.Yc(n.score),m.Db(2),m.Yc(n.risk||"NONE")}}var Pp,Rp,Xp=((Pp=function(){function t(e,n,i,a){u(this,t),this._notificationsService=e,this._modalRef=n,this.translationService=i,this.router=a}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.score||this.risk||this.formId||this.title||(this.translationService.get("ERROR.NO_DATA_AVAILABLE").subscribe(function(e){t._notificationsService.error("Form",e)}),this.closeDialog())}},{key:"viewForms",value:function(){this.closeDialog(),this.router.navigateByUrl("/form/evalforms/view/"+this.formId)}},{key:"closeDialog",value:function(){this._modalRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Pp)(m.Rb(Z.b),m.Rb(q.e),m.Rb(Jt.a),m.Rb(y.g))},Pp.\u0275cmp=m.Lb({type:Pp,selectors:[["app-form-popup"]],inputs:{score:"score",risk:"risk",formId:"formId",title:"title"},decls:9,vars:5,consts:[[1,"right-aligner"],[2,"float","left"],["nzTemplateMode","true",4,"ngIf"],["nz-button","","nzType","primary",3,"click"],["nzTemplateMode","true"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"label",1),m.Xc(2),m.Wb(),m.Wb(),m.Vc(3,Np,15,8,"nz-table",2),m.Sb(4,"br"),m.Xb(5,"div",0),m.Xb(6,"button",3),m.ec("click",function(){return e.viewForms()}),m.Xc(7),m.jc(8,"translate"),m.Wb(),m.Wb()),2&t&&(m.Db(2),m.Yc(e.title),m.Db(1),m.rc("ngIf",null!==e.score),m.Db(4),m.Zc(" ",m.kc(8,3,"COMMON.VIEW_FORM"),""))},directives:[E.q,tt.a,et.a,nt.a,at.f,at.n,at.o,at.e,at.l,at.i],pipes:[rt.a],styles:[".right-aligner[_ngcontent-%COMP%]{text-align:right}"]}),Pp),Lp=r("PScX"),wp=["*"],Wp=((Rp=function(){function t(){u(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Rp)},Rp.\u0275cmp=m.Lb({type:Rp,selectors:[["app-card-table"]],ngContentSelectors:wp,decls:3,vars:0,template:function(t,e){1&t&&(m.qc(),m.Xb(0,"nz-card"),m.Xb(1,"table"),m.pc(2),m.Wb(),m.Wb())},directives:[Tt.a],styles:["table[_ngcontent-%COMP%]{table-layout:fixed;width:100%;border-collapse:collapse}[_nghost-%COMP%]     thead td{font-family:Lato,sans-serif;font-weight:700;font-size:12px;padding-top:14px;padding-bottom:14px;color:#999}[_nghost-%COMP%]     td{width:50%;padding-bottom:10px;padding-top:10px}[_nghost-%COMP%]     tr{border-bottom:1px solid #ddd}[_nghost-%COMP%]     tbody tr:last-child{border-bottom:none}"]}),Rp);function Vp(t,e){if(1&t&&m.Sb(0,"app-header",7),2&t){var n=m.ic();m.uc("prefix","",null==n.user?null:n.user.firstName," ",null==n.user?null:n.user.lastName,"'s"),m.rc("isSearchEnabled",!1)("isActionEnabled",!1)}}function xp(t,e){1&t&&(m.Xb(0,"div",8),m.Sb(1,"nz-spin",9),m.Wb()),2&t&&(m.Db(1),m.rc("nzSize","large"))}function Up(t,e){1&t&&m.Sb(0,"nz-empty",10)}function Fp(t,e){if(1&t&&(m.Xb(0,"div"),m.Xb(1,"div"),m.Xc(2),m.Wb(),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(2),m.Yc(n.title.length>18?n.title.substring(0,18).concat("..."):n.title)}}function Hp(t,e){if(1&t&&(m.Xb(0,"div"),m.Xc(1),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(1),m.Zc(" ",n.title.length>18?n.title.substring(0,18).concat("..."):n.title," ")}}function Bp(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-icons",21),m.ec("click",function(){m.Lc(n);var t=m.ic(2).$implicit;return m.ic(3).showVitalParameters(t)}),m.jc(1,"translate"),m.Wb()}2&t&&m.sc("nzTitle",m.kc(1,1,"ACTION_ITEM.VIEW_VITAL_PARAMETERS"))}function jp(t,e){if(1&t){var n=m.Yb();m.Xb(0,"app-icons",21),m.ec("click",function(){m.Lc(n);var t=m.ic(2).$implicit,e=m.ic(3),i=m.Ic(5);return e.showFormModal(t,i)}),m.jc(1,"translate"),m.Wb()}2&t&&m.sc("nzTitle",m.kc(1,1,"ACTION_ITEM.FORM_SUBMISSION"))}function Gp(t,e){if(1&t&&(m.Xb(0,"div"),m.Xb(1,"span",19),m.Xc(2,"Yes"),m.Wb(),m.Xc(3," \xa0\xa0 "),m.Vc(4,Bp,2,3,"app-icons",20),m.Vc(5,jp,2,3,"app-icons",20),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(4),m.rc("ngIf","VITAL"===n.contextType),m.Db(1),m.rc("ngIf","SCORED_ASSESSMENT"===n.entityType&&("FORM"===n.type||"WEB_FORM"===n.type))}}function Yp(t,e){1&t&&(m.Xb(0,"span",22),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Yc(m.kc(2,1,"COMMON.NO")))}function qp(t,e){if(1&t){var n=m.Yb();m.Xb(0,"tr"),m.Xb(1,"td",14),m.Vc(2,Fp,3,1,"div",15),m.Vc(3,Hp,2,1,"div",15),m.Wb(),m.Xb(4,"td"),m.Xc(5),m.jc(6,"translate"),m.Wb(),m.Xb(7,"td"),m.Vc(8,Gp,6,2,"div",16),m.Vc(9,Yp,3,3,"ng-template",null,17,m.Wc),m.Wb(),m.Xb(11,"td"),m.Xb(12,"app-icons",18),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic(3).showFeedback(t)}),m.Wb(),m.Wb(),m.Xb(13,"td"),m.Xc(14),m.Wb(),m.Xb(15,"td"),m.Xc(16),m.jc(17,"date"),m.jc(18,"date"),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit,a=m.Ic(10);m.Db(1),m.sc("title",i.title),m.Db(1),m.rc("ngIf","FORM"==i.type||"WEB_FORM"==i.type),m.Db(1),m.rc("ngIf","FORM"!=i.type&&"WEB_FORM"!==i.type),m.Db(2),m.Yc(m.kc(6,8,i.type)),m.Db(3),m.rc("ngIf",i.completed)("ngIfElse",a),m.Db(6),m.Yc(i.timeSlot||"N/A"),m.Db(2),m.Zc(" ",null!=i&&i.completedAt?m.lc(17,10,(null==i?null:i.completedAt)+"Z","medium"):null!=i&&i.completedOn?m.lc(18,13,null==i?null:i.completedOn,"medium"):"N/A"," ")}}function Zp(t,e){if(1&t&&(m.Xb(0,"tbody"),m.Xb(1,"tr",13),m.Xb(2,"td"),m.Xc(3),m.Wb(),m.Sb(4,"td"),m.Sb(5,"td"),m.Sb(6,"td"),m.Sb(7,"td"),m.Sb(8,"td"),m.Wb(),m.Vc(9,qp,19,16,"tr",6),m.Wb()),2&t){var n=e.$implicit,i=m.ic(2);m.Db(3),m.Yc(n),m.Db(6),m.rc("ngForOf",i.getActionItemByDate(n))}}function Qp(t,e){if(1&t&&(m.Xb(0,"div",11),m.Xb(1,"app-card-table",12),m.Xb(2,"thead"),m.Xb(3,"tr"),m.Xb(4,"th"),m.Xc(5),m.jc(6,"translate"),m.Wb(),m.Xb(7,"th"),m.Xc(8),m.jc(9,"translate"),m.Wb(),m.Xb(10,"th"),m.Xc(11),m.jc(12,"translate"),m.Wb(),m.Xb(13,"th"),m.Xc(14),m.jc(15,"translate"),m.Wb(),m.Xb(16,"th"),m.Xc(17),m.jc(18,"translate"),m.Wb(),m.Xb(19,"th"),m.Xc(20),m.jc(21,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Vc(22,Zp,10,2,"tbody",6),m.Wb(),m.Wb()),2&t){var n=m.ic();m.Db(5),m.Yc(m.kc(6,7,"TABLEHEADER.NAME")),m.Db(3),m.Yc(m.kc(9,9,"TABLEHEADER.TYPE")),m.Db(3),m.Yc(m.kc(12,11,"TABLEHEADER.COMPLETED")),m.Db(3),m.Yc(m.kc(15,13,"TABLEHEADER.FEEDBACK")),m.Db(3),m.Yc(m.kc(18,15,"ACTION_ITEM.TIME_SLOT")),m.Db(3),m.Yc(m.kc(21,17,"ACTION_ITEM.COMPLETED_AT")),m.Db(2),m.rc("ngForOf",n.dateList)}}function Kp(t,e){if(1&t&&(m.Xb(0,"p"),m.Xc(1),m.Wb(),m.Xb(2,"div",23),m.Xb(3,"div",24),m.Xb(4,"p"),m.Xc(5),m.jc(6,"translate"),m.Wb(),m.Xb(7,"p"),m.Xc(8),m.Wb(),m.Wb(),m.Xb(9,"div",24),m.Xb(10,"p"),m.Xc(11,"Risk Category"),m.Wb(),m.Xb(12,"p"),m.Xc(13),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.ic();m.Db(1),m.Yc(n.formType),m.Db(4),m.Zc(" ",m.kc(6,4,"SCORE")," "),m.Db(3),m.Yc(n.score),m.Db(5),m.Yc(n.risk)}}function Jp(t,e){if(1&t&&(m.Xb(0,"div"),m.Xb(1,"div",25),m.Xc(2),m.Wb(),m.Wb()),2&t){var n=e.$implicit,i=e.index;m.Db(2),m.bd("",i+1,") ",n.label," - ",n.value,"")}}var $p,tb=(($p=function(){function t(e,n,i,a,o,r,c,s){u(this,t),this._actionItemsService=e,this.datePipe=n,this.route=i,this.translateService=a,this._usersService=o,this._modalService=r,this._message=c,this.formService=s,this.actionItems=[],this.dateList=[],this.user=new Ap.a,this.feedbackList=[],this.showLoading=!0,this.userId="",this.patientId=null,this.episodeCareplanId=null,this.isActionItemsExists=!0,this.formModal=!1}return p(t,[{key:"ngOnInit",value:function(){var t,e=this;t=null==this.patientId?this.route.snapshot.params.id:this.patientId,this.careplanId=null==this.episodeCareplanId?this.route.snapshot.queryParams.careplanId:this.episodeCareplanId,this._usersService.getUser(t).subscribe(function(t){e.user=t});var n=this.datePipe.transform(Date.now(),"yyyy-MM-dd");this._actionItemsService.getAllActionItemsWithVitalObject(t,this.careplanId,n).subscribe(function(t){e.actionItemMap=new Map,e.actionItems=t,e.actionItems.forEach(function(t){if(e.actionItemMap.get(e.datePipe.transform(t.scheduledAt,"MMM d, y"))){var n=e.actionItemMap.get(e.datePipe.transform(t.scheduledAt,"MMM d, y"));n.push(t),e.actionItemMap.set(e.datePipe.transform(t.scheduledAt,"MMM d, y"),n)}else{var i=[];i.push(t),e.dateList.push(e.datePipe.transform(t.scheduledAt,"MMM d, y")),e.actionItemMap.set(e.datePipe.transform(t.scheduledAt,"MMM d, y"),i)}}),e.showLoading=!1,0<e.actionItems.length&&(e.isActionItemsExists=!0)})}},{key:"getActionItemByDate",value:function(t){return this.actionItemMap.get(t)}},{key:"showFeedback",value:function(t){var e=this;if(t.completed){var n,i=!1;if(n=JSON.parse(JSON.stringify(t.parameters)),this.feedbackList=JSON.parse(n).feedBackInput,this.feedbackList||(this.feedbackList=[]),"REVIEW_AND_ADVISE"===t.type&&t.parameters){var a=JSON.parse(t.parameters);Object.keys(a).forEach(function(t){var n=new _p.a;n.label=t,n.value=a[t],e.feedbackList.push(n)})}void 0!==this.feedbackList?(this.feedbackList instanceof Array&&this.feedbackList.forEach(function(t){t.value&&null!=t.value&&(i=!0)}),i?null===this.feedbackList||this.feedbackList.length<=0?this.translateService.get("ERROR.NOFEEDBACK").subscribe(function(t){e._message.info(t)}):this.showModal():this.translateService.get("ERROR.NOFEEDBACK").subscribe(function(t){e._message.info(t)})):this.translateService.get("ERROR.NOFEEDBACK").subscribe(function(t){e._message.info(t)})}else this.translateService.get("ERROR.NOFEEDBACK").subscribe(function(t){e._message.info(t)})}},{key:"showVitalParameters",value:function(t){this._modalService.create({nzContent:kp,nzComponentParams:{actionItem:t,patientId:this.user.id,patientName:this.user.firstName+" "+this.user.lastName},nzWidth:"500px",nzFooter:null})}},{key:"showModal",value:function(){this.isVisible=!0}},{key:"handleOk",value:function(){this.isVisible=!1}},{key:"handleCancel",value:function(){this.isVisible=!1}},{key:"cancelFormModal",value:function(){this.formModal=!1}},{key:"okFormModal",value:function(){this.formModal=!1}},{key:"showFormModal",value:function(t,e){var n=this;this.formService.getSingleEvalFormByActionItemId(t.id).subscribe(function(t){n.score=t.data.evaluatedScore,n.risk=t.data.identifiedRisk,n._modalService.create({nzContent:Xp,nzComponentParams:{score:t.data.evaluatedScore,risk:t.data.identifiedRisk,formId:t.data._id,title:t.data.schema.title},nzWidth:"500px",nzFooter:null})})}}]),t}()).\u0275fac=function(t){return new(t||$p)(m.Rb(Mp.a),m.Rb(E.e),m.Rb(y.a),m.Rb(Jt.a),m.Rb($o.a),m.Rb(q.f),m.Rb(Lp.e),m.Rb(ri.a))},$p.\u0275cmp=m.Lb({type:$p,selectors:[["app-action-items"]],inputs:{patientId:"patientId",episodeCareplanId:"episodeCareplanId"},features:[m.Cb([E.e])],decls:9,vars:9,consts:[["title","action-Items","defaultTitle","Action Items",3,"prefix","isSearchEnabled","isActionEnabled",4,"ngIf"],["class","loader",4,"ngIf"],["style","margin-top: 100px;",4,"ngIf"],["style","padding:20px;",4,"ngIf"],["formContent",""],[3,"nzVisible","nzTitle","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"ngFor","ngForOf"],["title","action-Items","defaultTitle","Action Items",3,"prefix","isSearchEnabled","isActionEnabled"],[1,"loader"],["nzSimple","","nzTip","Fetching careplan details ...",3,"nzSize"],[2,"margin-top","100px"],[2,"padding","20px"],["id","groups-table",2,"text-align","center"],[2,"background","#e8e8e8"],[3,"title"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["other_content",""],["name","infoCircle",3,"click"],[2,"color","green","font-weight","700"],["nz-tooltip","","name","infoCircle",3,"nzTitle","click",4,"ngIf"],["nz-tooltip","","name","infoCircle",3,"nzTitle","click"],[2,"color","red","font-weight","700"],[2,"width","100%"],[2,"width","50%","float","left"],[2,"display","inline-flex","padding","5px"]],template:function(t,e){1&t&&(m.Vc(0,Vp,1,4,"app-header",0),m.Vc(1,xp,2,1,"div",1),m.Vc(2,Up,1,0,"nz-empty",2),m.Vc(3,Qp,23,19,"div",3),m.Vc(4,Kp,14,6,"ng-template",null,4,m.Wc),m.Xb(6,"nz-modal",5),m.ec("nzVisibleChange",function(t){return e.isVisible=t})("nzOnCancel",function(){return e.handleCancel()})("nzOnOk",function(){return e.handleOk()}),m.jc(7,"translate"),m.Vc(8,Jp,3,3,"div",6),m.Wb()),2&t&&(m.rc("ngIf",null==e.patientId&&null==e.episodeCareplanId),m.Db(1),m.rc("ngIf",e.showLoading),m.Db(1),m.rc("ngIf",!e.isActionItemsExists),m.Db(1),m.rc("ngIf",e.isActionItemsExists&&!e.showLoading),m.Db(3),m.sc("nzTitle",m.kc(7,7,"COMMON.FEEDBACKS")),m.rc("nzVisible",e.isVisible),m.Db(2),m.rc("ngForOf",e.feedbackList))},directives:[E.q,q.a,E.p,ep.a,Ze.a,ot.b,Wp,at.n,at.o,at.e,at.l,at.i,Ct.a,tn.d],pipes:[rt.a,E.e],styles:[".mdl-data-table[_ngcontent-%COMP%]{width:100%;margin-top:40px}.collapse[_ngcontent-%COMP%]   .collapse-section[_ngcontent-%COMP%], .collapseZone[_ngcontent-%COMP%]   .collapseZone-section[_ngcontent-%COMP%]{display:none}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar{width:.3em}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.mdl-dialog[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.mdl-dialog[_ngcontent-%COMP%]{max-height:500px}.errorMsg[_ngcontent-%COMP%]{color:red;font-size:8px}.errorMsgOverall[_ngcontent-%COMP%]{color:red;font-size:10px;font-weight:700}.contentpadding[_ngcontent-%COMP%]{padding:30px}.parent[_ngcontent-%COMP%]{margin:auto;display:flex;height:80%;width:80%}.child[_ngcontent-%COMP%]{margin:auto;max-width:100%;padding:40px;max-height:100%}div[_ngcontent-%COMP%]::-webkit-scrollbar{width:.3em}div[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}div[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}  .vertical-center-modal{display:flex;align-items:center;justify-content:center}  .vertical-center-modal .ant-modal{top:0}"]}),$p),eb=function t(){u(this,t)};function nb(t,e){if(1&t&&(m.Xb(0,"nz-tag"),m.Xc(1),m.Wb()),2&t){var n=e.$implicit;m.Db(1),m.Yc(n)}}function ib(t,e){if(1&t){var n=m.Yb();m.Xb(0,"tr"),m.Xb(1,"td"),m.Sb(2,"app-full-name",3),m.Wb(),m.Xb(3,"td"),m.Vc(4,nb,2,1,"nz-tag",2),m.Wb(),m.Xb(5,"td"),m.Xb(6,"app-icons",4),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().assignCaretaker(null==t?null:t.id)}),m.jc(7,"translate"),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit;m.Db(2),m.sc("firstName",null==i?null:i.firstName),m.sc("lastName",null==i?null:i.lastName),m.Db(2),m.rc("ngForOf",null==i?null:i.profileTags),m.Db(2),m.sc("nzTooltipTitle",m.kc(7,4,"COMMON.ASSIGNCARETAKER"))}}var ab,ob=((ab=function(){function t(e,n,i,a,o){u(this,t),this._modalRef=e,this._usersService=n,this.translationService=i,this._partnerService=a,this._notificationsService=o,this.pageSize=5,this.dataSourceLength=0}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._usersService.getUsersTypeLimit("CARE_TAKER",this.pageSize,0).subscribe(function(e){t.caretakers=e.body,t.totalCount=t._partnerService.getTotalCount(e.headers)})}},{key:"getCaretakerData",value:function(t){var e=this;this._usersService.getUsersTypeLimit("CARE_TAKER",this.pageSize,this.pageSize*t).subscribe(function(t){e.caretakers=t.body})}},{key:"getCaretakers",value:function(t){this.getCaretakerData(t-1)}},{key:"assignCaretaker",value:function(t){var e=this,n=new eb;n.caretakerId=t,n.userId=this.patientId,n.createdOn=(new Date).getTime(),this._usersService.assignCareTaker(n).subscribe(function(t){e.translationService.get("CARETAKERS.ASSIGN_CARETAKER_SUCCESSFUL").subscribe(function(t){e._notificationsService.success("Success",t)}),e.closeDialog(!0)},function(){e.translationService.get("COMMON.SOMETHING_WENT_WRONG").subscribe(function(t){e._notificationsService.error("Error",t)})})}},{key:"closeDialog",value:function(t){this._modalRef.close(t)}}]),t}()).\u0275fac=function(t){return new(t||ab)(m.Rb(q.e),m.Rb($o.a),m.Rb(Jt.a),m.Rb(yc.a),m.Rb(Z.b))},ab.\u0275cmp=m.Lb({type:ab,selectors:[["app-assign-caretakers"]],inputs:{patientId:"patientId"},decls:15,vars:14,consts:[[3,"nzData","nzShowPagination","nzFrontPagination","nzTotal","nzPageIndexChange"],["caretakersTable",""],[4,"ngFor","ngForOf"],[3,"firstName","lastName"],["nz-tooltip","","name","check",3,"nzTooltipTitle","click"]],template:function(t,e){if(1&t&&(m.Xb(0,"nz-table",0,1),m.ec("nzPageIndexChange",function(t){return e.getCaretakers(t)}),m.Xb(2,"thead"),m.Xb(3,"tr"),m.Xb(4,"th"),m.Xc(5),m.jc(6,"translate"),m.Wb(),m.Xb(7,"th"),m.Xc(8),m.jc(9,"translate"),m.Wb(),m.Xb(10,"th"),m.Xc(11),m.jc(12,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(13,"tbody"),m.Vc(14,ib,8,6,"tr",2),m.Wb(),m.Wb()),2&t){var n=m.Ic(1);m.rc("nzData",e.caretakers)("nzShowPagination",!0)("nzFrontPagination",!1)("nzTotal",e.totalCount),m.Db(5),m.Yc(m.kc(6,8,"TITLE.CARETAKERS")),m.Db(3),m.Yc(m.kc(9,10,"COMMON.PROFILETAG")),m.Db(3),m.Yc(m.kc(12,12,"TABLEHEADER.ACTIONS")),m.Db(3),m.rc("ngForOf",null==n?null:n.data)}},directives:[at.f,at.n,at.o,at.e,at.l,at.i,E.p,ce.a,Ct.a,tn.d,hi.a],pipes:[rt.a],styles:[".close[_ngcontent-%COMP%]{float:right}"]}),ab);function rb(t,e){if(1&t&&(m.Xb(0,"nz-tag"),m.Xc(1),m.Wb()),2&t){var n=e.$implicit;m.Db(1),m.Yc(n)}}function cb(t,e){if(1&t){var n=m.Yb();m.Xb(0,"tr"),m.Xb(1,"td"),m.Sb(2,"app-full-name",5),m.Wb(),m.Xb(3,"td"),m.Vc(4,rb,2,1,"nz-tag",4),m.Wb(),m.Xb(5,"td"),m.Xb(6,"app-icons",6),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().assignCaretakers(t.id)}),m.jc(7,"translate"),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit;m.Db(2),m.sc("firstName",i.firstName),m.sc("lastName",i.lastName),m.Db(2),m.rc("ngForOf",i.profileTags),m.Db(2),m.sc("nzTooltipTitle",m.kc(7,4,"CARETAKERS.VIEWALL"))}}var sb,lb=((sb=function(t){o(n,t);var e=c(n);function n(t,i,a){var o;return u(this,n),(o=e.call(this))._location=t,o._patientsService=i,o._modalService=a,o.patients=[],o.pageSize=mt.g.pageSize,o}return p(n,[{key:"ngOnInit",value:function(){this.getPatientsWithoutCaretakers()}},{key:"getPatientsWithoutCaretakers",value:function(){var t=this;this._patientsService.fetchPatientsWithoutCaretakers().subscribe(function(e){t.patients=e})}},{key:"assignCaretakers",value:function(t){var e=this;this._modalService.create({nzContent:ob,nzComponentParams:{patientId:t},nzWidth:"900px"}).afterClose.subscribe(function(t){null!=t&&e.ngOnInit()})}},{key:"goBack",value:function(){this._location.back()}}]),n}(Ec.a)).\u0275fac=function(t){return new(t||sb)(m.Rb(E.l),m.Rb(Y.a),m.Rb(q.f))},sb.\u0275cmp=m.Lb({type:sb,selectors:[["app-patients-without-caretakers"]],features:[m.Ab],decls:18,vars:16,consts:[["title","patients",3,"defaultTitle","isSearchEnabled","isActionEnabled"],[1,"container"],[3,"nzData"],["patientsWithoutCaretakersTable",""],[4,"ngFor","ngForOf"],[3,"firstName","lastName"],["nz-tooltip","","name","logout",3,"nzTooltipTitle","click"]],template:function(t,e){if(1&t&&(m.Sb(0,"app-header",0),m.jc(1,"translate"),m.Xb(2,"div",1),m.Xb(3,"nz-table",2,3),m.Xb(5,"thead"),m.Xb(6,"tr"),m.Xb(7,"th"),m.Xc(8),m.jc(9,"translate"),m.Wb(),m.Xb(10,"th"),m.Xc(11),m.jc(12,"translate"),m.Wb(),m.Xb(13,"th"),m.Xc(14),m.jc(15,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(16,"tbody"),m.Vc(17,cb,8,6,"tr",4),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(4);m.sc("defaultTitle",m.kc(1,8,"COMMON.RESIDENTSWITHOUTCARETAKERS")),m.rc("isSearchEnabled",!1)("isActionEnabled",!1),m.Db(3),m.rc("nzData",e.patients),m.Db(5),m.Yc(m.kc(9,10,"HEADER.PATIENTS")),m.Db(3),m.Yc(m.kc(12,12,"COMMON.PROFILETAG")),m.Db(3),m.Yc(m.kc(15,14,"TABLEHEADER.ACTIONS")),m.Db(3),m.rc("ngForOf",n.data)}},directives:[ep.a,at.f,at.n,at.o,at.e,at.l,at.i,E.p,ce.a,Ct.a,tn.d,hi.a],pipes:[rt.a],styles:[""]}),sb),ub=function t(){u(this,t)},db=function t(){u(this,t)};function pb(t,e){if(1&t){var n=m.Yb();m.Xb(0,"tr"),m.Xb(1,"td",3),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().showActionItems(null==t?null:t.id)}),m.Xc(2),m.Wb(),m.Xb(3,"td",4),m.Xc(4),m.jc(5,"translate"),m.Wb(),m.Xb(6,"td",4),m.Xc(7),m.jc(8,"lowercase"),m.Wb(),m.Xb(9,"td",5),m.Xb(10,"app-icons",6),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().showActionItems(null==t?null:t.id)}),m.Wb(),m.Sb(11,"nz-divider",7),m.Xb(12,"span",8),m.ec("nzOnConfirm",function(){m.Lc(n);var t=e.$implicit,i=m.ic();return i.confirmDelete(i.careplan.careplanMap[null==t?null:t.id],null==t?null:t.id)}),m.jc(13,"translate"),m.Sb(14,"app-icons",9),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=e.$implicit;m.Db(2),m.ad("",null==i?null:i.firstName," ",null==i?null:i.lastName,""),m.Db(2),m.ad("",null==i?null:i.age," ",m.kc(5,6,"COMMON.YEARS"),""),m.Db(3),m.Yc(m.kc(8,8,null==i?null:i.gender)),m.Db(5),m.sc("nzPopconfirmTitle",m.kc(13,10,"MESSAGE.DELETEMSG"))}}var bb,hb=((bb=function(){function t(e,n,i,a){u(this,t),this._regimeService=e,this._router=n,this.dataSharingService=i,this._notificationsService=a}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.dataSharingService.careplanDetails.subscribe(function(e){t.careplan=e;var n=new ub;n.fieldInputs=new db,n.fieldInputs.fieldComponent=[]})}},{key:"showActionItems",value:function(t){this._router.navigate(["careplanassignments/patient/"+t+"/actionitems"],{queryParams:{careplanId:this.careplan.careplanMap[t]}})}},{key:"deleteCareplanUser",value:function(t,e){var n=this;this._regimeService.deleteCareplan(t,e).subscribe(function(){n._notificationsService.success("Careplan user","User Removed Successfully!"),n.careplan.users.length||n.goBack()})}},{key:"confirmDelete",value:function(t,e){var n=this;this.careplan.users.forEach(function(t,i){t.id===e&&n.careplan.users.splice(i,1)}),this.deleteCareplanUser(t,e)}},{key:"goBack",value:function(){this._router.navigate(["cplanassignments"])}}]),t}()).\u0275fac=function(t){return new(t||bb)(m.Rb(Md.a),m.Rb(y.g),m.Rb(k.a),m.Rb(Z.b))},bb.\u0275cmp=m.Lb({type:bb,selectors:[["app-cplan-details"]],decls:17,vars:16,consts:[["title","courses",3,"defaultTitle","isSearchEnabled","isActionEnabled"],[2,"padding","20px"],[4,"ngFor","ngForOf"],[1,"name","data",3,"click"],[1,"data"],[1,"actions","data"],["name","infoCircle",3,"click"],["nzType","vertical"],["nz-popconfirm","",3,"nzPopconfirmTitle","nzOnConfirm"],["name","delete",1,"clickable"]],template:function(t,e){1&t&&(m.Sb(0,"app-header",0),m.Xb(1,"div",1),m.Xb(2,"app-card-table"),m.Xb(3,"tr"),m.Xb(4,"th"),m.Xc(5),m.jc(6,"translate"),m.Wb(),m.Xb(7,"th"),m.Xc(8),m.jc(9,"translate"),m.Wb(),m.Xb(10,"th"),m.Xc(11),m.jc(12,"translate"),m.Wb(),m.Xb(13,"th"),m.Xc(14),m.jc(15,"translate"),m.Wb(),m.Wb(),m.Vc(16,pb,15,12,"tr",2),m.Wb(),m.Wb()),2&t&&(m.sc("defaultTitle",null==e.careplan?null:e.careplan.careplanName),m.rc("isSearchEnabled",!1)("isActionEnabled",!1),m.Db(5),m.Yc(m.kc(6,8,"TABLEHEADER.NAME")),m.Db(3),m.Yc(m.kc(9,10,"TABLEHEADER.AGE")),m.Db(3),m.Yc(m.kc(12,12,"TABLEHEADER.GENDER")),m.Db(3),m.Yc(m.kc(15,14,"TABLEHEADER.ACTIONS")),m.Db(2),m.rc("ngForOf",null==e.careplan?null:e.careplan.users))},directives:[ep.a,Wp,at.o,at.e,at.l,E.p,Ct.a,K.a,Dd.a],pipes:[rt.a,E.n],styles:[""]}),bb),gb=r("bA1+"),fb=r("WIjQ"),vb=r("G6Tw"),mb=r("kRoH"),Sb=function t(){u(this,t)},yb=r("ds6q");r("DfQf");var Tb=["appointmentDetails"],Cb=["modalContent"];function Eb(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mwl-calendar-month-view",13),m.ec("dayClicked",function(t){return m.Lc(n),m.ic().dayClicked(t.day)})("eventClicked",function(t){return m.Lc(n),m.ic().eventClicked(t)})("eventTimesChanged",function(t){return m.Lc(n),m.ic().eventTimesChanged(t)}),m.Wb()}if(2&t){var i=m.ic();m.rc("viewDate",i.viewDate)("events",i.events)("refresh",i.refresh)("activeDayIsOpen",i.activeDayIsOpen)}}function Ib(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mwl-calendar-week-view",14),m.ec("eventClicked",function(t){return m.Lc(n),m.ic().eventClicked(t)})("eventTimesChanged",function(t){return m.Lc(n),m.ic().eventTimesChanged(t)}),m.Wb()}if(2&t){var i=m.ic();m.rc("viewDate",i.viewDate)("events",i.events)("refresh",i.refresh)}}function Mb(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mwl-calendar-day-view",14),m.ec("eventClicked",function(t){return m.Lc(n),m.ic().eventClicked(t)})("eventTimesChanged",function(t){return m.Lc(n),m.ic().eventTimesChanged(t)}),m.Wb()}if(2&t){var i=m.ic();m.rc("viewDate",i.viewDate)("events",i.events)("refresh",i.refresh)}}var Ab,_b,Db={red:{primary:"#F02311",secondary:"#FF6B6B"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"},green:{primary:"#CCFF00",secondary:"#C3FF68"}},zb=((Ab=function(){function t(e,n,i,a,o,r){var c=this;u(this,t),this.appointmentService=e,this._chatService=n,this.dataSharingService=i,this.chatService=a,this.message=o,this._router=r,this.upcomingAppointments=new Array,this.completedAppointments=new Array,this.unattendedAppointments=new Array,this.visible=!1,this.view=mb.d.Month,this.CalendarView=mb.d,this.viewDate=new Date,this.actions=[{label:" Chat",onClick:function(t){var e=t.event;c.launchChatWindow(e)}}],this.refresh=new yb.Subject,this.events=[],this.activeDayIsOpen=!1}return p(t,[{key:"ngOnInit",value:function(){this.getCompletedAppointments(),this.getUnattendedAppointments(),this.getUpcomingAppointments()}},{key:"launchChatWindow",value:function(t){var e=this,n=this.message.loading("Loading chat....",{nzDuration:0}).messageId;this.appointmentService.fetchAppointmentDetailsById(t.id).subscribe(function(t){e.chatService.getChatSession(t.appointment.chatSessionId).subscribe(function(t){e.dataSharingService.chatTrigger.next(t),e.message.remove(n)})})}},{key:"dayClicked",value:function(t){var e=t.date,n=t.events;Object(fb.a)(e,this.viewDate)&&(this.viewDate=e,this.activeDayIsOpen=!(Object(vb.a)(this.viewDate,e)&&!0===this.activeDayIsOpen||0===n.length))}},{key:"eventClicked",value:function(t){this.visible=!0,this._router.navigate(["appointments/details/",t.event.id])}},{key:"eventTimesChanged",value:function(t){var e=t.event,n=t.newStart,i=t.newEnd;e.start=n,e.end=i,this.handleEvent("Dropped or resized",e),this.refresh.next()}},{key:"handleEvent",value:function(t,e){"Chat"===t&&new Sb,this.modalData={event:e,action:t}}},{key:"addEvent",value:function(){this.events.push({title:"New event",start:Object(X.a)(new Date),end:Object(L.a)(new Date),color:Db.red,draggable:!0,resizable:{beforeStart:!0,afterEnd:!0}}),this.refresh.next()}},{key:"getUpcomingAppointments",value:function(){var t=this;this.appointmentService.fetchUpcomingAppointments(0).subscribe(function(e){t.upcomingAppointments=e.result,t.upcomingAppointments.forEach(function(e){t.events.push({id:e.id,start:new Date(e.schedule.startDate),end:new Date(e.schedule.startDate+36e5),title:e.attendeeName+" with "+e.attenderName,color:Db.green,actions:t.actions,allDay:!1,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0,meta:{name:e.attendeeName}})}),t.refresh.next()})}},{key:"getCompletedAppointments",value:function(){var t=this;this.appointmentService.fetchCompletedAppointments(0).subscribe(function(e){t.completedAppointments=e.result,t.completedAppointments.forEach(function(e){t.events.push({id:e.id,start:new Date(e.schedule.startDate),end:new Date(e.schedule.startDate+36e5),title:e.attendeeName+" with "+e.attenderName,color:Db.yellow,actions:t.actions,allDay:!1,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0,meta:{name:e.attendeeName}})}),t.refresh.next()})}},{key:"getUnattendedAppointments",value:function(){var t=this;this.appointmentService.fetchUnattendedAppointments(0).subscribe(function(e){t.unattendedAppointments=e.result,t.unattendedAppointments.forEach(function(e){t.events.push({id:e.id,start:new Date(e.schedule.startDate),end:new Date(e.schedule.startDate+36e5),title:e.attendeeName+" with "+e.attenderName,color:Db.red,actions:t.actions,allDay:!1,resizable:{beforeStart:!0,afterEnd:!0},draggable:!0,meta:{name:e.attendeeName}})}),t.refresh.next()})}}]),t}()).\u0275fac=function(t){return new(t||Ab)(m.Rb(R.a),m.Rb(tr),m.Rb(k.a),m.Rb(tr),m.Rb(Lp.e),m.Rb(y.g))},Ab.\u0275cmp=m.Lb({type:Ab,selectors:[["app-calendar"]],viewQuery:function(t,e){var n;1&t&&(m.ed(Tb,1),m.ed(Cb,1)),2&t&&(m.Hc(n=m.fc())&&(e.appointmentComponent=n.first),m.Hc(n=m.fc())&&(e.modalContent=n.first))},features:[m.Cb([R.a,tr])],decls:28,vars:19,consts:[[3,"defaultTitle","isSearchEnabled","isActionEnabled"],[2,"display","flex","align-items","center","padding","12px","margin-bottom","12px"],[1,"btn-group"],["nz-button","","nzType","primary","mwlCalendarPreviousView","",3,"view","viewDate","viewDateChange"],["nz-button","","nzType","primary","mwlCalendarToday","",3,"viewDate","viewDateChange"],["nz-button","","nzType","primary","mwlCalendarNextView","",3,"view","viewDate","viewDateChange"],[1,"spacer"],["nz-button","","nzType","primary","value","month",3,"click"],["nz-button","","nzType","primary","value","week",3,"click"],["nz-button","","nzType","primary","value","day",3,"click"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","eventClicked","eventTimesChanged",4,"ngSwitchCase"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked","eventClicked","eventTimesChanged"],[3,"viewDate","events","refresh","eventClicked","eventTimesChanged"]],template:function(t,e){1&t&&(m.Sb(0,"app-header",0),m.jc(1,"translate"),m.Xb(2,"div",1),m.Xb(3,"div",2),m.Xb(4,"nz-button-group"),m.Xb(5,"button",3),m.ec("viewDateChange",function(t){return e.viewDate=t})("viewDateChange",function(){return e.activeDayIsOpen=!1}),m.Xc(6," Previous "),m.Wb(),m.Xb(7,"button",4),m.ec("viewDateChange",function(t){return e.viewDate=t}),m.Xc(8," Today "),m.Wb(),m.Xb(9,"button",5),m.ec("viewDateChange",function(t){return e.viewDate=t})("viewDateChange",function(){return e.activeDayIsOpen=!1}),m.Xc(10," Next "),m.Wb(),m.Wb(),m.Wb(),m.Sb(11,"div",6),m.Xb(12,"h3"),m.Xc(13),m.jc(14,"calendarDate"),m.Wb(),m.Sb(15,"div",6),m.Xb(16,"div"),m.Xb(17,"nz-button-group"),m.Xb(18,"button",7),m.ec("click",function(){return e.view=e.CalendarView.Month}),m.Xc(19," Month "),m.Wb(),m.Xb(20,"button",8),m.ec("click",function(){return e.view=e.CalendarView.Week}),m.Xc(21," Week "),m.Wb(),m.Xb(22,"button",9),m.ec("click",function(){return e.view=e.CalendarView.Day}),m.Xc(23," Day "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(24,"div",10),m.Vc(25,Eb,1,4,"mwl-calendar-month-view",11),m.Vc(26,Ib,1,3,"mwl-calendar-week-view",12),m.Vc(27,Mb,1,3,"mwl-calendar-day-view",12),m.Wb()),2&t&&(m.sc("defaultTitle",m.kc(1,13,"COMMON.CALENDER")),m.rc("isSearchEnabled",!1)("isActionEnabled",!1),m.Db(5),m.rc("view",e.view)("viewDate",e.viewDate),m.Db(2),m.rc("viewDate",e.viewDate),m.Db(2),m.rc("view",e.view)("viewDate",e.viewDate),m.Db(4),m.Yc(m.mc(14,15,e.viewDate,e.view+"ViewTitle","en")),m.Db(11),m.rc("ngSwitch",e.view),m.Db(1),m.rc("ngSwitchCase",e.CalendarView.Month),m.Db(1),m.rc("ngSwitchCase",e.CalendarView.Week),m.Db(1),m.rc("ngSwitchCase",e.CalendarView.Day))},directives:[ep.a,tt.b,nt.a,tt.a,et.a,mb.g,mb.i,mb.h,E.s,E.t,mb.c,mb.e,mb.a],pipes:[rt.a,mb.j],styles:["[_nghost-%COMP%]{background-color:var(--neutral-color)}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),Ab),Ob=r("mrSG"),kb=r("3h4Y"),Nb=r("FH+g"),Pb=r("1yiY"),Rb=function t(){u(this,t)},Xb=function t(){u(this,t),this.audioEnabled=!0,this.videoEnabled=!0,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!1},Lb=function(t){return t.CALL_CONNECTED="CALL_CONNECTED",t.CALL_REJECTED="CALL_REJECTED",t.PARTICIPANT_ADDED="PARTICIPANT_ADDED",t.PARTICIPANT_WAITING="PARTICIPANT_WAITING",t.PARTICIPANT_JOINED="PARTICIPANT_JOINED",t.CALL_ENDED="CALL_ENDED",t.AUDIO_MUTED="AUDIO_MUTED",t.AUDIO_UNMUTED="AUDIO_UNMUTED",t.VIDEO_PAUSED="VIDEO_PAUSED",t.VIDEO_PLAYED="VIDEO_PLAYED",t.CALL_EXITED="CALL_EXITED",t.MEASURING_VITAL="MEASURING_VITAL",t.VITAL_MEASURED="VITAL_MEASURED",t.SHARE_PARTICIPANT_STATE="SHARE_PARTICIPANT_STATE",t.VITAL_MEASURING_CANCELLED="VITAL_MEASURING_CANCELLED",t.VITAL_MEASURING_ERROR="VITAL_MEASURING_ERROR",t.RINGING="RINGING",t.SHARE_LOCATION="SHARE_LOCATION",t.SHARE_LOCATION_ERROR="SHARE_LOCATION_ERROR",t.OPENED="OPENED",t.CLOSED="CLOSED",t.ERROR="ERROR",t.NETWORK_QUALITY_LOW="NETWORK_QUALITY_LOW",t.NETWORK_QUALITY_MEDIUM="NETWORK_QUALITY_MEDIUM",t.NETWORK_QUALITY_HIGH="NETWORK_QUALITY_HIGH",t.RECONNECTING="RECONNECTING",t.RECONNECTED="RECONNECTED",t}({}),wb=function(t){return t.MUTE="MUTE",t.UNMUTE="UNMUTE",t.ERROR="ERROR",t}({}),Wb=function(t){return t.PAUSE="PAUSE",t.PLAY="PLAY",t.ERROR="ERROR",t}({}),Vb=function t(){u(this,t)},xb=function(){function t(e,n,i){u(this,t),this.webSocketConnector=new fr,this.retryCount=0,this.videoUrl=null,this.ws=null,this.showProfile=!1,this.participantStates=new Map,this.observers=[],this.endCall=!1,this.videoCallSession=e,this.userId=n,this.videoUrl=mt.g.videoURL+e.id+"/user/"+n,i&&(this.videoUrl=mt.g.videoURL+"appointment/"+i+"/user/"+n),console.log("Socket url  :  ",this.videoUrl),this.initVideocallEvent()}return p(t,[{key:"registerObserver",value:function(t){this.observers.push(t)}},{key:"removeObserver",value:function(t){var e=this.observers.indexOf(t);this.observers.splice(e,1)}},{key:"initVideocallEvent",value:function(){this.videocallEvent=new Xb,this.videocallEvent.audioEnabled=!0,this.videocallEvent.videoEnabled=!0,this.videocallEvent.event=Lb.PARTICIPANT_JOINED,this.videocallEvent.participantId=this.userId,this.videocallEvent.videocallSessionId=this.videoCallSession.id,this.videocallEvent.startTime=Date.now(),this.videocallEvent.endTime=0}},{key:"initVideocallSocket",value:function(){var t=this;this.ws=this.webSocketConnector.connect(this.videoUrl),this.ws.onopen=function(){console.log("Video Connection opened"),t.retryCount=0,t.notifySocketEventObserver(Lb.OPENED,"Socket Opened")},this.ws.onmessage=function(e){console.log("on Message received : ",e.data);var n=JSON.parse(e.data);t.handle(n)},this.ws.onclose=function(){console.log("Videocall Socket Closed"),t.ws=null,t.retryCount<5&&!t.endCall&&(t.retryCount+=1,t.initVideocallSocket(),t.notifySocketEventObserver(Lb.RECONNECTED,null)),t.notifySocketEventObserver(Lb.CLOSED,"Socket Closed")},this.ws.onerror=function(e){console.log("Videocall Socket Connection Error  : ",e),console.log("Retry count : ",t.retryCount),t.retryCount<5&&(t.retryCount+=1,t.notifySocketEventObserver(Lb.CLOSED,"Socket Closed"),t.initVideocallSocket(),t.notifySocketEventObserver(Lb.RECONNECTED,null)),t.notifySocketEventObserver(Lb.ERROR,"Socket Closed")},this.socketTimerId=setInterval(function(){null==t.ws||2==t.ws.readyState||3==t.ws.readyState?t.ws=t.webSocketConnector.connect(t.videoUrl):console.log("Socket OK.")},4e3)}},{key:"notifySocketEventObserver",value:function(t,n){var i,a=e(this.observers);try{for(a.s();!(i=a.n()).done;){var o=i.value;switch(t){case Lb.OPENED:o.onSocketConnectionOpened(n);break;case Lb.CLOSED:o.onSocketConnectionClosed(n);break;case Lb.ERROR:o.onSocketConnectionError(n);break;case Lb.RECONNECTED:o.onParticipantReconnected(n)}}}catch(r){a.e(r)}finally{a.f()}}},{key:"closeSocket",value:function(){this.webSocketConnector.disconnect()}},{key:"handle",value:function(t){switch(t.event){case Lb.AUDIO_MUTED:case Lb.AUDIO_UNMUTED:case Lb.VIDEO_PAUSED:case Lb.VIDEO_PLAYED:case Lb.SHARE_PARTICIPANT_STATE:case Lb.CALL_REJECTED:case Lb.CALL_ENDED:case Lb.CALL_EXITED:case Lb.RINGING:case Lb.RECONNECTING:case Lb.CALL_CONNECTED:case Lb.PARTICIPANT_WAITING:this.notifyObservers(t.event,t.participantId);break;case Lb.MEASURING_VITAL:case Lb.VITAL_MEASURING_CANCELLED:case Lb.VITAL_MEASURING_ERROR:this.notifyVitalObserver(t.event,t.participantId,null);break;case Lb.VITAL_MEASURED:this.notifyVitalObserver(t.event,t.participantId,t.vitalData)}}},{key:"notifyObservers",value:function(t,n){var i,a=e(this.observers);try{for(a.s();!(i=a.n()).done;){var o=i.value;switch(t){case Lb.AUDIO_UNMUTED:o.onUnMute(n);break;case Lb.AUDIO_MUTED:o.onMute(n);break;case Lb.VIDEO_PAUSED:o.onVideoPaused(n);break;case Lb.VIDEO_PLAYED:o.onVideoPlayed(n);break;case Lb.RINGING:o.onRinging(n);break;case Lb.CALL_ENDED:this.endCall=!0,o.onParticipantCallEnd(n);break;case Lb.CALL_EXITED:this.endCall=!0,o.onCallExit(n);break;case Lb.PARTICIPANT_ADDED:o.onParticipantAdded(n);break;case Lb.PARTICIPANT_WAITING:o.onParticipantWaiting(n);break;case Lb.CALL_REJECTED:this.endCall=!0,o.onCallReject(n);break;case Lb.RECONNECTED:o.onParticipantReconnected(n);break;default:o.onOther(t,n)}}}catch(r){a.e(r)}finally{a.f()}}},{key:"notifyVitalObserver",value:function(t,n,i){var a,o=e(this.observers);try{for(o.s();!(a=o.n()).done;){var r=a.value;switch(t){case Lb.MEASURING_VITAL:r.onMeasuringVital(n);break;case Lb.VITAL_MEASURED:r.onVitalMeasuringComplete(i,n);break;case Lb.VITAL_MEASURING_CANCELLED:r.onVitalMeasuringCancelled(n);break;case Lb.VITAL_MEASURING_ERROR:r.onVitalMeasuringError(n)}}}catch(c){o.e(c)}finally{o.f()}}},{key:"notifyShareObserver",value:function(t,n,i){var a,o=e(this.observers);try{for(o.s();!(a=o.n()).done;){var r=a.value;switch(t){case Lb.SHARE_PARTICIPANT_STATE:r.onParticipantShareState(n,i)}}}catch(c){o.e(c)}finally{o.f()}}},{key:"onJoining",value:function(){var t=new Rb;t.event=Lb.PARTICIPANT_JOINED.toString(),this.sendSocketMessage(JSON.stringify(t))}},{key:"onAudioMute",value:function(){this.audioStatusChange(Lb.AUDIO_MUTED,wb.MUTE,!1),console.log("Audio Mute : ",this.videocallEvent),this.sendSocketMessage(JSON.stringify(this.videocallEvent))}},{key:"onVideoPaused",value:function(){this.videoStatusChange(Lb.VIDEO_PAUSED,Wb.PAUSE,!1),this.sendSocketMessage(JSON.stringify(this.videocallEvent))}},{key:"onAudioUnMute",value:function(){this.audioStatusChange(Lb.AUDIO_UNMUTED,wb.UNMUTE,!0),this.videocallEvent.event=Lb.AUDIO_UNMUTED,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}},{key:"onVideoPlayed",value:function(){this.videoStatusChange(Lb.VIDEO_PLAYED,Wb.PLAY,!0),this.sendSocketMessage(JSON.stringify(this.videocallEvent))}},{key:"onReconnected",value:function(){this.videocallEvent.event=Lb.SHARE_PARTICIPANT_STATE,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}},{key:"onReconnecting",value:function(){this.videocallEvent.event=Lb.RECONNECTING,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}},{key:"sentParticipantCurrentStatus",value:function(){this.videocallEvent.event=Lb.SHARE_PARTICIPANT_STATE,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}},{key:"audioStatusChange",value:function(t,e,n){this.videocallEvent.event=t,this.videocallEvent.audioEnabled=n}},{key:"videoStatusChange",value:function(t,e,n){this.videocallEvent.event=t,this.videocallEvent.videoEnabled=n}},{key:"onVideoCallDisconnect",value:function(){this.videocallEvent.event=Lb.CALL_EXITED,this.videocallEvent.endTime=Date.now(),this.videocallEvent.message="MESSAGE FROM PORTAL",console.log("HERE INSODE ONDISCONNECT."),console.log("Videocall Event :  ",this.videocallEvent),this.sendSocketMessage(JSON.stringify(this.videocallEvent)),clearTimeout(this.socketTimerId)}},{key:"onLocationShare",value:function(t){var e=new Vb;e.latitude=t.latitude,e.longitude=t.longitude,e.accuracy=t.accuracy,this.videocallEvent.event=Lb.SHARE_LOCATION,this.videocallEvent.geoLocation=e,this.sendSocketMessage(JSON.stringify(this.videocallEvent)),console.log("Location Shared : - ",e)}},{key:"onLocationShareError",value:function(t){this.videocallEvent.event=Lb.SHARE_LOCATION_ERROR;var e=new Vb;e.comment=t,this.videocallEvent.geoLocation=e,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}},{key:"onNetworkQualityChange",value:function(t){this.videocallEvent.event=t<2?Lb.NETWORK_QUALITY_LOW:2==t||3==t?Lb.NETWORK_QUALITY_MEDIUM:Lb.NETWORK_QUALITY_HIGH,this.sendSocketMessage(JSON.stringify(this.videocallEvent))}},{key:"sendSocketMessage",value:function(t){null!=this.ws?(console.log("WS : ",this.ws.readyState),1==this.ws.readyState&&this.ws.send(t)):(this.ws=this.webSocketConnector.connect(this.videoUrl),null!=this.ws&&this.ws.send(t))}}]),t}(),Ub=function(){function t(){u(this,t)}return p(t,null,[{key:"onNetworkQualityChange",value:function(t,e){console.log({1:"\u2583",2:"\u2583\u2584",3:"\u2583\u2584\u2585",4:"\u2583\u2584\u2585\u2586",5:"\u2583\u2584\u2585\u2586\u2587"}[t]||""),e&&console.log("Network Quality statistics:",e);var n="ONE";switch(console.log("Quality Level  :  ",t),t){case 1:n="ONE";break;case 2:n="TWO";break;case 3:n="THREE";break;case 4:n="FOUR";break;case 5:n="FIVE"}return n}},{key:"openFullscreen",value:function(t,e,n){return t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen(),!0}},{key:"closeFullscreen",value:function(t,e,n){return n.exitFullscreen?n.exitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.msExitFullscreen&&n.msExitFullscreen(),!1}},{key:"playAudio",value:function(t){return Object(Ob.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.src="../../../assets/audio/tunes.mp3",t.load(),t.play(),t.loop=!0,t.volume=.3;case 1:case"end":return e.stop()}},e)}))}},{key:"playReconnectingTone",value:function(t){return Object(Ob.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.src="../../../assets/audio/1614.aac",t.load(),t.play(),t.loop=!0;case 1:case"end":return e.stop()}},e)}))}},{key:"stopAudio",value:function(t){t.pause()}}]),t}(),Fb=((_b=function t(){u(this,t),this.onlineEvent=Object(Rt.a)(window,"online"),this.offlineEvent=Object(Rt.a)(window,"offline"),this.refreshEvent=Object(Rt.a)(window,"beforeunload")}).\u0275fac=function(t){return new(t||_b)},_b.\u0275cmp=m.Lb({type:_b,selectors:[["app-base"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),_b),Hb=r("xB20");function Bb(t,e){if(1&t&&(m.Xb(0,"nz-card"),m.Xb(1,"div",1),m.Xb(2,"strong",9),m.Xc(3),m.jc(4,"translate"),m.Wb(),m.Xb(5,"div",9),m.Xc(6),m.jc(7,"date"),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.ic();m.Db(3),m.Zc(" ",m.kc(4,2,"TABLEHEADER.DOB"),":"),m.Db(3),m.Yc(m.lc(7,4,null==n.patientDetails?null:n.patientDetails.dateOfBirth,"mediumDate")||"N/A")}}function jb(t,e){if(1&t&&(m.Xb(0,"nz-tag",13),m.Xc(1),m.Wb()),2&t){var n=e.$implicit;m.rc("nzColor","green"),m.Db(1),m.Yc(n)}}function Gb(t,e){if(1&t&&(m.Xb(0,"nz-card"),m.Xb(1,"div",1),m.Xb(2,"strong",11),m.Xc(3),m.jc(4,"translate"),m.Wb(),m.Wb(),m.Xb(5,"div",1),m.Xb(6,"div",11),m.Vc(7,jb,2,2,"nz-tag",12),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.ic();m.Db(3),m.Zc("",m.kc(4,2,"COMMON.PROFILETAG"),":"),m.Db(4),m.rc("ngForOf",null==n.patientDetails?null:n.patientDetails.profileTags)}}var Yb,qb,Zb=((qb=function(){function t(e){u(this,t),this._usersService=e}return p(t,[{key:"ngOnInit",value:function(){this.getPatientInfo()}},{key:"getPatientInfo",value:function(){var t=this;this._usersService.getUser(this.patientId).subscribe(function(e){t.patientDetails=e})}}]),t}()).\u0275fac=function(t){return new(t||qb)(m.Rb($o.a))},qb.\u0275cmp=m.Lb({type:qb,selectors:[["app-user-info"]],inputs:{patientId:"patientId"},decls:67,vars:35,consts:[["id","header"],["nz-row",""],["nz-col","","nzSpan","6"],["id","avatar",3,"nzSize","nzText","nzSrc"],["nz-col","","nzSpan","18"],[3,"nzColumn"],["nz-typography","",1,"font-color"],[1,"font-color"],["nzType","vertical"],["nz-col","","nzSpan","12",1,"font-color"],[4,"ngIf"],["nz-col","","nzSpan","24",1,"font-color"],[3,"nzColor",4,"ngFor","ngForOf"],[3,"nzColor"]],template:function(t,e){1&t&&(m.Xb(0,"nz-card",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Sb(3,"nz-avatar",3),m.jc(4,"uppercase"),m.Wb(),m.Xb(5,"div",4),m.Xb(6,"nz-descriptions",5),m.Xb(7,"nz-descriptions-item"),m.Xb(8,"h2",6),m.Xc(9),m.Wb(),m.Wb(),m.Xb(10,"nz-descriptions-item",7),m.Xb(11,"span",7),m.Xc(12),m.Wb(),m.Sb(13,"nz-divider",8),m.Xb(14,"span",7),m.Xc(15),m.Wb(),m.Wb(),m.Xb(16,"nz-descriptions-item",7),m.Xb(17,"strong",7),m.Xc(18,"D.O.B:"),m.Wb(),m.Xb(19,"span",7),m.Xc(20),m.jc(21,"date"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(22,"br"),m.Xb(23,"nz-card"),m.Xb(24,"div",1),m.Xb(25,"strong",9),m.Xc(26),m.jc(27,"translate"),m.Wb(),m.Xb(28,"div",9),m.Xc(29),m.Wb(),m.Wb(),m.Wb(),m.Sb(30,"br"),m.Xb(31,"nz-card"),m.Xb(32,"div",1),m.Xb(33,"strong",9),m.Xc(34),m.jc(35,"translate"),m.Wb(),m.Xb(36,"div",9),m.Xc(37),m.Wb(),m.Wb(),m.Wb(),m.Sb(38,"br"),m.Xb(39,"nz-card"),m.Xb(40,"div",1),m.Xb(41,"strong",9),m.Xc(42),m.jc(43,"translate"),m.Wb(),m.Xb(44,"div",9),m.Xc(45),m.Wb(),m.Wb(),m.Wb(),m.Sb(46,"br"),m.Vc(47,Bb,8,7,"nz-card",10),m.Sb(48,"br"),m.Xb(49,"nz-card"),m.Xb(50,"div",1),m.Xb(51,"strong",9),m.Xc(52),m.jc(53,"translate"),m.Wb(),m.Xb(54,"div",9),m.Xc(55),m.Wb(),m.Wb(),m.Wb(),m.Sb(56,"br"),m.Vc(57,Gb,8,4,"nz-card",10),m.Sb(58,"br"),m.Xb(59,"nz-card"),m.Xb(60,"div",1),m.Xb(61,"strong",11),m.Xc(62),m.jc(63,"translate"),m.Wb(),m.Wb(),m.Xb(64,"div",1),m.Xb(65,"div",11),m.Xc(66),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(3),m.sc("nzText",m.kc(4,20,null==e.patientDetails||null==e.patientDetails.fullName?null:e.patientDetails.fullName.charAt(0))),m.rc("nzSize",64)("nzSrc",null==e.patientDetails?null:e.patientDetails.profilePhotoURL),m.Db(3),m.rc("nzColumn",1),m.Db(3),m.Yc(null==e.patientDetails?null:e.patientDetails.fullName),m.Db(3),m.Zc("",null==e.patientDetails?null:e.patientDetails.age," Yrs "),m.Db(3),m.Yc(null==e.patientDetails?null:e.patientDetails.gender),m.Db(5),m.Zc(" ",m.lc(21,22,null==e.patientDetails?null:e.patientDetails.dateOfBirth,"mediumDate"),""),m.Db(6),m.Zc("",m.kc(27,25,"COMMON.E-MAIL"),":"),m.Db(3),m.Yc((null==e.patientDetails?null:e.patientDetails.email)||"N/A"),m.Db(5),m.Zc(" ",m.kc(35,27,"COMMON.USERNAME")," :"),m.Db(3),m.Yc((null==e.patientDetails?null:e.patientDetails.username)||"N/A"),m.Db(5),m.Zc("",m.kc(43,29,"TABLEHEADER.MOBILE"),":"),m.Db(3),m.Yc((null==e.patientDetails?null:e.patientDetails.mobile)||"N/A"),m.Db(2),m.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.dateOfBirth)>0),m.Db(5),m.Zc("",m.kc(53,31,"TABLEHEADER.GENDER"),":"),m.Db(3),m.Yc((null==e.patientDetails?null:e.patientDetails.gender)||"N/A"),m.Db(2),m.rc("ngIf",(null==e.patientDetails?null:e.patientDetails.profileTags)&&(null==e.patientDetails||null==e.patientDetails.profileTags?null:e.patientDetails.profileTags.length)),m.Db(5),m.Zc("",m.kc(63,33,"COMMON.ADDRESS"),":"),m.Db(4),m.Zc(" ",(null==e.patientDetails||null==e.patientDetails.address?null:e.patientDetails.address.line1)||"N/A"," "))},directives:[Tt.a,J.c,J.a,Dn.a,Hb.a,Hb.b,Q.a,K.a,E.q,E.p,hi.a],pipes:[E.C,E.e,rt.a],styles:["#header[_ngcontent-%COMP%]{text-align:center;font-family:serif}nz-card[_ngcontent-%COMP%]{border-radius:5px!important}.font-color[_ngcontent-%COMP%]{color:#000}#avatar[_ngcontent-%COMP%]{color:#f56a00;background-color:#fde3cf}[_nghost-%COMP%]     .ant-descriptions-item-label{color:var(--neutral-color)!important}[_nghost-%COMP%]     .ant-descriptions-row>td{padding:0!important}h2[_ngcontent-%COMP%]{margin-bottom:0!important}[_nghost-%COMP%]     .ant-card{background:none}"]}),qb),Qb=function(){var t=function t(){u(this,t)};return t.STRINGS=new Array("VIDEOCALL.PATIENT_PROFILE","COMMON.PATIENTINFO","TITLE.VITALS"),t}(),Kb=((Yb=function(){function t(e,n,i){u(this,t),this._viewContainerRef=e,this._templateRef=n,this._cdRef=i,this.videocallVitals=new Array("Systolic","SYSTOLIC","Diastolic","DIASTOLIC","SPO2","Oxygen Saturation","HEARTRATE","Heart Rate","RESPIRATION","Respiration","Pulse Pressure","PULSE_PRESSURE")}return p(t,[{key:"ngAfterViewInit",value:function(){var t=this,e=this.videocallVitals.find(function(e){return t.isVitalPresent==e});console.log("isPresent  :  ",e),null==e?this.disableFeature():this.enableFeature()}},{key:"enableFeature",value:function(){this._viewContainerRef.createEmbeddedView(this._templateRef),this._cdRef.detectChanges()}},{key:"disableFeature",value:function(){this._viewContainerRef.clear(),this._cdRef.detectChanges()}}]),t}()).\u0275fac=function(t){return new(t||Yb)(m.Rb(m.R),m.Rb(m.N),m.Rb(m.h))},Yb.\u0275dir=m.Mb({type:Yb,selectors:[["","isVitalPresent",""]],inputs:{isVitalPresent:"isVitalPresent"}}),Yb),Jb=["localVideo"],$b=["remoteVideo"];function th(t,e){if(1&t&&(m.Xb(0,"span",43),m.Xb(1,"p"),m.Xc(2),m.jc(3,"translate"),m.Wb(),m.Wb()),2&t){var n=m.ic();m.Db(2),m.ad(" ",n.participantNameString," ",m.kc(3,2,"VIDEOCALL.NOT_ANSWERING_THE_CALL")," ")}}function eh(t,e){1&t&&m.Sb(0,"em",44)}function nh(t,e){1&t&&(m.Xb(0,"p",45),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Yc(m.kc(2,1,"VIDEOCALL.CALLING")))}function ih(t,e){1&t&&(m.Xb(0,"p",45),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"VIDEOCALL.RINGING"),""))}function ah(t,e){if(1&t&&(m.Xb(0,"p",45),m.Xc(1),m.Wb()),2&t){var n=m.ic();m.Db(1),m.Zc(" Please wait while we connect you to ",n.participantNameString," ")}}function oh(t,e){1&t&&(m.Xb(0,"p",46),m.Sb(1,"nz-spin",47),m.Xc(2),m.jc(3,"translate"),m.Wb()),2&t&&(m.Db(1),m.rc("nzSize","large"),m.Db(1),m.Zc(" ",m.kc(3,2,"VIDEOCALL.RECONNECTING")," "))}function rh(t,e){if(1&t&&(m.Xb(0,"p",46),m.Sb(1,"nz-spin",47),m.Xc(2),m.jc(3,"translate"),m.jc(4,"translate"),m.Wb()),2&t){var n=m.ic();m.Db(1),m.rc("nzSize","large"),m.Db(1),m.bd(" ",m.kc(3,4,"VIDEOCALL.PLEASE_WAIT_WHILE")," ",n.participantNameString," ",m.kc(4,6,"VIDEOCALL.RECONNECT_TO_CALL")," ")}}function ch(t,e){1&t&&(m.Xb(0,"p",48),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"VIDEOCALL.CALL_RECONNECTED")," "))}function sh(t,e){if(1&t&&(m.Xb(0,"p",48),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t){var n=m.ic();m.Db(1),m.ad(" ",n.participantNameString," ",m.kc(2,2,"VIDEOCALL.RECONNECTED")," ")}}function lh(t,e){1&t&&(m.Xb(0,"p",49),m.Sb(1,"app-icons",50),m.Xc(2),m.jc(3,"translate"),m.Wb()),2&t&&(m.Db(2),m.Zc(" ",m.kc(3,1,"VIDEOCALL.CONNECTION_INTERRUPTED")," "))}function uh(t,e){if(1&t&&(m.Xb(0,"span"),m.Xc(1),m.Wb()),2&t){var n=m.ic();m.Db(1),m.Zc(" ",n.participantNameString," ")}}function dh(t,e){1&t&&(m.Xb(0,"div",51),m.Sb(1,"div",52),m.Sb(2,"div",53),m.Sb(3,"div",54),m.Sb(4,"div",55),m.Sb(5,"div",56),m.Wb())}function ph(t,e){1&t&&(m.Xb(0,"div",57),m.Sb(1,"div",52),m.Sb(2,"div",53),m.Sb(3,"div",54),m.Sb(4,"div",55),m.Sb(5,"div",56),m.Wb())}function bh(t,e){1&t&&(m.Xb(0,"div",58),m.Sb(1,"div",52),m.Sb(2,"div",53),m.Sb(3,"div",54),m.Sb(4,"div",55),m.Sb(5,"div",56),m.Wb())}function hh(t,e){1&t&&(m.Xb(0,"div",59),m.Sb(1,"div",52),m.Sb(2,"div",53),m.Sb(3,"div",54),m.Sb(4,"div",55),m.Sb(5,"div",56),m.Wb())}function gh(t,e){1&t&&(m.Xb(0,"div",60),m.Sb(1,"div",52),m.Sb(2,"div",53),m.Sb(3,"div",54),m.Sb(4,"div",55),m.Sb(5,"div",56),m.Wb())}function fh(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",61),m.ec("click",function(){return m.Lc(n),m.ic().show("PATIENT_PROFILE",null)}),m.Xb(1,"a"),m.Xc(2),m.jc(3,"translate"),m.Sb(4,"app-icons",62),m.Wb(),m.Wb()}2&t&&(m.Db(2),m.Zc("",m.kc(3,1,"VIDEOCALL.PATIENT_PROFILE")," \xa0 "))}function vh(t,e){if(1&t){var n=m.Yb();m.Xb(0,"li",61),m.ec("click",function(){m.Lc(n);var t=m.ic();return t.show("VITALS",t.vitalData)}),m.Xb(1,"a"),m.Xc(2),m.jc(3,"translate"),m.Sb(4,"app-icons",62),m.Wb(),m.Wb()}2&t&&(m.Db(2),m.Zc("",m.kc(3,1,"VIDEOCALL.VITAL_REPORT")," \xa0 "))}function mh(t,e){if(1&t&&(m.Xb(0,"div",63),m.Sb(1,"em",64),m.Xb(2,"p",65),m.Xc(3),m.jc(4,"translate"),m.Wb(),m.Wb()),2&t){var n=m.ic();m.Db(3),m.ad("",n.participantNameString," ",m.kc(4,2,"VIDEOCALL.CURRENTLY_MEASURING_VITALS"),"")}}function Sh(t,e){if(1&t&&(m.Xb(0,"span",69),m.Xb(1,"em"),m.hc(),m.Xb(2,"svg",70),m.Sb(3,"path",71),m.Wb(),m.Wb(),m.Xc(4),m.jc(5,"translate"),m.Wb()),2&t){var n=m.ic(2);m.Db(4),m.ad(" ",n.participantNameString," ",m.kc(5,2,"VIDEOCALL.VIDEO_PAUSED")," ")}}function yh(t,e){if(1&t&&(m.Xb(0,"span",72),m.Xb(1,"em"),m.hc(),m.Xb(2,"svg",73),m.Sb(3,"path",74),m.Wb(),m.Wb(),m.Xc(4),m.jc(5,"translate"),m.Wb()),2&t){var n=m.ic(2);m.Db(4),m.ad(" ",n.participantNameString," ",m.kc(5,2,"VIDEOCALL.AUDIO_MUTED")," ")}}function Th(t,e){1&t&&(m.Xb(0,"span",75),m.Sb(1,"app-icons",50),m.Xc(2),m.jc(3,"translate"),m.Wb()),2&t&&(m.Db(2),m.Zc(" ",m.kc(3,1,"VIDEOCALL.SLOW_NETWORK_MESSAGE")," "))}function Ch(t,e){if(1&t&&(m.Xb(0,"div",32),m.Vc(1,Sh,6,4,"span",66),m.Vc(2,yh,6,4,"span",67),m.Vc(3,Th,4,3,"span",68),m.Wb()),2&t){var n=m.ic();m.Db(1),m.rc("ngIf",!n.isRemoteVideoEnabled),m.Db(1),m.rc("ngIf",!n.isRemoteAudioEnabled),m.Db(1),m.rc("ngIf",n.showBadNetworkMessage)}}function Eh(t,e){1&t&&(m.Xb(0,"span",78),m.Xb(1,"em",78),m.hc(),m.Xb(2,"svg",70),m.Sb(3,"path",71),m.Wb(),m.Wb(),m.Xc(4),m.jc(5,"translate"),m.Wb()),2&t&&(m.Db(4),m.Zc(" ",m.kc(5,1,"VIDEOCALL.VIDEO_PAUSED")," "))}function Ih(t,e){1&t&&(m.Xb(0,"span",78),m.Xb(1,"em",78),m.hc(),m.Xb(2,"svg",73),m.Sb(3,"path",74),m.Wb(),m.Wb(),m.Xc(4),m.jc(5,"translate"),m.Wb()),2&t&&(m.Db(4),m.Zc(" ",m.kc(5,1,"VIDEOCALL.AUDIO_MUTED")," "))}function Mh(t,e){if(1&t&&(m.Xb(0,"div",23),m.Xb(1,"div",76),m.Vc(2,Eh,6,3,"span",77),m.Vc(3,Ih,6,3,"span",77),m.Wb(),m.Wb()),2&t){var n=m.ic();m.Db(2),m.rc("ngIf",n.btnCamera),m.Db(1),m.rc("ngIf",n.btnMic)}}function Ah(t,e){1&t&&(m.Xb(0,"em"),m.hc(),m.Xb(1,"svg",70),m.Sb(2,"path",71),m.Wb(),m.Wb())}function _h(t,e){1&t&&(m.Xb(0,"em"),m.hc(),m.Xb(1,"svg",80),m.Sb(2,"path",81),m.Wb(),m.Wb())}function Dh(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",79),m.ec("click",function(t){return m.Lc(n),m.ic().pause(t,"video")}),m.Vc(1,Ah,3,0,"em",16),m.Vc(2,_h,3,0,"em",16),m.Wb()}if(2&t){var i=m.ic();m.Db(1),m.rc("ngIf",i.btnCamera),m.Db(1),m.rc("ngIf",!i.btnCamera)}}function zh(t,e){1&t&&(m.Xb(0,"em"),m.hc(),m.Xb(1,"svg",73),m.Sb(2,"path",74),m.Wb(),m.Wb())}function Oh(t,e){1&t&&(m.Xb(0,"em"),m.hc(),m.Xb(1,"svg",82),m.Sb(2,"path",83),m.Wb(),m.Wb())}function kh(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",79),m.ec("click",function(t){return m.Lc(n),m.ic().pause(t,"audio")}),m.Vc(1,zh,3,0,"em",16),m.Vc(2,Oh,3,0,"em",16),m.Wb()}if(2&t){var i=m.ic();m.Db(1),m.rc("ngIf",i.btnMic),m.Db(1),m.rc("ngIf",!i.btnMic)}}function Nh(t,e){1&t&&m.Sb(0,"app-icons",84)}function Ph(t,e){1&t&&m.Sb(0,"app-icons",85)}function Rh(t,e){if(1&t&&(m.Xb(0,"div"),m.Sb(1,"nz-alert",87),m.jc(2,"translate"),m.jc(3,"translate"),m.Wb()),2&t){var n=m.ic(3);m.Db(1),m.sc("nzMessage",m.kc(2,3,"VIDEOCALL.VITAL_CANCELED")),m.uc("nzDescription","",n.participantNameString," ",m.kc(3,5,"VIDEOCALL.CANCELLED_VITAL_MEASUREMENT"),"")}}function Xh(t,e){1&t&&(m.Xb(0,"div"),m.Sb(1,"nz-alert",88),m.jc(2,"translate"),m.jc(3,"translate"),m.Wb()),2&t&&(m.Db(1),m.sc("nzMessage",m.kc(2,2,"COMMON.ERROR")),m.sc("nzDescription",m.kc(3,4,"VIDEOCALL.ERROR_WHILE_MESASURING_VITAL")))}function Lh(t,e){1&t&&(m.Xb(0,"p",103),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"VIDEOCALL.LOW_STRESS")," "))}function wh(t,e){1&t&&(m.Xb(0,"p",104),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"VIDEOCALL.NORMAL_STRESS")," "))}function Wh(t,e){1&t&&(m.Xb(0,"p",105),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"VIDEOCALL.MILD_STRESS")," "))}function Vh(t,e){1&t&&(m.Xb(0,"p",106),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"VIDEOCALL.HIGH_STRESS")," "))}function xh(t,e){1&t&&(m.Xb(0,"p",107),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"VIDEOCALL.VERY_HIGH_STRESS")," "))}function Uh(t,e){if(1&t&&(m.Xb(0,"div"),m.Vc(1,Lh,3,3,"p",98),m.Vc(2,wh,3,3,"p",99),m.Vc(3,Wh,3,3,"p",100),m.Vc(4,Vh,3,3,"p",101),m.Vc(5,xh,3,3,"p",102),m.Wb()),2&t){var n=m.ic(3).$implicit,i=m.ic(4);m.Db(1),m.rc("ngIf",i.getNumber(n.value)>=0&&i.getNumber(n.value)<=80),m.Db(1),m.rc("ngIf",i.getNumber(n.value)>80&&i.getNumber(n.value)<=150),m.Db(1),m.rc("ngIf",i.getNumber(n.value)>150&&i.getNumber(n.value)<=400),m.Db(1),m.rc("ngIf",i.getNumber(n.value)>400&&i.getNumber(n.value)<=800),m.Db(1),m.rc("ngIf",i.getNumber(n.value)>800)}}function Fh(t,e){if(1&t&&(m.Xb(0,"p",108),m.Xc(1),m.Wb()),2&t){var n=m.ic(3).$implicit;m.Db(1),m.ad("",n.value," ",n.unit,"")}}function Hh(t,e){if(1&t&&(m.Vc(0,Uh,6,5,"div",16),m.Vc(1,Fh,2,2,"p",97)),2&t){var n=m.ic(2).$implicit;m.rc("ngIf","Stress Index"==n.title),m.Db(1),m.rc("ngIf","Stress Index"!=n.title)}}function Bh(t,e){if(1&t&&(m.Xb(0,"p",109),m.Xc(1),m.Wb()),2&t){var n=m.ic(2).$implicit;m.Db(1),m.Yc(n.title)}}function jh(t,e){1&t&&(m.Xb(0,"em",112),m.hc(),m.Xb(1,"svg"),m.Xb(2,"g"),m.Xb(3,"g",113),m.Sb(4,"path",114),m.Sb(5,"path",115),m.Sb(6,"path",116),m.Sb(7,"path",117),m.Wb(),m.Wb(),m.Wb(),m.Wb())}function Gh(t,e){1&t&&(m.Xb(0,"em",118),m.hc(),m.Xb(1,"svg",119),m.Sb(2,"path",120),m.Wb(),m.Wb())}function Yh(t,e){1&t&&(m.Xb(0,"em",118),m.hc(),m.Xb(1,"svg",119),m.Sb(2,"path",121),m.Wb(),m.Wb())}function qh(t,e){1&t&&(m.Xb(0,"em",118),m.hc(),m.Xb(1,"svg",119),m.Sb(2,"path",122),m.Wb(),m.Wb())}function Zh(t,e){if(1&t&&(m.Vc(0,jh,8,0,"em",110),m.Vc(1,Gh,3,0,"em",111),m.Vc(2,Yh,3,0,"em",111),m.Vc(3,qh,3,0,"em",111)),2&t){var n=m.ic(2).$implicit;m.rc("ngIf","Stress Index"==n.title),m.Db(1),m.rc("ngIf","Oxygen Saturation"==n.title),m.Db(1),m.rc("ngIf","Heart Rate"==n.title),m.Db(1),m.rc("ngIf","Respiration"==n.title)}}function Qh(t,e){if(1&t&&(m.Xb(0,"div"),m.Xb(1,"nz-card",92),m.Sb(2,"nz-card-meta",93),m.Vc(3,Hh,2,2,"ng-template",null,94,m.Wc),m.Vc(5,Bh,2,1,"ng-template",null,95,m.Wc),m.Vc(7,Zh,4,4,"ng-template",null,96,m.Wc),m.Wb(),m.Wb()),2&t){var n=m.Ic(4),i=m.Ic(6),a=m.Ic(8),o=m.ic(5);m.Db(1),m.rc("nzBordered",!1)("nzHoverable",!0)("nzBodyStyle",o.cardBody),m.Db(1),m.rc("nzAvatar",a)("nzTitle",i)("nzDescription",n)}}function Kh(t,e){if(1&t&&(m.Xb(0,"div"),m.Vc(1,Qh,9,6,"div",91),m.Wb()),2&t){var n=e.$implicit;m.Db(1),m.rc("isVitalPresent",n.title)}}function Jh(t,e){if(1&t&&(m.Xb(0,"div",89),m.Vc(1,Kh,2,1,"div",90),m.Wb()),2&t){var n=m.ic(3);m.Db(1),m.rc("ngForOf",n.vitalData)}}function $h(t,e){if(1&t&&(m.Xb(0,"div"),m.Vc(1,Rh,4,7,"div",16),m.Vc(2,Xh,4,6,"div",16),m.Vc(3,Jh,2,1,"div",86),m.Wb()),2&t){var n=m.ic(2);m.Db(1),m.rc("ngIf",n.isVitalMeasuringCancelled),m.Db(1),m.rc("ngIf",n.isVitalMeasuringError),m.Db(1),m.rc("ngIf",n.isVitalMeasuringCompleted)}}function tg(t,e){if(1&t&&m.Vc(0,$h,4,3,"div",16),2&t){var n=m.ic();m.rc("ngIf","VITALS"==n.type)}}var eg,ng,ig=((ng=function(t){o(i,t);var e=c(i);function i(t,n,a,o,r,c,s,l){var d;return u(this,i),(d=e.call(this)).videoCallService=t,d._route=n,d.translationService=a,d.applicationInsightsService=o,d._drawerService=r,d.networkMonitorService=c,d._globalEventsService=s,d.document=l,d.videoCallState="video-call-closed",d.btnActive=!1,d.active=!0,d.participants=new Array,d.audio=new Audio,d.notAnswering=!1,d.answered=!1,d.btnCamera=!1,d.btnMic=!1,d.declined=!1,d.continue=!0,d.videoActive=!1,d.env="prod",d.isVisible=!1,d.type="VITALS",d.isOpen=!0,d.isHeaderVisible=!1,d.visible=!1,d.drawerWidth=400,d.drawerHeight="100%",d.backgroundColor={"background-color":"#fff"},d.cardBody={"background-color":"#33333d","border-radius":"20px",color:"#fff"},d.drawerTitle="Vitals",d.participantNameString="Patient",d.isFullScreen=!1,d.isRemoteVideoEnabled=!0,d.isRemoteAudioEnabled=!0,d.isVitalMeasuringError=!1,d.isVitalMeasuringInProgress=!1,d.isVitalMeasuringCompleted=!1,d.isVitalMeasuringCancelled=!1,d.vitalData=new Array,d.calling=!0,d.ringing=!1,d.patientAlreadyInRoom=!1,d.showBadNetworkMessage=!1,d.retryCount=0,d.averageQuality=3,d.qualityArray=new Array,d.participantIdMap=new Map,d.reconnected=!1,d.reconnecting=!1,d.participantReconnecting=!1,d.participantReconnected=!1,d.isOffline=!1,d.userVideoPaused=!1,d.properties=new Map,d.clickedEndBtn=!1,d}return p(i,[{key:"beforeunload",value:function(t){this.clickedEndBtn?this.disconnect():(t.returnValue=!1,t.preventDefault())}},{key:"ngOnInit",value:function(){this.initTranslation(),this.elem=document.documentElement,this.getDataFromURL(),this.init(),this.qualityTimer(),this.networkState$=this.networkMonitorService.monitor()}},{key:"initTranslation",value:function(){var t,e=this;(t=this.translationService).getMultiple.apply(t,n(Qb.STRINGS)).subscribe(function(t){return e.translatedStrings=t})}},{key:"init",value:function(){this.refreshEvent.subscribe(function(t){})}},{key:"handleAppointmentEvent",value:function(){this.appointmentId&&this._globalEventsService.postParentWindowMessage({appointmentId:this.appointmentId,callSessionId:this.videoCallSession.id},"VIDEO_APPOINTMENT")}},{key:"qualityTimer",value:function(){var t=this;this.timerId=setInterval(function(){t.qualityArray.length>0&&(t.averageQuality=t.qualityArray.reduce(function(t,e){return t+e},0)/t.qualityArray.length,t.trackEnableDisable(t.averageQuality<2));var e=t.qualityArray[t.qualityArray.length-1];t.qualityArray=[],t.qualityArray.push(e)},15e3)}},{key:"onOnline",value:function(){return Object(Ob.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.timeout(3e3);case 2:this.connectionStatus="ONLINE";case 3:case"end":return t.stop()}},t,this)}))}},{key:"ngOnDestroy",value:function(){}},{key:"toggleFullScreen",value:function(){this.isFullScreen=this.isFullScreen?Ub.closeFullscreen(this.elem,this.isFullScreen,this.document):Ub.openFullscreen(this.elem,this.isFullScreen,this.document)}},{key:"getDataFromURL",value:function(){var t=this;this._route.params.forEach(function(e){t.patientId=e.patientId}),this.properties.set("CALEE",this.patientId),this._route.queryParams.forEach(function(e){t.appointmentId=e.appointmentId,t.appointmentSessionId=e.appointmentSessionId,t.env=e.env,t.region=e.region,"debug"==t.env&&(t.debugEnabled=!0)}),null==this.patientId&&console.error("No patients found"),this.appointmentSessionId?this.initiateAppointment():this.call()}},{key:"openPatientProfile",value:function(){this.drawerWidth=1e3,this.drawerTitle=this.translatedStrings.get("VIDEOCALL.PATIENT_PROFILE"),this.backgroundColor={"background-color":"#00000052"}}},{key:"open",value:function(){this.visible=!0}},{key:"close",value:function(){this.visible=!1}},{key:"initiateAppointment",value:function(){var t=this;this.userId=localStorage.getItem("loggedInUser"),this.properties.set("CALLER",this.userId),this.videoCallService.getVideoCallSession(this.appointmentSessionId).subscribe(function(e){t.videoCallService.checkVideoSessionStatus(e.id,t.appointmentId).subscribe(function(n){n&&(t.patientAlreadyInRoom=!0),t.initateVideoCall(e),console.log(n)})})}},{key:"call",value:function(){var t=this;this.userId=localStorage.getItem("loggedInUser"),this.properties.set("CALLER",this.userId);var e=new Pb.a;e.createdById=this.userId,e.tenantId=localStorage.getItem("loggedInTenant"),e.participantIds=[this.patientId,this.userId],e.env=this.env,e.region=this.region,this.videoCallService.createVideoCallSessions(e).subscribe(function(e){null==e?t.disconnect():t.initateVideoCall(e)},function(e){t.clickedEndBtn=!0,t.disconnect()})}},{key:"getLocation",value:function(){var t=this;this.applicationInsightsService.logEvent("Get Location! Insights from Portal!",null,null),navigator.geolocation.getCurrentPosition(function(e){t.videocallSocket.onLocationShare(e.coords)},function(e){return t.videocallSocket.onLocationShareError(e.message),console.error("Error fetching geolocation.",e),null},{enableHighAccuracy:!0,timeout:15e3,maximumAge:0})}},{key:"initateVideoCall",value:function(t){this.videoCallState="video-call-full-screen",this.videocallSocket=new xb(t,this.userId,this.appointmentId),this.videocall=this.videocallSocket,this.videocall.registerObserver(this),this.videocallSocket.initVideocallSocket(),this.videoCallSession=t,this.getParticipants(),null!=t&&this.connectToSession(t)}},{key:"connectToSession",value:function(t){var e=this,n=localStorage.getItem("loggedInUser");this.videoCallService.getTwilioVideoCallToken(t.id,n).subscribe(function(n){Object(kb.createLocalTracks)({audio:!0,mode:"grid",video:{width:352,frameRate:24},networkQuality:{local:1,remote:2}}).then(function(i){return e.videocallSocket.onJoining(),e.localTracks=i,Ub.playAudio(e.audio),console.log("Local Tracks : ",i),i.forEach(function(t){e.localVideo.nativeElement.appendChild(t.attach());for(var n=e.localVideo.nativeElement.getElementsByTagName("VIDEO"),i=0;i<n.length;i++)"VIDEO"===n[i].tagName&&(n[i].style.width="240px")}),Object(kb.connect)(n.token,{name:t.id,bandwidthProfile:{video:{mode:"grid",trackSwitchOffMode:"detected",maxSubscriptionBitrate:24e5,dominantSpeakerPriority:"standard",maxTracks:3,renderDimensions:{high:{width:1280,height:720},standard:{width:352,height:288},low:{width:176,height:144}}}},dominantSpeaker:!0,enableTurn:!0,tracks:i,networkQuality:!0})}).then(function(t,n){e.room=t,e.getLocalTrack("video"),e.patientAlreadyInRoom||e.sleep(),t.localParticipant.setNetworkQualityConfiguration({local:2,remote:1}),t.participants.forEach(function(t){console.log('Participant "'.concat(t.identity,'" is connected to the Room')),e.onParticipantConnected(t,n)}),t.localParticipant.on("networkQualityLevelChanged",function(t,n){return e.onNetworkQualityChange(t,n)}),t.on("participantConnected",function(t){return e.onParticipantConnected(t,n)}),t.on("participantDisconnected",function(t){return e.onParticipantDisconnected(t)}),t.on("disconnected",function(t,n){return e.onDisconnected(t,n)}),t.on("reconnecting",function(t){return e.onReconnecting(t)}),t.on("reconnected",function(){return e.onReconnected()}),t.on("participantReconnecting",function(t){return e.onRemoteParticipantReconnecting(t)}),t.on("participantReconnected",function(t){return e.onRemotedParticipantReconnected(t)})})})}},{key:"getLocalTrack",value:function(t){var e;return this.localTracks.forEach(function(n){n.kind==t&&(e=n)}),e}},{key:"onRemoteParticipantReconnecting",value:function(t){if(this.answered){try{Ub.playReconnectingTone(this.audio)}catch(e){console.error("Play Reconnecting audio error : ",e)}this.participantReconnecting=!0,this.participantReconnected=!1}}},{key:"onRemotedParticipantReconnected",value:function(t){return Object(Ob.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.answered){t.next=8;break}try{Ub.stopAudio(this.audio)}catch(e){console.error("Stop Reconnecting audio error : ",e)}return this.participantReconnecting=!1,this.participantReconnected=!0,t.next=6,this.timeout(3e3);case 6:this.participantReconnected=!1,this.videocallSocket.sentParticipantCurrentStatus();case 8:case"end":return t.stop()}},t,this)}))}},{key:"onReconnecting",value:function(t){if(this.answered){try{Ub.playReconnectingTone(this.audio)}catch(e){console.error("Play Reconnecting audio : ",e)}this.reconnected=!1,this.reconnecting=!0}53001===t.code?console.log("Reconnecting your signaling connection!",t.message):53405===t.code&&console.log("Reconnecting your media connection!",t.message)}},{key:"onReconnected",value:function(){return Object(Ob.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.answered){t.next=8;break}try{Ub.stopAudio(this.audio)}catch(e){console.error("Stop Reconnecting audio : ",e)}return this.reconnecting=!1,this.reconnected=!0,this.videocallSocket.sentParticipantCurrentStatus(),t.next=7,this.timeout(3e3);case 7:this.reconnected=!1;case 8:case"end":return t.stop()}},t,this)}))}},{key:"onNetworkQualityChange",value:function(t,e){console.log("Track Priority level : ",this.room),null!=t&&this.qualityArray.push(t),this.videocallSocket.onNetworkQualityChange(t),this.networkQuality=Ub.onNetworkQualityChange(t,e),this.showBadNetworkMessage=t<=2}},{key:"timeout",value:function(t){return new Promise(function(e){return setTimeout(e,t)})}},{key:"onSocketConnectionOpened",value:function(t){var e=this;this.getLocation(),this.networkState$.subscribe(function(t){console.log("Network State  :  ",t),t.hasNetworkConnection&&e.videocallSocket.sentParticipantCurrentStatus()})}},{key:"onSocketConnectionClosed",value:function(t){console.log("Video call socket closed")}},{key:"onSocketConnectionError",value:function(t){this.applicationInsightsService.handleError(t),console.error("Videocall socket error : ",t)}},{key:"onImageError",value:function(){console.log("HERE")}},{key:"show",value:function(t,e){switch(this.type=t,t){case"VITALS":this.open(),this.showVitals();break;case"PATIENT_PROFILE":this.showUserInfo()}}},{key:"showUserInfo",value:function(){this._drawerService.create({nzTitle:this.translatedStrings.get("COMMON.PATIENTINFO"),nzContent:Zb,nzContentParams:{patientId:this.patientId},nzPlacement:"left",nzWidth:450})}},{key:"showVitals",value:function(){this.drawerWidth=400,this.drawerHeight="500",this.backgroundColor={"background-color":"#080707","text-align":"-webkit-center",height:"100%","padding-left":"0px"},this.cardBody={"background-color":"#33333d","border-radius":"12px",color:"#fff"},this.drawerTitle=this.translatedStrings.get("TITLE.VITALS"),this.type="VITALS"}},{key:"sleep",value:function(){return Object(Ob.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.timeout(3e4);case 2:return this.notAnswering=!0,t.next=5,this.timeout(1e4);case 5:this.answered||(this.clickedEndBtn=!0,this.disconnect());case 6:case"end":return t.stop()}},t,this)}))}},{key:"onParticipantConnected",value:function(t,e){var n=this;this.videocallSocket.sentParticipantCurrentStatus(),this.calling=!1,this.ringing=!1,this.answered=!0,t.on("trackSubscribed",function(e){return n.trackSubscribed(t,e)}),t.on("trackUnsubscribed",function(t){return n.trackUnsubscribed(t)}),t.on("subscriptionFailed",function(i){return n.subscriptionFailed(e,t)}),this.notAnswering=!1,Ub.stopAudio(this.audio),this.addParticipant(t),this.btnActive=!0}},{key:"subscriptionFailed",value:function(t,e){console.log("Failed to subscribe to RemoteTrack ${publication.trackSid}:",t)}},{key:"trackEnableDisable",value:function(t){var e=this;null!=this.localTracks&&0!=this.localTracks.length&&this.localTracks.forEach(function(n){"video"==n.kind&&t?(e.btnCamera=!0,e.videocallSocket.onVideoPaused(),n.disable()):"video"!=n.kind||t||e.userVideoPaused||(e.btnCamera=!1,e.videocallSocket.onVideoPlayed(),n.enable())})}},{key:"onParticipantDisconnected",value:function(t){this.clickedEndBtn=!0,console.log("On Participant Disconnected callback from Twilio!!!"),this.detachParticipantTracks(t),this.disconnect()}},{key:"onDisconnected",value:function(t,e){var n=this;this.clickedEndBtn=!0,null!=e&&(20104===e.code?console.warn("Signaling reconnection failed due to expired AccessToken!"):53e3===e.code?console.warn("Signaling reconnection attempts exhausted!"):53204===e.code&&console.warn("Signaling reconnection took too long!")),console.log("Disconnect callback from Twilio!!!"),this.localTracks.forEach(function(t){t.stop()}),this.detachParticipantTracks(t.localParticipant),t.participants.forEach(function(t){n.detachParticipantTracks(t)}),this.room=null,this.videoCallState="video-call-closed",this.disconnect()}},{key:"detachParticipantTracks",value:function(t){this.getTracks(t).forEach(function(t){t.detach().forEach(function(t){t.remove()})})}},{key:"getTracks",value:function(t){return Array.from(t.tracks.values()).filter(function(t){return t.track}).map(function(t){return t.track})}},{key:"addParticipant",value:function(t){var e=this;t.tracks.forEach(function(t){t.isSubscribed&&e.addRemoteTrack(t.track)}),t.on("trackSubscribed",function(t){console.log("Participant track Subscribed!"),e.addRemoteTrack(t)})}},{key:"trackSubscribed",value:function(t,e){var n=this;t.on("trackUnpublished",function(t){return n.trackUnpublished(e)}),t.on("trackPublished",function(t){return n.trackPublished(e)}),e.on("switchedOff",function(){console.log("The RemoteTrack ".concat(e.name," was switched off"))}),e.on("switchedOn",function(){console.log("The RemoteTrack ".concat(e.name," was switched on"))})}},{key:"trackUnsubscribed",value:function(t){console.log("Track Unsubscribed!!!",t);var e=document.getElementById("remoteVideo");e.childNodes.forEach(function(n){n.nodeName==t.kind.toUpperCase()&&(console.log("Node Removing : ",n.nodeName),console.log("Track Type : ",t.kind),e.removeChild(n))}),this.videoActive=!1,this.updateRemoteVideosLayout()}},{key:"trackUnpublished",value:function(t){console.log("Track Unpublished!!!",t);var e=document.getElementById("remoteVideo");e.childNodes.forEach(function(n){n.nodeName==t.kind.toUpperCase()&&(console.log("Node Removing : ",n.nodeName),console.log("Track Type : ",t.kind),e.removeChild(n))}),this.videoActive=!1,this.updateRemoteVideosLayout()}},{key:"trackPublished",value:function(t){document.getElementById("remoteVideo"),console.log("Participant track Published!!!!",t),this.isVitalMeasuringInProgress&&(this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!1,this.trackEnableDisable(!1),this.qualityTimer()),this.remoteVideo.nativeElement.appendChild(t.attach()),this.videoActive=!1,this.updateRemoteVideosLayout()}},{key:"addRemoteTrack",value:function(t){t.dimensionsChanged=function(){},this.remoteVideo.nativeElement.appendChild(t.attach()),this.updateRemoteVideosLayout()}},{key:"onResize",value:function(t){this.updateRemoteVideosLayout()}},{key:"updateRemoteVideosLayout",value:function(){var t=window.innerWidth,e=window.innerHeight,n=this.remoteVideo.nativeElement.getElementsByTagName("VIDEO");if(1===n.length)n[0].style.height=e+"px",n[0].style.width=t+"px";else for(var i=0;i<n.length;i++)2!==n[i].videoHeight?n[i].style.height=e+"px":n[i].style.display="none"}},{key:"trackEndHandler",value:function(t){}},{key:"disconnect",value:function(){this.clickedEndBtn=!0,clearTimeout(this.timerId);try{this.videocallSocket.onVideoCallDisconnect(),this.onCallExit(this.userId)}catch(t){console.error(t),this.onCallExit(this.userId)}}},{key:"pause",value:function(t,e){var n=this;this.localTracks.forEach(function(i){i.kind==e&&(i.isEnabled?("audio"==e?(n.btnMic=!0,n.videocallSocket.onAudioMute()):(n.userVideoPaused=!0,n.btnCamera=!0,n.videocallSocket.onVideoPaused()),i.disable(),t.target.classList.remove("active"),t.target.classList.add("paused")):("audio"==e?(n.btnMic=!1,n.videocallSocket.onAudioUnMute()):(n.userVideoPaused=!1,n.videocallSocket.onVideoPlayed(),n.btnCamera=!1),i.enable(),t.target.classList.remove("paused"),t.target.classList.add("active")))})}},{key:"getParticipants",value:function(){var t=this;this.videoCallService.getParticipantDetails(this.videoCallSession.id).subscribe(function(e){t.participants=e.filter(function(e){return e.id!=t.userId}),console.log("Participants : ",t.participants);var n=new Array;t.participants.forEach(function(e){n.push(e.fullName),t.participantIdMap.set(e.id,e)}),console.log("Participants : ",n),t.participantNameString=n.join(", "),console.log("Participants : ",t.participantNameString)})}},{key:"getNumber",value:function(t){return Number(t)}},{key:"update",value:function(t,e){throw new Error("Method not implemented.")}},{key:"onVideoPlayed",value:function(t){this.isRemoteVideoEnabled=!0}},{key:"onVideoPaused",value:function(t){this.isRemoteVideoEnabled=!1}},{key:"onRinging",value:function(t){this.answered||(this.calling=!1,this.ringing=!0)}},{key:"onMeasuringVital",value:function(t){this.isVitalMeasuringInProgress=!0,this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!1,clearTimeout(this.timerId),this.trackEnableDisable(!0),this.close()}},{key:"onVitalMeasuringComplete",value:function(t,e){this.isVitalMeasuringCompleted=!0,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!1,this.vitalData=t,this.trackEnableDisable(!1),this.qualityTimer(),this.show("VITALS",t)}},{key:"onVitalMeasuringCancelled",value:function(t){this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!0,this.isVitalMeasuringError=!1,this.trackEnableDisable(!1),this.qualityTimer(),this.close(),this.show("VITALS",null)}},{key:"onVitalMeasuringError",value:function(t){this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!0,this.close(),this.show("VITALS",null)}},{key:"onParticipantReconnected",value:function(t){this.videocallSocket.onReconnected()}},{key:"onMute",value:function(t){this.isRemoteAudioEnabled=!1}},{key:"onUnMute",value:function(t){this.isRemoteAudioEnabled=!0}},{key:"onCallReject",value:function(t){this.clickedEndBtn=!0,this.close(),console.log("Videocall Event changed(On Call Reject) : ",t),this.disconnect()}},{key:"onParticipantAdded",value:function(t){throw new Error("Method not implemented.")}},{key:"onParticipantWaiting",value:function(t){console.log("waiting"),this.videocallSocket.onJoining()}},{key:"onCallExit",value:function(t){this.clickedEndBtn=!0,null!=this.room&&this.room.disconnect(),this.continue=!1,this.close(),Ub.stopAudio(this.audio);try{this.videocallSocket.closeSocket()}catch(e){console.log(e)}this.handleAppointmentEvent(),this.debugEnabled||window.top.close()}},{key:"onParticipantShareState",value:function(t,e){this.close(),this.isRemoteVideoEnabled=e.videoEnabled,this.isRemoteAudioEnabled=e.audioEnabled,null!=e.vitalData&&0!=e.vitalData.length?(this.isVitalMeasuringCompleted=!0,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!1,null!=this.vitalData&&0==this.vitalData.length&&null!=e.vitalData&&e.vitalData.length>0?(this.vitalData=e.vitalData,this.show("VITALS",this.vitalData)):this.vitalData=e.vitalData):null!=e.isVitalMeasuringCancelled&&e.isVitalMeasuringCancelled?(this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!0,this.isVitalMeasuringError=!1):null!=e.isVitalMeasuringError&&e.isVitalMeasuringError&&(this.isVitalMeasuringCompleted=!1,this.isVitalMeasuringInProgress=!1,this.isVitalMeasuringCancelled=!1,this.isVitalMeasuringError=!0)}},{key:"onParticipantCallEnd",value:function(t){}},{key:"onOther",value:function(t,e){}}]),i}(Fb)).\u0275fac=function(t){return new(t||ng)(m.Rb(Nb.a),m.Rb(y.a),m.Rb(Jt.a),m.Rb(Yt.a),m.Rb(Ln.d),m.Rb(Ft),m.Rb(re),m.Rb(E.d))},ng.\u0275cmp=m.Lb({type:ng,selectors:[["app-twilio-video-call"]],viewQuery:function(t,e){var n;1&t&&(m.ed(Jb,1),m.ed($b,1)),2&t&&(m.Hc(n=m.fc())&&(e.localVideo=n.first),m.Hc(n=m.fc())&&(e.remoteVideo=n.first))},hostBindings:function(t,e){1&t&&m.ec("beforeunload",function(t){return e.beforeunload(t)},!1,m.Kc)("resize",function(t){return e.onResize(t)},!1,m.Kc)},features:[m.Ab],decls:56,vars:35,consts:[[2,"position","fixed",3,"ngClass"],["videoCallContainer",""],["id","remoteVideo",2,"display","flex","flex-grow","1","flex-direction","row","align-items","center","justify-content","center"],["remoteVideo",""],["class","notAnswering",4,"ngIf"],["id","camera-icon","class","Phone is-animating camera-icon scale-up-center",4,"ngIf"],["class","camera-icon calling-text",4,"ngIf"],["class","camera-icon calling-text reconnect-class",4,"ngIf"],["id","reconnected-msg","class","camera-icon calling-text reconnect-class",4,"ngIf"],["style","color: red; font-size: 14px; top: 100px;","class","camera-icon calling-text reconnect-class",4,"ngIf"],[1,"local-video","localVideoContainer"],["localVideo",""],["nz-row","",1,"header"],["nz-col","","nzSpan","2",2,"padding","10px"],["nz-col","","nzSpan","20"],[2,"text-align","center"],[4,"ngIf"],[1,"signal-strength-feedback"],["class","signal-bars mt1 sizing-box good five-bars",4,"ngIf"],["class","signal-bars mt1 sizing-box good four-bars",4,"ngIf"],["class","signal-bars mt1 sizing-box ok three-bars",4,"ngIf"],["class","signal-bars mt1 sizing-box bad two-bars",4,"ngIf"],["class","signal-bars mt1 sizing-box bad one-bar",4,"ngIf"],["nz-row",""],["nz-col","","nzSpan","24",2,"position","absolute"],[1,"social"],[3,"click",4,"ngIf"],["nz-col","","nzSpan","24",2,"position","absolute","top","0px","bottom","0px","width","100%"],["style","height:100%; background-color: #222;",4,"ngIf"],["nz-col","","nzSpan","24",4,"ngIf"],["nz-row","",4,"ngIf"],["nz-row","",1,"controls"],["nz-col","","nzSpan","24"],["nz-button","","nzType","default","class","active","nzShape","circle",3,"click",4,"ngIf"],["nz-button","","nzType","danger","nzShape","circle",1,"btn-disconnect",3,"click"],["color","#ffffff","name","phone"],["nz-row","",2,"position","fixed","bottom","0","right","5%"],["nz-col","","nzSpan","2","nzOffset","22"],["nz-button","","nzType","default","nzShape","circle",1,"btn-fullscreen",3,"click"],["name","fullscreen",4,"ngIf"],["name","fullscreenExit",4,"ngIf"],["nzKeyboard","true","nzPlacement","left",3,"nzClosable","nzContent","nzWidth","nzHeight","nzBodyStyle","nzVisible","nzOnClose"],["contentTemplate",""],[1,"notAnswering"],["id","camera-icon",1,"Phone","is-animating","camera-icon","scale-up-center"],[1,"camera-icon","calling-text"],[1,"camera-icon","calling-text","reconnect-class"],["nzSimple","",3,"nzSize"],["id","reconnected-msg",1,"camera-icon","calling-text","reconnect-class"],[1,"camera-icon","calling-text","reconnect-class",2,"color","red","font-size","14px","top","100px"],["name","wifi"],[1,"signal-bars","mt1","sizing-box","good","five-bars"],[1,"first-bar","bar"],[1,"second-bar","bar"],[1,"third-bar","bar"],[1,"fourth-bar","bar"],[1,"fifth-bar","bar"],[1,"signal-bars","mt1","sizing-box","good","four-bars"],[1,"signal-bars","mt1","sizing-box","ok","three-bars"],[1,"signal-bars","mt1","sizing-box","bad","two-bars"],[1,"signal-bars","mt1","sizing-box","bad","one-bar"],[3,"click"],["size","15px","color","#ffffff","name","file"],[2,"height","100%","background-color","#222"],["alt","Vital Measuring","src","https://portal.uborahealth.com/assets/Gif/scan-face.gif",1,"vital-measuring-animation"],[1,"wait-animation"],["class","on-video-pause",4,"ngIf"],["class","on-mute",4,"ngIf"],["class","on-bad-network",4,"ngIf"],[1,"on-video-pause"],["t","1588538610664","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","7563","width","200","height","200",1,"icon"],["d","M908.373333 630.186667V404.48c0-37.973333-46.08-57.173333-72.96-30.293333l-97.706666 98.133333v-149.333333c0-23.466667-19.2-42.666667-42.666667-42.666667h-239.36l380.16 380.16c26.453333 26.88 72.533333 7.68 72.533333-30.293333zM128 133.546667a42.496 42.496 0 0 0 0 60.16l86.186667 86.613333h-31.146667c-23.466667 0-42.666667 19.2-42.666667 42.666667v426.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h512c8.96 0 16.64-3.413333 23.466667-7.68l105.813333 105.813333a42.496 42.496 0 1 0 60.16-60.16L188.16 133.546667c-8.106667-8.106667-18.773333-12.373333-29.866667-12.373334s-22.186667 4.266667-30.293333 12.373334z","p-id","7564","fill","#d81e06"],[1,"on-mute"],["t","1588538224734","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","6004","width","200","height","200",1,"icon"],["d","M264.557738 540.013761l-57.709709 57.709709q-23.990855-58.879994-23.990855-122.294845l0-73.14285q0-14.847999 10.825142-25.746283t25.746283-10.825142 25.746283 10.825142 10.825142 25.746283l0 73.14285q0 30.28114 8.557713 64.585137zM901.119962 196.022937l-206.262837 206.262837 0 73.14285q0 75.410278-53.686852 129.170273t-129.170273 53.686852q-31.451426 0-62.317708-10.825142l-54.857138 54.857138q55.44228 29.110854 117.174846 29.110854 105.691418 0 180.882268-75.117707t75.117707-180.882268l0-73.14285q0-14.847999 10.825142-25.746283t25.746283-10.825142 25.746283 10.825142 10.825142 25.746283l0 73.14285q0 126.317702-84.260563 219.721122t-208.310837 107.154275l0 75.410278 146.2857 0q14.847999 0 25.746283 10.825142t10.825142 25.746283-10.825142 25.746283-25.746283 10.825142l-365.71425 0q-14.847999 0-25.746283-10.825142t-10.825142-25.746283 10.825142-25.746283 25.746283-10.825142l146.2857 0 0-75.410278q-71.460564-7.460571-134.290273-46.299424l-145.115414 145.115414q-5.705142 5.705142-13.165713 5.705142t-13.165713-5.705142l-46.884567-46.884567q-5.705142-5.705142-5.705142-13.165713t5.705142-13.165713l705.170217-705.170217q5.705142-5.705142 13.165713-5.705142t13.165713 5.705142l46.884567 46.884567q5.705142 5.705142 5.705142 13.165713t-5.705142 13.165713zM684.031983 120.539516l-354.889108 354.889108 0-292.5714q0-75.410278 53.686852-129.170273t129.170273-53.686852q58.294851 0 105.398847 33.718854t66.559994 86.820563z","p-id","6005","fill","#d81e06"],[1,"on-bad-network"],["nz-col","","nzSpan","24",1,"controls-feedback"],["class","paused",4,"ngIf"],[1,"paused"],["nz-button","","nzType","default","nzShape","circle",1,"active",3,"click"],["t","1588538567171","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","7397","width","200","height","200",1,"icon"],["d","M725.333333 448V298.666667c0-23.466667-19.2-42.666667-42.666666-42.666667H170.666667c-23.466667 0-42.666667 19.2-42.666667 42.666667v426.666666c0 23.466667 19.2 42.666667 42.666667 42.666667h512c23.466667 0 42.666667-19.2 42.666666-42.666667v-149.333333l97.706667 97.706667c26.88 26.88 72.96 7.68 72.96-30.293334V380.16c0-37.973333-46.08-57.173333-72.96-30.293333L725.333333 448z","p-id","7398","fill","#1afa29"],["t","1588538052639","viewBox","0 0 1024 1024","version","1.1","xmlns","http://www.w3.org/2000/svg","p-id","4494","width","200","height","200",1,"icon"],["d","M841.142857 402.285714v73.142857q0 126.285714-84.285714 219.714286T548.571429 802.285714v75.428572h146.285714q14.857143 0 25.714286 10.857143t10.857142 25.714285-10.857142 25.714286-25.714286 10.857143H329.142857q-14.857143 0-25.714286-10.857143t-10.857142-25.714286 10.857142-25.714285 25.714286-10.857143h146.285714v-75.428572q-124-13.714286-208.285714-107.142857T182.857143 475.428571V402.285714q0-14.857143 10.857143-25.714285t25.714285-10.857143 25.714286 10.857143 10.857143 25.714285v73.142857q0 105.714286 75.142857 180.857143T512 731.428571t180.857143-75.142857T768 475.428571V402.285714q0-14.857143 10.857143-25.714285t25.714286-10.857143 25.714285 10.857143 10.857143 25.714285z m-146.285714-219.428571v292.571428q0 75.428571-53.714286 129.142858t-129.142857 53.714285-129.142857-53.714285-53.714286-129.142858V182.857143q0-75.428571 53.714286-129.142857T512 0t129.142857 53.714286 53.714286 129.142857z","p-id","4495","fill","#1afa29"],["name","fullscreen"],["name","fullscreenExit"],["style","margin: 20px; margin-top: 40px",4,"ngIf"],["nzType","warning","nzShowIcon","",3,"nzMessage","nzDescription"],["nzType","error","nzShowIcon","",3,"nzMessage","nzDescription"],[2,"margin","20px","margin-top","40px"],[4,"ngFor","ngForOf"],[4,"isVitalPresent"],[1,"card-scale-up-center",2,"width","360px","margin-bottom","20px",3,"nzBordered","nzHoverable","nzBodyStyle"],[3,"nzAvatar","nzTitle","nzDescription"],["descriptionTemplate",""],["titleTemplate",""],["avatarTemplate",""],["class","ant-card-meta-description",4,"ngIf"],["class","ant-card-meta-description low",4,"ngIf"],["class","ant-card-meta-description normal",4,"ngIf"],["class","ant-card-meta-description mild",4,"ngIf"],["class","ant-card-meta-description high",4,"ngIf"],["class","ant-card-meta-description very-high",4,"ngIf"],[1,"ant-card-meta-description","low"],[1,"ant-card-meta-description","normal"],[1,"ant-card-meta-description","mild"],[1,"ant-card-meta-description","high"],[1,"ant-card-meta-description","very-high"],[1,"ant-card-meta-description"],[1,"ant-card-meta-title"],["class","vital-icon","style","fill: #16ca22;",4,"ngIf"],["class","vital-icon",4,"ngIf"],[1,"vital-icon",2,"fill","#16ca22"],["transform","translate(0.000000,511.000000) scale(0.100000,-0.100000)"],["d","M3772.4,4970c-48-22-92-44-98-48c-6-8,124-176,274-354.1c26-32,22-38-64-74c-50-22-92-46-92-50c0-6,128-108,284-224c312-236,306-240,104,72l-84,130l78,34l78,34l-186,260c-100,142-188,260-194,260C3866.4,5010,3822.4,4992,3772.4,4970z"],["d","M6022.7,4847.9c-66-92-148-208-186-260l-68-96l72-34c40-18,72-38,72-44c0-6-54-92-118-192c-66-98-116-182-112-186c12-12,550.1,400.1,540.1,414.1c-4,8-44,26-88,42c-46,14-82,34-82,42s68,98,152,200l152,188l-96,44c-54,24-104,44-110,44C6144.7,5012,6086.7,4937.9,6022.7,4847.9z"],["d","M4758.5,4121.8c-206-64-408.1-242-502.1-446.1c-46-100-54-140-54-314.1c0-194,4-208,76-354.1c244-496.1,886.2-602.1,1270.2-208c504.1,512.1,144,1358.2-574.1,1350.2C4902.6,4149.8,4804.5,4137.8,4758.5,4121.8z"],["d","M3542.3,3513.7c-44-20-100-60-126-86c-24-28-218-428.1-428.1-888.1c-330.1-726.1-382.1-852.1-384.1-938.1c-2-218,180-390.1,384.1-364.1c52,8,334.1,80,628.1,164c294,82,538.1,150,544.1,150c8,0,12-560.1,12-1246.2V-941l-462.1-1628.3c-444.1-1570.3-460.1-1636.3-454.1-1784.3c6-132,14-164,66-240c188-270,642.1-260,830.1,20c38,58,146,440.1,448.1,1600.3c220,838.1,402.1,1520.2,404.1,1518.3c4-4,182-680.1,398.1-1504.2c296-1128.2,406.1-1522.2,446.1-1590.3c152-250,544.1-258,784.1-16c84,82,120,170,120,288c0,62-156,622.1-470.1,1694.3L5812.7-979V287.2c0,694.1,4,1264.2,10,1264.2s170-44,366.1-98c880.1-246,872.1-244,990.2-194c78,32,164,122,192,198c58,150,42,198-352.1,1062.2c-204,452.1-394.1,852.1-422.1,890.1c-58,78-184,142-284.1,142c-212,0-404.1-216-372.1-418.1c6-40,98-264,204-498.1c106-234,190-430.1,184-434.1c-4-6-224,54-488.1,130c-784.1,228-896.1,228-1686.3-2c-268-76-490.1-138-492.1-134c-4,4,82,200,190,436.1c108,236,202,458.1,206,494.1c24,148-72,324-214,388.1C3740.4,3561.7,3644.4,3561.7,3542.3,3513.7z M5164.6,2363.5c6-16,4-78-6-136l-16-106l-128-6c-70-4-136,2-144,10c-10,10-24,74-30,142l-14,124h164C5114.6,2391.6,5156.6,2385.6,5164.6,2363.5z M5120.6,2047.5c6-26,32-418.1,60-874.1l50-830.1l-104-110c-58-62-114-114-126-118c-12-4-68,48-126,114l-104,118l54,848.1c28,464.1,56,858.1,60,872.1c4,16,46,24,116,24C5100.6,2091.5,5112.6,2087.5,5120.6,2047.5z"],[1,"vital-icon"],["viewBox","0 0 24 24"],["fill","currentColor","d","M12,20A6,6 0 0,1 6,14C6,10 12,3.25 12,3.25C12,3.25 18,10 18,14A6,6 0 0,1 12,20Z"],["fill","currentColor","d","M7.5,4A5.5,5.5 0 0,0 2,9.5C2,10 2.09,10.5 2.22,11H6.3L7.57,7.63C7.87,6.83 9.05,6.75 9.43,7.63L11.5,13L12.09,11.58C12.22,11.25 12.57,11 13,11H21.78C21.91,10.5 22,10 22,9.5A5.5,5.5 0 0,0 16.5,4C14.64,4 13,4.93 12,6.34C11,4.93 9.36,4 7.5,4V4M3,12.5A1,1 0 0,0 2,13.5A1,1 0 0,0 3,14.5H5.44L11,20C12,20.9 12,20.9 13,20L18.56,14.5H21A1,1 0 0,0 22,13.5A1,1 0 0,0 21,12.5H13.4L12.47,14.8C12.07,15.81 10.92,15.67 10.55,14.83L8.5,9.5L7.54,11.83C7.39,12.21 7.05,12.5 6.6,12.5H3Z"],["fill","currentColor","d","M15.47 3.11C15 2.85 14.37 3.05 14.11 3.54C14.04 3.68 14 3.84 14 4V6.59L13.29 5.88C13.1 5.69 13 5.44 13 5.18V1H11V5.17C11 5.44 10.9 5.69 10.71 5.88L10 6.59V4C10 3.44 9.54 3 9 3C8.83 3 8.67 3.04 8.53 3.11C4.72 5 2 9.97 2 15.77C2 17.67 2.33 19.55 3 21.32C3.19 21.85 3.76 22.13 4.29 21.94C4.34 21.92 4.39 21.9 4.44 21.87L9.5 19.07C9.81 18.9 10 18.56 10 18.19V9.41L11.3 8.12C11.69 7.73 12.32 7.73 12.71 8.12L14 9.42V18.2C14 18.56 14.21 18.9 14.5 19.08L19.58 21.88C20.07 22.14 20.68 21.96 20.94 21.46C20.96 21.42 21 21.37 21 21.32C21.67 19.55 22 17.67 22 15.77C22 9.97 19.29 5 15.47 3.11Z"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0,1),m.Xb(2,"div",2,3),m.Vc(4,th,4,4,"span",4),m.Vc(5,eh,1,0,"em",5),m.Vc(6,nh,3,3,"p",6),m.Vc(7,ih,3,3,"p",6),m.Vc(8,ah,2,1,"p",6),m.Vc(9,oh,4,4,"p",7),m.Vc(10,rh,5,8,"p",7),m.Vc(11,ch,3,3,"p",8),m.Vc(12,sh,3,4,"p",8),m.Vc(13,lh,4,3,"p",9),m.Wb(),m.Sb(14,"div",10,11),m.Xb(16,"div",12),m.Sb(17,"div",13),m.Xb(18,"div",14),m.Xb(19,"p",15),m.Xc(20),m.jc(21,"translate"),m.Vc(22,uh,2,1,"span",16),m.Wb(),m.Wb(),m.Xb(23,"div",13),m.Xb(24,"div",17),m.Vc(25,dh,6,0,"div",18),m.Vc(26,ph,6,0,"div",19),m.Vc(27,bh,6,0,"div",20),m.Vc(28,hh,6,0,"div",21),m.Vc(29,gh,6,0,"div",22),m.Wb(),m.Wb(),m.Wb(),m.Xb(30,"div",23),m.Xb(31,"div",24),m.Xb(32,"nav",25),m.Xb(33,"ul"),m.Vc(34,fh,5,3,"li",26),m.Vc(35,vh,5,3,"li",26),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(36,"div",23),m.Xb(37,"div",27),m.Vc(38,mh,5,4,"div",28),m.Wb(),m.Wb(),m.Xb(39,"div",23),m.Vc(40,Ch,4,3,"div",29),m.Wb(),m.Vc(41,Mh,4,2,"div",30),m.Xb(42,"div",31),m.Xb(43,"div",32),m.Vc(44,Dh,3,2,"button",33),m.Xb(45,"button",34),m.ec("click",function(){return e.disconnect()}),m.Sb(46,"app-icons",35),m.Wb(),m.Vc(47,kh,3,2,"button",33),m.Wb(),m.Wb(),m.Xb(48,"div",36),m.Xb(49,"div",37),m.Xb(50,"button",38),m.ec("click",function(){return e.toggleFullScreen()}),m.Vc(51,Nh,1,0,"app-icons",39),m.Vc(52,Ph,1,0,"app-icons",40),m.Wb(),m.Wb(),m.Wb(),m.Xb(53,"nz-drawer",41),m.ec("nzOnClose",function(){return e.close()}),m.Wb(),m.Vc(54,tg,1,1,"ng-template",null,42,m.Wc),m.Wb()),2&t){var n=m.Ic(55);m.rc("ngClass",e.videoCallState),m.Db(4),m.rc("ngIf",e.notAnswering&&!e.answered),m.Db(1),m.rc("ngIf",!e.btnActive&&!e.patientAlreadyInRoom),m.Db(1),m.rc("ngIf",e.calling&&!e.patientAlreadyInRoom),m.Db(1),m.rc("ngIf",e.ringing&&!e.patientAlreadyInRoom),m.Db(1),m.rc("ngIf",(e.ringing||e.calling)&&e.patientAlreadyInRoom),m.Db(1),m.rc("ngIf",e.reconnecting),m.Db(1),m.rc("ngIf",e.participantReconnecting),m.Db(1),m.rc("ngIf",e.reconnected),m.Db(1),m.rc("ngIf",e.participantReconnected),m.Db(1),m.rc("ngIf","OFFLINE"==e.connectionStatus),m.Db(7),m.Zc(" ",m.kc(21,33,"VIDEOCALL.PARTICIPANTS")," : "),m.Db(2),m.rc("ngIf","Patient"!=e.participantNameString),m.Db(3),m.rc("ngIf","FIVE"==e.networkQuality),m.Db(1),m.rc("ngIf","FOUR"==e.networkQuality),m.Db(1),m.rc("ngIf","THREE"==e.networkQuality),m.Db(1),m.rc("ngIf","TWO"==e.networkQuality),m.Db(1),m.rc("ngIf","ONE"==e.networkQuality),m.Db(5),m.rc("ngIf",e.btnActive),m.Db(1),m.rc("ngIf",e.isVitalMeasuringCompleted||e.isVitalMeasuringCancelled||e.isVitalMeasuringError),m.Db(3),m.rc("ngIf",e.isVitalMeasuringInProgress),m.Db(2),m.rc("ngIf",e.answered),m.Db(1),m.rc("ngIf",e.btnActive&&(e.btnMic||e.btnCamera)),m.Db(3),m.rc("ngIf",e.btnActive),m.Db(3),m.rc("ngIf",e.btnActive),m.Db(4),m.rc("ngIf",!e.isFullScreen),m.Db(1),m.rc("ngIf",e.isFullScreen),m.Db(1),m.rc("nzClosable",!0)("nzContent",n)("nzWidth",e.drawerWidth)("nzHeight",e.drawerHeight)("nzBodyStyle",e.backgroundColor)("nzVisible",e.visible)}},directives:[E.o,E.q,J.c,J.a,tt.a,et.a,nt.a,Ct.a,Ln.a,Ze.a,ts.a,E.p,Kb,Tt.a,Tt.c],pipes:[rt.a],styles:['.request-loader[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;justify-content:center;align-items:center;height:150px;width:150px;border-radius:100%}.request-loader[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;font-size:72px;top:300px;left:-5px}.request-loader[_ngcontent-%COMP%]:after{border:8px solid rgba(151,231,135,.781);border-radius:100%;-webkit-animation-delay:0s;animation-delay:0s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(.65,0,.34,1);animation-timing-function:cubic-bezier(.65,0,.34,1)}.request-loader[_ngcontent-%COMP%]:after, .request-loader[_ngcontent-%COMP%]:before{opacity:0;display:flex;flex-direction:row;justify-content:center;align-items:center;position:absolute;right:0;bottom:0;content:"";height:100%;width:100%;-webkit-animation-name:ripple;animation-name:ripple;-webkit-animation-duration:3s;animation-duration:3s;z-index:-1}.request-loader[_ngcontent-%COMP%]:before{border:8px solid rgba(106,219,121,.2);border-radius:100%;-webkit-animation-delay:.5s;animation-delay:.5s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-timing-function:cubic-bezier(.65,0,.34,1);animation-timing-function:cubic-bezier(.65,0,.34,1)}@-webkit-keyframes ripple{0%{opacity:1;transform:scale3d(.75,.75,1)}to{opacity:0;transform:scale3d(1.5,1.5,1)}}@keyframes ripple{0%{opacity:1;transform:scale3d(.75,.75,1)}to{opacity:0;transform:scale3d(1.5,1.5,1)}}video[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover}.video-call-full-screen[_ngcontent-%COMP%]{top:0;bottom:0;left:0;right:0;position:absolute;background:#344855;z-index:1}.video-call-minimized[_ngcontent-%COMP%]{height:150px;width:200px;bottom:50px;right:50px;position:absolute;background:#3d3d3d;z-index:9999}.video-call-closed[_ngcontent-%COMP%]{display:none;background:#3d3d3d}.ant-btn-circle[_ngcontent-%COMP%], .ant-btn-circle-outline[_ngcontent-%COMP%]{width:50px;height:50px;padding:0;margin:15px;font-size:20px;border-radius:50%}.btn-fullscreen[_ngcontent-%COMP%]{right:20px;color:var(--neutral-color);border:none!important;background:transparent}.ant-card-meta-description[_ngcontent-%COMP%]{color:#ff5917!important;font-size:16px!important;text-align:left}.ant-card-meta-title[_ngcontent-%COMP%]{color:#fff!important;text-align:left}.ant-avatar[_ngcontent-%COMP%]{margin-top:10px;width:50px;height:50px}.stress-icons[_ngcontent-%COMP%]{width:32px;height:32px}.low[_ngcontent-%COMP%]{color:#0f0!important}.normal[_ngcontent-%COMP%]{color:green!important}.mild[_ngcontent-%COMP%]{color:#ff0!important}.high[_ngcontent-%COMP%]{color:#ff5634!important}.very-high[_ngcontent-%COMP%]{color:#c7003a!important}.vital-icon[_ngcontent-%COMP%]{font-size:30px;margin-top:25px;color:#16ca22}.on-mute[_ngcontent-%COMP%]{top:50px}.on-mute[_ngcontent-%COMP%], .on-video-pause[_ngcontent-%COMP%]{padding:15px;border-radius:25px;color:red;background-color:#00000078;position:fixed;right:5px;margin:5px;width:auto;text-align:center;z-index:20}.on-video-pause[_ngcontent-%COMP%]{top:115px}.on-bad-network[_ngcontent-%COMP%]{padding:15px;border-radius:25px;color:#ff8f00;background-color:#00000078;position:fixed;text-align:justify;top:180px;margin:5px;right:5px;width:240px;z-index:20}.reconnect-class[_ngcontent-%COMP%]{z-index:2}svg.icon[_ngcontent-%COMP%]{height:24px;width:24px}.notAnswering[_ngcontent-%COMP%]{padding:15px;border-radius:5px;color:#fd9726;background-color:#000;position:absolute;top:200px;z-index:20}.camera-icon[_ngcontent-%COMP%]{font-size:4em;position:absolute;text-align:center;vertical-align:middle;top:300px}.calling-text[_ngcontent-%COMP%]{font-size:2em;color:var(--neutral-color);top:450px}.camera-icon-layout[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#3d3d3d}.btn-disconnect[_ngcontent-%COMP%]{background-color:#d32f2f!important;color:var(--neutral-color);border:none!important}.controls[_ngcontent-%COMP%]{position:fixed;bottom:0;text-align:center;background:rgba(0,0,0,.59);width:100%}.controls-feedback[_ngcontent-%COMP%]{position:absolute;bottom:100px;text-align:center;width:100%}.signal-strength-feedback[_ngcontent-%COMP%]{position:absolute;text-align:right}.header[_ngcontent-%COMP%]{position:absolute;top:0;text-align:center;height:50px;color:var(--neutral-color);z-index:3;background:rgba(0,0,0,.12);width:100%}.ant-btn-danger[_ngcontent-%COMP%], .ant-btn-default[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.68);border:.5px solid}.paused[_ngcontent-%COMP%]{color:red;margin:5px}.active[_ngcontent-%COMP%], .paused[_ngcontent-%COMP%]{border:none;color:var(--neutral-color)}.local-video[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:90px;z-index:9999}.vital-measuring-animation[_ngcontent-%COMP%]{height:100%;width:100%;max-height:900px;max-width:1500px}[_nghost-%COMP%]     .ant-drawer-header{background:#170b0b36!important}[_nghost-%COMP%]     .ant-drawer-body{padding:0;background-color:#0000!important}[_nghost-%COMP%]     .ant-drawer-content-wrapper{height:500px!important;top:20%!important}[_nghost-%COMP%]     .ant-card{background:none}[_nghost-%COMP%]     .ant-drawer-title{color:var(--neutral-color)!important}[_nghost-%COMP%]     .ant-drawer .ant-drawer-content{background-color:#0000!important}[_nghost-%COMP%]     .ant-drawer-wrapper-body{overflow:hidden}[_nghost-%COMP%]     .ant-card-body{background:linear-gradient(45deg,#051525,#901d1d00)}[_ngcontent-%COMP%]:root, body[_ngcontent-%COMP%]{color:var(--neutral-color);height:100%;overflow:hidden;background:#333641}.wait-animation[_ngcontent-%COMP%]{position:absolute;top:80px;left:34%;margin-top:15px;text-align:center;background:50% 100%/50% 50% no-repeat radial-gradient(ellipse at bottom,#fff,transparent,transparent);-webkit-background-clip:text;background-clip:text;color:transparent;font-size:30px;-webkit-animation:reveal 3s ease-in-out .2s forwards,glow 2.5s linear 2s infinite;animation:reveal 3s ease-in-out .2s forwards,glow 2.5s linear 2s infinite}@-webkit-keyframes reveal{80%{letter-spacing:2px}to{background-size:300% 300%}}@keyframes reveal{80%{letter-spacing:2px}to{background-size:300% 300%}}@-webkit-keyframes glow{40%{text-shadow:0 0 8px var(--neutral-color)}}@keyframes glow{40%{text-shadow:0 0 8px var(--neutral-color)}}.scale-up-center[_ngcontent-%COMP%]{-webkit-animation:scale-up-center 1s ease-in-out 5s infinite alternate-reverse both;animation:scale-up-center 1s ease-in-out 5s infinite alternate-reverse both}.card-scale-up-center[_ngcontent-%COMP%]{-webkit-animation:scale-up-center .4s cubic-bezier(.39,.575,.565,1) both;animation:scale-up-center .4s cubic-bezier(.39,.575,.565,1) both}.sizing-box[_ngcontent-%COMP%]{height:30px;width:50px}.signal-bars[_ngcontent-%COMP%], .signal-bars[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{display:inline-block}.signal-bars[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:14%;margin-left:1%;min-height:20%;border-radius:10px}.signal-bars[_ngcontent-%COMP%]   .bar.first-bar[_ngcontent-%COMP%]{height:20%}.signal-bars[_ngcontent-%COMP%]   .bar.second-bar[_ngcontent-%COMP%]{height:40%}.signal-bars[_ngcontent-%COMP%]   .bar.third-bar[_ngcontent-%COMP%]{height:60%}.signal-bars[_ngcontent-%COMP%]   .bar.fourth-bar[_ngcontent-%COMP%]{height:80%}.signal-bars[_ngcontent-%COMP%]   .bar.fifth-bar[_ngcontent-%COMP%]{height:99%}.good[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background-color:#16a085;border:thin solid #12816b}.bad[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background-color:#e74c3c;border:thin solid #a82315}.ok[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background-color:#f1c40f;border:thin solid #d0a90c}.four-bars[_ngcontent-%COMP%]   .bar.fifth-bar[_ngcontent-%COMP%], .one-bar[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:not(.first-bar), .three-bars[_ngcontent-%COMP%]   .bar.fifth-bar[_ngcontent-%COMP%], .three-bars[_ngcontent-%COMP%]   .bar.fourth-bar[_ngcontent-%COMP%], .two-bars[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:not(.first-bar):not(.second-bar){background-color:#fafafa;border:thin solid #f3f3f3}a[_ngcontent-%COMP%]{color:var(--neutral-color);text-decoration:none}.me[_ngcontent-%COMP%]{width:400px;margin:90px auto}.me[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .me[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:3px;text-align:center}.me[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:200}.me[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.social[_ngcontent-%COMP%]{position:fixed;top:40px;z-index:3}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;transform:translate(-270px)}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;margin:5px;background:var(--neutral-color) 5c;width:325px;text-align:right;padding:10px;border-radius:0 30px 30px 0;transition:all 1s}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{transform:translate(110px);background:hsla(0,0%,100%,.4);width:350px}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:var(--neutral-color)}.profile-li[_ngcontent-%COMP%]{background:#3700b3!important}.profile-li[_ngcontent-%COMP%], .vital-li[_ngcontent-%COMP%]{color:var(--neutral-color)!important;height:40px;padding:12px;width:40px;border-radius:50%;margin-left:6px}.vital-li[_ngcontent-%COMP%]{background:#b00020!important}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--neutral-color);background:#3700b3;transform:rotate(1turn);transition:all 1s}.social[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px;color:#000;background:#3700b3;padding:10px;border-radius:50%;width:40px;height:40px;font-size:20px;background:var(--neutral-color);transform:rotate(0deg)}body[_ngcontent-%COMP%]{background:#25343f;color:var(--neutral-color)}.patient-view[_ngcontent-%COMP%], .patient-view[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{text-align:left;font-size:14px}.patient-view[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{width:1200px}body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin:0;width:100vw;height:100vh;background-color:#ecf0f1}.Phone[_ngcontent-%COMP%]{position:relative;display:block;margin:0;width:1em;height:1em;font-size:15vmin;background-color:var(--primary-color);border-radius:.5em;box-shadow:0 0 0 0 rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2);transform:translateZ(0) scale(1);z-index:10}.Phone[_ngcontent-%COMP%]:after, .Phone[_ngcontent-%COMP%]:before{position:absolute;content:""}.Phone[_ngcontent-%COMP%]:before{top:0;left:0;width:1em;height:1em;background-color:hsla(0,0%,100%,.1);border-radius:100%;opacity:1;transform:translateZ(0) scale(0)}.Phone[_ngcontent-%COMP%]:after{top:.25em;left:.25em;width:.5em;height:.5em;background:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTYuNiAxMC44YzEuNCAyLjggMy44IDUuMSA2LjYgNi42bDIuMi0yLjJjLjMtLjMuNy0uNCAxLS4yIDEuMS40IDIuMy42IDMuNi42LjUgMCAxIC40IDEgMVYyMGMwIC41LS41IDEtMSAxLTkuNCAwLTE3LTcuNi0xNy0xNyAwLS42LjQtMSAxLTFoMy41Yy41IDAgMSAuNCAxIDEgMCAxLjIuMiAyLjUuNiAzLjYuMS40IDAgLjctLjIgMWwtMi4zIDIuMnoiIGZpbGw9IiNmZmZmZmYiLz48L3N2Zz4=);background-position:50% 50%;background-repeat:no-repeat;background-size:cover;transform:translateZ(0)}.Phone.is-animating[_ngcontent-%COMP%]{-webkit-animation:phone-outer 3s infinite;animation:phone-outer 3s infinite}.Phone.is-animating[_ngcontent-%COMP%]:before{-webkit-animation:phone-inner 3s infinite;animation:phone-inner 3s infinite}.Phone.is-animating[_ngcontent-%COMP%]:after{-webkit-animation:phone-icon 3s infinite;animation:phone-icon 3s infinite}@-webkit-keyframes phone-outer{0%{transform:translateZ(0) scale(1);box-shadow:0 0 0 0 rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}33.3333%{transform:translateZ(0) scale(1.1);box-shadow:0 0 0 0 rgba(var(--primary-color),.1),0 .05em .1em rgba(0,0,0,.5)}66.6666%{transform:translateZ(0) scale(1);box-shadow:0 0 0 .5em rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}to{transform:translateZ(0) scale(1);box-shadow:0 0 0 0 rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}}@keyframes phone-outer{0%{transform:translateZ(0) scale(1);box-shadow:0 0 0 0 rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}33.3333%{transform:translateZ(0) scale(1.1);box-shadow:0 0 0 0 rgba(var(--primary-color),.1),0 .05em .1em rgba(0,0,0,.5)}66.6666%{transform:translateZ(0) scale(1);box-shadow:0 0 0 .5em rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}to{transform:translateZ(0) scale(1);box-shadow:0 0 0 0 rgba(var(--primary-color),0),0 .05em .1em rgba(0,0,0,.2)}}@-webkit-keyframes phone-inner{0%{opacity:1;transform:translateZ(0) scale(0)}33.3333%{opacity:1;transform:translateZ(0) scale(.9)}66.6666%{opacity:0;transform:translateZ(0) scale(0)}to{opacity:0;transform:translateZ(0) scale(0)}}@keyframes phone-inner{0%{opacity:1;transform:translateZ(0) scale(0)}33.3333%{opacity:1;transform:translateZ(0) scale(.9)}66.6666%{opacity:0;transform:translateZ(0) scale(0)}to{opacity:0;transform:translateZ(0) scale(0)}}@-webkit-keyframes phone-icon{0%{transform:translateZ(0)}2%{transform:translate3d(.01em,0,0)}4%{transform:translate3d(-.01em,0,0)}6%{transform:translate3d(.01em,0,0)}8%{transform:translate3d(-.01em,0,0)}10%{transform:translate3d(.01em,0,0)}12%{transform:translate3d(-.01em,0,0)}14%{transform:translate3d(.01em,0,0)}16%{transform:translate3d(-.01em,0,0)}18%{transform:translate3d(.01em,0,0)}20%{transform:translate3d(-.01em,0,0)}22%{transform:translate3d(.01em,0,0)}24%{transform:translate3d(-.01em,0,0)}26%{transform:translate3d(.01em,0,0)}28%{transform:translate3d(-.01em,0,0)}30%{transform:translate3d(.01em,0,0)}32%{transform:translate3d(-.01em,0,0)}34%{transform:translate3d(.01em,0,0)}36%{transform:translate3d(-.01em,0,0)}38%{transform:translate3d(.01em,0,0)}40%{transform:translate3d(-.01em,0,0)}42%{transform:translate3d(.01em,0,0)}44%{transform:translate3d(-.01em,0,0)}46%{transform:translateZ(0)}}@keyframes phone-icon{0%{transform:translateZ(0)}2%{transform:translate3d(.01em,0,0)}4%{transform:translate3d(-.01em,0,0)}6%{transform:translate3d(.01em,0,0)}8%{transform:translate3d(-.01em,0,0)}10%{transform:translate3d(.01em,0,0)}12%{transform:translate3d(-.01em,0,0)}14%{transform:translate3d(.01em,0,0)}16%{transform:translate3d(-.01em,0,0)}18%{transform:translate3d(.01em,0,0)}20%{transform:translate3d(-.01em,0,0)}22%{transform:translate3d(.01em,0,0)}24%{transform:translate3d(-.01em,0,0)}26%{transform:translate3d(.01em,0,0)}28%{transform:translate3d(-.01em,0,0)}30%{transform:translate3d(.01em,0,0)}32%{transform:translate3d(-.01em,0,0)}34%{transform:translate3d(.01em,0,0)}36%{transform:translate3d(-.01em,0,0)}38%{transform:translate3d(.01em,0,0)}40%{transform:translate3d(-.01em,0,0)}42%{transform:translate3d(.01em,0,0)}44%{transform:translate3d(-.01em,0,0)}46%{transform:translateZ(0)}}@-webkit-keyframes scale-up-center{0%{transform:scale(.5)}to{transform:scale(1)}}@keyframes scale-up-center{0%{transform:scale(.5)}to{transform:scale(1)}}']}),ng),ag=((eg=function(){function t(e){u(this,t),this.http=e,this.host=mt.g.url+mt.g.baseUrl}return p(t,[{key:"getVideoCallInsights",value:function(t,e,n){return this.http.post(this.host+mt.g.api.getInsights+"/"+t+"/"+e,n)}},{key:"getVideoCallCount",value:function(){return this.http.get(this.host+mt.g.api.getCount)}}]),t}()).\u0275fac=function(t){return new(t||eg)(m.bc(C.c))},eg.\u0275prov=m.Nb({token:eg,factory:eg.\u0275fac,providedIn:"root"}),eg),og=r("0lU3"),rg=r("3/1E");function cg(t,e){if(1&t&&(m.Xb(0,"tr"),m.Xb(1,"td",12),m.Xc(2),m.Wb(),m.Xb(3,"td",12),m.Xc(4),m.Wb(),m.Xb(5,"td",12),m.Xc(6),m.jc(7,"date"),m.Wb(),m.Xb(8,"td",12),m.Xc(9),m.jc(10,"date"),m.Wb(),m.Xb(11,"td",12),m.Xc(12),m.Wb(),m.Wb()),2&t){var n=e.$implicit,i=e.index;m.Db(1),m.tc("id","insight-tenant-",i,""),m.Db(1),m.Yc(n.participants),m.Db(1),m.tc("id","insight-created-by-",i,""),m.Db(1),m.Yc(n.creatorObj),m.Db(1),m.tc("id","insight-start-date-",i,""),m.Db(1),m.Yc(m.lc(7,10,n.startTime,"medium")),m.Db(2),m.tc("id","insight-end-date-",i,""),m.Db(1),m.Yc(m.lc(10,13,n.endTime,"medium")),m.Db(2),m.tc("id","insight-duration-",i,""),m.Db(1),m.Yc(n.duration)}}var sg,lg=((sg=function(){function t(e){var n=this;u(this,t),this.videoCallService=e,this.count=30,this.page=1,this.noResult="No records found.",this.disabledDate=function(t){return t.valueOf()-n.today.valueOf()>0},this.list=[]}return p(t,[{key:"ngOnInit",value:function(){this.body={},this.today=new Date,this.fetchCallRecords(0)}},{key:"fetchCallRecords",value:function(t){var e=this;this.videoCallService.getVideoCallInsights(!0,t,this.body).subscribe(function(t){e.list=t.data.list,e.count=t.data.count,e.list&&e.list.map(function(t){return t.participantIds&&(t.participants=t.participantIds.join(",")),t.createdById&&(t.creatorObj=t.createdById),t})})}},{key:"filter",value:function(){this.page=1,this.fetchCallRecords(0)}},{key:"getData",value:function(t){this.page=t,this.fetchCallRecords(t-1)}},{key:"onStartDateChange",value:function(t){this.body.startedOn=new Date(t).getTime()}},{key:"onEndDateChange",value:function(t){this.body.endedOn=new Date(t).getTime()}}]),t}()).\u0275fac=function(t){return new(t||sg)(m.Rb(ag))},sg.\u0275cmp=m.Lb({type:sg,selectors:[["app-video-call-insights"]],decls:37,vars:40,consts:[["id","list-insights-container",1,"container"],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","24"],[3,"nzTitle"],["nz-col","",3,"ngModel","nzDisabledDate","nzPlaceHolder","ngModelChange"],["nz-button","","nzType","primary",3,"click"],["name","search"],[3,"nzData","nzFrontPagination","nzShowPagination","nzTotal","nzNoResult"],["listInsightsTable",""],[4,"ngFor","ngForOf"],[2,"float","right","margin-top","2%"],[3,"nzPageSize","nzPageIndex","nzTotal","nzPageIndexChange"],[3,"id"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"nz-card",3),m.jc(4,"translate"),m.Xb(5,"nz-date-picker",4),m.ec("ngModelChange",function(t){return e.startDate=t})("ngModelChange",function(t){return e.onStartDateChange(t)}),m.jc(6,"translate"),m.Wb(),m.Xb(7,"nz-date-picker",4),m.ec("ngModelChange",function(t){return e.endDate=t})("ngModelChange",function(t){return e.onEndDateChange(t)}),m.jc(8,"translate"),m.Wb(),m.Xb(9,"button",5),m.ec("click",function(){return e.filter()}),m.Sb(10,"app-icons",6),m.Xc(11),m.jc(12,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(13,"div",2),m.Xb(14,"nz-table",7,8),m.Xb(16,"thead"),m.Xb(17,"tr"),m.Xb(18,"th"),m.Xc(19),m.jc(20,"translate"),m.Wb(),m.Xb(21,"th"),m.Xc(22),m.jc(23,"translate"),m.Wb(),m.Xb(24,"th"),m.Xc(25),m.jc(26,"translate"),m.Wb(),m.Xb(27,"th"),m.Xc(28),m.jc(29,"translate"),m.Wb(),m.Xb(30,"th"),m.Xc(31),m.jc(32,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(33,"tbody"),m.Vc(34,cg,13,16,"tr",9),m.Wb(),m.Wb(),m.Xb(35,"div",10),m.Xb(36,"nz-pagination",11),m.ec("nzPageIndexChange",function(t){return e.getData(t)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(15);m.Db(3),m.sc("nzTitle",m.kc(4,22,"PORTAL.FILTERBY")),m.Db(2),m.sc("nzPlaceHolder",m.kc(6,24,"COMMON.STARTDATE")),m.rc("ngModel",e.startDate)("nzDisabledDate",e.disabledDate),m.Db(2),m.sc("nzPlaceHolder",m.kc(8,26,"COMMON.ENDDATE")),m.rc("ngModel",e.endDate)("nzDisabledDate",e.disabledDate),m.Db(4),m.Yc(m.kc(12,28,"PATIENT.FILTERS")),m.Db(3),m.rc("nzData",e.list)("nzFrontPagination",!1)("nzShowPagination",!1)("nzTotal",e.count)("nzNoResult",e.noResult),m.Db(5),m.Yc(m.kc(20,30,"VIDEOCALL.PARTICIPANTS")),m.Db(3),m.Yc(m.kc(23,32,"VIDEOCALL.INITIATED_BY")),m.Db(3),m.Yc(m.kc(26,34,"COMMON.STARTDATE")),m.Db(3),m.Yc(m.kc(29,36,"COMMON.ENDDATE")),m.Db(3),m.Yc(m.kc(32,38,"COMMON.DURATION")),m.Db(3),m.rc("ngForOf",n.data),m.Db(2),m.rc("nzPageSize",30)("nzPageIndex",e.page)("nzTotal",e.count)}},directives:[J.c,J.a,Tt.a,og.a,I.u,I.x,tt.a,et.a,nt.a,Ct.a,at.f,at.n,at.o,at.e,at.l,at.i,E.p,rg.a],pipes:[rt.a,E.e],styles:[""]}),sg),ug=r("V1/G"),dg=r("IOC6"),pg=["inputElement"];function bg(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",16),m.Xb(1,"sub-tenant-select",17),m.ec("onSubTenantSelected",function(t){return m.Lc(n),m.ic().onSubTenantChange(t)}),m.Wb(),m.Wb()}if(2&t){var i=m.ic();m.Db(1),m.rc("showError",i.showTenantToggleError)("disabled","ADD"!=i.mode)("persist",!1)("selectedSubTenant",i.selectedSubTenant)}}function hg(t,e){1&t&&(m.Xb(0,"div",18),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}function gg(t,e){1&t&&(m.Xb(0,"div",18),m.Xc(1),m.jc(2,"translate"),m.Wb()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.REQUIRED")," "))}function fg(t,e){if(1&t&&m.Sb(0,"nz-option",19),2&t){var n=e.$implicit;m.rc("nzLabel",n.value)("nzValue",n.key)}}function vg(t,e){1&t&&m.Xc(0),2&t&&m.Zc("and ",e.$implicit.length," more selected")}var mg,Sg=((mg=function(){function t(e,i,a,o){var r,c=this;u(this,t),this.smsTemplateService=e,this._modelRef=i,this.notificationService=a,this.translationService=o,this.mode="ADD",this.tags=ug.b.TAGS,this.inputVisible=!1,this.saveBtnLoading=!1,this.strings=["SMS.SMS_TEMPLATE","SMS.PLEASE_ENTER_TEXT","SMS.TEMPLATE_ALREADY_PRESENT"],this.validated=!1,this.selectedSubTenant=null,this.showTenantToggleError=!1,this.$translationSubscription=(r=this.translationService).getMultiple.apply(r,n(this.strings)).subscribe(function(t){return c.translatedStrings=t})}return p(t,[{key:"ngOnDestroy",value:function(){this.$translationSubscription.unsubscribe()}},{key:"ngOnInit",value:function(){var t=localStorage.getItem("loggedInUserBoundary");this.isAccessAcrossSubTenants=t==Lu.a.ACROSS_SUB_TENANTS,null==this.smsTemplate||null==this.smsTemplate?this.smsTemplate=new ug.a:this.selectedSubTenant=this.smsTemplate.tenantId,this.selectedSubTenant=this.isAccessAcrossSubTenants?localStorage.getItem(Qc.a.REQUEST_TENANT_IDS).split(",")[0]:localStorage.getItem("loggedInTenantName"),this.smsTemplate.tenantId=this.selectedSubTenant}},{key:"onSubTenantChange",value:function(t){"object"==typeof t&&""!=t&&null!=t&&null!=t?(this.showTenantToggleError=!1,this.smsTemplate.tenantId=t):this.showTenantToggleError=!0}},{key:"handleClose",value:function(t){this.smsTemplate.tags=this.smsTemplate.tags.filter(function(e){return e!==t})}},{key:"sliceTagName",value:function(t){return t.length>20?"".concat(t.slice(0,20),"..."):t}},{key:"showInput",value:function(){var t=this;this.inputVisible=!0,setTimeout(function(){t.inputElement.nativeElement.focus()},10)}},{key:"handleInputConfirm",value:function(){this.inputValue&&-1===this.smsTemplate.tags.indexOf(this.inputValue)&&(this.smsTemplate.tags=[].concat(n(this.smsTemplate.tags),[this.inputValue])),this.inputValue="",this.inputVisible=!1}},{key:"saveTemplate",value:function(){var t=this;this.saveBtnLoading=!0,"ADD"==this.mode?this.smsTemplateService.saveTemplate(this.smsTemplate).subscribe(function(e){t.saveBtnLoading=!1,t.closeDialog()}):this.smsTemplateService.updateTemplate(this.smsTemplate).subscribe(function(e){t.saveBtnLoading=!1,t.closeDialog()})}},{key:"closeDialog",value:function(){this._modelRef.close()}},{key:"validateSmsAndSend",value:function(){null!=this.smsTemplate.tenantId&&null!=this.smsTemplate.tenantId?(this.validated=!0,0!=this.smsTemplate.title.length&&0!=this.smsTemplate.template.length&&("ADD"==this.mode?(this.smsTemplate.tenantId=this.selectedSubTenant,this.checkForDuplicateTemplate()):this.saveTemplate())):this.showTenantToggleError=!0}},{key:"checkForDuplicateTemplate",value:function(){var t=this;this.smsTemplateService.validateTemplate(this.smsTemplate).subscribe(function(e){t.saveTemplate()},function(e){return t.notificationService.error(t.translatedStrings.get("SMS.SMS_TEMPLATE"),t.translatedStrings.get("SMS.TEMPLATE_ALREADY_PRESENT"))})}}]),t}()).\u0275fac=function(t){return new(t||mg)(m.Rb(dg.a),m.Rb(q.e),m.Rb(Z.b),m.Rb(Jt.a))},mg.\u0275cmp=m.Lb({type:mg,selectors:[["app-add-sms-template"]],viewQuery:function(t,e){var n;1&t&&m.ed(pg,1),2&t&&m.Hc(n=m.fc())&&(e.inputElement=n.first)},inputs:{smsTemplate:"smsTemplate",mode:"mode"},decls:40,vars:30,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],["id","heading","cdkDragHandle",""],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","24","style","margin-bottom: 20px;",4,"isAccessAcrossTenantEnabled"],["nz-col","","nzSpan","24"],["id","title","nz-input","","required","",3,"ngModel","placeholder","ngClass","ngModelChange"],["title","ngModel"],["class","error-text",4,"ngIf"],["id","template","rows","4","nz-input","","required","",3,"ngModel","placeholder","ngClass","ngModelChange"],["description","ngModel"],[1,"letter-count"],["nzMode","multiple","nzPlaceHolder","Please select",3,"nzMaxTagCount","nzMaxTagPlaceholder","ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["tagPlaceHolder",""],["nz-row","","nzGutter","16",1,"centerize"],["nz-button","","nzType","primary","nzShape","round",1,"template-actions",3,"nzSize","nzLoading","click"],["nz-col","","nzSpan","24",2,"margin-bottom","20px"],["mode","SINGLE",3,"showError","disabled","persist","selectedSubTenant","onSubTenantSelected"],[1,"error-text"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"strong",1),m.Xc(2),m.jc(3,"translate"),m.Wb(),m.Sb(4,"br"),m.Sb(5,"br"),m.Xb(6,"div",2),m.Vc(7,bg,2,4,"div",3),m.Xb(8,"div",4),m.Xb(9,"input",5,6),m.ec("ngModelChange",function(t){return e.smsTemplate.title=t}),m.jc(11,"translate"),m.Wb(),m.Vc(12,hg,3,3,"div",7),m.Wb(),m.Wb(),m.Sb(13,"br"),m.Xb(14,"div",2),m.Xb(15,"div",4),m.Xb(16,"textarea",8,9),m.ec("ngModelChange",function(t){return e.smsTemplate.template=t}),m.jc(18,"translate"),m.Wb(),m.Vc(19,gg,3,3,"div",7),m.Wb(),m.Wb(),m.Xb(20,"div",2),m.Xb(21,"div",4),m.Xb(22,"p",10),m.Xb(23,"i"),m.Xc(24),m.jc(25,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(26,"div",2),m.Xb(27,"div",4),m.Xb(28,"nz-select",11),m.ec("ngModelChange",function(t){return e.smsTemplate.tags=t}),m.Vc(29,fg,1,2,"nz-option",12),m.jc(30,"keyvalue"),m.Wb(),m.Vc(31,vg,1,1,"ng-template",null,13,m.Wc),m.Wb(),m.Wb(),m.Sb(33,"br"),m.Sb(34,"br"),m.Xb(35,"div",14),m.Xb(36,"div",4),m.Xb(37,"button",15),m.ec("click",function(){return e.validateSmsAndSend()}),m.Xc(38),m.jc(39,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.Ic(10),i=m.Ic(17),a=m.Ic(32);m.Db(2),m.Zc(" ",m.kc(3,18,"SMS.NEW_SMS_TEMPLATE")," "),m.Db(7),m.tc("placeholder","",m.kc(11,20,"SMS.ADD_SMS_TEMPLATE_TITLE"),".."),m.rc("ngModel",e.smsTemplate.title)("ngClass",e.validated?"submitted":null),m.Db(3),m.rc("ngIf",n.invalid&&(n.dirty||n.touched||e.validated)),m.Db(4),m.tc("placeholder","",m.kc(18,22,"SMS.ADD_SMS_TEMPLATE"),".."),m.rc("ngModel",e.smsTemplate.template)("ngClass",e.validated?"submitted":null),m.Db(3),m.rc("ngIf",i.invalid&&(i.dirty||i.touched||e.validated)),m.Db(5),m.ad("",e.smsTemplate.template.length," ",m.kc(25,24,"SMS.CHARACTERS"),""),m.Db(4),m.rc("nzMaxTagCount",3)("nzMaxTagPlaceholder",a)("ngModel",e.smsTemplate.tags),m.Db(1),m.rc("ngForOf",m.kc(30,26,e.tags)),m.Db(8),m.rc("nzSize","medium")("nzLoading",e.saveBtnLoading),m.Db(1),m.Zc(" ",m.kc(39,28,"SMS.SAVE_TEMPLATE")," ")}},directives:[yt.a,yt.b,J.c,Wn.a,J.a,zo.b,I.d,I.C,I.u,I.x,E.o,E.q,it.d,E.p,tt.a,et.a,nt.a,qn.a,it.a],pipes:[rt.a,E.j],styles:["#wrapper[_ngcontent-%COMP%]{font-size:12px;font:normal normal normal 14px/21px Nunito}#heading[_ngcontent-%COMP%]{padding-left:1%;font-size:14px;font-weight:600;border-left:3px solid var(--primary-color);font:normal normal normal 14px/21px Nunito}strong[_ngcontent-%COMP%]{font-size:12px;font:normal normal normal 14px/21px Nunito}[_nghost-%COMP%]     .ant-calendar-picker-input.ant-input-sm{border:none;font-size:12px;font:normal normal normal 14px/21px Nunito}[_nghost-%COMP%]     .ant-calendar-picker-icon{color:var(--primary-color)}.tms-button[_ngcontent-%COMP%]{font-size:10px;background-color:#f6f6f6;color:var(--light-black);font:normal normal normal 14px/21px Nunito}#tms-activity[_ngcontent-%COMP%]{min-height:140px;background:#f6f6f6 0 0 no-repeat padding-box;border-radius:4px;padding:5%!important;font-size:12px;font:normal normal normal 14px/21px Nunito}#activity[_ngcontent-%COMP%]{float:right;width:20px;height:20px;font-size:10px;font:normal normal normal 14px/21px Nunito}#tms-time[_ngcontent-%COMP%]{min-height:140px;border-radius:4px;padding:5%!important;font-size:12px;font:normal normal normal 14px/21px Nunito}#tms-minutes[_ngcontent-%COMP%]{font-size:36px;color:var(--light-black);font:normal normal normal 14px/21px Nunito}#tms-notes[_ngcontent-%COMP%]{background:#f6f6f6 0 0 no-repeat padding-box;padding:2%;resize:none}.tms-actions[_ngcontent-%COMP%]{font-size:12px;width:75%;font:normal normal normal 14px/21px Nunito}.centerize[_ngcontent-%COMP%]{text-align:center}.letter-count[_ngcontent-%COMP%]{text-align:right}.error-text[_ngcontent-%COMP%]{text-align:end;width:100%;color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.ng-touched{border-color:#c81c1c}[_nghost-%COMP%]     .ng-invalid.submitted{border-color:#c81c1c}"]}),mg),yg=function t(){u(this,t),this.offset=0,this.totalCount=0,this.totalPages=0,this.result=[]};function Tg(t,e){1&t&&(m.Xb(0,"th"),m.Xc(1," Sub Tenant "),m.Wb())}function Cg(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"nz-tag",12),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=e.$implicit,i=m.ic(3);m.Db(2),m.Zc(" ",i.tags.get(n)," ")}}function Eg(t,e){if(1&t&&(m.Xb(0,"td"),m.Xc(1),m.jc(2,"tenantName"),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(1),m.Zc(" ",m.kc(2,1,n.tenantId)," ")}}function Ig(t,e){if(1&t){var n=m.Yb();m.Xb(0,"span",13),m.Xb(1,"app-icons",14),m.ec("click",function(){m.Lc(n);var t=m.ic().$implicit;return m.ic(2).editTemplate(t)}),m.Wb(),m.Wb()}}function Mg(t,e){if(1&t){var n=m.Yb();m.Xb(0,"span",13),m.Xb(1,"app-icons",15),m.ec("nzOnConfirm",function(){m.Lc(n);var t=m.ic().$implicit;return m.ic(2).removeTemplate(t)}),m.Wb(),m.Wb()}}var Ag=function(){return["EDIT_SMS_TEMPLATE"]},_g=function(){return["DELETE_SMS_TEMPLATE"]};function Dg(t,e){if(1&t&&(m.Xb(0,"tr"),m.Xb(1,"td",8),m.Xb(2,"span",9),m.Xc(3),m.Wb(),m.Wb(),m.Xb(4,"td",8),m.Xb(5,"span",9),m.Vc(6,Cg,3,1,"ng-container",7),m.Wb(),m.Wb(),m.Vc(7,Eg,3,3,"td",6),m.Xb(8,"td",8),m.Xb(9,"div",10),m.Vc(10,Ig,2,0,"span",11),m.Vc(11,Mg,2,0,"span",11),m.Wb(),m.Wb(),m.Wb()),2&t){var n=e.$implicit,i=e.index;m.Db(1),m.tc("id","sms-template-",i,""),m.Db(2),m.Yc(n.title||"NA"),m.Db(1),m.tc("id","sms-template-",i,""),m.Db(2),m.rc("ngForOf",null==n?null:n.tags),m.Db(2),m.tc("id","insight-duration-",i,""),m.Db(2),m.rc("isFeaturePermitted",m.xc(7,Ag)),m.Db(1),m.rc("isFeaturePermitted",m.xc(8,_g))}}function zg(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",3),m.Xb(1,"nz-table",4,5),m.ec("nzPageIndexChange",function(t){return m.Lc(n),m.ic().index=t})("nzPageIndexChange",function(t){return m.Lc(n),m.ic().getAllTemplates(t)}),m.jc(3,"translate"),m.Xb(4,"thead"),m.Xb(5,"tr"),m.Xb(6,"th"),m.Xc(7),m.jc(8,"translate"),m.Wb(),m.Xb(9,"th"),m.Xc(10),m.jc(11,"translate"),m.Wb(),m.Vc(12,Tg,2,0,"th",6),m.Xb(13,"th"),m.Xc(14),m.jc(15,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(16,"tbody"),m.Vc(17,Dg,12,9,"tr",7),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=m.Ic(2),a=m.ic();m.Db(1),m.sc("nzNoResult",m.kc(3,12,"COMMON.NODATA")),m.rc("nzData",null==a.smsTemplates?null:a.smsTemplates.result)("nzFrontPagination",!1)("nzShowPagination",!0)("nzTotal",null==a.smsTemplates?null:a.smsTemplates.totalCount)("nzPageIndex",a.index)("nzWidthConfig",a.widthConfig)("nzLoading",a.loading),m.Db(6),m.Yc(m.kc(8,14,"SMS.SMS_TEMPLATES")),m.Db(3),m.Yc(m.kc(11,16,"TITLE.TAG")),m.Db(4),m.Yc(m.kc(15,18,"TABLEHEADER.ACTIONS")),m.Db(3),m.rc("ngForOf",null==i?null:i.data)}}var Og,kg,Ng,Pg=((Og=function(t){o(i,t);var e=c(i);function i(t,n,a,o,r){var c;return u(this,i),(c=e.call(this)).modalService=t,c.smsTemplateService=n,c.translationService=a,c._dataSharingService=o,c._notificationsService=r,c.smsTemplates=new yg,c.smsTemplate=new ug.a,c.smsTemplateListLoading=!1,c.loading=!1,c.limit=10,c.strings=["COMMON.YES","COMMON.NO","SMS.CONFIRM_DELETE_TEMPLATE"],c.index=1,c.tags=ug.b.TAGS,c.widthConfig=["20%","60%","20%"],c._routeHelperService.isPrimaryActionTriggered().pipe(Object(_d.a)(function(t){return!!t}),Object(In.a)(c.unsubscribed)).subscribe(function(){return c.addTemplate()}),c.isAccessAcrossSubTenants&&(c.widthConfig=["20%","40%","20%","20%"]),c}return p(i,[{key:"ngOnInit",value:function(){var t=this;this._dataSharingService.onSubTenantChange().subscribe(function(e){t.onSubTenantChange(e)}),this.getAllTemplates(1),this.initTranslationStrings()}},{key:"initTranslationStrings",value:function(){var t,e=this;(t=this.translationService).getMultiple.apply(t,n(this.strings)).pipe(Object(In.a)(this.unsubscribed)).subscribe(function(t){e.translatedStrings=t})}},{key:"getAllTemplates",value:function(t){var e=this;this.loading=!0,this.smsTemplateService.getSMSTemplates(this.limit,t-1).subscribe(function(t){e.smsTemplates=t,e.loading=!1})}},{key:"onSubTenantChange",value:function(t){this.getAllTemplates(1)}},{key:"addSMSTemplate",value:function(){var t=this;this.smsTemplateModal=this.modalService.create({nzTitle:null,nzContent:Sg,nzComponentParams:{smsTemplate:this.smsTemplate,mode:this.mode},nzWidth:500,nzKeyboard:!1,nzClosable:!0,nzFooter:null,nzMaskClosable:!0}),this.smsTemplateModal.afterClose.subscribe(function(){t.index=1,t.isAccessAcrossSubTenants&&localStorage.getItem(Qc.a.REQUEST_TENANT_TEMP_IDS)&&localStorage.removeItem(Qc.a.REQUEST_TENANT_TEMP_IDS),t.getAllTemplates(t.index)})}},{key:"addTemplate",value:function(){this.smsTemplate=new ug.a,this.mode="ADD",this.addSMSTemplate()}},{key:"editTemplate",value:function(t){this.smsTemplate=t,this.mode="EDIT",this.addSMSTemplate()}},{key:"showDeleteConfirm",value:function(t){var e=this;this.modalService.confirm({nzTitle:this.translatedStrings.get("SMS.CONFIRM_DELETE_TEMPLATE"),nzOkText:this.translatedStrings.get("COMMON.YES"),nzOkType:"danger",nzOnOk:function(){return e.removeTemplate(t)},nzCancelText:this.translatedStrings.get("COMMON.NO"),nzOnCancel:function(){return console.log("Cancel")}})}},{key:"removeTemplate",value:function(t){var e=this;this.loading=!0,this.smsTemplateService.deleteTemplate(t.id).subscribe(function(){e._notificationsService.success("SMS Templates","SMS template deleted successfully!"),e.index=1,e.getAllTemplates(e.index)},function(){e._notificationsService.error("SMS Templates","Error white deleting SMS template!")})}}]),i}(Ec.a)).\u0275fac=function(t){return new(t||Og)(m.Rb(q.f),m.Rb(dg.a),m.Rb(Jt.a),m.Rb(k.a),m.Rb(Z.b))},Og.\u0275cmp=m.Lb({type:Og,selectors:[["app-sms-template-list"]],features:[m.Ab],decls:3,vars:1,consts:[["id","list-sms-templates",1,"container"],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","24",4,"ngIf"],["nz-col","","nzSpan","24"],[3,"nzData","nzFrontPagination","nzShowPagination","nzTotal","nzPageIndex","nzNoResult","nzWidthConfig","nzLoading","nzPageIndexChange"],["listTemplatesTable",""],[4,"isAccessAcrossTenantEnabled"],[4,"ngFor","ngForOf"],[3,"id"],[1,"ele"],[1,"icon"],["class","action-span",4,"isFeaturePermitted"],["nzColor","var(--primary-color-light)"],[1,"action-span"],["name","edit",3,"click"],["nz-popconfirm","","nzPopconfirmTitle","Are you sure you want to delete this SMS template?","nzPopconfirmPlacement","top","name","delete",3,"nzOnConfirm"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Vc(2,zg,18,20,"div",2),m.Wb(),m.Wb()),2&t&&(m.Db(2),m.rc("ngIf",!e.smsTemplateListLoading))},directives:[J.c,E.q,J.a,at.f,at.n,at.o,at.e,at.l,Wn.a,at.i,E.p,jn.a,hi.a,Ct.a,Dd.a],pipes:[rt.a,Fu.a],styles:[".action-span[_ngcontent-%COMP%]{padding-left:5px;padding-right:5px}.btn-create-template[_ngcontent-%COMP%]{border-radius:5px;font-size:12px;font:normal normal normal Nunito}"]}),Og),Rg=r("GSAy"),Xg={header:!0,title:"Active Care Plans",searchEnabled:!1,primaryAction:{},secondaryAction:{},multiAction:{},privileges:[Cc.a.VIEW_CAREPLAN],showTenantToggle:!0},Lg={header:!0,title:"TITLE.CARETEMPLATE",searchEnabled:!0,primaryAction:{title:"Add Care Plan",permissions:[Cc.a.ADD_CARE_PLAN_TEMPLATE],enabled:!0},secondaryAction:{},multiAction:{},privileges:[Cc.a.VIEW_CARE_PLAN_TEMPLATE],showTenantToggle:!0},wg={header:!0,title:"SMS.SMS_TEMPLATES",searchEnabled:!1,primaryAction:{title:"+ Create SMS Template",permissions:[Cc.a.ADD_SMS_TEMPLATE],enabled:!0},secondaryAction:{},multiAction:{},privileges:[Cc.a.VIEW_SMS_TEMPLATE]},Wg={Listing:{header:!0,title:"TITLE.TAG",searchEnabled:!1,primaryAction:{title:"Add Tag",permissions:[Cc.a.ADD_EDIT_TAG],enabled:!0},secondaryAction:{},multiAction:{},privileges:[Cc.a.VIEW_TAG],showTenantToggle:!0,subTenantToggleMode:"MULTI"}},Vg=r("N+jK"),xg=((Ng=function(t){o(n,t);var e=c(n);function n(t,i,a,o){var r;return u(this,n),(r=e.call(this))._http=t,r._notificationsService=i,r._router=a,r._devicesService=o,r.handleUpload=function(t){var e=new C.g({bypass:"yes"});r._http.post(r.uploadURL,t.file,{headers:e,observe:"response",responseType:"text"}).subscribe(function(t){200==t.status?(r.uploadedFileName=t.body,r.processUploadedFile()):r._notificationsService.error("Bulk Assign","Something went wrong, please try again!")},function(){r._notificationsService.error("Bulk Assign","Something went wrong, please try again!")})},r}return p(n,[{key:"ngOnInit",value:function(){this.uploadURL=mt.g.url+"/v2/media/upload/"+Math.random().toString(10).substring(7)+".xlsx"}},{key:"processUploadedFile",value:function(){var t=this;this._devicesService.bulkAssignDevices(this.uploadedFileName).subscribe(function(){},function(e){200==e.status?(t._notificationsService.success("Bulk Assign",e.error.text),t._router.navigateByUrl("analytics/reports?tab=devices")):t._notificationsService.error("Bulk Assign","Something went wrong, please try again!")})}}]),n}(Fb)).\u0275fac=function(t){return new(t||Ng)(m.Rb(C.c),m.Rb(Z.b),m.Rb(y.g),m.Rb(Vg.a))},Ng.\u0275cmp=m.Lb({type:Ng,selectors:[["app-bulk-assign"]],features:[m.Ab],decls:9,vars:6,consts:[["title","bulk-assign-devices","defaultTitle","Bulk Assign Devices",3,"isSearchEnabled","isActionEnabled"],["id","upload-container",1,"container"],["nzType","drag","nzAccept",".xlsx",3,"nzCustomRequest"],[1,"ant-upload-drag-icon"],["name","inbox"],[1,"ant-upload-text"]],template:function(t,e){1&t&&(m.Sb(0,"app-header",0),m.Xb(1,"nz-card",1),m.Xb(2,"nz-card"),m.Xb(3,"nz-upload",2),m.Xb(4,"p",3),m.Sb(5,"app-icons",4),m.Wb(),m.Xb(6,"p",5),m.Xc(7),m.jc(8,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.rc("isSearchEnabled",!1)("isActionEnabled",!1),m.Db(3),m.rc("nzCustomRequest",e.handleUpload),m.Db(4),m.Yc(m.kc(8,4,"COMMON.DRAG_AND_UPLOAD")))},directives:[ep.a,Tt.a,Dr.a,Ct.a],pipes:[rt.a],styles:["#upload-container[_ngcontent-%COMP%]{text-align:center;width:100%;height:95vh}"]}),Ng),Ug=((kg=function(){function t(){u(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||kg)},kg.\u0275cmp=m.Lb({type:kg,selectors:[["app-forbidden"]],decls:8,vars:0,consts:[[1,"container"],[1,"container-forbidden"],["nz-icon","","nzType","lock","nzTheme","fill",1,"lock"],[1,"message"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Sb(2,"em",2),m.Xb(3,"div",3),m.Xb(4,"h1"),m.Xc(5,"Access to this page is restricted"),m.Wb(),m.Xb(6,"p"),m.Xc(7,"Please check with the site admin if you believe this is a mistake."),m.Wb(),m.Wb(),m.Wb(),m.Wb())},directives:[nt.a,Et.a],styles:[".container-forbidden[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:230px}h1[_ngcontent-%COMP%]{margin:40px 0 20px}.lock[_ngcontent-%COMP%]{font-size:64px}"]}),kg),Fg=r("2lmJ"),Hg=function t(){u(this,t)},Bg=r("UpsY");function jg(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"li"),m.Xc(2),m.jc(3,"userLocation"),m.Wb(),m.Ub()),2&t){var n=e.$implicit;m.Db(2),m.Yc(m.kc(3,1,n))}}function Gg(t,e){if(1&t&&(m.Xb(0,"div",5),m.Xb(1,"h4"),m.Xc(2," Sites"),m.Wb(),m.Vc(3,jg,4,3,"ng-container",6),m.Wb()),2&t){var n=m.ic();m.rc("nzSpan",12),m.Db(3),m.rc("ngForOf",n.sites)}}function Yg(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"li"),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=e.$implicit;m.Db(2),m.Yc(n)}}function qg(t,e){if(1&t&&(m.Xb(0,"div",5),m.Xb(1,"h4"),m.Xc(2," Physicians"),m.Wb(),m.Vc(3,Yg,3,1,"ng-container",6),m.Wb()),2&t){var n=m.ic();m.rc("nzSpan",12),m.Db(3),m.rc("ngForOf",n.physicianNames)}}var Zg,Qg=function(){return[16,16]},Kg=((Zg=function(){function t(e,n){u(this,t),this._staffService=e,this._modalRef=n,this.dataMismatch=!0,this.physicianNames=[],this.loadingAssign=!1}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.monitoringStaffName=this.monitoringStaffName,this._staffService.fetchNameByIds(this.physicians.join(",")).subscribe(function(e){t.physicianNames=t.physicians.map(function(t){return t?e[t]:"Undefined"})})}},{key:"cancel",value:function(){this._modalRef.destroy(!1)}},{key:"assign",value:function(){var t=this;if(null!=this.monitoringStaffId){this.loadingAssign=!0;var e=new Hg;e.assignedFrom=this.assignedFrom,e.assignedTo=this.monitoringStaffId,e.assignedToRole=oi.a.MONITORING_STAFF,e.assignedUserIds=this.assignedUserIds,e.requestFromDisableStaff=this.requestFromDisableStaff,e.assignedStaffType=this.assignedStaffType?"PRIMARY":"OTHER",e.dataMismatch=this.dataMismatch,e.mismatchedSites=this.sites,e.mismatchedPhysicians=this.physicians,this._staffService.bulkAssignPatientsToMonitoringStaff(e).subscribe(function(e){t._modalRef.destroy({isAssigned:!0,selectedMonitoringStaff:t.monitoringStaffId,selectedMonitoringStaffName:t.monitoringStaffName})})}}}]),t}()).\u0275fac=function(t){return new(t||Zg)(m.Rb(Fg.a),m.Rb(q.e))},Zg.\u0275cmp=m.Lb({type:Zg,selectors:[["app-bulk-staff-patient-mismatch-modal"]],inputs:{sites:"sites",physicians:"physicians",monitoringStaffId:"monitoringStaffId",monitoringStaffName:"monitoringStaffName",assignedFrom:"assignedFrom",assignedUserIds:"assignedUserIds",assignedStaffType:"assignedStaffType",requestFromDisableStaff:"requestFromDisableStaff"},decls:14,vars:7,consts:[["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan",4,"ngIf"],[1,"btn-container"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",2,"margin-left","10px",3,"nzLoading","click"],["nz-col","",3,"nzSpan"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(m.Vb(0),m.Xb(1,"h3"),m.Xc(2,"Assign Additional Sites and Physicians"),m.Wb(),m.Xb(3,"p"),m.Xc(4),m.Wb(),m.Xb(5,"div",0),m.Vc(6,Gg,4,2,"div",1),m.Vc(7,qg,4,2,"div",1),m.Wb(),m.Xb(8,"div"),m.Xb(9,"div",2),m.Xb(10,"button",3),m.ec("click",function(){return e.cancel()}),m.Xc(11,"Cancel "),m.Wb(),m.Xb(12,"button",4),m.ec("click",function(){return e.assign()}),m.Xc(13,"Assign "),m.Wb(),m.Wb(),m.Wb(),m.Ub()),2&t&&(m.Db(4),m.ad("",e.monitoringStaffName," is not currently assigned to these sites and physicians. Assigning these patients will assign ",e.monitoringStaffName," to these sites and physicians."),m.Db(1),m.rc("nzGutter",m.xc(6,Qg)),m.Db(1),m.rc("ngIf",null==e.sites?null:e.sites.length),m.Db(1),m.rc("ngIf",null==e.physicians?null:e.physicians.length),m.Db(5),m.rc("nzLoading",e.loadingAssign))},directives:[J.c,E.q,tt.a,et.a,nt.a,J.a,E.p],pipes:[Bg.a],styles:[".btn-container[_ngcontent-%COMP%]{margin-top:30px;display:flex;justify-content:flex-end}"]}),Zg),Jg=r("idJI"),$g=r("Km6r");function tf(t,e){1&t&&(m.Xb(0,"strong"),m.Xc(1," Choose Monitoring Staff to be assigned. "),m.Wb())}function ef(t,e){1&t&&(m.Xb(0,"strong"),m.Xc(1," Choose Monitoring Staff to be assigned as primary staff. "),m.Wb())}function nf(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"nz-option",13),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.rc("nzValue",n)("nzLabel",null==n?null:n.label),m.Db(1),m.Zc(" ",n.label," ")}}function af(t,e){1&t&&(m.Xb(0,"nz-option",14),m.Xb(1,"div",15),m.Sb(2,"i",16),m.Wb(),m.Wb())}function of(t,e){1&t&&m.Sb(0,"span",22)}function rf(t,e){1&t&&m.Sb(0,"span",23)}function cf(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",17),m.Xb(1,"p",18),m.Xc(2," Assign as primary staff? "),m.Wb(),m.Xb(3,"nz-switch",19),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().isPrimary=t}),m.Wb(),m.Vc(4,of,1,0,"ng-template",null,20,m.Wc),m.Vc(6,rf,1,0,"ng-template",null,21,m.Wc),m.Wb()}if(2&t){var i=m.Ic(5),a=m.Ic(7),o=m.ic();m.rc("nzSpan",24),m.Db(3),m.rc("ngModel",o.isPrimary)("nzCheckedChildren",i)("nzUnCheckedChildren",a)}}function sf(t,e){if(1&t&&(m.Xb(0,"div",17),m.Xb(1,"strong"),m.Xc(2),m.Wb(),m.Wb()),2&t){var n=m.ic();m.rc("nzSpan",24),m.Db(2),m.Zc(" ",n.selectedMonitoringStaffName," will be assigned as the primary monitoring staff for the selected patients. ")}}var lf,uf=((lf=function(){function t(e,n,i,a){var o=this;u(this,t),this._staffService=e,this._notificationsService=n,this._modalRef=i,this._modalService=a,this.selectedPatients=new Set,this.patientSites=new Set,this.selectedPatientList=new Set,this.isRequestFromDisableStaff=!1,this.isAssignPrimary=!1,this.selectedMonitoringStaffId=null,this.selectedMonitoringStaffName=null,this.loading=!1,this.selectedStaff=null,this.isPrimary=!1,this.listOfSelectedPatientSites=new Set,this.listOfSelectedPatientPhysicians=new Set,this.loadingMismatchedSites=!1,this.mismatchedSites=[],this.mismatchedPhysicians=[],this.dataMismatch=!1,this.cancel=function(){return o._modalRef.destroy(!1)}}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.getMonitoringStaff(),this.isAssignPrimary&&(this.isPrimary=!0),"UNASSIGNED"==this.previouslySelectedMonitoringStaffId&&(this.isPrimary=!0),this.selectedPatientList.forEach(function(e){t.listOfSelectedPatientSites.add(e.sites[0].id)}),this.selectedPatientList.forEach(function(e){var n,i,a=null===(n=e.assignedStaffs)||void 0===n?void 0:n.filter(function(t){return"PHYSICIAN"===t.roleType});t.listOfSelectedPatientPhysicians.add(null===(i=a[0])||void 0===i?void 0:i.staffId)})}},{key:"getMonitoringStaff",value:function(){var t=this;this.listOfAllMonitoringStaffs=[],this.loadingMonitoringStaff=!0,this.selectedMonitoringStaffId=null,null!=this.selectedphysicianId&&this._staffService.fetchAllMonitoringStaffBySiteIdAndPhysicianId(this.selectedSiteId,this.selectedphysicianId).subscribe(function(e){var n=null==e?void 0:e.result;t.loadingMonitoringStaff=!1,null!=n&&0!=n.length&&(t.listOfAllMonitoringStaffs=n.filter(function(e){return t.isAssignPrimary||e.user.id!=t.previouslySelectedMonitoringStaffId}).map(function(t){return t.user}).map(function(t){return{label:t.fullName,value:t.id,checked:!1}}))},function(e){t.loadingMonitoringStaff=!1,t._notificationsService.error("Monitoring staff","Loading monitoring staffs failed")})}},{key:"onSelectedMonitoringStaffChange",value:function(t){null==t&&(this.selectedMonitoringStaffId=null,this.selectedMonitoringStaffName=null),this.selectedMonitoringStaffId=t.value,this.selectedMonitoringStaffName=t.label}},{key:"validateAndAssign",value:function(){var t=this;if(null!=this.selectedMonitoringStaffId){this.loading=!0,this.loadingMismatchedSites=!0;var e=new Hg;e.assignedFrom=this.previouslySelectedMonitoringStaffId,e.assignedTo=this.selectedMonitoringStaffId,e.assignedToRole=oi.a.MONITORING_STAFF,e.assignedUserIds=Array.from(this.selectedPatients),e.requestFromDisableStaff=this.isRequestFromDisableStaff,e.assignedStaffType=this.isPrimary?"PRIMARY":"OTHER",e.dataMismatch=this.dataMismatch,e.mismatchedSites=this.mismatchedSites,e.mismatchedPhysicians=this.mismatchedPhysicians,this._staffService.bulkAssignPatientsToMonitoringStaffValidation(e).subscribe(function(n){if(0==n.dataMismatch)t._staffService.bulkAssignPatientsToMonitoringStaff(e).subscribe(function(e){var n={isAssigned:!0,selectedMonitoringStaff:t.selectedMonitoringStaffId,selectedMonitoringStaffName:t.selectedMonitoringStaffName};t.loadingMismatchedSites=!1,t.loading=!1,t._modalRef.destroy(n)});else{t.mismatchedSites=n.mismatchedSites,t.mismatchedPhysicians=n.mismatchedPhysicians,t.loadingMismatchedSites=!1;var i=t._modalService.create({nzContent:Kg,nzComponentParams:{sites:t.mismatchedSites,physicians:t.mismatchedPhysicians,monitoringStaffId:t.selectedMonitoringStaffId,monitoringStaffName:t.selectedMonitoringStaffName,assignedFrom:t.previouslySelectedMonitoringStaffId,assignedUserIds:Array.from(t.selectedPatients),requestFromDisableStaff:t.isRequestFromDisableStaff,assignedStaffType:t.isPrimary},nzWidth:350,nzWrapClassName:"vertical-center-modal",nzMaskClosable:!0,nzClosable:!0,nzOkText:null,nzFooter:null});t._modalRef.close(),i.afterClose.subscribe(function(e){(null==e?void 0:e.isAssigned)&&t._modalService.create({nzContent:Jg.a,nzComponentParams:{selectedMonitoringStaffName:e.selectedMonitoringStaffName},nzWrapClassName:"vertical-center-modal",nzTitle:null,nzFooter:null,nzClosable:!1,nzMaskClosable:!1,nzOkText:null,nzCancelText:null}).afterClose.subscribe(function(){null!=t._bulkListComponent&&t._bulkListComponent.clearPatientSelection()})})}})}}}]),t}()).\u0275fac=function(t){return new(t||lf)(m.Rb(Fg.a),m.Rb(Z.b),m.Rb(q.e),m.Rb(q.f))},lf.\u0275cmp=m.Lb({type:lf,selectors:[["bulk-monitoring-staff-assign-modal"]],viewQuery:function(t,e){var n;1&t&&m.ed($g.a,1),2&t&&m.Hc(n=m.fc())&&(e._bulkListComponent=n.first)},inputs:{selectedSiteId:"selectedSiteId",selectedphysicianId:"selectedphysicianId",previouslySelectedMonitoringStaffId:"previouslySelectedMonitoringStaffId",selectedPatients:"selectedPatients",patientSites:"patientSites",selectedPatientList:"selectedPatientList",isRequestFromDisableStaff:"isRequestFromDisableStaff",isAssignPrimary:"isAssignPrimary"},decls:17,vars:14,consts:[["nzTip","Checking for data mismatch...",3,"nzSpinning"],[1,"container",2,"padding","24px"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[2,"text-align","center"],[4,"ngIf"],["nzPlaceHolder","Search Monitoring Staff","nzShowSearch","","nzAllowClear","",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nz-col","","style","text-align: center; margin-top: 10px;",3,"nzSpan",4,"ngIf"],["nz-row","",1,"space-vertical",3,"nzGutter"],["nz-col","","nzSpan","24",2,"text-align","center"],["nz-button","","nzType","primary",2,"width","150px",3,"nzLoading","disabled","click"],[3,"nzValue","nzLabel"],["nzDisabled","","nzCustomContent",""],[1,"loading-option"],["nz-icon","","nzType","loading",2,"font-size","20px","color","#8BC34A"],["nz-col","",2,"text-align","center","margin-top","10px",3,"nzSpan"],["nz-typography","","nzType","secondary"],[3,"ngModel","nzCheckedChildren","nzUnCheckedChildren","ngModelChange"],["checkedTemplate",""],["unCheckedTemplate",""],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"]],template:function(t,e){1&t&&(m.Xb(0,"nz-spin",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Xb(4,"p",4),m.Vc(5,tf,2,0,"strong",5),m.Vc(6,ef,2,0,"strong",5),m.Wb(),m.Wb(),m.Xb(7,"div",3),m.Xb(8,"nz-select",6),m.ec("ngModelChange",function(t){return e.selectedStaff=t})("ngModelChange",function(t){return e.onSelectedMonitoringStaffChange(t)}),m.Vc(9,nf,3,3,"ng-container",7),m.Vc(10,af,3,0,"nz-option",8),m.Wb(),m.Wb(),m.Vc(11,cf,8,4,"div",9),m.Vc(12,sf,3,2,"div",9),m.Wb(),m.Xb(13,"div",10),m.Xb(14,"div",11),m.Xb(15,"button",12),m.ec("click",function(){return e.validateAndAssign()}),m.Xc(16," Confirm "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.rc("nzSpinning",e.loadingMismatchedSites),m.Db(2),m.rc("nzGutter",24),m.Db(1),m.rc("nzSpan",24),m.Db(2),m.rc("ngIf",!e.isAssignPrimary),m.Db(1),m.rc("ngIf",e.isAssignPrimary),m.Db(1),m.rc("nzSpan",24),m.Db(1),m.rc("ngModel",e.selectedStaff),m.Db(1),m.rc("ngForOf",e.listOfAllMonitoringStaffs),m.Db(1),m.rc("ngIf",e.loadingMonitoringStaff),m.Db(1),m.rc("ngIf",!e.isAssignPrimary&&"UNASSIGNED"!=e.previouslySelectedMonitoringStaffId),m.Db(1),m.rc("ngIf","UNASSIGNED"==e.previouslySelectedMonitoringStaffId&&e.selectedMonitoringStaffName&&null!=e.selectedMonitoringStaffName),m.Db(1),m.rc("nzGutter",24),m.Db(2),m.rc("nzLoading",e.loading)("disabled",null==e.selectedMonitoringStaffId))},directives:[Ze.a,J.c,J.a,E.q,it.d,I.u,I.x,E.p,tt.a,et.a,nt.a,it.a,Et.a,Q.a,$.a],styles:[".space-vertical[_ngcontent-%COMP%]{margin-top:18px}.overall-container[_ngcontent-%COMP%]{margin:12px;text-align:-webkit-center}[_nghost-%COMP%]     .ant-modal{top:35%}  .vertical-center-modal{display:flex;align-items:center;justify-content:center}  .vertical-center-modal .ant-modal{top:0}"]}),lf),df=r("MXg9"),pf=r("BoNt"),bf=r("ALyH");function hf(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"nz-option",27),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.rc("nzValue",n.value)("nzLabel",n.label),m.Db(1),m.Zc(" ",n.label," ")}}function gf(t,e){1&t&&(m.Xb(0,"nz-option",28),m.Xb(1,"div",29),m.Sb(2,"em",30),m.Wb(),m.Wb())}function ff(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"span",35),m.Xb(2,"span",36),m.Xc(3),m.jc(4,"tenantName"),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.ic().$implicit;m.Db(3),m.Yc(m.kc(4,1,null==n?null:n.tenantId))}}function vf(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"nz-option",31),m.jc(2,"userLocation"),m.jc(3,"userLocation"),m.Xb(4,"span",32),m.Xb(5,"span",33),m.Xc(6),m.Wb(),m.Vc(7,ff,5,3,"ng-container",34),m.Wb(),m.Wb(),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.rc("nzLabel","N/A"==m.kc(2,3,null==n?null:n.id)?"All":m.kc(3,5,null==n?null:n.id))("nzValue",null==n?null:n.id),m.Db(5),m.Zc(" ",null==n?null:n.name," ")}}function mf(t,e){1&t&&(m.Xb(0,"nz-option",28),m.Xb(1,"div",29),m.Sb(2,"em",30),m.Wb(),m.Wb())}function Sf(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"nz-option",37),m.Ub()),2&t){var n=e.$implicit;m.Db(1),m.rc("nzLabel",null==n?null:n.fullName)("nzValue",null==n?null:n.id)}}function yf(t,e){1&t&&(m.Xb(0,"nz-option",28),m.Xb(1,"div",29),m.Sb(2,"em",30),m.Wb(),m.Wb())}function Tf(t,e){1&t&&(m.Vb(0),m.Sb(1,"nz-option",38),m.Sb(2,"nz-option",39),m.Sb(3,"nz-option",40),m.Ub())}function Cf(t,e){if(1&t&&m.Sb(0,"app-staff-sub-tenants",43),2&t){var n=m.ic(4);m.rc("staffName",n.selectedStaffDetail.fullName)("assignedTenantIds",n.selectedStaffDetail.assignedTenantIds)}}function Ef(t,e){if(1&t&&(m.Vb(0),m.Vc(1,Cf,1,2,"app-staff-sub-tenants",42),m.Ub()),2&t){var n=m.ic(3);m.Db(1),m.rc("ngIf",n.selectedStaffDetail)}}function If(t,e){1&t&&(m.Vb(0),m.Vc(1,Ef,2,1,"ng-container",34),m.Ub())}function Mf(t,e){if(1&t&&(m.Xb(0,"div",2),m.Xb(1,"div",41),m.Vc(2,If,2,0,"ng-container",14),m.Wb(),m.Wb()),2&t){var n=m.ic();m.rc("nzGutter",64),m.Db(2),m.rc("ngIf",!n.loadingMonitoringStaff)}}function Af(t,e){1&t&&(m.Xb(0,"span"),m.Xc(1," No assigned monitoring staff "),m.Wb())}function _f(t,e){1&t&&(m.Xb(0,"span"),m.Xc(1," No assigned physician "),m.Wb())}function Df(t,e){1&t&&(m.Xb(0,"span"),m.Xc(1," Select a monitoring staff "),m.Wb())}function zf(t,e){if(1&t){var n=m.Yb();m.Xb(0,"span",44),m.ec("click",function(t){m.Lc(n);var e=m.ic();return e.showSelectedMonitoringStaffs(t,e.selectedMonitoringStaffs)}),m.Xc(1),m.Wb()}if(2&t){var i=e.$implicit;m.Db(1),m.Zc("+ ",i.length," more \xa0\xa0")}}var Of,kf=function(){return[24,24]},Nf=((Of=function(t){o(i,t);var e=c(i);function i(t,n,a,o,r){var c;return u(this,i),(c=e.call(this))._staffService=t,c._dataSharingService=n,c._notificationsService=a,c._modalService=o,c._siteService=r,c.loadingSite=!1,c.loadingPhysician=!1,c.loadingMonitoringStaff=!1,c.listOfAllMonitoringStaffs=[],c.setOfSelectedPatients=new Set,c.selectedSiteId=null,c.selectedPhysicianId=null,c.setOfCheckedId=new Set,c.indeterminate=!1,c.checked=!1,c.patientRequests$=new En.a,c.patientStatuses=Array.of(df.a.ACTIVE,df.a.REGISTERED),c.primaryActionText="Assign to...",c.title="Assign Monitoring Staff",c.selectedPatientType="ALL",c.staffIdMap=new Map,c}return p(i,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.queryParams.pipe(Object(In.a)(this.unsubscribed)).subscribe(function(e){t.assignAs=e.assign,"PRIMARY"==t.assignAs&&(t.primaryActionText="Assign primary...",t.title="Assign Primary Monitoring Staff")}),this.fetchMonitoringStaff(),this._dataSharingService.onSubTenantChange().subscribe(function(e){t._bulkListComponent&&(t._bulkListComponent.clearAll(),t.selectedPhysicianId=null,t.selectedMonitoringStaffId=null,t.selectedSiteId=null,t.loadingSite=!0,t.listOfAllSites=[],t.listOfAllPhysicians=[],t.listOfAllMonitoringStaffs=[],t.fetchMonitoringStaff())})}},{key:"fetchMonitoringStaff",value:function(){var t=this;this.loadingMonitoringStaff=!0,this._staffService.fetchAllMonitoringStaffs().subscribe(function(e){var i,a=null==e?void 0:e.result;if(t.loadingMonitoringStaff=!1,null!=a&&0!=a.length){t.listOfAllMonitoringStaffs.push({label:"No assigned monitoring staff",value:"UNASSIGNED",checked:!1});var o=a.map(function(e){var n;return t.staffIdMap.set(null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.id,null==e?void 0:e.user),null==e?void 0:e.user}).map(function(t){return{label:t.fullName,value:t.id,checked:!1}});(i=t.listOfAllMonitoringStaffs).push.apply(i,n(o))}},function(e){t.loadingMonitoringStaff=!1,t._notificationsService.error("Monitoring staff","Loading monitoring staffs failed")})}},{key:"onMonitoringStaffChange",value:function(){var t=this;this.selectedStaffDetail=this.selectedMonitoringStaffId?this.staffIdMap.get(this.selectedMonitoringStaffId):void 0,this._bulkListComponent.clearAll(),this.selectedPhysicianId=null,this.selectedSiteId=null,this.loadingSite=!0,this.listOfAllSites=[],this.listOfAllPhysicians=null,this.selectedPatientType=this.selectedMonitoringStaffId?"ALL":null,this._siteService.getAllSites().subscribe(function(e){var i,a=new Map;e.result.forEach(function(t){return a.set(t.id,t)}),"UNASSIGNED"==t.selectedMonitoringStaffId?(t.listOfAllSites.push({id:"",name:"All"}),(i=t.listOfAllSites).push.apply(i,n(Array.from(a.values()))),t.selectedSiteId="",t.loadingSite=!1,t.onSelectedSiteChange(t.selectedSiteId)):t._staffService.getStaffById(t.selectedMonitoringStaffId).subscribe(function(e){t.listOfAllSites.push({id:"",name:"All"}),e.user.locations.forEach(function(e){return t.listOfAllSites.push(a.get(e.id))}),t.selectedSiteId="",t.loadingSite=!1,t.onSelectedSiteChange(t.selectedSiteId)},function(e){t._notificationsService.error("Site","Loading sites failed")})},function(e){t._notificationsService.error("Site","Loading sites failed"),t.loadingSite=!1})}},{key:"onSelectedSiteChange",value:function(t){var e=this;this.listOfAllPhysicians=[],this.selectedPhysicianId=null,this.loadingPhysician=!0,this.totalCount=0,this._bulkListComponent.clearAll(),null!=t&&(this.selectedSiteId=t,this._staffService.fetchAllPhysiciansBySiteId(t).subscribe(function(t){if(e.loadingPhysician=!1,null==t||0===t.totalCount)e.noPhysiciansAvailable=!0;else{var i;if(e.listOfAllPhysicians=[],e.listOfAllPhysicians.push({id:"",fullName:"All"}),"UNASSIGNED"==e.selectedMonitoringStaffId)(i=e.listOfAllPhysicians).push.apply(i,n(t.result.map(function(t){return t.user})));else{var a,o=t.result.filter(function(t){return t.user.assignedStaffIds.some(function(t){return t===e.selectedMonitoringStaffId})}).map(function(t){return t.user});(a=e.listOfAllPhysicians).push.apply(a,n(o))}e.loadingPhysician=!1,e.selectedPhysicianId="",e.getPatients()}},function(t){e.loadingPhysician=!1,e._notificationsService.error("Physicians","Loading physicians failed"),e.noPhysiciansAvailable=!0}))}},{key:"onSelectedPhysicianChange",value:function(t){this._bulkListComponent.clearAll(),null!=t&&this.getPatients()}},{key:"onPatientTypeChange",value:function(){null!=this.selectedSiteId&&null!=this.selectedPhysicianId&&this.getPatients()}},{key:"onPatientStatusChange",value:function(){var t;null!=this.selectedSiteId&&null!=this.selectedPhysicianId&&(null!=this.patientStatuses&&(null===(t=this.patientStatuses)||void 0===t?void 0:t.length)||(this.patientStatuses=Array.of(df.a.ACTIVE,df.a.REGISTERED)),this.getPatients())}},{key:"search",value:function(t){null!=this.selectedSiteId&&null!=this.selectedPhysicianId&&this.getPatients(t)}},{key:"getPatients",value:function(t){this._bulkListComponent.getPatientsList({staffId:this.selectedMonitoringStaffId,physicians:this.selectedPhysicianId,siteId:this.selectedSiteId,patientStatus:this.patientStatuses.join(),searchKey:t,assignedStaffType:this.selectedPatientType||"ALL"})}},{key:"updateSelectedPatients",value:function(t){this.setOfCheckedId=t}},{key:"onPatientSelection",value:function(t){this.setOfSelectedPatients=t}},{key:"assign",value:function(){var t=this;0!=this.setOfCheckedId.size?this._modalService.create({nzTitle:null,nzContent:uf,nzComponentParams:{selectedSiteId:this.selectedSiteId,selectedphysicianId:this.selectedPhysicianId,previouslySelectedMonitoringStaffId:this.selectedMonitoringStaffId,selectedPatients:this.setOfCheckedId,isAssignPrimary:"PRIMARY"==this.assignAs,selectedPatientList:this.setOfSelectedPatients},nzWidth:350,nzWrapClassName:"vertical-center-modal",nzMaskClosable:!0,nzClosable:!0,nzOkText:null,nzFooter:null}).afterClose.subscribe(function(e){(null==e?void 0:e.isAssigned)&&t._modalService.create({nzContent:Jg.a,nzComponentParams:{selectedMonitoringStaffName:e.selectedMonitoringStaffName,isAssignPrimary:"PRIMARY"==t.assignAs},nzWrapClassName:"vertical-center-modal",nzTitle:null,nzFooter:null,nzClosable:!1,nzMaskClosable:!1,nzOkText:null,nzCancelText:null}).afterClose.subscribe(function(){t._bulkListComponent.clearPatientSelection(),t.getPatients()})}):this._notificationsService.warning("Assign Monitoring Staff","Please choose atleast 1 patient.")}},{key:"assignPrimary",value:function(){this.assign()}},{key:"onPrimaryAction",value:function(t){"PRIMARY"==this.assignAs?this.assignPrimary():this.assign()}},{key:"onSecondaryAction",value:function(t){null!=this._bulkListComponent&&this._bulkListComponent.clearPatientSelection(),this.setOfCheckedId.clear()}}]),i}(Ec.a)).\u0275fac=function(t){return new(t||Of)(m.Rb(Fg.a),m.Rb(k.a),m.Rb(Z.b),m.Rb(q.f),m.Rb(pf.a))},Of.\u0275cmp=m.Lb({type:Of,selectors:[["app-bulk-monitoring-staff-assign"]],viewQuery:function(t,e){var n;1&t&&m.ed($g.a,1),2&t&&m.Hc(n=m.fc())&&(e._bulkListComponent=n.first)},features:[m.Ab],decls:53,vars:25,consts:[[3,"title","defaultTitle","isActionEnabled","search"],[1,"container"],["nz-row","",1,"label-1",3,"nzGutter"],["nz-col","","nzXXl","2","nzXs","3","nzMd","4","nzLg","3","nzXl","2",1,"label"],["nz-col","","nzXXl","3","nzXs","9","nzMd","8","nzLg","5","nzXl","5",1,"staff-slect-box"],["nzPlaceHolder","Search Monitoring Staff","nzShowSearch","","nzAllowClear","",3,"ngModel","nzNotFoundContent","ngModelChange"],[4,"ngFor","ngForOf"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nz-col","","nzXXl","2","nzXs","3","nzMd","4","nzLg","3","nzXl","3",1,"label"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a site",3,"ngModel","ngModelChange"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Select a Physician",3,"ngModel","nzNotFoundContent","ngModelChange"],["nz-col","","nzXXl","1","nzXs","3","nzMd","4","nzLg","3","nzXl","2",1,"label"],["nz-col","","nzXXl","2","nzXs","9","nzMd","8","nzLg","5","nzXl","5",1,"staff-slect-box"],["nzPlaceHolder","Select patient type","nzAllowClear","",3,"ngModel","nzNotFoundContent","ngModelChange"],[4,"ngIf"],["nz-col","","nzXXl","4","nzXs","9","nzMd","8","nzLg","5","nzXl","5",1,"staff-slect-box"],["nzMode","multiple","nzPlaceHolder","Select Status",3,"ngModel","ngModelChange"],["nzCustomContent","","nzLabel","All","nzValue","ACTIVE,REGISTERED"],["nzCustomContent","","nzLabel","Registered","nzValue","REGISTERED"],["nzCustomContent","","nzLabel","Active","nzValue","ACTIVE"],["nz-row","","class","label-1",3,"nzGutter",4,"ngIf"],["nz-col","",3,"nzSpan"],["tableActionHint","BULK_ACTION.ASSIGN_STAFF_ACTION_HINT","defaultHint","BULK_ACTION.ASSIGN_STAFF_DEFAULT_TEXT","secondaryActionText","Clear Selection",3,"hideActionItems","primaryActionText","onUserSelectionChange","onPrimaryAction","onSecondaryAction","onPatientSelection"],["noMonitoringStaffData",""],["noPhysicianData",""],["emptyMonitoringStaffData",""],["selectedStaffsTagPlaceHolder",""],[3,"nzValue","nzLabel"],["nzDisabled","","nzCustomContent",""],[1,"loading-option"],["nz-icon","","nzType","loading",2,"font-size","20px","color","#8BC34A"],["nzCustomContent","",3,"nzLabel","nzValue"],[2,"display","flex"],[2,"width","70%"],[4,"isAccessAcrossTenantEnabled"],[2,"width","30%"],["nz-typography","","nzType","secondary",2,"color","var(--primary-color)"],[3,"nzLabel","nzValue"],["nzValue","ALL","nzLabel","All"],["nzValue","PRIMARY","nzLabel","Primary"],["nzValue","OTHER","nzLabel","Secondary"],["nz-col","","nzSpan","14",2,"padding-left","10px !important"],[3,"staffName","assignedTenantIds",4,"ngIf"],[3,"staffName","assignedTenantIds"],[1,"max-tag-placeholder",3,"click"]],template:function(t,e){if(1&t&&(m.Xb(0,"app-header",0),m.ec("search",function(t){return e.search(t)}),m.Wb(),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Xb(4,"span"),m.Xc(5,"Monitoring Staff"),m.Wb(),m.Wb(),m.Xb(6,"div",4),m.Xb(7,"nz-select",5),m.ec("ngModelChange",function(t){return e.selectedMonitoringStaffId=t})("ngModelChange",function(){return e.onMonitoringStaffChange()}),m.Vc(8,hf,3,3,"ng-container",6),m.Vc(9,gf,3,0,"nz-option",7),m.Wb(),m.Wb(),m.Xb(10,"div",8),m.Xb(11,"span"),m.Xc(12,"Site"),m.Wb(),m.Wb(),m.Xb(13,"div",4),m.Xb(14,"nz-select",9),m.ec("ngModelChange",function(t){return e.selectedSiteId=t})("ngModelChange",function(t){return e.onSelectedSiteChange(t)}),m.Vc(15,vf,8,7,"ng-container",6),m.Vc(16,mf,3,0,"nz-option",7),m.Wb(),m.Wb(),m.Xb(17,"div",8),m.Xb(18,"span"),m.Xc(19,"Physician"),m.Wb(),m.Wb(),m.Xb(20,"div",4),m.Xb(21,"nz-select",10),m.ec("ngModelChange",function(t){return e.selectedPhysicianId=t})("ngModelChange",function(t){return e.onSelectedPhysicianChange(t)}),m.Vc(22,Sf,2,2,"ng-container",6),m.Vc(23,yf,3,0,"nz-option",7),m.Wb(),m.Wb(),m.Xb(24,"div",11),m.Xb(25,"span"),m.Xc(26,"Type"),m.Wb(),m.Wb(),m.Xb(27,"div",12),m.Xb(28,"nz-select",13),m.ec("ngModelChange",function(t){return e.selectedPatientType=t})("ngModelChange",function(){return e.onPatientTypeChange()}),m.Vc(29,Tf,4,0,"ng-container",14),m.Wb(),m.Wb(),m.Xb(30,"div",8),m.Xb(31,"span"),m.Xc(32,"Patient Status"),m.Wb(),m.Wb(),m.Xb(33,"div",15),m.Xb(34,"nz-select",16),m.ec("ngModelChange",function(t){return e.patientStatuses=t})("ngModelChange",function(){return e.onPatientStatusChange()}),m.Xb(35,"nz-option",17),m.Xc(36,"All"),m.Wb(),m.Xb(37,"nz-option",18),m.Xc(38,"Registered"),m.Wb(),m.Xb(39,"nz-option",19),m.Xc(40,"Active"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Vc(41,Mf,3,2,"div",20),m.Xb(42,"div",2),m.Xb(43,"div",21),m.Xb(44,"app-bulk-patient-list",22),m.ec("onUserSelectionChange",function(t){return e.updateSelectedPatients(t)})("onPrimaryAction",function(t){return e.onPrimaryAction(t)})("onSecondaryAction",function(t){return e.onSecondaryAction(t)})("onPatientSelection",function(t){return e.onPatientSelection(t)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Vc(45,Af,2,0,"ng-template",null,23,m.Wc),m.Vc(47,_f,2,0,"ng-template",null,24,m.Wc),m.Vc(49,Df,2,0,"ng-template",null,25,m.Wc),m.Vc(51,zf,2,1,"ng-template",null,26,m.Wc)),2&t){var n=m.Ic(46),i=m.Ic(48),a=m.Ic(50);m.rc("title",e.title)("defaultTitle",e.title)("isActionEnabled",!1),m.Db(2),m.rc("nzGutter",m.xc(24,kf)),m.Db(5),m.rc("ngModel",e.selectedMonitoringStaffId)("nzNotFoundContent",n),m.Db(1),m.rc("ngForOf",e.listOfAllMonitoringStaffs),m.Db(1),m.rc("ngIf",e.loadingMonitoringStaff),m.Db(5),m.rc("ngModel",e.selectedSiteId),m.Db(1),m.rc("ngForOf",e.listOfAllSites),m.Db(1),m.rc("ngIf",e.loadingSite),m.Db(5),m.rc("ngModel",e.selectedPhysicianId)("nzNotFoundContent",i),m.Db(1),m.rc("ngForOf",e.listOfAllPhysicians),m.Db(1),m.rc("ngIf",e.loadingPhysician),m.Db(5),m.rc("ngModel",e.selectedPatientType)("nzNotFoundContent",a),m.Db(1),m.rc("ngIf",e.selectedMonitoringStaffId),m.Db(5),m.rc("ngModel",e.patientStatuses),m.Db(7),m.rc("ngIf",e.selectedStaffDetail),m.Db(1),m.rc("nzGutter",64),m.Db(1),m.rc("nzSpan",24),m.Db(1),m.rc("hideActionItems",!0)("primaryActionText",e.primaryActionText)}},directives:[ep.a,J.c,J.a,it.d,I.u,I.x,E.p,E.q,it.a,$g.a,nt.a,Et.a,Wn.a,Q.a,bf.a],pipes:[Bg.a,Fu.a],styles:[".label[_ngcontent-%COMP%]{text-align:right;margin-top:8px}.label-1[_ngcontent-%COMP%]{margin-top:10px}.container-bulk[_ngcontent-%COMP%]{padding-top:20px 20px!important}.align-left[_ngcontent-%COMP%]{text-align:left!important}.align-center[_ngcontent-%COMP%]{text-align:center!important}.staff-slect-box[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}#status-select[_ngcontent-%COMP%]{margin-top:-10px}[_nghost-%COMP%]     .ant-select-selection-placeholder{right:unset}"]}),Of),Pf=r("cp0P"),Rf=r("eq8A"),Xf=r("m3lz");function Lf(t,e){1&t&&(m.Xb(0,"span",13),m.Xc(1," Completed "),m.Sb(2,"i",14),m.Wb())}function wf(t,e){1&t&&(m.Xb(0,"div",15),m.Sb(1,"i",16),m.Wb()),2&t&&m.rc("nzSpan",6)}function Wf(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",5),m.ec("click",function(){m.Lc(n);var t=m.ic().$implicit;return m.ic().onClick(t)}),m.Xb(1,"div",6),m.Xb(2,"div",7),m.Xb(3,"p",8),m.Xb(4,"strong"),m.Xc(5),m.Wb(),m.Wb(),m.Wb(),m.Xb(6,"div",7),m.Vc(7,Lf,3,0,"span",9),m.Vc(8,wf,2,1,"div",10),m.Wb(),m.Wb(),m.Xb(9,"div",6),m.Xb(10,"div",7),m.Xb(11,"p",11),m.Xc(12),m.jc(13,"titlecase"),m.jc(14,"userLocations"),m.Wb(),m.Wb(),m.Wb(),m.Xb(15,"div",6),m.Xb(16,"div",7),m.Xb(17,"p",12),m.Xc(18),m.Wb(),m.Wb(),m.Xb(19,"div",7),m.Xb(20,"p",12),m.Xc(21),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=m.ic().$implicit;m.Db(2),m.rc("nzSpan",18),m.Db(1),m.sc("nzTooltipTitle",null==i?null:i.staffName),m.Db(2),m.Zc(" ",null==i?null:i.staffName," "),m.Db(1),m.rc("nzSpan",6),m.Db(1),m.rc("ngIf",null==i?null:i.completed),m.Db(1),m.rc("ngIf",null==i?null:i.disabled),m.Db(2),m.rc("nzSpan",12),m.Db(2),m.Zc(" ",m.kc(13,12,m.kc(14,14,null==i?null:i.siteId))," "),m.Db(4),m.rc("nzSpan",16),m.Db(2),m.Zc(" Patients Reassigned: ",null==i?null:i.reassigned,""),m.Db(1),m.rc("nzSpan",8),m.Db(2),m.Zc(" Pending: ",null==i?null:i.pendingReassigning,"")}}function Vf(t,e){if(1&t&&(m.Vb(0),m.Sb(1,"nz-tab",3),m.Vc(2,Wf,22,16,"ng-template",null,4,m.Wc),m.Ub()),2&t){var n=m.Ic(3);m.Db(1),m.rc("nzTitle",n)}}function xf(t,e){1&t&&m.Sb(0,"i",17)}var Uf,Ff=((Uf=function(){function t(e){u(this,t),this._staffService=e,this.onPhysicianSelected=new m.n,this.sitePhysicianMap=new Map,this.styleClass="staff-detail-card",this.style={height:"100px"}}return p(t,[{key:"ngOnInit",value:function(){}},{key:"onClick",value:function(t){this.onPhysicianSelected.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||Uf)(m.Rb(Fg.a))},Uf.\u0275cmp=m.Lb({type:Uf,selectors:[["staff-detail-card"]],inputs:{physicians:"physicians",staffId:"staffId"},outputs:{onPhysicianSelected:"onPhysicianSelected"},decls:4,vars:3,consts:[[3,"nzTabBarStyle","nzTabBarGutter"],[4,"ngFor","ngForOf"],["loading",""],[3,"nzTitle"],["staffData",""],[1,"tab-card-container",3,"click"],["nz-row",""],["nz-col","",3,"nzSpan"],["nz-tooltip","",1,"physician-name",3,"nzTooltipTitle"],["class","completed-tag",4,"ngIf"],["nz-col","","nz-tooltip","","nzTooltipTitle","No monitoring staff available to reassign.",3,"nzSpan",4,"ngIf"],[1,"location-name"],[1,"pending-count"],[1,"completed-tag"],["nz-icon","","nzType","check-circle","nzTheme","outline"],["nz-col","","nz-tooltip","","nzTooltipTitle","No monitoring staff available to reassign.",3,"nzSpan"],["nz-icon","","nzType","warning","nzTheme","outline"],["nz-icon","","nzType","loading","nzTheme","outline"]],template:function(t,e){1&t&&(m.Xb(0,"nz-tabset",0),m.Vc(1,Vf,4,1,"ng-container",1),m.Wb(),m.Vc(2,xf,1,0,"ng-template",null,2,m.Wc)),2&t&&(m.rc("nzTabBarStyle",e.style)("nzTabBarGutter",0),m.Db(1),m.rc("ngForOf",e.physicians))},directives:[qc.d,E.p,qc.a,J.c,J.a,tn.d,E.q,nt.a,Et.a],pipes:[E.A,Xf.a],styles:["[_nghost-%COMP%]     .ant-tabs-tab{margin-left:10px}[_nghost-%COMP%]     .ant-tabs-ink-bar{background:transparent}[_nghost-%COMP%]     .ant-card-body{background:transparent}.staff-detail-card[_ngcontent-%COMP%]{width:300px;height:120px;margin-top:110px;border:1px solid #eae7e7}.staff-detail-card-click-focus[_ngcontent-%COMP%], .staff-detail-card[_ngcontent-%COMP%]:hover{border:1px solid var(--primary-color)}[_nghost-%COMP%]     .ant-tabs-tab{background:var(--neutral-color);border-radius:10px;height:100px;border:1px solid #eae7e7;padding:0 12px;margin-left:0;margin-right:10px!important}[_nghost-%COMP%]     .ant-tabs-nav{padding:0!important}[_nghost-%COMP%]     .ant-tabs-tab-active{border:1px solid var(--primary-color)}.tab-card-container[_ngcontent-%COMP%]{background:var(--neutral-color);width:300px}.tab-card-container[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.physician-name[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0;white-space:nowrap;width:200px;overflow:hidden;text-overflow:ellipsis}.physician-name[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.location-name[_ngcontent-%COMP%]{font-size:14px}.location-name[_ngcontent-%COMP%], .pending-count[_ngcontent-%COMP%]{margin-bottom:0}.completed-tag[_ngcontent-%COMP%]{font-size:11px;background:var(--primary-color);margin:0;padding:3px;border-radius:5px 0 0 5px;color:var(--neutral-color)}"]}),Uf);function Hf(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"staff-detail-card",12),m.ec("onPhysicianSelected",function(t){return m.Lc(n),m.ic().onPhysicianSelected(t)}),m.Wb(),m.Ub()}if(2&t){var i=m.ic();m.Db(1),m.rc("physicians",i.results)("staffId",i.staffId)}}var Bf=function(){return{size:"large"}};function jf(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"nz-card",13),m.Xb(2,"nz-skeleton",14),m.Sb(3,"nz-card-meta",15),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(2),m.rc("nzActive",!0)("nzLoading",n.loading)("nzAvatar",m.xc(4,Bf)),m.Db(1),m.rc("nzAvatar",n.avatarTemplate)}}function Gf(t,e){1&t&&(m.Xb(0,"div",1),m.Xb(1,"div",2),m.Sb(2,"img",16),m.Wb(),m.Wb()),2&t&&(m.rc("nzGutter",64),m.Db(1),m.rc("nzSpan",24))}function Yf(t,e){1&t&&(m.Xb(0,"div",1),m.Xb(1,"div",2),m.Sb(2,"img",17),m.Wb(),m.Wb()),2&t&&(m.rc("nzGutter",64),m.Db(1),m.rc("nzSpan",24))}var qf,Zf,Qf=((Zf=function(t){o(i,t);var e=c(i);function i(t,n,a,o,r,c){var s;return u(this,i),(s=e.call(this))._staffService=t,s._route=n,s._location=a,s._router=o,s._notificationService=r,s._modalService=c,s.loading=!1,s.results=new Array,s.patientStatuses=Array.of(df.a.ACTIVE,df.a.REGISTERED),s.assignedStaffMap=new Map,s.staffNameMap=new Map,s.sitePhysicianStaffPresentMap=new Map,s.hoverImgStyle={maxWidth:"none"},s.onPrimaryAction=function(t){return s.assignTo()},s._routeHelperService.isPrimaryActionTriggered().pipe(Object(_d.a)(function(t){return!!t}),Object(In.a)(s.unsubscribed)).subscribe(function(t){s.disableStaff()}),s}return p(i,[{key:"ngOnInit",value:function(){this.getDataFromURL(),this.initSubscribers(),this.init({caretakers:this.$getAllCaretakersObservable,patients:this.$patientListForDisabledStaffObservable})}},{key:"init",value:function(t){var e=this;this.loading=!0,Object(Pf.a)(t).subscribe(function(t){t.caretakers&&e.initCaretakerData(t.caretakers),e.initPatientCards(t.patients)})}},{key:"initPatientCards",value:function(t){var e=this;this.isAllCompleted=!0,this.assignedList=t.reassignedList,this.results=n(t.patientDetails),this.results.forEach(function(t){return e.isAllCompleted=t.completed&&e.isAllCompleted}),this.isAllCompleted?this._routeHelperService.setPrimaryEnableAction(!1):this.getCaretakersData(),this.onPhysicianSelected(t.patientDetails[0]),this.loading=!1,this.processReAssignList()}},{key:"initCaretakerData",value:function(t){var e=this;t.result.forEach(function(t){return e.staffNameMap.set(t.user.id,t.user.fullName)})}},{key:"processReAssignList",value:function(){var t=this;this.assignedStaffMap.clear(),this.results.forEach(function(e){e.patients.forEach(function(e){e.assignedStaffIds.filter(function(e){return e!=t.staffId}).forEach(function(n){t.staffNameMap.has(n)&&(t.assignedStaffMap.has(e.id)?t.assignedStaffMap.set(e.id,t.assignedStaffMap.get(e.id)+", "+t.staffNameMap.get(n)):t.assignedStaffMap.set(e.id,t.staffNameMap.get(n)))})})})}},{key:"initSubscribers",value:function(){this.$getAllCaretakersObservable=this._staffService.fetchAllMonitoringStaffBySiteIdAndPhysicianId(),this.$patientListForDisabledStaffObservable=this._staffService.getPatientListForDisabledStaff(this.staffId)}},{key:"getDataFromURL",value:function(){var t=this;this._route.params.forEach(function(e){t.staffId=e.staffId}),this._route.queryParams.forEach(function(e){t.staffName=e.staffName})}},{key:"onPhysicianSelected",value:function(t){this.selectedPhysician=t,null!=this._bulkListComponent&&this._bulkListComponent.clearAll(),this._bulkListComponent.getPatientsList({staffId:this.staffId,physicians:t.staffId,siteId:t.siteId})}},{key:"updateSelectedPatients",value:function(t){this.setOfCheckedId=t}},{key:"assignTo",value:function(){var t=this;this.sitePhysicianStaffPresentMap.get(this.selectedPhysician.staffId+"_"+this.selectedPhysician.siteId)?this._modalService.create({nzTitle:null,nzContent:uf,nzComponentParams:{selectedSiteId:this.selectedPhysician.siteId,selectedphysicianId:this.selectedPhysician.staffId,previouslySelectedMonitoringStaffId:this.staffId,selectedPatients:this.setOfCheckedId,isRequestFromDisableStaff:!0},nzWrapClassName:"vertical-center-modal",nzWidth:350,nzMaskClosable:!0,nzClosable:!0,nzOkText:null,nzFooter:null}).afterClose.subscribe(function(e){e.isAssigned&&t._modalService.create({nzContent:Jg.a,nzComponentParams:{selectedMonitoringStaffName:e.selectedMonitoringStaffName},nzWrapClassName:"vertical-center-modal",nzTitle:null,nzFooter:null,nzClosable:!1,nzMaskClosable:!1,nzOkText:null,nzCancelText:null}).afterClose.subscribe(function(){t._bulkListComponent.clearPatientSelection(),t._bulkListComponent.setOfCheckedId.clear(),t.setOfCheckedId.clear(),t.init({patients:t.$patientListForDisabledStaffObservable})})}):this._notificationService.info("Assign Staff","There are no other staff members assigned to this physician under this site. You can proceed to disable this staff member.")}},{key:"disableStaff",value:function(){var t=this;this._modalService.create({nzContent:Rf.a,nzMaskClosable:!1,nzClosable:!1,nzFooter:null,nzTitle:"Are you sure you want to disable the staff?",nzCancelText:null,nzOkText:null,nzWrapClassName:"vertical-center-modal",nzBodyStyle:{paddingTop:"0px"}}).afterClose.subscribe(function(e){e.isConfirmed&&t._staffService.disableMonitoringStaff(t.staffId,e.reason).subscribe(function(n){t.generateAndDownloadReport(),t._modalService.create({nzContent:Jg.a,nzComponentParams:{selectedMonitoringStaffName:e.selectedMonitoringStaffName,referer:"DISABLE_MONITORING_STAFF"},nzTitle:null,nzFooter:null,nzClosable:!1,nzMaskClosable:!1,nzOkText:null,nzWrapClassName:"vertical-center-modal",nzCancelText:null}).afterClose.subscribe(function(){t._location.back()})})})}},{key:"generateAndDownloadReport",value:function(){this._staffService.generateAndDownloadReport(this.staffId).subscribe(function(t){null!=t.fileName&&window.open("".concat(mt.g.url,"/v2/media/").concat(t.fileName))})}},{key:"onSecondaryAction",value:function(t){null!=this._bulkListComponent&&this._bulkListComponent.clearPatientSelection(),this.setOfCheckedId.clear()}},{key:"getCaretakersData",value:function(){var t=this,e={};this.results.forEach(function(n){e[n.staffId+"_"+n.siteId]=t._staffService.fetchAllMonitoringStaffBySiteIdAndPhysicianId(n.siteId,n.staffId)}),this.getCaretakers(e)}},{key:"getCaretakers",value:function(t){var e=this;Object(Pf.a)(t).subscribe(function(t){var n=!0;Object.keys(t).forEach(function(i){var a=t[i].result.filter(function(t){return t.user.id!=e.staffId}).length>0;e.sitePhysicianStaffPresentMap.set(i,a),n=n&&a}),e._routeHelperService.setPrimaryEnableAction(n)})}}]),i}(Ec.a)).\u0275fac=function(t){return new(t||Zf)(m.Rb(Fg.a),m.Rb(y.a),m.Rb(E.l),m.Rb(y.g),m.Rb(Z.b),m.Rb(q.f))},Zf.\u0275cmp=m.Lb({type:Zf,selectors:[["app-disable-monitoring-staff"]],viewQuery:function(t,e){var n;1&t&&m.ed($g.a,1),2&t&&m.Hc(n=m.fc())&&(e._bulkListComponent=n.first)},features:[m.Ab],decls:31,vars:18,consts:[[1,"container"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-col","",2,"padding-left","0px !important",3,"nzSpan"],[4,"ngIf"],["defaultHint","BULK_ACTION.ASSIGN_STAFF_DEFAULT_TEXT","primaryActionText","Assign to...","secondaryActionText","Clear Selection",3,"hideActionItems","showAssignedStatus","assignedStaffMap","onUserSelectionChange","onPrimaryAction","onSecondaryAction"],[2,"font","normal normal 600 13px/24px Nunito"],["nz-icon","","nzType","info-circle","nzTheme","fill",2,"color","var(--primary-color)"],["nzType","link","nz-tooltip","","nzTooltipColor","white","nzTooltipArrowPointAtCenter","false","nzTooltipPlacement","top","nz-button","",1,"link-btn",3,"nzTooltipTitle","nzTooltipOverlayStyle"],[2,"text-decoration","underline","font","normal normal 600 13px/24px Nunito"],["filterImg",""],["widgetImg",""],[3,"physicians","staffId","onPhysicianSelected"],[2,"width","300px","height","150px","margin-top","16px"],[3,"nzActive","nzLoading","nzAvatar"],["nzTitle","Card title","nzDescription","This is the description",3,"nzAvatar"],["src","../../../../assets/images/help-guides/filterImg.svg","alt","Monitoring Staff Filter",1,"filter-img"],["src","../../../../assets/images/help-guides/widgetImg.svg","alt","Monitoring Staff Widget",1,"widget-img"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"p"),m.Xb(4,"strong"),m.Xc(5),m.Wb(),m.Xc(6," is assigned to multiple patients under the following physicians. We will be able to disable their profile once we ensure all their patients have/ or are assigned to at least one other monitoring staff."),m.Wb(),m.Wb(),m.Wb(),m.Xb(7,"div",1),m.Xb(8,"div",3),m.Vc(9,Hf,2,2,"ng-container",4),m.Vc(10,jf,4,5,"ng-container",4),m.Wb(),m.Wb(),m.Xb(11,"div",1),m.Xb(12,"div",2),m.Xb(13,"app-bulk-patient-list",5),m.ec("onUserSelectionChange",function(t){return e.updateSelectedPatients(t)})("onPrimaryAction",function(t){return e.onPrimaryAction(t)})("onSecondaryAction",function(t){return e.onSecondaryAction(t)}),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"div",1),m.Xb(15,"div",2),m.Xb(16,"p",6),m.Sb(17,"i",7),m.Xc(18," The list of patients without any assigned staff can be obtained by "),m.Xb(19,"button",8),m.Xb(20,"p",9),m.Xc(21,"filtering the patients"),m.Wb(),m.Wb(),m.Xc(22," or by using the same widget from your "),m.Xb(23,"button",8),m.Xb(24,"p",9),m.Xc(25,"dashboard"),m.Wb(),m.Wb(),m.Xc(26,". "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Vc(27,Gf,3,2,"ng-template",null,10,m.Wc),m.Vc(29,Yf,3,2,"ng-template",null,11,m.Wc)),2&t){var n=m.Ic(28),i=m.Ic(30);m.Db(1),m.rc("nzGutter",24),m.Db(1),m.rc("nzSpan",24),m.Db(3),m.Zc(" ",e.staffName," "),m.Db(2),m.rc("nzGutter",24),m.Db(1),m.rc("nzSpan",24),m.Db(1),m.rc("ngIf",!e.loading),m.Db(1),m.rc("ngIf",e.loading),m.Db(1),m.rc("nzGutter",64),m.Db(1),m.rc("nzSpan",24),m.Db(1),m.rc("hideActionItems",!0)("showAssignedStatus",!0)("assignedStaffMap",e.assignedStaffMap),m.Db(1),m.rc("nzGutter",64),m.Db(1),m.rc("nzSpan",24),m.Db(4),m.rc("nzTooltipTitle",n)("nzTooltipOverlayStyle",e.hoverImgStyle),m.Db(4),m.rc("nzTooltipTitle",i)("nzTooltipOverlayStyle",e.hoverImgStyle)}},directives:[J.c,J.a,E.q,$g.a,nt.a,Et.a,tt.a,tn.d,Ff,Tt.a,$c.a,Tt.c],styles:["[nz-carousel-content][_ngcontent-%COMP%]{text-align:center;height:160px;line-height:160px;background:#364d79;overflow:hidden}[nz-carousel-content][_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{color:var(--neutral-color)}h3[_ngcontent-%COMP%]{margin-bottom:0;-webkit-user-select:none;-moz-user-select:none;user-select:none}.filter-img[_ngcontent-%COMP%]{width:592px;height:336px}.filter-text[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover, .widget-img[_ngcontent-%COMP%]{width:320px;height:195px}.filter-text[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{top:677px;left:1050px;opacity:1}.ant-btn.link-btn[_ngcontent-%COMP%]{padding:4.8px 0}"]}),Zf),Kf=((qf=function(){function t(e){u(this,t),this.router=e}return p(t,[{key:"canActivate",value:function(t,e){var n=localStorage.getItem("loggedInUserAccountType"),i="true"==localStorage.getItem("tenantDeviceOrderEnabled"),a="TENANT_ADMIN"===n&&i;return a||this.router.navigate(["/forbidden"]),a}}]),t}()).\u0275fac=function(t){return new(t||qf)(m.bc(y.g))},qf.\u0275prov=m.Nb({token:qf,factory:qf.\u0275fac,providedIn:"root"}),qf),Jf=r("q7YW");function $f(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",7),m.Xb(2,"div",8),m.Xb(3,"div",9),m.Xb(4,"label",10),m.Xc(5,"Patient Type"),m.Wb(),m.Wb(),m.Xb(6,"div",11),m.Xb(7,"nz-select",12),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic(2).patientType=t})("ngModelChange",function(){return m.Lc(n),m.ic(2).onAssignedStaffChange()}),m.Sb(8,"nz-option",13),m.Sb(9,"nz-option",14),m.Sb(10,"nz-option",15),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub()}if(2&t){var i=m.ic(2);m.Db(7),m.rc("ngModel",i.patientType)}}function tv(t,e){if(1&t&&m.Vc(0,$f,11,1,"ng-container",6),2&t){var n=m.ic();m.rc("ngIf",!("TENANT_ADMIN"==n.activeRoleType||"PHYSICIAN"==n.activeRoleType))}}var ev,nv=function(t){return{left:t}},iv=((ev=function(){function t(e){var n=this;u(this,t),this._routeHelperService=e,this.patientType="ALL",this.patientTypeChange=new m.n,this.onTabChange=new m.n,this.refresh=new m.n,this.tabIndex=new Map([[0,Ru.a.OPEN],[1,Ru.a.CLOSED]]),this.onSelectedTabIndexChange=function(t){return n.onTabChange.emit(n.tabIndex.get(t))}}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.activeRoleType=localStorage.getItem("loggedInUserRole"),this.selectedTabIndex="OPEN"==this.status?0:1,this._routeHelperService.isSidebarCollapsed().subscribe(function(e){t.sidebarCollapsed=e,t.resizeHeader()}),Object(Jf.fromEvent)(window,"sidebar").pipe(Object(Vt.a)(50)).subscribe(function(e){var n;t.sidebarCollapsed=null===(n=null==e?void 0:e.detail)||void 0===n?void 0:n.state,t.resizeHeader()})}},{key:"resizeHeader",value:function(){this.headerLeft=this.sidebarCollapsed?"0":"150px"}},{key:"onAssignedStaffChange",value:function(){sessionStorage.setItem("patientType",this.patientType),this.patientTypeChange.emit(this.patientType),this.refresh.emit()}}]),t}()).\u0275fac=function(t){return new(t||ev)(m.Rb(_e.a))},ev.\u0275cmp=m.Lb({type:ev,selectors:[["app-alert-header"]],inputs:{status:"status",patientType:"patientType"},outputs:{patientTypeChange:"patientTypeChange",onTabChange:"onTabChange",refresh:"refresh"},decls:10,vars:11,consts:[["ngTour","patientListHeaders",3,"nzSelectedIndex","ngStyle","nzTabBarExtraContent","nzSelectedIndexChange"],[3,"nzTitle"],["openAlertTab",""],["closedAlertTab",""],["patientTypeTemplate",""],[1,"header-spacer"],[4,"ngIf"],[2,"display","inline-block","min-width","230px"],["nz-row","","nzAlign","middle","nzGutter","12"],["nz-col",""],["nz-typography","","nzType","secondary"],["nz-col","","nzFlex","150px"],["nzPlaceHolder","Select patient type",3,"ngModel","ngModelChange"],["nzValue","ALL","nzLabel","All"],["nzValue","PRIMARY","nzLabel","Primary"],["nzValue","OTHER","nzLabel","Secondary"]],template:function(t,e){if(1&t&&(m.Xb(0,"nz-tabset",0),m.ec("nzSelectedIndexChange",function(t){return e.onSelectedTabIndexChange(t)}),m.Sb(1,"nz-tab",1,2),m.jc(3,"translate"),m.Sb(4,"nz-tab",1,3),m.jc(6,"translate"),m.Wb(),m.Vc(7,tv,1,1,"ng-template",null,4,m.Wc),m.Sb(9,"div",5)),2&t){var n=m.Ic(8);m.rc("nzSelectedIndex",e.selectedTabIndex)("ngStyle",m.yc(9,nv,e.headerLeft))("nzTabBarExtraContent",n),m.Db(1),m.sc("nzTitle",m.kc(3,5,"ALERTS.OPEN")),m.Db(3),m.sc("nzTitle",m.kc(6,7,"ALERTS.CLOSED"))}},directives:[qc.d,$e.e,E.r,qc.a,E.q,J.c,J.a,Q.a,it.d,I.u,I.x,it.a],pipes:[rt.a],styles:[".search[_ngcontent-%COMP%]{background:#393939;color:var(--neutral-color);border:none;height:30px;outline:none}[_nghost-%COMP%]     .ant-tabs-nav{background:var(--light-black)}[_nghost-%COMP%]     .ant-input-group-addon{background-color:transparent}[_nghost-%COMP%]     .ant-input-search>.ant-input-group>.ant-input-group-addon .ant-input-search-button{padding:5px 10px;border-radius:5px;height:30px}[_nghost-%COMP%]     .ant-tabs-tab{height:unset}[_nghost-%COMP%]     .ant-tabs-tab-active{border-bottom:4px solid var(--primary-color)!important}[_nghost-%COMP%]     .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn{color:var(--neutral-color)}[_nghost-%COMP%]     .ant-input-group-wrapper{width:inherit}[_nghost-%COMP%]     .ant-tabs{z-index:998;position:fixed;right:0;display:contents}.header-spacer[_ngcontent-%COMP%]{height:0}a[_ngcontent-%COMP%]{float:right;color:var(--neutral-color);font-weight:700;height:30px;margin:0 15px}#username[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:3}app-icons[_ngcontent-%COMP%]{vertical-align:middle}.ant-tabs-bottom[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], .ant-tabs-bottom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], .ant-tabs-top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-tabs-top>.ant-tabs-nav{margin:0}.ant-tabs[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%]   .ant-tabs-nav-list[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-tabs>.ant-tabs-nav .ant-tabs-nav-list{color:var(--neutral-color)}.ant-btn-circle-outline[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-btn-circle{border:none}"]}),ev),av=r("bE2y"),ov=r("OkQO");function rv(t,e){1&t&&(m.Vb(0),m.Xc(1," Stage 3 - "),m.Ub())}function cv(t,e){if(1&t){var n=m.Yb();m.Xb(0,"nz-tag",26),m.ec("click",function(){return m.Lc(n),m.ic().startTimer()}),m.Xc(1),m.Wb()}if(2&t){var i=m.ic();m.Db(1),m.Zc(" ",i.timerRunning?"End Timer":"Start Timer"," ")}}function sv(t,e){1&t&&(m.Xb(0,"nz-tag",27),m.Xc(1," Reopened "),m.Wb())}function lv(t,e){if(1&t){var n=m.Yb();m.Xb(0,"span",28),m.ec("click",function(){m.Lc(n);var t=m.ic();return t.markAsClosed(null==t.alert?null:t.alert.id)}),m.Wb()}}function uv(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"span",29),m.Xc(2),m.jc(3,"tenantName"),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(2),m.Zc(" | ",m.kc(3,1,null==n.alert||null==n.alert.patient?null:n.alert.patient.tenantId)," ")}}function dv(t,e){1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"translate"),m.Ub()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON_SELECT_VITAL_SIGN")," "))}function pv(t,e){1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"translate"),m.Ub()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"COMMON.SURVEYFORM")," "))}function bv(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"span",19),m.jc(2,"alertValue"),m.Xc(3),m.jc(4,"alertValue"),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.sc("nzTooltipTitle",m.mc(2,2,null==n.alert?null:n.alert.type,"VITAL_SIGN",null==n.alert?null:n.alert.alertMessageParameters)),m.Db(2),m.Zc(" ",m.mc(4,6,null==n.alert?null:n.alert.type,"VITAL_SIGN",null==n.alert?null:n.alert.alertMessageParameters)," ")}}function hv(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"span",19),m.jc(2,"alertValue"),m.Xc(3),m.jc(4,"alertValue"),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.sc("nzTooltipTitle",m.mc(2,2,null==n.alert||null==n.alert.linkedAlerts[0]?null:n.alert.linkedAlerts[0].type,"VITAL_SIGN",null==n.alert||null==n.alert.linkedAlerts[0]?null:n.alert.linkedAlerts[0].alertMessageParameters)),m.Db(2),m.Zc(" ",m.mc(4,6,null==n.alert||null==n.alert.linkedAlerts[0]?null:n.alert.linkedAlerts[0].type,"VITAL_SIGN",null==n.alert||null==n.alert.linkedAlerts[0]?null:n.alert.linkedAlerts[0].alertMessageParameters)," ")}}function gv(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"span",19),m.Xc(2),m.Wb(),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.rc("nzTooltipTitle",null==n.alert||null==n.alert.alertMessageParameters?null:n.alert.alertMessageParameters.FORM_NAME),m.Db(1),m.Zc(" ",null==n.alert||null==n.alert.alertMessageParameters?null:n.alert.alertMessageParameters.FORM_NAME," ")}}function fv(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",30),m.Xb(2,"div",15),m.Xb(3,"div",16),m.Xb(4,"span",18),m.Vc(5,dv,3,3,"ng-container",5),m.Vc(6,pv,3,3,"ng-container",5),m.Wb(),m.Wb(),m.Xb(7,"div",16),m.Vc(8,bv,5,10,"ng-container",5),m.Vc(9,hv,5,10,"ng-container",5),m.Vc(10,gv,3,2,"ng-container",5),m.Wb(),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(5),m.rc("ngIf","VITAL_LIMIT_CROSSED"==n.alert.type||"PRIORITISED"==n.alert.type&&"VITAL_LIMIT_CROSSED"==n.alert.alertMessageParameters.LINKED_ALERT_TYPE),m.Db(1),m.rc("ngIf","FORM_ALERT"==n.alert.type),m.Db(2),m.rc("ngIf","VITAL_LIMIT_CROSSED"==n.alert.type),m.Db(1),m.rc("ngIf","PRIORITISED"==n.alert.type),m.Db(1),m.rc("ngIf","FORM_ALERT"==n.alert.type)}}function vv(t,e){1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"translate"),m.Ub()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"VITAL.LAST_MEASURED_READING")," "))}function mv(t,e){1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"translate"),m.Ub()),2&t&&(m.Db(1),m.Zc(" ",m.kc(2,1,"ALERT.LAST_SCORES_RISK")," "))}function Sv(t,e){if(1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"alertValue"),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",m.nc(2,1,null==n.alert?null:n.alert.type,"VALUE",null==n.alert?null:n.alert.alertMessageParameters,null==n.alert||null==n.alert.alertMessageParameters?null:n.alert.alertMessageParameters.RAISED_FOR)," ")}}function yv(t,e){if(1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"alertValue"),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",m.mc(2,1,null==n.alert?null:n.alert.type,"VALUE",null==n.alert?null:n.alert.alertMessageParameters)," ")}}function Tv(t,e){if(1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"titlecase"),m.jc(3,"translate"),m.jc(4,"alertValue"),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",m.kc(2,1,m.kc(3,3,m.nc(4,5,null==n.alert?null:n.alert.type,"ALERT_TYPE",null==n.alert?null:n.alert.alertMessageParameters,null==n.alert||null==n.alert.alertMessageParameters?null:n.alert.alertMessageParameters.RAISED_FOR)))," ")}}function Cv(t,e){if(1&t&&(m.Vb(0),m.Xc(1),m.jc(2,"titlecase"),m.jc(3,"alertValue"),m.Ub()),2&t){var n=m.ic(2);m.Db(1),m.Zc(" ",m.kc(2,1,m.mc(3,3,null==n.alert?null:n.alert.type,"ALERT_TYPE",null==n.alert?null:n.alert.alertMessageParameters))," ")}}function Ev(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",9),m.Xb(2,"div",15),m.Xb(3,"div",16),m.Xb(4,"span",18),m.Vc(5,vv,3,3,"ng-container",5),m.Vc(6,mv,3,3,"ng-container",5),m.Wb(),m.Wb(),m.Xb(7,"div",16),m.Xb(8,"span",31),m.Xb(9,"span",32),m.Vc(10,Sv,3,6,"ng-container",5),m.Vc(11,yv,3,5,"ng-container",5),m.Wb(),m.Xb(12,"span",33),m.Sb(13,"nz-divider",34),m.Vc(14,Tv,5,10,"ng-container",5),m.Vc(15,Cv,4,7,"ng-container",5),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(5),m.rc("ngIf","VITAL_LIMIT_CROSSED"==n.alert.type),m.Db(1),m.rc("ngIf","FORM_ALERT"==n.alert.type),m.Db(4),m.rc("ngIf","VITAL_LIMIT_CROSSED"==n.alert.type),m.Db(1),m.rc("ngIf","FORM_ALERT"==n.alert.type),m.Db(3),m.rc("ngIf","VITAL_LIMIT_CROSSED"==n.alert.type),m.Db(1),m.rc("ngIf","FORM_ALERT"==n.alert.type)}}function Iv(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",35),m.Xb(2,"span",36),m.Xc(3),m.jc(4,"alertMessage"),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(3),m.Zc(" ",m.mc(4,1,null==n.alert?null:n.alert.type,null==n.alert?null:n.alert.alertMessageParameters,null==n.alert?null:n.alert.message)," ")}}function Mv(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",37),m.Sb(2,"span",38),m.jc(3,"alertMessage"),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(2),m.sc("innerHtml",m.nc(3,1,null==n.alert?null:n.alert.type,null==n.alert?null:n.alert.alertMessageParameters,null==n.alert?null:n.alert.message,n.alert),m.Mc)}}function Av(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"div",39),m.Xb(2,"span",36),m.Xc(3),m.jc(4,"alertMessage"),m.Wb(),m.Wb(),m.Ub()),2&t){var n=m.ic();m.Db(3),m.Zc(" ",m.mc(4,1,null==n.alert?null:n.alert.type,null==n.alert?null:n.alert.alertMessageParameters,null==n.alert?null:n.alert.message)," ")}}function _v(t,e){if(1&t&&(m.Xb(0,"span",48),m.Xb(1,"p",49),m.Xc(2," Closed On "),m.Wb(),m.Xb(3,"p",50),m.Xb(4,"span",33),m.Xc(5),m.jc(6,"date"),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.ic().$implicit;m.Db(5),m.Zc(" ",m.lc(6,1,null==n?null:n.closedOn,"dd MMM | h:mm:ss a")," ")}}function Dv(t,e){if(1&t&&(m.Xb(0,"nz-timeline-item",46),m.Xb(1,"span",47),m.Xb(2,"span",48),m.Xb(3,"p",49),m.Xc(4," Measured On "),m.Wb(),m.Xb(5,"p",50),m.Xc(6),m.jc(7,"date"),m.Wb(),m.Wb(),m.Xb(8,"span",48),m.Xb(9,"p",49),m.Xc(10," Value "),m.Wb(),m.Xb(11,"p",50),m.Xb(12,"span",32),m.Xc(13),m.jc(14,"alertValue"),m.Wb(),m.Sb(15,"nz-divider",34),m.Xb(16,"span",33),m.Xc(17),m.jc(18,"titlecase"),m.jc(19,"translate"),m.jc(20,"alertValue"),m.Wb(),m.Wb(),m.Wb(),m.Vc(21,_v,7,4,"span",51),m.Wb(),m.Wb()),2&t){var n=e.$implicit;m.ic();var i=m.Ic(7);m.rc("nzDot",i),m.Db(6),m.Zc(" ",m.lc(7,5,null==n?null:n.createdOn,"medium")," "),m.Db(7),m.Zc(" ",m.nc(14,8,null==n?null:n.type,"VALUE",null==n?null:n.alertMessageParameters,null==n||null==n.alertMessageParameters?null:n.alertMessageParameters.RAISED_FOR)," "),m.Db(4),m.Zc(" ",m.kc(18,13,m.kc(19,15,m.nc(20,17,null==n?null:n.type,"ALERT_TYPE",null==n?null:n.alertMessageParameters,null==n||null==n.alertMessageParameters?null:n.alertMessageParameters.RAISED_FOR)))," "),m.Db(4),m.rc("ngIf",n.closed)}}function zv(t,e){1&t&&m.Sb(0,"nz-badge",52),2&t&&m.rc("nzColor","#a7c853")}function Ov(t,e){if(1&t&&(m.Sb(0,"i",55),m.Xc(1," Associated Alerts ")),2&t){m.ic(2);var n=m.Ic(3);m.rc("nzRotate",n.nzActive?90:0)}}function kv(t,e){if(1&t&&(m.Sb(0,"nz-divider",53),m.Vc(1,Ov,2,1,"ng-template",null,54,m.Wc)),2&t){var n=m.Ic(2);m.rc("nzText",n)}}function Nv(t,e){if(1&t&&(m.Vb(0),m.Xb(1,"nz-collapse",40),m.Xb(2,"nz-collapse-panel",41,42),m.Xb(4,"nz-timeline"),m.Vc(5,Dv,22,22,"nz-timeline-item",43),m.Vc(6,zv,1,1,"ng-template",null,44,m.Wc),m.Wb(),m.Wb(),m.Vc(8,kv,3,1,"ng-template",null,45,m.Wc),m.Wb(),m.Ub()),2&t){var n=m.Ic(9),i=m.ic();m.Db(2),m.rc("nzHeader",n)("nzActive",!1)("nzShowArrow",!1),m.Db(3),m.rc("ngForOf",i.alert.linkedAlerts)}}var Pv,Rv=((Pv=function(){function t(e,n,i,a){u(this,t),this._router=e,this._patientsEventLogger=n,this._alertService=i,this._dataSharingService=a,this.isOnHoldForPrioritisation=!1,this.refreshAlert=new m.n,this.removeAlert=new m.n,this.linkedAlertVitals=[],this.isReOpened=!1,this.isClosable=!1;var o=localStorage.getItem("loggedInUserBoundary");this.isAccessAcrossSubTenants=o==Lu.a.ACROSS_SUB_TENANTS}return p(t,[{key:"ngOnInit",value:function(){var t=localStorage.getItem("loggedInUserBoundary");this.isAccessAcrossSubTenants=t==Lu.a.ACROSS_SUB_TENANTS,this.alert.type==Xu.a.PRIORITISED.toString()&&(this.isReOpened=this.alert.linkedAlerts.filter(function(t){return t.closed}).length>0),this.isClosable="VERY_LOW"==this.alert.priority}},{key:"view",value:function(t){var e,n=this,i=!1,a=null;switch(t.type==Xu.a.PRIORITISED.toString()?(e=t.id,a=t.status,this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers,this.alert.linkedAlerts.forEach(function(t,e){return n.linkedAlertVitals[e]=t.alertContext.id}),t=t.linkedAlerts[0],i=!0):(this.patientName=t.patient.fullName,this.dob=t.patient.dateOfBirth,this.phoneNumbers=t.patient.phoneNumbers),this.alertId=t.id,this._patientsEventLogger.patientAlertEvent(t.patientId,"view_alert"),t.type){case"TODO_TASK_SKIPPED":this.viewSkippedTaskAlert(t);break;case"VITAL_LIMIT_CROSSED":this.viewVitalLimitAlert(t,e,a,i);break;case"FORM_ALERT":this.viewFormAlert(t);break;case"CAREPLAN_ASSIGNED":case"CONSENT_SUBMITTED":this.viewEpisode(t)}}},{key:"markAsClosed",value:function(t){var e=this;this._alertService.closeAlert(t).subscribe(function(n){e.removeAlert.emit(t),e.refreshAlert.emit(!0)})}},{key:"viewEpisode",value:function(t){this._router.navigate(["episodes/details/".concat(t.patientId,"/").concat(t.alertMessageParameters.EPISODE_ID)],{queryParams:{blueprintId:t.alertMessageParameters.EPISODE_BLUEPRINT_ID}})}},{key:"viewFormAlert",value:function(t){var e,n,i,a,o=null===(i=null===(n=null===(e=null==t?void 0:t.patient)||void 0===e?void 0:e.patientState)||void 0===n?void 0:n.assessmentScores)||void 0===i?void 0:i.filter(function(e){return e.name==t.raisedFor});this._router.navigate(["patient/assessment-trend",t.patientId],{queryParams:{patientId:t.patientId,alert:t.id,blueprintId:null===(a=null==o?void 0:o[0])||void 0===a?void 0:a.parentFormId}})}},{key:"viewVitalLimitAlert",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this._router.navigate(["patient/vital-trend",t.patientId],{queryParams:{patientId:t.patientId,patientName:this.patientName,dob:this.dob,isPrioritisedAlert:i,alertId:this.alertId,prioritisedAlertId:e,prioritisedAlertStatus:n,linkedVitals:JSON.stringify(this.linkedAlertVitals),phoneNumbers:JSON.stringify(this.phoneNumbers)}})}},{key:"viewSkippedTaskAlert",value:function(t){var e,n,i;this._router.navigate(["patient/vital-trend",t.patientId],{queryParams:{patientId:t.patientId,patientName:null===(e=null==t?void 0:t.patient)||void 0===e?void 0:e.fullName,dob:null===(n=null==t?void 0:t.patient)||void 0===n?void 0:n.dateOfBirth,alert:JSON.stringify(t),phoneNumbers:JSON.stringify(null===(i=null==t?void 0:t.patient)||void 0===i?void 0:i.phoneNumbers)}})}},{key:"startTimer",value:function(){var t,e,n;this.timerRunning=!0,this.timedPatient=this.alert;var i=localStorage.getItem("loggedInUserAccountType"),a=localStorage.getItem("loggedInUser"),o={attendeeId:null===(t=this.alert)||void 0===t?void 0:t.patientId,attendeeName:null===(n=null===(e=this.alert)||void 0===e?void 0:e.patient)||void 0===n?void 0:n.fullName,attenderId:"CARE_TAKER"===i?a:null};this._dataSharingService.setTimer({state:"START",data:o,showStickyNote:!0}),this.view(this.alert)}}]),t}()).\u0275fac=function(t){return new(t||Pv)(m.Rb(y.g),m.Rb(Ou.a),m.Rb(Mn.a),m.Rb(k.a))},Pv.\u0275cmp=m.Lb({type:Pv,selectors:[["alert-list-card"]],inputs:{alert:"alert",patientName:"patientName",isOnHoldForPrioritisation:"isOnHoldForPrioritisation"},outputs:{refreshAlert:"refreshAlert",removeAlert:"removeAlert"},decls:48,vars:52,consts:[[3,"nzHoverable"],[1,"alert-card-priority-tag"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","8",1,"priority-container"],[1,"priority-tag",3,"nzColor"],[4,"ngIf"],[3,"click",4,"ngIf"],["nz-col","","nzSpan","8",1,"priority-container","prioritised-alert-tag-container"],["class","reopened-alert-tag","style.color","#2F4F4F","nzColor","#8bc34a33",4,"ngIf"],["nz-col","","nzSpan","4"],["nz-col","","nzSpan","4",1,"date-container"],[1,"alert-date"],["class","alert-close-btn",3,"click",4,"ngIf"],["nz-row","",1,"main-detail-container",3,"nzGutter"],["nz-col","","nzSpan","4",1,"ellipsis-text","char-limit"],[1,"detail-container"],["nz-row",""],["nz-col","","nzSpan","24"],[1,"detail-title"],["nz-tooltip","",1,"detail-value",3,"nzTooltipTitle"],[4,"isAccessAcrossTenantEnabled"],["nz-col","","nzSpan","4",1,"view-btn-container"],["nz-button","","nzType","primary",1,"view-btn",3,"click"],[1,"btn-text"],[1,"view-btn-icon"],["nz-icon","","nzType","right-circle","nzTheme","fill"],[3,"click"],["style.color","#2F4F4F","nzColor","#8bc34a33",1,"reopened-alert-tag"],[1,"alert-close-btn",3,"click"],[2,"color","var(--primary-color)"],["nz-col","","nzSpan","5"],[1,"detail-value"],[1,"alert-value"],[1,"alert-type"],["nzType","vertical",1,"alert-value-divider"],["nz-col","","nzSpan","16"],[1,"alert-message"],["nz-col","","nzSpan","11"],[1,"alert-message",3,"innerHtml"],["nz-col","","nzSpan","7"],["nzGhost",""],[3,"nzHeader","nzActive","nzShowArrow"],["p",""],["nzColor","green",3,"nzDot",4,"ngFor","ngForOf"],["customDot",""],["linkedAlertsTemplate",""],["nzColor","green",3,"nzDot"],[2,"width","100%","display","flex","flex-direction","row"],[2,"width","33.3%"],["nz-typography","","type","secondary",1,"detail-title","linked-detail-title"],["nz-typography","","type","primary",1,"detail-value","linked-detail-value"],["style","width: 33.3%;",4,"ngIf"],["nzStatus","processing",3,"nzColor"],["nzOrientation","left",3,"nzText"],["expandedIcon",""],["nz-icon","","nzType","right-circle","nzTheme","fill",2,"font-size","18px","color","var(--primary-color)",3,"nzRotate"]],template:function(t,e){1&t&&(m.Xb(0,"nz-card",0),m.Sb(1,"span",1),m.jc(2,"alertPriorityColor"),m.Xb(3,"div",2),m.Xb(4,"div",3),m.Xb(5,"nz-tag",4),m.jc(6,"alertPriorityColor"),m.jc(7,"alertPriorityColor"),m.Vc(8,rv,2,0,"ng-container",5),m.Xc(9),m.jc(10,"translate"),m.jc(11,"alertPriorityColor"),m.Wb(),m.Vb(12),m.Vc(13,cv,2,1,"nz-tag",6),m.Ub(),m.Wb(),m.Xb(14,"div",7),m.Vc(15,sv,2,0,"nz-tag",8),m.Wb(),m.Sb(16,"div",9),m.Xb(17,"div",10),m.Xb(18,"span",11),m.Xc(19),m.jc(20,"date"),m.Wb(),m.Vc(21,lv,1,0,"span",12),m.Wb(),m.Wb(),m.Xb(22,"div",13),m.Xb(23,"div",14),m.Xb(24,"div",15),m.Xb(25,"div",16),m.Xb(26,"div",17),m.Xb(27,"span",18),m.Xc(28),m.jc(29,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(30,"div",16),m.Xb(31,"div",17),m.Xb(32,"span",19),m.Xc(33),m.Vc(34,uv,4,3,"ng-container",20),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Vc(35,fv,11,5,"ng-container",5),m.Vc(36,Ev,16,6,"ng-container",5),m.Vc(37,Iv,5,5,"ng-container",5),m.Vc(38,Mv,4,6,"ng-container",5),m.Vc(39,Av,5,5,"ng-container",5),m.Xb(40,"div",21),m.Xb(41,"button",22),m.ec("click",function(){return e.view(e.alert)}),m.Xb(42,"span",23),m.Xc(43),m.jc(44,"translate"),m.Wb(),m.Xb(45,"span",24),m.Sb(46,"i",25),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Vc(47,Nv,10,4,"ng-container",5),m.Wb()),2&t&&(m.Sc("margin",e.isOnHoldForPrioritisation?"5px":"0px"),m.rc("nzHoverable",!0),m.Db(1),m.Sc("background",m.mc(2,28,null==e.alert?null:e.alert.priority,"COLOR",null==e.alert||null==e.alert.alertMessageParameters?null:e.alert.alertMessageParameters.VITAL_STAGE)),m.Db(2),m.rc("nzGutter",64),m.Db(2),m.Sc("color",m.mc(6,32,null==e.alert?null:e.alert.priority,"TEXT_COLOR",null==e.alert||null==e.alert.alertMessageParameters?null:e.alert.alertMessageParameters.VITAL_STAGE)),m.sc("nzColor",m.mc(7,36,null==e.alert?null:e.alert.priority,"TAG_BG",null==e.alert||null==e.alert.alertMessageParameters?null:e.alert.alertMessageParameters.VITAL_STAGE)),m.Db(3),m.rc("ngIf","Stage 3"==(null==e.alert||null==e.alert.alertMessageParameters?null:e.alert.alertMessageParameters.VITAL_STAGE)),m.Db(1),m.Zc(" ",m.kc(10,40,m.lc(11,42,null==e.alert?null:e.alert.priority,"TEXT"))," "),m.Db(4),m.rc("ngIf",!(null!=e.alert&&e.alert.closed||e.timerRunning||null!=e.timedPatient&&e.timedPatient.patientId)),m.Db(2),m.rc("ngIf",e.isReOpened),m.Db(4),m.Zc(" ",m.lc(20,45,null==e.alert?null:e.alert.createdOn,"medium")," "),m.Db(2),m.rc("ngIf","OPEN"==(null==e.alert?null:e.alert.status)&&"VERY_LOW"==(null==e.alert?null:e.alert.priority)),m.Db(1),m.rc("nzGutter",64),m.Db(6),m.Zc(" ",m.kc(29,48,"PATIENT.NAME")," "),m.Db(4),m.rc("nzTooltipTitle",null==e.alert||null==e.alert.patient?null:e.alert.patient.fullName),m.Db(1),m.Zc(" ",null==e.alert||null==e.alert.patient?null:e.alert.patient.fullName," "),m.Db(2),m.rc("ngIf","VITAL_LIMIT_CROSSED"==e.alert.type||"FORM_ALERT"==e.alert.type||"PRIORITISED"==e.alert.type),m.Db(1),m.rc("ngIf","CAREPLAN_ASSIGNED"!=e.alert.type&&"CONSENT_SUBMITTED"!=e.alert.type&&"PRIORITISED"!=e.alert.type),m.Db(1),m.rc("ngIf","CAREPLAN_ASSIGNED"==e.alert.type||"CONSENT_SUBMITTED"==e.alert.type),m.Db(1),m.rc("ngIf","PRIORITISED"==e.alert.type),m.Db(1),m.rc("ngIf","CAREPLAN_ASSIGNED"!=e.alert.type&&"CONSENT_SUBMITTED"!=e.alert.type&&"PRIORITISED"!=e.alert.type),m.Db(4),m.Zc(" ",m.kc(44,50,"COMMON.VIEW")," "),m.Db(4),m.rc("ngIf","PRIORITISED"==(null==e.alert?null:e.alert.type)))},directives:[Tt.a,J.c,J.a,hi.a,E.q,tn.d,Wn.a,tt.a,et.a,nt.a,Et.a,K.a,Vu.a,Vu.c,xu.a,E.p,xu.b,Q.a,Bn.a],pipes:[Uu.a,rt.a,E.e,Fu.a,Hu,E.A,ov.a],styles:[".priority-container[_ngcontent-%COMP%]{text-align:left;padding-left:40px!important}.prioritised-alert-tag-container[_ngcontent-%COMP%]{padding-left:0!important}.date-container[_ngcontent-%COMP%]{text-align:center;padding-left:24px!important}.priority-indicator[_ngcontent-%COMP%]{width:5px;height:43px;background:#ff5151 0 0 no-repeat padding-box;border-radius:3px;opacity:1;position:absolute;padding:0}.priority-tag[_ngcontent-%COMP%]{color:#814646}.prioritised-alert-tag[_ngcontent-%COMP%]{color:var(--neutral-color)}.detail-container[_ngcontent-%COMP%]{margin-left:12px}nz-card[_ngcontent-%COMP%]{border-radius:0;border-radius:10px 10px 10px 10px;border-bottom:0}.view-btn[_ngcontent-%COMP%]{opacity:1}.view-btn-icon[_ngcontent-%COMP%]{opacity:1;margin-left:6px}.btn-text[_ngcontent-%COMP%]{opacity:1}.detail-title[_ngcontent-%COMP%]{height:19px;text-align:left;font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px;color:#888;opacity:1;display:inline-block;vertical-align:top;line-height:normal}.linked-detail-title[_ngcontent-%COMP%]{margin-bottom:1px}.detail-value[_ngcontent-%COMP%]{height:24px;text-align:left;font:normal normal 700 14px/23px Nunito;letter-spacing:-.36px;color:var(--light-black);opacity:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.linked-detail-value[_ngcontent-%COMP%]{margin-bottom:1px}.main-detail-container[_ngcontent-%COMP%]{margin-top:14px}.alert-date[_ngcontent-%COMP%]{width:165px;text-align:left;font:normal normal normal 11px/26px Nunito;letter-spacing:-.28px;color:#888;opacity:1}.view-btn-container[_ngcontent-%COMP%]{text-align:center}.alert-message[_ngcontent-%COMP%]{opacity:1}.alert-message[_ngcontent-%COMP%], .alert-value[_ngcontent-%COMP%]{text-align:left;letter-spacing:-.36px}.alert-value[_ngcontent-%COMP%]{color:#eb5858}.alert-type[_ngcontent-%COMP%]{text-align:left;letter-spacing:-.36px;color:var(--light-black)}.alert-value-divider[_ngcontent-%COMP%]{height:20px;width:2px;background:var(--light-black);border-radius:10px}[_nghost-%COMP%]     .ant-card-hoverable:hover{box-shadow:3px 5px 5px #00000036;background:#f1f1f1 0 0 no-repeat padding-box}.alert-close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:20px;width:20px;padding:2px;height:20px;background:transparent url(/assets/icons/close-btn.svg) 0 0 no-repeat padding-box}.alert-card-priority-tag[_ngcontent-%COMP%]{position:absolute;height:100%;width:8px;left:0;top:0;border-radius:10px 0 0 10px}[_nghost-%COMP%]     .ant-card-body{padding:15px}.alert-card-communication[_ngcontent-%COMP%]{background:#ff5151;height:100%;width:45px;top:0;border-radius:0 5px 5px 0}[_nghost-%COMP%]     .ant-card-actions{right:-1px;margin:0;padding:0;list-style:none;background:#5f5f5f;position:absolute;top:-2px;display:flex;flex-direction:column;height:102%;border-radius:0 10px 10px 0}.alert-card-communication[_ngcontent-%COMP%]{right:-1px;margin:0;padding:0;list-style:none;background:#3f3f3f;position:absolute;top:-2px;display:flex;flex-direction:column;height:102%;border-radius:0 10px 10px 0}.divider[_ngcontent-%COMP%]{width:10px;color:var(--neutral-color);background:var(--neutral-color);margin:5px 5px 5px 0!important}.withMargin[_ngcontent-%COMP%]{margin:1px}[_nghost-%COMP%]     .ant-timeline-item-head-custom{background:transparent;left:9px}[_nghost-%COMP%]     .ant-timeline-item-tail{border-left:2px solid #a6c853}[_nghost-%COMP%]     .ant-badge-status-dot{width:10px;height:10px}[_nghost-%COMP%]     .ant-collapse-ghost>.ant-collapse-item>.ant-collapse-content>.ant-collapse-content-box{padding-bottom:0}[_nghost-%COMP%]     .ant-badge-status-processing:after{border:1px solid #a6c853}.reopened-alert-tag[_ngcontent-%COMP%]{color:var(--tertiary-color)}.ellipsis-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.char-limit[_ngcontent-%COMP%]{max-width:50ch}"]}),Pv);function Xv(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",8),m.Vb(2),m.Xb(3,"div",9),m.Xb(4,"nz-radio-group",10),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().priority=t})("ngModelChange",function(t){return m.Lc(n),m.ic().onPriorityChange(t)}),m.Xb(5,"label",11),m.Xc(6),m.jc(7,"translate"),m.Xb(8,"nz-tag"),m.Xc(9),m.Wb(),m.Wb(),m.Xb(10,"label",12),m.Xc(11),m.jc(12,"translate"),m.Xb(13,"nz-tag"),m.Xc(14),m.Wb(),m.Wb(),m.Xb(15,"label",13),m.Xc(16),m.jc(17,"translate"),m.Xb(18,"nz-tag"),m.Xc(19),m.Wb(),m.Wb(),m.Xb(20,"label",14),m.Xc(21),m.jc(22,"translate"),m.Xb(23,"nz-tag"),m.Xc(24),m.Wb(),m.Wb(),m.Xb(25,"label",15),m.Xc(26),m.jc(27,"translate"),m.Xb(28,"nz-tag"),m.Xc(29),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(30,"div",16),m.Xb(31,"span",17),m.Xc(32),m.jc(33,"translate"),m.jc(34,"date"),m.Wb(),m.Xb(35,"span",18),m.Xb(36,"button",19),m.ec("click",function(){return m.Lc(n),m.ic().refresh()}),m.Sb(37,"app-icons",20),m.Wb(),m.Wb(),m.Xb(38,"span"),m.Xb(39,"nz-button-group"),m.Xb(40,"button",21),m.Sb(41,"span",22),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Ub()}if(2&t){var i=m.ic(),a=m.Ic(3);m.Db(4),m.rc("ngModel",i.priority),m.Db(2),m.Zc(" ",m.kc(7,15,"HEADER.ALL")," "),m.Db(3),m.Yc(i.priorityCount.ALL),m.Db(2),m.Zc(" ",m.kc(12,17,"PRIORITY.NEED_IMMEDIATE_ATTENTION")," "),m.Db(3),m.Yc(i.priorityCount.VERY_HIGH),m.Db(2),m.Zc(" ",m.kc(17,19,"PRIORITY.IMPORTANT")," "),m.Db(3),m.Yc(i.priorityCount.HIGH),m.Db(2),m.Zc(" ",m.kc(22,21,"PRIORITY.LOW")," "),m.Db(3),m.Yc(i.priorityCount.LOW),m.Db(2),m.Zc(" ",m.kc(27,23,"PRIORITY.INFORMATIONAL_ALERT")," "),m.Db(3),m.Yc(i.priorityCount.VERY_LOW),m.Db(3),m.ad(" ",m.kc(33,25,"COMMON.LASTUPDATED"),": ",m.lc(34,27,null==i.ds?null:i.ds.lastUpdatedTime,"medium")," "),m.Db(5),m.rc("originalStyle",!0),m.Db(3),m.rc("nzDropdownMenu",a)}}var Lv=function(){return{rows:1}};function wv(t,e){1&t&&m.Sb(0,"nz-skeleton",26),2&t&&m.rc("nzParagraph",m.xc(1,Lv))}function Wv(t,e){if(1&t&&m.Sb(0,"nz-list-item-meta",27),2&t){m.ic();var n=m.Ic(4);m.rc("nzDescription",n)}}function Vv(t,e){if(1&t){var n=m.Yb();m.Xb(0,"alert-list-card",28),m.ec("refreshAlert",function(t){return m.Lc(n),m.ic(2).onAlertChange(t)})("removeAlert",function(t){return m.Lc(n),m.ic(2).onAlertRemoved(t)}),m.Wb()}if(2&t){var i=m.ic().$implicit;m.rc("alert",i)}}function xv(t,e){if(1&t&&(m.Xb(0,"nz-list-item"),m.Vc(1,wv,1,2,"nz-skeleton",23),m.Vc(2,Wv,1,1,"nz-list-item-meta",24),m.Vc(3,Vv,1,1,"ng-template",null,25,m.Wc),m.Wb()),2&t){var n=e.$implicit;m.Db(1),m.rc("ngIf",!n),m.Db(1),m.rc("ngIf",n)}}function Uv(t,e){1&t&&m.Sb(0,"nz-list-empty")}var Fv,Hv,Bv=((Fv=function(t){o(n,t);var e=c(n);function n(t,i,a,o){var r;return u(this,n),(r=e.call(this))._alertService=t,r._activatedRoute=i,r._router=a,r._dataSharingService=o,r.priorityCount=[],r.priority="ALL",r.loading=!1,r.destroy$=new En.a,r.status=Ru.a.OPEN,r.ds=new Pu(r._alertService),r.patientType="ALL",r}return p(n,[{key:"ngOnInit",value:function(){var t=this;this.patientType=sessionStorage.getItem("patientType"),this.getDataFromURL(),this.priorityCount.ALL=0,this._dataSharingService.onSubTenantChange().subscribe(function(e){t.refresh()}),this.fetchAlert()}},{key:"getDataFromURL",value:function(){var t=this;this._activatedRoute.queryParams.forEach(function(e){e.status&&(t.ds.alertFetchRequest.status=e.status,t.status=e.status),e.priority&&(t.ds.alertFetchRequest.priorities=e.priority,t.priority=e.priority),e.assignedStaffType&&(t.patientType=e.assignedStaffType),t.ds.alertFetchRequest.patientType=t.patientType})}},{key:"onAlertChange",value:function(t){this.refresh(),this.ngOnInit()}},{key:"onAlertRemoved",value:function(t){this.ds.removeAlert(t),this.ngOnInit()}},{key:"fetchAlert",value:function(){var t=this;this.loading=!0,this.dsCountSubscribtion=this.ds.completedCount().subscribe(function(e){Object.keys(e.priorityCount).map(function(n){return t.priorityCount[n]=e.priorityCount[n]}),t.priorityCount.ALL=e.totalCount,t.loading=!1}),this.getPriorityCount()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete(),this.ds.disconnect(),this.dsCountSubscribtion.unsubscribe()}},{key:"onTabChange",value:function(t){this.ds=new Pu(this._alertService,this.patientType),this.ds.alertFetchRequest.status=Ru.a[t],this._router.navigate([],{queryParams:{status:Ru.a[t]},queryParamsHandling:"merge",relativeTo:this._activatedRoute,replaceUrl:!0}),this.refresh()}},{key:"onPriorityChange",value:function(t){this.ds.alertFetchRequest.priorities="ALL"==t?null:t,this.refresh()}},{key:"refresh",value:function(){this.dsSubscribed&&this.dsSubscribed.unsubscribe(),this.dsCountSubscribtion&&this.dsCountSubscribtion.unsubscribe(),this.ds.alertFetchRequest.patientType=this.patientType,this.ds.alertFetchRequest.offset=0,this.ds.fetchAlert(!0),this.getPriorityCount(),this._dataSharingService.triggerAlertRefresh()}},{key:"markAllClosed",value:function(){var t=this;this._alertService.closeAllAlerts().subscribe(function(e){t.refresh()})}},{key:"getPriorityCount",value:function(){var t=this;this.ds.alertFetchRequest.countType="PRIORITY",this._alertService.fetchAlerts(this.ds.alertFetchRequest,!0).subscribe(function(e){var n=0;e.forEach(function(e){t.priorityCount[e.priority]=e.count,n+=e.count}),t.priorityCount.ALL=n,0==n&&t.reset()})}},{key:"reset",value:function(){this.priorityCount.ALL=0,this.priorityCount.VERY_HIGH=0,this.priorityCount.HIGH=0,this.priorityCount.MEDIUM=0,this.priorityCount.LOW=0,this.priorityCount.VERY_LOW=0}}]),n}(Ec.a)).\u0275fac=function(t){return new(t||Fv)(m.Rb(Mn.a),m.Rb(y.a),m.Rb(y.g),m.Rb(k.a))},Fv.\u0275cmp=m.Lb({type:Fv,selectors:[["alert-list"]],features:[m.Ab],decls:11,vars:6,consts:[[3,"status","patientType","onTabChange","patientTypeChange","refresh"],[4,"ngIf"],["menu1","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click"],["autosize","","itemSize","1",1,"demo-infinite-container",2,"height","100vh"],[3,"nzLoading"],[4,"cdkVirtualFor","cdkVirtualForOf"],["nz-row","",1,"filter-container"],["nz-col","","nzSpan","17",2,"padding","10px","padding-left","0px"],["nzButtonStyle","solid",3,"ngModel","ngModelChange"],["nz-radio-button","","nzValue","ALL",1,"view-btn"],["nz-radio-button","","nzValue","VERY_HIGH",1,"view-btn"],["nz-radio-button","","nzValue","HIGH",1,"view-btn"],["nz-radio-button","","nzValue","LOW",1,"view-btn"],["nz-radio-button","","nzValue","VERY_LOW",1,"view-btn"],["nz-col","","nzSpan","7",2,"padding","10px","padding-right","0px","text-align","right"],["id","last-updated-time"],["id","refresh-btn"],["nz-button","","nzShape","circle",3,"click"],["size","14px","color","#a7c853","name","reload",3,"originalStyle"],["nz-button","","nz-dropdown","","nzPlacement","bottomRight",2,"border","none","font-size","18px",3,"nzDropdownMenu"],["nz-icon","","nzType","more"],[3,"nzParagraph",4,"ngIf"],[3,"nzDescription",4,"ngIf"],["card",""],[3,"nzParagraph"],[3,"nzDescription"],[3,"alert","refreshAlert","removeAlert"]],template:function(t,e){1&t&&(m.Xb(0,"app-alert-header",0),m.ec("onTabChange",function(t){return e.onTabChange(t)})("patientTypeChange",function(t){return e.patientType=t})("refresh",function(){return e.refresh()}),m.Wb(),m.Vc(1,Xv,42,30,"ng-container",1),m.Xb(2,"nz-dropdown-menu",null,2),m.Xb(4,"ul",3),m.Xb(5,"li",4),m.ec("click",function(){return e.markAllClosed()}),m.Xc(6," Mark all Informational Alerts as read "),m.Wb(),m.Wb(),m.Wb(),m.Xb(7,"cdk-virtual-scroll-viewport",5),m.Xb(8,"nz-list",6),m.Vc(9,xv,5,2,"nz-list-item",7),m.Vc(10,Uv,1,0,"nz-list-empty",1),m.Wb(),m.Wb()),2&t&&(m.rc("status",e.status)("patientType",e.patientType),m.Db(1),m.rc("ngIf","OPEN"===e.status),m.Db(7),m.rc("nzLoading",null==e.ds?null:e.ds.loading),m.Db(1),m.rc("cdkVirtualForOf",e.ds),m.Db(1),m.rc("ngIf",0===e.priorityCount.ALL))},directives:[iv,E.q,Gn.e,Yn.c,nt.a,Yn.e,wu.d,wu.a,Wu.a,wu.c,J.c,J.a,av.c,I.u,I.x,av.b,av.a,hi.a,tt.a,et.a,Ct.a,tt.b,Gn.d,Gn.b,Et.a,Wu.e,$c.a,Wu.f,Rv,Wu.b],pipes:[rt.a,E.e],styles:['.demo-infinite-container[_ngcontent-%COMP%]{height:100%;border:1px solid var(--grey);border-radius:4px}nz-list[_ngcontent-%COMP%]{padding:5px;height:100%}[_nghost-%COMP%]     .ant-list-item{padding:4px}.view-btn[_ngcontent-%COMP%]{background:#efefef 0 0 no-repeat padding-box;border-radius:25px;opacity:1;border:0 solid #efefef;margin:6px}.btn-text[_ngcontent-%COMP%]{font:normal normal normal 14px/26px Nunito;letter-spacing:-.32px;color:var(--light-black);opacity:1}.filter-container[_ngcontent-%COMP%]{padding:12px 40px;text-align:left;background-color:var(--neutral-color)}.view-btn[_ngcontent-xyg-c420][_ngcontent-%COMP%]{background:#efefef 0 0 no-repeat padding-box;border-radius:25px;opacity:1;border:0 solid #efefef;margin:6px}.ant-radio-button-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block;height:32px;margin:0;padding:0 15px;color:var(--light-black);font-size:13px;line-height:30px;cursor:pointer;transition:color .3s,background .3s,border-color .3s,box-shadow .3s}.ant-layout[_ngcontent-%COMP%], .ant-layout[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class*=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, [class*=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before, [class^=ant-][_ngcontent-%COMP%], [class^=ant-][_ngcontent-%COMP%]   *[_ngcontent-%COMP%], [class^=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after, [class^=ant-][_ngcontent-%COMP%]   [_ngcontent-%COMP%]:before{box-sizing:border-box}[role=button][_ngcontent-%COMP%], a[_ngcontent-%COMP%], area[_ngcontent-%COMP%], button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:not([type=range]), label[_ngcontent-%COMP%], select[_ngcontent-%COMP%], summary[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{touch-action:manipulation}*[_ngcontent-%COMP%], [_ngcontent-%COMP%]:after, [_ngcontent-%COMP%]:before{box-sizing:border-box}user[_ngcontent-%COMP%]   agent[_ngcontent-%COMP%]   stylesheet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:default}.ant-radio-group[_ngcontent-%COMP%]{box-sizing:border-box;margin:0;padding:0;color:rgba(15,32,21,.85);font-size:13px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum";display:inline-block;font-size:0;line-height:unset}.filter-container[_ngcontent-xyg-c420][_ngcontent-%COMP%]{padding:12px;text-align:center;background-color:var(--neutral-color)}body[_ngcontent-%COMP%]{margin:0;color:rgba(15,32,21,.85);font-size:13px;font-family:Nunito;font-variant:tabular-nums;line-height:1.5715;background-color:var(--light-grey);font-feature-settings:"tnum"}html[_ngcontent-%COMP%]{--antd-wave-shadow-color:var(--primary-color);--scroll-bar:0;font-family:sans-serif;line-height:1.15;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;-ms-overflow-style:scrollbar;-webkit-tap-highlight-color:rgba(15,32,21,0)}.ant-radio-button-wrapper[_ngcontent-%COMP%]:not(:first-child):before{width:0}[_nghost-%COMP%]     .ant-radio-button-wrapper{margin:4px;border-top-width:1px;border-left-width:1px}[_nghost-%COMP%]     .ant-tag{background:#c6c6c6;margin:4px}[_nghost-%COMP%]     .ant-radio-group-solid .ant-radio-button-wrapper-checked:not(.ant-radio-button-wrapper-disabled){color:var(--primary-color);background:var(--neutral-color);border:1px solid}#last-updated-time[_ngcontent-%COMP%]{text-align:right;padding:10px;font:normal normal normal 11px/22px Nunito;letter-spacing:0;color:#959595;opacity:1}[_nghost-%COMP%]     .ant-btn-circle{border:none}[_nghost-%COMP%]     .ant-collapse>.ant-collapse-item>.ant-collapse-header{padding:0}[_nghost-%COMP%]     .ant-collapse{border-radius:10px}[_nghost-%COMP%]     .ant-collapse-content>.ant-collapse-content-box{padding-top:5px;padding-right:5px;padding-left:24px}.ant-collapse[_ngcontent-%COMP%] > .ant-collapse-item[_ngcontent-%COMP%]:last-child > .ant-collapse-header[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-collapse>.ant-collapse-item:last-child{border-radius:0 0 10px 10px}[_nghost-%COMP%]     nz-spin{min-height:200px}'],changeDetection:0}),Fv),jv=r("i7mu"),Gv=r("FYUs"),Yv=r("zgU5"),qv=r("s/pX"),Zv=(r("tkii"),r("IZEq")),Qv=r("TaO5"),Kv=r("nJQN"),Jv=((Hv=function(){function t(){u(this,t)}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Hv)},Hv.\u0275cmp=m.Lb({type:Hv,selectors:[["alert-config-info"]],decls:20,vars:0,consts:[[1,"config-info-container"],["nz-typography","","nzType","primary"]],template:function(t,e){1&t&&(m.Xb(0,"nz-card",0),m.Xb(1,"h4",1),m.Xc(2," How Alert Settings Work? "),m.Wb(),m.Xb(3,"p",1),m.Xc(4," To help your staff tend to the most crucial alerts, we allow you to define "),m.Wb(),m.Xb(5,"ol"),m.Xb(6,"li"),m.Xc(7," Only 2 alert categories with a priority of 'Needs Immediate attention' "),m.Wb(),m.Xb(8,"li"),m.Xc(9," Only 2 alert categories with a priority of 'Critical' "),m.Wb(),m.Xb(10,"li"),m.Xc(11," Only 2 alert categories with a priority of 'Important' "),m.Wb(),m.Xb(12,"li"),m.Xc(13,"All other alerts are tagged as 'Informational alerts' by default. "),m.Wb(),m.Wb(),m.Xb(14,"p",1),m.Xc(15," It is assumed that informational alerts are good to know but do not require any action from your monitoring staff, thus saving their focus only for the crucial alerts "),m.Wb(),m.Xb(16,"p",1),m.Xb(17,"strong"),m.Xc(18,"Note:"),m.Wb(),m.Xc(19," The informational alerts will still be visible should the monitoring staff choose to see them "),m.Wb(),m.Wb())},directives:[Tt.a,Q.a],styles:[".config-info-container[_ngcontent-%COMP%]{width:90%;height:440px;background:var(--grey);color:#0f2015;right:-10%;border-radius:5px}"]}),Hv);function $v(t,e){1&t&&(m.Xb(0,"div",11),m.Xb(1,"h5",12),m.Xc(2),m.jc(3,"translate"),m.Wb(),m.Wb()),2&t&&(m.Db(2),m.Zc(" ",m.kc(3,1,"NOTI.OPTIONS.VITAL_ALERTS")," "))}function tm(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",9),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"span",15),m.Xb(4,"label",16),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().vitalOutsideLimit.enabled=t})("ngModelChange",function(){m.Lc(n);var t=m.ic();return t.onConfigChange("VITAL_LIMIT_CROSSED",t.vitalOutsideLimit)}),m.Xb(5,"span",17),m.Xc(6),m.jc(7,"translate"),m.Xb(8,"p",27),m.Xc(9),m.jc(10,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(11,"span",18),m.Xb(12,"p",19),m.Xc(13),m.jc(14,"translate"),m.Wb(),m.Xb(15,"app-alert-priority-dropdown",28),m.ec("onPriorityChange",function(t){m.Lc(n);var e=m.ic();return e.onPriorityChange(t,"VITAL_LIMIT_CROSSED",e.vitalOutsideLimit)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(16,"div",13),m.Wb()}if(2&t){var i=m.ic();m.Db(4),m.rc("ngModel",i.vitalOutsideLimit.enabled),m.Db(1),m.rc("nzDisabled",!(null!=i.vitalOutsideLimit&&i.vitalOutsideLimit.enabled)),m.Db(1),m.Zc(" ",m.kc(7,7,"ALERT.ALERT_SETTINGS.VITAL_OUT_OF_LIMIT")," "),m.Db(3),m.Yc(m.kc(10,9,"ALERT.ALERT_SETTINGS.VITAL_OUT_OF_LIMIT.SUB_TEXT")),m.Db(4),m.Yc(m.kc(14,11,"ALERT.ALERT_SETTINGS.PRIORITY_LABEL")),m.Db(2),m.rc("priority",null==i.vitalOutsideLimit?null:i.vitalOutsideLimit.priority)("disabled",!(null!=i.vitalOutsideLimit&&i.vitalOutsideLimit.enabled))}}function em(t,e){1&t&&(m.Xb(0,"div",9),m.Xb(1,"div",10),m.Xb(2,"div"),m.Sb(3,"nz-divider"),m.Wb(),m.Xb(4,"div",10),m.Xb(5,"div",11),m.Xb(6,"h5",12),m.Xc(7),m.jc(8,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(7),m.Zc(" ",m.kc(8,1,"TITLE.SURVEY")," "))}function nm(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",9),m.Xb(1,"div",13),m.Xb(2,"div",14),m.Xb(3,"span",23),m.Xb(4,"label",16),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().formsOutsideLimit.enabled=t})("ngModelChange",function(){m.Lc(n);var t=m.ic();return t.onConfigChange("FORM_ALERT",t.formsOutsideLimit)}),m.Xb(5,"span",17),m.Xc(6," When the patient\u2019s assessment score crosses the limit "),m.Xb(7,"p",27),m.Xc(8,"(Note: The score ranges for which an alert is triggered is specific to each form. For more details, go to Configure > Forms)"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(9,"span",18),m.Xb(10,"p",19),m.Xc(11),m.jc(12,"translate"),m.Wb(),m.Xb(13,"app-alert-priority-dropdown",28),m.ec("onPriorityChange",function(t){m.Lc(n);var e=m.ic();return e.onPriorityChange(t,"FORM_ALERT",e.formsOutsideLimit)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i=m.ic();m.Db(4),m.rc("ngModel",i.formsOutsideLimit.enabled),m.Db(1),m.rc("nzDisabled",!(null!=i.formsOutsideLimit&&i.formsOutsideLimit.enabled)),m.Db(6),m.Yc(m.kc(12,5,"ALERT.ALERT_SETTINGS.PRIORITY_LABEL")),m.Db(2),m.rc("priority",null==i.formsOutsideLimit?null:i.formsOutsideLimit.priority)("disabled",!(null!=i.formsOutsideLimit&&i.formsOutsideLimit.enabled))}}function im(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",29),m.Xb(2,"div",30),m.Xb(3,"span",31),m.ec("click",function(){return m.Lc(n),m.ic().createAlert()}),m.Xb(4,"span",32),m.Xb(5,"app-icons",33),m.ec("click",function(){m.Lc(n);var t=m.ic();return t.createAlert(t.item)}),m.Wb(),m.Wb(),m.Xc(6," Create an Alert "),m.Sb(7,"span",34),m.Wb(),m.Wb(),m.Wb(),m.Ub()}}var am,om=((am=function(){function t(e,n,i,a){u(this,t),this._alertService=e,this.message=n,this._dataSharingService=i,this._alertModalService=a,this.alertConfigs=new Map,this.refresh=new m.n,this.isTenantAdmin=!1,this.vitalOutsideLimit={enabled:!0,active:!0,priority:Gv.a.HIGH,updatedOn:(new Date).getTime()},this.vitalSkipped={enabled:!1,active:!1,priority:Gv.a.MEDIUM,updatedOn:(new Date).getTime()},this.formsOutsideLimit={enabled:!0,active:!0,priority:Gv.a.HIGH,updatedOn:(new Date).getTime()},this.formsSubmitted={enabled:!0,active:!1,priority:Gv.a.MEDIUM,updatedOn:(new Date).getTime()},this.consentFormSubmitted={enabled:!0,active:!0,priority:Gv.a.MEDIUM,updatedOn:(new Date).getTime()},this.careplanAssigned={enabled:!0,active:!0,priority:Gv.a.VERY_LOW,updatedOn:(new Date).getTime()},this.configChanged=!1,this.infoContainerWidth=(window.innerWidth-150)/3+"px !important",this.disabledPriorities=new Array("VERY_HIGH","HIGH"),this.changesPending=!1,this.loggedInUserRole=localStorage.getItem("loggedInUserRole"),this.isTenantAdmin=this.loggedInUserRole==oi.a.TENANT_ADMIN}return p(t,[{key:"ngAfterViewInit",value:function(){this.loadingComplete=!0,this.width="100% !important"}},{key:"ngOnInit",value:function(){var t=this;Object(Rt.a)(window,"resize").pipe(Object(Vt.a)(100)).subscribe(function(e){t.infoContainerWidth=(window.innerWidth-150)/3+"px !important"}),this.getConfigs()}},{key:"createAlert",value:function(){var t=this;this._alertModalService.showAlertRuleCreateModal().afterClose.subscribe(function(e){t.refresh.emit(!0)})}},{key:"getConfigs",value:function(){var t=this;this._alertService.getAlertConfig().subscribe(function(e){for(var n in e.configs)t.alertConfigs.set(Xu.a[n],e.configs[n]);t.initConfigs()})}},{key:"initConfigs",value:function(){this.alertConfigs.has(Xu.a.VITAL_LIMIT_CROSSED)&&(this.vitalOutsideLimit=this.alertConfigs.get(Xu.a.VITAL_LIMIT_CROSSED)),this.alertConfigs.has(Xu.a.FORM_ALERT)&&(this.formsOutsideLimit=this.alertConfigs.get(Xu.a.FORM_ALERT)),this.alertConfigs.has(Xu.a.CONSENT_SUBMITTED)&&(this.consentFormSubmitted=this.alertConfigs.get(Xu.a.CONSENT_SUBMITTED)),this.alertConfigs.has(Xu.a.CAREPLAN_ASSIGNED)&&(this.careplanAssigned=this.alertConfigs.get(Xu.a.CAREPLAN_ASSIGNED))}},{key:"onPriorityChange",value:function(t,e,n){this.changesPending=!0,n.priority=t,this.onConfigChange(Xu.a[e],n)}},{key:"onConfigChange",value:function(t,e){this.changesPending=!0,this.configChanged=!0,this.alertConfigs.set(Xu.a[t],e),this.saveConfig(Xu.a[t])}},{key:"saveConfig",value:function(t){var e=this,n=new Map;this.alertConfigs.forEach(function(t,e){n[e]=t}),this._alertService.saveAlertConfigs({updatedConfig:t,configs:n,tenantId:this.tenantConfig.tenantId}).subscribe(function(t){e.refresh.emit(!0),null!=e.messageId&&e.message.remove(e.messageId);var n=e.message.success("Config Updated",{nzDuration:3e3,nzAnimate:!0});e.messageId=n,e.messageId.onClose.subscribe(function(t){return e.messageId=null})})}}]),t}()).\u0275fac=function(t){return new(t||am)(m.Rb(Mn.a),m.Rb(Lp.e),m.Rb(k.a),m.Rb(Zv.a))},am.\u0275cmp=m.Lb({type:am,selectors:[["alert-general-settings"]],inputs:{tenantConfig:"tenantConfig"},outputs:{refresh:"refresh"},decls:50,vars:24,consts:[[1,"container","scrollable-container"],["target",""],["nz-row","","nzGutter","32"],["nz-col","","nzSpan","24",1,"main-title-container"],["nz-typography","","nzType","primary",1,"main-title"],["nz-col","","nzSpan","16",2,"padding-bottom","100px"],[1,"all-config-container"],["class","sub-header",4,"ngIf"],["class","config-container",4,"ngIf"],[1,"config-container"],[2,"width","100%"],[1,"sub-header"],["nz-typography","","nzType","primary",1,"sub-title"],[2,"width","50%"],[2,"display","flex"],[1,"config-text-container-left"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nz-typography","",3,"nzDisabled"],[2,"width","40%"],["nz-typography","","nzType","secondary",1,"priority-label"],[3,"priority","disabled","disabledPriorities","onPriorityChange"],[2,"width","5%"],["nzType","vertical",2,"height","100%"],[1,"config-text-container-right"],["nz-col","","nzSpan","8",1,"config"],[2,"position","fixed","top","25%","right","20px","width","30%"],[4,"ngIf"],[1,"subtext"],[3,"priority","disabled","onPriorityChange"],[2,"position","fixed","bottom","0","width","100%"],[1,"quick-action"],[1,"create-alert-span",3,"click"],[1,"icon-btn"],["color","#a7c853","strokeColor","#a7c853","fill","#a7c853","size","20","name","bell",1,"app-icon",3,"click"],["nz-icon","","nzType","right-circle","nzTheme","fill",1,"right-btn"]],template:function(t,e){1&t&&(m.Xb(0,"div",0,1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Xb(4,"h4",4),m.Xc(5),m.jc(6,"translate"),m.Wb(),m.Wb(),m.Xb(7,"div",5),m.Xb(8,"div",6),m.Vc(9,$v,4,3,"div",7),m.Vc(10,tm,17,13,"div",8),m.Vc(11,em,9,3,"div",8),m.Vc(12,nm,14,7,"div",8),m.Xb(13,"div",9),m.Xb(14,"div",10),m.Xb(15,"div"),m.Sb(16,"nz-divider"),m.Wb(),m.Xb(17,"div",10),m.Xb(18,"div",11),m.Xb(19,"h5",12),m.Xc(20," Monitoring "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(21,"div",9),m.Xb(22,"div",13),m.Xb(23,"div",14),m.Xb(24,"span",15),m.Xb(25,"label",16),m.ec("ngModelChange",function(t){return e.consentFormSubmitted.enabled=t})("ngModelChange",function(){return e.onConfigChange("CONSENT_SUBMITTED",e.consentFormSubmitted)}),m.Xb(26,"span",17),m.Xc(27," When a consent form has been submitted by a patient for any episode "),m.Wb(),m.Wb(),m.Wb(),m.Xb(28,"span",18),m.Xb(29,"p",19),m.Xc(30),m.jc(31,"translate"),m.Wb(),m.Xb(32,"app-alert-priority-dropdown",20),m.ec("onPriorityChange",function(t){return e.onPriorityChange(t,"CONSENT_SUBMITTED",e.consentFormSubmitted)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(33,"div",13),m.Xb(34,"div",14),m.Xb(35,"span",21),m.Sb(36,"nz-divider",22),m.Wb(),m.Xb(37,"span",23),m.Xb(38,"label",16),m.ec("ngModelChange",function(t){return e.careplanAssigned.enabled=t})("ngModelChange",function(){return e.onConfigChange("CAREPLAN_ASSIGNED",e.careplanAssigned)}),m.Xb(39,"span",17),m.Xc(40," When a care plan has been assigned to the patient as part of any episode "),m.Wb(),m.Wb(),m.Wb(),m.Xb(41,"span",18),m.Xb(42,"p",19),m.Xc(43),m.jc(44,"translate"),m.Wb(),m.Xb(45,"app-alert-priority-dropdown",20),m.ec("onPriorityChange",function(t){return e.onPriorityChange(t,"CAREPLAN_ASSIGNED",e.careplanAssigned)}),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(46,"div",24),m.Xb(47,"div",25),m.Sb(48,"alert-config-info"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Vc(49,im,8,0,"ng-container",26)),2&t&&(m.Db(5),m.Zc(" ",m.kc(6,18,"ALERT.ALERT_SETTINGS.HEADER")," "),m.Db(4),m.rc("ngIf",null==e.tenantConfig||null==e.tenantConfig.vitalConfig?null:e.tenantConfig.vitalConfig.enabled),m.Db(1),m.rc("ngIf",null==e.tenantConfig||null==e.tenantConfig.vitalConfig?null:e.tenantConfig.vitalConfig.enabled),m.Db(1),m.rc("ngIf",null==e.tenantConfig||null==e.tenantConfig.featureConfigs?null:e.tenantConfig.featureConfigs.formsEnabled),m.Db(1),m.rc("ngIf",null==e.tenantConfig||null==e.tenantConfig.featureConfigs?null:e.tenantConfig.featureConfigs.formsEnabled),m.Db(13),m.rc("ngModel",e.consentFormSubmitted.enabled),m.Db(1),m.rc("nzDisabled",!(null!=e.consentFormSubmitted&&e.consentFormSubmitted.enabled)),m.Db(4),m.Yc(m.kc(31,20,"ALERT.ALERT_SETTINGS.PRIORITY_LABEL")),m.Db(2),m.rc("priority",null==e.consentFormSubmitted?null:e.consentFormSubmitted.priority)("disabled",!(null!=e.consentFormSubmitted&&e.consentFormSubmitted.enabled))("disabledPriorities",e.disabledPriorities),m.Db(6),m.rc("ngModel",e.careplanAssigned.enabled),m.Db(1),m.rc("nzDisabled",!(null!=e.careplanAssigned&&e.careplanAssigned.enabled)),m.Db(4),m.Yc(m.kc(44,22,"ALERT.ALERT_SETTINGS.PRIORITY_LABEL")),m.Db(2),m.rc("priority",null==e.careplanAssigned?null:e.careplanAssigned.priority)("disabled",!(null!=e.careplanAssigned&&e.careplanAssigned.enabled))("disabledPriorities",e.disabledPriorities),m.Db(4),m.rc("ngIf",e.isTenantAdmin&&e.loadingComplete))},directives:[J.c,J.a,Q.a,E.q,K.a,Qv.a,I.u,I.x,Kv.a,Jv,Ct.a,nt.a,Et.a],pipes:[rt.a],styles:[".title-container[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.main-title-container[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:0!important}.main-title[_ngcontent-%COMP%]{margin-bottom:.8em;margin-top:.8em;font-weight:700;font-size:16px}.sub-title[_ngcontent-%COMP%]{margin-bottom:.9em;margin-top:.8em}.priority-label[_ngcontent-%COMP%]{font-size:12px!important}.config-container[_ngcontent-%COMP%]{display:flex}.all-config-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.subtext[_ngcontent-%COMP%]{margin-top:15px}.config-text-container-left[_ngcontent-%COMP%]{width:60%;padding-right:10px}.config-text-container-right[_ngcontent-%COMP%]{width:55%;padding-right:10px}.scrollable-container[_ngcontent-%COMP%]{overflow-y:scroll}.container[_ngcontent-%COMP%]{padding-bottom:40px!important;padding-top:40px!important}[_nghost-%COMP%]     .ant-affix{bottom:0!important;width:auto}[_nghost-%COMP%]     #footer-affix-container-target>.ant-affix{left:150px!important}.quick-action[_ngcontent-%COMP%]{padding:20px;height:100px;background:var(--neutral-color);width:100%;bottom:0;cursor:pointer}.icon-btn[_ngcontent-%COMP%], .quick-action[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-btn[_ngcontent-%COMP%]{width:50px;height:50px;background:#e9e9e9;border-radius:50%;flex-direction:column;margin:10px}.app-icon[_ngcontent-%COMP%]{margin-top:30%;margin-right:0}.right-btn[_ngcontent-%COMP%]{font-size:12px;margin-left:6px;color:var(--primary-color)}.create-alert-span[_ngcontent-%COMP%]{width:200px;display:flex;align-items:center}"]}),am);function rm(t,e){if(1&t&&(m.Xb(0,"span",8),m.Xc(1," Last edited by: "),m.Vb(2),m.Xc(3),m.Sb(4,"nz-divider",9),m.Xc(5),m.jc(6,"date"),m.Ub(),m.Wb()),2&t){var n=m.ic();m.Db(3),m.Zc(" ",n.updatedBy," "),m.Db(2),m.Zc(" ",m.lc(6,2,n.updatedOn,"dd MMMM YYY, hh:mm:ss a")," ")}}var cm,sm=function(t){return{left:t}},lm=((cm=function(){function t(e,n,i,a,o,r){var c=this;u(this,t),this._routeHelperService=e,this._activatedRoute=n,this._router=i,this._dataSharingService=a,this._subTenantToggleHelper=o,this._alertService=r,this.tab="GENERAL_SETTINGS",this.onTabChange=new m.n,this.tabIndex=new Map([[0,"SUMMARY"],[1,"GENERAL_SETTINGS"]]),this.width=window.innerWidth,this.level=jv.c.TENANT_LEVEL,this.style={width:this.width},this.rules=new Array,this.page=0,this.onSelectedTabIndexChange=function(t){c._router.navigate([],{queryParams:{tab:c.tabIndex.get(t.index)},queryParamsHandling:"merge",relativeTo:c._activatedRoute,replaceUrl:!0}),c.onTabChange.emit(c.tabIndex.get(t.index)),c.init(),c.saveBtnVisible="GENERAL_SETTINGS"==c.tabIndex.get(t.index)},this.fetchRules=function(){return c._alertService.getAlertRule(jv.c.TENANT_LEVEL,c.page)},this.fetchPatientRules=function(){return c._alertService.getAlertRule(jv.c.PATIENT_LEVEL,c.page,c.patientId)},this.loggedInUserRole=localStorage.getItem("loggedInUserRole"),this.isTenantAdmin=this.loggedInUserRole==oi.a.TENANT_ADMIN}return p(t,[{key:"ngOnInit",value:function(){var t=this;this._subTenantToggleHelper.setRequestTenantId(),this._dataSharingService.assignedTenantSettings.subscribe(function(e){return t.tenantConfigMap=e}),this._activatedRoute.queryParams.forEach(function(e){e.tab&&(t.tab=e.tab)}),this.selectedTabIndex="GENERAL_SETTINGS"==this.tab?1:0,this.saveBtnVisible="GENERAL_SETTINGS"==this.tab,this.init(),this._routeHelperService.isSidebarCollapsed().subscribe(function(e){t.sidebarCollapsed=e,t.resizeHeader()}),Object(Jf.fromEvent)(window,"sidebar").pipe(Object(Vt.a)(50)).subscribe(function(e){var n;t.sidebarCollapsed=null===(n=null==e?void 0:e.detail)||void 0===n?void 0:n.state,t.width=window.innerWidth,t.resizeHeader()}),this._dataSharingService.onSubTenantChange().subscribe(function(e){t.tenantConfig=t.tenantConfigMap.get(e),t.onRefresh(1)})}},{key:"resizeHeader",value:function(){this.headerLeft=this.sidebarCollapsed?"0":"150px"}},{key:"onRefresh",value:function(t){this.init()}},{key:"init",value:function(){var t=this;this.loading=!0;var e=this.level==jv.c.PATIENT_LEVEL?this.fetchPatientRules():this.fetchRules(),i=this._alertService.getAlertConfig();Object(Pf.a)([e,i]).subscribe(function(e){t.updatedOn=e[1].updatedOn>e[0].lastUpdatedOn?e[1].updatedOn:e[0].lastUpdatedOn,t.updatedBy=e[1].updatedOn>e[0].lastUpdatedOn?e[1].lastUpdatedBy:e[0].lastUpdatedBy;var i=t.processGeneralRules(e[1]);i.push.apply(i,n(e[0].result)),t.processRules(i),t.loading=!1})}},{key:"processGeneralRules",value:function(t){var e=new Array;for(var n in t.configs)if(t.configs[n].enabled){var i=new jv.a;if(i.active=!0,i.level=jv.c.TENANT_LEVEL,i.summaryType=jv.e.GENERAL,n==Xu.a.VITAL_LIMIT_CROSSED||n==Xu.a.TODO_TASK_SKIPPED)i.type=jv.b.VITALS,i.text=n==Xu.a.VITAL_LIMIT_CROSSED?"When a patient\u2019s recorded vital sign is above or below the limit.":"When a patient skip a vital sign reading.";else if(n==Xu.a.CAREPLAN_ASSIGNED||n==Xu.a.CONSENT_SUBMITTED)i.type=jv.b.MONITORING,i.text=n==Xu.a.CAREPLAN_ASSIGNED?"When a care plan has been assigned to the patient as part of any episode.":"When a consent form has been submitted by a patient for any episode.";else{if(n!=Xu.a.FORM_ALERT)continue;i.type=jv.b.FORMS,i.text="When the patient\u2019s assessment score crosses the limit."}i.updatedOn=0==t.configs[n].updatedOn?t.updatedOn:t.configs[n].updatedOn,i.summaryType=jv.e.GENERAL,i.priority=t.configs[n].priority,e.push(i)}return e}},{key:"processRules",value:function(t){var e,i=t.filter(function(t){return t.active});this.rules=this.sortByPriority(i);var a=t.filter(function(t){return!t.active}),o=this.sortByPriority(a);o.length>0&&(e=this.rules).push.apply(e,n(o))}},{key:"sortByPriority",value:function(t){var e=new Array;return new Array(Gv.a.VERY_HIGH,Gv.a.HIGH,Gv.a.MEDIUM,Gv.a.LOW,Gv.a.VERY_LOW).forEach(function(i){var a=t.filter(function(t){return t.priority==i});null!=a&&a.length>0&&e.push.apply(e,n(a))}),e}}]),t}()).\u0275fac=function(t){return new(t||cm)(m.Rb(_e.a),m.Rb(y.a),m.Rb(y.g),m.Rb(k.a),m.Rb(Yv.a),m.Rb(Mn.a))},cm.\u0275cmp=m.Lb({type:cm,selectors:[["app-alert-configurations"]],inputs:{tab:"tab"},outputs:{onTabChange:"onTabChange"},decls:10,vars:13,consts:[["ngTour","patientListHeaders",3,"nzSelectedIndex","ngStyle","nzTabBarStyle","nzTabBarExtraContent","nzSelectChange"],["nzTitle","Summary"],["summary",""],[3,"level","allRules","loading","refresh"],[3,"nzTitle"],["generalAlertSettingsTab",""],[3,"tenantConfig"],["extraTemplate",""],[2,"color","white"],["nzType","vertical",2,"border-color","white"]],template:function(t,e){if(1&t&&(m.Xb(0,"nz-tabset",0),m.ec("nzSelectChange",function(t){return e.onSelectedTabIndexChange(t)}),m.Xb(1,"nz-tab",1,2),m.Xb(3,"alert-summary",3),m.ec("refresh",function(t){return e.onRefresh(t)}),m.Wb(),m.Wb(),m.Xb(4,"nz-tab",4,5),m.jc(6,"translate"),m.Sb(7,"alert-general-settings",6),m.Wb(),m.Wb(),m.Vc(8,rm,7,5,"ng-template",null,7,m.Wc)),2&t){var n=m.Ic(9);m.rc("nzSelectedIndex",e.selectedTabIndex)("ngStyle",m.yc(11,sm,e.headerLeft))("nzTabBarStyle",e.style)("nzTabBarExtraContent",n),m.Db(3),m.rc("level",e.level)("allRules",e.rules)("loading",e.loading),m.Db(1),m.sc("nzTitle",m.kc(6,9,"ALERT.ALERT_SETTINGS")),m.Db(3),m.rc("tenantConfig",e.tenantConfig)}},directives:[qc.d,$e.e,E.r,qc.a,qv.a,om,K.a],pipes:[rt.a,E.e],styles:[".search[_ngcontent-%COMP%]{background:#393939;color:var(--neutral-color);border:none;height:30px;outline:none}[_nghost-%COMP%]     .ant-tabs-nav{background:var(--light-black);position:fixed;width:100%;z-index:999}[_nghost-%COMP%]     .ant-input-group-addon{background-color:transparent}[_nghost-%COMP%]     .ant-input-search>.ant-input-group>.ant-input-group-addon .ant-input-search-button{padding:5px 10px;border-radius:5px;height:30px}[_nghost-%COMP%]     .ant-tabs-tab{height:unset}[_nghost-%COMP%]     .ant-tabs-tab-active{border-bottom:4px solid var(--primary-color)!important}[_nghost-%COMP%]     .ant-tabs-tab.ant-tabs-tab-active .ant-tabs-tab-btn{color:var(--neutral-color)}[_nghost-%COMP%]     .ant-input-group-wrapper{width:inherit}[_nghost-%COMP%]     .ant-tabs{z-index:998;position:fixed;right:0;display:contents}.header-spacer[_ngcontent-%COMP%]{height:0}a[_ngcontent-%COMP%]{float:right;color:var(--neutral-color);font-weight:700;height:30px;margin:0 15px}#username[_ngcontent-%COMP%]{font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;line-height:3}app-icons[_ngcontent-%COMP%]{vertical-align:middle}.ant-tabs-bottom[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], .ant-tabs-bottom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], .ant-tabs-top[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-tabs-top>.ant-tabs-nav{margin:0;width:-webkit-fill-available}.ant-tabs[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .ant-tabs-nav[_ngcontent-%COMP%]   .ant-tabs-nav-list[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-tabs>.ant-tabs-nav .ant-tabs-nav-list{color:var(--neutral-color)}.ant-btn-circle-outline[_ngcontent-%COMP%], [_nghost-%COMP%]     .ant-btn-circle{border:none}"]}),cm),um=r("50vb"),dm=r("ua0i"),pm=function t(){u(this,t),this.active=!0,this.campaignSchedule=new hm,this.contactLists=new Array},bm=function(t){return t.ENROLLMENT="ENROLLMENT",t.GENERAL="GENERAL",t}({}),hm=function t(){u(this,t),this.pushAfter=8,this.scheduleType=gm.DAY},gm=function(t){return t.HOURS="HOURS",t.DAY="DAY",t.WEEK="WEEK",t}({});function fm(t,e){if(1&t&&m.Sb(0,"nz-option",13),2&t){var n=e.$implicit;m.rc("nzLabel",n)("nzValue",n)}}function vm(t,e){if(1&t&&m.Sb(0,"nz-option",13),2&t){var n=e.$implicit;m.rc("nzLabel",n)("nzValue",n)}}function mm(t,e){if(1&t&&m.Sb(0,"nz-option",13),2&t){var n=e.$implicit;m.rc("nzLabel",n.value.name)("nzValue",n.key)}}function Sm(t,e){1&t&&(m.Xb(0,"nz-option",14),m.Xb(1,"div",15),m.Sb(2,"em",16),m.Xc(3," Loading... "),m.Wb(),m.Wb())}function ym(t,e){if(1&t&&m.Sb(0,"nz-option",13),2&t){var n=e.$implicit;m.rc("nzLabel",n.value.name)("nzValue",n.key)}}function Tm(t,e){1&t&&(m.Xb(0,"nz-option",14),m.Xb(1,"div",15),m.Sb(2,"em",16),m.Xc(3," Loading... "),m.Wb(),m.Wb())}var Cm,Em=((Cm=function(){function t(e){u(this,t),this._genesysService=e,this.onCampaignLinked=new m.n,this.episodeTypes=Object.keys(dm.a),this.campaignTypes=Object.keys(bm),this.divisionMap=new Map,this.campaignMap=new Map,this.saveBtnLoading=!1}return p(t,[{key:"ngOnInit",value:function(){this.fetchDivision()}},{key:"fetchDivision",value:function(){var t=this;this.loadingDivision=!0,this._genesysService.fetchDivisions().subscribe(function(e){e&&e.entities.forEach(function(e){return t.divisionMap.set(e.id,e)}),t.loadingDivision=!1})}},{key:"onDivisionChange",value:function(t){this.campaignMap=new Map,this.division=this.divisionMap.get(t),this.fetchCampaigns(t)}},{key:"fetchCampaigns",value:function(t){var e=this;this.loadingCampaign=!0,this._genesysService.fetchCampaigns(t).subscribe(function(t){t&&t.entity.forEach(function(t){return e.campaignMap.set(t.id,t)}),e.loadingCampaign=!1})}},{key:"onCampaignChange",value:function(t){this.campaign=this.campaignMap.get(t)}},{key:"onChange",value:function(t,e){}},{key:"submit",value:function(){var t=this;this.linkBtnLoading=!0,this.request={campaignId:this.campaign.id,campaignName:this.campaign.name,campaignType:this.selectedCampaignType,episodeType:this.selectedEpisodeType,campaignSchedule:{pushAfter:8,scheduleType:"DAY"},contactList:this.campaign.contactList},this._genesysService.attachCampaign(this.request).subscribe(function(e){t.linkBtnLoading=!0,t.onCampaignLinked.emit(!0)})}}]),t}()).\u0275fac=function(t){return new(t||Cm)(m.Rb(um.a))},Cm.\u0275cmp=m.Lb({type:Cm,selectors:[["campaign-selector"]],outputs:{onCampaignLinked:"onCampaignLinked"},decls:34,vars:16,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],["nz-typography","","nzType","secondary"],["nzPlaceHolder","Please select episode Type",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","Please select campaign type",3,"ngModel","ngModelChange"],["nzPlaceHolder","Please select division",3,"ngModel","ngModelChange"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nzPlaceHolder","Please select a campaign",3,"ngModel","ngModelChange"],["nz-row","","nzGutter","16",1,"centerize"],["nz-col","","nzSpan","24"],["nz-button","","nzType","primary",1,"template-actions",3,"nzSize","nzLoading","click"],[3,"nzLabel","nzValue"],["nzDisabled","","nzCustomContent",""],[1,"loading-option"],["nz-icon","","nzType","loading",2,"font-size","20px","color","#8BC34A"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"p",3),m.Xc(4,"Episode Type"),m.Wb(),m.Xb(5,"nz-select",4),m.ec("ngModelChange",function(t){return e.selectedEpisodeType=t})("ngModelChange",function(t){return e.onChange(t,"EPISODE_TYPE")}),m.Vc(6,fm,1,2,"nz-option",5),m.Wb(),m.Wb(),m.Xb(7,"div",2),m.Xb(8,"p",3),m.Xc(9,"Campaign Type"),m.Wb(),m.Xb(10,"nz-select",6),m.ec("ngModelChange",function(t){return e.selectedCampaignType=t})("ngModelChange",function(t){return e.onChange(t,"CAMPAIGN_TYPE")}),m.Vc(11,vm,1,2,"nz-option",5),m.Wb(),m.Wb(),m.Wb(),m.Sb(12,"br"),m.Xb(13,"div",1),m.Xb(14,"div",2),m.Xb(15,"p",3),m.Xc(16,"Division"),m.Wb(),m.Xb(17,"nz-select",7),m.ec("ngModelChange",function(t){return e.selectedDivision=t})("ngModelChange",function(t){return e.onDivisionChange(t)}),m.Vc(18,mm,1,2,"nz-option",5),m.jc(19,"keyvalue"),m.Vc(20,Sm,4,0,"nz-option",8),m.Wb(),m.Wb(),m.Xb(21,"div",2),m.Xb(22,"p",3),m.Xc(23,"Campaign"),m.Wb(),m.Xb(24,"nz-select",9),m.ec("ngModelChange",function(t){return e.selectedCampaign=t})("ngModelChange",function(t){return e.onCampaignChange(t)}),m.Vc(25,ym,1,2,"nz-option",5),m.jc(26,"keyvalue"),m.Vc(27,Tm,4,0,"nz-option",8),m.Wb(),m.Wb(),m.Wb(),m.Sb(28,"br"),m.Sb(29,"br"),m.Xb(30,"div",10),m.Xb(31,"div",11),m.Xb(32,"button",12),m.ec("click",function(){return e.submit()}),m.Xc(33," Link Campaign "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(5),m.rc("ngModel",e.selectedEpisodeType),m.Db(1),m.rc("ngForOf",e.episodeTypes),m.Db(4),m.rc("ngModel",e.selectedCampaignType),m.Db(1),m.rc("ngForOf",e.campaignTypes),m.Db(6),m.rc("ngModel",e.selectedDivision),m.Db(1),m.rc("ngForOf",m.kc(19,12,e.divisionMap)),m.Db(2),m.rc("ngIf",e.loadingDivision),m.Db(4),m.rc("ngModel",e.selectedCampaign),m.Db(1),m.rc("ngForOf",m.kc(26,14,e.campaignMap)),m.Db(2),m.rc("ngIf",e.loadingCampaign),m.Db(5),m.rc("nzSize","medium")("nzLoading",e.saveBtnLoading))},directives:[J.c,J.a,Q.a,it.d,I.u,I.x,E.p,E.q,tt.a,et.a,nt.a,it.a,Et.a],pipes:[E.j],styles:[""]}),Cm),Im=function t(){u(this,t)},Mm=r("z4wI");function Am(t,e){if(1&t&&m.Sb(0,"nz-option",19),2&t){var n=e.$implicit;m.rc("nzLabel",n)("nzValue",n)}}function _m(t,e){if(1&t&&m.Sb(0,"nz-option",19),2&t){var n=e.$implicit;m.rc("nzLabel",n)("nzValue",n)}}function Dm(t,e){if(1&t&&m.Sb(0,"nz-option",19),2&t){var n=e.$implicit;m.rc("nzLabel",n)("nzValue",n)}}function zm(t,e){if(1&t&&m.Sb(0,"nz-option",19),2&t){var n=e.$implicit;m.rc("nzLabel",n.value.name)("nzValue",n.key)}}function Om(t,e){1&t&&(m.Xb(0,"nz-option",20),m.Xb(1,"div",21),m.Sb(2,"em",22),m.Xc(3," Loading... "),m.Wb(),m.Wb())}function km(t,e){if(1&t&&m.Sb(0,"nz-option",19),2&t){var n=e.$implicit;m.rc("nzLabel",n.value.name)("nzValue",n.key)}}function Nm(t,e){1&t&&(m.Xb(0,"nz-option",20),m.Xb(1,"div",21),m.Sb(2,"em",22),m.Xc(3," Loading... "),m.Wb(),m.Wb())}function Pm(t,e){1&t&&(m.Xb(0,"span",23),m.Xb(1,"sup"),m.Xc(2,"*"),m.Wb(),m.Xc(3," Required "),m.Wb())}var Rm,Xm=((Rm=function(){function t(e,n){u(this,t),this._notificationService=e,this._genesysService=n,this.alreadyAvailableCampaigns=new Set,this.onContactListDivisionChange=new m.n,this.onContactListCreated=new m.n,this.campaign=new pm,this.division=new Im,this.attemptLimit=new Im,this.episodeTypes=Object.keys(dm.a),this.campaignTypes=Object.keys(bm),this.scheduleTypes=Object.keys(gm),this.attemptLimitMap=new Map,this.attemptLimits=new Array,this.divisionMap=new Map,this.divisions=new Array}return p(t,[{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){var t=this;this.loadingDivision=!0,this.loadingAttemptLimits=!0,this._genesysService.fetchAttemptLimits().subscribe(function(e){e&&(t.attemptLimits=e.entities,t.attemptLimits.forEach(function(e){return t.attemptLimitMap.set(e.id,e)})),t.loadingAttemptLimits=!1}),this._genesysService.fetchDivisions().subscribe(function(e){e&&(t.divisions=e.entities,t.divisions.forEach(function(e){return t.divisionMap.set(e.id,e)})),t.loadingDivision=!1})}},{key:"onChange",value:function(t){this.isValidName()?(this.campaign.campaignName="DT_"+this.tenantName+"_"+this.campaign.episodeType+"_"+this.campaign.campaignType,this.campaign.episodeType&&this.campaign.campaignType&&(this.isCampaignValid=!0)):(this._notificationService.warning("Campaign","Campaign with the same name already present"),this.isCampaignValid=!1)}},{key:"onAttemptLimitChange",value:function(t){this.attemptLimit=this.attemptLimitMap.get(t)}},{key:"onDivisionChange",value:function(t){this.division=this.divisionMap.get(t),this.onContactListDivisionChange.emit(this.division)}},{key:"isValidName",value:function(){return!this.alreadyAvailableCampaigns.has(this.campaign.episodeType+"_"+this.campaign.campaignType)}},{key:"isValidAttemptLimit",value:function(){return this.attemptLimit&&null!=this.attemptLimit}},{key:"create",value:function(){var t=this;this._genesysService.createContactList(this.campaign.campaignName,this.attemptLimit,this.division).subscribe(function(e){t.onContactListCreated.emit(e)},function(e){console.log("Error : ",e),t._notificationService.error("Contact List",e.error.errorEntity.message)})}}]),t}()).\u0275fac=function(t){return new(t||Rm)(m.Rb(Z.b),m.Rb(um.a))},Rm.\u0275cmp=m.Lb({type:Rm,selectors:[["app-create-contact-list"]],inputs:{tenantId:"tenantId",tenantName:"tenantName",alreadyAvailableCampaigns:"alreadyAvailableCampaigns"},outputs:{onContactListDivisionChange:"onContactListDivisionChange",onContactListCreated:"onContactListCreated"},decls:54,vars:24,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","24"],["nz-typography","","nzType","secondary"],["id","title","nz-input","","required","","placeholder","Contactlist Name","disabled","",3,"ngModel","ngModelChange"],["title","ngModel"],["nz-col","","nzSpan","12"],["nzPlaceHolder","Please select episode Type",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","Please select contactlist type",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","12",2,"width","100%"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelChange"],["nzPlaceHolder","Please select campaign type","nzDisabled","",3,"ngModel","ngModelChange"],["nzPlaceHolder","Please select attempt limits",3,"ngModel","ngModelChange"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nzPlaceHolder","Please select division",3,"ngModel","ngModelChange"],["nz-typography","","nzType","danger",4,"ngIf"],["nz-row","","nzGutter","16",1,"centerize"],["nz-button","","nzType","primary",1,"template-actions",3,"nzSize","nzLoading","disabled","click"],[3,"nzLabel","nzValue"],["nzDisabled","","nzCustomContent",""],[1,"loading-option"],["nz-icon","","nzType","loading",2,"font-size","20px","color","#8BC34A"],["nz-typography","","nzType","danger"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"p",3),m.Xc(4,"Contactlist Name"),m.Wb(),m.Xb(5,"input",4,5),m.ec("ngModelChange",function(t){return e.campaign.campaignName=t}),m.Wb(),m.Wb(),m.Wb(),m.Sb(7,"br"),m.Xb(8,"div",1),m.Xb(9,"div",6),m.Xb(10,"p",3),m.Xc(11,"Episode Type"),m.Wb(),m.Xb(12,"nz-select",7),m.ec("ngModelChange",function(t){return e.campaign.episodeType=t})("ngModelChange",function(t){return e.onChange(t)}),m.Vc(13,Am,1,2,"nz-option",8),m.Wb(),m.Wb(),m.Xb(14,"div",6),m.Xb(15,"p",3),m.Xc(16,"Contactlist Type"),m.Wb(),m.Xb(17,"nz-select",9),m.ec("ngModelChange",function(t){return e.campaign.campaignType=t})("ngModelChange",function(t){return e.onChange(t)}),m.Vc(18,_m,1,2,"nz-option",8),m.Wb(),m.Wb(),m.Wb(),m.Sb(19,"br"),m.Xb(20,"div",1),m.Xb(21,"div",10),m.Xb(22,"p",3),m.Xc(23," Push contact after "),m.Wb(),m.Xb(24,"nz-input-number",11),m.ec("ngModelChange",function(t){return e.campaign.campaignSchedule.pushAfter=t}),m.Wb(),m.Wb(),m.Xb(25,"div",6),m.Xb(26,"p",3),m.Xc(27," Contact schedule type "),m.Wb(),m.Xb(28,"nz-select",12),m.ec("ngModelChange",function(t){return e.campaign.campaignSchedule.scheduleType=t})("ngModelChange",function(t){return e.onChange(t)}),m.Vc(29,Dm,1,2,"nz-option",8),m.Wb(),m.Wb(),m.Wb(),m.Sb(30,"br"),m.Xb(31,"div",1),m.Xb(32,"div",6),m.Xb(33,"p",3),m.Xc(34," Attempt Limit "),m.Wb(),m.Xb(35,"nz-select",13),m.ec("ngModelChange",function(t){return e.attemptLimit=t})("ngModelChange",function(t){return e.onAttemptLimitChange(t)}),m.Vc(36,zm,1,2,"nz-option",8),m.jc(37,"keyvalue"),m.Vc(38,Om,4,0,"nz-option",14),m.Wb(),m.Wb(),m.Xb(39,"div",6),m.Xb(40,"p",3),m.Xc(41," Division "),m.Wb(),m.Xb(42,"nz-select",15),m.ec("ngModelChange",function(t){return e.selectedDivision=t})("ngModelChange",function(t){return e.onDivisionChange(t)}),m.Vc(43,km,1,2,"nz-option",8),m.jc(44,"keyvalue"),m.Vc(45,Nm,4,0,"nz-option",14),m.Wb(),m.Vc(46,Pm,4,0,"span",16),m.Wb(),m.Wb(),m.Sb(47,"br"),m.Sb(48,"br"),m.Sb(49,"br"),m.Xb(50,"div",17),m.Xb(51,"div",2),m.Xb(52,"button",18),m.ec("click",function(){return e.create()}),m.Xc(53," Create "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(5),m.rc("ngModel",e.campaign.campaignName),m.Db(7),m.rc("ngModel",e.campaign.episodeType),m.Db(1),m.rc("ngForOf",e.episodeTypes),m.Db(4),m.rc("ngModel",e.campaign.campaignType),m.Db(1),m.rc("ngForOf",e.campaignTypes),m.Db(6),m.rc("ngModel",e.campaign.campaignSchedule.pushAfter)("nzMin",1)("nzMax",30)("nzStep",1),m.Db(4),m.rc("ngModel",e.campaign.campaignSchedule.scheduleType),m.Db(1),m.rc("ngForOf",e.scheduleTypes),m.Db(6),m.rc("ngModel",e.attemptLimit),m.Db(1),m.rc("ngForOf",m.kc(37,20,e.attemptLimitMap)),m.Db(2),m.rc("ngIf",e.loadingAttemptLimits),m.Db(4),m.rc("ngModel",e.selectedDivision),m.Db(1),m.rc("ngForOf",m.kc(44,22,e.divisionMap)),m.Db(2),m.rc("ngIf",e.loadingDivision),m.Db(7),m.rc("nzSize","medium")("nzLoading",e.saveBtnLoading)("disabled",!e.isCampaignValid))},directives:[J.c,J.a,Q.a,zo.b,I.d,I.C,I.u,I.x,it.d,E.p,Mm.a,E.q,tt.a,et.a,nt.a,it.a,Et.a],pipes:[E.j],styles:[".centerize[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]     .ant-input-number{width:100%}p[_ngcontent-%COMP%]{margin-bottom:5px}"]}),Rm),Lm=function t(){u(this,t),this.dialingMode="preview",this.noAnswerTimeout=30,this.priority=5};function wm(t,e){if(1&t&&m.Sb(0,"nz-option",21),2&t){var n=e.$implicit;m.rc("nzLabel",n.value)("nzValue",n.key)}}function Wm(t,e){if(1&t&&m.Sb(0,"nz-option",21),2&t){var n=e.$implicit;m.rc("nzLabel",n.value.name)("nzValue",n.key)}}function Vm(t,e){1&t&&(m.Xb(0,"nz-option",22),m.Xb(1,"div",23),m.Sb(2,"em",24),m.Xc(3," Loading... "),m.Wb(),m.Wb())}function xm(t,e){if(1&t&&m.Sb(0,"nz-option",21),2&t){var n=e.$implicit;m.rc("nzLabel",n.value.name)("nzValue",n.key)}}function Um(t,e){1&t&&(m.Xb(0,"nz-option",22),m.Xb(1,"div",23),m.Sb(2,"em",24),m.Xc(3," Loading... "),m.Wb(),m.Wb())}function Fm(t,e){if(1&t&&m.Sb(0,"nz-option",21),2&t){var n=e.$implicit;m.rc("nzLabel",n.value.name)("nzValue",n.key)}}function Hm(t,e){1&t&&(m.Xb(0,"nz-option",22),m.Xb(1,"div",23),m.Sb(2,"em",24),m.Xc(3," Loading... "),m.Wb(),m.Wb())}function Bm(t,e){if(1&t&&m.Sb(0,"nz-option",21),2&t){var n=e.$implicit;m.rc("nzLabel",n.value.name)("nzValue",n.key)}}function jm(t,e){1&t&&(m.Xb(0,"nz-option",22),m.Xb(1,"div",23),m.Sb(2,"em",24),m.Xc(3," Loading... "),m.Wb(),m.Wb())}function Gm(t,e){if(1&t&&m.Sb(0,"nz-option",21),2&t){var n=e.$implicit;m.uc("nzLabel","",n.value.name," (",n.value.size," contacts)"),m.rc("nzValue",n.key)}}function Ym(t,e){1&t&&(m.Xb(0,"nz-option",22),m.Xb(1,"div",23),m.Sb(2,"em",24),m.Xc(3," Loading... "),m.Wb(),m.Wb())}function qm(t,e){if(1&t&&m.Sb(0,"nz-option",21),2&t){var n=e.$implicit;m.sc("nzLabel",n.value.name),m.rc("nzValue",n.key)}}function Zm(t,e){1&t&&(m.Xb(0,"nz-option",22),m.Xb(1,"div",23),m.Sb(2,"em",24),m.Xc(3," Loading... "),m.Wb(),m.Wb())}var Qm,Km=((Qm=function(){function t(e,n,i){var a=this;u(this,t),this._genesysService=e,this._modalRef=n,this._notificationService=i,this.saveBtnLoading=!1,this.attemptLimitMap=new Map,this.divisionMap=new Map,this.scriptsMap=new Map,this.noAnswerTimeout=30,this.queueMap=new Map,this.contactListMap=new Map,this.ruleSetMap=new Map,this.dailingModes=new Map([["OutdatedSdkVersion","Outdated SDK Version"],["agentless","Agentless"],["preview","Preview"],["power","Power"],["predictive","Predictive"],["progressive","Progressive"],["external","External"]]),this.errors={nameError:!1,scriptError:!1,queueError:!1,divisionError:!1,attemptLimit:!1},this.queues=new Array,this.getContactListsSubscribe=function(){return a._genesysService.fetchContactList(a.createCampaignRequest.division.id)}}return p(t,[{key:"division",set:function(t){null!=this.createCampaignRequest&&null!=this.createCampaignRequest||(this.createCampaignRequest=new Lm),this.createCampaignRequest.division=t,this.selectedDivision=t.id,this.onDivisionChange(t.id)}},{key:"contactList",set:function(t){var e=this;this.loadingContactLists=!0,this.getContactListsSubscribe().subscribe(function(n){n&&n.entities.forEach(function(t){return e.contactListMap.set(t.id,t)}),e.loadingContactLists=!1,null!=e.createCampaignRequest&&null!=e.createCampaignRequest||(e.createCampaignRequest=new Lm);var i=new Im;i.id=t.id,i.name=t.name,i.selfUri=t.selfUri,e.createCampaignRequest.contactList=i,e.selectedContactList=i.id,e.onContactListChange(i.id)})}},{key:"ngOnInit",value:function(){this.init()}},{key:"init",value:function(){var t=this;null!=this.createCampaignRequest&&null!=this.createCampaignRequest||(this.createCampaignRequest=new Lm),this.loadingDivision=!0,this.loadingAttemptLimits=!0,this._genesysService.fetchAttemptLimits().subscribe(function(e){e&&e.entities.forEach(function(e){return t.attemptLimitMap.set(e.id,e)}),t.loadingAttemptLimits=!1}),this._genesysService.fetchDivisions().subscribe(function(e){e&&e.entities.forEach(function(e){return t.divisionMap.set(e.id,e)}),t.loadingDivision=!1})}},{key:"getScripts",value:function(){var t=this;this.loadingScripts=!0,this._genesysService.fetchScripts(this.createCampaignRequest.division.id).subscribe(function(e){e&&e.entities.forEach(function(e){return t.scriptsMap.set(e.id,e)}),t.loadingScripts=!1})}},{key:"getQueues",value:function(){var t=this;this.loadingQueues=!0,this._genesysService.fetchQueues(this.createCampaignRequest.division.id).subscribe(function(e){e&&e.entities.forEach(function(e){return t.queueMap.set(e.id,e)}),t.loadingQueues=!1})}},{key:"getContactLists",value:function(){var t=this;this.loadingContactLists=!0,this.getContactListsSubscribe().subscribe(function(e){e&&e.entities.forEach(function(e){return t.contactListMap.set(e.id,e)}),t.loadingContactLists=!1})}},{key:"getRuleSets",value:function(){var t=this;this.loadingRuleSet=!0,this._genesysService.fetchRuleSets(this.createCampaignRequest.division.id).subscribe(function(e){e&&e.entities.forEach(function(e){return t.ruleSetMap.set(e.id,e)}),t.loadingRuleSet=!1})}},{key:"onAttemptLimitChange",value:function(t){var e=this.attemptLimitMap.get(t);this.createCampaignRequest.attemptLimit=e,this.errors.attemptLimit=!1}},{key:"onDivisionChange",value:function(t){this.createCampaignRequest.division=this.divisionMap.get(t),this.errors.divisionError=!1,this.getScripts(),this.getQueues(),this.getContactLists(),this.getRuleSets()}},{key:"onScriptChange",value:function(t){this.createCampaignRequest.script=this.scriptsMap.get(t),this.errors.scriptError=!1}},{key:"onQueueChange",value:function(t){this.createCampaignRequest.queue=this.queueMap.get(t),this.errors.queueError=!1}},{key:"onContactListChange",value:function(t){this.createCampaignRequest.contactList=this.contactListMap.get(t),this.errors.contactListError=!1}},{key:"onRuleSetChange",value:function(t){var e=this,n=new Array;t.forEach(function(t){return n.push(e.ruleSetMap.get(t))}),this.createCampaignRequest.ruleSets=n}},{key:"create",value:function(){var t=this;this.validateRequest(),this._genesysService.createCampaign(this.createCampaignRequest).subscribe(function(e){t._modalRef.close()},function(e){t._notificationService.error("Contact List",e.error.errorEntity.message),t._modalRef.close()})}},{key:"validateRequest",value:function(){for(var t in this.errors)console.log("Error : ",t)}}]),t}()).\u0275fac=function(t){return new(t||Qm)(m.Rb(um.a),m.Rb(q.e),m.Rb(Z.b))},Qm.\u0275cmp=m.Lb({type:Qm,selectors:[["app-create-campaign"]],inputs:{tenantId:"tenantId",tenantName:"tenantName",division:"division",contactList:"contactList"},decls:85,vars:43,consts:[["id","wrapper","cdkDrag","","cdkDragRootElement",".ant-modal-content"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12"],["nz-typography","","nzType","secondary"],["id","title","nz-input","","required","","placeholder","Campaign Name",3,"ngModel","ngModelChange"],["title","ngModel"],["id","caller-name","nz-input","","required","","placeholder","Caller Name",3,"ngModel","ngModelChange"],["id","caller-address","nz-input","","required","","placeholder","Caller Address",3,"ngModel","ngModelChange"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelChange"],["nzPlaceHolder","Please select dailing mode",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzPlaceHolder","Please select division",3,"ngModel","ngModelChange"],["nzDisabled","","nzCustomContent","",4,"ngIf"],["nzPlaceHolder","Please select attempt limits",3,"ngModel","ngModelChange"],["nzPlaceHolder","Please select script",3,"ngModel","ngModelChange"],["nzPlaceHolder","Please select queue",3,"ngModel","ngModelChange"],["nzShowSearch","","nzPlaceHolder","Select Contact List",3,"ngModel","ngModelChange"],["nzMode","multiple","nzShowSearch","","nzPlaceHolder","Select Rule Set",3,"ngModel","ngModelChange"],["nz-row","","nzGutter","16",1,"centerize"],["nz-col","","nzSpan","24"],["nz-button","","nzType","primary",1,"template-actions",3,"nzSize","nzLoading","click"],[3,"nzLabel","nzValue"],["nzDisabled","","nzCustomContent",""],[1,"loading-option"],["nz-icon","","nzType","loading",2,"font-size","20px","color","#8BC34A"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"p",3),m.Xc(4,"Campaign Name"),m.Wb(),m.Xb(5,"input",4,5),m.ec("ngModelChange",function(t){return e.createCampaignRequest.name=t}),m.Wb(),m.Wb(),m.Xb(7,"div",2),m.Xb(8,"p",3),m.Xc(9,"Caller Name"),m.Wb(),m.Xb(10,"input",6,5),m.ec("ngModelChange",function(t){return e.createCampaignRequest.callerName=t}),m.Wb(),m.Wb(),m.Wb(),m.Sb(12,"br"),m.Xb(13,"div",1),m.Xb(14,"div",2),m.Xb(15,"p",3),m.Xc(16,"Caller Address"),m.Wb(),m.Xb(17,"input",7,5),m.ec("ngModelChange",function(t){return e.createCampaignRequest.callerAddress=t}),m.Wb(),m.Wb(),m.Xb(19,"div",2),m.Xb(20,"p",3),m.Xc(21,"No answer time-out"),m.Wb(),m.Xb(22,"nz-input-number",8),m.ec("ngModelChange",function(t){return e.createCampaignRequest.noAnswerTimeout=t}),m.Wb(),m.Wb(),m.Wb(),m.Sb(23,"br"),m.Xb(24,"div",1),m.Xb(25,"div",2),m.Xb(26,"p",3),m.Xc(27,"Dailing Mode"),m.Wb(),m.Xb(28,"nz-select",9),m.ec("ngModelChange",function(t){return e.createCampaignRequest.dialingMode=t}),m.Vc(29,wm,1,2,"nz-option",10),m.jc(30,"keyvalue"),m.Wb(),m.Wb(),m.Xb(31,"div",2),m.Xb(32,"p",3),m.Xc(33,"Division"),m.Wb(),m.Xb(34,"nz-select",11),m.ec("ngModelChange",function(t){return e.selectedDivision=t})("ngModelChange",function(t){return e.onDivisionChange(t)}),m.Vc(35,Wm,1,2,"nz-option",10),m.jc(36,"keyvalue"),m.Vc(37,Vm,4,0,"nz-option",12),m.Wb(),m.Wb(),m.Wb(),m.Sb(38,"br"),m.Xb(39,"div",1),m.Xb(40,"div",2),m.Xb(41,"p",3),m.Xc(42,"Attempt Limit"),m.Wb(),m.Xb(43,"nz-select",13),m.ec("ngModelChange",function(t){return e.selectedAttemptLimit=t})("ngModelChange",function(t){return e.onAttemptLimitChange(t)}),m.Vc(44,xm,1,2,"nz-option",10),m.jc(45,"keyvalue"),m.Vc(46,Um,4,0,"nz-option",12),m.Wb(),m.Wb(),m.Xb(47,"div",2),m.Xb(48,"p",3),m.Xc(49,"Script"),m.Wb(),m.Xb(50,"nz-select",14),m.ec("ngModelChange",function(t){return e.selectedScript=t})("ngModelChange",function(t){return e.onScriptChange(t)}),m.Vc(51,Fm,1,2,"nz-option",10),m.jc(52,"keyvalue"),m.Vc(53,Hm,4,0,"nz-option",12),m.Wb(),m.Wb(),m.Wb(),m.Sb(54,"br"),m.Xb(55,"div",1),m.Xb(56,"div",2),m.Xb(57,"p",3),m.Xc(58,"Queue"),m.Wb(),m.Xb(59,"nz-select",15),m.ec("ngModelChange",function(t){return e.selectedQueue=t})("ngModelChange",function(t){return e.onQueueChange(t)}),m.Vc(60,Bm,1,2,"nz-option",10),m.jc(61,"keyvalue"),m.Vc(62,jm,4,0,"nz-option",12),m.Wb(),m.Wb(),m.Xb(63,"div",2),m.Xb(64,"p",3),m.Xc(65,"Contact list"),m.Wb(),m.Xb(66,"nz-select",16),m.ec("ngModelChange",function(t){return e.selectedContactList=t})("ngModelChange",function(t){return e.onContactListChange(t)}),m.Vc(67,Gm,1,3,"nz-option",10),m.jc(68,"keyvalue"),m.Vc(69,Ym,4,0,"nz-option",12),m.Wb(),m.Wb(),m.Wb(),m.Sb(70,"br"),m.Xb(71,"div",1),m.Xb(72,"div",2),m.Xb(73,"p",3),m.Xc(74,"Rule Set"),m.Wb(),m.Xb(75,"nz-select",17),m.ec("ngModelChange",function(t){return e.selectedRuleSet=t})("ngModelChange",function(t){return e.onRuleSetChange(t)}),m.Vc(76,qm,1,2,"nz-option",10),m.jc(77,"keyvalue"),m.Vc(78,Zm,4,0,"nz-option",12),m.Wb(),m.Wb(),m.Wb(),m.Sb(79,"br"),m.Sb(80,"br"),m.Xb(81,"div",18),m.Xb(82,"div",19),m.Xb(83,"button",20),m.ec("click",function(){return e.create()}),m.Xc(84," Create "),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(5),m.rc("ngModel",e.createCampaignRequest.name),m.Db(5),m.rc("ngModel",e.createCampaignRequest.callerName),m.Db(7),m.rc("ngModel",e.createCampaignRequest.callerAddress),m.Db(5),m.rc("ngModel",e.createCampaignRequest.noAnswerTimeout)("nzMin",1)("nzMax",300)("nzStep",1),m.Db(6),m.rc("ngModel",e.createCampaignRequest.dialingMode),m.Db(1),m.rc("ngForOf",m.kc(30,29,e.dailingModes)),m.Db(5),m.rc("ngModel",e.selectedDivision),m.Db(1),m.rc("ngForOf",m.kc(36,31,e.divisionMap)),m.Db(2),m.rc("ngIf",e.loadingDivision),m.Db(6),m.rc("ngModel",e.selectedAttemptLimit),m.Db(1),m.rc("ngForOf",m.kc(45,33,e.attemptLimitMap)),m.Db(2),m.rc("ngIf",e.loadingAttemptLimits),m.Db(4),m.rc("ngModel",e.selectedScript),m.Db(1),m.rc("ngForOf",m.kc(52,35,e.scriptsMap)),m.Db(2),m.rc("ngIf",e.loadingScripts),m.Db(6),m.rc("ngModel",e.selectedQueue),m.Db(1),m.rc("ngForOf",m.kc(61,37,e.queueMap)),m.Db(2),m.rc("ngIf",e.loadingQueues),m.Db(4),m.rc("ngModel",e.selectedContactList),m.Db(1),m.rc("ngForOf",m.kc(68,39,e.contactListMap)),m.Db(2),m.rc("ngIf",e.loadingContactLists),m.Db(6),m.rc("ngModel",e.selectedRuleSet),m.Db(1),m.rc("ngForOf",m.kc(77,41,e.ruleSetMap)),m.Db(2),m.rc("ngIf",e.loadingRuleSet),m.Db(5),m.rc("nzSize","medium")("nzLoading",e.saveBtnLoading))},directives:[J.c,J.a,Q.a,zo.b,I.d,I.C,I.u,I.x,Mm.a,it.d,E.p,E.q,tt.a,et.a,nt.a,it.a,Et.a],pipes:[E.j],styles:["p[_ngcontent-%COMP%]{margin-bottom:5px}[_nghost-%COMP%]     .ant-input-number{width:100%}"]}),Qm);function Jm(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",13),m.ec("click",function(){return m.Lc(n),m.ic(2).createNewContactList()}),m.Xc(1,"Create new contact list"),m.Wb()}}function $m(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",5),m.Xb(2,"app-create-contact-list",14),m.ec("onContactListDivisionChange",function(t){return m.Lc(n),m.ic(2).onContactListDivisionChange(t)})("onContactListCreated",function(t){return m.Lc(n),m.ic(2).onContactListCreated(t)}),m.Wb(),m.Wb(),m.Ub()}if(2&t){var i=m.ic(2);m.Db(2),m.rc("tenantId",i.tenantId)("tenantName",i.tenantName)("alreadyAvailableCampaigns",i.alreadyAvailableCampaigns)}}function tS(t,e){if(1&t&&(m.Xb(0,"nz-timeline-item",1),m.Xb(1,"nz-card",2),m.Xb(2,"h4",3),m.Xb(3,"strong"),m.Xc(4,"Step 2 - "),m.Wb(),m.Xc(5,"Create Contact List "),m.Wb(),m.Xb(6,"p",3),m.Xc(7," You have to create a new contactlist first to create a campaign. "),m.Wb(),m.Vb(8),m.Xb(9,"div",10),m.Xb(10,"div",7),m.Vc(11,Jm,2,0,"button",11),m.Wb(),m.Vc(12,$m,3,3,"ng-container",12),m.Xb(13,"div",5),m.Sb(14,"nz-divider",6),m.Wb(),m.Xb(15,"div",7),m.Xb(16,"p",3),m.Xc(17," You can choose an existing contactlist while creating a campaign. "),m.Wb(),m.Wb(),m.Wb(),m.Ub(),m.Wb(),m.Wb()),2&t){var n=m.ic();m.Db(11),m.rc("ngIf",!n.createFreshContactList),m.Db(1),m.rc("ngIf",n.createFreshContactList)}}function eS(t,e){if(1&t&&(m.Xb(0,"nz-timeline-item",1),m.Xb(1,"nz-card",2),m.Xb(2,"h4",3),m.Xb(3,"strong"),m.Xc(4,"Step 3 - "),m.Wb(),m.Xc(5," Create Campaign "),m.Wb(),m.Xb(6,"p",3),m.Xc(7," You can create campaign here. "),m.Wb(),m.Sb(8,"app-create-campaign",15),m.Wb(),m.Wb()),2&t){var n=m.ic();m.Db(8),m.rc("tenantId",n.tenantId)("tenantName",n.tenantName)("division",n.division)("contactList",n.contactList)}}var nS,iS=((nS=function(){function t(e,n){u(this,t),this._genesysService=e,this._modalRef=n,this.alreadyAvailableCampaigns=new Set,this.index=0,this.disable=!1,this.contactListMap=new Map,this.divisionMap=new Map,this.useOldContactList=!1,this.saveBtnLoading=!1}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.loadingDivision=!0,this._genesysService.fetchDivisions().subscribe(function(e){e&&e.entities.forEach(function(e){return t.divisionMap.set(e.id,e)}),t.loadingDivision=!1})}},{key:"onIndexChange",value:function(t){this.index=t}},{key:"getContactLists",value:function(){var t=this;this.loadingContactLists=!0,this._genesysService.fetchContactList(this.division.id).subscribe(function(e){e&&e.entities.forEach(function(e){return t.contactListMap.set(e.id,e)}),t.loadingContactLists=!1})}},{key:"onDivisionChange",value:function(t){this.division=this.divisionMap.get(t),this.getContactLists()}},{key:"onContactListChange",value:function(t){this.contactList=this.contactListMap.get(t)}},{key:"chooseFromExistingContactList",value:function(){this.useOldContactList=!0,this.createFreshContactList=!1}},{key:"createNewContactList",value:function(){this.createFreshContactList=!0,this.useOldContactList=!1}},{key:"onContactListDivisionChange",value:function(t){this.onDivisionChange(t.id)}},{key:"onContactListCreated",value:function(t){var e=this;this.loadingContactLists=!0,this._genesysService.fetchContactList(this.division.id).subscribe(function(n){n&&n.entities.forEach(function(t){return e.contactListMap.set(t.id,t)}),e.loadingContactLists=!1,e.contactList=t.entity})}},{key:"chooseCampaign",value:function(){this.createNewCampaignFlag=!0}},{key:"onCampaignLinked",value:function(t){this._modalRef.close()}}]),t}()).\u0275fac=function(t){return new(t||nS)(m.Rb(um.a),m.Rb(q.e))},nS.\u0275cmp=m.Lb({type:nS,selectors:[["app-create-contact-list-campaign-wizard"]],inputs:{tenantId:"tenantId",tenantName:"tenantName",alreadyAvailableCampaigns:"alreadyAvailableCampaigns"},decls:19,vars:4,consts:[[1,"container"],["nzColor","green"],[2,"width","100%"],["nz-typography","","nzType","primary"],[3,"onCampaignLinked"],["nz-col","","nzSpan","24"],["nzText","Or"],["nz-col","","nzSpan","24",2,"text-align","center"],["nz-button","","nzType","primary",1,"template-actions",3,"nzSize","nzLoading","click"],["nzColor","green",4,"ngIf"],["nz-row","","nzGutter","64",2,"margin-bottom","20px"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],[4,"ngIf"],["nz-button","","nzType","primary",3,"click"],[3,"tenantId","tenantName","alreadyAvailableCampaigns","onContactListDivisionChange","onContactListCreated"],[3,"tenantId","tenantName","division","contactList"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"nz-timeline"),m.Xb(2,"nz-timeline-item",1),m.Xb(3,"nz-card",2),m.Xb(4,"h4",3),m.Xb(5,"strong"),m.Xc(6,"Step 1 - "),m.Wb(),m.Xc(7,"Choose Campaign "),m.Wb(),m.Xb(8,"p",3),m.Xc(9," You can choose an existing campaign. "),m.Wb(),m.Vb(10),m.Xb(11,"campaign-selector",4),m.ec("onCampaignLinked",function(t){return e.onCampaignLinked(t)}),m.Wb(),m.Ub(),m.Xb(12,"div",5),m.Sb(13,"nz-divider",6),m.Wb(),m.Xb(14,"div",7),m.Xb(15,"button",8),m.ec("click",function(){return e.chooseCampaign()}),m.Xc(16," Create new Campaign "),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Vc(17,tS,18,2,"nz-timeline-item",9),m.Vc(18,eS,9,4,"nz-timeline-item",9),m.Wb(),m.Wb()),2&t&&(m.Db(15),m.rc("nzSize","medium")("nzLoading",e.saveBtnLoading),m.Db(2),m.rc("ngIf",e.createNewCampaignFlag),m.Db(1),m.rc("ngIf",e.createNewCampaignFlag))},directives:[xu.a,xu.b,Tt.a,Q.a,Em,J.a,K.a,tt.a,et.a,nt.a,E.q,J.c,Xm,Km],styles:[""]}),nS);function aS(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",15),m.ec("click",function(){return m.Lc(n),m.ic().createCampaign()}),m.Xc(1," Create Campaign "),m.Wb()}}function oS(t,e){if(1&t&&(m.Xb(0,"p"),m.Xb(1,"span",17),m.Xc(2," Contacts Called : "),m.Wb(),m.Xb(3,"span",7),m.Xc(4),m.Wb(),m.Wb()),2&t){var n,i=m.ic().$implicit,a=m.ic();m.Db(4),m.Zc(" ",null==(n=a.campaignProgressMap.get(null==i?null:i.campaignId))?null:n.numberOfContactsCalled," ")}}function rS(t,e){if(1&t&&(m.Xb(0,"p"),m.Xb(1,"span",17),m.Xc(2," Contacts Messaged : "),m.Wb(),m.Xb(3,"span",7),m.Xc(4),m.Wb(),m.Wb()),2&t){var n,i=m.ic().$implicit,a=m.ic();m.Db(4),m.Zc(" ",null==(n=a.campaignProgressMap.get(null==i?null:i.campaignId))?null:n.numberOfContactsMessaged," ")}}function cS(t,e){if(1&t&&(m.Xb(0,"p"),m.Xb(1,"span",17),m.Xc(2," Total Contacts : "),m.Wb(),m.Xb(3,"span",7),m.Xc(4),m.Wb(),m.Wb()),2&t){var n,i=m.ic().$implicit,a=m.ic();m.Db(4),m.Zc(" ",null==(n=a.campaignProgressMap.get(null==i?null:i.campaignId))?null:n.totalNumberOfContacts," ")}}function sS(t,e){if(1&t&&m.Sb(0,"nz-progress",21),2&t){var n=m.ic().$implicit,i=m.ic();m.rc("nzPercent",i.campaignProgressMap.get(null==n?null:n.campaignId).percentage)}}function lS(t,e){if(1&t&&(m.Xb(0,"div",3),m.Xb(1,"nz-card",16),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Xb(4,"h5",17),m.Xc(5," Campaign Name : "),m.Wb(),m.Xb(6,"h5",7),m.Xc(7),m.Wb(),m.Wb(),m.Sb(8,"br"),m.Xb(9,"div",18),m.Vc(10,oS,5,1,"p",19),m.Vc(11,rS,5,1,"p",19),m.Vc(12,cS,5,1,"p",19),m.Wb(),m.Xb(13,"div",4),m.Vc(14,sS,1,1,"nz-progress",20),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n,i=e.$implicit,a=m.ic();m.rc("nzSpan",8),m.Db(1),m.rc("nzHoverable",!0)("nzLoading",a.loadingDetails&&a.loadingProgress),m.Db(1),m.rc("nzGutter",64),m.Db(1),m.rc("nzSpan",24),m.Db(4),m.Zc(" ",null==(n=a.campaignDetailMap.get(null==i?null:i.campaignId))?null:n.name," "),m.Db(2),m.rc("nzSpan",12),m.Db(1),m.rc("ngIf",!a.loadingProgress),m.Db(1),m.rc("ngIf",!a.loadingProgress),m.Db(1),m.rc("ngIf",!a.loadingProgress),m.Db(1),m.rc("nzSpan",12),m.Db(1),m.rc("ngIf",!a.loadingProgress)}}function uS(t,e){if(1&t){var n=m.Yb();m.Xb(0,"tr"),m.Xb(1,"td"),m.Xc(2),m.Wb(),m.Xb(3,"td"),m.Xc(4),m.Wb(),m.Xb(5,"td"),m.Xc(6),m.Wb(),m.Xb(7,"td"),m.Xc(8),m.Wb(),m.Xb(9,"td"),m.Xc(10),m.Wb(),m.Xb(11,"td"),m.Xb(12,"app-icons",22),m.ec("click",function(){m.Lc(n);var t=e.$implicit;return m.ic().editCampaignSchedule(t)}),m.Wb(),m.Wb(),m.Wb()}if(2&t){var i,a,o=e.$implicit,r=m.ic();m.Db(2),m.Yc(null==(i=r.campaignDetailMap.get(null==o?null:o.campaignId))||null==i.contactList?null:i.contactList.name),m.Db(2),m.Yc(null==(a=r.campaignDetailMap.get(null==o?null:o.campaignId))?null:a.name),m.Db(2),m.Yc(o.campaignType),m.Db(2),m.Yc(o.episodeType),m.Db(2),m.Zc("",o.campaignSchedule.pushAfter," Days")}}function dS(t,e){if(1&t&&m.Sb(0,"nz-option",29),2&t){var n=e.$implicit;m.rc("nzLabel",n)("nzValue",n)}}function pS(t,e){if(1&t){var n=m.Yb();m.Vb(0),m.Xb(1,"div",0),m.Xb(2,"div",23),m.Xb(3,"div",24),m.Xb(4,"p",17),m.Xc(5," Push contact after "),m.Wb(),m.Xb(6,"nz-input-number",25),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().campaignSchedule.pushAfter=t}),m.Wb(),m.Wb(),m.Xb(7,"div",26),m.Xb(8,"p",17),m.Xc(9," Contact schedule type "),m.Wb(),m.Xb(10,"nz-select",27),m.ec("ngModelChange",function(t){return m.Lc(n),m.ic().campaignSchedule.scheduleType=t})("ngModelChange",function(t){return m.Lc(n),m.ic().onChange(t)}),m.Vc(11,dS,1,2,"nz-option",28),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Ub()}if(2&t){var i=m.ic();m.Db(6),m.rc("ngModel",i.campaignSchedule.pushAfter)("nzMin",1)("nzMax",30)("nzStep",1),m.Db(4),m.rc("ngModel",i.campaignSchedule.scheduleType),m.Db(1),m.rc("ngForOf",i.scheduleTypes)}}var bS=function(){return["CREATE_GENESYS_CAMPAIGN"]};function hS(t,e){if(1&t&&(m.Xb(0,"tr"),m.Xb(1,"td"),m.Xc(2),m.Wb(),m.Xb(3,"td",5),m.Xc(4),m.Wb(),m.Wb()),2&t){var n=e.$implicit;m.Db(2),m.Yc((null==n?null:n.code)||"N/A"),m.Db(2),m.Yc((null==n?null:n.name)||"N/A")}}var gS,fS,vS,mS,SS,yS,TS,CS,ES,IS,MS,AS,_S=[{path:"",pathMatch:"full",redirectTo:"/dashboard"},{path:"authorization",loadChildren:function(){return Promise.all([r.e(3),r.e(13)]).then(r.bind(null,"jfod")).then(function(t){return t.AuthorizationModule})}},{path:"analytics",loadChildren:function(){return Promise.all([r.e(2),r.e(1),r.e(5),r.e(8),r.e(11)]).then(r.bind(null,"MN0s")).then(function(t){return t.AnalyticsModule})}},{path:"billing",loadChildren:function(){return Promise.all([r.e(0),r.e(14)]).then(r.bind(null,"p6Zg")).then(function(t){return t.BillingModule})}},{path:"compliance",loadChildren:function(){return Promise.all([r.e(2),r.e(1),r.e(4),r.e(6),r.e(17)]).then(r.bind(null,"5bRv")).then(function(t){return t.ComplianceModule})}},{path:"insurance-payers",loadChildren:function(){return r.e(23).then(r.bind(null,"hsp1")).then(function(t){return t.InsuranceModule})}},{path:"diagnosis-codes",loadChildren:function(){return r.e(20).then(r.bind(null,"bCUR")).then(function(t){return t.DiagnosisCodesModule})}},{path:"dashboard",component:Id,data:{header:!1,title:"TITLE.HOME",searchEnabled:!1,primaryAction:{},secondaryAction:{},multiAction:{},enabled:!1,showTenantToggle:!0},canActivate:[Sc.a]},{path:"video-call/:patientId",component:ig,data:{privileges:[Cc.a.VIDEO_CALL]},canActivate:[Sc.a,gb.a]},{path:"video-call/:id",component:Id,canActivate:[Sc.a]},{path:"sites",loadChildren:function(){return r.e(29).then(r.bind(null,"QKQc")).then(function(t){return t.SiteModule})}},{path:"patient",loadChildren:function(){return Promise.all([r.e(2),r.e(1),r.e(3),r.e(4),r.e(6),r.e(5),r.e(8),r.e(9),r.e(10)]).then(r.bind(null,"AMsP")).then(function(t){return t.PatientModule})}},{path:"course",loadChildren:function(){return Promise.all([r.e(0),r.e(16)]).then(r.bind(null,"CDsc")).then(function(t){return t.CareplanModule})}},{path:"crm-settings",component:(fS=function(t){o(n,t);var e=c(n);function n(t,i,a,o,r){var c;return u(this,n),(c=e.call(this))._dataSharingService=t,c._genesysService=i,c.router=a,c._maodalService=o,c._subTenantToggleHelper=r,c.campaigns=[],c.alreadyAvailableCampaigns=new Set,c.campaignProgressMap=new Map,c.campaignDetailMap=new Map,c.campaignSchedule=new hm,c.scheduleTypes=Object.keys(gm),c.fetchCampaignProgress=function(t){return c._genesysService.fetchCampaignProgress(t)},c}return p(n,[{key:"ngOnInit",value:function(){var t=this;this.requestTenantId=this._subTenantToggleHelper.setRequestTenantId(),this.init(),this._dataSharingService.onSubTenantChange().pipe(Object(In.a)(this.unsubscribed)).subscribe(function(e){null!=e&&t.onSubTenantChange(e)})}},{key:"init",value:function(){var t=this;this.loadingProgress=!0,this.loadingDetails=!0,this.isTenantCrmConfigLoading=!0,this._dataSharingService.assignedTenantSettings.pipe(Object(In.a)(this.unsubscribed)).subscribe(function(e){e&&0!=e.size&&(t.tenantConfig=e.get(t.requestTenantId),t.fetchCampaignDetails())})}},{key:"fetchCampaignDetails",value:function(){var t,e,n,i,a,o=this,r=new Array,c=new Array;this.isTenantCrmConfigLoading=!1,this.tenantConfig&&null!=this.tenantConfig.crmConfig&&null!=this.tenantConfig.crmConfig.campaigns&&null!=(null===(t=this.tenantConfig.crmConfig.campaigns[0])||void 0===t?void 0:t.contactLists)&&this.tenantConfig.crmConfig.campaigns.forEach(function(t){r.push(o.fetchCampaignProgress(t.campaignId)),c.push(o._genesysService.fetchCampaignById(t.campaignId))}),null===(n=null===(e=this.tenantConfig)||void 0===e?void 0:e.crmConfig)||void 0===n||n.campaigns.forEach(function(t){r.push(o.fetchCampaignProgress(t.campaignId))}),this.campaigns=null===(a=null===(i=this.tenantConfig)||void 0===i?void 0:i.crmConfig)||void 0===a?void 0:a.campaigns,Object(Pf.a)(r).subscribe(function(t){t.forEach(function(t){o.campaignProgressMap.set(t.campaign.id,t),o.loadingProgress=!1})},function(t){console.log("Error fork join",t)}),Object(Pf.a)(c).subscribe(function(t){t.forEach(function(t){o.campaignDetailMap.set(t.id,t),o.loadingDetails=!1})})}},{key:"updateWrapUpCodeMapping",value:function(){var t=this;this.wrapUpCodeListUpdating=!0,this._genesysService.updateWrapUpCodeMapping().subscribe(function(e){t.wrapUpCodeListUpdating=!1})}},{key:"onSubTenantChange",value:function(t){"object"!=typeof t||""==t||null==t||null==t||(this.requestTenantId=t),this.init()}},{key:"createCampaign",value:function(){var t,e,n=this;this._maodalService.create({nzContent:iS,nzMaskClosable:!0,nzClosable:!0,nzFooter:null,nzTitle:"Create new campign",nzComponentParams:{tenantId:null===(t=this.tenantConfig)||void 0===t?void 0:t.tenantId,tenantName:null===(e=this.tenantConfig)||void 0===e?void 0:e.tenantName,alreadyAvailableCampaigns:new Set},nzWidth:900}).afterClose.subscribe(function(){n.ngOnInit()})}},{key:"editCampaignSchedule",value:function(t){this.campaignSchedule=t.campaignSchedule,this.scheduleEditCampaignId=t.campaignId,this.showScheduleEditModal=!0}},{key:"handleOk",value:function(){var t=this;this._genesysService.updateCampaignSchedule(this.campaignSchedule,this.scheduleEditCampaignId).subscribe(function(e){t.showScheduleEditModal=!1})}},{key:"handleCancel",value:function(){this.showScheduleEditModal=!1}},{key:"uploadExistingContactList",value:function(){this.router.navigate(["leads/lead-contact-bulk-upload"])}}]),n}(Ec.a),fS.\u0275fac=function(t){return new(t||fS)(m.Rb(k.a),m.Rb(um.a),m.Rb(y.g),m.Rb(q.f),m.Rb(Yv.a))},fS.\u0275cmp=m.Lb({type:fS,selectors:[["app-genesys"]],features:[m.Ab],decls:50,vars:26,consts:[[1,"container"],["title","Genesys","defaultTitle","Genesys",3,"isSearchEnabled","isSecondaryActionEnabled","isActionEnabled"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],["nz-col","",2,"text-align","center",3,"nzSpan"],["nz-button","","nzType","primary",3,"nzLoading","click"],["nz-col","",2,"text-align","right",3,"nzSpan"],["nz-typography","","nzType","primary"],["nz-button","","nzType","primary",3,"click",4,"isFeaturePermitted"],["nz-col","",3,"nzSpan",4,"ngFor","ngForOf"],[3,"nzData"],["basicTable",""],[4,"ngFor","ngForOf"],["nzTitle","Campaign Schedule",3,"nzVisible","nzVisibleChange","nzOnCancel","nzOnOk"],[4,"nzModalContent"],["nz-button","","nzType","primary",3,"click"],[2,"width","100%","margin-top","20px","margin-bottom","20px",3,"nzHoverable","nzLoading"],["nz-typography","","nzType","secondary"],["nz-col","",2,"display","flex","flex-direction","column","margin-top","20px",3,"nzSpan"],[4,"ngIf"],["nzType","circle",3,"nzPercent",4,"ngIf"],["nzType","circle",3,"nzPercent"],["name","edit","size","22px",3,"click"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","12",2,"width","100%"],[3,"ngModel","nzMin","nzMax","nzStep","ngModelChange"],["nz-col","","nzSpan","12"],["nzPlaceHolder","Please select campaign type","nzDisabled","",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Sb(1,"app-header",1),m.Xb(2,"div",0),m.Xb(3,"div",2),m.Xb(4,"div",3),m.Xc(5," Upload existing contact list "),m.Wb(),m.Xb(6,"div",4),m.Xb(7,"button",5),m.ec("click",function(){return e.uploadExistingContactList()}),m.Xc(8," Upload existing contact list "),m.Wb(),m.Wb(),m.Xb(9,"div",3),m.Xc(10," Update Wrap-up code List "),m.Wb(),m.Xb(11,"div",6),m.Xb(12,"button",5),m.ec("click",function(){return e.updateWrapUpCodeMapping()}),m.Xc(13," Update Wrap-up code List "),m.Wb(),m.Wb(),m.Sb(14,"nz-divider"),m.Wb(),m.Wb(),m.Xb(15,"div",2),m.Xb(16,"div",3),m.Xb(17,"h3",7),m.Xc(18,"Campaigns"),m.Wb(),m.Wb(),m.Xb(19,"div",6),m.Vc(20,aS,2,0,"button",8),m.Wb(),m.Wb(),m.Xb(21,"div",2),m.Vc(22,lS,15,12,"div",9),m.Wb(),m.Xb(23,"div",2),m.Xb(24,"div",3),m.Xb(25,"h3",7),m.Xc(26,"Contact Lists"),m.Wb(),m.Wb(),m.Xb(27,"div",3),m.Xb(28,"nz-table",10,11),m.Xb(30,"thead"),m.Xb(31,"tr"),m.Xb(32,"th"),m.Xc(33,"Name"),m.Wb(),m.Xb(34,"th"),m.Xc(35,"Campaign Name"),m.Wb(),m.Xb(36,"th"),m.Xc(37,"Campaign Type"),m.Wb(),m.Xb(38,"th"),m.Xc(39,"Episode Type"),m.Wb(),m.Xb(40,"th"),m.Xc(41,"Push Contact after"),m.Wb(),m.Xb(42,"th"),m.Xc(43),m.jc(44,"translate"),m.Wb(),m.Wb(),m.Wb(),m.Xb(45,"tbody"),m.Vc(46,uS,13,5,"tr",12),m.Wb(),m.Wb(),m.Wb(),m.Sb(47,"nz-divider"),m.Wb(),m.Wb(),m.Xb(48,"nz-modal",13),m.ec("nzVisibleChange",function(t){return e.showScheduleEditModal=t})("nzOnCancel",function(){return e.handleCancel()})("nzOnOk",function(){return e.handleOk()}),m.Vc(49,pS,12,6,"ng-container",14),m.Wb()),2&t){var n=m.Ic(29);m.Db(1),m.rc("isSearchEnabled",!1)("isSecondaryActionEnabled",!1)("isActionEnabled",!1),m.Db(2),m.rc("nzGutter",64),m.Db(1),m.rc("nzSpan",8),m.Db(2),m.rc("nzSpan",4),m.Db(1),m.rc("nzLoading",e.contactListUpdating),m.Db(2),m.rc("nzSpan",8),m.Db(2),m.rc("nzSpan",4),m.Db(1),m.rc("nzLoading",e.wrapUpCodeListUpdating),m.Db(3),m.rc("nzGutter",64),m.Db(1),m.rc("nzSpan",18),m.Db(3),m.rc("nzSpan",6),m.Db(1),m.rc("isFeaturePermitted",m.xc(25,bS)),m.Db(1),m.rc("nzGutter",32),m.Db(1),m.rc("ngForOf",null==e.tenantConfig||null==e.tenantConfig.crmConfig?null:e.tenantConfig.crmConfig.campaigns),m.Db(1),m.rc("nzGutter",64),m.Db(1),m.rc("nzSpan",18),m.Db(3),m.rc("nzSpan",24),m.Db(1),m.rc("nzData",e.campaigns),m.Db(15),m.Yc(m.kc(44,23,"TABLEHEADER.ACTIONS")),m.Db(3),m.rc("ngForOf",null==n?null:n.data),m.Db(2),m.rc("nzVisible",e.showScheduleEditModal)}},directives:[ep.a,J.c,J.a,tt.a,et.a,nt.a,K.a,Q.a,jn.a,E.p,at.f,at.n,at.o,at.e,at.l,at.i,q.a,q.b,Tt.a,E.q,Jc.a,Ct.a,Mm.a,I.u,I.x,it.d,it.a],pipes:[rt.a],styles:[""]}),fS),data:{showTenantToggle:!0,subTenantToggleMode:"SINGLE"},canActivate:[Sc.a,gb.a]},{path:"crm/genesys/wrap-up-code",component:(gS=function(){function t(e){u(this,t),this._genessysService=e,this.pageIndex=1}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.loadingCodes=!0,this._genessysService.getWrapUpCodes().subscribe({next:function(e){t.wrapUpCodes=e,t.loadingCodes=!1}})}}]),t}(),gS.\u0275fac=function(t){return new(t||gS)(m.Rb(um.a))},gS.\u0275cmp=m.Lb({type:gS,selectors:[["app-wrap-up-code-mapping"]],decls:12,vars:8,consts:[[1,"container"],["nz-row","",3,"nzGutter"],["nz-col","",3,"nzSpan"],[3,"nzFrontPagination","nzPageSize","nzPageIndex","nzData","nzLoading"],[4,"ngFor","ngForOf"],[1,"char-bound-field"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"nz-table",3),m.Xb(4,"thead"),m.Xb(5,"tr"),m.Xb(6,"th"),m.Xc(7,"Code"),m.Wb(),m.Xb(8,"th"),m.Xc(9,"Message"),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"tbody"),m.Vc(11,hS,5,2,"tr",4),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t&&(m.Db(1),m.rc("nzGutter",64),m.Db(1),m.rc("nzSpan",24),m.Db(1),m.rc("nzFrontPagination",!0)("nzPageSize",10)("nzPageIndex",e.pageIndex)("nzData",e.wrapUpCodes)("nzLoading",e.loadingCodes),m.Db(8),m.rc("ngForOf",e.wrapUpCodes))},directives:[J.c,J.a,at.f,at.n,at.o,at.e,at.l,at.i,E.p],styles:[""]}),gS),canActivate:[Sc.a,gb.a]},{path:"careplan-templates",component:Ud,data:Lg,canActivate:[Sc.a,gb.a]},{path:"portalSetting",loadChildren:function(){return Promise.all([r.e(3),r.e(0),r.e(28)]).then(r.bind(null,"7wo0")).then(function(t){return t.SettingsModule})}},{path:"course-contents",loadChildren:function(){return Promise.all([r.e(0),r.e(18)]).then(r.bind(null,"Is6J")).then(function(t){return t.CourseContentModule})}},{path:"vital-blueprints",loadChildren:function(){return r.e(33).then(r.bind(null,"ANCJ")).then(function(t){return t.VitalBlueprintsModule})}},{path:"tags",component:$d,data:Wg.Listing,canActivate:[Sc.a,gb.a]},{path:"tags/edit/:id",component:dp,data:{privileges:[Cc.a.VIEW_TAG,Cc.a.ADD_EDIT_TAG]},canActivate:[Sc.a,gb.a]},{path:"tags/add",component:dp,data:{privileges:[Cc.a.ADD_EDIT_TAG]},canActivate:[Sc.a,gb.a]},{path:"forms",loadChildren:function(){return Promise.all([r.e(1),r.e(22)]).then(r.bind(null,"TGKT")).then(function(t){return t.FormNewModule})},data:{privileges:[Cc.a.VIEW_FORM]},canActivate:[Sc.a,gb.a]},{path:"staff",loadChildren:function(){return Promise.all([r.e(3),r.e(4),r.e(5),r.e(9),r.e(0),r.e(30)]).then(r.bind(null,"kanD")).then(function(t){return t.StaffModule})},canActivate:[Sc.a,gb.a]},{path:"cplanassignments",component:Ip,data:Xg,canActivate:[Sc.a,gb.a]},{path:"careplans/details",component:hb,data:{privileges:[Cc.a.VIEW_CAREPLAN]},canActivate:[Sc.a,gb.a]},{path:"careplanassignments/patient/:id/actionitems",component:tb,canActivate:[Sc.a],data:{privileges:[Cc.a.ASSIGN_CARE_PLAN]}},{path:"pcc/callback",component:mp,canActivate:[Sc.a,gb.a]},{path:"leads",loadChildren:function(){return Promise.all([r.e(2),r.e(1),r.e(3),r.e(4),r.e(6),r.e(5),r.e(8),r.e(9),r.e(10),r.e(0),r.e(24)]).then(r.bind(null,"D4zX")).then(function(t){return t.LeadsModule})}},{path:"support",loadChildren:function(){return Promise.resolve().then(r.bind(null,"ZlwT")).then(function(t){return t.SupportModule})},canActivate:[Sc.a]},{path:"appointments/calendar",component:zb,canActivate:[Sc.a,gb.a]},{path:"appointments",loadChildren:function(){return Promise.all([r.e(0),r.e(12)]).then(r.bind(null,"MCT3")).then(function(t){return t.AppointmentsModule})}},{path:"settings",loadChildren:function(){return Promise.all([r.e(3),r.e(0),r.e(28)]).then(r.bind(null,"7wo0")).then(function(t){return t.SettingsModule})}},{path:"patients-without-caretakers",component:lb,data:{privileges:[Cc.a.VIEW_PATIENT]},canActivate:[Sc.a,gb.a]},{path:"episodes",loadChildren:function(){return Promise.all([r.e(2),r.e(1),r.e(4),r.e(6)]).then(r.bind(null,"ttvE")).then(function(t){return t.EpisodesModule})}},{path:"insights",component:lg,canActivate:[Sc.a,gb.a]},{path:"form",loadChildren:function(){return Promise.all([r.e(1),r.e(22)]).then(r.bind(null,"TGKT")).then(function(t){return t.FormNewModule})},canActivate:[Sc.a,gb.a]},{path:"templates",loadChildren:function(){return Promise.resolve().then(r.bind(null,"Y+n1")).then(function(t){return t.TemplatesModule})},canActivate:[Sc.a,gb.a]},{path:"sms-templates",component:Pg,data:wg,canActivate:[Sc.a,gb.a]},{path:"send-sms",component:Rg.a,canActivate:[Sc.a,gb.a]},{path:"devices/bulk-assign",component:xg,canActivate:[Sc.a,gb.a]},{path:"forbidden",component:Ug},{path:"bulk/assign/monitoring-staff",component:Nf,data:{showTenantToggle:!0,subTenantToggleMode:"MULTI"},canActivate:[Sc.a,gb.a]},{path:"disable/staff/:roleType/:staffId",component:Qf,data:{header:!0,title:"Disable Monitoring Staff",searchEnabled:!1,primaryAction:{title:"Disable Profile",permissions:[],enabled:!0},multiAction:{},privileges:[]},canActivate:[Sc.a,gb.a]},{path:"device-order",loadChildren:function(){return r.e(19).then(r.bind(null,"IYBh")).then(function(t){return t.DeviceOrderModule})},canActivate:[Sc.a,gb.a,Kf]},{path:"alerts",component:Bv,data:{showTenantToggle:!0,subTenantToggleMode:"MULTI"},canActivate:[Sc.a,gb.a]},{path:"alerts/configuration",component:lm,data:{showTenantToggle:!0,subTenantToggleMode:"SINGLE"},canActivate:[Sc.a,gb.a]}],DS=((vS=function t(){u(this,t)}).\u0275mod=m.Pb({type:vS}),vS.\u0275inj=m.Ob({factory:function(t){return new(t||vS)},imports:[[y.k.forRoot(_S,{relativeLinkResolution:"legacy",scrollPositionRestoration:"top",anchorScrolling:"enabled"})],y.k]}),vS),zS=r("R1ws"),OS=((mS=function(){function t(e){u(this,t),this._http=e,this.rootUrl=mt.g.url}return p(t,[{key:"getAllServices",value:function(){var t=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/services/tenants/"+t)}},{key:"getServiceCategoriesForTenant",value:function(){var t=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/services/categories/tenant/"+t)}},{key:"getAllServiceCategories",value:function(){var t=localStorage.getItem("loggedInTenant");return this._http.get(this.rootUrl+"/v2/services/categiories/tenants/"+t)}},{key:"getServicesForCategory",value:function(t){return this._http.get(this.rootUrl+"/v2/services/categories/"+t)}},{key:"createServiceCategory",value:function(t){return this._http.post(this.rootUrl+"/v2/services/categories",JSON.stringify(t))}},{key:"createService",value:function(t){return this._http.post(this.rootUrl+"/v2/services",JSON.stringify(t))}},{key:"removeServiceById",value:function(t){return this._http.delete(this.rootUrl+"/v2/services/"+t)}}]),t}()).\u0275fac=function(t){return new(t||mS)(m.bc(C.c))},mS.\u0275prov=m.Nb({token:mS,factory:mS.\u0275fac}),mS),kS=r("FbN+"),NS=((ES=function(){function t(e){u(this,t),this.http=e,this.rootUrl=mt.g.url}return p(t,[{key:"uploadFile",value:function(t){var e=new C.g({bypass:"yes"}),n=new FormData;return n.append(t.name,t.file),this.http.post(this.rootUrl+"/v2/media/upload/"+t.file.name,n,{headers:e})}}]),t}()).\u0275fac=function(t){return new(t||ES)(m.bc(C.c))},ES.\u0275prov=m.Nb({token:ES,factory:ES.\u0275fac,providedIn:"root"}),ES),PS=((CS=function(){function t(e){u(this,t),this._notificationService=e}return p(t,[{key:"handle",value:function(t){var e=this;null==t||t.forEach(function(t){e._notificationService.error("Validation Error",t.reason)})}}]),t}()).\u0275fac=function(t){return new(t||CS)(m.bc(Z.b))},CS.\u0275prov=m.Nb({token:CS,factory:CS.\u0275fac,providedIn:"root"}),CS),RS=((TS=function(e){o(i,e);var n=c(i);function i(t,e,a){var o;return u(this,i),(o=n.call(this))._applicationInsightsService=t,o._ngProgress=e,o._validationErrorHandler=a,o}return p(i,[{key:"handleError",value:function(e){var n,a,o;"VALIDATION_PROBLEM"===(null===(n=null==e?void 0:e.error)||void 0===n?void 0:n.type)&&this._validationErrorHandler.handle(null===(a=null==e?void 0:e.error)||void 0===a?void 0:a.invalidParams),this._applicationInsightsService.handleError(e),null===(o=this._ngProgress.ref())||void 0===o||o.complete(),t(l(i.prototype),"handleError",this).call(this,e)}}]),i}(m.m)).\u0275fac=function(t){return new(t||TS)(m.bc(Yt.a),m.bc(Ye.a),m.bc(PS))},TS.\u0275prov=m.Nb({token:TS,factory:TS.\u0275fac,providedIn:"root"}),TS),XS=((yS=function(){function t(){u(this,t)}return p(t,[{key:"intercept",value:function(t,e){var n,i,a=localStorage.getItem("sessionToken"),o=localStorage.getItem("loggedInTenant"),r=localStorage.getItem("loggedInUser"),c=localStorage.getItem("language"),s=null===(i=null===(n=null===Intl||void 0===Intl?void 0:Intl.DateTimeFormat())||void 0===n?void 0:n.resolvedOptions())||void 0===i?void 0:i.timeZone,l=localStorage.getItem(Qc.a.REQUEST_TENANT_TEMP_IDS);if(null!=l&&null!=l&&"undefined"!=l&&"null"!=l||(l=localStorage.getItem(Qc.a.REQUEST_TENANT_IDS)),!t.headers.has("bypass")){"PATCH"==(t=t.clone({headers:t.headers.set("Accept","application/json")})).method&&t.headers.has("patch_json")&&(t=t.clone({headers:t.headers.set("Content-Type","application/json-patch+json")})),a&&(t=t.clone({headers:t.headers.set("x-timezone-id",s)})),a&&(t=t.clone({headers:t.headers.set("x-auth-token",a)})),o&&(t=t.clone({headers:t.headers.set("tenant-id",o)})),r&&(t=t.clone({headers:t.headers.set("user-id",r)})),c&&(t=t.clone({headers:t.headers.set("Accept-Language",c)}));var u=t.params.get(Qc.a.REQUEST_TENANT_IDS);null!=u&&null!=u&&"undefined"!=u&&"null"!=u||l&&(t=t.clone({params:t.params.set(Qc.a.REQUEST_TENANT_IDS,l)})),(t=(t=(t=t.clone({headers:t.headers.set("platform","WEB")})).clone({headers:t.headers.set("Entity-Type","WEB")})).clone({headers:t.headers.set("Entity-Name","PARTNER-PORTAL-WEB")})).headers.has("Content-Type")||(t=t.clone({headers:t.headers.set("Content-Type","application/json")}))}return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||yS)},yS.\u0275prov=m.Nb({token:yS,factory:yS.\u0275fac}),yS),LS=((SS=function t(e){u(this,t),this.translationService=e,e.setLanguage()}).\u0275mod=m.Pb({type:SS}),SS.\u0275inj=m.Ob({factory:function(t){return new(t||SS)(m.bc(Jt.a))},providers:[rt.a],imports:[[E.c,_.a,M.a,A.a.forRoot()]]}),SS),wS=r("L/mj"),WS=r("0wl5"),VS=r("+H4W"),xS=r("vLqr"),US=r("rNzc"),FS=r("6aLS"),HS=r("Dxa7"),BS=r("jYVc"),jS=((IS=function(){function t(e,n,i){u(this,t),this._authorizationService=e,this._router=n,this._progress=i,this.isRefreshing=!1,this.refreshTokenSubject=new Ke.BehaviorSubject(null),this.loginURL=mt.g.url+"/v3/auth/grant-type/user-credentials",this.appInsightsURL="https://dc.services.visualstudio.com/v2/track"}return p(t,[{key:"intercept",value:function(t,e){var n=this;if(t.headers.has("bypass"))return t=t.clone({headers:t.headers.delete("bypass")}),e.handle(t);var i=localStorage.getItem("accessToken");return this.appInsightsURL===t.url?e.handle(t):(i&&(t=this.addTokenToRequest(t,i)),e.handle(t).pipe(Object(US.catchError)(function(i){return i instanceof C.e&&401===i.status&&t.url!==n.loginURL?n.handle401Error(t,e):(n._progress.ref().complete(),Object(xS.throwError)(i))})))}},{key:"addTokenToRequest",value:function(t,e){return t.clone({setHeaders:{Authorization:"Bearer ".concat(e)}})}},{key:"handle401Error",value:function(t,e){var n=this;return this.isRefreshing?this.refreshTokenSubject.pipe(Object(Hd.filter)(function(t){return null!=t}),Object(HS.take)(1),Object(FS.switchMap)(function(i){return e.handle(n.addTokenToRequest(t,i))})):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this._authorizationService.refreshAccessToken().pipe(Object(FS.switchMap)(function(i){return n.persistNewTokensData(i),n.isRefreshing=!1,n.refreshTokenSubject.next(null==i?void 0:i.accessToken),e.handle(n.addTokenToRequest(t,null==i?void 0:i.accessToken))}),Object(US.catchError)(function(t){return localStorage.getItem("accessToken")&&n._router.navigate(["authorization/logout"]),n._progress.ref().complete(),Object(xS.throwError)(t)})))}},{key:"persistNewTokensData",value:function(t){var e=t.accessToken,n=t.refreshToken;localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",n)}}]),t}()).\u0275fac=function(t){return new(t||IS)(m.bc(BS.a),m.bc(y.g),m.bc(Ye.a))},IS.\u0275prov=m.Nb({token:IS,factory:IS.\u0275fac}),IS),GS=r("29Mf"),YS=r("Dm2S"),qS=r("q+jA"),ZS=r("yob6"),QS=r("0aW0"),KS=r("74vj"),JS=r("oYoK"),$S=function(){var t=function t(){u(this,t)};return t.SOURCE="source",t.SEARCH_KEY="search_key",t.STAFF_USER_ID="staff_user_id",t.PARAMETER="parameter",t.ACTION_NAME="action_name",t.PATIENT_ID="patient_id",t.STAFF_ACTION="STAFF_ACTION",t.STAFF_ADD="STAFF_ADD",t.STAFF_SEARCH="STAFF_SEARCH",t.STAFF_PATIENT_ACTION="STAFF_PATIENT_ACTION",t}(),ty=((MS=function(t){o(n,t);var e=c(n);function n(){var t;return u(this,n),(t=e.call(this)).SOURCE="staff",t}return p(n,[{key:"staffActionEvent",value:function(t,e){var n=this.getCommonProperties();n[$S.SOURCE]=this.SOURCE,n[$S.STAFF_USER_ID]=t,n[$S.ACTION_NAME]=e,this.logEvent($S.STAFF_ACTION,n)}},{key:"staffPatientActionEvent",value:function(t,e,n){var i=this.getCommonProperties();i[$S.SOURCE]=this.SOURCE,i[$S.STAFF_USER_ID]=t,i[$S.ACTION_NAME]=n,i[$S.PATIENT_ID]=e,this.logEvent($S.STAFF_PATIENT_ACTION,i)}},{key:"staffSearchEvent",value:function(t){var e=this.getCommonProperties();e[$S.SEARCH_KEY]=t,e[$S.SOURCE]=this.SOURCE,this.logEvent($S.STAFF_SEARCH,e)}},{key:"staffAddEvent",value:function(t){var e=this.getCommonProperties();e[$S.SOURCE]=this.SOURCE,e[$S.PARAMETER]=t,this.logEvent($S.STAFF_ADD,e)}}]),n}(Yt.a)).\u0275fac=function(t){return new(t||MS)},MS.\u0275prov=m.Nb({token:MS,factory:MS.\u0275fac,providedIn:"root"}),MS),ey=r("a6m8"),ny=r("ubvD"),iy=r("dh1a"),ay=r("2Suw"),oy={notification:{nzPlacement:"bottomRight"}},ry=((AS=function(){function t(e){u(this,t),this.injector=e}return p(t,[{key:"ngDoBootstrap",value:function(t){ny.a.setInjector(this.injector),t.bootstrap(pc)}}]),t}()).\u0275mod=m.Pb({type:AS}),AS.\u0275inj=m.Ob({factory:function(t){return new(t||AS)(m.bc(m.s))},providers:[{provide:m.m,useClass:RS},{provide:C.a,useClass:XS,multi:!0},{provide:C.a,useClass:jS,multi:!0},{provide:y.f,useClass:S},{provide:ay.a,useValue:oy},T.a,mc.a,Md.a,$o.a,Sc.a,Gt.a,Mp.a,yc.a,Fd.a,OS,kS.a,NS,GS.a,KS.a,JS.a,Ad.a,YS.a,qS.a,ZS.a,Ou.a,QS.a,ty,ey.a,E.e],imports:[[A.a,_.a,y.k,hc.a,zS.b,vc,s.a,I.o,I.B,Tc.a.forRoot({apiKey:"AIzaSyCkujBUnFmDto5Ui2EKj4AcpWXMrizEDRc",libraries:["places"]}),C.d,DS,Ye.c,VS.a.withConfig({silentApis:["".concat(f,"/v3/auth/grant-type/refresh-token"),"".concat(f,"/v3/auth/security-token/invalidate"),"".concat(f,"/v3/auth/grant-type/user-credentials"),"".concat(f,"/v3/staff-sessions"),"".concat(f,"/v3/staff-sessions/update-state"),"https://dc.services.visualstudio.com/v2/track"]}),M.a,jt.d.forRoot(),D,bc.a,LS,mb.b.forRoot({provide:mb.f,useFactory:wS.a}),M.a,wu.f,WS.a,b.SupportModule,d.TemplatesModule,$e.a.forRoot()],y.k,I.o,I.B,A.a,iy.a]}),AS);mt.g.production&&Object(m.V)(),s.d().bootstrapModule(ry).catch(function(t){return console.log(t)})},zgU5:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("igu/"),a=n("4RGM"),o=n("fXoL"),r=function(){var t=function(){function t(e){u(this,t),this._dataSharingService=e}return p(t,[{key:"getRequestTenantId",value:function(){var t,e;return null!=localStorage.getItem(a.a.REQUEST_TENANT_IDS)&&null!=localStorage.getItem(a.a.REQUEST_TENANT_IDS)&&""!=localStorage.getItem(a.a.REQUEST_TENANT_IDS)?null===(t=localStorage.getItem(a.a.REQUEST_TENANT_IDS))||void 0===t?void 0:t.split(",")[0]:null===(e=localStorage.getItem(a.a.LOGGED_IN_USER_ASSIGNED_TENANTS))||void 0===e?void 0:e.split(",")[0]}},{key:"setRequestTenantId",value:function(){var t=this.getRequestTenantId();return this._dataSharingService.setSubTenant(t),t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.bc(i.a))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,7,32]]])}();