!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function i(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&o(e,n)}function o(e,n){return(o=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function a(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var t,i=r(e);if(n){var o=r(this).constructor;t=Reflect.construct(i,arguments,o)}else t=i.apply(this,arguments);return l(this,t)}}function l(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,n,t){return n&&s(e.prototype,n),t&&s(e,t),e}function u(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"7wo0":function(t,o,l){"use strict";l.r(o),l.d(o,"SettingsModule",function(){return An});var r,s=l("KZX/"),d=l("ofXK"),p=l("tyNb"),b=l("qQcL"),g=l("b1TM"),f=l("AytR"),v=l("WoUL"),h=l("0aW0"),E=l("tk/3"),m=l("pLZG"),C=l("1G5W"),S=l("nLCl"),A=l("NFKh"),T=function e(){u(this,e),this.directMailEnabled=!1},M=l("igu/"),_=l("fXoL"),y=l("bNXi"),I=l("B+r4"),D=l("eHCX"),N=l("D9mS"),z=l("glKu"),L=l("nJia"),P=l("PTRe"),O=l("3Pt+"),R=l("TaO5"),X=l("+Tzo"),W=l("Nqz0"),w=l("Q8cG"),x=l("zAKX"),k=l("5vDB"),V=l("C2AL"),U=((r=function(){function e(){u(this,e)}return c(e,[{key:"transform",value:function(e,n,t){return null==e?void 0:e.replace(n,t)}}]),e}()).\u0275fac=function(e){return new(e||r)},r.\u0275pipe=_.Qb({name:"keyValueUpdate",type:r,pure:!0}),r);function F(e,n){if(1&e&&_.Sb(0,"app-icons",19),2&e){_.ic();var t=_.Ic(5);_.rc("nzDropdownMenu",t)}}function G(e,n){if(1&e){var t=_.Yb();_.Xb(0,"li",20),_.ec("click",function(){_.Lc(t);var e=n.$implicit;return _.ic().addNewTypeConfig(e)}),_.Xb(1,"a"),_.Xc(2),_.jc(3,"titlecase"),_.jc(4,"keyValueUpdate"),_.Wb(),_.Wb()}if(2&e){var i=n.$implicit;_.Db(2),_.Yc(_.kc(3,1,_.mc(4,3,i,"_"," ")))}}function H(e,n){if(1&e&&_.Sb(0,"nz-option",30),2&e){var t=n.$implicit;_.rc("nzLabel",t)("nzValue",t)}}var q=function(){return[16,16]};function j(e,n){if(1&e){var t=_.Yb();_.Vb(0),_.Xb(1,"h4"),_.Xb(2,"strong"),_.Xc(3),_.jc(4,"titlecase"),_.jc(5,"keyValueUpdate"),_.Wb(),_.Xc(6," \xa0 "),_.Xb(7,"app-icons",21),_.ec("click",function(){_.Lc(t);var e=n.$implicit;return _.ic().deleteTypeConfig(e.key)}),_.Wb(),_.Wb(),_.Xb(8,"span"),_.Xb(9,"label",22),_.ec("ngModelChange",function(e){return n.$implicit.value.default=e})("ngModelChange",function(){_.Lc(t);var e=n.$implicit;return _.ic().clearDefault(null==e?null:e.key)}),_.Xc(10," Mark as default "),_.Wb(),_.Wb(),_.Sb(11,"br"),_.Xb(12,"div",5),_.Xb(13,"div",23),_.Xb(14,"label",7),_.Xc(15," Destinations "),_.Wb(),_.Xb(16,"nz-select",24),_.ec("ngModelChange",function(e){return n.$implicit.value.destinations=e}),_.Vc(17,H,1,2,"nz-option",25),_.Wb(),_.Wb(),_.Xb(18,"div",26),_.Xb(19,"label",7),_.Xc(20," Source ID "),_.Wb(),_.Xb(21,"input",27),_.ec("ngModelChange",function(e){return n.$implicit.value.sourceId=e}),_.Wb(),_.Wb(),_.Xb(22,"div",26),_.Xb(23,"label",7),_.Xc(24," Facility Code "),_.Wb(),_.Xb(25,"input",28),_.ec("ngModelChange",function(e){return n.$implicit.value.facilityCode=e}),_.Wb(),_.Wb(),_.Xb(26,"div",26),_.Xb(27,"label",7),_.Xc(28," Event Type "),_.Wb(),_.Xb(29,"input",29),_.ec("ngModelChange",function(e){return n.$implicit.value.eventType=e}),_.Wb(),_.Wb(),_.Wb(),_.Sb(30,"nz-divider"),_.Ub()}if(2&e){var i=n.$implicit;_.Db(3),_.Yc(_.kc(4,8,_.mc(5,10,null==i?null:i.key,"_"," "))),_.Db(6),_.rc("ngModel",i.value.default),_.Db(3),_.rc("nzGutter",_.xc(14,q)),_.Db(4),_.rc("ngModel",i.value.destinations),_.Db(1),_.rc("ngForOf",i.value.destinations),_.Db(4),_.rc("ngModel",i.value.sourceId),_.Db(4),_.rc("ngModel",i.value.facilityCode),_.Db(4),_.rc("ngModel",i.value.eventType)}}function B(e,n){if(1&e){var t=_.Yb();_.Xb(0,"div",10),_.Xb(1,"label",7),_.Xc(2," Repeat Type "),_.Wb(),_.Xb(3,"nz-select",31),_.ec("ngModelChange",function(e){return _.Lc(t),_.ic().redoxConfig.observationConfig.pushFrequency.type=e}),_.Sb(4,"nz-option",12),_.Sb(5,"nz-option",12),_.Sb(6,"nz-option",12),_.Wb(),_.Wb()}if(2&e){var i=_.ic();_.Db(3),_.rc("ngModel",i.redoxConfig.observationConfig.pushFrequency.type),_.Db(1),_.rc("nzValue","DAILY")("nzLabel","Days"),_.Db(1),_.rc("nzValue","WEEKLY")("nzLabel","Weekly, On days"),_.Db(1),_.rc("nzValue","MONTHLY")("nzLabel","Monthly (End of Month)")}}function Y(e,n){if(1&e){var t=_.Yb();_.Vb(0),_.Sb(1,"br"),_.Xb(2,"div",5),_.Xb(3,"div",32),_.Xb(4,"label",7),_.Xc(5," Repeats On "),_.Wb(),_.Sb(6,"br"),_.Sb(7,"br"),_.Xb(8,"nz-checkbox-group",33),_.ec("ngModelChange",function(e){return _.Lc(t),_.ic().observationToBePushedOnDays=e})("ngModelChange",function(){_.Lc(t);var e=_.ic();return e.setObservationToBePushedOnDays(e.observationToBePushedOnDays)}),_.Wb(),_.Wb(),_.Wb(),_.Ub()}if(2&e){var i=_.ic();_.Db(2),_.rc("nzGutter",_.xc(2,q)),_.Db(6),_.rc("ngModel",i.observationToBePushedOnDays)}}var $,Z=(($=function(){function e(n){u(this,e),this._titleCasePipe=n}return c(e,[{key:"redoxConfigData",set:function(e){var n,t,i,o,a,l,r=this;this.redoxConfig=e,this.redoxMessageTypes=[],this.redoxMessageTypes=Object.keys(X.b),this.redoxMessageTypes=this.redoxMessageTypes.filter(function(n){return!(null==e?void 0:e.configs[n])}),(null==e?void 0:e.observationConfig)||(e.observationConfig=new X.c),(null===(n=null==e?void 0:e.observationConfig)||void 0===n?void 0:n.pushFrequency)||(e.observationConfig.pushFrequency=new X.d),(null===(i=null===(t=null==e?void 0:e.observationConfig)||void 0===t?void 0:t.pushFrequency)||void 0===i?void 0:i.repeatOn)||(e.observationConfig.pushFrequency.repeatOn=new X.a),this.observationToBePushedOnDays=[],null===(l=Object.keys(null===(a=null===(o=null==e?void 0:e.observationConfig)||void 0===o?void 0:o.pushFrequency)||void 0===a?void 0:a.repeatOn))||void 0===l||l.forEach(function(n){var t,i;r.observationToBePushedOnDays.push({label:r._titleCasePipe.transform(n),value:n,checked:null===(i=null===(t=null==e?void 0:e.observationConfig)||void 0===t?void 0:t.pushFrequency)||void 0===i?void 0:i.repeatOn[n]})})}},{key:"addNewTypeConfig",value:function(e){var n;this.redoxMessageTypes=this.redoxMessageTypes.filter(function(n){return n!==e}),(null===(n=this.redoxConfig)||void 0===n?void 0:n.configs)||(this.redoxConfig.configs={}),this.redoxConfig.configs[e]={sourceId:"",destinations:[],facilityCode:"",eventType:""}}},{key:"deleteTypeConfig",value:function(e){var n;this.redoxMessageTypes.push(e),null===(n=this.redoxConfig)||void 0===n||delete n.configs[e]}},{key:"clearDefault",value:function(e){var n,t,i=this;null===(t=Object.keys(null===(n=this.redoxConfig)||void 0===n?void 0:n.configs))||void 0===t||t.forEach(function(n){e!==n&&(i.redoxConfig.configs[n].default=!1)})}},{key:"setObservationToBePushedOnDays",value:function(e){var n=this;e.forEach(function(e){n.redoxConfig.observationConfig.pushFrequency.repeatOn[e.value]=e.checked})}}]),e}()).\u0275fac=function(e){return new(e||$)(_.Rb(d.A))},$.\u0275cmp=_.Lb({type:$,selectors:[["app-redox-config"]],inputs:{redoxConfigData:["redoxConfig","redoxConfigData"]},features:[_.Cb([d.A])],decls:52,vars:35,consts:[["nz-tooltip","","nzTooltipTitle","Add message type config","name","plusCircle","nz-dropdown","",3,"nzDropdownMenu",4,"ngIf"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item","",3,"click",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["nz-row","",3,"nzGutter"],["nz-col","","nzSpan","12"],[1,"settings-label"],["required","","nz-input","","placeholder","Enter authentication endpoint...",3,"ngModel","ngModelChange"],["required","","nz-input","","placeholder","Enter endpoint...",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","6"],["nzPlaceHolder","Select an Environment to point to",3,"ngModel","ngModelChange"],[3,"nzValue","nzLabel"],["required","","nz-input","","placeholder","Enter patient identifier...",3,"ngModel","ngModelChange"],["nzPlaceHolder","Select an EMR",3,"ngModel","ngModelChange"],["nzPlaceHolder","Select Push Method",3,"ngModel","ngModelChange"],[3,"nzDisabled","nzValue","nzLabel"],["nz-col","","nzSpan","6",4,"ngIf"],[4,"ngIf"],["nz-tooltip","","nzTooltipTitle","Add message type config","name","plusCircle","nz-dropdown","",3,"nzDropdownMenu"],["nz-menu-item","",3,"click"],["size","14px","nz-tooltip","","nzTooltipTitle","Remove message type config","name","closeCircle",3,"click"],["nz-checkbox","",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","9"],["nzMode","tags","nzPlaceHolder","Enter destination ids...",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nz-col","","nzSpan","5"],["required","","nz-input","","placeholder","Enter source id...",3,"ngModel","ngModelChange"],["required","","nz-input","","placeholder","Enter facility code...",3,"ngModel","ngModelChange"],["required","","nz-input","","placeholder","Enter event type...",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue"],["nzPlaceHolder","Select Frequency",3,"ngModel","ngModelChange"],["nz-col","","nzSpan","24"],[3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(_.Xb(0,"div"),_.Xb(1,"h3"),_.Xc(2," Redox Config \xa0 "),_.Vc(3,F,1,1,"app-icons",0),_.Xb(4,"nz-dropdown-menu",null,1),_.Xb(6,"ul",2),_.Vc(7,G,5,7,"li",3),_.Wb(),_.Wb(),_.Wb(),_.Vc(8,j,31,15,"ng-container",4),_.jc(9,"keyvalue"),_.Xb(10,"div",5),_.Xb(11,"div",6),_.Xb(12,"label",7),_.Xc(13," Authentication Endpoint "),_.Wb(),_.Xb(14,"input",8),_.ec("ngModelChange",function(e){return n.redoxConfig.authEndPoint=e}),_.Wb(),_.Wb(),_.Xb(15,"div",6),_.Xb(16,"label",7),_.Xc(17," Endpoint "),_.Wb(),_.Xb(18,"input",9),_.ec("ngModelChange",function(e){return n.redoxConfig.endPoint=e}),_.Wb(),_.Wb(),_.Wb(),_.Sb(19,"br"),_.Xb(20,"div",5),_.Xb(21,"div",10),_.Xb(22,"label",7),_.Xc(23," Points To Redox Environment "),_.Wb(),_.Xb(24,"nz-select",11),_.ec("ngModelChange",function(e){return n.redoxConfig.pointsToEnvironment=e}),_.Sb(25,"nz-option",12),_.Sb(26,"nz-option",12),_.Wb(),_.Wb(),_.Xb(27,"div",10),_.Xb(28,"label",7),_.Xc(29," Patient Identifer "),_.Wb(),_.Xb(30,"input",13),_.ec("ngModelChange",function(e){return n.redoxConfig.patientIdentifier=e}),_.Wb(),_.Wb(),_.Xb(31,"div",10),_.Xb(32,"label",7),_.Xc(33," EMR Type "),_.Wb(),_.Xb(34,"nz-select",14),_.ec("ngModelChange",function(e){return n.redoxConfig.emrType=e}),_.Sb(35,"nz-option",12),_.Sb(36,"nz-option",12),_.Wb(),_.Wb(),_.Wb(),_.Vb(37),_.Sb(38,"nz-divider"),_.Xb(39,"h4"),_.Xb(40,"strong"),_.Xc(41,"Observations Config"),_.Wb(),_.Wb(),_.Xb(42,"div",5),_.Xb(43,"div",10),_.Xb(44,"label",7),_.Xc(45," Push Method "),_.Wb(),_.Xb(46,"nz-select",15),_.ec("ngModelChange",function(e){return n.redoxConfig.observationConfig.pushMethod=e}),_.Sb(47,"nz-option",12),_.Sb(48,"nz-option",16),_.Sb(49,"nz-option",16),_.Wb(),_.Wb(),_.Vc(50,B,7,7,"div",17),_.Wb(),_.Vc(51,Y,9,3,"ng-container",18),_.Ub(),_.Wb()),2&e&&(_.Db(3),_.rc("ngIf",null==n.redoxMessageTypes?null:n.redoxMessageTypes.length),_.Db(4),_.rc("ngForOf",n.redoxMessageTypes),_.Db(1),_.rc("ngForOf",_.kc(9,30,null==n.redoxConfig?null:n.redoxConfig.configs)),_.Db(2),_.rc("nzGutter",_.xc(32,q)),_.Db(4),_.rc("ngModel",n.redoxConfig.authEndPoint),_.Db(4),_.rc("ngModel",n.redoxConfig.endPoint),_.Db(2),_.rc("nzGutter",_.xc(33,q)),_.Db(4),_.rc("ngModel",n.redoxConfig.pointsToEnvironment),_.Db(1),_.rc("nzValue","prod")("nzLabel","Production"),_.Db(1),_.rc("nzValue","stage")("nzLabel","Staging"),_.Db(4),_.rc("ngModel",n.redoxConfig.patientIdentifier),_.Db(4),_.rc("ngModel",n.redoxConfig.emrType),_.Db(1),_.rc("nzValue","ATHENA")("nzLabel","Athena"),_.Db(1),_.rc("nzValue","EPIC")("nzLabel","Epic"),_.Db(6),_.rc("nzGutter",_.xc(34,q)),_.Db(4),_.rc("ngModel",n.redoxConfig.observationConfig.pushMethod),_.Db(1),_.rc("nzValue","MANUAL")("nzLabel","Manual"),_.Db(1),_.rc("nzDisabled",!0)("nzValue","SCHEDULED")("nzLabel","Scheduled"),_.Db(1),_.rc("nzDisabled",!0)("nzValue","ON_ARRIVAL")("nzLabel","On Arrival"),_.Db(1),_.rc("ngIf","SCHEDULED"===n.redoxConfig.observationConfig.pushMethod),_.Db(1),_.rc("ngIf","SCHEDULED"===n.redoxConfig.observationConfig.pushMethod&&"MONTHLY"!==n.redoxConfig.observationConfig.pushFrequency.type))},directives:[d.q,W.e,w.c,d.p,I.c,I.a,P.b,O.d,O.C,O.u,O.x,x.d,x.a,k.a,z.a,L.d,W.b,V.a,w.e,R.a,R.b],pipes:[d.j,d.A,U],styles:["h3[_ngcontent-%COMP%]{font:normal normal 700 15px/38px Nunito;letter-spacing:0;color:#0f2015}app-icons[_ngcontent-%COMP%]{vertical-align:sub}span[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]     .ant-checkbox-group-item{margin-right:30px}[_nghost-%COMP%]     .ant-checkbox{margin-left:20px}"]}),$),K=l("yW9e"),J=l("dRHE");function Q(e,n){1&e&&(_.Xb(0,"label",27),_.Xc(1,"Required"),_.Wb())}function ee(e,n){1&e&&(_.Xb(0,"label",27),_.Xc(1,"A valid email address looks like example@email.com"),_.Wb())}function ne(e,n){1&e&&(_.Xb(0,"label",27),_.Xc(1,"A valid email address looks like example@email.com"),_.Wb())}function te(e,n){1&e&&(_.Xb(0,"label",27),_.Xc(1,"Required"),_.Wb())}function ie(e,n){1&e&&(_.Xb(0,"label",27),_.Xc(1),_.jc(2,"translate"),_.Wb()),2&e&&(_.Db(1),_.Zc(" ",_.kc(2,1,"VALIDATION.PHONE_NUMBER_ATLEAST_SIX_CHARS")," "))}function oe(e,n){1&e&&(_.Xb(0,"label",27),_.Xc(1),_.jc(2,"translate"),_.Wb()),2&e&&(_.Db(1),_.Zc(" ",_.kc(2,1,"VALIDATION.PHONE_NUMBER_MAX_SIXTEEN_CHARS")," "))}function ae(e,n){1&e&&(_.Xb(0,"label",27),_.Xc(1),_.jc(2,"translate"),_.Wb()),2&e&&(_.Db(1),_.Yc(_.kc(2,1,"VALIDATION.PHONE_NUMBER_CONTAINS_INVALID_CHARS")))}function le(e,n){1&e&&(_.Xb(0,"label",27),_.Xc(1,"Required"),_.Wb())}function re(e,n){1&e&&(_.Xb(0,"label",27),_.Xc(1,"A valid email address looks like example@email.com"),_.Wb())}function se(e,n){if(1&e){var t=_.Yb();_.Vb(0),_.Xb(1,"h3"),_.Xc(2,"Appointment Settings"),_.Wb(),_.Xb(3,"div",3),_.Xb(4,"div",28),_.Xb(5,"label",29),_.ec("ngModelChange",function(e){return _.Lc(t),_.ic(2).tenantConfig.appointmentConfig.sendSMS=e}),_.Xc(6),_.jc(7,"translate"),_.Wb(),_.Wb(),_.Wb(),_.Ub()}if(2&e){var i=_.ic(2);_.Db(5),_.rc("disabled",!(null!=i.tenantConfig&&null!=i.tenantConfig.appointmentConfig&&i.tenantConfig.appointmentConfig.appointmentEnabled))("ngModel",i.tenantConfig.appointmentConfig.sendSMS),_.Db(1),_.Zc(" ",_.kc(7,3,"SETTINGS.APPOINTMENTSENDSMS")," ")}}function ce(e,n){if(1&e){var t=_.Yb();_.Vb(0),_.Xb(1,"app-redox-config",30),_.ec("redoxConfigChange",function(e){return _.Lc(t),_.ic(2).tenantConfig.redoxConfig=e}),_.Wb(),_.Ub()}if(2&e){var i=_.ic(2);_.Db(1),_.rc("redoxConfig",i.tenantConfig.redoxConfig)}}function ue(e,n){1&e&&(_.Xb(0,"label",27),_.Xc(1,"Invalid color value!"),_.Wb())}var de=function(e){return{"background-color":e}};function pe(e,n){if(1&e&&_.Sb(0,"span",35),2&e){var t=_.ic(3);_.rc("ngStyle",_.yc(1,de,"#"+t.primaryColor))}}var be=function(e){return{error:e}};function ge(e,n){if(1&e){var t=_.Yb();_.Vb(0),_.Xb(1,"h3"),_.Xc(2,"Lob API Config"),_.Wb(),_.Xb(3,"div",11),_.Xb(4,"div",12),_.Xb(5,"label",13),_.Xc(6," Lob API Key "),_.Wb(),_.Xb(7,"input",31),_.ec("ngModelChange",function(e){return _.Lc(t),_.ic(2).lobApiKey=e}),_.Wb(),_.Wb(),_.Xb(8,"div",12),_.Xb(9,"label",13),_.Xc(10," Letter Primary Color "),_.Wb(),_.Xb(11,"nz-input-group",32),_.Xb(12,"input",33),_.ec("ngModelChange",function(e){return _.Lc(t),_.ic(2).primaryColor=e})("ngModelChange",function(e){return _.Lc(t),_.ic(2).onColorChange(e)}),_.Wb(),_.Wb(),_.Vc(13,ue,2,0,"label",17),_.Vc(14,pe,1,3,"ng-template",null,34,_.Wc),_.Wb(),_.Wb(),_.Ub()}if(2&e){var i=_.Ic(15),o=_.ic(2);_.Db(7),_.rc("ngModel",o.lobApiKey),_.Db(4),_.rc("nzAddOnAfter",i),_.Db(1),_.rc("ngClass",_.yc(5,be,o.colorError))("ngModel",o.primaryColor),_.Db(1),_.rc("ngIf",o.colorError)}}function fe(e,n){if(1&e){var t=_.Yb();_.Xb(0,"div",2),_.Xb(1,"h3"),_.Xc(2,"Logo and Favicon"),_.Wb(),_.Xb(3,"div",3),_.Xb(4,"div",4),_.Xb(5,"label"),_.Xc(6,"Logo"),_.Wb(),_.Sb(7,"br"),_.Xb(8,"div",5),_.Xb(9,"div",6),_.Xb(10,"p",7),_.Xc(11," Any jpg, png can be uploaded in the dimension 100 x 200 "),_.Wb(),_.Wb(),_.Xb(12,"div",6),_.Xb(13,"nz-upload",8),_.ec("nzFileListChange",function(e){return _.Lc(t),_.ic().logoFileList=e}),_.Sb(14,"app-icons",9),_.Wb(),_.Wb(),_.Wb(),_.Wb(),_.Xb(15,"div",4),_.Xb(16,"label"),_.Xc(17,"Favicon"),_.Wb(),_.Sb(18,"br"),_.Xb(19,"div",5),_.Xb(20,"div",6),_.Xb(21,"p",7),_.Xc(22," Favicon is a small square image that represents a website in web browsers. "),_.Sb(23,"br"),_.Sb(24,"br"),_.Xc(25," Any jpg, png can be uploaded in the dimension 16 x 16 "),_.Wb(),_.Wb(),_.Xb(26,"div",6),_.Xb(27,"nz-upload",8),_.ec("nzFileListChange",function(e){return _.Lc(t),_.ic().faviconFileList=e}),_.Sb(28,"app-icons",9),_.Wb(),_.Wb(),_.Wb(),_.Wb(),_.Wb(),_.Sb(29,"br"),_.Sb(30,"br"),_.Xb(31,"h3"),_.Xc(32," Support Details "),_.Sb(33,"app-icons",10),_.Wb(),_.Xb(34,"div",11),_.Xb(35,"div",12),_.Xb(36,"label",13),_.Xc(37," Support Email * "),_.Sb(38,"app-icons",14),_.Wb(),_.Xb(39,"input",15,16),_.ec("ngModelChange",function(e){return _.Lc(t),_.ic().tenantConfig.tenantSupport.email=e}),_.Wb(),_.Vc(41,Q,2,0,"label",17),_.Vc(42,ee,2,0,"label",17),_.Wb(),_.Xb(43,"div",12),_.Xb(44,"label",13),_.Xc(45," Internal Email ID "),_.Sb(46,"app-icons",18),_.Wb(),_.Xb(47,"input",19,20),_.ec("ngModelChange",function(e){return _.Lc(t),_.ic().tenantConfig.tenantSupport.internalEmail=e}),_.Wb(),_.Vc(49,ne,2,0,"label",17),_.Wb(),_.Xb(50,"div",12),_.Xb(51,"label",13),_.Xc(52," Phone Number * "),_.Sb(53,"app-icons",21),_.Wb(),_.Xb(54,"input",22,23),_.ec("ngModelChange",function(e){return _.Lc(t),_.ic().tenantConfig.tenantSupport.phoneNumber=e}),_.Wb(),_.Vc(56,te,2,0,"label",17),_.Vc(57,ie,3,3,"label",17),_.Vc(58,oe,3,3,"label",17),_.Vc(59,ae,3,3,"label",17),_.Wb(),_.Xb(60,"div",12),_.Xb(61,"label",13),_.Xc(62," Billing Report Email * "),_.Sb(63,"app-icons",24),_.Wb(),_.Xb(64,"input",25,26),_.ec("ngModelChange",function(e){return _.Lc(t),_.ic().tenantConfig.tenantSupport.billingEmail=e}),_.Wb(),_.Vc(66,le,2,0,"label",17),_.Vc(67,re,2,0,"label",17),_.Wb(),_.Wb(),_.Sb(68,"br"),_.Sb(69,"br"),_.Vc(70,se,8,5,"ng-container",1),_.Sb(71,"br"),_.Sb(72,"br"),_.Vc(73,ce,2,1,"ng-container",1),_.Sb(74,"br"),_.Sb(75,"br"),_.Vc(76,ge,16,7,"ng-container",1),_.Wb()}if(2&e){var i=_.Ic(40),o=_.Ic(48),a=_.Ic(55),l=_.Ic(65),r=_.ic();_.Db(13),_.rc("nzFileList",r.logoFileList)("nzShowButton",r.logoFileList.length<1)("nzShowUploadList",r.showUploadList)("nzPreview",r.handlePreview)("nzCustomRequest",r.handleLogoUpload),_.Db(14),_.rc("nzFileList",r.faviconFileList)("nzShowButton",r.faviconFileList.length<1)("nzShowUploadList",r.showUploadList)("nzPreview",r.handlePreview)("nzCustomRequest",r.handleFaviconUpload),_.Db(12),_.rc("ngModel",r.tenantConfig.tenantSupport.email)("ngClass",_.yc(30,be,((null==i?null:i.dirty)||(null==i?null:i.touched))&&(null==i?null:i.invalid)&&(!(null==i||!i.errors.required)||!(null==i||!i.errors.pattern)))),_.Db(2),_.rc("ngIf",(null==i?null:i.invalid)&&((null==i?null:i.dirty)||(null==i?null:i.touched))&&(null==i?null:i.errors.required)),_.Db(1),_.rc("ngIf",(null==i?null:i.invalid)&&((null==i?null:i.dirty)||(null==i?null:i.touched))&&(null==i?null:i.errors.pattern)),_.Db(5),_.rc("ngModel",r.tenantConfig.tenantSupport.internalEmail)("ngClass",_.yc(32,be,((null==o?null:o.dirty)||(null==o?null:o.touched))&&(null==o?null:o.invalid)&&!(null==o||!o.errors.pattern))),_.Db(2),_.rc("ngIf",(null==o?null:o.invalid)&&((null==o?null:o.dirty)||(null==o?null:o.touched))&&(null==o?null:o.errors.pattern)),_.Db(5),_.rc("ngModel",r.tenantConfig.tenantSupport.phoneNumber)("ngClass",_.yc(34,be,((null==a?null:a.dirty)||(null==a?null:a.touched))&&(null==a?null:a.invalid)&&(!(null==a||!a.errors.required)||!(null==a||!a.errors.minlength)||!(null==a||!a.errors.maxlength)||!(null==a||!a.errors.pattern)))),_.Db(2),_.rc("ngIf",(null==a?null:a.invalid)&&((null==a?null:a.dirty)||(null==a?null:a.touched))&&(null==a?null:a.errors.required)),_.Db(1),_.rc("ngIf",(null==a?null:a.invalid)&&((null==a?null:a.dirty)||(null==a?null:a.touched))&&(null==a?null:a.errors.minlength)),_.Db(1),_.rc("ngIf",(null==a?null:a.invalid)&&((null==a?null:a.dirty)||(null==a?null:a.touched))&&(null==a?null:a.errors.maxlength)),_.Db(1),_.rc("ngIf",r.phoneFormatError||(null==a?null:a.invalid)&&((null==a?null:a.dirty)||(null==a?null:a.touched))&&(null==a?null:a.errors.pattern)),_.Db(5),_.rc("ngModel",r.tenantConfig.tenantSupport.billingEmail)("ngClass",_.yc(36,be,((null==l?null:l.dirty)||(null==l?null:l.touched))&&(null==l?null:l.invalid)&&(!(null==l||!l.errors.required)||!(null==l||!l.errors.pattern)))),_.Db(2),_.rc("ngIf",(null==l?null:l.invalid)&&((null==l?null:l.dirty)||(null==l?null:l.touched))&&(null==l?null:l.errors.required)),_.Db(1),_.rc("ngIf",(null==l?null:l.invalid)&&((null==l?null:l.dirty)||(null==l?null:l.touched))&&(null==l?null:l.errors.pattern)),_.Db(3),_.rc("ngIf",null==r.tenantConfig||null==r.tenantConfig.appointmentConfig?null:r.tenantConfig.appointmentConfig.appointmentEnabled),_.Db(3),_.rc("ngIf",r.isTenantAdmin&&(null==r.tenantConfig||null==r.tenantConfig.redoxConfig?null:r.tenantConfig.redoxConfig.enabled)),_.Db(3),_.rc("ngIf",r.isTenantAdmin&&(null==r.tenantConfig||null==r.tenantConfig.directMailConfig?null:r.tenantConfig.directMailConfig.directMailEnabled))}}function ve(e,n){if(1&e&&(_.Xb(0,"nz-footer"),_.Xc(1),_.Wb()),2&e){var t=_.ic();_.Db(1),_.Zc(" Version: ",t.appVersion,"\n")}}var he,Ee=((he=function(e){i(t,e);var n=a(t);function t(e,i,o,a,l,r,s){var c;u(this,t),(c=n.call(this)).http=e,c._settingsService=i,c._notificationsService=o,c._translateService=a,c._settingsEventLogger=l,c._router=r,c._dataSharingService=s,c.rootURL=f.g.url,c.appVersion=f.g.VERSION,c.logoFileList=[],c.faviconFileList=[],c.showUploadList={showPreviewIcon:!1,showRemoveIcon:!0,hidePreviewIconInNonImage:!1},c.phoneFormatError=!1,c.colorError=!1,c.phoneRegex=new RegExp(/^(?:(?:\(?(?:00|\+)([1-4]\d\d|[1-9]\d*)\)?)[\-\.\ \\\/]?)?((?:\(?\d{1,}\)?[\-\.\ \\\/]?)+)(?:[\-\.\ \\\/]?(?:#|ext\.?|extension|x)[\-\.\ \\\/]?(\d+))?$/,"i"),c.handlePreview=function(e){return!0},c.handleLogoUpload=function(e){var n=new E.g({bypass:"yes"});c.http.post(c.rootURL+"/v2/media/upload/"+e.file.name,e.file,{headers:n,observe:"response",responseType:"text"}).subscribe(function(n){if(200==n.status){var t=c.rootURL+"/v2/media/"+(null==n?void 0:n.body);e.url=t,e.status="done",c.logoFileList=[e],c.tenantConfig.logoURL=t}else console.log("File not uploaded!!")},function(e){console.log("Error")})},c.handleFaviconUpload=function(e){var n=new E.g({bypass:"yes"});c.http.post(c.rootURL+"/v2/media/upload/"+e.file.name,e.file,{headers:n,observe:"response",responseType:"text"}).subscribe(function(n){if(200==n.status){var t=c.rootURL+"/v2/media/"+(null==n?void 0:n.body);e.url=t,e.status="done",c.faviconFileList=[e],c.tenantConfig.faviconURL=t}else console.log("File not uploaded!!")},function(e){console.log("Error")})};var d=localStorage.getItem("loggedInUserRole");return c.isTenantAdmin=d==S.a.TENANT_ADMIN,c._routeHelperService.isPrimaryActionTriggered().pipe(Object(m.a)(function(e){return!!e}),Object(C.a)(c.unsubscribed)).subscribe(function(){return c.saveSettings()}),c}return c(t,[{key:"ngOnInit",value:function(){this.getTenantSettings()}},{key:"onSubTenantChange",value:function(e){var n,t,i,o,a,l,r,s,c,u,d,p,b,g,f,v,h,E,m,C;this.tenantConfig=this.tenantConfigMap.get(e),this.tenantConfig&&((null===(n=this.tenantConfig)||void 0===n?void 0:n.logoURL)&&(this.logoFileList=[{uid:"-1",name:"Logo",status:"done",url:null===(t=this.tenantConfig)||void 0===t?void 0:t.logoURL,thumbUrl:null===(i=this.tenantConfig)||void 0===i?void 0:i.logoURL}]),(null===(o=this.tenantConfig)||void 0===o?void 0:o.faviconURL)&&(this.faviconFileList=[{uid:"-1",name:"Favicon",status:"done",url:null===(a=this.tenantConfig)||void 0===a?void 0:a.faviconURL,thumbUrl:null===(l=this.tenantConfig)||void 0===l?void 0:l.faviconURL}]),null==this.tenantConfig.directMailConfig&&(this.tenantConfig.directMailConfig=new T),(null===(s=null===(r=this.tenantConfig)||void 0===r?void 0:r.directMailConfig)||void 0===s?void 0:s.directMailEnabled)&&(this.lobApiKey=this.decrypt(null===(c=this.tenantConfig)||void 0===c?void 0:c.tenantId,null===(d=null===(u=this.tenantConfig)||void 0===u?void 0:u.directMailConfig)||void 0===d?void 0:d.lobApiKey),this.lobApiKey.length>0&&(this.lobApiKey="xxxx"+this.lobApiKey.substring(Math.max(0,this.lobApiKey.length-4))),null!=(null===(p=this.tenantConfig)||void 0===p?void 0:p.directMailConfig)&&null==(null===(g=null===(b=this.tenantConfig)||void 0===b?void 0:b.directMailConfig)||void 0===g?void 0:g.primaryColor)&&(this.tenantConfig.directMailConfig.primaryColor=null===(h=null===(v=null===(f=this.tenantConfig)||void 0===f?void 0:f.portalConfig)||void 0===v?void 0:v.colorConfiguration)||void 0===h?void 0:h.primaryColor),this.primaryColor=null===(C=null===(m=null===(E=this.tenantConfig)||void 0===E?void 0:E.directMailConfig)||void 0===m?void 0:m.primaryColor)||void 0===C?void 0:C.replace("#","")))}},{key:"getTenantSettings",value:function(){var e=this;this._dataSharingService.assignedTenantSettings.subscribe(function(n){n&&(null==n?void 0:n.size)&&(e.tenantConfigMap=n,e._dataSharingService.onSubTenantChange().pipe(Object(C.a)(e.unsubscribed)).subscribe(function(n){e.onSubTenantChange((null==n?void 0:n.length)?n:localStorage.getItem("requestTenantIds"))}))})}},{key:"validate",value:function(){var e,n,t,i,o,a,l,r,s,c,u,d,p,b,g,f,v,h=this,E=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(new RegExp("^[0-9]+$"),this.phoneFormatError=!1,this.colorError=!1,this.phoneRegex.test(null===(t=null===(n=null===(e=this.tenantConfig)||void 0===e?void 0:e.tenantSupport)||void 0===n?void 0:n.phoneNumber)||void 0===t?void 0:t.trim())){if(!(null===(a=null===(o=null===(i=this.tenantConfig)||void 0===i?void 0:i.tenantSupport)||void 0===o?void 0:o.email)||void 0===a?void 0:a.trim())||!E.test(this.tenantConfig.tenantSupport.email)||(null===(s=null===(r=null===(l=this.tenantConfig)||void 0===l?void 0:l.tenantSupport)||void 0===r?void 0:r.internalEmail)||void 0===s?void 0:s.trim())&&!E.test(this.tenantConfig.tenantSupport.internalEmail)||!(null===(d=null===(u=null===(c=this.tenantConfig)||void 0===c?void 0:c.tenantSupport)||void 0===u?void 0:u.phoneNumber)||void 0===d?void 0:d.trim())||(null===(g=null===(b=null===(p=this.tenantConfig)||void 0===p?void 0:p.tenantSupport)||void 0===b?void 0:b.phoneNumber)||void 0===g?void 0:g.length)<6)return this._translateService.get("ERROR.SUPPORTDETAILS").subscribe(function(e){h._notificationsService.error("Error",e)}),!1;if(!(null===(v=null===(f=this.tenantConfig)||void 0===f?void 0:f.directMailConfig)||void 0===v?void 0:v.directMailEnabled)||CSS.supports("color","#".concat(this.primaryColor)))return!0;this.colorError=!0}else this.phoneFormatError=!0}},{key:"saveSettings",value:function(){var e,n;this.validate()&&(this._settingsEventLogger.saveSettingsEvent("EDIT"),(null===(n=null===(e=this.tenantConfig)||void 0===e?void 0:e.directMailConfig)||void 0===n?void 0:n.directMailEnabled)&&(this.tenantConfig.directMailConfig.primaryColor="#".concat(this.primaryColor)),this.updateTenantConfig())}},{key:"updateTenantConfig",value:function(){var e=this;this._settingsService.updateConfigSetting(this.tenantConfig).subscribe(function(){e._notificationsService.success("Success","Settings Updated"),e.tenantConfig.logoURL&&localStorage.setItem("logoUrl",e.tenantConfig.logoURL||"/assets/images/logo.png"),e.tenantConfig.faviconURL&&localStorage.setItem("faviconUrl",e.tenantConfig.faviconURL||"/assets/images/favicon.png"),e._router.navigate(["/authorization/logout"])})}},{key:"encrypt",value:function(e,n){if(this.isEmpty(n))return"";e?16<=e.length?e=e.substring(0,16):15>e.length&&(e+="1234567891234567".substring(0,16-e.length)):e="1234567891234567";var t=A.enc.Latin1.parse(e),i=A.enc.Latin1.parse(e),o=A.AES.encrypt(n,t,{iv:i,mode:A.mode.CBC,padding:A.pad.ZeroPadding});return o?o.toString():""}},{key:"decrypt",value:function(e,n){if(this.isEmpty(n))return"";e?16<=e.length?e=e.substring(0,16):15>e.length&&(e+="1234567891234567".substring(0,16-e.length)):e="1234567891234567";var t=A.enc.Latin1.parse(e),i=A.enc.Latin1.parse(e),o=A.AES.decrypt(n,t,{iv:i,mode:A.mode.CBC,padding:A.pad.ZeroPadding});return o?o.toString(A.enc.Latin1):""}},{key:"isEmpty",value:function(e){return null==e||0===e.length}},{key:"onColorChange",value:function(e){this.colorError=!CSS.supports("color","#".concat(e))}}]),t}(b.a)).\u0275fac=function(e){return new(e||he)(_.Rb(E.c),_.Rb(g.a),_.Rb(y.b),_.Rb(v.a),_.Rb(h.a),_.Rb(p.g),_.Rb(M.a))},he.\u0275cmp=_.Lb({type:he,selectors:[["app-settings"]],features:[_.Ab],decls:2,vars:2,consts:[["class","container",4,"ngIf"],[4,"ngIf"],[1,"container"],["nz-row",""],["nz-col","","nzSpan","9"],["nz-row","","nzGutter","32"],["nz-col","","nzSpan","12"],["nz-typography",""],["nzListType","picture-card",3,"nzFileList","nzShowButton","nzShowUploadList","nzPreview","nzCustomRequest","nzFileListChange"],["name","plus"],["nz-tooltip","","nzTooltipTitle","Portal Support Details","name","infoCircle","size","12px"],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","6"],[1,"settings-label"],["nz-tooltip","","nzTooltipTitle","The patient/clinicians can address any support queries they have to this email address from their respective apps.","name","infoCircle","size","12px"],["type","email","required","","nz-input","","placeholder","Enter an email address","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","id","emailModel","name","emailModel",3,"ngModel","ngClass","ngModelChange"],["emailModel","ngModel"],["nz-typography","","nzType","danger",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","If most of your reports are shared with any medical professional by default, you can enter their email address here. We will prefill the email address when you share a report and you can choose to remove this if required.","name","infoCircle","size","12px"],["required","","nz-input","","placeholder","Enter the internal email address","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","id","internalEmailModel","name","internalEmailModel",3,"ngModel","ngClass","ngModelChange"],["internalEmailModel","ngModel"],["nz-tooltip","","nzTooltipTitle","The patient/clinicians can reach out to this phone number for any support queries they have from their respective apps.","name","infoCircle","size","12px"],["required","","nz-input","","placeholder","Enter a phone number","pattern","^[0-9 \\.\\-\\(\\)]+$","minlength","6","maxlength","30","id","phoneModel","name","phoneModel",3,"ngModel","ngClass","ngModelChange"],["phoneModel","ngModel"],["nz-tooltip","","nzTooltipTitle","Primary Orb Finance Team or Partner Finance Team(s) who will recieve billing reports when the billing manager signs off on charges.","name","infoCircle","size","12px"],["type","email","required","","nz-input","","placeholder","Enter an email address","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","id","billingEmailModel","name","billingEmailModel",3,"ngModel","ngClass","ngModelChange"],["billingEmailModel","ngModel"],["nz-typography","","nzType","danger"],["nz-col","","nzSpan","7"],["nz-checkbox","",1,"settings-label",3,"disabled","ngModel","ngModelChange"],[3,"redoxConfig","redoxConfigChange"],["nz-input","","disabled","",2,"text-align","right",3,"ngModel","ngModelChange"],["nzAddOnBefore","#",3,"nzAddOnAfter"],["required","","nz-input","","placeholder","Enter letter primary color...","minlength","3","maxlength","6","pattern","^[a-fA-F0-9]+$",3,"ngClass","ngModel","ngModelChange"],["suffixIconSearch",""],[1,"color-preview",3,"ngStyle"]],template:function(e,n){1&e&&(_.Vc(0,fe,77,38,"div",0),_.Vc(1,ve,2,1,"nz-footer",1)),2&e&&(_.rc("ngIf",n.tenantConfig),_.Db(1),_.rc("ngIf",!!n.appVersion))},directives:[d.q,I.c,I.a,D.a,N.a,z.a,L.d,P.b,O.d,O.C,O.A,O.u,O.x,d.o,O.q,O.p,R.a,Z,V.a,P.c,d.r,K.b],pipes:[J.a],styles:[".container[_ngcontent-%COMP%]{min-height:80vh}h3[_ngcontent-%COMP%]{font:normal normal 700 15px/38px Nunito;letter-spacing:0;color:#0f2015}label[_ngcontent-%COMP%]{font:normal normal 600 12px/16px Nunito;color:#2b2b2b;display:block}.settings-label[_ngcontent-%COMP%]{font:normal normal normal 12px/16px Nunito;color:var(--tertiary-color);float:right;width:100%}.error[_ngcontent-%COMP%]{border-color:#c81c1c}[_nghost-%COMP%]     .ant-checkbox{float:right;margin-left:35px}[_nghost-%COMP%]     .ant-checkbox+span{padding-left:unset}nz-footer[_ngcontent-%COMP%]{text-align:center}.color-preview[_ngcontent-%COMP%]{display:block;width:20px;height:20px}"]}),he),me=function e(){u(this,e)},Ce=l("S5rh"),Se=l("JA5x");function Ae(e,n){if(1&e){var t=_.Yb();_.Xb(0,"app-icons",9),_.ec("click",function(){_.Lc(t);var e=_.ic();return e.passwordVisible=!e.passwordVisible}),_.Wb()}if(2&e){var i=_.ic();_.rc("name",i.passwordVisible?"eyeInvisible":"view")}}var Te,Me,_e=((Te=function(e){i(t,e);var n=a(t);function t(e,i,o){var a;return u(this,t),(a=n.call(this))._router=e,a._notificationsService=i,a._settingsService=o,a.passwordVisible=!1,a.passwordUpdateRequest=new me,a}return c(t,[{key:"ngOnInit",value:function(){this.passwordUpdateRequest.userId=localStorage.getItem("loggedInUser"),this.passwordUpdateRequest.type=localStorage.getItem("loggedInUserAccountType")}},{key:"validate",value:function(){return this.passwordUpdateRequest.oldPwd&&this.passwordUpdateRequest.oldPwd.trim()?this.passwordUpdateRequest.newPwd&&this.passwordUpdateRequest.newPwd.trim()?this.confirmPassword&&this.confirmPassword.trim()?this.passwordUpdateRequest.newPwd.trim()===this.confirmPassword.trim()||(this._notificationsService.error("Password","Passwords Do Not Match, Please Try Again!"),!1):(this._notificationsService.error("Password","Confirm Password Field Cannot Be Empty!"),!1):(this._notificationsService.error("Password","New Password Field Cannot Be Empty!"),!1):(this._notificationsService.error("Password","Old Password Field Cannot Be Empty!"),!1)}},{key:"updatePassword",value:function(){var e=this;this.validate()&&this._settingsService.updatePassword(this.passwordUpdateRequest).subscribe(function(n){e._notificationsService.success("Password","Password Updated Successfully!"),e._router.navigate(["authorization/logout"])},function(n){var t;e._notificationsService.error("Password",null===(t=null==n?void 0:n.error)||void 0===t?void 0:t.message)})}}]),t}(b.a)).\u0275fac=function(e){return new(e||Te)(_.Rb(p.g),_.Rb(y.b),_.Rb(g.a))},Te.\u0275cmp=_.Lb({type:Te,selectors:[["app-password-reset"]],features:[_.Ab],decls:23,vars:12,consts:[["title","password",3,"defaultTitle","isSearchEnabled","actionTitle","action"],[1,"password-reset-card"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","8"],["type","password","required","","nz-input","","placeholder","Enter Old Password",3,"ngModel","ngModelChange"],["type","password","required","","nz-input","","placeholder","Enter New Password",3,"ngModel","ngModelChange"],[3,"nzSuffix"],["nz-input","","placeholder","Confirm New Password",3,"type","ngModel","ngModelChange"],["suffixTemplate",""],[3,"name","click"]],template:function(e,n){if(1&e&&(_.Xb(0,"app-header",0),_.ec("action",function(){return n.updatePassword()}),_.jc(1,"translate"),_.jc(2,"translate"),_.Wb(),_.Xb(3,"nz-card",1),_.Xb(4,"div",2),_.Xb(5,"div",3),_.Xb(6,"div"),_.Xb(7,"strong"),_.Xc(8,"Old Password"),_.Wb(),_.Xb(9,"input",4),_.ec("ngModelChange",function(e){return n.passwordUpdateRequest.oldPwd=e}),_.Wb(),_.Wb(),_.Wb(),_.Xb(10,"div",3),_.Xb(11,"div"),_.Xb(12,"strong"),_.Xc(13,"New Password"),_.Wb(),_.Xb(14,"input",5),_.ec("ngModelChange",function(e){return n.passwordUpdateRequest.newPwd=e}),_.Wb(),_.Wb(),_.Wb(),_.Xb(15,"div",3),_.Xb(16,"div"),_.Xb(17,"strong"),_.Xc(18,"Confirm Password"),_.Wb(),_.Xb(19,"nz-input-group",6),_.Xb(20,"input",7),_.ec("ngModelChange",function(e){return n.confirmPassword=e}),_.Wb(),_.Wb(),_.Vc(21,Ae,1,1,"ng-template",null,8,_.Wc),_.Wb(),_.Wb(),_.Wb(),_.Wb()),2&e){var t=_.Ic(22);_.sc("defaultTitle",_.kc(1,8,"CHANGEPASS.CHANGPASSINFO")),_.sc("actionTitle",_.kc(2,10,"COMMON.SAVE")),_.rc("isSearchEnabled",!1),_.Db(9),_.rc("ngModel",n.passwordUpdateRequest.oldPwd),_.Db(5),_.rc("ngModel",n.passwordUpdateRequest.newPwd),_.Db(5),_.rc("nzSuffix",t),_.Db(1),_.rc("type",n.passwordVisible?"text":"password")("ngModel",n.confirmPassword)}},directives:[Ce.a,Se.a,I.c,I.a,P.b,O.d,O.C,O.u,O.x,V.a,P.c,P.d,z.a],pipes:[J.a],styles:[".password-reset-card[_ngcontent-%COMP%]{margin:2%;padding:1%}i[_ngcontent-%COMP%]{cursor:pointer}"]}),Te),ye=l("T5gh"),Ie=l("bA1+"),De=((Me=function(){function e(n){u(this,e),this._http=n,this.rootUrl=f.g.url}return c(e,[{key:"getAppHomeScreenConfigs",value:function(e,n,t){return this.endPoint=this.rootUrl+"/v3/homescreen/configurations/"+e+"?offset="+t+"&limit="+n,this._http.get(this.endPoint)}},{key:"saveAppHomeScreenConfig",value:function(e,n){return this.endPoint=this.rootUrl+"/v3/homescreen/configurations/"+e,this._http.post(this.endPoint,n)}},{key:"updateAppHomeScreenConfig",value:function(e,n){return this.endPoint=this.rootUrl+"/v3/homescreen/configurations/"+e,this._http.put(this.endPoint,n)}},{key:"getAppHomeScreenConfigById",value:function(e){return this.endPoint=this.rootUrl+"/v3/homescreen/configurations/config/"+e,this._http.get(this.endPoint)}}]),e}()).\u0275fac=function(e){return new(e||Me)(_.bc(E.c))},Me.\u0275prov=_.Nb({token:Me,factory:Me.\u0275fac,providedIn:"root"}),Me),Ne=l("OzZK"),ze=l("RwU8"),Le=l("rMZv");function Pe(e,n){if(1&e){var t=_.Yb();_.Xb(0,"tr"),_.Xb(1,"td",9),_.Xc(2),_.Wb(),_.Xb(3,"td",9),_.Xc(4),_.Wb(),_.Xb(5,"td"),_.Xb(6,"button",10),_.ec("click",function(){_.Lc(t);var e=n.$implicit;return _.ic(2).editAppHomeScreenConfig(null==e?null:e.id)}),_.Sb(7,"app-icons",11),_.Wb(),_.Wb(),_.Wb()}if(2&e){var i=n.$implicit;_.Db(1),_.tc("id","component-type-",null==i?null:i.id,""),_.Db(1),_.Yc(null==i?null:i.componentType),_.Db(1),_.tc("id","app-type-",null==i?null:i.id,""),_.Db(1),_.Yc(null==i?null:i.appType),_.Db(2),_.tc("id","edit-app-config-btn-",null==i?null:i.id,"")}}function Oe(e,n){if(1&e&&(_.Xb(0,"nz-table",6,7),_.Xb(2,"thead"),_.Xb(3,"tr"),_.Xb(4,"th"),_.Xc(5,"Component Type"),_.Wb(),_.Xb(6,"th"),_.Xc(7,"App Type"),_.Wb(),_.Xb(8,"th"),_.Xc(9,"Action"),_.Wb(),_.Wb(),_.Wb(),_.Xb(10,"tbody"),_.Vc(11,Pe,8,5,"tr",8),_.Wb(),_.Wb()),2&e){var t=_.Ic(1),i=_.ic();_.rc("nzData",null==i.response?null:i.response.result)("nzTotal",null==i.response?null:i.response.totalCount),_.Db(11),_.rc("ngForOf",null==t?null:t.data)}}var Re,Xe=((Re=function(){function e(n,t){u(this,e),this._router=n,this.settingService=t,this.response=[{result:[]}],this.loading=!1}return c(e,[{key:"ngOnInit",value:function(){var e=this;this.tenantId=localStorage.getItem("loggedInTenant"),this.loading=!0,this.settingService.getAppHomeScreenConfigs(this.tenantId,10,0).subscribe(function(n){e.loading=!1,e.response=n})}},{key:"goToAddConfig",value:function(){this._router.navigate(["settings/appHomescreenConfig/add"])}},{key:"editAppHomeScreenConfig",value:function(e){this._router.navigate(["settings/appHomescreenConfig/edit/"+e])}}]),e}()).\u0275fac=function(e){return new(e||Re)(_.Rb(p.g),_.Rb(De))},Re.\u0275cmp=_.Lb({type:Re,selectors:[["app-app-home-screen-config-list"]],decls:8,vars:4,consts:[["nz-row","","nzGutter","64"],["nz-col","","nzSpan","24",2,"padding-bottom","10px"],["nz-button","","nzType","default",2,"float","right",3,"click"],["name","plus"],["nz-col","","nzSpan","24"],["nzFrontPagination","false","id","list-episode-table",3,"nzData","nzTotal",4,"ngIf"],["nzFrontPagination","false","id","list-episode-table",3,"nzData","nzTotal"],["basicTable",""],[4,"ngFor","ngForOf"],[3,"id"],["nz-button","","nzType","default","nzShape","circle","nzTooltipTitle","Edit Config","nzTooltipPlacement","topCenter","nz-tooltip","",3,"id","click"],["name","edit"]],template:function(e,n){1&e&&(_.Xb(0,"div",0),_.Xb(1,"div",1),_.Xb(2,"button",2),_.ec("click",function(){return n.goToAddConfig()}),_.Sb(3,"app-icons",3),_.Xc(4),_.jc(5,"translate"),_.Wb(),_.Wb(),_.Xb(6,"div",4),_.Vc(7,Oe,12,3,"nz-table",5),_.Wb(),_.Wb()),2&e&&(_.Db(4),_.Zc(" ",_.kc(5,2,"COMMON.ADD")," "),_.Db(3),_.rc("ngIf",!n.loading))},directives:[I.c,I.a,Ne.a,ze.a,V.a,z.a,d.q,Le.f,Le.n,Le.o,Le.e,Le.l,Le.i,d.p,L.d],pipes:[J.a],styles:[""]}),Re),We=l("yizA"),we=function e(){u(this,e),this.patientId=null,this.appType="PATIENT",this.archived=!1,this.componentType="APP_FOOTER_BANNER"},xe=l("Wfee"),ke=l("AHJS");function Ve(e,n){1&e&&(_.Xb(0,"ul"),_.Xb(1,"li"),_.Xc(2," Please upload an Image with size 960x550 px. "),_.Wb(),_.Xb(3,"li"),_.Xc(4," Image must smaller than 1MB! "),_.Wb(),_.Wb())}var Ue,Fe,Ge=((Ue=function(){function n(e,t,i){u(this,n),this.settingsService=e,this.notificationService=t,this._route=i,this.fileTypes=[We.a.JPEG,We.a.JPG,We.a.APNG,We.a.PNG],this.saveButtonDisabled=!0,this.limit=1,this.fileList=[],this.appHomeScreenConfig=new we,this.id=null,this.type="ADD",this.option={nzDuration:1e4,nzPauseOnHover:!0,nzAnimate:!0}}return c(n,[{key:"ngOnInit",value:function(){var n=this;this.getDataFromURL(),null!=this.id&&(this.type="EDIT",this.settingsService.getAppHomeScreenConfigById(this.id).subscribe(function(t){n.appHomeScreenConfig=t;var i={url:t.coverImage,uid:"_"+Math.random().toString(36).substr(2,9),status:"done",name:""};n.fileList.push(i),n.fileList=e(n.fileList),n.fileList.length>0&&(n.saveButtonDisabled=!1)})),this.tenantId=localStorage.getItem("loggedInTenant"),this.fileList.length>0&&(this.saveButtonDisabled=!1)}},{key:"getDataFromURL",value:function(){var e=this;this._route.params.forEach(function(n){e.id=n.id})}},{key:"saveConfig",value:function(){null==this.appHomeScreenConfig.coverImage&&(this.notificationService.error("Image Upload Error","Please upload a valid cover image with size 960x550 px."),this.fileList=new Array),this.appHomeScreenConfig.tenantId=this.tenantId,"EDIT"==this.type?this.settingsService.updateAppHomeScreenConfig(this.tenantId,this.appHomeScreenConfig).subscribe(function(e){}):this.settingsService.saveAppHomeScreenConfig(this.tenantId,this.appHomeScreenConfig).subscribe(function(e){})}},{key:"afterFileUpload",value:function(e){var n,t,i,o,a,l=e[0];n=l.url,t=this.appHomeScreenConfig,i=this.notificationService,o=function(e,n,t,i,o,a,l){960==e&&550==n?o.coverImage=t:(o.coverImage=null,a.error("Image Upload Error","Image size should be 960x550 px."),new Array)},(a=new Image).onload=function(){o&&o(a.width,a.height,l.url,0,t,i)},a.src=n}}]),n}()).\u0275fac=function(e){return new(e||Ue)(_.Rb(De),_.Rb(y.b),_.Rb(p.a))},Ue.\u0275cmp=_.Lb({type:Ue,selectors:[["app-app-home-screen-config"]],decls:16,vars:15,consts:[["title","app-home-screen-settings",3,"defaultTitle","isActionEnabled","isSearchEnabled"],["id","list-app-homescreen-config-container",1,"container"],["nz-row","","nzGutter","64",2,"background-color","white","margin-left","0px","margin-right","0px","padding","10px"],["nz-col","","nzSpan","24"],["nzType","info","nzMessage","Informational Notes","nzShowIcon","",3,"nzDescription"],["infoNotes",""],[1,"vertical-spacer"],[3,"types","preview","fileList","maxSize","limit","fileListChange","afterFileUpload"],[1,"actions"],["nz-button","","nzType","primary",1,"save-button",3,"disabled","click"]],template:function(e,n){if(1&e&&(_.Sb(0,"app-header",0),_.jc(1,"translate"),_.Xb(2,"div",1),_.Xb(3,"div",2),_.Xb(4,"div",3),_.Sb(5,"nz-alert",4),_.Vc(6,Ve,5,0,"ng-template",null,5,_.Wc),_.Sb(8,"div",6),_.Wb(),_.Xb(9,"div",3),_.Xb(10,"app-upload",7),_.ec("fileListChange",function(e){return n.fileList=e})("afterFileUpload",function(e){return n.afterFileUpload(e)}),_.Wb(),_.Wb(),_.Xb(11,"div",3),_.Xb(12,"div",8),_.Xb(13,"button",9),_.ec("click",function(){return n.saveConfig()}),_.Xc(14),_.jc(15,"translate"),_.Wb(),_.Wb(),_.Wb(),_.Wb(),_.Wb()),2&e){var t=_.Ic(7);_.sc("defaultTitle",_.kc(1,11,"MENU.APP_HOMESCREEN_CONFIG")),_.rc("isActionEnabled",!1)("isSearchEnabled",!1),_.Db(5),_.rc("nzDescription",t),_.Db(5),_.rc("types",n.fileTypes)("preview",!0)("fileList",n.fileList)("maxSize",1)("limit",n.limit),_.Db(3),_.rc("disabled",null==n.appHomeScreenConfig.coverImage),_.Db(1),_.Zc(" ",_.kc(15,13,"COMMON.SAVE")," ")}},directives:[Ce.a,I.c,I.a,xe.a,ke.a,Ne.a,ze.a,V.a],pipes:[J.a],styles:[".vertical-spacer[_ngcontent-%COMP%]{height:10px}.save-button[_ngcontent-%COMP%]{float:right;text-align:-webkit-center}"]}),Ue),He={header:!0,title:"HEADER.SETTING",searchEnabled:!1,primaryAction:{title:"Save",permissions:[],enabled:!0},secondaryAction:{},multiAction:{},showTenantToggle:!0,subTenantToggleMode:"SINGLE"},qe=function(e){return e.PATIENT_MANAGEMENT="Patient Management",e.ROLE_MANAGEMENT="Role Management",e.STAFF_MANAGEMENT="Staff Management",e.EPISODE_MANAGEMENT="Episode Management",e.FORM_MANAGEMENT="Form Management",e.CARE_PLAN_MANAGEMENT="Care plan Management",e.ANALYTICS="Analytics",e.COMMUNICATION_CHANNELS="Communication Channels",e.SMS_TEMPLATE_MANAGEMENT="SMS Template Management",e.COURSE_MANAGEMENT="Course Management",e.VITAL_TEMPLATE_MANAGEMENT="Vital Template Management",e.CARE_PLAN_TEMPLATE_MANAGEMENT="Care plan Template Management",e.TAG_MANAGEMENT="Tag Management",e.PHYSICIAN_ORDER_MANAGEMENT="Physician Order Management",e.GROUP_MANAGEMENT="Group Management",e.LEAD_MANAGEMENT="Lead Management",e.APPOINTMENT_MANAGEMENT="Appointment Management",e.RPM_PERMISSIONS="RPM Permissions",e.DEVICE_MANAGEMENT="Device Management",e.LOCATION_MANAGEMENT="Location Management",e.PATIENT_ALERT_MANAGEMENT="Patient Alert Management",e.PATIENT_HEALTH_SCORE_MANAGEMENT="Patient Health Score Management",e}({}),je=l("0W7X"),Be=l("BcC3"),Ye=((Fe=function(){function e(){u(this,e),this.roleName="",this.isGlobal=!1}return c(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Fe)},Fe.\u0275cmp=_.Lb({type:Fe,selectors:[["app-role-add-modal"]],decls:5,vars:8,consts:[["nz-input","",3,"placeholder","ngModel","ngModelChange"],["nz-checkbox","",2,"margin-top","10px",3,"ngModel","ngModelChange"]],template:function(e,n){1&e&&(_.Xb(0,"input",0),_.ec("ngModelChange",function(e){return n.roleName=e}),_.jc(1,"translate"),_.Wb(),_.Xb(2,"label",1),_.ec("ngModelChange",function(e){return n.isGlobal=e}),_.Xc(3),_.jc(4,"translate"),_.Wb()),2&e&&(_.tc("placeholder"," ",_.kc(1,4,"COMMON.ROLENAME")," "),_.rc("ngModel",n.roleName),_.Db(2),_.rc("ngModel",n.isGlobal),_.Db(1),_.Zc(" ",_.kc(4,6,"ROLES.GLOBAL_ROLE")," "))},directives:[P.b,O.d,O.u,O.x,R.a],pipes:[J.a],styles:[""]}),Fe),$e=l("hj5u"),Ze=l("dEAy"),Ke=l("nxWG"),Je=l("Ff2k"),Qe=l("IvDN");function en(e,n){if(1&e){var t=_.Yb();_.Xb(0,"button",7),_.ec("click",function(){return _.Lc(t),_.ic().showAddDialog(null)}),_.Xc(1),_.jc(2,"translate"),_.Wb()}2&e&&(_.Db(1),_.Yc(_.kc(2,1,"ROLE.ADD_ROLE")))}function nn(e,n){if(1&e){var t=_.Yb();_.Xb(0,"span",8),_.Xc(1),_.Wb(),_.Xb(2,"button",9),_.ec("click",function(){_.Lc(t);var e=n.$implicit;return _.ic().showAddDialog(e)}),_.Xc(3," + "),_.Wb()}if(2&e){var i=n.$implicit;_.Db(1),_.Zc(" ",i.title," ")}}function tn(e,n){if(1&e&&_.Xc(0),2&e){var t=_.ic(2);_.Zc(" Permissions for ",t.selectedNode.title,"")}}function on(e,n){if(1&e){var t=_.Yb();_.Xb(0,"button",16),_.ec("click",function(){return _.Lc(t),_.ic(3).savePermissions()}),_.Xc(1,"Save"),_.Wb()}}function an(e,n){if(1&e&&_.Vc(0,on,2,0,"button",15),2&e){var t=_.ic(2);_.rc("ngIf",t.permissionsChanged)}}function ln(e,n){if(1&e){var t=_.Yb();_.Xb(0,"label",20),_.ec("ngModelChange",function(e){return _.Lc(t),_.ic().$implicit.isEnabled=e})("ngModelChange",function(){_.Lc(t);var e=_.ic().$implicit;return _.ic(2).permissionGroupToggled(e)}),_.Wb()}if(2&e){var i=_.ic().$implicit;_.rc("ngModel",i.isEnabled)}}function rn(e,n){if(1&e){var t=_.Yb();_.Xb(0,"nz-list-item"),_.Xb(1,"label",20),_.ec("ngModelChange",function(e){return n.$implicit.isEnabled=e})("ngModelChange",function(){_.Lc(t);var e=n.$implicit;return _.ic(3).permissionUpdated(e)}),_.Xc(2),_.Wb(),_.Wb()}if(2&e){var i=n.$implicit;_.Db(1),_.rc("ngModel",i.isEnabled),_.Db(1),_.Zc(" ",null==i?null:i.label,"")}}function sn(e,n){if(1&e&&(_.Xb(0,"nz-collapse-panel",17),_.Vc(1,ln,1,1,"ng-template",null,18,_.Wc),_.Vc(3,rn,3,2,"nz-list-item",19),_.Wb()),2&e){var t=n.$implicit,i=_.Ic(2);_.rc("nzHeader",null==t?null:t.label)("nzExtra",i),_.Db(3),_.rc("ngForOf",null==t?null:t.permissions)}}function cn(e,n){if(1&e&&(_.Xb(0,"nz-card",10),_.Vc(1,tn,1,1,"ng-template",null,11,_.Wc),_.Vc(3,an,1,1,"ng-template",null,12,_.Wc),_.Xb(5,"nz-list",13),_.Xb(6,"nz-collapse"),_.Vc(7,sn,4,3,"nz-collapse-panel",14),_.Wb(),_.Wb(),_.Wb()),2&e){var t=_.Ic(2),i=_.Ic(4),o=_.ic();_.rc("nzTitle",t)("nzExtra",i),_.Db(7),_.rc("ngForOf",o.permissionGroups)}}var un,dn,pn,bn,gn,fn=[{path:"",component:Ee,pathMatch:"full",data:He,canActivate:[ye.a,Ie.a]},{path:"password-reset",component:_e,canActivate:[ye.a,Ie.a]},{path:"settings/appHomescreenConfigs/list",component:Xe,canActivate:[ye.a,Ie.a]},{path:"appHomescreenConfig/add",component:Ge,canActivate:[ye.a,Ie.a]},{path:"appHomescreenConfig/edit/:id",component:Ge,canActivate:[ye.a,Ie.a]},{path:"roles",component:(un=function(t){i(l,t);var o=a(l);function l(e,n,t,i,a){var r;return u(this,l),(r=o.call(this))._notificationsService=e,r.nzModalService=n,r.rolesService=t,r.translationService=i,r._settingsEventLogger=a,r.searchValue="",r.permissionGroups=[],r.roles=[],r.selectedNode=null,r.permissionsChanged=!1,r.strings=new Array("COMMON.BTN_OK","COMMON.BTN_CANCEL","ROLES.ADD_NEW_ROLES","PORTAL.ROLE","ROLES.ROLE_SAVED_SUCCESSFULLY","ROLES.ERROR_SOMETHING_WRONG"),r}return c(l,[{key:"flattenRoles",value:function(e){var n=this,t=[];return e.forEach(function(e){if(t=t.concat([e]),null!=e.children){var i=n.flattenRoles(e.children);t=t.concat(i)}}),t}},{key:"findRole",value:function(e,n){return this.flattenRoles(this.roles).find(function(n){return n.key===e})}},{key:"nzEvent",value:function(e){if("click"===e.eventName){this.selectedNode=e.node,this.permissionGroups=[{label:qe.ANALYTICS,permissions:[{value:je.a.VIEW_REPORT},{value:je.a.PATIENT_REPORTS}],state:!1},{label:qe.APPOINTMENT_MANAGEMENT,permissions:[{value:je.a.ADD_APPOINTMENT},{value:je.a.EDIT_APPOINTMENT},{value:je.a.VIEW_APPOINTMENT},{value:je.a.DELETE_APPOINTMENT},{value:je.a.RESCHEDULE_APPOINTMENT}],state:!1},{label:qe.CARE_PLAN_MANAGEMENT,permissions:[{value:je.a.ASSIGN_CARE_PLAN},{value:je.a.REASSIGN_CARE_PLAN},{value:je.a.EDIT_CARE_PLAN},{value:je.a.SUSPEND_CARE_PLAN},{value:je.a.VIEW_CAREPLAN},{value:je.a.CREATE_BASELINE_CAREPLAN}],state:!1},{label:qe.CARE_PLAN_TEMPLATE_MANAGEMENT,permissions:[{value:je.a.ADD_CARE_PLAN_TEMPLATE},{value:je.a.EDIT_CARE_PLAN_TEMPLATE},{value:je.a.VIEW_CARE_PLAN_TEMPLATE},{value:je.a.DELETE_CARE_PLAN_TEMPLATE}],state:!1},{label:qe.COMMUNICATION_CHANNELS,permissions:[{value:je.a.CHAT},{value:je.a.VIDEO_CALL},{value:je.a.AUDIO_CALL}],state:!1},{label:qe.COURSE_MANAGEMENT,permissions:[{value:je.a.ADD_COURSE},{value:je.a.EDIT_COURSE},{value:je.a.VIEW_COURSE},{value:je.a.DELETE_COURSE}],state:!1},{label:qe.DEVICE_MANAGEMENT,permissions:[{value:je.a.ADD_DEVICES},{value:je.a.REMOVE_DEVICES}],state:!1},{label:qe.EPISODE_MANAGEMENT,permissions:[{value:je.a.RPM_EPISODE},{value:je.a.CCM_EPISODE},{value:je.a.HEALTH_SCORE_EPISODE},{value:je.a.GENERAL_EPISODE},{value:je.a.ADD_EPISODE},{value:je.a.EDIT_EPISODE},{value:je.a.VIEW_EPISODE},{value:je.a.DELETE_EPISODE},{value:je.a.SUSPEND_EPISODE},{value:je.a.REPEAT_EPISODE},{value:je.a.VIEW_EPISODE_TIMELINE}],state:!1},{label:qe.FORM_MANAGEMENT,permissions:[{value:je.a.ADD_CONSENT_FORM},{value:je.a.EDIT_CONSENT_FORM},{value:je.a.VIEW_CONSENT_FORM},{value:je.a.DELETE_CONSENT_FORM}],state:!1},{label:qe.GROUP_MANAGEMENT,permissions:[{value:je.a.ADD_GROUP},{value:je.a.EDIT_GROUP},{value:je.a.VIEW_GROUP},{value:je.a.DELETE_GROUP}],state:!1},{label:qe.LEAD_MANAGEMENT,permissions:[{value:je.a.ADD_LEAD},{value:je.a.EDIT_LEAD},{value:je.a.VIEW_LEAD},{value:je.a.DELETE_LEAD},{value:je.a.ADD_LEAD_NOTES},{value:je.a.ADD_LEAD_FOLLOW_UPS},{value:je.a.VIEW_LEAD_FOLLOW_UPS},{value:je.a.CONVERT_LEAD}],state:!1},{label:qe.LOCATION_MANAGEMENT,permissions:[{value:je.a.ADD_LOCATION},{value:je.a.VIEW_LOCATIONS},{value:je.a.EDIT_LOCATION},{value:je.a.DELETE_LOCATION}],state:!1},{label:qe.PATIENT_ALERT_MANAGEMENT,permissions:[{value:je.a.VIEW_PATIENT_ALERT},{value:je.a.CLOSE_PATIENT_ALERT}],state:!1},{label:qe.PATIENT_HEALTH_SCORE_MANAGEMENT,permissions:[{value:je.a.MEASURE_HEALTH_SCORE},{value:je.a.PATIENT_HEALTH_SCORE_MANAGEMENT}],state:!1},{label:qe.PATIENT_MANAGEMENT,permissions:[{value:je.a.ADD_PATIENT,label:"Add Patient"},{value:je.a.EDIT_PATIENT,label:"Edit Patient"},{value:je.a.VIEW_PATIENT,label:"View Patient"},{value:je.a.DELETE_PATIENT,label:"Delete Patient"},{value:je.a.VIEW_ASSIGNED_STAFF,label:"View Assigned Staff"},{value:je.a.VIEW_PATIENT_LISTING_SCREEN,label:"View Patient Listing Screen"},{value:je.a.VIEW_PATIENT_NOTES,label:"View Patient Notes"},{value:je.a.ADD_PATIENT_NOTES,label:"Add Patient Notes"},{value:je.a.VIEW_UNASSIGNED_PATIENTS,label:"View Unassigned Patients"}],state:!0},{label:qe.PHYSICIAN_ORDER_MANAGEMENT,permissions:[{value:je.a.ADD_PHYSICIAN_ORDER},{value:je.a.EDIT_PHYSICIAN_ORDER},{value:je.a.VIEW_PHYSICIAN_ORDER},{value:je.a.DELETE_PHYSICIAN_ORDER}],state:!1},{label:qe.ROLE_MANAGEMENT,permissions:[{value:je.a.ADD_ROLE,label:"Add Role"},{value:je.a.EDIT_ROLE,label:"Edit Role"},{value:je.a.VIEW_ROLE,label:"View Role"},{value:je.a.DELETE_ROLE,label:"Delete Role"},{value:je.a.ASSIGN_ROLE,label:"Assign Role"}],state:!0},{label:qe.RPM_PERMISSIONS,permissions:[{value:je.a.ADD_DST},{value:je.a.RESCHEDULE_DST},{value:je.a.ADD_TMS},{value:je.a.ADD_ADDITIONAL_TMS},{value:je.a.ADD_ADDITIONAL_TMS_B},{value:je.a.ADD_NON_COMPLEX_TMS},{value:je.a.ADD_COMPLEX_TMS}],state:!1},{label:qe.SMS_TEMPLATE_MANAGEMENT,permissions:[{value:je.a.VIEW_SMS_TEMPLATE},{value:je.a.ADD_SMS_TEMPLATE},{value:je.a.EDIT_SMS_TEMPLATE},{value:je.a.DELETE_SMS_TEMPLATE},{value:je.a.SENT_MESSAGE},{value:je.a.VIEW_CONVERSATION}],state:!1},{label:qe.STAFF_MANAGEMENT,permissions:[{value:je.a.ADD_STAFF,label:"Add Staff"},{value:je.a.EDIT_STAFF,label:"Edit Staff"},{value:je.a.VIEW_STAFF,label:"View Staff"},{value:je.a.DELETE_STAFF,label:"Delete Staff"},{value:je.a.ASSIGN_STAFF,label:"Assign Staff"},{value:je.a.ASSIGN_PATIENT,label:"Assign Patient"},{value:je.a.VIEW_PHYSICIANS,label:"View Physicians"},{value:je.a.VIEW_MONITORING_STAFF,label:"View Monitoring Staff"},{value:je.a.ADD_PHYSICIAN,label:"Add Physician"},{value:je.a.ADD_MONITORING_STAFF,label:"Add Monitoring Staff"},{value:je.a.EDIT_PHYSICIANS,label:"Edit Physicians"},{value:je.a.EDIT_MONITORING_STAFF,label:"Edit Monitoring Staff"},{value:je.a.DELETE_PHYSICIANS,label:"Delete Physicians"},{value:je.a.DELETE_MONITORING_STAFF,label:"Delete Monitoring Staff"},{value:je.a.ASSIGN_PHYSICIANS,label:"Assign Physicians"}],state:!0},{label:qe.TAG_MANAGEMENT,permissions:[{value:je.a.ADD_EDIT_TAG},{value:je.a.ADD_EDIT_TAG},{value:je.a.VIEW_TAG},{value:je.a.DELETE_TAG}],state:!1},{label:qe.VITAL_TEMPLATE_MANAGEMENT,permissions:[{value:je.a.ADD_VITAL_BLUEPRINT},{value:je.a.EDIT_VITAL_BLUEPRINT},{value:je.a.VIEW_VITAL_BLUEPRINT},{value:je.a.DELETE_VITAL_BLUEPRINT}],state:!1}].filter(function(e){return e.state});var n=this.findRole(this.selectedNode.key,this.roles);this.permissionGroups.forEach(function(e){var t=e.permissions.length,i=0;e.permissions.forEach(function(e){var t;(null===(t=null==n?void 0:n.privileges)||void 0===t?void 0:t.includes(null==e?void 0:e.value))&&(e.isEnabled=!0,i++)}),t==i&&(e.isEnabled=!0)})}}},{key:"ngOnInit",value:function(){var n,t=this;console.log("ON INIT"),this.loadRoles(),(n=this.translationService).getMultiple.apply(n,e(this.strings)).pipe(Object(C.a)(this.unsubscribed)).subscribe(function(e){t.translatedStrings=e})}},{key:"loadRoles",value:function(){var e=this;this.rolesService.getRoles().subscribe(function(n){e.roles=e.loadChildRoles(null,n)})}},{key:"loadChildRoles",value:function(e,t){var i,o=[],a=function(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,r=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return r=e.done,e},e:function(e){s=!0,l=e},f:function(){try{r||null==i.return||i.return()}finally{if(s)throw l}}}}(t);try{for(a.s();!(i=a.n()).done;){var l=i.value;if(l.parentId===e){var r=new Be.b;r.title=l.name,r.key=l.id,r.privileges=l.privileges,r.followsHierarchyConstraints=l.followsHierarchyConstraints,"TENANT"!==r.accessBoundary||r.followsHierarchyConstraints||(r.title=r.title+" ( * Global Role )");var s=this.loadChildRoles(r.key,t);r.children=s,o.push(r)}}}catch(c){a.e(c)}finally{a.f()}return o}},{key:"showAddDialog",value:function(e){var n=this,t=this.translatedStrings.get("ROLES.ADD_NEW_ROLES");null!=e&&(t=t+" Under "+e.title);var i=this.nzModalService.create({nzTitle:t,nzOkText:this.translatedStrings.get("COMMON.BTN_OK"),nzCancelText:this.translatedStrings.get("COMMON.BTN_CANCEL"),nzContent:Ye,nzOnOk:function(){var t=i.getContentComponent().roleName,o=i.getContentComponent().isGlobal;n.createRole(t,o,e)}})}},{key:"createRole",value:function(e,n,t){var i=this,o=localStorage.getItem("loggedInTenant"),a=null;null!=t&&null!=t.key&&(a=t.key);var l={name:e,parentId:a,tenantId:o,globalRole:n};n&&(l.accessBoundary="TENANT"),this.rolesService.createRole(l).subscribe(function(){i._settingsEventLogger.addRoleEvent(a,e),i._notificationsService.success(i.translatedStrings.get("PORTAL.ROLE"),i.translatedStrings.get("ROLES.ROLE_SAVED_SUCCESSFULLY")),i.loadRoles()},function(e){e.error.message?i._notificationsService.error("Form",e.error.message):i._notificationsService.error(i.translatedStrings.get("PORTAL.ROLE"),i.translatedStrings.get("ROLES.ERROR_SOMETHING_WRONG"))})}},{key:"permissionUpdated",value:function(e){this.permissionsChanged=!0}},{key:"permissionGroupToggled",value:function(e){this.permissionsChanged=!0,e.permissions.forEach(function(n){n.isEnabled=e.isEnabled})}},{key:"savePermissions",value:function(){var e=this,n=[];this.selectedNode.permissions=n,this.permissionGroups.forEach(function(e){e.permissions.forEach(function(e){e.isEnabled&&n.push(e.value)})}),this.rolesService.updateRole({id:this.selectedNode.key,privileges:n}).subscribe(function(n){e._settingsEventLogger.savePermissionEvent(e.selectedNode.key),e.loadRoles()})}}]),l}(b.a),un.\u0275fac=function(e){return new(e||un)(_.Rb(y.b),_.Rb(Ze.f),_.Rb($e.a),_.Rb(v.a),_.Rb(h.a))},un.\u0275cmp=_.Lb({type:un,selectors:[["app-roles"]],features:[_.Ab],decls:11,vars:7,consts:[["nz-row",""],["nz-col","","nzSpan","12"],[3,"nzTitle","nzExtra"],["addRoleTemplate",""],[3,"nzData","nzSearchValue","nzClick","nzExpandChange","nzSearchValueChange"],["nzTreeTemplate",""],["id","permissions-card",3,"nzTitle","nzExtra",4,"ngIf"],["nz-button","",3,"click"],[1,"role-name"],["nz-button","","nzType","default","nzSize","small",3,"click"],["id","permissions-card",3,"nzTitle","nzExtra"],["permissionTitle",""],["extraTemplate",""],["nzBordered","","nzSize","small"],[3,"nzHeader","nzExtra",4,"ngFor","ngForOf"],["nz-button","","nzType","primary",3,"click",4,"ngIf"],["nz-button","","nzType","primary",3,"click"],[3,"nzHeader","nzExtra"],["extraTpl",""],[4,"ngFor","ngForOf"],["nz-checkbox","",3,"ngModel","ngModelChange"]],template:function(e,n){if(1&e&&(_.Xb(0,"div",0),_.Xb(1,"div",1),_.Xb(2,"nz-card",2),_.jc(3,"translate"),_.Vc(4,en,3,3,"ng-template",null,3,_.Wc),_.Xb(6,"nz-tree",4),_.ec("nzClick",function(e){return n.nzEvent(e)})("nzExpandChange",function(e){return n.nzEvent(e)})("nzSearchValueChange",function(e){return n.nzEvent(e)}),_.Vc(7,nn,4,1,"ng-template",null,5,_.Wc),_.Wb(),_.Wb(),_.Wb(),_.Xb(9,"div",1),_.Vc(10,cn,8,3,"nz-card",6),_.Wb(),_.Wb()),2&e){var t=_.Ic(5);_.Db(2),_.sc("nzTitle",_.kc(3,5,"PORTAL.ROLE")),_.rc("nzExtra",t),_.Db(4),_.rc("nzData",n.roles)("nzSearchValue",n.searchValue),_.Db(4),_.rc("ngIf",n.selectedNode)}},directives:[I.c,I.a,Se.a,Ke.a,d.q,Ne.a,ze.a,V.a,Je.a,Qe.a,d.p,Qe.c,R.a,O.u,O.x,Je.e],pipes:[J.a],styles:["nz-card[_ngcontent-%COMP%]{margin:0 16px}.role-name[_ngcontent-%COMP%]{cursor:pointer}#permissions-card[_ngcontent-%COMP%]{height:500px;overflow-y:scroll}"]}),un),data:He,canActivate:[ye.a,Ie.a]}],vn=((dn=function e(){u(this,e)}).\u0275mod=_.Pb({type:dn}),dn.\u0275inj=_.Ob({factory:function(e){return new(e||dn)},imports:[[p.k.forChild(fn)],p.k]}),dn),hn=l("SHZf"),En=l("UFn0"),mn=l("7pIB"),Cn=((gn=function(){function e(n){u(this,e),this._http=n,this.rootUrl=f.g.url}return c(e,[{key:"revokePcc",value:function(){var e,n=new Headers;return n.append("Content-Type","application/json"),n.append("Accept","application/json"),e=localStorage.getItem("loggedInTenant"),n.append("X-Auth-Token",localStorage.getItem("sessionToken")),this._http.post(this.rootUrl+"/v2/pcc/revokeaccount/"+e,{})}},{key:"syncStatus",value:function(e){var n,t=new Headers;return t.append("Content-Type","application/json"),t.append("Accept","application/json"),n=localStorage.getItem("loggedInTenant"),t.append("X-Auth-Token",localStorage.getItem("sessionToken")),this._http.get(this.rootUrl+"/v2/pcc/core/syncstatus/"+n+"/?status="+e)}},{key:"pccstatus",value:function(){var e,n=new Headers;return n.append("Content-Type","application/json"),n.append("Accept","application/json"),e=localStorage.getItem("loggedInTenant"),n.append("X-Auth-Token",localStorage.getItem("sessionToken")),this._http.get(this.rootUrl+"/v2/pcc/"+e+"/islinked",{responseType:"text"})}}]),e}()).\u0275fac=function(e){return new(e||gn)(_.bc(E.c))},gn.\u0275prov=_.Nb({token:gn,factory:gn.\u0275fac}),gn),Sn=((bn=function e(){u(this,e)}).\u0275mod=_.Pb({type:bn}),bn.\u0275inj=_.Ob({factory:function(e){return new(e||bn)},providers:[J.a],imports:[[d.c,En.a,O.o,hn.a.forRoot()]]}),bn),An=((pn=function e(n){u(this,e),this.translationService=n,n.setLanguage()}).\u0275mod=_.Pb({type:pn}),pn.\u0275inj=_.Ob({factory:function(e){return new(e||pn)(_.bc(v.a))},providers:[Cn],imports:[[En.a,d.c,O.o,s.a,vn,mn.a,hn.a.forRoot(),Sn]]}),pn)},b1TM:function(e,n,t){"use strict";t.d(n,"a",function(){return r});var i=t("AytR"),o=t("SxV6"),a=t("tk/3"),l=t("fXoL"),r=function(){var e=function(){function e(n){u(this,e),this._http=n,this.rootUrl=i.g.url}return c(e,[{key:"createConfigSetting",value:function(e){return this._http.post(this.rootUrl+"//",JSON.stringify(e)).pipe(Object(o.a)())}},{key:"updateConfigSetting",value:function(e){return e.tenantId=localStorage.getItem("loggedInTenant"),this._http.put(this.rootUrl+"/v2/tenants/settings/",JSON.stringify(e)).pipe(Object(o.a)())}},{key:"getConfigSetting",value:function(){return this._http.get(this.rootUrl+"/v2/tenants/settings/").pipe(Object(o.a)())}},{key:"updatePassword",value:function(e){return this._http.put(this.rootUrl+"/v2/users/changePassword/",JSON.stringify(e)).pipe(Object(o.a)())}},{key:"postPatchRequest",value:function(e,n){var t=new a.g({patch_json:"yes"});return e&&(t=t.append("tenant-id",e)),this._http.patch(this.rootUrl+"/ehealth/v3/tenant-configurations/"+e,n,{headers:t}).pipe(Object(o.a)())}},{key:"getTenantSettings",value:function(e,n){var t=new a.g;return n&&(t=t.append("tenant-id",n)),this._http.get(this.rootUrl+"/ehealth/v2/tenants/"+encodeURIComponent(e)+"/"+n+"/settings",{headers:t}).pipe(Object(o.a)())}}]),e}();return e.\u0275fac=function(n){return new(n||e)(l.bc(a.c))},e.\u0275prov=l.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()}}])}();