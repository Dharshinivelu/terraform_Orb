!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function t(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&r(e,n)}function r(e,n){return(r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function i(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var t,a=o(e);if(n){var r=o(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return c(this,t)}}function c(e,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{OCRN:function(e,n,t){},hsp1:function(n,r,c){"use strict";c.r(r),c.d(r,"InsuranceModule",function(){return Oe});var o=c("ofXK"),l=c("3Pt+"),u=c("KZX/"),s=c("SHZf"),b=c("UFn0"),d=c("iCh7"),p=c("qQcL"),h=c("pLZG"),f=c("1G5W"),y=c("ua0i"),g=function(e){return e.FFS="FFS",e.CAPITATION="CAPITATION",e}({}),v=c("fXoL"),z=c("bNXi"),m=c("JA5x"),I=c("B+r4"),P=c("zAKX"),X=c("5vDB"),C=c("eHCX"),T=c("glKu"),M=c("KupA");function S(e,n){if(1&e&&v.Sb(0,"nz-option",22),2&e){var t=n.$implicit;v.rc("nzLabel",null==t?null:t.value)("nzValue",null==t?null:t.key)}}function k(e,n){if(1&e&&v.Sb(0,"nz-option",22),2&e){var t=n.$implicit;v.rc("nzLabel",null==t?null:t.value)("nzValue",null==t?null:t.key)}}function W(e,n){if(1&e&&v.Xc(0),2&e){var t=v.ic().$implicit;v.Zc(" and ",null==t.value.secondaryPayerTypes?null:t.value.secondaryPayerTypes.length," more selected ")}}function A(e,n){1&e&&(v.Vb(0),v.Sb(1,"br"),v.Xb(2,"div",2),v.Xb(3,"div",3),v.Xb(4,"strong",23),v.Xc(5," Primary insurance of the patient must be of the selected payer type "),v.Wb(),v.Wb(),v.Xb(6,"div",3),v.Xb(7,"strong",23),v.Xc(8," Secondary insurance of the patient should contain at least 1 of the following selected payer types "),v.Wb(),v.Wb(),v.Wb(),v.Ub())}function D(e,n){if(1&e){var t=v.Yb();v.Vb(0),v.Xb(1,"a",24),v.ec("click",function(){return v.Lc(t),v.ic(2).add()}),v.Sb(2,"app-icons",25),v.Wb(),v.Xc(3," \xa0 "),v.Ub()}}function E(e,n){if(1&e){var t=v.Yb();v.Vb(0),v.Xb(1,"a",26),v.ec("nzOnConfirm",function(){v.Lc(t);var e=v.ic().$implicit;return v.ic().delete(null==e?null:e.key)}),v.Sb(2,"app-icons",27),v.Wb(),v.Ub()}}function O(e,n){1&e&&(v.Vb(0),v.Sb(1,"br"),v.Xb(2,"div",2),v.Xb(3,"div",3),v.Xb(4,"strong",23),v.Xc(5," The rule will be applied to these programs only "),v.Wb(),v.Wb(),v.Xb(6,"div",3),v.Xb(7,"strong",23),v.Xc(8," The rule will be applied to patients who support the specified payment model only "),v.Wb(),v.Wb(),v.Xb(9,"div",28),v.Xb(10,"strong",23),v.Xc(11," The rules defined under this section will mark a patient's insurance as the selected tier "),v.Wb(),v.Wb(),v.Wb(),v.Ub())}function R(e,n){if(1&e&&(v.Vb(0),v.Xb(1,"nz-card"),v.Xb(2,"div",2),v.Xb(3,"div",3),v.Xb(4,"strong"),v.Xc(5,"Primary Insurance"),v.Wb(),v.Xb(6,"nz-select",4),v.ec("ngModelChange",function(e){return n.$implicit.value.primaryPayerType=e}),v.Vc(7,S,1,2,"nz-option",5),v.jc(8,"keyvalue"),v.Wb(),v.Wb(),v.Xb(9,"div",3),v.Xb(10,"strong"),v.Xc(11,"Secondary Insurance"),v.Wb(),v.Xb(12,"nz-select",6),v.ec("ngModelChange",function(e){return n.$implicit.value.secondaryPayerTypes=e}),v.Vc(13,k,1,2,"nz-option",5),v.jc(14,"keyvalue"),v.Wb(),v.Vc(15,W,1,1,"ng-template",null,7,v.Wc),v.Wb(),v.Wb(),v.Vc(17,A,9,0,"ng-container",8),v.Sb(18,"br"),v.Xb(19,"div",2),v.Xb(20,"div",3),v.Xb(21,"strong"),v.Xc(22,"Program(s)"),v.Wb(),v.Xb(23,"nz-select",9),v.ec("ngModelChange",function(e){return n.$implicit.value.programs=e}),v.Sb(24,"nz-option",10),v.Sb(25,"nz-option",11),v.Sb(26,"nz-option",12),v.Wb(),v.Wb(),v.Xb(27,"div",3),v.Xb(28,"strong"),v.Xc(29,"Payment Model"),v.Wb(),v.Xb(30,"nz-select",13),v.ec("ngModelChange",function(e){return n.$implicit.value.paymentModel=e}),v.Sb(31,"nz-option",14),v.Sb(32,"nz-option",15),v.Wb(),v.Wb(),v.Xb(33,"div",16),v.Xb(34,"strong"),v.Xc(35,"Tier"),v.Wb(),v.Xb(36,"nz-select",17),v.ec("ngModelChange",function(e){return n.$implicit.value.tier=e}),v.Sb(37,"nz-option",18),v.Sb(38,"nz-option",19),v.Sb(39,"nz-option",20),v.Sb(40,"nz-option",21),v.Wb(),v.Wb(),v.Xb(41,"div",16),v.Xb(42,"strong"),v.Xc(43,"\xa0"),v.Wb(),v.Vc(44,D,4,0,"ng-container",8),v.Vc(45,E,3,0,"ng-container",8),v.Wb(),v.Wb(),v.Vc(46,O,12,0,"ng-container",8),v.Wb(),v.Sb(47,"nz-divider"),v.Ub()),2&e){var t=n.$implicit,a=n.index,r=v.Ic(16),i=v.ic();v.Db(6),v.rc("ngModel",t.value.primaryPayerType),v.Db(1),v.rc("ngForOf",v.kc(8,22,i.payerTypeMap)),v.Db(5),v.rc("nzMaxTagCount",2)("nzMaxTagPlaceholder",r)("ngModel",t.value.secondaryPayerTypes),v.Db(1),v.rc("ngForOf",v.kc(14,24,i.payerTypeMap)),v.Db(4),v.rc("ngIf",0===a),v.Db(6),v.rc("ngModel",t.value.programs),v.Db(1),v.rc("nzValue","RPM"),v.Db(1),v.rc("nzValue","BHI"),v.Db(1),v.rc("nzValue","CCM"),v.Db(4),v.rc("ngModel",t.value.paymentModel),v.Db(1),v.rc("nzValue","FFS"),v.Db(1),v.rc("nzValue","CAPITATION"),v.Db(4),v.rc("ngModel",t.value.tier),v.Db(1),v.rc("nzValue",1),v.Db(1),v.rc("nzValue",2),v.Db(1),v.rc("nzValue",3),v.Db(1),v.rc("nzValue",4),v.Db(4),v.rc("ngIf",(null==i.rules?null:i.rules.size)-1===a),v.Db(1),v.rc("ngIf",0!=(null==i.rules?null:i.rules.size)-1),v.Db(1),v.rc("ngIf",0===a)}}var w,L=((w=function(n){a(c,n);var r=i(c);function c(n,t){var a;return e(this,c),(a=r.call(this))._insuranceService=n,a._notificationsService=t,a.pageIndex=1,a.payerTypeMap=new Map([["UNKNOWN","Unknown"],["MEDICARE","Medicare"],["MEDICARE_ADVANTAGE","Medicare Advantage"],["COMMERCIAL","Commercial"],["OTHER","Other"],["MEDICAID","Medicaid"],["GOVERNMENT","Government"]]),a.baseTierRules=[{primaryPayerType:"MEDICARE_ADVANTAGE",secondaryPayerTypes:["MEDICAID"],programs:[y.a.CCM],paymentModel:g.FFS,tier:1},{primaryPayerType:"MEDICARE",secondaryPayerTypes:["MEDICAID","COMMERCIAL"],programs:[y.a.CCM],paymentModel:g.FFS,tier:1},{primaryPayerType:"MEDICARE",secondaryPayerTypes:[],programs:[y.a.CCM],paymentModel:g.FFS,tier:2},{primaryPayerType:"MEDICARE_ADVANTAGE",secondaryPayerTypes:["MEDICARE_ADVANTAGE"],programs:[y.a.CCM],paymentModel:g.FFS,tier:3}],a.rules=new Map([[String(Date.now()),a.baseTierRules[0]],[String(Date.now()+1),a.baseTierRules[1]],[String(Date.now()+2),a.baseTierRules[2]],[String(Date.now()+3),a.baseTierRules[3]]]),a._routeHelperService.isPrimaryActionTriggered().pipe(Object(h.a)(function(e){return!!e}),Object(f.a)(a.unsubscribed)).subscribe(function(){return a.saveAndApply()}),a._routeHelperService.isSecondaryActionTriggered().pipe(Object(h.a)(function(e){return!!e}),Object(f.a)(a.unsubscribed)).subscribe(function(){return a.saveAndApply(!0)}),a}return t(c,[{key:"ngOnInit",value:function(){this.getAllInsurancePlans(),this.getExistingInsuranceTierRules()}},{key:"getAllInsurancePlans",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this._insuranceService.fetchAllInsurancePlans(n-1,99999999,this.searchKey).subscribe(function(n){e.insurancePlans=n,e.loading=!1})}},{key:"getExistingInsuranceTierRules",value:function(){var e=this;this._insuranceService.fetchInsuranceTierRules().subscribe(function(n){n&&(e.rules=new Map(Object.entries(null==n?void 0:n.rulesMap)))})}},{key:"add",value:function(){var e={primaryPayerType:"",secondaryPayerTypes:[],programs:[y.a.CCM],paymentModel:g.FFS,tier:1};this.rules.set(String(Date.now()),e)}},{key:"delete",value:function(e){this.rules.delete(e)}},{key:"saveAndApply",value:function(){var e,n=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a={};null===(e=this.rules)||void 0===e||e.forEach(function(e,n){a[n]=e}),this._insuranceService.saveInsuranceTierRules({rulesMap:a}).subscribe(function(){t?n._insuranceService.applyInsuranceTierRules().subscribe(function(){n._notificationsService.success("Insurance Tier Rules","Rules saved and are being applied!")}):n._notificationsService.success("Insurance Tier Rules","Rules updated successfully!")})}}]),c}(p.a)).\u0275fac=function(e){return new(e||w)(v.Rb(d.a),v.Rb(z.b))},w.\u0275cmp=v.Lb({type:w,selectors:[["app-tier-labeling"]],features:[v.Ab],decls:3,vars:3,consts:[[1,"container"],[4,"ngFor","ngForOf"],["nz-row","","nzGutter","16"],["nz-col","","nzSpan","8"],["nzPlaceHolder","Please select one payer type",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzMode","multiple","nzPlaceHolder","Please select one or more payer types",3,"nzMaxTagCount","nzMaxTagPlaceholder","ngModel","ngModelChange"],["alsoContainPlaceHolder",""],[4,"ngIf"],["nzMode","tags","nzPlaceHolder","Please select supported programs",3,"ngModel","ngModelChange"],["nzLabel","RPM",3,"nzValue"],["nzLabel","BHI",3,"nzValue"],["nzLabel","CCM",3,"nzValue"],["nzPlaceHolder","Please select the payment model",3,"ngModel","ngModelChange"],["nzLabel","Fee for Service",3,"nzValue"],["nzLabel","Capitation",3,"nzValue"],["nz-col","","nzSpan","3"],["nzPlaceHolder","Please select a tier",3,"ngModel","ngModelChange"],["nzLabel","Tier 1",3,"nzValue"],["nzLabel","Tier 2",3,"nzValue"],["nzLabel","Tier 3",3,"nzValue"],["nzLabel","Tier 4",3,"nzValue"],[3,"nzLabel","nzValue"],["nz-typography","","nzType","secondary"],[3,"click"],["name","plusCircle"],["nz-popconfirm","","nzPopconfirmTitle","Are you sure ?","nzPopconfirmPlacement","bottom",3,"nzOnConfirm"],["name","delete"],["nz-col","","nzSpan","6"]],template:function(e,n){1&e&&(v.Xb(0,"div",0),v.Vc(1,R,48,26,"ng-container",1),v.jc(2,"keyvalue"),v.Wb()),2&e&&(v.Db(1),v.rc("ngForOf",v.kc(2,1,n.rules)))},directives:[o.p,m.a,I.c,I.a,P.d,l.u,l.x,o.q,P.a,X.a,C.a,T.a,M.a],pipes:[o.j],styles:["a[_ngcontent-%COMP%]{display:inline-block;margin-top:25px}app-icons[_ngcontent-%COMP%]{vertical-align:sub}[_nghost-%COMP%]     .ant-typography-secondary{font-size:12px}"]}),w),_=c("4ik+"),V=c("tyNb"),N=c("rMZv"),x=c("PTRe"),U=c("nJia");function j(e,n){if(1&e&&v.Sb(0,"nz-option",18),2&e){var t=n.$implicit;v.rc("nzLabel",t)("nzValue",t)}}function F(e,n){if(1&e){var t=v.Yb();v.Xb(0,"nz-card"),v.Xb(1,"strong"),v.Xc(2,"Payer name"),v.Wb(),v.Xb(3,"input",7),v.ec("ngModelChange",function(e){return v.Lc(t),v.ic().insurancePayer.name=e}),v.Wb(),v.Sb(4,"br"),v.Sb(5,"br"),v.Xb(6,"strong"),v.Xc(7,"Payer Type"),v.Wb(),v.Xb(8,"nz-select",8),v.ec("ngModelChange",function(e){return v.Lc(t),v.ic().insurancePayer.type=e}),v.Sb(9,"nz-option",9),v.Sb(10,"nz-option",10),v.Sb(11,"nz-option",11),v.Sb(12,"nz-option",12),v.Sb(13,"nz-option",13),v.Sb(14,"nz-option",14),v.Sb(15,"nz-option",15),v.Wb(),v.Sb(16,"br"),v.Sb(17,"br"),v.Xb(18,"strong"),v.Xc(19,"Supported CPT Codes"),v.Wb(),v.Xb(20,"nz-select",16),v.ec("ngModelChange",function(e){return v.Lc(t),v.ic().insurancePayer.serviceCodes=e}),v.Vc(21,j,1,2,"nz-option",17),v.Wb(),v.Sb(22,"br"),v.Sb(23,"br"),v.Xb(24,"strong"),v.Xc(25,"Payer EMR Id"),v.Wb(),v.Xb(26,"input",7),v.ec("ngModelChange",function(e){return v.Lc(t),v.ic().insurancePayer.payerEMRId=e}),v.Wb(),v.Wb()}if(2&e){var a=v.ic();v.Db(3),v.rc("ngModel",a.insurancePayer.name),v.Db(5),v.rc("ngModel",a.insurancePayer.type),v.Db(12),v.rc("ngModel",a.insurancePayer.serviceCodes),v.Db(1),v.rc("ngForOf",null==a.insurancePayer?null:a.insurancePayer.serviceCodes),v.Db(5),v.rc("ngModel",a.insurancePayer.payerEMRId)}}function G(e,n){if(1&e){var t=v.Yb();v.Xb(0,"tr"),v.Xb(1,"td",19),v.jc(2,"titlecase"),v.Xb(3,"strong"),v.Xc(4),v.jc(5,"titlecase"),v.Wb(),v.Wb(),v.Xb(6,"td",19),v.Xc(7),v.Wb(),v.Xb(8,"td"),v.Xb(9,"a",20),v.ec("nzOnConfirm",function(){v.Lc(t);var e=n.$implicit;return v.ic().delete(e.id)}),v.Sb(10,"app-icons",21),v.Wb(),v.Wb(),v.Wb()}if(2&e){var a=n.$implicit;v.Db(1),v.rc("nzTooltipTitle",v.kc(2,4,null==a?null:a.name)),v.Db(3),v.Yc(v.kc(5,6,null==a?null:a.name)),v.Db(2),v.rc("nzTooltipTitle",null==a?null:a.planId),v.Db(1),v.Zc(" ",null==a?null:a.planId," ")}}var $,H=function(){return["50%","30%","20%"]},B=(($=function(n){a(c,n);var r=i(c);function c(n,t,a,i){var o;return e(this,c),(o=r.call(this))._router=n,o._activatedRoute=t,o._insuranceService=a,o._notificationsService=i,o.pageIndex=1,o._routeHelperService.isPrimaryActionTriggered().pipe(Object(_.filter)(function(e){return!!e}),Object(f.a)(o.unsubscribed)).subscribe(function(){return o.updateInsurancePayer()}),o}return t(c,[{key:"ngOnInit",value:function(){this.getInsurancePayerById()}},{key:"getInsurancePayerById",value:function(){var e=this;this._insuranceService.fetchInsurancePayerById(this._activatedRoute.snapshot.params.id).subscribe(function(n){var t;e.insurancePayer=n,e._routeHelperService.setTitleForRoute(null===(t=e.insurancePayer)||void 0===t?void 0:t.name)})}},{key:"getInsurancePlansByPayerId",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this._activatedRoute.snapshot.params.id;this.loading=!0,this._insuranceService.fetchInsurancePlansForPayer(t,n-1,10,this.searchKey).subscribe(function(n){e.insurancePlans=n,e.loading=!1})}},{key:"onQueryParamsChange",value:function(e){var n=e.pageIndex;this.getInsurancePlansByPayerId(n)}},{key:"updateInsurancePayer",value:function(){var e=this;this._insuranceService.updateInsurancePayer(this.insurancePayer).subscribe(function(){e._notificationsService.success("Insurance Payer","Payer updated successfully!"),e._router.navigate(["insurance-payers"])})}},{key:"delete",value:function(e){var n=this;this._insuranceService.deleteInsurancePlan(e).subscribe(function(){n._notificationsService.success("Insurance Plans","Plan deleted successfully!"),n.getInsurancePlansByPayerId()})}}]),c}(p.a)).\u0275fac=function(e){return new(e||$)(v.Rb(V.g),v.Rb(V.a),v.Rb(d.a),v.Rb(z.b))},$.\u0275cmp=v.Lb({type:$,selectors:[["app-payer"]],features:[v.Ab],decls:18,vars:10,consts:[[1,"container"],["nz-row",""],["nz-col","","nzSpan","14"],[4,"ngIf"],[3,"nzData","nzShowPagination","nzLoading","nzFrontPagination","nzTotal","nzPageIndex","nzWidthConfig","nzQueryParams"],["insurancePlansTable",""],[4,"ngFor","ngForOf"],["type","text","nz-input","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["nzValue","UNKNOWN","nzLabel","Unknown"],["nzValue","MEDICARE","nzLabel","Medicare"],["nzValue","MEDICARE_ADVANTAGE","nzLabel","Medicare Advantage"],["nzValue","COMMERCIAL","nzLabel","Commercial"],["nzValue","OTHER","nzLabel","Other"],["nzValue","MEDICAID","nzLabel","Medicaid"],["nzValue","GOVERNMENT","nzLabel","Government"],["nzMode","tags","nzPlaceHolder","Supported CPT Codes",3,"ngModel","ngModelChange"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],[3,"nzLabel","nzValue"],["nzEllipsis","","nz-tooltip","",3,"nzTooltipTitle"],["nz-popconfirm","","nzPopconfirmTitle","Are you sure ?","nzPopconfirmPlacement","bottom",3,"nzOnConfirm"],["name","delete"]],template:function(e,n){if(1&e&&(v.Xb(0,"div",0),v.Sb(1,"br"),v.Xb(2,"div",1),v.Xb(3,"div",2),v.Vc(4,F,27,5,"nz-card",3),v.Wb(),v.Wb(),v.Sb(5,"nz-divider"),v.Xb(6,"nz-table",4,5),v.ec("nzQueryParams",function(e){return n.onQueryParamsChange(e)}),v.Xb(8,"thead"),v.Xb(9,"tr"),v.Xb(10,"th"),v.Xc(11,"Plan Name"),v.Wb(),v.Xb(12,"th"),v.Xc(13,"Plan Id"),v.Wb(),v.Xb(14,"th"),v.Xc(15,"Action"),v.Wb(),v.Wb(),v.Wb(),v.Xb(16,"tbody"),v.Vc(17,G,11,8,"tr",6),v.Wb(),v.Wb(),v.Wb()),2&e){var t=v.Ic(7);v.Db(4),v.rc("ngIf",n.insurancePayer),v.Db(2),v.rc("nzData",null==n.insurancePlans?null:n.insurancePlans.content)("nzShowPagination",!0)("nzLoading",n.loading)("nzFrontPagination",!1)("nzTotal",null==n.insurancePlans?null:n.insurancePlans.totalElements)("nzPageIndex",n.pageIndex)("nzWidthConfig",v.xc(9,H)),v.Db(11),v.rc("ngForOf",t.data)}},directives:[I.c,I.a,o.q,X.a,N.f,N.n,N.o,N.e,N.l,N.i,o.p,m.a,x.b,l.d,l.u,l.x,P.d,P.a,N.c,U.d,M.a,T.a],pipes:[o.A],styles:[""]}),$),K={Listing:{header:!0,title:"Insurance Payers",searchEnabled:!0,primaryAction:{title:"Bulk Upload",enabled:!0},secondaryAction:{title:"Tier Labeling",enabled:!0},multiAction:{},showTenantToggle:!0,subTenantToggleMode:"SINGLE"},BulkUpload:{header:!0,title:"Bulk Upload | Insurance Payers",searchEnabled:!1,primaryAction:{title:"Upload",permissions:[],enabled:!0},secondaryAction:{title:"Download Template",permissions:[],enabled:!0},multiAction:{},showTenantToggle:!0,subTenantToggleMode:"SINGLE"},Form:{header:!0,title:"Insurance Plan Form",searchEnabled:!1,primaryAction:{title:"Update",enabled:!0},secondaryAction:{},multiAction:{},showTenantToggle:!1},TierLabeling:{header:!0,title:"Insurance Tier Labeling",searchEnabled:!1,primaryAction:{title:"Save",enabled:!0},secondaryAction:{title:"Save & Apply",enabled:!0},multiAction:{},showTenantToggle:!0,subTenantToggleMode:"SINGLE"}},Z=c("T5gh"),Y=c("bA1+"),Q=(c("OCRN"),c("igu/")),q=c("OzZK"),J=c("RwU8"),ee=c("C2AL"),ne=c("Nqz0"),te=c("Q8cG"),ae=c("Szod"),re=c("t2pg");function ie(e,n){1&e&&(v.Xb(0,"th"),v.Xc(1," Sub Tenant "),v.Wb())}function ce(e,n){if(1&e&&(v.Xb(0,"td"),v.Xc(1),v.jc(2,"tenantName"),v.Wb()),2&e){var t=v.ic().$implicit;v.Db(1),v.Zc(" ",v.kc(2,1,null==t?null:t.tenantId)," ")}}function oe(e,n){if(1&e){var t=v.Yb();v.Vb(0),v.Xc(1," \xa0\xa0 "),v.Xb(2,"a",31),v.ec("nzOnConfirm",function(){v.Lc(t);var e=v.ic().$implicit;return v.ic().delete(e.id)}),v.Sb(3,"app-icons",32),v.Wb(),v.Ub()}}function le(e,n){if(1&e){var t=v.Yb();v.Xb(0,"tr"),v.Xb(1,"td",25),v.ec("nzCheckedChange",function(e){v.Lc(t);var a=n.$implicit;return v.ic().onItemChecked(null==a?null:a.id,e)}),v.Wb(),v.Xb(2,"td",26),v.jc(3,"titlecase"),v.Xb(4,"strong"),v.Xc(5),v.jc(6,"titlecase"),v.Wb(),v.Wb(),v.Xb(7,"td",26),v.Xc(8),v.Wb(),v.Xb(9,"td",27),v.Xc(10),v.Wb(),v.Xb(11,"td",26),v.Xc(12),v.Wb(),v.Vc(13,ce,3,3,"td",23),v.Xb(14,"td"),v.Xb(15,"a",28),v.Sb(16,"app-icons",29),v.Wb(),v.Vc(17,oe,4,0,"ng-container",30),v.Wb(),v.Wb()}if(2&e){var a=n.$implicit,r=v.ic();v.Db(1),v.rc("nzChecked",r.setOfCheckedId.has(null==a?null:a.id)),v.Db(1),v.rc("nzTooltipTitle",v.kc(3,10,null==a?null:a.name)),v.Db(3),v.Yc(v.kc(6,12,null==a?null:a.name)),v.Db(2),v.rc("nzTooltipTitle",null==r.payerTypeMap?null:r.payerTypeMap.get(null==a?null:a.type)),v.Db(1),v.Zc(" ",null==r.payerTypeMap?null:r.payerTypeMap.get(null==a?null:a.type)," "),v.Db(2),v.Yc((null==a?null:a.serviceCodes)||"N/A"),v.Db(1),v.rc("nzTooltipTitle",null==a?null:a.payerEMRId),v.Db(1),v.Zc(" ",null==a?null:a.payerEMRId," "),v.Db(3),v.sc("routerLink",null==a?null:a.id),v.Db(2),v.rc("ngIf",!1)}}var ue,se,be=function(){return["3%","27%","15%","20%","15%","15%"]},de=((ue=function(n){a(c,n);var r=i(c);function c(n,t,a,i){var o;return e(this,c),(o=r.call(this))._router=n,o._insuranceService=t,o._dataSharingService=a,o._notificationsService=i,o.pageIndex=1,o.checked=!1,o.indeterminate=!1,o.setOfCheckedId=new Set,o.widthConfig=["3%","27%","15%","20%","15%","15%"],o.payerTypeMap=new Map([["UNKNOWN","Unknown"],["MEDICARE","Medicare"],["MEDICARE_ADVANTAGE","Medicare Advantage"],["COMMERCIAL","Commercial"],["OTHER","Other"],["MEDICAID","Medicaid"],["GOVERNMENT","Government"]]),o.selectedPayerType="ALL",o.isAccessAcrossSubTenants&&(o.widthConfig=["3%","20%","15%","15%","15%","12%","15%"]),o._routeHelperService.getSearch().pipe(Object(h.a)(function(e){return e!=o.searchKey}),Object(f.a)(o.unsubscribed)).subscribe(function(e){o.searchKey=e,o.getAllInsurances()}),o._routeHelperService.isPrimaryActionTriggered().pipe(Object(h.a)(function(e){return!!e}),Object(f.a)(o.unsubscribed)).subscribe(function(){return o._router.navigate(["insurance-payers/bulk-upload"])}),o._routeHelperService.isSecondaryActionTriggered().pipe(Object(h.a)(function(e){return!!e}),Object(f.a)(o.unsubscribed)).subscribe(function(){return o._router.navigate(["insurance-payers/tier-labeling"])}),o._dataSharingService.onSubTenantChange().subscribe(function(e){o.onSubTenantChange(e)}),o}return t(c,[{key:"onSubTenantChange",value:function(e){"object"!=typeof e||""==e||null==e||null==e||(this.requestTenantIds=e),this.getAllInsurances()}},{key:"getAllInsurances",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.loading=!0,this._insuranceService.fetchAllInsurancePayers(n-1,10,this.searchKey,this.selectedPayerType).subscribe(function(n){e.insurancePayers=n,e.loading=!1})}},{key:"onQueryParamsChange",value:function(e){var n=e.pageIndex;this.getAllInsurances(n)}},{key:"delete",value:function(e){var n=this;this._insuranceService.deleteInsurancePayer(e).subscribe(function(){n._notificationsService.success("Insurance Payer","Payer deleted successfully!"),n.getAllInsurances()})}},{key:"updateCheckedSet",value:function(e,n){n?this.setOfCheckedId.add(e):this.setOfCheckedId.delete(e)}},{key:"refreshCheckedStatus",value:function(){var e,n,t,a,r=this;this.checked=null===(n=null===(e=this.insurancePayers)||void 0===e?void 0:e.content)||void 0===n?void 0:n.every(function(e){var n=e.id;return r.setOfCheckedId.has(n)}),this.indeterminate=(null===(a=null===(t=this.insurancePayers)||void 0===t?void 0:t.content)||void 0===a?void 0:a.some(function(e){var n=e.id;return r.setOfCheckedId.has(n)}))&&!this.checked}},{key:"onItemChecked",value:function(e,n){this.updateCheckedSet(e,n),this.refreshCheckedStatus()}},{key:"onAllChecked",value:function(e){var n,t,a=this;null===(t=null===(n=this.insurancePayers)||void 0===n?void 0:n.content)||void 0===t||t.forEach(function(n){var t=n.id;return a.updateCheckedSet(t,e)}),this.refreshCheckedStatus()}},{key:"bulkAddPayerType",value:function(e){var n,t=this;(null===(n=this.setOfCheckedId)||void 0===n?void 0:n.size)?this._insuranceService.updateInsurancePayerTypeInBulk({ids:Array.from(this.setOfCheckedId.values()),payerType:e}).subscribe(function(){t._notificationsService.success("Insurance Payers","Payer type assigned successfully!"),t.clearState()}):this._notificationsService.error("Insurance Payers","No ids selected for assigning the payer type!")}},{key:"clearState",value:function(){this.searchKey=void 0,this.checked=!1,this.indeterminate=!1,this.setOfCheckedId=new Set,this.selectedPayerType="ALL",this.getAllInsurances()}}]),c}(p.a)).\u0275fac=function(e){return new(e||ue)(v.Rb(V.g),v.Rb(d.a),v.Rb(Q.a),v.Rb(z.b))},ue.\u0275cmp=v.Lb({type:ue,selectors:[["app-payers-list"]],features:[v.Ab],decls:58,vars:13,consts:[[1,"container"],["nz-row",""],["nz-col","","nzOffset","16","nzSpan","4"],["id","convert","nz-button","","nzType","primary","nz-dropdown","",3,"nzDropdownMenu"],["name","down","size","11px","color","var(--neutral-color)"],["menu","nzDropdownMenu"],["nz-menu",""],["nz-menu-item",""],[3,"click"],["nz-col","","nzSpan","4"],["id","payerType"],[3,"ngModel","ngModelChange"],["nzValue","ALL","nzLabel","All"],["nzValue","UNKNOWN","nzLabel","Unknown"],["nzValue","MEDICARE","nzLabel","Medicare"],["nzValue","MEDICARE_ADVANTAGE","nzLabel","Medicare Advantage"],["nzValue","COMMERCIAL","nzLabel","Commercial"],["nzValue","OTHER","nzLabel","Other"],["nzValue","MEDICAID","nzLabel","Medicaid"],["nzValue","GOVERNMENT","nzLabel","Government"],[3,"nzData","nzShowPagination","nzLoading","nzFrontPagination","nzTotal","nzPageIndex","nzWidthConfig","nzQueryParams"],["insurancePayersTable",""],["id","selection-th",3,"nzChecked","nzIndeterminate","nzCheckedChange"],[4,"isAccessAcrossTenantEnabled"],[4,"ngFor","ngForOf"],[3,"nzChecked","nzCheckedChange"],["nzEllipsis","","nz-tooltip","",3,"nzTooltipTitle"],["nzEllipsis",""],[3,"routerLink"],["name","edit"],[4,"ngIf"],["nz-popconfirm","","nzPopconfirmTitle","Are you sure ?","nzPopconfirmPlacement","bottom",3,"nzOnConfirm"],["name","delete"]],template:function(e,n){if(1&e&&(v.Xb(0,"div",0),v.Xb(1,"div",1),v.Xb(2,"div",2),v.Xb(3,"button",3),v.Xc(4," Convert to \xa0 "),v.Sb(5,"app-icons",4),v.Wb(),v.Xb(6,"nz-dropdown-menu",null,5),v.Xb(8,"ul",6),v.Xb(9,"li",7),v.Xb(10,"a",8),v.ec("click",function(){return n.bulkAddPayerType("MEDICARE")}),v.Xc(11,"Medicare"),v.Wb(),v.Wb(),v.Xb(12,"li",7),v.Xb(13,"a",8),v.ec("click",function(){return n.bulkAddPayerType("MEDICARE_ADVANTAGE")}),v.Xc(14,"Medicare Advantage"),v.Wb(),v.Wb(),v.Xb(15,"li",7),v.Xb(16,"a",8),v.ec("click",function(){return n.bulkAddPayerType("COMMERCIAL")}),v.Xc(17,"Commercial"),v.Wb(),v.Wb(),v.Xb(18,"li",7),v.Xb(19,"a",8),v.ec("click",function(){return n.bulkAddPayerType("OTHER")}),v.Xc(20,"Other"),v.Wb(),v.Wb(),v.Xb(21,"li",7),v.Xb(22,"a",8),v.ec("click",function(){return n.bulkAddPayerType("MEDICAID")}),v.Xc(23,"Medicaid"),v.Wb(),v.Wb(),v.Xb(24,"li",7),v.Xb(25,"a",8),v.ec("click",function(){return n.bulkAddPayerType("GOVERNMENT")}),v.Xc(26,"Government"),v.Wb(),v.Wb(),v.Wb(),v.Wb(),v.Wb(),v.Xb(27,"div",9),v.Xb(28,"strong",10),v.Xc(29,"Payer Type"),v.Wb(),v.Xb(30,"nz-select",11),v.ec("ngModelChange",function(e){return n.selectedPayerType=e})("ngModelChange",function(){return n.getAllInsurances()}),v.Sb(31,"nz-option",12),v.Sb(32,"nz-option",13),v.Sb(33,"nz-option",14),v.Sb(34,"nz-option",15),v.Sb(35,"nz-option",16),v.Sb(36,"nz-option",17),v.Sb(37,"nz-option",18),v.Sb(38,"nz-option",19),v.Wb(),v.Wb(),v.Wb(),v.Sb(39,"br"),v.Xb(40,"nz-table",20,21),v.ec("nzQueryParams",function(e){return n.onQueryParamsChange(e)}),v.Xb(42,"thead"),v.Xb(43,"tr"),v.Xb(44,"th",22),v.ec("nzCheckedChange",function(e){return n.onAllChecked(e)}),v.Wb(),v.Xb(45,"th"),v.Xc(46,"Payer Name"),v.Wb(),v.Xb(47,"th"),v.Xc(48,"Payer Type"),v.Wb(),v.Xb(49,"th"),v.Xc(50,"CPT Codes"),v.Wb(),v.Xb(51,"th"),v.Xc(52,"EMR Id"),v.Wb(),v.Vc(53,ie,2,0,"th",23),v.Xb(54,"th"),v.Xc(55,"Action"),v.Wb(),v.Wb(),v.Wb(),v.Xb(56,"tbody"),v.Vc(57,le,18,14,"tr",24),v.Wb(),v.Wb(),v.Wb()),2&e){var t=v.Ic(7),a=v.Ic(41);v.Db(3),v.rc("nzDropdownMenu",t),v.Db(27),v.rc("ngModel",n.selectedPayerType),v.Db(10),v.rc("nzData",null==n.insurancePayers?null:n.insurancePayers.content)("nzShowPagination",!0)("nzLoading",n.loading)("nzFrontPagination",!1)("nzTotal",null==n.insurancePayers?null:n.insurancePayers.totalElements)("nzPageIndex",n.pageIndex)("nzWidthConfig",v.xc(12,be)),v.Db(4),v.rc("nzChecked",n.checked)("nzIndeterminate",n.indeterminate),v.Db(13),v.rc("ngForOf",a.data)}},directives:[I.c,I.a,q.a,J.a,ee.a,ne.d,ne.b,T.a,ne.e,te.c,te.e,P.d,l.u,l.x,P.a,N.f,N.n,N.o,N.e,N.l,N.m,ae.a,N.i,o.p,N.j,N.c,U.d,V.j,o.q,M.a],pipes:[o.A,re.a],styles:["#convert[_ngcontent-%COMP%]{float:right;margin-top:30px;margin-right:16px}#payerType[_ngcontent-%COMP%]{float:right;margin-right:10px;margin-top:10px}strong[_ngcontent-%COMP%]{display:block;max-width:30ch}[_nghost-%COMP%]     .ant-checkbox-checked .ant-checkbox-inner:after{transform:rotate(50deg) scale(.7) translate(-50%,-50%)}[_nghost-%COMP%]     .ant-checkbox-inner:after{top:25%;left:15%}[_nghost-%COMP%]     .ant-checkbox-indeterminate .ant-checkbox-inner:after{background-color:unset}app-icons[_ngcontent-%COMP%]{vertical-align:text-top}"]}),ue),pe=c("Ifg2"),he=((se=function(){function n(){e(this,n),this.headersMap=new Map([["Payer Name","name"],["Payer Type","type"],["Supported CPT Codes","serviceCodes"],["Payer EMR Identifier","payerEMRId"],["Plan Id","planId"],["Plan Name","planName"]])}return t(n,[{key:"validateHeaders",value:function(e){var n=this;return e.forEach(function(e,t){Object.keys(e).forEach(function(t){Object.defineProperty(e,n.headersMap.get(t),Object.getOwnPropertyDescriptor(e,t)),delete e[t]}),e.rowId=t}),e}},{key:"validateRows",value:function(e){return e.forEach(function(e,n){Object.keys(e).forEach(function(n){"Null"!==e[n]&&"NULL"!==e[n]&&"null"!==e[n]||(e[n]="")})}),e}}]),n}()).\u0275fac=function(e){return new(e||se)},se.\u0275prov=v.Nb({token:se,factory:se.\u0275fac}),se),fe=c("4RGM"),ye=c("MZxW"),ge=c("D9mS"),ve=c("dRHE");function ze(e,n){if(1&e){var t=v.Yb();v.Xb(0,"nz-card"),v.Xb(1,"div",2),v.Xb(2,"div",3),v.Xb(3,"sub-tenant-select",4),v.ec("onSubTenantSelected",function(e){return v.Lc(t),v.ic().onSubTenantChange(e)}),v.Wb(),v.Wb(),v.Wb(),v.Xb(4,"nz-upload",5),v.Xb(5,"button",6),v.Xc(6," BROWSE / DRAG "),v.Wb(),v.Xb(7,"p"),v.Sb(8,"br"),v.Xc(9),v.jc(10,"translate"),v.Wb(),v.Wb(),v.Sb(11,"br"),v.Wb()}if(2&e){var a=v.ic();v.Db(3),v.rc("showError",a.showToggleError),v.Db(1),v.rc("nzCustomRequest",a.handleUpload)("nzShowButton",!0)("nzShowUploadList",!1),v.Db(5),v.Zc(" ",v.kc(10,5,"COMMON.DRAG_AND_UPLOAD")," ")}}function me(e,n){if(1&e){var t=v.Yb();v.Vb(0),v.Xb(1,"td",13),v.jc(2,"titlecase"),v.Xb(3,"strong"),v.Xc(4),v.jc(5,"titlecase"),v.Wb(),v.Wb(),v.Xb(6,"td",13),v.jc(7,"titlecase"),v.Xc(8),v.jc(9,"titlecase"),v.Wb(),v.Xb(10,"td",13),v.Xc(11),v.Wb(),v.Xb(12,"td",13),v.Xc(13),v.Wb(),v.Xb(14,"td",13),v.Xc(15),v.Wb(),v.Xb(16,"td",13),v.Xc(17),v.Wb(),v.Xb(18,"td"),v.Xb(19,"a",14),v.ec("click",function(){v.Lc(t);var e=v.ic().$implicit;return v.ic(2).startEdit(e.rowId)}),v.Sb(20,"app-icons",15),v.Wb(),v.Xc(21," \xa0\xa0 "),v.Xb(22,"a",16),v.ec("nzOnConfirm",function(){v.Lc(t);var e=v.ic().$implicit;return v.ic(2).deleteRow(e.rowId)}),v.Sb(23,"app-icons",17),v.Wb(),v.Wb(),v.Ub()}if(2&e){var a=v.ic().$implicit,r=v.ic(2);v.Db(1),v.rc("nzTooltipTitle",v.kc(2,12,null==a?null:a.name)),v.Db(3),v.Yc(v.kc(5,14,null==a?null:a.name)),v.Db(2),v.rc("nzTooltipTitle",v.kc(7,16,null==a?null:a.planName)),v.Db(2),v.Zc(" ",v.kc(9,18,null==a?null:a.planName)," "),v.Db(2),v.rc("nzTooltipTitle",null==a?null:a.planId),v.Db(1),v.Zc(" ",null==a?null:a.planId," "),v.Db(1),v.rc("nzTooltipTitle",null==r.payerTypeMap?null:r.payerTypeMap.get(null==a?null:a.type)),v.Db(1),v.Zc(" ",null==r.payerTypeMap?null:r.payerTypeMap.get(null==a?null:a.type)," "),v.Db(1),v.rc("nzTooltipTitle",null==a?null:a.serviceCodes),v.Db(1),v.Zc(" ",null==a?null:a.serviceCodes," "),v.Db(1),v.rc("nzTooltipTitle",null==a?null:a.payerEMRId),v.Db(1),v.Zc(" ",null==a?null:a.payerEMRId," ")}}function Ie(e,n){if(1&e){var t=v.Yb();v.Xb(0,"td"),v.Xb(1,"input",18),v.ec("ngModelChange",function(e){v.Lc(t);var n=v.ic().$implicit;return v.ic(2).editCache[n.rowId].element.name=e}),v.Wb(),v.Wb(),v.Xb(2,"td"),v.Xb(3,"input",18),v.ec("ngModelChange",function(e){v.Lc(t);var n=v.ic().$implicit;return v.ic(2).editCache[n.rowId].element.planName=e}),v.Wb(),v.Wb(),v.Xb(4,"td"),v.Xb(5,"input",18),v.ec("ngModelChange",function(e){v.Lc(t);var n=v.ic().$implicit;return v.ic(2).editCache[n.rowId].element.planId=e}),v.Wb(),v.Wb(),v.Xb(6,"td"),v.Xb(7,"input",18),v.ec("ngModelChange",function(e){v.Lc(t);var n=v.ic().$implicit;return v.ic(2).editCache[n.rowId].element.type=e}),v.Wb(),v.Wb(),v.Xb(8,"td"),v.Xb(9,"input",18),v.ec("ngModelChange",function(e){v.Lc(t);var n=v.ic().$implicit;return v.ic(2).editCache[n.rowId].element.serviceCodes=e}),v.Wb(),v.Wb(),v.Xb(10,"td"),v.Xb(11,"input",18),v.ec("ngModelChange",function(e){v.Lc(t);var n=v.ic().$implicit;return v.ic(2).editCache[n.rowId].element.payerEMRId=e}),v.Wb(),v.Wb(),v.Xb(12,"td"),v.Xb(13,"a",19),v.ec("click",function(){v.Lc(t);var e=v.ic().$implicit;return v.ic(2).saveEdit(e.rowId)}),v.Xc(14,"Save"),v.Wb(),v.Wb()}if(2&e){var a=v.ic().$implicit,r=v.ic(2);v.Db(1),v.rc("ngModel",r.editCache[a.rowId].element.name),v.Db(2),v.rc("ngModel",r.editCache[a.rowId].element.planName),v.Db(2),v.rc("ngModel",r.editCache[a.rowId].element.planId),v.Db(2),v.rc("ngModel",r.editCache[a.rowId].element.type),v.Db(2),v.rc("ngModel",r.editCache[a.rowId].element.serviceCodes),v.Db(2),v.rc("ngModel",r.editCache[a.rowId].element.payerEMRId)}}var Pe=function(e){return{danger:e}};function Xe(e,n){if(1&e&&(v.Vb(0),v.Xb(1,"tr",10),v.Vc(2,me,24,20,"ng-container",11),v.Vc(3,Ie,15,6,"ng-template",null,12,v.Wc),v.Wb(),v.Ub()),2&e){var t=n.$implicit,a=v.Ic(4),r=v.ic(2);v.Db(1),v.rc("ngClass",v.yc(3,Pe,r.errors.hasOwnProperty(null==t?null:t.rowId))),v.Db(1),v.rc("ngIf",!r.editCache[t.rowId].edit)("ngIfElse",a)}}var Ce=function(){return[50,100,150,200]},Te=function(){return["20%","20%","10%","10%","10%","10%","10%"]};function Me(e,n){if(1&e&&(v.Vb(0),v.Xb(1,"nz-table",7,8),v.Xb(3,"thead"),v.Xb(4,"tr"),v.Xb(5,"th"),v.Xc(6,"Payer Name"),v.Wb(),v.Xb(7,"th"),v.Xc(8,"Plan Name"),v.Wb(),v.Xb(9,"th"),v.Xc(10,"Plan Id"),v.Wb(),v.Xb(11,"th"),v.Xc(12,"Payer Type"),v.Wb(),v.Xb(13,"th"),v.Xc(14,"CPT Codes"),v.Wb(),v.Xb(15,"th"),v.Xc(16,"EMR Id"),v.Wb(),v.Xb(17,"th"),v.Xc(18,"Action"),v.Wb(),v.Wb(),v.Wb(),v.Xb(19,"tbody"),v.Vc(20,Xe,5,5,"ng-container",9),v.Wb(),v.Wb(),v.Ub()),2&e){var t=v.Ic(2),a=v.ic();v.Db(1),v.rc("nzData",a.data)("nzPageSize",10)("nzPageSizeOptions",v.xc(5,Ce))("nzWidthConfig",v.xc(6,Te)),v.Db(19),v.rc("ngForOf",t.data)}}var Se,ke,We,Ae=[{path:"",component:de,pathMatch:"full",data:K.Listing,canActivate:[Z.a,Y.a]},{path:"bulk-upload",component:(Se=function(n){a(c,n);var r=i(c);function c(n,t,a,i,o){var l;return e(this,c),(l=r.call(this))._xlsxParserService=n,l._insurancePayerXlsxValidator=t,l._insuranceService=a,l._router=i,l._notificationsService=o,l.expandSet=new Set,l.editCache={},l.handleUpload=function(e){var n=new FileReader;l.showToggleError||(n.onload=function(){var e=l._xlsxParserService.parse(n);try{l.data=l._insurancePayerXlsxValidator.validateHeaders(e[Object.keys(e)[0]]),l.data=l._insurancePayerXlsxValidator.validateRows(e[Object.keys(e)[0]])}catch(t){return void l._notificationsService.error("Bulk Upload","Error while reading file headers!")}l.updateEditCache(),l.bulkUploadVisible=!1},n.readAsBinaryString(e.file))},l.bulkUploadVisible=!0,l.errors=new Map,l.payerTypeMap=new Map([["0","Unknown"],["1","Medicare"],["2","Medicare Advantage"],["3","Commercial"],["4","Other"],["5","Medicaid"],["6","Government"]]),l._routeHelperService.isPrimaryActionTriggered().pipe(Object(h.a)(function(e){return!!e}),Object(f.a)(l.unsubscribed)).subscribe(function(){return l.validateAndSave()}),l._routeHelperService.isSecondaryActionTriggered().pipe(Object(h.a)(function(e){return!!e}),Object(f.a)(l.unsubscribed)).subscribe(function(){return l.downloadTemplate()}),l}return t(c,[{key:"onSubTenantChange",value:function(e){"object"==typeof e&&""!=e&&null!=e&&null!=e?(localStorage.setItem(fe.a.REQUEST_TENANT_IDS,e),this.subTenantId=e,this.showToggleError=!1):(this.subTenantId=null,this.showToggleError=!0)}},{key:"onExpandChange",value:function(e,n){n?this.expandSet.add(e):this.expandSet.delete(e)}},{key:"startEdit",value:function(e){this.editCache[e].edit=!0}},{key:"saveEdit",value:function(e){var n=this.data.findIndex(function(n){return n.rowId===e});Object.assign(this.data[n],this.editCache[e].element),this.editCache[e].edit=!1}},{key:"deleteRow",value:function(e){this.data=this.data.filter(function(n){return n.rowId!==e})}},{key:"updateEditCache",value:function(){var e=this;this.data.forEach(function(n){e.editCache[n.rowId]={edit:!1,element:Object.assign({},n)}})}},{key:"validateAndSave",value:function(){var e=this;this._insuranceService.bulkUploadInsurancePayers(this.data).subscribe(function(){e._notificationsService.success("Bulk Upload","Insurance payers uploaded successfully!"),e._router.navigate(["insurance-payers"])})}},{key:"downloadTemplate",value:function(){window.open("https://api.cooeyhealth.com/v1/assets/download/?filename=insurance-payer-bulk-upload-template.xlsx","_blank")}}]),c}(p.a),Se.\u0275fac=function(e){return new(e||Se)(v.Rb(pe.a),v.Rb(he),v.Rb(d.a),v.Rb(V.g),v.Rb(z.b))},Se.\u0275cmp=v.Lb({type:Se,selectors:[["app-payers-list-upload"]],features:[v.Cb([pe.a,he]),v.Ab],decls:3,vars:2,consts:[[1,"container"],[4,"ngIf"],["nz-row","","nzGutter","64"],["nz-col","","nzSpan","6","nzOffset","18"],["mode","SINGLE",3,"showError","onSubTenantSelected"],["nzType","drag","nzAccept",".xlsx",3,"nzCustomRequest","nzShowButton","nzShowUploadList"],["nz-button","","nzType","primary","nzSize","large"],["nzShowPagination","true",3,"nzData","nzPageSize","nzPageSizeOptions","nzWidthConfig"],["editRowTable",""],[4,"ngFor","ngForOf"],[3,"ngClass"],[4,"ngIf","ngIfElse"],["editTemplate",""],["nzEllipsis","","nz-tooltip","",3,"nzTooltipTitle"],[3,"click"],["strokeWidth","4px","name","edit"],["nz-popconfirm","","nzPopconfirmTitle","Are you sure?",3,"nzOnConfirm"],["name","delete"],["type","text","nz-input","",3,"ngModel","ngModelChange"],[1,"save",3,"click"]],template:function(e,n){1&e&&(v.Xb(0,"div",0),v.Vc(1,ze,12,7,"nz-card",1),v.Vc(2,Me,21,7,"ng-container",1),v.Wb()),2&e&&(v.Db(1),v.rc("ngIf",n.bulkUploadVisible),v.Db(1),v.rc("ngIf",!n.bulkUploadVisible))},directives:[o.q,m.a,I.c,I.a,ye.a,ge.a,q.a,J.a,ee.a,N.f,N.n,N.o,N.e,N.l,N.i,o.p,o.o,N.c,U.d,T.a,M.a,x.b,l.d,l.u,l.x],pipes:[ve.a,o.A],styles:[""]}),Se),pathMatch:"full",data:K.BulkUpload,canActivate:[Z.a,Y.a]},{path:"tier-labeling",component:L,pathMatch:"full",data:K.TierLabeling,canActivate:[Z.a,Y.a]},{path:":id",component:B,pathMatch:"full",data:K.Form,canActivate:[Z.a,Y.a]}],De=((ke=function n(){e(this,n)}).\u0275mod=v.Pb({type:ke}),ke.\u0275inj=v.Ob({factory:function(e){return new(e||ke)},imports:[[V.k.forChild(Ae)],V.k]}),ke),Ee=c("WoUL"),Oe=((We=function n(t){e(this,n),this.translationService=t,t.setLanguage()}).\u0275mod=v.Pb({type:We}),We.\u0275inj=v.Ob({factory:function(e){return new(e||We)(v.bc(Ee.a))},imports:[[u.a,b.a,o.c,De,l.o,l.B,s.a.forRoot()]]}),We)},iCh7:function(n,a,r){"use strict";r.d(a,"a",function(){return l}),r("OCRN");var i=r("tk/3"),c=r("AytR"),o=r("fXoL"),l=function(){var n=function(){function n(t){e(this,n),this._http=t,this.rootURL=c.g.url}return t(n,[{key:"fetchAllInsurancePayers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r="".concat(this.rootURL,"/v3/insurance/payers"),c={pageNumber:e,limit:n,searchKey:t,type:a},o=new i.h;return Object.keys(c).forEach(function(e){return c[e]&&(o=o.append(e,c[e]))}),this._http.get(r,{params:o})}},{key:"fetchAllInsurancePlans",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,t=arguments.length>2?arguments[2]:void 0,a="".concat(this.rootURL,"/v3/insurance/plans"),r={pageNumber:e,limit:n,searchKey:t},c=new i.h;return Object.keys(r).forEach(function(e){return r[e]&&(c=c.append(e,r[e]))}),this._http.get(a,{params:c})}},{key:"fetchInsurancePlansForPayer",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3?arguments[3]:void 0,r="".concat(this.rootURL,"/v3/insurance/payers/").concat(e,"/plans"),c={pageNumber:n,limit:t,searchKey:a},o=new i.h;return Object.keys(c).forEach(function(e){return c[e]&&(o=o.append(e,c[e]))}),this._http.get(r,{params:o})}},{key:"bulkUploadInsurancePayers",value:function(e){return this._http.post("".concat(this.rootURL,"/v3/insurance/payers/bulk-upload/json"),e)}},{key:"fetchInsurancePayerById",value:function(e){return this._http.get("".concat(this.rootURL,"/v3/insurance/payers/").concat(e))}},{key:"updateInsurancePayer",value:function(e){return this._http.put("".concat(this.rootURL,"/v3/insurance/payers"),e)}},{key:"updateInsurancePayerTypeInBulk",value:function(e){return this._http.put("".concat(this.rootURL,"/v3/insurance/payers/bulk"),e)}},{key:"deleteInsurancePayer",value:function(e){return this._http.delete("".concat(this.rootURL,"/v3/insurance/payers/").concat(e))}},{key:"deleteInsurancePlan",value:function(e){return this._http.delete("".concat(this.rootURL,"/v3/insurance/plans/").concat(e))}},{key:"fetchInsuranceTierRules",value:function(){return this._http.get("".concat(this.rootURL,"/v3/insurance/tier-rules"))}},{key:"saveInsuranceTierRules",value:function(e){return this._http.post("".concat(this.rootURL,"/v3/insurance/tier-rules"),e)}},{key:"applyInsuranceTierRules",value:function(){return this._http.put("".concat(this.rootURL,"/v3/insurance/tier-rules/apply"),{})}},{key:"applyInsuranceTierRulesToLead",value:function(e){return this._http.put("".concat(this.rootURL,"/v3/insurance/tier-rules/apply/lead/").concat(e),{})}},{key:"applyInsuranceTierRulesToPatient",value:function(e){return this._http.put("".concat(this.rootURL,"/v3/insurance/tier-rules/apply/patient/").concat(e),{})}}]),n}();return n.\u0275fac=function(e){return new(e||n)(o.bc(i.c))},n.\u0275prov=o.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n}()}}])}();